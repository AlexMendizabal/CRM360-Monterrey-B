(window.webpackJsonp=window.webpackJsonp||[]).push([[199],{KLQb:function(l,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return a}));var o=e("8Y7J"),r=(e("UOde"),o["\u0275crt"]({encapsulation:0,styles:[["loader-spinner-navbar{right:295px;position:absolute;top:14px;z-index:1092}  loader-spinner-navbar .spinner-border{color:hsla(0,0%,100%,.75);border-width:.2rem;width:20px;height:20px}"]],data:{}}));function a(l){return o["\u0275vid"](0,[(l()(),o["\u0275eld"](0,0,null,null,2,"div",[["class","spinner-border"],["role","status"]],null,null,null,null,null)),(l()(),o["\u0275eld"](1,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["Loading..."]))],null,null)}},UOde:function(l,n,e){"use strict";e.d(n,"a",(function(){return o}));class o{constructor(){}ngOnInit(){}}},iMgG:function(l,n,e){"use strict";e.d(n,"a",(function(){return r}));var o=e("8Y7J");let r=(()=>{class l{canDeactivate(l,n,e){return l.formCanDeactivate()}}return l.\u0275prov=o["\u0275\u0275defineInjectable"]({factory:function(){return new l},token:l,providedIn:"root"}),l})()},mDRy:function(l,n,e){"use strict";e.r(n),e.d(n,"ComercialGestaoAssociacioesCoordenadoresEscritoriosModuleNgFactory",(function(){return j}));var o=e("8Y7J");class r{}var a=e("pMnS"),u=e("1AWn"),t=e("KLQb"),i=e("UOde"),s=e("Eae9"),d=e("cuJr"),c=e("s7LF"),m=e("MJJn"),p=e("wTG2"),g=e("SVse"),v=e("mvBb"),f=e("/25D"),h=e("0vPL"),b=e("KDPy"),C=e("g+W+"),S=e("fMkk"),T=e("0PD5"),y=e("dNnS");class F{constructor(l,n,e,o,r,a,u){this.activatedRoute=l,this.location=n,this.coordenadoresEscritoriosService=e,this.formBuilder=o,this.pnotifyService=r,this.atividadesService=a,this.titleService=u,this.loaderFullScreen=!0,this.loaderNavbar=!1,this.breadCrumbTree=[],this.formChanged=!1,this.coordenadores=[],this.escritorios=[],this.pnotifyService.getPNotify()}ngOnInit(){this.registrarAcesso(),this.setBreadCrumb(),this.getFormFields(),this.titleService.setTitle("Associa\xe7\xe3o de coordenadores e escrit\xf3rios")}registrarAcesso(){this.atividadesService.registrarAcesso().subscribe()}setBreadCrumb(){this.activatedRoute.params.subscribe(l=>{this.breadCrumbTree=[{descricao:"Home",routerLink:"/comercial/home"},{descricao:"Gest\xe3o",routerLink:"/comercial/gestao/"+l.idSubModulo},{descricao:"Associa\xe7\xe3o de coordenadores e escrit\xf3rios"}]})}getFormFields(){this.coordenadoresEscritoriosService.getListaCoordenadoresEscritorios().subscribe({next:l=>{200===l.responseCode?(this.coordenadores=l.result.coordenadores,this.escritorios=l.result.escritorios,this.setFormBuilder()):(this.pnotifyService.error(),this.location.back())},error:l=>{this.pnotifyService.error(),this.location.back()}})}setFormBuilder(){this.form=this.formBuilder.group({coordenador:[null,[c.Validators.required]],escritorios:[null,[c.Validators.required]]}),this.loaderFullScreen=!1}onChange(){for(let l=0;l<this.coordenadores.length;l++)this.coordenadores[l].matricula==this.form.value.coordenador&&(null==this.coordenadores[l].escritorios[0]?this.form.value.escritorios=null:this.form.get("escritorios").setValue(this.coordenadores[l].escritorios),this.formChanged=!0)}formCanDeactivate(){return!this.formChanged||!!confirm("Este cliente no forma parte de tu cartera?")}onSubmit(){this.form.value.coordenador&&(this.loaderNavbar=!0,null!=this.form.value.escritorios&&""!=this.form.value.escritorios||(this.form.value.escritorios={0:0}),this.coordenadoresEscritoriosService.putAssociacaoCoordenadorEscritorio(this.form.value).subscribe(l=>{200===l.responseCode?(this.pnotifyService.success(),this.getFormFields(),this.loaderNavbar=!1,this.loaderFullScreen=!0,this.formChanged=!1,this.form.get("coordenador").setValue(null),this.form.get("escritorios").setValue(null)):(this.pnotifyService.error(),this.loaderNavbar=!1)}))}}var _=e("iInd"),N=o["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function q(l){return o["\u0275vid"](0,[(l()(),o["\u0275eld"](0,0,null,null,1,"loader-spinner-navbar",[],null,null,null,t.b,t.a)),o["\u0275did"](1,114688,null,0,i.a,[],null,null)],(function(l,n){l(n,1,0)}),null)}function L(l){return o["\u0275vid"](0,[(l()(),o["\u0275eld"](0,0,null,null,1,"loader-spinner-full-screen",[],null,null,null,s.b,s.a)),o["\u0275did"](1,114688,null,0,d.a,[],null,null)],(function(l,n){l(n,1,0)}),null)}function I(l){return o["\u0275vid"](0,[(l()(),o["\u0275eld"](0,0,null,null,52,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(l()(),o["\u0275eld"](1,0,null,null,51,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),o["\u0275eld"](2,0,null,null,50,"form",[["autocomplete","off"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var r=!0;return"submit"===n&&(r=!1!==o["\u0275nov"](l,4).onSubmit(e)&&r),"reset"===n&&(r=!1!==o["\u0275nov"](l,4).onReset()&&r),r}),null,null)),o["\u0275did"](3,16384,null,0,c["\u0275angular_packages_forms_forms_y"],[],null,null),o["\u0275did"](4,540672,null,0,c.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),o["\u0275prd"](2048,null,c.ControlContainer,null,[c.FormGroupDirective]),o["\u0275did"](6,16384,null,0,c.NgControlStatusGroup,[[4,c.ControlContainer]],null,null),(l()(),o["\u0275eld"](7,0,null,null,22,"div",[["class","form-row"]],null,null,null,null,null)),(l()(),o["\u0275eld"](8,0,null,null,21,"div",[["class","form-group col"]],null,null,null,null,null)),(l()(),o["\u0275eld"](9,0,null,null,1,"label",[["for","coordenador"]],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["Coordenador"])),(l()(),o["\u0275eld"](11,0,null,null,18,"ng-select",[["bindLabel","nome"],["bindValue","matricula"],["formControlName","coordenador"],["labelForId","coordenador"],["role","listbox"]],[[2,"ng-select",null],[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"keydown"]],(function(l,n,e){var r=!0,a=l.component;return"keydown"===n&&(r=!1!==o["\u0275nov"](l,13).handleKeyDown(e)&&r),"change"===n&&(r=!1!==a.onChange()&&r),r}),m.c,m.a)),o["\u0275prd"](4608,null,p.f,p.f,[]),o["\u0275did"](13,4964352,null,12,p.a,[[8,null],[8,null],p.b,p.d,o.ElementRef,o.ChangeDetectorRef,p.o],{bindLabel:[0,"bindLabel"],bindValue:[1,"bindValue"],labelForId:[2,"labelForId"],items:[3,"items"]},{changeEvent:"change"}),o["\u0275qud"](603979776,1,{optionTemplate:0}),o["\u0275qud"](603979776,2,{optgroupTemplate:0}),o["\u0275qud"](603979776,3,{labelTemplate:0}),o["\u0275qud"](603979776,4,{multiLabelTemplate:0}),o["\u0275qud"](603979776,5,{headerTemplate:0}),o["\u0275qud"](603979776,6,{footerTemplate:0}),o["\u0275qud"](603979776,7,{notFoundTemplate:0}),o["\u0275qud"](603979776,8,{typeToSearchTemplate:0}),o["\u0275qud"](603979776,9,{loadingTextTemplate:0}),o["\u0275qud"](603979776,10,{tagTemplate:0}),o["\u0275qud"](603979776,11,{loadingSpinnerTemplate:0}),o["\u0275qud"](603979776,12,{ngOptions:1}),o["\u0275prd"](1024,null,c.NG_VALUE_ACCESSOR,(function(l){return[l]}),[p.a]),o["\u0275did"](27,671744,null,0,c.FormControlName,[[3,c.ControlContainer],[8,null],[8,null],[6,c.NG_VALUE_ACCESSOR],[2,c["\u0275angular_packages_forms_forms_p"]]],{name:[0,"name"]},null),o["\u0275prd"](2048,null,c.NgControl,null,[c.FormControlName]),o["\u0275did"](29,16384,null,0,c.NgControlStatus,[[4,c.NgControl]],null,null),(l()(),o["\u0275eld"](30,0,null,null,22,"div",[["class","form-row"]],null,null,null,null,null)),(l()(),o["\u0275eld"](31,0,null,null,21,"div",[["class","form-group col"]],null,null,null,null,null)),(l()(),o["\u0275eld"](32,0,null,null,1,"label",[["for","escritorios"]],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["Escrit\xf3rios"])),(l()(),o["\u0275eld"](34,0,null,null,18,"ng-select",[["bindLabel","descricao"],["bindValue","id"],["formControlName","escritorios"],["labelForId","escritorios"],["role","listbox"]],[[2,"ng-select",null],[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],(function(l,n,e){var r=!0;return"keydown"===n&&(r=!1!==o["\u0275nov"](l,36).handleKeyDown(e)&&r),r}),m.c,m.a)),o["\u0275prd"](4608,null,p.f,p.f,[]),o["\u0275did"](36,4964352,null,12,p.a,[[8,null],[8,null],p.b,p.d,o.ElementRef,o.ChangeDetectorRef,p.o],{bindLabel:[0,"bindLabel"],bindValue:[1,"bindValue"],closeOnSelect:[2,"closeOnSelect"],labelForId:[3,"labelForId"],multiple:[4,"multiple"],items:[5,"items"]},null),o["\u0275qud"](603979776,13,{optionTemplate:0}),o["\u0275qud"](603979776,14,{optgroupTemplate:0}),o["\u0275qud"](603979776,15,{labelTemplate:0}),o["\u0275qud"](603979776,16,{multiLabelTemplate:0}),o["\u0275qud"](603979776,17,{headerTemplate:0}),o["\u0275qud"](603979776,18,{footerTemplate:0}),o["\u0275qud"](603979776,19,{notFoundTemplate:0}),o["\u0275qud"](603979776,20,{typeToSearchTemplate:0}),o["\u0275qud"](603979776,21,{loadingTextTemplate:0}),o["\u0275qud"](603979776,22,{tagTemplate:0}),o["\u0275qud"](603979776,23,{loadingSpinnerTemplate:0}),o["\u0275qud"](603979776,24,{ngOptions:1}),o["\u0275prd"](1024,null,c.NG_VALUE_ACCESSOR,(function(l){return[l]}),[p.a]),o["\u0275did"](50,671744,null,0,c.FormControlName,[[3,c.ControlContainer],[8,null],[8,null],[6,c.NG_VALUE_ACCESSOR],[2,c["\u0275angular_packages_forms_forms_p"]]],{name:[0,"name"]},null),o["\u0275prd"](2048,null,c.NgControl,null,[c.FormControlName]),o["\u0275did"](52,16384,null,0,c.NgControlStatus,[[4,c.NgControl]],null,null)],(function(l,n){var e=n.component;l(n,4,0,e.form),l(n,13,0,"nome","matricula","coordenador",e.coordenadores),l(n,27,0,"coordenador"),l(n,36,0,"descricao","id",!1,"escritorios",!0,e.escritorios),l(n,50,0,"escritorios")}),(function(l,n){l(n,2,0,o["\u0275nov"](n,6).ngClassUntouched,o["\u0275nov"](n,6).ngClassTouched,o["\u0275nov"](n,6).ngClassPristine,o["\u0275nov"](n,6).ngClassDirty,o["\u0275nov"](n,6).ngClassValid,o["\u0275nov"](n,6).ngClassInvalid,o["\u0275nov"](n,6).ngClassPending),l(n,11,1,[o["\u0275nov"](n,13).useDefaultClass,!o["\u0275nov"](n,13).multiple,o["\u0275nov"](n,13).typeahead,o["\u0275nov"](n,13).multiple,o["\u0275nov"](n,13).addTag,o["\u0275nov"](n,13).searchable,o["\u0275nov"](n,13).clearable,o["\u0275nov"](n,13).isOpen,o["\u0275nov"](n,13).disabled,o["\u0275nov"](n,13).filtered,o["\u0275nov"](n,29).ngClassUntouched,o["\u0275nov"](n,29).ngClassTouched,o["\u0275nov"](n,29).ngClassPristine,o["\u0275nov"](n,29).ngClassDirty,o["\u0275nov"](n,29).ngClassValid,o["\u0275nov"](n,29).ngClassInvalid,o["\u0275nov"](n,29).ngClassPending]),l(n,34,1,[o["\u0275nov"](n,36).useDefaultClass,!o["\u0275nov"](n,36).multiple,o["\u0275nov"](n,36).typeahead,o["\u0275nov"](n,36).multiple,o["\u0275nov"](n,36).addTag,o["\u0275nov"](n,36).searchable,o["\u0275nov"](n,36).clearable,o["\u0275nov"](n,36).isOpen,o["\u0275nov"](n,36).disabled,o["\u0275nov"](n,36).filtered,o["\u0275nov"](n,52).ngClassUntouched,o["\u0275nov"](n,52).ngClassTouched,o["\u0275nov"](n,52).ngClassPristine,o["\u0275nov"](n,52).ngClassDirty,o["\u0275nov"](n,52).ngClassValid,o["\u0275nov"](n,52).ngClassInvalid,o["\u0275nov"](n,52).ngClassPending])}))}function R(l){return o["\u0275vid"](0,[(l()(),o["\u0275and"](16777216,null,null,1,null,q)),o["\u0275did"](1,16384,null,0,g.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),o["\u0275and"](16777216,null,null,1,null,L)),o["\u0275did"](3,16384,null,0,g.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),o["\u0275eld"](4,0,null,null,3,"app-header",[["appTitle","Associa\xe7\xe3o de coordenadores e escrit\xf3rios"]],null,null,null,v.b,v.a)),o["\u0275did"](5,114688,null,0,f.a,[],{appTitle:[0,"appTitle"]},null),(l()(),o["\u0275eld"](6,0,null,0,1,"button",[["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var o=!0;return"click"===n&&(o=!1!==l.component.onSubmit()&&o),o}),null,null)),(l()(),o["\u0275ted"](-1,null,[" Salvar "])),(l()(),o["\u0275eld"](8,0,null,null,3,"app-body",[],null,null,null,h.b,h.a)),o["\u0275did"](9,114688,null,0,b.a,[],{breadCrumbTree:[0,"breadCrumbTree"]},null),(l()(),o["\u0275and"](16777216,null,0,1,null,I)),o["\u0275did"](11,16384,null,0,g.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,1,0,e.loaderNavbar),l(n,3,0,e.loaderFullScreen),l(n,5,0,"Associa\xe7\xe3o de coordenadores e escrit\xf3rios"),l(n,9,0,e.breadCrumbTree),l(n,11,0,!e.loaderFullScreen)}),(function(l,n){l(n,6,0,n.component.loaderNavbar)}))}function V(l){return o["\u0275vid"](0,[(l()(),o["\u0275eld"](0,0,null,null,1,"comercial-gestao-associacoes-coordenadores-escritorios-formulario",[],null,null,null,R,N)),o["\u0275did"](1,114688,null,0,F,[_.a,g.Location,S.a,c.FormBuilder,C.a,T.a,y.a],null,null)],(function(l,n){l(n,1,0)}),null)}var E=o["\u0275ccf"]("comercial-gestao-associacoes-coordenadores-escritorios-formulario",F,V,{},{},[]),k=e("TSLY"),w=e("XTVK"),D=e("ITC6"),A=e("cUpR"),M=e("ciPE"),O=e("EZ6S"),G=e("gJda"),P=e("bNMV"),U=e("qrKy"),x=e("09oW"),B=e("9Xeq"),J=e("TSSN"),K=e("UKGz"),z=e("7++P"),Y=e("QdM9"),Q=e("iMgG");class W{}var j=o["\u0275cmf"](r,[],(function(l){return o["\u0275mod"]([o["\u0275mpd"](512,o.ComponentFactoryResolver,o["\u0275CodegenComponentFactoryResolver"],[[8,[a.a,u.a,E]],[3,o.ComponentFactoryResolver],o.NgModuleRef]),o["\u0275mpd"](4608,g.NgLocalization,g.NgLocaleLocalization,[o.LOCALE_ID]),o["\u0275mpd"](4608,c["\u0275angular_packages_forms_forms_n"],c["\u0275angular_packages_forms_forms_n"],[]),o["\u0275mpd"](4608,c.FormBuilder,c.FormBuilder,[]),o["\u0275mpd"](4608,k.a,k.a,[]),o["\u0275mpd"](4608,w.a,w.a,[]),o["\u0275mpd"](4608,D.a,D.a,[A.DomSanitizer]),o["\u0275mpd"](4608,M.a,M.a,[]),o["\u0275mpd"](4608,O.a,O.a,[]),o["\u0275mpd"](4608,G.a,G.a,[]),o["\u0275mpd"](4608,P.a,P.a,[]),o["\u0275mpd"](4608,U.a,U.a,[]),o["\u0275mpd"](4608,x.a,x.a,[]),o["\u0275mpd"](1073742336,g.CommonModule,g.CommonModule,[]),o["\u0275mpd"](1073742336,c["\u0275angular_packages_forms_forms_d"],c["\u0275angular_packages_forms_forms_d"],[]),o["\u0275mpd"](1073742336,c.FormsModule,c.FormsModule,[]),o["\u0275mpd"](1073742336,c.ReactiveFormsModule,c.ReactiveFormsModule,[]),o["\u0275mpd"](1073742336,p.c,p.c,[]),o["\u0275mpd"](1073742336,_.s,_.s,[[2,_.x],[2,_.o]]),o["\u0275mpd"](1073742336,B.a,B.a,[]),o["\u0275mpd"](1073742336,J.h,J.h,[]),o["\u0275mpd"](1073742336,K.a,K.a,[]),o["\u0275mpd"](1073742336,z.CountoModule,z.CountoModule,[]),o["\u0275mpd"](1073742336,Y.a,Y.a,[]),o["\u0275mpd"](1073742336,W,W,[]),o["\u0275mpd"](1073742336,r,r,[]),o["\u0275mpd"](256,p.d,p.e,[]),o["\u0275mpd"](1024,_.m,(function(){return[[{path:"",component:F,canDeactivate:[Q.a]}]]}),[])])}))}}]);