{"version":3,"sources":["./src/app/modules/comercial/ciclo-vendas/cotacoes/formulario/guards/data-resolver.guard.ts","./src/app/modules/comercial/ciclo-vendas/cotacoes/formulario/guards/profile-resolver.guard.ts","./src/app/modules/comercial/ciclo-vendas/cotacoes/cotacoes.module.ts","./src/app/modules/comercial/ciclo-vendas/cotacoes/formulario/guards/permissoes-resolver.guard.ts","./src/app/modules/comercial/ciclo-vendas/cotacoes/lista/guards/profile-resolver.guard.ts","./src/app/modules/comercial/ciclo-vendas/cotacoes/formulario/guards/cliente-resolver.guard.ts","./src/app/modules/comercial/ciclo-vendas/cotacoes/cotacoes-routing.module.ts","./src/app/modules/comercial/ciclo-vendas/cotacoes/lista/guards/finalizacao-resolver.guard.ts"],"names":[],"mappings":"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","file":"cotacoes-cotacoes-module-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Resolve } from '@angular/router';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n// Services\r\nimport { ComercialCicloVendasCotacoesService } from '../../cotacoes.service';\r\nimport { AuthService } from 'src/app/shared/services/core/auth.service';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasCotacoesFormularioDataResolverGuard\r\n  implements Resolve<any> {\r\n  user: any;\r\n\r\n  constructor(\r\n    private cotacoesService: ComercialCicloVendasCotacoesService,\r\n    private authService: AuthService,\r\n    private dateService: DateService\r\n  ) {\r\n    this.user = this.authService.getCurrentUser().info;\r\n  }\r\n\r\n  resolve(route: ActivatedRouteSnapshot): Observable<Object | JsonResponse> {\r\n    if (route.params && route.params.codCotacao) {\r\n      return this.cotacoesService.getCotacao(\r\n        route.params.codCotacao,\r\n        route.params.idEmpresa\r\n      );\r\n    }\r\n\r\n    // É implementado o método \"of\" para manter a tipagem de retorno com Observable.\r\n    return of({\r\n      success: true,\r\n      mensagem: null,\r\n      data: {\r\n        codVendedor: 88,\r\n        nomeVendedor: 'TIETE CC - LILIANE BUENO',\r\n        /* codVendedor: this.user.idVendedor,\r\n        nomeVendedor: this.user.nomeAbreviado || this.user.nomeCompleto, */\r\n        tipoCotacao: 'Cotação',\r\n        codSituacao: null,\r\n        codCliente:\r\n          typeof route.params.codCliente !== 'undefined'\r\n            ? parseInt(route.params.codCliente)\r\n            : null,\r\n        codContato: null,\r\n        codEndereco: null,\r\n        codEmpresa: null,\r\n        codDeposito: null,\r\n        notaFiscalMae: null,\r\n        codFormaPagamento: null,\r\n        duplicatasSomenteCarteira: false,\r\n        dataEntrega: null,\r\n        dataEncerramento: null,\r\n        dataValidade: null,\r\n        dataLancamento: this.dateService.convert2PhpDate(new Date()),\r\n        codFormaContato: null,\r\n        codOrigemContato: null,\r\n        observacoes: null,\r\n        freteConta: null,\r\n        codTransportadora: null,\r\n        dadosAdicionais: null,\r\n        carrinho: [],\r\n      },\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n// Services\r\nimport { ComercialService } from 'src/app/modules/comercial/comercial.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasCotacoesFormularioProfilesResolverGuard\r\n  implements Resolve<any> {\r\n  constructor(private comercialService: ComercialService) {}\r\n\r\n  resolve(): Observable<Object | JsonResponse> {\r\n    return this.comercialService.getPerfil();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n// Modules\r\nimport { ComercialCicloVendasCotacoesRoutingModule } from './cotacoes-routing.module';\r\nimport { ComercialCicloVendasCotacoesListaModule } from './lista/lista.module';\r\nimport { ComercialCicloVendasCotacoesFormularioModule } from './formulario/formulario.module';\r\n\r\n// Interfaces\r\nimport { FormDeactivateGuard } from 'src/app/guards/form-deactivate.guard';\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    ComercialCicloVendasCotacoesRoutingModule,\r\n    ComercialCicloVendasCotacoesListaModule,\r\n    ComercialCicloVendasCotacoesFormularioModule\r\n  ],\r\n  providers: [FormDeactivateGuard],\r\n})\r\nexport class ComercialCicloVendasCotacoesModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n// Services\r\nimport { ComercialCicloVendasCotacoesService } from '../../cotacoes.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasCotacoesFormularioPermissoesResolverGuard\r\n  implements Resolve<any> {\r\n  constructor(private cotacoesService: ComercialCicloVendasCotacoesService) {}\r\n\r\n  resolve(): Observable<Object | JsonResponse> {\r\n    return this.cotacoesService.getPermissoesAcesso();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n// Services\r\nimport { ComercialService } from 'src/app/modules/comercial/comercial.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasCotacoesListaProfilesResolverGuard\r\n  implements Resolve<any> {\r\n  constructor(private comercialService: ComercialService) {}\r\n\r\n  resolve(): Observable<Object | JsonResponse> {\r\n    return this.comercialService.getPerfil();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Resolve } from '@angular/router';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n// Services\r\nimport { ComercialVendedoresService } from 'src/app/modules/comercial/services/vendedores.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasCotacoesFormularioClienteResolverGuard\r\n  implements Resolve<any> {\r\n  constructor(private vendedoresService: ComercialVendedoresService) {}\r\n\r\n  resolve(route: ActivatedRouteSnapshot): Observable<Object | JsonResponse> {\r\n    if (route.params && route.params.codCliente) {\r\n      return this.vendedoresService.getValidaClienteCarteira(\r\n        route.params.codCliente\r\n      );\r\n    }\r\n\r\n    // É implementado o método \"of\" para manter a tipagem de retorno com Observable.\r\n    return of({\r\n      success: true,\r\n      mensagem: null,\r\n      data: {\r\n        podeAcessar: true,\r\n      },\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\n// Guards\r\nimport { FormDeactivateGuard } from 'src/app/guards/form-deactivate.guard';\r\nimport { ComercialCicloVendasCotacoesListaProfilesResolverGuard } from './lista/guards/profile-resolver.guard';\r\nimport { ComercialCicloVendasCotacoesFormularioClienteResolverGuard } from './formulario/guards/cliente-resolver.guard';\r\nimport { ComercialCicloVendasCotacoesFormularioDataResolverGuard } from './formulario/guards/data-resolver.guard';\r\nimport { ComercialCicloVendasCotacoesFormularioPermissoesResolverGuard } from './formulario/guards/permissoes-resolver.guard';\r\nimport { ComercialCicloVendasCotacoesFormularioProfilesResolverGuard } from './formulario/guards/profile-resolver.guard';\r\nimport { ComercialCicloVendasCotacoesListaFinalizacaoResolverGuard } from './lista/guards/finalizacao-resolver.guard';\r\n\r\n// Modules\r\nimport { ComercialCicloVendasCotacoesListaModule } from './lista/lista.module';\r\nimport { ComercialCicloVendasCotacoesFormularioModule } from './formulario/formulario.module';\r\n\r\n// Components\r\nimport { ComercialCicloVendasCotacoesListaComponent } from './lista/lista.component';\r\nimport { ComercialCicloVendasCotacoesFormularioComponent } from './formulario/formulario.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'lista',\r\n    component: ComercialCicloVendasCotacoesListaComponent,\r\n    resolve: {\r\n      profile: ComercialCicloVendasCotacoesListaProfilesResolverGuard,\r\n    },\r\n  },\r\n  {\r\n    path: 'lista/:codCotacao/:codEmpresa',\r\n    component: ComercialCicloVendasCotacoesListaComponent,\r\n    resolve: {\r\n      data: ComercialCicloVendasCotacoesListaFinalizacaoResolverGuard,\r\n      profile: ComercialCicloVendasCotacoesListaProfilesResolverGuard\r\n    },\r\n  },\r\n  {\r\n    path: 'novo/:idReservado/:codEmpresa',\r\n    component: ComercialCicloVendasCotacoesFormularioComponent,\r\n    resolve: {\r\n      cliente: ComercialCicloVendasCotacoesFormularioClienteResolverGuard,\r\n      data: ComercialCicloVendasCotacoesFormularioDataResolverGuard,\r\n      permissoes: ComercialCicloVendasCotacoesFormularioPermissoesResolverGuard,\r\n      profile: ComercialCicloVendasCotacoesFormularioProfilesResolverGuard\r\n    },\r\n    canDeactivate: [FormDeactivateGuard],\r\n  },\r\n  {\r\n    path: 'novo/:idReservado',\r\n    component: ComercialCicloVendasCotacoesFormularioComponent,\r\n    resolve: {\r\n      cliente: ComercialCicloVendasCotacoesFormularioClienteResolverGuard,\r\n      data: ComercialCicloVendasCotacoesFormularioDataResolverGuard,\r\n      permissoes: ComercialCicloVendasCotacoesFormularioPermissoesResolverGuard,\r\n      profile: ComercialCicloVendasCotacoesFormularioProfilesResolverGuard\r\n    },\r\n    canDeactivate: [FormDeactivateGuard],\r\n  },\r\n  {\r\n    path: 'editar/:codCotacao/:idEmpresa',\r\n    component: ComercialCicloVendasCotacoesFormularioComponent,\r\n    resolve: {\r\n      cliente: ComercialCicloVendasCotacoesFormularioClienteResolverGuard,\r\n      data: ComercialCicloVendasCotacoesFormularioDataResolverGuard,\r\n      permissoes: ComercialCicloVendasCotacoesFormularioPermissoesResolverGuard,\r\n      profile: ComercialCicloVendasCotacoesFormularioProfilesResolverGuard\r\n    },\r\n    canDeactivate: [FormDeactivateGuard],\r\n  },\r\n  {\r\n    path: 'visualizar/:codCotacao/:idEmpresa',\r\n    component: ComercialCicloVendasCotacoesFormularioComponent,\r\n    resolve: {\r\n      cliente: ComercialCicloVendasCotacoesFormularioClienteResolverGuard,\r\n      data: ComercialCicloVendasCotacoesFormularioDataResolverGuard,\r\n      permissoes: ComercialCicloVendasCotacoesFormularioPermissoesResolverGuard,\r\n      profile: ComercialCicloVendasCotacoesFormularioProfilesResolverGuard\r\n    },\r\n    canDeactivate: [FormDeactivateGuard],\r\n  },\r\n  {\r\n    path: '',\r\n    redirectTo: 'lista',\r\n    pathMatch: 'full',\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes),\r\n    ComercialCicloVendasCotacoesListaModule,\r\n    ComercialCicloVendasCotacoesFormularioModule,\r\n  ],\r\n  exports: [RouterModule],\r\n})\r\nexport class ComercialCicloVendasCotacoesRoutingModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Resolve } from '@angular/router';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n// Services\r\nimport { ComercialCicloVendasCotacoesService } from '../../cotacoes.service';\r\nimport { AuthService } from 'src/app/shared/services/core/auth.service';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasCotacoesListaFinalizacaoResolverGuard\r\n  implements Resolve<any> {\r\n  user: any;\r\n\r\n  constructor(\r\n    private cotacoesService: ComercialCicloVendasCotacoesService,\r\n    private authService: AuthService,\r\n    private dateService: DateService\r\n  ) {\r\n    this.user = this.authService.getCurrentUser().info;\r\n  }\r\n\r\n  resolve(route: ActivatedRouteSnapshot): Observable<Object | JsonResponse> {\r\n    if (route.params) {\r\n      let date = new Date();\r\n      let dataInicial = new Date(date.getFullYear(), date.getMonth(), date.getDate() - 360);\r\n      let dataFinal = new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n      return this.cotacoesService.getCotacoes(\r\n        {\r\n          nrPedido: route.params.codCotacao,\r\n          codEmpresa: route.params.codEmpresa,\r\n          pagina: 1,\r\n          registros: 100,\r\n          codVendedor: 0,\r\n          codDeposito: null,\r\n          dataInicial: this.dateService.convertToUrlDate(dataInicial),\r\n          dataFinal: this.dateService.convertToUrlDate(dataFinal),\r\n        },\r\n      );\r\n    }\r\n\r\n    // É implementado o método \"of\" para manter a tipagem de retorno com Observable.\r\n    return of({\r\n      success: true,\r\n      mensagem: null,\r\n      data: {\r\n        codVendedor: null,\r\n        nrProposta: null,\r\n      },\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}