{"version":3,"sources":["./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/material/calculo/calculo.component.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/selecionar/selecionar.service.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/finalizacao/perdida/perdida.component.html","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/finalizacao/perdida/perdida.component.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/materiais/lista/lista.component.scss","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/pedidos-producao-telas.module.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/detalhes/cliente.component.html","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/lista/lista.component.html","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/detalhes/cliente.service.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/finalizacao/padrao/padrao.component.scss","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/lista/lista.service.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/finalizacao/perdida/perdida.component.scss","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/guards/formulario-resolver.guard.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/historico-exclusao/historico-exclusao.service.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/pedidos-producao-telas.service.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/materiais/lista/lista.component.html","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/lista/lista.component.scss","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/detalhes/cliente.component.scss","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/carrinho/carrinho.component.scss","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/lista/lista.module.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/selecionar/selecionar.component.scss","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/pedidos-producao-telas-routing.module.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/selecionar/selecionar.component.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/selecionar/selecionar.component.html","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/formulario.component.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/material/calculo/calculo.component.scss","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/material/calculo/calculo.component.html","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/historico-exclusao/historico-exclusao.component.html","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/finalizacao/padrao/padrao.component.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/formulario.component.html","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/carrinho/carrinho.component.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/carrinho/carrinho.component.html","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/finalizacao/finalizacao.service.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/lista/lista.component.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/historico-exclusao/historico-exclusao.component.scss","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/material/calculo/calculo.service.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/finalizacao/padrao/padrao.component.html","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/formulario.module.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/formulario.component.scss","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/detalhes/cliente.component.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/materiais/lista/lista.component.ts","./src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/historico-exclusao/historico-exclusao.component.ts"],"names":[],"mappings":"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","file":"pedidos-producao-telas-pedidos-producao-telas-module-es2015.js","sourcesContent":["import { ICalculoModel } from './../../../../../cotacoes/formulario/models/calculo';\r\nimport { ITelasModel } from './../../../../models/carrinho';\r\nimport { Component, OnInit, Input, EventEmitter, Output } from '@angular/core';\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  Validators,\r\n  AbstractControl,\r\n} from '@angular/forms';\r\nimport { EMPTY } from 'rxjs';\r\n\r\n// ngx-bootstrap\r\nimport { BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { ConfirmModalService } from 'src/app/shared/modules/confirm-modal/confirm-modal.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioService } from '../../../formulario.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'comercial-ciclo-vendas-pedidos-producao-telas-formulario-modal-material-calculo',\r\n  templateUrl: './calculo.component.html',\r\n  styleUrls: ['./calculo.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoComponent\r\n  implements OnInit {\r\n  @Input('index') index: number;\r\n  @Input('material') material: ITelasModel;\r\n  @Input('tipoCalculo') tipoCalculo: number;\r\n  @Input('codCliente') codCliente: number;\r\n\r\n  // @Output('dadosCalculo') dadosCalculo: EventEmitter<Object> = new EventEmitter();\r\n\r\n  loaderModal: boolean;\r\n\r\n  calculo: any = {\r\n    index: null,\r\n    tipoCalculo: 0,\r\n    tonelada: 0,\r\n    qtde: 0,\r\n    valorUnitario: 0,\r\n    valorItem: 0,\r\n    aliquotaIpi: 0,\r\n    valorIpi: 0,\r\n    aliquotaIcms: 0,\r\n    valorIcms: 0,\r\n    valorIcmsSt: 0,\r\n    valorTotal: 0,\r\n  };\r\n\r\n  form: FormGroup;\r\n\r\n  descPreco: string;\r\n  descQtde: string;\r\n\r\n  currencyMaskOptions = {\r\n    align: 'left',\r\n    prefix: '',\r\n    thousands: '.',\r\n    decimal: ',',\r\n    // precision: 3,\r\n  };\r\n\r\n  resultCaculo: Array<any> = [];\r\n\r\n  showImpostos = false;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private bsModalRef: BsModalRef,\r\n    private pnotifyService: PNotifyService,\r\n    private confirmModalService: ConfirmModalService,\r\n    private formularioService: ComercialCicloVendasPedidosProducaoTelasFormularioService,\r\n    private pedidosProducaoTelas: ComercialCicloVendasPedidosProducaoTelasFormularioService\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setFormBuilder();\r\n    this.setUnidadeCalculo();\r\n  }\r\n\r\n  setFormBuilder(): void {\r\n    const valor = this.material.valor !== 0 ? this.material.valor : 0;\r\n\r\n\r\n    this.form = this.formBuilder.group({\r\n      unidadeCalculo: ['m²'],\r\n      quantidade: [this.material.quantidade, [Validators.required]],\r\n      preco: [valor, [Validators.required]],\r\n      medida: [this.material.medida1],\r\n    });\r\n\r\n    // this.setFormValidators();\r\n    this.checkTotais();\r\n  }\r\n\r\n\r\n  setUnidadeCalculo(  ): void {\r\n    \r\n    this.resultCaculo = [];\r\n    this.resetTotais();\r\n\r\n    this.descQtde = '(Qtde m²)';\r\n    this.descPreco = 'Preço por m²';\r\n  }\r\n\r\n  disabledUnidadeCalculo(): boolean {\r\n    let isDisabled = null;\r\n\r\n    if (\r\n      this.tipoCalculo === 3 ||\r\n      this.tipoCalculo === 4 ||\r\n      this.tipoCalculo === 5\r\n    ) {\r\n      isDisabled = true;\r\n    }\r\n\r\n    return isDisabled;\r\n  }\r\n\r\n  showInputMedida(): boolean {\r\n    let show = false;\r\n\r\n    if (this.tipoCalculo === 4) {\r\n      show = true;\r\n    }\r\n\r\n    return show;\r\n  }\r\n\r\n  showInfoMetragem(): boolean {\r\n    let show = false;\r\n\r\n    if (this.tipoCalculo === 2 || this.tipoCalculo === 4) {\r\n      show = true;\r\n    }\r\n\r\n    return show;\r\n  }\r\n\r\n  showInfoFatorMultiplo(): boolean {\r\n    let show = false;\r\n\r\n    if (this.tipoCalculo === 5) {\r\n      show = true;\r\n    }\r\n\r\n    return show;\r\n  }\r\n\r\n  onCalcular(): void {\r\n\r\n    if (this.checkFormValidators() === false) {\r\n      if (\r\n        Math.floor(this.material.valorUnit * 100) / 100 >\r\n        this.form.value.preco\r\n      ) {\r\n        this.confirmModalService\r\n          .showConfirm(\r\n            null,\r\n            'Preço abaixo do mínimo',\r\n            'O preço informado está abaixo do valor mínimo. Deseja continuar mesmo assim?',\r\n            'Cancelar',\r\n            'Confirmar'\r\n          )\r\n          .subscribe((response: boolean) =>\r\n            response ? this.postCalculoMaterial() : EMPTY\r\n          );\r\n      } else {\r\n        this.postCalculoMaterial();\r\n      }\r\n    }\r\n  }\r\n\r\n  checkFormValidators(): boolean {\r\n    let hasError = false;\r\n\r\n    this.form.controls.quantidade.setErrors(null);\r\n    this.form.controls.preco.setErrors(null);\r\n\r\n    if (this.form.value.quantidade == 0) {\r\n      this.form.controls.quantidade.setErrors({ incorrect: true });\r\n      hasError = true;\r\n      this.pnotifyService.notice(\r\n        'Informe a quantidade para realizar o cálculo.'\r\n      );\r\n    } else {\r\n      if (this.tipoCalculo === 5) {\r\n        const fatorMultiplo = 10;\r\n\r\n        if (this.form.value.quantidade % fatorMultiplo !== 0) {\r\n          this.form.controls.quantidade.setErrors({ incorrect: true });\r\n          hasError = true;\r\n          this.pnotifyService.notice(\r\n            `A quantidade tem que ser múltipla de ${fatorMultiplo}.`\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.form.value.preco == 0) {\r\n      this.form.controls.preco.setErrors({ incorrect: true });\r\n      hasError = true;\r\n      this.pnotifyService.notice('Informe o preço para realizar o cálculo.');\r\n    }\r\n\r\n    return hasError;\r\n  }\r\n\r\n  postCalculoMaterial(): void {\r\n    this.loaderModal = true;\r\n    this.resetTotais();\r\n    this.resultCaculo = [];\r\n\r\n    let params = {\r\n      codMaterial: this.material.codMaterial,\r\n      quantidade: this.form.value.quantidade,\r\n    };\r\n\r\n    console.log(params)\r\n    this.pedidosProducaoTelas\r\n      .getCalculoMaterial(params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderModal = false;\r\n        })\r\n      )\r\n      .subscribe((response: JsonResponse) => {\r\n        if (response.success === true) {\r\n          if (response.data.length === 1) {\r\n            console.log(response.data)\r\n            this.calcularTotais(response.data[0]);\r\n          } else {\r\n\r\n            this.resultCaculo = response.data;\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  checkTotais(): void {\r\n\r\n    if (this.material.quantidade > 0) {\r\n      this.calculo.tonelada = this.material.pesoEspecifico;\r\n      // this.calculo.valorUnitario = this.material.valor;\r\n      // this.calculo.valorItem = this.material.valorTotalOri;\r\n      // this.calculo.valorIpi = this.material.valorIpi;\r\n      // this.calculo.valorIcms = this.material.valorIcms;\r\n      // this.calculo.valorIcmsSt = this.material.valorIcmsSt;\r\n      // this.calculo.valorTotal = this.material.valorTotalOri;\r\n    }\r\n\r\n    // this.calculo.aliquotaIpi = this.material.percentualIpi;\r\n    // this.calculo.aliquotaIcms = this.material.percentualIcms;\r\n  }\r\n\r\n\r\n\r\n  calcularTotais(data: any): void {\r\n    this.resetTotais();\r\n\r\n    this.calculo.tonelada = data.Peso;\r\n    this.calculo.qtde = this.form.value.quantidade;\r\n    // this.calculo.valorUnitario = data.valorUnitario;\r\n    // this.calculo.valorItem = data.valorItem;\r\n    // this.calculo.aliquotaIpi = data.aliquotaIpi;\r\n    // this.calculo.valorIpi = data.valorIpi;\r\n    // this.calculo.aliquotaIcms = data.aliquotaIcms;\r\n    // this.calculo.valorIcms = data.valorIcms;\r\n    // this.calculo.valorIcmsSt = data.valorIcmsSt;\r\n    // this.calculo.valorTotal = data.valorTotal;\r\n\r\n    // this.calculoEmitter();\r\n\r\n  }\r\n\r\n  resetTotais(): void {\r\n    this.calculo = {\r\n      index: null,\r\n      tipoCalculo: 0,\r\n      tonelada: 0,\r\n      qtde: 0,\r\n      valorUnitario: 0,\r\n      valorItem: 0,\r\n      aliquotaIpi: 0,\r\n      valorIpi: 0,\r\n      aliquotaIcms: 0,\r\n      valorIcms: 0,\r\n      valorIcmsSt: 0,\r\n      valorTotal: 0,\r\n    };\r\n  }\r\n\r\n  onSubmit(): void {\r\n    const calculos = this.calculo;\r\n    this.calculo.index = this.index;\r\n    this.formularioService.calculoSubject.next(calculos);\r\n\r\n    if (this.calculo.tonelada === 0) {\r\n      this.confirmModalService\r\n        .showConfirm(\r\n          null,\r\n          'Cálculo não efetuado',\r\n          'O cálculo não foi efetuado, pois o material precisa ter altura, comprimento e peso, verifique no cadastro do material. Deseja continuar mesmo assim?',\r\n          'Cancelar',\r\n          'Confirmar'\r\n        )\r\n        .subscribe((response: boolean) =>\r\n          response ? this.postCalculoMaterial() : EMPTY\r\n        );\r\n\r\n    } else {\r\n      this.postCalculoMaterial();\r\n    } {\r\n\r\n    }\r\n      // this.formularioService.calculoSubject.next(calculos);\r\n      this.onClose();\r\n    // this.addCalculo();\r\n  }\r\n\r\n  onClose(): void {\r\n    this.bsModalRef.hide();\r\n  }\r\n\r\n  onFieldError(field: string): string {\r\n    if (this.onFieldInvalid(field)) {\r\n      return 'is-invalid';\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any): boolean {\r\n    field = this.form.get(field);\r\n\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onFieldRequired(\r\n    abstractControl: AbstractControl,\r\n    abstractControlField?: string\r\n  ): string {\r\n    if (abstractControl.validator) {\r\n      const validator = abstractControl.validator({} as AbstractControl);\r\n      if (validator && validator.required) {\r\n        return 'is-required';\r\n      }\r\n    }\r\n\r\n    if (abstractControlField) {\r\n      for (const controlName in abstractControl['controls']) {\r\n        if (abstractControl['controls'][controlName]) {\r\n          if (\r\n            this.onFieldRequired(abstractControl['controls'][controlName]) &&\r\n            controlName == abstractControlField\r\n          ) {\r\n            return 'is-required';\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onShowImpostos(): void {\r\n    this.showImpostos = !this.showImpostos;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalSelecionarService {\r\n\r\n  constructor(\r\n    private pnotifyService: PNotifyService,\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n}\r\n","export default \"<div class=\\\"modal-content\\\" *ngIf=\\\"dataCotacao\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"mtc-title mb-0 my-auto\\\">\\r\\n      COTAÇÃO #{{ dataCotacao.codCotacao }} / {{ dataCotacao.situacao.situacaoProposta | uppercase }}\\r\\n    </h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"onClose()\\\" [disabled]=\\\"submittingForm === true\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body py-5\\\">\\r\\n    <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n      <div class=\\\"form-row mb-4\\\">\\r\\n        <div class=\\\"form-group col-lg-6\\\">\\r\\n          <div class=\\\"mb-1 d-flex justify-content-between w-100\\\" style=\\\"height: 19px\\\">\\r\\n            <label class=\\\"my-auto\\\" for=\\\"codConcorrente\\\">Concorrente</label>\\r\\n            <div class=\\\"my-auto text-uppercase\\\" style=\\\"font-size: 11px\\\">\\r\\n              <a\\r\\n                class=\\\"text-secondary\\\"\\r\\n                href=\\\"javascript:void(0)\\\"\\r\\n                (click)=\\\"onDetalhesConcorrente()\\\"\\r\\n                *ngIf=\\\"form.value.codConcorrente != null\\\">\\r\\n                <strong>Detalles</strong>\\r\\n              </a>\\r\\n              <span class=\\\"mx-2\\\" *ngIf=\\\"form.value.codConcorrente != null\\\">|</span>\\r\\n              <a\\r\\n                class=\\\"text-primary\\\"\\r\\n                href=\\\"javascript:void(0)\\\"\\r\\n                [routerLink]=\\\"[getLinkAddConcorrente()]\\\"\\r\\n                target=\\\"_blank\\\">\\r\\n                <strong>Adicionar</strong>\\r\\n              </a>\\r\\n              <span class=\\\"mx-2\\\">|</span>\\r\\n              <btn-icon\\r\\n                icon=\\\"fas fa-redo-alt\\\"\\r\\n                size=\\\"small\\\"\\r\\n                class=\\\"mr-2\\\"\\r\\n                tooltip=\\\"Recarregar\\\"\\r\\n                (click)=\\\"onReloadConcorrentes()\\\">\\r\\n              </btn-icon>\\r\\n            </div>\\r\\n          </div>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"concorrentes\\\"\\r\\n            formControlName=\\\"codConcorrente\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            bindLabel=\\\"nomeConcorrente\\\"\\r\\n            bindValue=\\\"codConcorrenteTid\\\"\\r\\n            [loading]=\\\"concorrentesLoader\\\"\\r\\n            loadingText=\\\"Carregando...\\\">\\r\\n          </ng-select>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col\\\">\\r\\n          <div class=\\\"mtc-title\\\">Resumo do pedido</div>\\r\\n          <custom-table [config]=\\\"tableConfig\\\">\\r\\n            <ng-template #thead let-thead>\\r\\n              <tr>\\r\\n                <th scope=\\\"col\\\" width=\\\"35%\\\">Material</th>\\r\\n                <th scope=\\\"col\\\" width=\\\"12%\\\" class=\\\"text-center\\\">Ton</th>\\r\\n                <th scope=\\\"col\\\" width=\\\"12%\\\" class=\\\"text-center\\\">Unit.</th>\\r\\n                <th scope=\\\"col\\\" width=\\\"12%\\\" class=\\\"text-center\\\">R$</th>\\r\\n                <th scope=\\\"col\\\" width=\\\"14%\\\" class=\\\"text-center\\\">Concorrente</th>\\r\\n                <th scope=\\\"col\\\" width=\\\"15%\\\">Depósito</th>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n            <div formArrayName=\\\"materiais\\\">\\r\\n              <ng-template #tbody let-tbody>\\r\\n                <tr *ngFor=\\\"let material of materiais.controls; let i = index\\\" [formGroupName]=\\\"i\\\">\\r\\n                  <td width=\\\"35%\\\" class=\\\"text-truncate\\\">\\r\\n                    {{ form.value.materiais[i].codMaterial }} - {{ form.value.materiais[i].nomeMaterial | uppercase }}\\r\\n                  </td>\\r\\n                  <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ form.value.materiais[i].quantidade | number:'1.3-3' }} TON</td>\\r\\n                  <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ form.value.materiais[i].valorUnit | currency:'BRL':symbol:'1.2-2' }}</td>\\r\\n                  <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ form.value.materiais[i].valorTotal | currency:'BRL':symbol:'1.2-2' }}</td>\\r\\n                  <td width=\\\"14%\\\">\\r\\n                    <input\\r\\n                      type=\\\"text\\\"\\r\\n                      id=\\\"valorConcorrente\\\"\\r\\n                      class=\\\"form-control text-center\\\"\\r\\n                      formControlName=\\\"valorConcorrente\\\"\\r\\n                      currencyMask [options]=\\\"{ align: 'left', prefix: 'R$ ', thousands: '.', decimal: ',', precision: 2 }\\\">\\r\\n                  </td>\\r\\n                  <td width=\\\"15%\\\" class=\\\"text-truncate\\\">{{ form.value.materiais[i].nomeDeposito | uppercase }}</td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td width=\\\"35%\\\" class=\\\"text-right\\\">TOTAL</td>\\r\\n                  <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ calcularTotais('quantidade') | number:'1.3-3' }} TON</td>\\r\\n                  <td width=\\\"12%\\\" class=\\\"text-center\\\"></td>\\r\\n                  <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ calcularTotais('valor') | currency:'BRL':'symbol':'1.2-2' }}</td>\\r\\n                  <td width=\\\"14%\\\" class=\\\"text-center\\\">{{ calcularTotais('concorrente') | currency:'BRL':'symbol':'1.2-2' }}</td>\\r\\n                  <td width=\\\"15%\\\"></td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n            </div>\\r\\n          </custom-table>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n    <div class=\\\"row mt-5\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <span class=\\\"mtc-title mb-0 mr-2\\\">Cotação realizada para:</span>\\r\\n        <span>{{ dataCotacao.razaoSocial | uppercase }}</span>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      class=\\\"btn btn-danger\\\"\\r\\n      (click)=\\\"onClose()\\\"\\r\\n      [disabled]=\\\"submittingForm === true\\\">\\r\\n      Fechar\\r\\n    </button>\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      class=\\\"btn btn-primary\\\"\\r\\n      (click)=\\\"onSubmit()\\\"\\r\\n      [disabled]=\\\"submittingForm === true\\\">\\r\\n      Enviar\\r\\n    </button>\\r\\n  </div>\\r\\n</div>\\r\\n\";","import { ComercialCicloVendasPedidosProducaoTelasService } from './../../../../pedidos-producao-telas.service';\r\nimport { ICarrinhoModel } from './../../../../../cotacoes/formulario/models/carrinho';\r\nimport { Component, OnInit, Input } from '@angular/core';\r\nimport { FormGroup, FormBuilder, FormArray } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n// ngx-bootstrap\r\nimport { BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { ComercialCadastrosConcorrenteService } from 'src/app/modules/comercial/cadastros/concorrentes/concorrentes.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioService } from '../../../formulario.service';\r\n\r\n// Interfaces\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\nimport { Concorrente } from '../../../../../../cadastros/concorrentes/models/concorrente';\r\n\r\n@Component({\r\n  selector:\r\n    'comercial-ciclo-vendas-pedidos-producao-telas-formulario-modal-finalizacao-perdida',\r\n  templateUrl: './perdida.component.html',\r\n  styleUrls: ['./perdida.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPerdidaComponent\r\n  implements OnInit {\r\n  @Input('dataCotacao') dataCotacao: any;\r\n\r\n  tableConfig: Partial<CustomTableConfig> = {\r\n    isFixed: true,\r\n    border: false,\r\n    small: false,\r\n    hover: false,\r\n    theme: {\r\n      color: 'white',\r\n    },\r\n  };\r\n\r\n  form: FormGroup;\r\n  submittingForm: boolean;\r\n\r\n  concorrentes: Concorrente[] = [];\r\n  concorrentesLoader: boolean;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private bsModalRef: BsModalRef,\r\n    private formBuilder: FormBuilder,\r\n    private pnotifyService: PNotifyService,\r\n    private cotacoesService: ComercialCicloVendasPedidosProducaoTelasService,\r\n    private concorrentesService: ComercialCadastrosConcorrenteService,\r\n    private formularioService: ComercialCicloVendasPedidosProducaoTelasFormularioService\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getConcorrentes();\r\n    this.setFormBuilder();\r\n  }\r\n\r\n  getConcorrentes(): void {\r\n    this.concorrentes = [];\r\n    this.concorrentesLoader = true;\r\n\r\n    this.concorrentesService\r\n      .getListaConcorrentes({})\r\n      .pipe(\r\n        finalize(() => {\r\n          this.concorrentesLoader = false;\r\n        })\r\n      )\r\n      .subscribe((response: JsonResponse) => {\r\n        this.concorrentes = response.data;\r\n      });\r\n  }\r\n\r\n  getLinkAddConcorrente(): string {\r\n    return '/comercial/cadastros/concorrentes/novo';\r\n  }\r\n\r\n  onReloadConcorrentes(): void {\r\n    this.getConcorrentes();\r\n  }\r\n\r\n  setFormBuilder(): void {\r\n    this.form = this.formBuilder.group({\r\n      codConcorrente: [null],\r\n      materiais: this.formBuilder.array([]),\r\n    });\r\n\r\n    this.onAddMaterial(this.dataCotacao.carrinho);\r\n  }\r\n\r\n  get materiais(): FormArray {\r\n    return this.form.get('materiais') as FormArray;\r\n  }\r\n\r\n  onAddMaterial(materiais: Array<ICarrinhoModel>): void {\r\n    if (materiais.length > 0) {\r\n      for (let i = 0; i < materiais.length; i++) {\r\n        this.materiais.push(\r\n          this.formBuilder.group({\r\n            idReservado: [materiais[i].idReservado],\r\n            codCotacao: [materiais[i].codCotacao],\r\n            codMaterial: [materiais[i].codMaterial],\r\n            nomeMaterial: [materiais[i].nomeMaterial],\r\n            quantidade: [materiais[i].quantidade],\r\n            valorUnit: [materiais[i].valorUnit],\r\n            valor: [materiais[i].valor],\r\n            percentualIpi: [materiais[i].percentualIpi],\r\n            valorIpi: [materiais[i].valorIpi],\r\n            percentualIcms: [materiais[i].percentualIcms],\r\n            valorIcms: [materiais[i].valorIcms],\r\n            valorIcmsSt: [materiais[i].valorIcmsSt],\r\n            valorConcorrente: [materiais[i].valorConcorrente],\r\n            tipoDesc: [materiais[i].tipoDesc],\r\n            valorDesc: [materiais[i].valorDesc],\r\n            percentualDesc: [materiais[i].percentualDesc],\r\n            valorTotalOri: [materiais[i].valorTotalOri],\r\n            valorTotal: [materiais[i].valorTotal],\r\n            codDeposito: [materiais[i].codDeposito],\r\n            nomeDeposito: [materiais[i].nomeDeposito],\r\n            medida1: [materiais[i].medida1],\r\n            medida2: [materiais[i].medida2],\r\n            pesoEspecifico: [materiais[i].pesoEspecifico],\r\n          })\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  calcularTotais(field: string): number {\r\n    let total = {\r\n      quantidade: 0,\r\n      valor: 0,\r\n      concorrente: 0,\r\n    };\r\n\r\n    for (let index = 0; index < this.dataCotacao.carrinho.length; index++) {\r\n      total.quantidade += this.dataCotacao.carrinho[index].quantidade;\r\n      total.valor += this.dataCotacao.carrinho[index].valorTotal;\r\n    }\r\n\r\n    if (field === 'concorrente') {\r\n      for (let index = 0; index < this.form.value.materiais.length; index++) {\r\n        const material = this.form.value.materiais[index];\r\n\r\n        total.concorrente += material.valorConcorrente;\r\n      }\r\n    }\r\n\r\n    return total[field];\r\n  }\r\n\r\n  onSubmit(): void {\r\n    if (this.checkFormValidators() === true) {\r\n      return;\r\n    }\r\n\r\n    this.submittingForm = true;\r\n\r\n    const formValue = {\r\n      codConcorrenteTid: this.form.value.codConcorrente,\r\n      carrinho: this.form.value.materiais,\r\n    };\r\n\r\n    const dataCotacao = Object.assign(this.dataCotacao, formValue);\r\n\r\n    this.cotacoesService\r\n      .postCotacaoPerdida(dataCotacao)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.submittingForm = false;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            this.onClose();\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        },\r\n        error: (error) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      });\r\n\r\n    this.onClose();\r\n  }\r\n\r\n  checkFormValidators(): boolean {\r\n    let hasError = false;\r\n\r\n    let mapError = {\r\n      codConcorrente: true,\r\n      valorConcorrente: true,\r\n    };\r\n\r\n    if (this.form.value.codConcorrente !== null) {\r\n      mapError.codConcorrente = false;\r\n    }\r\n\r\n    for (let index = 0; index < this.form.value.materiais.length; index++) {\r\n      const material = this.form.value.materiais[index];\r\n\r\n      if (material.valorConcorrente > 0) {\r\n        mapError.valorConcorrente = false;\r\n      }\r\n    }\r\n\r\n    if (\r\n      mapError.codConcorrente === true &&\r\n      mapError.valorConcorrente === true\r\n    ) {\r\n      hasError = true;\r\n\r\n      this.pnotifyService.notice(\r\n        'Selecione um concorrente ou informe o valor.'\r\n      );\r\n    }\r\n\r\n    return hasError;\r\n  }\r\n\r\n  onClose(): void {\r\n    this.formularioService.limparCarrinhoSubject.next(true);\r\n\r\n    this.bsModalRef.hide();\r\n\r\n    setTimeout(() => {\r\n      this.router.navigate(['/comercial/ciclo-vendas/cotacoes-pedidos/lista']);\r\n    }, 100);\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2Zvcm11bGFyaW8vbWF0ZXJpYWlzL2xpc3RhL2xpc3RhLmNvbXBvbmVudC5zY3NzIn0= */\";","\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n// Modules\r\nimport { ComercialCicloVendasPedidosProducaoTelasRoutingModule } from './pedidos-producao-telas-routing.module';\r\nimport { ComercialCicloVendasPedidosProducaoTelasListaModule } from './lista/lista.module';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModule } from './formulario/formulario.module';\r\n\r\n// Interfaces\r\nimport { FormDeactivateGuard } from 'src/app/guards/form-deactivate.guard';\r\n\r\n@NgModule({\r\n  declarations: [\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComercialCicloVendasPedidosProducaoTelasRoutingModule,\r\n    ComercialCicloVendasPedidosProducaoTelasListaModule,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModule,\r\n\r\n  ],\r\n  providers: [FormDeactivateGuard],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasModule {}\r\n","export default \"<div class=\\\"modal-content\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"mtc-title mb-0 my-auto\\\">DETALHES DO CLIENTE</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"onClose()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <div class=\\\"row\\\" *ngIf=\\\"cliente\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-lg-6\\\" *ngIf=\\\"cliente.tipoPessoa == 'F'\\\">\\r\\n            <label>CPF</label>\\r\\n            <div *ngIf=\\\"cliente.cpf == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.cpf != null\\\">{{ cliente.cpf }}</div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-6\\\" *ngIf=\\\"cliente.tipoPessoa == 'J'\\\">\\r\\n            <label>CNPJ</label>\\r\\n            <div *ngIf=\\\"cliente.cnpj == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.cnpj != null\\\">{{ cliente.cnpj }}</div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-6\\\">\\r\\n            <label>Nome fantasia</label>\\r\\n            <div *ngIf=\\\"cliente.nomeFantasia == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.nomeFantasia != null\\\">{{ cliente.nomeFantasia }}</div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col\\\">\\r\\n            <label>Razão social</label>\\r\\n            <div *ngIf=\\\"cliente.razaoSocial == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.razaoSocial != null\\\">{{ cliente.razaoSocial }}</div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col\\\">\\r\\n            <label>Endereço</label>\\r\\n            <div *ngIf=\\\"cliente.endereco == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.endereco != null\\\">{{ cliente.endereco }}</div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-lg-8\\\">\\r\\n            <label>Bairro</label>\\r\\n            <div *ngIf=\\\"cliente.bairro == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.bairro != null\\\">{{ cliente.bairro }}</div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-4\\\">\\r\\n            <label>CEP</label>\\r\\n            <div *ngIf=\\\"cliente.cep == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.cep != null\\\">{{ cliente.cep }}</div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-lg-8\\\">\\r\\n            <label>Cidade</label>\\r\\n            <div *ngIf=\\\"cliente.cidade == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.cidade != null\\\">{{ cliente.cidade }} / {{ cliente.uf }}</div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-4\\\">\\r\\n            <label>Segurado</label>\\r\\n            <div *ngIf=\\\"cliente.segurado != ''\\\">SIM</div>\\r\\n            <div *ngIf=\\\"cliente.segurado == ''\\\">NÃO</div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-lg-6\\\">\\r\\n            <label>Vendedor</label>\\r\\n            <div *ngIf=\\\"cliente.vendedor == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.vendedor != null\\\">{{ cliente.vendedor }}</div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-6\\\">\\r\\n            <label>Escritório</label>\\r\\n            <div *ngIf=\\\"cliente.escritorio == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.escritorio != null\\\">{{ cliente.escritorio }}</div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-lg-4\\\" *ngIf=\\\"cliente.codSAP != '' && cliente.codSAP != null\\\">\\r\\n            <label>Código DBA</label>\\r\\n            <div>{{ cliente.codSAP }}</div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-4\\\" *ngIf=\\\"cliente.escritorioDba != '' && cliente.escritorioDba != null\\\">\\r\\n            <label>Escritório</label>\\r\\n            <div>{{ cliente.escritorioDba }}</div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-4\\\" *ngIf=\\\"cliente.ultimaCompraDba != '' && cliente.ultimaCompraDba != null\\\">\\r\\n            <label>Última compra</label>\\r\\n            <div>{{ cliente.ultimaCompraDba }}</div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";","export default \"<loader-spinner-navbar [hidden]=\\\"!loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<loader-spinner-full-screen *ngIf=\\\"loaderFullScreen\\\"></loader-spinner-full-screen>\\r\\n<app-header appTitle=\\\"Pedidos Produção de Telas\\\">\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onAdd()\\\">\\r\\n    Adicionar\\r\\n  </button>\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onFilter()\\\"\\r\\n    [disabled]=\\\"loaderNavbar || !form.valid\\\">\\r\\n    Filtrar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\" [show]=\\\"!loaderFullScreen\\\">\\r\\n  <div #scrollToFilter>\\r\\n    <advanced-filter>\\r\\n      <form [formGroup]=\\\"form\\\">\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-lg-3\\\">\\r\\n            <label for=\\\"tipoData\\\">Buscar por</label>\\r\\n            <select\\r\\n              class=\\\"form-control custom-select\\\"\\r\\n              id=\\\"tipoData\\\"\\r\\n              formControlName=\\\"tipoData\\\">\\r\\n              <option value=\\\"1\\\">Data de lançamento</option>\\r\\n            </select>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-2\\\">\\r\\n            <label for=\\\"dataInicial\\\">Data inicial</label>\\r\\n            <input\\r\\n              class=\\\"form-control\\\"\\r\\n              id=\\\"dataInicial\\\"\\r\\n              type=\\\"text\\\"\\r\\n              bsDatepicker\\r\\n              [bsConfig]=\\\"bsConfig\\\"\\r\\n              formControlName=\\\"dataInicial\\\">\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-2\\\">\\r\\n            <label for=\\\"dataFinal\\\">Data final</label>\\r\\n            <input\\r\\n              class=\\\"form-control\\\"\\r\\n              id=\\\"dataFinal\\\"\\r\\n              type=\\\"text\\\"\\r\\n              bsDatepicker\\r\\n              [bsConfig]=\\\"bsConfig\\\"\\r\\n              formControlName=\\\"dataFinal\\\">\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-3\\\">\\r\\n            <label for=\\\"codSituacao\\\">Situação</label>\\r\\n            <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"true\\\"\\r\\n            [items]=\\\"tipos\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            labelForId=\\\"tipo\\\"\\r\\n            bindLabel=\\\"nome\\\"\\r\\n            bindValue=\\\"cod\\\"\\r\\n            id=\\\"tipo\\\"\\r\\n            formControlName=\\\"codSituacao\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n          >\\r\\n            <ng-template ng-option-tmp let-item=\\\"item\\\" let-index=\\\"index\\\"> {{item.nome}}\\r\\n            </ng-template>\\r\\n          </ng-select>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-2\\\">\\r\\n            <label for=\\\"nrProposta\\\">Núm. proposta</label>\\r\\n            <input\\r\\n              type=\\\"text\\\"\\r\\n              placeholder=\\\"Digite...\\\"\\r\\n              id=\\\"nrProposta\\\"\\r\\n              class=\\\"form-control\\\"\\r\\n              formControlName=\\\"nrProposta\\\"\\r\\n              (keydown.enter)=\\\"onFilter()\\\">\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-lg-5\\\">\\r\\n            <label for=\\\"cliente\\\">Cliente</label>\\r\\n            <input\\r\\n              type=\\\"text\\\"\\r\\n              class=\\\"form-control\\\"\\r\\n              placeholder=\\\"Digite...\\\"\\r\\n              id=\\\"cliente\\\"\\r\\n              formControlName=\\\"cliente\\\"\\r\\n              (keydown.enter)=\\\"onFilter()\\\">\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-5\\\">\\r\\n            <label for=\\\"usuarioLancamento\\\">Usuário de Lançamento</label>\\r\\n            <input\\r\\n              type=\\\"text\\\"\\r\\n              class=\\\"form-control\\\"\\r\\n              placeholder=\\\"Digite...\\\"\\r\\n              id=\\\"usuarioLancamento\\\"\\r\\n              formControlName=\\\"usuarioLancamento\\\"\\r\\n              (keydown.enter)=\\\"onFilter()\\\">\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-2\\\">\\r\\n            <label for=\\\"registros\\\">Registros</label>\\r\\n            <select\\r\\n              class=\\\"form-control custom-select\\\"\\r\\n              id=\\\"registros\\\"\\r\\n              formControlName=\\\"registros\\\">\\r\\n              <option>100</option>\\r\\n              <option>200</option>\\r\\n              <option>300</option>\\r\\n            </select>\\r\\n          </div>\\r\\n        </div>\\r\\n      </form>\\r\\n    </advanced-filter>\\r\\n  </div>\\r\\n  <subtitles\\r\\n    [data]=\\\"subtitles\\\"\\r\\n    [show]=\\\"dados.length > 0 && !dadosEmpty\\\">\\r\\n  </subtitles>\\r\\n  <div class=\\\"row\\\" *ngIf=\\\"dados.length > 0 && !dadosEmpty\\\">\\r\\n    <div [ngClass]=\\\"{'col-12': !showDetailPanel, 'col-6 pr-0': showDetailPanel}\\\">\\r\\n      <custom-table [config]=\\\"tableConfig\\\">\\r\\n        <ng-template #thead let-thead>\\r\\n          <tr>\\r\\n            <th scope=\\\"col\\\" class=\\\"text-center\\\">\\r\\n              <thead-sorter\\r\\n                value=\\\"Núm.\\\"\\r\\n                [active]=\\\"orderBy == 'nrProposta'\\\"\\r\\n                [sort]=\\\"orderType\\\"\\r\\n                (click)=\\\"setOrderBy('nrProposta')\\\">\\r\\n              </thead-sorter>\\r\\n            </th>\\r\\n            <th scope=\\\"col\\\" class=\\\"text-center\\\">\\r\\n              <thead-sorter\\r\\n                value=\\\"Prioridade\\\"\\r\\n                [active]=\\\"orderBy == 'codPrioridade'\\\"\\r\\n                [sort]=\\\"orderType\\\"\\r\\n                (click)=\\\"setOrderBy('codPrioridade')\\\">\\r\\n              </thead-sorter>\\r\\n            </th>\\r\\n            <th scope=\\\"col\\\" class=\\\"text-center\\\">\\r\\n              <thead-sorter\\r\\n                value=\\\"Lançamento\\\"\\r\\n                [active]=\\\"orderBy == 'dataLancamento'\\\"\\r\\n                [sort]=\\\"orderType\\\"\\r\\n                (click)=\\\"setOrderBy('dataLancamento')\\\">\\r\\n              </thead-sorter>\\r\\n            </th>\\r\\n            <th scope=\\\"col\\\">\\r\\n              <thead-sorter\\r\\n                value=\\\"Cliente\\\"\\r\\n                [active]=\\\"orderBy == 'razaoSocial'\\\"\\r\\n                [sort]=\\\"orderType\\\"\\r\\n                (click)=\\\"setOrderBy('razaoSocial')\\\">\\r\\n              </thead-sorter>\\r\\n            </th>\\r\\n            <th scope=\\\"col\\\" [hidden]=\\\"showDetailPanel\\\">Lançado por</th>\\r\\n            <th scope=\\\"col\\\" [hidden]=\\\"showDetailPanel\\\"></th>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n        <ng-template #tbody let-tbody>\\r\\n          <tr *ngFor=\\\"let pedido of dados; let i = index\\\" [class.table-active]=\\\"i == activeRow\\\">\\r\\n            <td (click)=\\\"viewRegister(i, pedido)\\\"  class=\\\"text-center hover\\\" [ngClass]=\\\"styleStatusBorder(pedido)\\\" >{{ pedido.nrPedido }}</td>\\r\\n            <td class=\\\"text-center hover\\\" (click)=\\\"viewRegister(i, pedido)\\\">{{ pedido.prioridade }}</td>\\r\\n            <td class=\\\"text-center hover\\\" (click)=\\\"viewRegister(i, pedido)\\\">{{ pedido.dataCadastro  | date: 'dd/MM/yyyy HH:mm' }}</td>\\r\\n            <td class=\\\"hover\\\" (click)=\\\"viewRegister(i, pedido)\\\">{{ pedido.razaoSocial | uppercase }}</td>\\r\\n            <td class=\\\"hover\\\" (click)=\\\"viewRegister(i, pedido)\\\" [hidden]=\\\"showDetailPanel\\\">{{ pedido.nomeUsuarioCadastro | uppercase }}</td>\\r\\n            <td class=\\\"hover\\\" style=\\\"width:160px\\\">\\r\\n              <span class=\\\"mr-3\\\" tooltip=\\\"Editar\\\" placement=\\\"left\\\" container=\\\"body\\\" *ngIf=\\\"pedido.codSituacao == 1\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn-icon-sm\\\" (click)=\\\"onEdit(pedido)\\\" >\\r\\n                  <i class=\\\"fas fa-edit\\\"></i>\\r\\n                </button>\\r\\n              </span>\\r\\n              <span\\r\\n              *ngIf=\\\"pedido.codSituacao == 1\\\"\\r\\n              class=\\\"mr-3\\\"\\r\\n              tooltip=\\\"Alterar para Produção\\\"\\r\\n              placement=\\\"left\\\"\\r\\n              container=\\\"body\\\"\\r\\n              >\\r\\n                <button type=\\\"button\\\" class=\\\"btn-icon-sm\\\" (click)=\\\"openModalProducao(producao); setFormProducao(pedido);\\\">\\r\\n                  <i class=\\\"fab fa-deviantart\\\"></i>\\r\\n                </button>\\r\\n              </span>\\r\\n              <span class=\\\"mr-3\\\"\\r\\n              tooltip=\\\"ver Observação Produção\\\"\\r\\n              placement=\\\"left\\\" container=\\\"body\\\"\\r\\n              *ngIf=\\\"pedido.codSituacao == 2 || pedido.codSituacao == 3\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn-icon-sm\\\" (click)=\\\"openModalProducao(producao); setFormProducao(pedido);\\\">\\r\\n                  <i class=\\\"fas fa-eye\\\"></i>\\r\\n                </button>\\r\\n              </span>\\r\\n              <span\\r\\n              *ngIf=\\\"pedido.codSituacao == 2\\\"\\r\\n              class=\\\"mr-3\\\"\\r\\n              tooltip=\\\"Alterar para Expedição\\\"\\r\\n              placement=\\\"left\\\"\\r\\n              container=\\\"body\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn-icon-sm\\\" (click)=\\\"openModalExpedicao(expedicao); setFormExpedicao(pedido);\\\">\\r\\n                  <i class=\\\"fab fa-deviantart\\\"></i>\\r\\n                </button>\\r\\n              </span>\\r\\n              <span class=\\\"mr-3\\\"\\r\\n              tooltip=\\\"ver Localização de expedição\\\"\\r\\n              placement=\\\"left\\\" container=\\\"body\\\"\\r\\n              *ngIf=\\\"pedido.codSituacao == 3\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn-icon-sm\\\" (click)=\\\"openModalExpedicao(expedicao); setFormExpedicao(pedido);\\\">\\r\\n                  <i class=\\\"far fa-eye\\\"></i>\\r\\n                </button>\\r\\n              </span>\\r\\n              <!-- <span class=\\\"mr-3\\\" tooltip=\\\"Imprimir Proposta\\\" placement=\\\"left\\\" container=\\\"body\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn-icon-sm\\\" >\\r\\n                  <i class=\\\"fas fa-print\\\"></i>\\r\\n                </button>\\r\\n              </span>\\r\\n              <span class=\\\"mr-3\\\" tooltip=\\\"Imprimir Etiqueta\\\" placement=\\\"left\\\" container=\\\"body\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn-icon-sm\\\" >\\r\\n                  <i class=\\\"fas fa-copy\\\"></i>\\r\\n                </button>\\r\\n              </span>\\r\\n              <span class=\\\"mr-3\\\" tooltip=\\\"Deletar\\\" placement=\\\"left\\\" container=\\\"body\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn-icon-sm\\\" >\\r\\n                  <i class=\\\"fas fa-trash-alt\\\"></i>\\r\\n                </button>\\r\\n              </span> -->\\r\\n            </td>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n      </custom-table>\\r\\n      <empty-result message=\\\"Nenhuma informação encontrada\\\" *ngIf=\\\"dadosEmpty && !dadosLoaded\\\"></empty-result>\\r\\n      <div class=\\\"d-flex justify-content-center mt-3\\\" *ngIf=\\\"totalItems > itemsPerPage && !dadosEmpty && dadosLoaded\\\">\\r\\n        <pagination\\r\\n          [maxSize]=\\\"maxSize\\\"\\r\\n          [(totalItems)]=\\\"totalItems\\\"\\r\\n          (pageChanged)=\\\"onPageChanged($event)\\\"\\r\\n          [(itemsPerPage)]=\\\"itemsPerPage\\\"\\r\\n          [boundaryLinks]=\\\"true\\\"\\r\\n          [(ngModel)]=\\\"currentPage\\\"\\r\\n          previousText=\\\"&lsaquo;\\\"\\r\\n          nextText=\\\"&rsaquo;\\\"\\r\\n          firstText=\\\"&laquo;\\\"\\r\\n          lastText=\\\"&raquo;\\\">\\r\\n        </pagination>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-6\\\" [hidden]=\\\"!showDetailPanel\\\" #scrollToDetails>\\r\\n      <detail-panel [panelTitle]=\\\"detailPanelTitle\\\">\\r\\n        <!-- <div class=\\\"row mt-1\\\">\\r\\n          <div class=\\\"col\\\" >\\r\\n            <button\\r\\n              type=\\\"button\\\"\\r\\n              class=\\\"btn-icon mr-3\\\"\\r\\n              tooltip=\\\"Editar\\\"\\r\\n              placement=\\\"right\\\"s\\r\\n              (click)=\\\"onEdit(pedido)\\\">\\r\\n              <i class=\\\"fas fa-edit\\\"></i>\\r\\n            </button>\\r\\n            <button\\r\\n              type=\\\"button\\\"\\r\\n              class=\\\"btn-icon mr-3\\\"\\r\\n              tooltip=\\\"Imprimir Proposta\\\"\\r\\n              placement=\\\"right\\\">\\r\\n              <i class=\\\"fas fa-print\\\"></i>\\r\\n            </button>\\r\\n            <button\\r\\n              type=\\\"button\\\"\\r\\n              class=\\\"btn-icon mr-3\\\"\\r\\n              tooltip=\\\"Imprimir Etiqueta\\\"\\r\\n              placement=\\\"right\\\">\\r\\n              <i class=\\\"fas fa-copy\\\"></i>\\r\\n            </button>\\r\\n            <button\\r\\n              type=\\\"button\\\"\\r\\n              class=\\\"btn-icon mr-3\\\"\\r\\n              tooltip=\\\"Deletar\\\"\\r\\n              placement=\\\"right\\\">\\r\\n              <i class=\\\"fas fa-trash-alt\\\"></i>\\r\\n            </button>\\r\\n          </div>\\r\\n        </div> -->\\r\\n        <!-- <div class=\\\"row\\\">\\r\\n          <div class=\\\"col\\\"><hr></div>\\r\\n        </div> -->\\r\\n        <div class=\\\"mtc-title\\\">Detalhes do Pedido</div>\\r\\n        <div class=\\\"row\\\" *ngFor = \\\"let item of detalhes;\\\">\\r\\n          <div class=\\\"col\\\">\\r\\n            <div >\\r\\n              <div class=\\\"form-row mt-3\\\">\\r\\n                <div class=\\\"form-group col-6\\\">\\r\\n                  <label>Número do Pedido</label>\\r\\n                  <div *ngIf=\\\"item.nrPedido == null || item.nrPedido == ''\\\">NÃO INFORMADO</div>\\r\\n                  <div *ngIf=\\\"item.nrPedido != null && item.nrPedido != ''\\\">{{ item.nrPedido }}</div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group col-6\\\">\\r\\n                  <label>Cliente</label>\\r\\n                  <div *ngIf=\\\"item.razaoSocial == null || item.razaoSocial == ''\\\">NÃO INFORMADO</div>\\r\\n                  <div *ngIf=\\\"item.razaoSocial != null && item.razaoSocial != ''\\\">{{ item.razaoSocial }}</div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col-6\\\">\\r\\n                  <label>Data de Lançamento</label>\\r\\n                  <div *ngIf=\\\"item.dataCadastro == null || item.dataCadastro == ''\\\">NÃO INFORMADO</div>\\r\\n                  <div *ngIf=\\\"item.dataCadastro != null && item.dataCadastro != ''\\\">{{ item.dataCadastro  | date: 'dd/MM/yyyy HH:mm' }}</div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group col-6\\\">\\r\\n                  <label>Data Prevista de Entrega</label>\\r\\n                  <div *ngIf=\\\"item.dataPrevisaoEntrega == null || item.dataPrevisaoEntrega == ''\\\">NÃO INFORMADO</div>\\r\\n                  <div *ngIf=\\\"item.dataPrevisaoEntrega != null && item.dataPrevisaoEntrega != ''\\\">{{ item.dataPrevisaoEntrega  | date: 'dd/MM/yyyy HH:mm'}}</div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <!-- <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col\\\">\\r\\n                  <label>Observações</label>\\r\\n                  <div *ngIf=\\\"item.observacao == null || item.observacao == ''\\\">\\r\\n                    NÃO INFORMADO\\r\\n                  </div>\\r\\n                  <div *ngIf=\\\"item.observacao != null && item.observacao != ''\\\">\\r\\n                    {{ item.observacao }}\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div> -->\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col\\\"><hr></div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col\\\" *ngIf=\\\"itensLoaded && !itensEmpty\\\">\\r\\n            <div class=\\\"mtc-title\\\">Itens da proposta</div>\\r\\n            <custom-table >\\r\\n              <ng-template #thead let-thead>\\r\\n                <tr>\\r\\n                  <th scope=\\\"col\\\">Material</th>\\r\\n                  <th scope=\\\"col\\\" class=\\\"text-center\\\">Qtde.</th>\\r\\n                  <th scope=\\\"col\\\" class=\\\"text-center\\\">Peso</th>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n              <ng-template #tbody let-tbody>\\r\\n                <tr *ngFor=\\\"let item of detalhesCarrinho\\\" >\\r\\n                  <td>{{ item.codMaterial }} - {{ item.nomeMaterial | uppercase }}</td>\\r\\n                  <td class=\\\"text-center\\\">{{ item.qtdeItem | number:'1.3-3' }}</td>\\r\\n                  <td class=\\\"text-center\\\">{{ item.peso }} TON</td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td class=\\\"bg-dark text-white text-center\\\">TOTAL</td>\\r\\n                  <td class=\\\"bg-dark text-white text-center\\\">{{ detalhes.qtdeTotal | number:'1.3-3' }}</td>\\r\\n                  <td class=\\\"bg-dark text-white text-center\\\">{{ detalhes.pesoTotal  }} TON</td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n            </custom-table>\\r\\n            <div *ngIf=\\\"itensLoaded && itensEmpty\\\">\\r\\n              <empty-result message=\\\"Nenhuma informação encontrada\\\"></empty-result>\\r\\n            </div>\\r\\n            <div class=\\\"d-flex w-100\\\" *ngIf=\\\"!itensLoaded\\\">\\r\\n              <div class=\\\"spinner-border spinner-border-sm text-dark my-auto mr-2\\\"></div>\\r\\n              <strong>Carregando itens...</strong>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </detail-panel>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <!-- Modal alteração produção -->\\r\\n<ng-template #producao>\\r\\n\\r\\n  <div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n\\r\\n        <button type=\\\"button\\\" class=\\\"close pull-right\\\" (click)=\\\"closeModal(producao)\\\" aria-label=\\\"Close\\\">\\r\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n        </button>\\r\\n        <div class=\\\"mtc-title\\\">Alteração para Produção</div>\\r\\n        <form [formGroup]=\\\"formProducao\\\" autocomplete=\\\"off\\\" #scrollToFormOnTop>\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <textarea\\r\\n                class=\\\"form-control\\\"\\r\\n                id=\\\"text-area\\\"\\r\\n                rows=\\\"3\\\"\\r\\n                formControlName=\\\"observacao\\\"\\r\\n                [readonly]=\\\"comentario\\\">\\r\\n            </textarea>\\r\\n            </div>\\r\\n          </form>\\r\\n        <div class=\\\"row mt-2\\\">\\r\\n          <div class=\\\"col\\\" style=\\\"text-align: center;\\\" >\\r\\n\\r\\n          <button\\r\\n            *ngIf = \\\"!comentario\\\"\\r\\n            type=\\\"button\\\"\\r\\n            class=\\\"btn btn-success\\\"\\r\\n            (click)=\\\"modalRef.hide(); onChangeProducao();\\\"\\r\\n            >\\r\\n            Enviar\\r\\n          </button>\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n</ng-template>\\r\\n\\r\\n<!-- Modal alteração expedição -->\\r\\n<ng-template #expedicao>\\r\\n\\r\\n  <div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n\\r\\n      <button type=\\\"button\\\" class=\\\"close pull-right\\\" (click)=\\\"closeModal(expedicao)\\\" aria-label=\\\"Close\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n      </button>\\r\\n        <div class=\\\"mtc-title\\\">Alteração para Expedição</div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <form [formGroup]=\\\"formExpedicao\\\" autocomplete=\\\"off\\\" #scrollToFormOnTop>\\r\\n              <label>Localização de Expedição</label>\\r\\n                <select\\r\\n                  class=\\\"form-control custom-select\\\"\\r\\n                  id=\\\"codLocalizacao\\\"\\r\\n                  placeholder=\\\"Selecione...\\\"\\r\\n                  formControlName=\\\"codLocalizacao\\\">\\r\\n                  <option value=\\\"\\\">Todos</option>\\r\\n                  <option value=\\\"1\\\">Piracicaba</option>\\r\\n                  <option value=\\\"2\\\">Rio das Pedras-CD</option>\\r\\n                  <option value=\\\"3\\\">Rio das Pedras-Civil</option>\\r\\n                  <option value=\\\"4\\\">Retira</option>\\r\\n                </select>\\r\\n              </form>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row mt-2\\\">\\r\\n            <div class=\\\"col\\\" style=\\\"text-align: center;\\\">\\r\\n\\r\\n            <button\\r\\n              *ngIf=\\\"!localizacao\\\"\\r\\n              type=\\\"button\\\"\\r\\n              class=\\\"btn btn-success\\\"\\r\\n              (click)=\\\"modalRef.hide(); onChangeExpedicao();\\\"\\r\\n              >\\r\\n              Enviar\\r\\n            </button>\\r\\n\\r\\n          </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n</ng-template>\\r\\n</app-body>\\r\\n\";","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n// ngx-bootstrap\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\n\r\n// Components\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesComponent } from './cliente.component';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { ComercialClientesService } from 'src/app/modules/comercial/services/clientes.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesService {\r\n  loaderNavbar: EventEmitter<boolean> = new EventEmitter();\r\n\r\n  constructor(\r\n    private modalService: BsModalService,\r\n    private pnotifyService: PNotifyService,\r\n    private clientesService: ComercialClientesService\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  showModal(codCliente: number): void {\r\n    this.loaderNavbar.emit(true);\r\n\r\n    this.clientesService\r\n      .getDetalhes(codCliente)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar.emit(false);\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            const modalConfig = {\r\n              animated: false,\r\n            };\r\n\r\n            const initialState = {\r\n              cliente: response.data,\r\n            };\r\n\r\n            this.modalService.show(\r\n              ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesComponent,\r\n              Object.assign({}, modalConfig, {\r\n                initialState,\r\n              })\r\n            );\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      });\r\n  }\r\n}\r\n","export default \"::ng-deep comercial-ciclo-vendas-cotacoes-formulario-finalizacao #progress-bar-mapa-metas {\\n  margin-top: -70px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb21lcmNpYWwvY2ljbG8tdmVuZGFzL3BlZGlkb3MtcHJvZHVjYW8tdGVsYXMvZm9ybXVsYXJpby9tb2RhbC9maW5hbGl6YWNhby9wYWRyYW8vcGFkcmFvLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVJO0VBQ0UsaUJBQUE7QUFETiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2Zvcm11bGFyaW8vbW9kYWwvZmluYWxpemFjYW8vcGFkcmFvL3BhZHJhby5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjo6bmctZGVlcCB7XHJcbiAgY29tZXJjaWFsLWNpY2xvLXZlbmRhcy1jb3RhY29lcy1mb3JtdWxhcmlvLWZpbmFsaXphY2FvIHtcclxuICAgICNwcm9ncmVzcy1iYXItbWFwYS1tZXRhcyB7XHJcbiAgICAgIG1hcmdpbi10b3A6IC03MHB4O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0= */\";","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable, forkJoin, BehaviorSubject } from 'rxjs';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\n// Services\r\nimport { ComercialCadastrosPropostasAssociacaoSituacoesPropostaService } from '../../../cadastros/propostas/associacao-situacoes-proposta/associacao-situacoes-proposta.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasListaService {\r\n  private readonly API = `http://23.254.204.187/api/comercial/ciclo-vendas/pedidos-producao-telas`;\r\n\r\n  private onChangeClienteCotacao = new BehaviorSubject([]);\r\n  clienteCotacao = this.onChangeClienteCotacao.asObservable();\r\n\r\n  private onCotacaoDuplicada = new BehaviorSubject([]);\r\n  pedidoDuplicada = this.onCotacaoDuplicada.asObservable();\r\n\r\n  private onCotacaoDesdobrada = new BehaviorSubject([]);\r\n  pedidoDesdobrada = this.onCotacaoDesdobrada.asObservable();\r\n\r\n  private onChangeEmpresaCotacao = new BehaviorSubject([]);\r\n  empresaCotacao = this.onChangeEmpresaCotacao.asObservable();\r\n\r\n  constructor(\r\n    protected http: HttpClient,\r\n    private associacaoSituacoesPropostaService: ComercialCadastrosPropostasAssociacaoSituacoesPropostaService\r\n  ) {}\r\n\r\n  loadDependencies(): Observable<Array<Object | JsonResponse>> {\r\n    const associacoes = this.associacaoSituacoesPropostaService.getListaAssociacoes(\r\n      {\r\n        codSituacao: 1,\r\n      }\r\n    );\r\n\r\n    return forkJoin([associacoes]);\r\n  }\r\n\r\n  updateClienteCotacao([selectedCliente, pedido]) {\r\n    this.onChangeClienteCotacao.next([selectedCliente, pedido]);\r\n  }\r\n\r\n  updateCotacaoDuplicada([nrProposta, codVendedor, pedido]) {\r\n    this.onCotacaoDuplicada.next([nrProposta, codVendedor, pedido]);\r\n  }\r\n\r\n  updateCotacaoDesdobrada([nrProposta, pedido, materiais]) {\r\n    this.onCotacaoDesdobrada.next([nrProposta, pedido, materiais]);\r\n  }\r\n\r\n  updateEmpresaCotacao([selectedEmpresa, selectedDeposito, nrProposta]) {\r\n    this.onChangeEmpresaCotacao.next([\r\n      selectedEmpresa,\r\n      selectedDeposito,\r\n      nrProposta,\r\n    ]);\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2Zvcm11bGFyaW8vbW9kYWwvZmluYWxpemFjYW8vcGVyZGlkYS9wZXJkaWRhLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Resolve } from '@angular/router';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n// Services\r\nimport { AuthService } from 'src/app/shared/services/core/auth.service';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasService } from './../pedidos-producao-telas.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioResolverGuard\r\n  implements Resolve<any> {\r\n  user: any;\r\n\r\n  constructor(\r\n    private pedidosProducaoTelasService: ComercialCicloVendasPedidosProducaoTelasService,\r\n    private authService: AuthService,\r\n    private dateService: DateService\r\n  ) {\r\n    this.user = this.authService.getCurrentUser().info;\r\n  }\r\n\r\n  resolve(route: ActivatedRouteSnapshot): Observable<any> {\r\n    if (route.params && route.params.nrProposta) {\r\n      return this.pedidosProducaoTelasService.getDetalhesPedidos(route.params.nrProposta)\r\n    }\r\n\r\n    // É implementado o método \"of\" para manter a tipagem de retorno com Observable.\r\n    return of({\r\n      success: true,\r\n      mensagem: null,\r\n      data:\r\n          {\r\n            codCliente: null,\r\n            codLocalizacaoEstoque: null,\r\n            codSituacao: null,\r\n            codUsuarioCadastro: null,\r\n            dataCadastro: null,\r\n            dataPrevisaoEntrega: null,\r\n            descPedido: null,\r\n            descSituacao: null,\r\n            nomeCliente: null,\r\n            nomeLocalizacaoEstoque: '',\r\n            nomeUsuarioCadastro: null,\r\n            nrPedido: null,\r\n            pesoTotal: null,\r\n            prioridade: null,\r\n            razaoSocial: null,\r\n            codRazaoSocial: null,\r\n            codEndereco: null,\r\n            carrinho: []\r\n        },\r\n\r\n\r\n\r\n    });\r\n  }\r\n}\r\n","import { ComercialCicloVendasPedidosProducaoTelasService } from './../../../pedidos-producao-telas.service';\r\nimport { Injectable, EventEmitter } from '@angular/core';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n// ngx-bootstrap\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\n\r\n// Components\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoComponent } from './historico-exclusao.component';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoService {\r\n  loaderNavbar: EventEmitter<boolean> = new EventEmitter();\r\n\r\n  constructor(\r\n    private modalService: BsModalService,\r\n    private pnotifyService: PNotifyService,\r\n    private cotacoesService: ComercialCicloVendasPedidosProducaoTelasService\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  showModal(codCotacao: number): void {\r\n    this.loaderNavbar.emit(true);\r\n\r\n    this.cotacoesService\r\n      .getHistoricoExclusao(codCotacao)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar.emit(false);\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            const modalConfig = {\r\n              animated: false,\r\n              class: 'modal-lg',\r\n            };\r\n\r\n            const initialState = {\r\n              exclusoes: response.data,\r\n            };\r\n\r\n            this.modalService.show(\r\n              ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoComponent,\r\n              Object.assign({}, modalConfig, {\r\n                initialState,\r\n              })\r\n            );\r\n          } else {\r\n            this.pnotifyService.notice('Nenhuma informação encontrada.');\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { take, retry } from 'rxjs/operators';\r\nimport { Observable, forkJoin } from 'rxjs';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\n// Services\r\nimport { ComercialService } from '../../comercial.service';\r\nimport { ComercialTidSoftwareService } from '../../tid-software/tid-software.service';\r\nimport { ComercialEstoqueService } from '../../estoque/estoque.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasService {\r\n  private readonly API = `http://23.254.204.187/api/comercial/ciclo-vendas/pedidos-producao-telas`;\r\n\r\n  constructor(\r\n    protected http: HttpClient,\r\n    private comercialService: ComercialService,\r\n    private tidSoftwareService: ComercialTidSoftwareService,\r\n    private estoqueService: ComercialEstoqueService\r\n  ) {}\r\n\r\n  getPermissoesAcesso(): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/permissoes-acesso`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getPedidosProducaoTelas(params: any): Observable<Object | JsonResponse> {\r\n    let httpParams = new HttpParams();\r\n\r\n    for (let param in params) {\r\n      httpParams = httpParams.append(param, params[param]);\r\n    }\r\n\r\n    return this.http\r\n      .get(`${this.API}/lista`, { params: httpParams })\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getDetalhesPedidosProducaoTelas(\r\n    codEmpresa: number,\r\n    nrProposta: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/detalhes/${nrProposta}`)\r\n      // .get(`${this.API}/detalhes/${codEmpresa}/${nrProposta}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getMateriaisPedidosProducaoTelas(\r\n    codEmpresa: number,\r\n    nrProposta: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/materiais/detalhes/${codEmpresa}/${nrProposta}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getSituacaoLiberacao(nrProposta: number): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/situacao-liberacao/${nrProposta}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postTrocarCliente(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/trocar/cliente`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postDuplicarProposta(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/duplicar-proposta`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postDesdobrarProposta(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/desdobrar-proposta`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postTrocarEmpresa(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/trocar/empresa`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getImprimirCotacao(nrProposta: number): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/imprimir-cotacao/${nrProposta}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postEmailCotacao(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/email-cotacao`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getReservarIdCotacao(): Observable<Object | JsonResponse> {\r\n    return this.http.get(`${this.API}/reservar`).pipe(take(1), retry(2));\r\n  }\r\n\r\n  getCotacao(\r\n    codCotacao: number,\r\n    idEmpresa: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/${codCotacao}/${idEmpresa}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getCotacaoFilterValues(): Observable<Object | JsonResponse> {\r\n    const linhas = this.tidSoftwareService.getLinhas();\r\n    const classes = this.comercialService.getClasses(null);\r\n\r\n    return forkJoin([linhas, classes]);\r\n  }\r\n\r\n  getMateriais(params: any): Observable<Object | JsonResponse> {\r\n    let httpParams = new HttpParams();\r\n\r\n    for (let param in params) {\r\n      httpParams = httpParams.append(param, params[param]);\r\n    }\r\n\r\n    return this.http\r\n      .get(`${this.API}/materiais`, { params: httpParams })\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getEstoqueDetalhes(params: any): Observable<Object | JsonResponse> {\r\n    return this.estoqueService.getEstoqueAtual(params);\r\n  }\r\n\r\n  getEstoqueDepositos(\r\n    codDeposito: number,\r\n    codMaterial: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(\r\n        `${this.API}/materiais/estoque-depositos/${codMaterial}/${codDeposito}`\r\n      )\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getMateriaisCombo(\r\n    codEmpresa: number,\r\n    codMaterial: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/materiais/combo/${codEmpresa}/${codMaterial}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postVendasGerais(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/materiais/relacionados`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postVendasCliente(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/materiais/relacionados`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postMateriaisRelacionados(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/materiais/relacionados`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n\r\n  getFichaCadastralMaterial(\r\n    codMaterial: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/material/ficha-cadastral/${codMaterial}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getSimilaridadeMaterial(\r\n    codEmpresa: number,\r\n    codMaterial: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/material/similaridade/${codEmpresa}/${codMaterial}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getTipoCalculoMaterial(\r\n    codMaterial: number,\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/material/tipo-calculo/${codMaterial}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getCalculoMaterial(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/material/calculo`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n   // postCalculoMaterial(params: any): Observable<Object | JsonResponse> {\r\n  //   return this.http\r\n  //     .post(`${this.API}/material/calculo`, params)\r\n  //     .pipe(take(1), retry(2));\r\n  // }\r\n\r\n  getHistoricoCompras(\r\n    codEmpresa: number,\r\n    codCliente: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/historico-compras/${codEmpresa}/${codCliente}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postGerarDuplicatas(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/duplicatas/gerar`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postAlterarDuplicatas(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/duplicatas/alterar`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getHistoricoExclusao(codCotacao: number): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/historico-exclusao/${codCotacao}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postCotacaoPerdida(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/perdida/salvar`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getComissaoCotacao(\r\n    codCotacao: number,\r\n    codEmpresa: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/comissao/${codCotacao}/${codEmpresa}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getProgressoCotacao(\r\n    codCotacao: number,\r\n    codEmpresa: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/progresso/${codCotacao}/${codEmpresa}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getDetalhesPedidos(\r\n    nrPedido: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/detalhes/${nrPedido}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getDetailPanel(\r\n    nrPedido: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/detail-panel/${nrPedido}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postCotacao(params: any): Observable<Object | JsonResponse> {\r\n    return this.http.post(`${this.API}/salvar`, params).pipe(take(1));\r\n  }\r\n\r\n  putCotacao(params: any): Observable<Object | JsonResponse> {\r\n    return this.http.put(`${this.API}/atualizar`, params).pipe(take(1));\r\n  }\r\n\r\n  deleteMaterialCotacao(\r\n    index: number,\r\n    codMaterial: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .delete(`${this.API}/materiais/excluir/${codMaterial}/${index}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n}\r\n","export default \"<div *ngIf=\\\"showApp\\\">\\r\\n  <div class=\\\"row mb-2\\\">\\r\\n    <div class=\\\"col mt-auto\\\">\\r\\n      <div class=\\\"mtc-title mb-0\\\">Pesquisa de materiais</div>\\r\\n    </div>\\r\\n    <div class=\\\"col\\\">\\r\\n      <div class=\\\"d-flex justify-content-end\\\">\\r\\n        <button\\r\\n          type=\\\"button\\\"\\r\\n          class=\\\"btn btn-sm btn-secondary\\\"\\r\\n          (click)=\\\"onFilter()\\\"\\r\\n          [disabled]=\\\"materiaisLoader || searching\\\">\\r\\n          <i class=\\\"fas fa-search\\\"></i>\\r\\n          <span>Pesquisar</span>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <advanced-filter class=\\\"mb-4\\\">\\r\\n    <form [formGroup]=\\\"form\\\">\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"codLinha\\\">Linha</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"linhas\\\"\\r\\n            formControlName=\\\"codLinha\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            labelForId=\\\"codLinha\\\"\\r\\n            bindLabel=\\\"descricao\\\"\\r\\n            bindValue=\\\"id\\\"\\r\\n            (change)=\\\"onChangeLinha($event.id, true)\\\"\\r\\n            [ngClass]=\\\"onFieldError('codLinha') + ' ' + onFieldRequired(form.controls.codLinha)\\\">\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-3\\\">\\r\\n          <label for=\\\"codClasse\\\">Classe</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"filteredClasses\\\"\\r\\n            formControlName=\\\"codClasse\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            labelForId=\\\"codClasse\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            bindLabel=\\\"nomeClasse\\\"\\r\\n            bindValue=\\\"idClasse\\\"\\r\\n            (change)=\\\"onChangeClasse($event.idClasse, true, 'application')\\\">\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-4\\\">\\r\\n          <label for=\\\"codMaterial\\\">Material</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"materiais\\\"\\r\\n            formControlName=\\\"codMaterial\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            labelForId=\\\"codMaterial\\\"\\r\\n            bindLabel=\\\"codigoDescricaoMaterial\\\"\\r\\n            bindValue=\\\"codigoMaterial\\\"\\r\\n            [loading]=\\\"materiaisLoader\\\"\\r\\n            loadingText=\\\"Carregando...\\\">\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"comEstoque\\\">Somente c/ estoque</label>\\r\\n          <select\\r\\n            class=\\\"form-control custom-select\\\"\\r\\n            id=\\\"comEstoque\\\"\\r\\n            formControlName=\\\"comEstoque\\\"\\r\\n            [ngClass]=\\\"onFieldError('comEstoque') + ' ' + onFieldRequired(form.controls.comEstoque)\\\">\\r\\n            <option value=\\\"0\\\">Exhibir todos</option>\\r\\n            <option value=\\\"1\\\">Sim</option>\\r\\n            <option value=\\\"2\\\">Não</option>\\r\\n          </select>\\r\\n          <invalid-form-control [show]=\\\"onFieldInvalid('comEstoque')\\\" message=\\\"Estoque é obrigatório.\\\"></invalid-form-control>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-1\\\">\\r\\n          <label for=\\\"registros\\\">Registros</label>\\r\\n          <select\\r\\n            class=\\\"form-control custom-select\\\"\\r\\n            id=\\\"registros\\\"\\r\\n            formControlName=\\\"registros\\\">\\r\\n            <option>100</option>\\r\\n            <option>200</option>\\r\\n            <option>300</option>\\r\\n          </select>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </advanced-filter>\\r\\n  <div *ngIf=\\\"dados.length > 0 && !dadosEmpty\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col my-auto\\\">\\r\\n        <subtitles [data]=\\\"subtitles\\\" [show]=\\\"true\\\"></subtitles>\\r\\n      </div>\\r\\n      <div class=\\\"col mb-2\\\">\\r\\n        <div class=\\\"d-flex justify-content-end\\\">\\r\\n          <div class=\\\"form-group pt-1 mb-0 mr-3\\\">\\r\\n            <div class=\\\"custom-control custom-checkbox\\\">\\r\\n              <input\\r\\n               type=\\\"checkbox\\\"\\r\\n               class=\\\"custom-control-input\\\"\\r\\n               id=\\\"auto-scroll\\\"\\r\\n               [(ngModel)]=\\\"autoScroll\\\"\\r\\n               [ngModelOptions]=\\\"{ standalone: true }\\\">\\r\\n              <label class=\\\"custom-control-label\\\" for=\\\"auto-scroll\\\">\\r\\n                <span class=\\\"mr-1\\\">Auto-scroll</span>\\r\\n                <ng-template #tooltipAutoScrollTemplate>\\r\\n                  <p class=\\\"text-nowrap mb-0\\\">Habilitar essa opção</p>\\r\\n                  <p class=\\\"text-nowrap mb-0\\\">redireciona para o carrinho</p>\\r\\n                  <p class=\\\"text-nowrap mb-0\\\">ao adicionar um material</p>\\r\\n                </ng-template>\\r\\n                <i class=\\\"far fa-question-circle\\\" [tooltip]=\\\"tooltipAutoScrollTemplate\\\"></i>\\r\\n              </label>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group mb-0\\\">\\r\\n            <button\\r\\n              type=\\\"button\\\"\\r\\n              class=\\\"btn btn-sm btn-success\\\"\\r\\n              (click)=\\\"onAddMaterial()\\\">\\r\\n              <i class=\\\"fas fa-shopping-cart\\\"></i>\\r\\n              <span>Adicionar</span>\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row mb-3\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <custom-table [config]=\\\"tableConfig\\\">\\r\\n          <ng-template #thead let-thead>\\r\\n            <tr>\\r\\n              <th\\r\\n                scope=\\\"col\\\"\\r\\n                class=\\\"text-center\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('disponibilidade') }\\\">\\r\\n                <btn-icon\\r\\n                  [icon]=\\\"toggleAll ? 'fas fa-check-square' : 'far fa-square'\\\"\\r\\n                  size=\\\"small\\\"\\r\\n                  (click)=\\\"onToggleAll()\\\">\\r\\n                </btn-icon>\\r\\n              </th>\\r\\n              <th\\r\\n                scope=\\\"col\\\"\\r\\n                class=\\\"text-center\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('codMaterial') }\\\">\\r\\n                <thead-sorter\\r\\n                  value=\\\"Código\\\"\\r\\n                  [active]=\\\"orderBy == 'codMaterial'\\\"\\r\\n                  [sort]=\\\"orderType\\\"\\r\\n                  (click)=\\\"setOrderBy('codMaterial')\\\">\\r\\n                </thead-sorter>\\r\\n              </th>\\r\\n              <th\\r\\n                scope=\\\"col\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('nomeMaterial') }\\\">\\r\\n                <thead-sorter\\r\\n                  value=\\\"Nome do material\\\"\\r\\n                  [active]=\\\"orderBy == 'nomeMaterial'\\\"\\r\\n                  [sort]=\\\"orderType\\\"\\r\\n                  (click)=\\\"setOrderBy('nomeMaterial')\\\">\\r\\n                </thead-sorter>\\r\\n              </th>\\r\\n              <th\\r\\n                scope=\\\"col\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('nomeLinha') }\\\">\\r\\n                Linha\\r\\n              </th>\\r\\n              <th\\r\\n                scope=\\\"col\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('nomeDeposito') }\\\">\\r\\n                Depósito\\r\\n              </th>\\r\\n              <th\\r\\n                scope=\\\"col\\\"\\r\\n                class=\\\"text-center\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('estoqueAtual') }\\\">\\r\\n                Est. Atual\\r\\n              </th>\\r\\n              <th\\r\\n                scope=\\\"col\\\"\\r\\n                class=\\\"text-center\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('estoqueDisponivel') }\\\">\\r\\n                Est. Disponível\\r\\n              </th>\\r\\n              <th scope=\\\"col\\\" [ngStyle]=\\\"{ width: columSize('buttons') }\\\"></th>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n          <ng-template #tbody let-tbody>\\r\\n            <tr *ngFor=\\\"let material of dados; let i = index\\\" [class.table-active]=\\\"i == activeRow\\\">\\r\\n              <td\\r\\n                class=\\\"text-truncate text-center\\\"\\r\\n                [ngClass]=\\\"classStatusBorder(material.disponibilidade)\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('disponibilidade') }\\\">\\r\\n                <ng-template #tooltipMaterialSemEstoqueTemplate>\\r\\n                  <p class=\\\"text-nowrap mb-0\\\">Material</p>\\r\\n                </ng-template>\\r\\n                <btn-icon\\r\\n                  [icon]=\\\"material.checked == 1 ? 'fas fa-check-square' : 'far fa-square'\\\"\\r\\n                  size=\\\"small\\\"\\r\\n                  [isDisabled]=\\\"material.disponibilidade === 1\\\"\\r\\n                  [tooltip]=\\\"tooltipMaterialSemEstoqueTemplate\\\"\\r\\n                  placement=\\\"left\\\"\\r\\n                  (click)=\\\"onCheckMaterial(i, material)\\\">\\r\\n                </btn-icon>\\r\\n              </td>\\r\\n              <td\\r\\n                class=\\\"text-truncate text-center hover\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('codMaterial') }\\\"\\r\\n                (click)=\\\"onClickMaterial(i, material)\\\">\\r\\n                {{ material.codMaterial }}\\r\\n              </td>\\r\\n              <td\\r\\n                class=\\\"text-truncate hover\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('nomeMaterial') }\\\"\\r\\n                (click)=\\\"onClickMaterial(i, material)\\\">\\r\\n                {{ material.nomeMaterial | uppercase }}\\r\\n              </td>\\r\\n              <td\\r\\n                class=\\\"text-truncate hover\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('nomeLinha') }\\\"\\r\\n                (click)=\\\"onClickMaterial(i, material)\\\">\\r\\n                {{ material.nomeLinha | uppercase }}\\r\\n              </td>\\r\\n              <td\\r\\n                class=\\\"text-truncate hover\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('nomeDeposito') }\\\"\\r\\n                (click)=\\\"onClickMaterial(i, material)\\\">\\r\\n                {{ material.nomeDeposito | uppercase }}\\r\\n              </td>\\r\\n              <td\\r\\n                class=\\\"text-truncate text-center hover\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('estoqueAtual') }\\\"\\r\\n                (click)=\\\"onClickMaterial(i, material)\\\">\\r\\n                {{ material.estoqueAtual | number:'1.3-3' }} {{ material.unidade | uppercase }}\\r\\n              </td>\\r\\n              <td\\r\\n                class=\\\"text-truncate text-center hover\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('estoqueDisponivel') }\\\"\\r\\n                (click)=\\\"onClickMaterial(i, material)\\\">\\r\\n                {{ material.estoqueDisponivel | number:'1.3-3' }} {{ material.unidade | uppercase }}\\r\\n              </td>\\r\\n              <td class=\\\"text-right\\\" [ngStyle]=\\\"{ width: columSize('buttons') }\\\">\\r\\n                <btn-icon\\r\\n                  icon=\\\"fas fa-warehouse\\\"\\r\\n                  size=\\\"small\\\"\\r\\n                  class=\\\"mr-3\\\"\\r\\n                  tooltip=\\\"Detalhamento do estoque\\\"\\r\\n                  container=\\\"body\\\"\\r\\n                  (click)=\\\"onEstoqueDetalhes(material)\\\">\\r\\n                </btn-icon>\\r\\n                <!-- <comercial-ciclo-vendas-cotacoes-formulario-template-button-disponibilidade\\r\\n                  [index]=\\\"i\\\"\\r\\n                  [codMaterial]=\\\"material.codMaterial\\\"\\r\\n                  [deposito]=\\\"{ codDeposito: material.codDeposito, nomeDeposito: material.nomeDeposito, quantidade: material.estoqueAtual, unidade: material.unidade }\\\"\\r\\n                  (onChange)=\\\"onChangeDeposito($event)\\\"\\r\\n                  (activeRow)=\\\"onActiveRow($event)\\\"\\r\\n                  tooltip=\\\"Estoque em outras unidades\\\"\\r\\n                  container=\\\"body\\\">\\r\\n                </comercial-ciclo-vendas-cotacoes-formulario-template-button-disponibilidade>\\r\\n                <comercial-ciclo-vendas-cotacoes-formulario-template-button-outros\\r\\n                  [index]=\\\"i\\\"\\r\\n                  [material]=\\\"material\\\"\\r\\n                  (activeRow)=\\\"onActiveRow($event)\\\">\\r\\n                </comercial-ciclo-vendas-cotacoes-formulario-template-button-outros> -->\\r\\n              </td>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n        </custom-table>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"row\\\" *ngIf=\\\"searching === true\\\">\\r\\n    <div class=\\\"col\\\">\\r\\n      <message\\r\\n        icon=\\\"fas fa-cog fa-spin\\\"\\r\\n        text=\\\"Estamos pesquisando os materiais para você...\\\">\\r\\n      </message>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div *ngIf=\\\"searching === false\\\">\\r\\n    <div class=\\\"row\\\" *ngIf=\\\"dadosEmpty && dadosLoaded\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <message\\r\\n          icon=\\\"fas fa-box-open\\\"\\r\\n          text=\\\"Nenhuma informação encontrada\\\">\\r\\n        </message>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" *ngIf=\\\"dados.length === 0 && !firstSearch\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <message\\r\\n          icon=\\\"fas fa-search\\\"\\r\\n          text=\\\"Preecha os campos acima para pesquisar materiais\\\">\\r\\n        </message>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2xpc3RhL2xpc3RhLmNvbXBvbmVudC5zY3NzIn0= */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2Zvcm11bGFyaW8vbW9kYWwvZGV0YWxoZXMvY2xpZW50ZS5jb21wb25lbnQuc2NzcyJ9 */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2Zvcm11bGFyaW8vY2FycmluaG8vY2FycmluaG8uY29tcG9uZW50LnNjc3MifQ== */\";","import { ComercialCicloVendasCotacoesListaModule } from './../../cotacoes/lista/lista.module';\r\n// Components\r\nimport { ComercialCicloVendasPedidosProducaoTelasListaComponent } from './lista.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n// ngx-bootstrap\r\nimport { PaginationModule } from 'ngx-bootstrap/pagination';\r\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\r\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\r\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\r\n\r\n// ng-select\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\n// Modules\r\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\r\nimport { TemplatesModule } from 'src/app/shared/templates/templates.module';\r\nimport { ComercialClientesDashboardModule } from '../../../clientes/dashboard/dashboard.module';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModule } from '../formulario/formulario.module';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ComercialCicloVendasPedidosProducaoTelasListaComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    PaginationModule.forRoot(),\r\n    BsDatepickerModule.forRoot(),\r\n    TooltipModule.forRoot(),\r\n    BsDropdownModule.forRoot(),\r\n    NgSelectModule,\r\n    SharedModule,\r\n    TemplatesModule,\r\n    ComercialClientesDashboardModule,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModule,\r\n    ComercialCicloVendasCotacoesListaModule,\r\n  ],\r\n  exports: [\r\n    ComercialCicloVendasPedidosProducaoTelasListaComponent,\r\n  ],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasListaModule {}\r\n","export default \"button[disabled] {\\n  cursor: no-drop;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb21lcmNpYWwvY2ljbG8tdmVuZGFzL3BlZGlkb3MtcHJvZHVjYW8tdGVsYXMvZm9ybXVsYXJpby9tb2RhbC9zZWxlY2lvbmFyL3NlbGVjaW9uYXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFBO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2NvbWVyY2lhbC9jaWNsby12ZW5kYXMvcGVkaWRvcy1wcm9kdWNhby10ZWxhcy9mb3JtdWxhcmlvL21vZGFsL3NlbGVjaW9uYXIvc2VsZWNpb25hci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImJ1dHRvbltkaXNhYmxlZF17XHJcbiAgY3Vyc29yOiBuby1kcm9wO1xyXG59XHJcbiJdfQ== */\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\n// Guards\r\nimport { FormDeactivateGuard } from 'src/app/guards/form-deactivate.guard';\r\n\r\n// Modules\r\nimport { ComercialCicloVendasPedidosProducaoTelasListaModule } from './lista/lista.module';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModule } from './formulario/formulario.module';\r\n\r\n// Components\r\nimport { ComercialCicloVendasPedidosProducaoTelasListaComponent } from './lista/lista.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioComponent } from './formulario/formulario.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioResolverGuard } from './guards/formulario-resolver.guard';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'lista',\r\n    component: ComercialCicloVendasPedidosProducaoTelasListaComponent,\r\n  },\r\n  {\r\n    path: 'novo',\r\n    component: ComercialCicloVendasPedidosProducaoTelasFormularioComponent,\r\n    resolve: {\r\n      data: ComercialCicloVendasPedidosProducaoTelasFormularioResolverGuard,\r\n    },\r\n    canDeactivate: [FormDeactivateGuard],\r\n  },\r\n  {\r\n    path: 'editar/:nrProposta',\r\n    component: ComercialCicloVendasPedidosProducaoTelasFormularioComponent,\r\n    resolve: {\r\n      data: ComercialCicloVendasPedidosProducaoTelasFormularioResolverGuard,\r\n    },\r\n    canDeactivate: [FormDeactivateGuard],\r\n  },\r\n  {\r\n    path: '',\r\n    redirectTo: 'lista',\r\n    pathMatch: 'full',\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes),\r\n    ComercialCicloVendasPedidosProducaoTelasListaModule,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModule,\r\n  ],\r\n  exports: [RouterModule],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasRoutingModule {}\r\n","import { PageChangedEvent } from 'ngx-bootstrap/pagination';\r\nimport { ComercialVendedoresService } from 'src/app/modules/comercial/services/vendedores.service';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { PNotify } from 'pnotify/dist/es/PNotify';\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal';\r\nimport { Component, OnInit, Input, EventEmitter, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'comercial-cliclo-vendas-pedidos-producao-telas-formulario-modal-selecionar',\r\n  templateUrl: './selecionar.component.html',\r\n  styleUrls: ['./selecionar.component.scss']\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalSelecionarComponent\r\n  implements OnInit {\r\n  loaderNavbar: EventEmitter<boolean> = new EventEmitter();\r\n\r\n  @Output() cliente = new EventEmitter();\r\n  @Output() fecharModal = new EventEmitter();\r\n\r\n  formClientes: FormGroup;\r\n  loadingClientes:boolean\r\n  noClientes = true;\r\n  clientes = [];\r\n\r\n    /* Pagination */\r\n    itemsPerPage = 10;\r\n    begin = 0;\r\n    end = 20;\r\n    /* Pagination */\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private pnotifyService: PNotifyService,\r\n    private bsModalRef: BsModalRef,\r\n    private comercialService: ComercialVendedoresService\r\n\r\n    ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setFormBuilder();\r\n  }\r\n\r\n  onClose(): void {\r\n    this.fecharModal.emit(true)\r\n  }\r\n\r\n  getClientes(params?){\r\n    const _params = params ?? {};\r\n    const _obj = this.formClientes.value;\r\n    this.loadingClientes = true;\r\n    if (_obj['pesquisa']) _params[_obj['buscarPor']] = _obj['pesquisa'];\r\n    this.comercialService\r\n      .getCarteiraClientes(_params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingClientes = false;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n              this.noClientes = false;\r\n              this.clientes = response.data;\r\n          } else {\r\n            this.noClientes = true;\r\n            this.pnotifyService.notice('Nenhum cliente encontrado!');\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      });\r\n  }\r\n\r\n  setCliente(cliente) {\r\n    console.log(cliente)\r\n    this.cliente.emit(cliente)\r\n  }\r\n\r\n  setFormBuilder(): void {\r\n    this.formClientes = this.formBuilder.group({\r\n      buscarPor: ['NM_CLIE'],\r\n      pesquisa: [null, Validators.required],\r\n      NM_CLIE:[null],\r\n      registros: [this.itemsPerPage],\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","export default \"<div class=\\\"modal-header\\\">\\r\\n  <h4 class=\\\"modal-title pull-left\\\">Busqueda de clientes</h4>\\r\\n  <div class=\\\"d-flex justify-content-center align-items-center\\\">\\r\\n    <div class=\\\"spinner-border text-primary mr-2\\\" role=\\\"status\\\" *ngIf=\\\"loadingClientes\\\">\\r\\n      <span class=\\\"sr-only\\\">Loading...</span>\\r\\n    </div>\\r\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"onClose()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\">\\r\\n  <advanced-filter>\\r\\n    <form [formGroup]=\\\"formClientes\\\">\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col-4\\\">\\r\\n          <label for=\\\"cdItem\\\">BUSCAR POR</label>\\r\\n          <select\\r\\n            class=\\\"form-control custom-select\\\"\\r\\n            formControlName=\\\"buscarPor\\\"\\r\\n          >\\r\\n            <option value=\\\"NM_CLIE\\\" selected>Código, nombre de fantasía o razón social</option>\\r\\n          </select>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group col-8\\\">\\r\\n          <label>TÉRMINOS DE BÚSQUEDA</label>\\r\\n          <div class=\\\"input-group\\\">\\r\\n            <input\\r\\n              type=\\\"text\\\"\\r\\n              class=\\\"form-control\\\"\\r\\n              formControlName=\\\"pesquisa\\\"\\r\\n              >\\r\\n              <div class=\\\"input-group-append\\\">\\r\\n                <span \\r\\n                  [tooltip]=\\\"formClientes.valid == false ? 'Digite um termo de pesquisa':''\\\"\\r\\n                  container=\\\"body\\\"\\r\\n                  placement =\\\"left\\\"\\r\\n                >\\r\\n                  <button\\r\\n                  style=\\\"height: 25px;\\\"\\r\\n                    [disabled]=\\\"formClientes.valid == false\\\"\\r\\n                    class=\\\"input-group-text hover\\\"\\r\\n                    (click)=\\\"getClientes()\\\"\\r\\n                    >\\r\\n                    <i class=\\\"fas fa-search\\\"></i>\\r\\n                  </button>\\r\\n                </span>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </advanced-filter>\\r\\n  <custom-table *ngIf=\\\"!noClientes\\\" class=\\\"text-center\\\">\\r\\n    <ng-template #thead let-thead>\\r\\n      <tr>\\r\\n        <th>Cód Cliente </th>\\r\\n        <th>Nombre Fantasia</th>\\r\\n        <th>Razon Social </th>\\r\\n        <th></th>\\r\\n      </tr>\\r\\n    </ng-template>\\r\\n    <ng-template #tbody let-tbody>\\r\\n      <tr *ngFor=\\\"let cliente of clientes | slice : begin : end; let i = index\\\">\\r\\n        <td>{{ cliente.codCliente }}</td>\\r\\n        <td>{{ cliente.nomeCliente }}</td>\\r\\n        <td>{{ cliente.razaoSocial }}</td>\\r\\n        <td>\\r\\n          <button\\r\\n            class=\\\"btn-icon-sm\\\"\\r\\n            tooltip=\\\"Salvar Informações\\\"\\r\\n            container=\\\"body\\\"\\r\\n            (click)=\\\"setCliente(cliente);onClose()\\\"\\r\\n          >\\r\\n            <i class=\\\"far fa-save\\\"></i>\\r\\n          </button>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </ng-template>\\r\\n  </custom-table>\\r\\n</div>\";","import { ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesService } from './modal/detalhes/cliente.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasService } from './../pedidos-producao-telas.service';\r\nimport { ComercialCicloVendasCotacoesFormularioModalMaterialComboService } from './../../cotacoes/formulario/modal/material/combo/combo.service';\r\n// import { ComercialCicloVendasCotacoesFormularioModalDetalhesClienteService } from './../../cotacoes/formulario/modal/detalhes/cliente/cliente.service';\r\nimport { ComercialCicloVendasCotacoesFormularioModalMaterialDescontoService } from './../../cotacoes/formulario/modal/material/desconto/desconto.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoService } from './modal/material/calculo/calculo.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoService } from './modal/finalizacao/finalizacao.service';\r\nimport { ICarrinhoModel } from './../../cotacoes/formulario/models/carrinho';\r\nimport { IPermissoesAcessoModel } from './../../cotacoes/formulario/models/permissoes-acesso';\r\nimport { ComercialCicloVendasCotacoesFormularioModalHistoricoComprasService } from './../../cotacoes/formulario/modal/cliente/historico-compras/historico-compras.service';\r\nimport { ComercialCicloVendasCotacoesFormularioModalMaterialEstoqueService } from './../../cotacoes/formulario/modal/material/estoque/estoque.service';\r\nimport {\r\n  Component,\r\n  OnInit,\r\n  OnDestroy,\r\n  ViewChild,\r\n  Input,\r\n  ElementRef,\r\n  HostListener,\r\n  TemplateRef\r\n} from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  AbstractControl,\r\n  Validators,\r\n  FormArray,\r\n} from '@angular/forms';\r\nimport { Subscription, EMPTY } from 'rxjs';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\n// ngx-bootstrap\r\nimport { BsLocaleService, BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\r\nimport { defineLocale } from 'ngx-bootstrap/chronos';\r\nimport { ptBrLocale } from 'ngx-bootstrap/locale';\r\n\r\ndefineLocale('pt-br', ptBrLocale);\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { ConfirmModalService } from 'src/app/shared/modules/confirm-modal/confirm-modal.service';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\nimport { TitleService } from 'src/app/shared/services/core/title.service';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\nimport { ComercialClientesService } from '../../../services/clientes.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioService } from './formulario.service';\r\nimport { ComercialCicloVendasCotacoesFormularioService } from '../../cotacoes/formulario/formulario.service';\r\nimport { ComercialCicloVendasCotacoesFormularioModalDetalhesEnderecoService } from '../../cotacoes/formulario/modal/detalhes/endereco/endereco.service';\r\n\r\n// Interfaces\r\nimport { IFormCanDeactivate } from 'src/app/guards/iform-candeactivate';\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\nimport { SituacaoProposta } from '../../../cadastros/situacao-proposta/models/situacao-proposta';\r\nimport { FormasPagamento } from '../../../cadastros/formas-pagamento/models/formas-pagamento';\r\nimport { FormaContato } from '../../../cadastros/contato/formas-contato/models/formas-contato';\r\nimport { OrigemContato } from '../../../cadastros/contato/origem-contato/models/origem-contato';\r\nimport { Transportadora } from '../../../cadastros/transportadoras/models/transportadora';\r\n\r\n\r\n@Component({\r\n  selector: 'comercial-ciclo-vendas-pedidos-producao-telas-formulario',\r\n  templateUrl: './formulario.component.html',\r\n  styleUrls: ['./formulario.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioComponent\r\n  implements OnInit, OnDestroy, IFormCanDeactivate {\r\n  permissoesAcesso: IPermissoesAcessoModel = {\r\n    acessoClientes: false,\r\n    historicoExclusao: false,\r\n    duplicataCarteira: false,\r\n  };\r\n\r\n  @ViewChild('scrollToFormOnTop', {}) scrollToFormOnTop: ElementRef;\r\n  @ViewChild('scrollToFormOnBottom', {}) scrollToFormOnBottom: ElementRef;\r\n  @ViewChild('scrollToCarrinho', {}) scrollToCarrinho: ElementRef;\r\n\r\n  // @Input('dadosCalculo') dadosCcalculo: Array<any>;\r\n\r\n  loaderNavbar: boolean;\r\n  loaderFullScreen = true;\r\n  autoScrollToCarrinho = true;\r\n\r\n  activatedRouteSubscription: Subscription;\r\n\r\n  loaderFichaCadastralSubscription: Subscription;\r\n  loaderSimilaridadeSubscription: Subscription;\r\n  loaderCalculoSubscription: Subscription;\r\n  loaderDescontoSubscription: Subscription;\r\n  loaderComboSubscription: Subscription;\r\n  loaderEstoqueDetalhesSubscription: Subscription;\r\n  loaderHistoricoComprasSubscription: Subscription;\r\n  loaderDetalhesClienteSubscription: Subscription;\r\n  loaderFinalizacaoSubscription: Subscription;\r\n\r\n  appTitle: string;\r\n\r\n  idSubModulo: number;\r\n  codEndereco: number;\r\n  idReservado: number;\r\n  codCotacao: number;\r\n\r\n  breadCrumbTree: Array<Breadcrumb> = [];\r\n\r\n  bsConfig: Partial<BsDatepickerConfig>;\r\n\r\n  dependenciesLoaded = false;\r\n\r\n  action: string;\r\n\r\n  modalRef: BsModalRef;\r\n\r\n  codClienteSubscription: Subscription;\r\n  isCarteiraClientesLoaded: boolean;\r\n\r\n  carrinhoHasError = false;\r\n\r\n  form: FormGroup;\r\n  codClientErrors = false;\r\n\r\n  situacoes: Array<SituacaoProposta> = [];\r\n  empresas: Array<any> = [];\r\n  depositos: Array<any> = [];\r\n  filteredDepositos: Array<any> = [];\r\n  formasPagamento: Array<FormasPagamento> = [];\r\n  formasContato: Array<FormaContato> = [];\r\n  origensContato: Array<OrigemContato> = [];\r\n  transportadoras: Array<Transportadora> = [];\r\n  formData: Array<FormData> = [];\r\n\r\n  carrinho: Array<ICarrinhoModel> = [];\r\n  materiais: Array<ICarrinhoModel> = [];\r\n  valorProposta: number;\r\n\r\n  producao: boolean = false;\r\n  expedicao: boolean = false;\r\n  unsaved: boolean = true;\r\n  pesoQtdade: boolean;\r\n\r\n  locaisEntrega: Array<any> = [];\r\n  locaisEntregaLoader: boolean;\r\n\r\n  contatos: Array<any> = [];\r\n  contatosLoader: boolean;\r\n\r\n  dadosLancamento: {\r\n    data: string;\r\n    codVendedor: number;\r\n    nomeVendedor: string;\r\n  } = {\r\n    data: null,\r\n    codVendedor: null,\r\n    nomeVendedor: null,\r\n  };\r\n\r\n    // // Tipos de Situação dos Pedidos (Ativo/Inativo)\r\n    // tipos = [\r\n    //   {\r\n    //     cod: '1',\r\n    //     nome: 'Em Aberto',\r\n    //   },\r\n    //   {\r\n    //     cod: '2',\r\n    //     nome: 'Produção',\r\n    //   },\r\n    //   {\r\n    //     cod: '3',\r\n    //     nome: 'Expedição',\r\n    //   },\r\n    //   {\r\n    //     cod: '4',\r\n    //     nome: 'Cancelado',\r\n    //   },\r\n    // ];\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private location: Location,\r\n    private formBuilder: FormBuilder,\r\n    private localeService: BsLocaleService,\r\n    private pnotifyService: PNotifyService,\r\n    private confirmModalService: ConfirmModalService,\r\n    private atividadesService: AtividadesService,\r\n    private titleService: TitleService,\r\n    private dateService: DateService,\r\n    private formularioService: ComercialCicloVendasPedidosProducaoTelasFormularioService,\r\n    private formularioCotacoesService: ComercialCicloVendasCotacoesFormularioService,\r\n    private enderecoDetalhesService: ComercialCicloVendasCotacoesFormularioModalDetalhesEnderecoService,\r\n    private historicoComprasService: ComercialCicloVendasCotacoesFormularioModalHistoricoComprasService,\r\n    // private clienteDetalhesService: ComercialCicloVendasCotacoesFormularioModalDetalhesClienteService,\r\n    private finalizacaoService: ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoService,\r\n    private calculoService: ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoService,\r\n    private descontoService: ComercialCicloVendasCotacoesFormularioModalMaterialDescontoService,\r\n    private estoqueService: ComercialCicloVendasCotacoesFormularioModalMaterialEstoqueService,\r\n    private comboService: ComercialCicloVendasCotacoesFormularioModalMaterialComboService,\r\n    private bsModalService: BsModalService,\r\n    private pedidosProducaoTelasService: ComercialCicloVendasPedidosProducaoTelasService,\r\n    private router: Router,\r\n    private modalService: BsModalService,\r\n    private clienteDetalhesService: ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesService,\r\n  ) {\r\n    this.localeService.use('pt-br');\r\n    this.bsConfig = Object.assign(\r\n      {},\r\n      { containerClass: 'theme-dark-blue' },\r\n      { adaptivePosition: true },\r\n      { showWeekNumbers: false }\r\n    );\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.hasAccessToClient();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsetLoaderEvents();\r\n    this.activatedRouteSubscription.unsubscribe();\r\n    this.codClienteSubscription.unsubscribe();\r\n    this.formularioService.clearCarteiraClientes();\r\n  }\r\n\r\n  hasAccessToClient(): void {\r\n    const resolver = this.activatedRoute.snapshot.data.data;\r\n\r\n    if (resolver.success === true) {\r\n        this.registrarAcesso();\r\n        this.setBreadCrumb();\r\n        this.getFormFields();\r\n        this.setFormBuilder();\r\n        this.setLoaderEvents();\r\n        this.setClienteSubscription();\r\n    } else {\r\n      this.pnotifyService.error();\r\n      this.location.back();\r\n    }\r\n  }\r\n\r\n  registrarAcesso(): void {\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n  }\r\n\r\n  setBreadCrumb(): void {\r\n\r\n    this.activatedRoute.params.subscribe((params: any) => {\r\n      if (params.nrProposta) {\r\n        this.appTitle = 'Editar Pedido';\r\n        this.action = 'update';\r\n      } else {\r\n        this.appTitle = 'Novo Pedido';\r\n        this.action = 'create';\r\n      }\r\n      this.idSubModulo = params.idSubModulo;\r\n      console.log(params)\r\n\r\n      this.breadCrumbTree = [\r\n        {\r\n          descricao: 'Home',\r\n          routerLink: '/comercial/home',\r\n        },\r\n        {\r\n          descricao: 'Ciclo de vendas',\r\n          routerLink: `/comercial/ciclo-vendas/${this.idSubModulo}`,\r\n        },\r\n        {\r\n          descricao: 'Pedidos Produção de Telas',\r\n          routerLink: `/comercial/ciclo-vendas/${this.idSubModulo}/pedidos-producao-telas/lista`,\r\n        },\r\n        {\r\n          descricao: this.appTitle,\r\n        },\r\n      ];\r\n    });\r\n  }\r\n\r\n  getFormFields(): void {\r\n    this.formularioCotacoesService\r\n      .loadDependencies()\r\n      .pipe(\r\n        finalize(() => {\r\n          this.dependenciesLoaded = true;\r\n        })\r\n      )\r\n      .subscribe((response: Array<JsonResponse | any>) => {\r\n        this.situacoes = response[0].data || [];\r\n\r\n        this.empresas = response[1].result || [];\r\n\r\n        this.depositos = response[2].result || [];\r\n\r\n        this.formasPagamento = response[3].data || [];\r\n\r\n        this.filteredDepositos = this.depositos.filter(\r\n          (value: any) => value.idEmpresa == 18\r\n        );\r\n      });\r\n  }\r\n\r\n  getDate(): Date {\r\n    let date = new Date();\r\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate() + 10);\r\n  }\r\n\r\n  setFormBuilder(): void {\r\n    const resolver = this.activatedRoute.snapshot.data.data;\r\n    if (resolver.success === true) {\r\n      const data = resolver.data;\r\n      const formValue: any = this.checkRouterParams();\r\n\r\n      const codCotacao =\r\n        typeof this.codCotacao == 'undefined'\r\n          ? this.idReservado\r\n          : this.codCotacao;\r\n\r\n      this.codEndereco = data.codEndereco;\r\n\r\n      this.form = this.formBuilder.group({\r\n        nrPedido: [data.nrPedido],\r\n        codCotacao: [{ value: codCotacao, disabled: true }],\r\n        codSituacao: [\r\n          data.codSituacao != 0 ? data.codSituacao : null,\r\n          [Validators.required],\r\n        ],\r\n        codPrioridade: [{ value: data.prioridade, disabled: false }],\r\n        codCliente: [data.codCliente],\r\n        codRazaoSocial: [data.codRazaoSocial],\r\n        codDeposito: [ data.codLocalizacaoEstoque, [Validators.required]],\r\n        //codLocalizacao: [data.codLocalizacaoExpedicao, [Validators.required]],\r\n\r\n        dataEntrega: data.dataPrevisaoEntrega ? \r\n        [this.dateService.convertStringToDate(data.dataPrevisaoEntrega, 'usa'), Validators.required] :\r\n        [this.getDate(),Validators.required],\r\n\r\n        codEndereco: [\r\n          data.codEndereco != 0 ? data.codEndereco : null,\r\n          [Validators.required],\r\n        ],\r\n\r\n        codFormaPagamento: [\r\n          118,\r\n          /*data.codFormaPagamento != 0 ? data.codFormaPagamento : null,*/\r\n          [Validators.required],\r\n        ],\r\n\r\n        duplicatasSomenteCarteira: [\r\n          { value: data.duplicatasSomenteCarteira, disabled: true },\r\n        ],\r\n\r\n        observacoes: [data.observacao],\r\n        obsProducao: [data.obsProducao]\r\n      });\r\n\r\n      this.checkPermissoesAcesso();\r\n      this.getLocaisEntrega(data.codCliente);\r\n\r\n      this.dadosLancamento.data = data.dataCadastro;\r\n      this.dadosLancamento.codVendedor = data.codUsuarioCadastro;\r\n      this.dadosLancamento.nomeVendedor = data.nomeUsuarioCadastro;\r\n\r\n      this.carrinho = data.carrinho;\r\n\r\n      this.formularioService.dataSubject.next(data);\r\n    } else {\r\n      this.pnotifyService.error();\r\n      this.location.back();\r\n    }\r\n\r\n\r\n  }\r\n\r\n  getUserPermissoes(): void {\r\n    const resolver = this.activatedRoute.snapshot.data.permissoes;\r\n\r\n    if (resolver.success === true) {\r\n      const permissoesAcesso = resolver.data;\r\n      this.permissoesAcesso = permissoesAcesso;\r\n    } else {\r\n      this.pnotifyService.error();\r\n      this.location.back();\r\n    }\r\n  }\r\n\r\n  checkPermissoesAcesso(): void {\r\n    if (this.permissoesAcesso.duplicataCarteira === true) {\r\n      this.form.controls.duplicatasSomenteCarteira.enable();\r\n    }\r\n  }\r\n\r\n    /**\r\n   * @source = 'application' || 'user'\r\n   */\r\n  onChangeCliente(codCliente: number, source: string): void {\r\n    this.form.controls.codCliente.setValue(codCliente);\r\n    this.codClientErrors = false;\r\n\r\n    if (codCliente === null) {\r\n      this.form.controls.codEndereco.setValue(null);\r\n      this.locaisEntrega = [];\r\n    } else {\r\n      this.getLocaisEntrega(codCliente, source);\r\n    }\r\n  }\r\n\r\n  onFecharModal(event) {\r\n    this.modalRef.hide();\r\n  }\r\n\r\n  onDetalhesLocalEntrega(): void {\r\n    if (this.form.value.codEndereco != null) {\r\n      this.enderecoDetalhesService.showModal(\r\n        this.form.value.codCliente,\r\n        this.form.value.codEndereco\r\n      );\r\n    }\r\n  }\r\n\r\n  getLinkAddLocalEntrega(): string {\r\n    return `/comercial/clientes/cadastro/${this.form.value.codCliente}/enderecos/novo`;\r\n  }\r\n\r\n  onReloadLocalEntrega(): void {\r\n    if (this.locaisEntregaLoader === false) {\r\n      this.getLocaisEntrega(this.form.value.codCliente, 'user');\r\n    }\r\n  }\r\n\r\n  getLocaisEntrega(codCliente: number, source?: string): void {\r\n    if (source != 'application') {\r\n      this.form.controls.codEndereco.markAsUntouched();\r\n      this.form.controls.codEndereco.setValue(null);\r\n      this.form.controls.codEndereco.disable();\r\n    }\r\n\r\n    this.locaisEntrega = [];\r\n    this.locaisEntregaLoader = true;\r\n\r\n    this.formularioCotacoesService\r\n      .getLocaisEntrega(codCliente)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.locaisEntregaLoader = false;\r\n          this.form.controls.codEndereco.enable();\r\n          this.form.controls.codEndereco.setValue(this.codEndereco);\r\n          this.form.controls.codEndereco.updateValueAndValidity();\r\n        })\r\n      )\r\n      .subscribe((response: JsonResponse) => {\r\n        if (response.success === true) {\r\n          const _enderecos = response.data.enderecos;\r\n          const _enderecosAguardando = response.data.enderecosAguardando || [];\r\n\r\n          let enderecos = [],\r\n            enderecosAguardando = [];\r\n\r\n          for (let i = 0; i < _enderecos.length; i++) {\r\n            enderecos.push({\r\n              codEndereco: _enderecos[i].id,\r\n              descricao: this.formatLocalEntrega(_enderecos[i]),\r\n              tipo: 'Aprovados',\r\n            });\r\n          }\r\n\r\n          for (let i = 0; i < _enderecosAguardando.length; i++) {\r\n            enderecosAguardando.push({\r\n              codEndereco: _enderecosAguardando[i].id,\r\n              descricao: this.formatLocalEntrega(_enderecosAguardando[i]),\r\n              tipo: 'Aguardando aprovação',\r\n            });\r\n          }\r\n\r\n          this.locaisEntrega = [...enderecos, ...enderecosAguardando];\r\n        }\r\n      });\r\n  }\r\n\r\n  formatLocalEntrega(localEntrega: any): string {\r\n    return `${localEntrega.endereco} - ${localEntrega.bairro}, ${localEntrega.cidade} - ${localEntrega.uf} - ${localEntrega.cep}`;\r\n  }\r\n\r\n\r\n\r\n  checkRouterParams(): Object {\r\n    let formValue = {\r\n      codDeposito: null,\r\n      codLocalizacao: null,\r\n    };\r\n\r\n    this.activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      (queryParams: any) => {\r\n        if (Object.keys(queryParams).length > 0) {\r\n          if (queryParams.f) {\r\n            let params = atob(queryParams.f);\r\n            params = JSON.parse(params);\r\n\r\n            Object.keys(formValue).forEach((formKey) => {\r\n              Object.keys(params).forEach((paramKey) => {\r\n                if (\r\n                  formKey == paramKey &&\r\n                  formValue[formKey] != params[paramKey]\r\n                ) {\r\n                  if (!isNaN(Number(params[paramKey]))) {\r\n                    formValue[formKey] = Number(params[paramKey]);\r\n                  } else {\r\n                    formValue[formKey] = params[paramKey];\r\n                  }\r\n                }\r\n              });\r\n            });\r\n          }\r\n        }\r\n      }\r\n    );\r\n    this.activatedRouteSubscription.unsubscribe();\r\n    return formValue;\r\n  }\r\n\r\n\r\n  checkSituacaoCotacao(codSituacao: number): void {\r\n    if (codSituacao !== 2) {\r\n      this.form.controls.dataEntrega.disable();\r\n    }\r\n  }\r\n\r\n  checkClienteCotacao(codCliente: number): void {\r\n    if (codCliente !== null) {\r\n      this.onChangeCliente(codCliente, 'application');\r\n    }\r\n  }\r\n\r\n  checkMateriaisCarrinho(carrinho: Array<ICarrinhoModel>): void {\r\n    if (carrinho.length > 0) {\r\n      this.formularioService.materiaisSubject.next(carrinho);\r\n    }\r\n  }\r\n\r\n  setLoaderEvents(): void {\r\n\r\n    this.loaderCalculoSubscription = this.calculoService.loaderNavbar.subscribe(\r\n      (response: boolean) => {\r\n        this.loaderNavbar = response;\r\n      }\r\n    );\r\n\r\n    this.loaderDescontoSubscription = this.descontoService.loaderNavbar.subscribe(\r\n      (response: boolean) => {\r\n        this.loaderNavbar = response;\r\n      }\r\n    );\r\n\r\n    this.loaderComboSubscription = this.comboService.loaderNavbar.subscribe(\r\n      (response: boolean) => {\r\n        this.loaderNavbar = response;\r\n      }\r\n    );\r\n\r\n    this.loaderEstoqueDetalhesSubscription = this.estoqueService.loaderNavbar.subscribe(\r\n      (response: boolean) => {\r\n        this.loaderNavbar = response;\r\n      }\r\n    );\r\n\r\n    this.loaderHistoricoComprasSubscription = this.historicoComprasService.loaderNavbar.subscribe(\r\n      (response: boolean) => {\r\n        this.loaderNavbar = response;\r\n      }\r\n    );\r\n\r\n    this.loaderDetalhesClienteSubscription = this.clienteDetalhesService.loaderNavbar.subscribe(\r\n      (response: boolean) => {\r\n        this.loaderNavbar = response;\r\n      }\r\n    );\r\n\r\n\r\n    this.loaderFinalizacaoSubscription = this.finalizacaoService.loaderNavbar.subscribe(\r\n      (response: boolean) => {\r\n        this.loaderNavbar = response;\r\n      }\r\n    );\r\n  }\r\n\r\n  unsetLoaderEvents(): void {\r\n    this.loaderCalculoSubscription.unsubscribe();\r\n    this.loaderDescontoSubscription.unsubscribe();\r\n    this.loaderComboSubscription.unsubscribe();\r\n    this.loaderEstoqueDetalhesSubscription.unsubscribe();\r\n    this.loaderHistoricoComprasSubscription.unsubscribe();\r\n    this.loaderDetalhesClienteSubscription.unsubscribe();\r\n    this.loaderFinalizacaoSubscription.unsubscribe();\r\n  }\r\n\r\n  onLoaderNavbar(event: boolean): void {\r\n    this.loaderNavbar = event;\r\n  }\r\n\r\n  onLoaderFullScreen(event: boolean): void {\r\n    this.loaderFullScreen = event;\r\n  }\r\n\r\n  onChangeEmpresa(idEmpresa: number): void {\r\n    this.form.controls.codLocalizacao.reset();\r\n\r\n    this.filteredDepositos = this.depositos.filter(\r\n      (value: any) => value.idEmpresa == idEmpresa\r\n    );\r\n\r\n    if (this.filteredDepositos.length === 1) {\r\n      this.form.controls.codLocalizacao.setValue(\r\n        this.filteredDepositos[0]['idDeposito']\r\n      );\r\n    }\r\n  }\r\n\r\n  // onChangeDeposito(deposito: any): void {\r\n  //   this.form.controls.codDeposito.setValue(deposito.idEmpresa);\r\n  // }\r\n\r\n  onChangeValidadeProposta(value: Date): boolean {\r\n    let isValid = true;\r\n    const maxDate = this.dateService.addDaysToDate(new Date(), 15);\r\n\r\n    if (value > maxDate) {\r\n      setTimeout(() => {\r\n        isValid = false;\r\n        this.form.controls.dataValidade.markAsTouched();\r\n        this.form.controls.dataValidade.setErrors({ maxDate: true });\r\n        this.pnotifyService.notice(\r\n          'Data de validade não deve ser superior a 15 dias.'\r\n        );\r\n      }, 250);\r\n    }\r\n\r\n    return isValid;\r\n  }\r\n\r\n  onScrollToCarrinho(event: boolean): void {\r\n    this.autoScrollToCarrinho = event;\r\n\r\n    if (this.autoScrollToCarrinho === true) {\r\n      setTimeout(() => {\r\n        this.scrollToCarrinho.nativeElement.scrollIntoView({\r\n          behavior: 'instant',\r\n        });\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  onMateriaisScrollTop(event: boolean): void {\r\n    if (event === true) {\r\n      this.onScrollToForm('top');\r\n\r\n      if (this.form.value.codDeposito === null) {\r\n        this.form.controls.codDeposito.markAsTouched();\r\n        this.form.controls.codDeposito.markAsDirty();\r\n        this.form.controls.codDeposito.setErrors({ required: true });\r\n        this.pnotifyService.notice('Selecione um Depósito.');\r\n      }\r\n\r\n      if (this.form.value.codLocalizacao === null) {\r\n        this.form.controls.codLocalizacao.markAsTouched();\r\n        this.form.controls.codLocalizacao.markAsDirty();\r\n        this.form.controls.codLocalizacao.setErrors({ required: true });\r\n        this.pnotifyService.notice('Selecione uma Localização.');\r\n      }\r\n    }\r\n  }\r\n\r\n  onCarrinho(carrinho: any): void {\r\n    this.materiais = carrinho.materiais;\r\n    this.valorProposta = carrinho.total.valorProposta;\r\n  }\r\n\r\n  onCarrinhoError(event: boolean): void {\r\n    this.carrinhoHasError = event;\r\n  }\r\n\r\n  onCarrinhoScrollTop(event: boolean): void {\r\n    if (event === true) {\r\n      this.onScrollToForm('top');\r\n      this.codClientErrors = true;\r\n      this.form.controls.codCliente.markAsTouched();\r\n      this.form.controls.codCliente.setErrors({ required: true });\r\n      this.pnotifyService.notice('Selecione um cliente.');\r\n    }\r\n  }\r\n\r\n  onSubmit(): void {\r\n    this.unsaved = false;\r\n    this.location.back();\r\n\r\n    this.sendForm();\r\n    this.formularioService.onNotifySubmit(true);\r\n\r\n  }\r\n\r\n  sendForm(): void {\r\n    if (this.checkFormErrors() === false) {\r\n      let hasPrecoMinimo = false;\r\n\r\n      for (let i = 0; i < this.materiais.length; i++) {\r\n        if (\r\n          Math.floor(this.materiais[i].valorUnit * 100) / 100 >\r\n          this.materiais[i].valor\r\n        ) {\r\n          hasPrecoMinimo = true;\r\n        }\r\n      }\r\n\r\n      if (hasPrecoMinimo === true) {\r\n        this.confirmModalService\r\n          .showConfirm(\r\n            null,\r\n            'Preço abaixo do mínimo',\r\n            'Existem materiais com preço abaixo do mínimo. Deseja continuar mesmo assim?',\r\n            'Cancelar',\r\n            'Confirmar'\r\n          )\r\n          .subscribe((response: boolean) =>\r\n            response ?\r\n\r\n            this.valoresPesoQtde()\r\n\r\n            : EMPTY\r\n          );\r\n      } else {\r\n        this.valoresPesoQtde();\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n   // modal\r\n   openModal(template: TemplateRef<any>) {\r\n    this.modalRef = this.modalService.show(template, {\r\n      animated: false,\r\n      class: 'modal-xl',\r\n    });\r\n  }\r\n\r\n  valoresPesoQtde() {\r\n    this.pesoQtdade = false;\r\n    for (let i = 0; i < this.materiais.length; i++) {\r\n      if (this.materiais[i].quantidade === null || this.materiais[i].pesoEspecifico === null ) {\r\n        this.pesoQtdade = true;\r\n      }\r\n    }\r\n\r\n  if(this.pesoQtdade === true) {\r\n    this.confirmModalService\r\n          .showConfirm(\r\n            null,\r\n            'Peso ou quantidade não permitidos',\r\n            'O Peso ou valor está com valor 0, favor rever materiais!',\r\n            null,\r\n            'Confirmar'\r\n          )\r\n          .subscribe((response: boolean) =>\r\n            response ? this.pesoQtdade = false : this.pesoQtdade = false\r\n          );\r\n\r\n      }  else {\r\n        this.sendCotacao();\r\n     }\r\n\r\n  }\r\n\r\n\r\n  sendCotacao(): void {\r\n    const formValue = this.form.getRawValue();\r\n\r\n    const dataCotacao = {\r\n      nrPedido:formValue.nrPedido,\r\n      codCotacao: formValue.codCotacao,\r\n      codSituacao: Number(formValue.codSituacao),\r\n      situacao: formValue.codSituacao,\r\n      codCliente: formValue.codCliente,\r\n      razaoSocial: formValue.razaoSocial,\r\n      codEndereco: formValue.codEndereco,\r\n      codContato: formValue.codContato,\r\n      codPrioridade: formValue.codPrioridade,\r\n      codDeposito: formValue.codDeposito,\r\n      codLocalizacao: formValue.codLocalizacao,\r\n      dataEntrega: formValue.dataEntrega,\r\n      observacoes: formValue.observacoes,\r\n      carrinho: this.materiais,\r\n    };\r\n\r\n    if (this.pesoQtdade = true) {\r\n      this.sentCotacao(dataCotacao);\r\n    }\r\n\r\n\r\n    // this.finalizacaoService.sendCotacao(dataCotacao);\r\n  }\r\n\r\n  sentCotacao(dataCotacao: any): void {\r\n    this.loaderNavbar = true;\r\n\r\n    if (this.action === 'update') {\r\n      this.pedidosProducaoTelasService\r\n      .putCotacao(dataCotacao)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            dataCotacao.carrinho = [];\r\n            dataCotacao.carrinho = response.data;\r\n\r\n            this.activatedRoute.params.subscribe((params: any) => {\r\n              if (params.hasOwnProperty('id')) {\r\n                this.location.back();\r\n              } else {\r\n                this.router.navigate([`/comercial/ciclo-vendas/${this.idSubModulo}/pedidos-producao-telas/lista`]);\r\n              }\r\n            });\r\n\r\n            this.pnotifyService.success('Pedido atualizado com sucesso');\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        },\r\n        (error: any) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      );\r\n\r\n    } else {\r\n\r\n      this.pedidosProducaoTelasService\r\n      .postCotacao(dataCotacao)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            dataCotacao.carrinho = [];\r\n            dataCotacao.carrinho = response.data;\r\n            this.pnotifyService.success();\r\n            this.router.navigate([`/comercial/ciclo-vendas/${this.idSubModulo}/pedidos-producao-telas/lista`]);\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        },\r\n        (error: any) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n   //modal\r\n\r\n  openModalProducao(producao: TemplateRef<any>) {\r\n  this.modalRef = this.bsModalService.show(producao);\r\n  }\r\n\r\n  openModalExpedicao(expedicao: TemplateRef<any>) {\r\n  this.modalRef = this.bsModalService.show(expedicao);\r\n  }\r\n\r\n  closeModal(modalRef: TemplateRef<any>) {\r\n    this.modalRef.hide();\r\n  }\r\n\r\n  changeSituacao() {\r\n    if (this.form.value.codSituacao == 2) {\r\n      this.producao = true;\r\n      this.expedicao = false;\r\n\r\n    } else if (this.form.value.codSituacao == 3) {\r\n      this.expedicao = true;\r\n      this.producao = false    }\r\n  }\r\n\r\n  checkFormErrors(): boolean {\r\n    let hasError = false;\r\n\r\n    if (this.carrinhoHasError === true) {\r\n      this.scrollToCarrinho.nativeElement.scrollIntoView({\r\n        behavior: 'instant',\r\n      });\r\n      hasError = true;\r\n    } else {\r\n\r\n      if (this.form.controls.codSituacao.errors !== null) {\r\n        this.onScrollToForm('top');\r\n        this.form.controls.codSituacao.markAsTouched();\r\n        this.form.controls.codSituacao.setErrors({ incorrect: true });\r\n        this.pnotifyService.notice('Selecione a situação.');\r\n        hasError = true;\r\n      }\r\n\r\n      if (this.form.controls.codCliente.errors !== null) {\r\n        this.onScrollToForm('top');\r\n        this.codClientErrors = true;\r\n        this.form.controls.codCliente.markAsTouched();\r\n        this.form.controls.codCliente.setErrors({ incorrect: true });\r\n        this.pnotifyService.notice('Selecione um cliente.');\r\n        hasError = true;\r\n      }\r\n\r\n      if (this.form.controls.dataEntrega.errors !== null) {\r\n        this.onScrollToForm('top');\r\n        this.form.controls.dataEntrega.markAsTouched();\r\n        this.form.controls.dataEntrega.setErrors({ incorrect: true });\r\n        this.pnotifyService.notice('Informe a data de entrega.');\r\n        hasError = true;\r\n      }\r\n    }\r\n\r\n    return hasError;\r\n  }\r\n\r\n  setClienteSubscription(): void {\r\n    this.codClienteSubscription = this.formularioService.codCliente.subscribe(\r\n      (codCliente: number) => {\r\n        this.form.controls.codCliente.setValue(codCliente);\r\n        this.onChangeCliente(codCliente, 'user');\r\n      }\r\n    );\r\n  }\r\n\r\n  onScrollToForm(position: string): void {\r\n    if (position === 'top') {\r\n      this.scrollToFormOnTop.nativeElement.scrollIntoView({\r\n        behavior: 'instant',\r\n      });\r\n    } else if (position === 'bottom') {\r\n      this.scrollToFormOnBottom.nativeElement.scrollIntoView({\r\n        behavior: 'instant',\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  onLoadCliente(event: boolean): void {\r\n    this.isCarteiraClientesLoaded = event;\r\n  }\r\n\r\n  // onClienteDetalhes(): void {\r\n  //   if (this.isCarteiraClientesLoaded === true) {\r\n  //     this.clienteDetalhesService.showModal(this.form.value.codCliente);\r\n  //   } else {\r\n  //     this.pnotifyService.notice('Aguardando a carteira de clientes.');\r\n  //   }\r\n  // }\r\n\r\n  onHistoricoCompras(): void {\r\n    const params = this.form.value;\r\n    if (this.isCarteiraClientesLoaded === true) {\r\n      if (this.form.value.codLocalizacao !== null) {\r\n        this.historicoComprasService.showModal(\r\n          this.setParamsHistoricoCompras(params)\r\n        );\r\n      } else {\r\n        this.onMateriaisScrollTop(true);\r\n      }\r\n    } else {\r\n      this.pnotifyService.notice('Aguardando a carteira de clientes.');\r\n    }\r\n  }\r\n\r\n  setParamsHistoricoCompras(params): Object {\r\n\r\n    let _params: any = {};\r\n\r\n    _params.codCliente = params.codCliente;\r\n    _params.codEmpresa = params.codEmpresa;\r\n    _params.codEndereco = params.codEndereco;\r\n\r\n    return _params;\r\n\r\n  }\r\n\r\n\r\n  onFieldError(field: string): string {\r\n    if (this.onFieldInvalid(field) != '') {\r\n      return 'is-invalid';\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any): string {\r\n    field = this.form.get(field);\r\n\r\n    if (field.errors != null) {\r\n      if (field.errors.hasOwnProperty('required') && field.touched) {\r\n        return 'required';\r\n      }\r\n\r\n      if (field.errors.hasOwnProperty('maxDate') && field.touched) {\r\n        return 'maxDate';\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onFieldRequired(\r\n    abstractControl: AbstractControl,\r\n    abstractControlField?: string\r\n  ): string {\r\n    if (abstractControl.validator) {\r\n      const validator = abstractControl.validator({} as AbstractControl);\r\n      if (validator && validator.required) {\r\n        return 'is-required';\r\n      }\r\n    }\r\n\r\n    if (abstractControlField) {\r\n      for (const controlName in abstractControl['controls']) {\r\n        if (abstractControl['controls'][controlName]) {\r\n          if (\r\n            this.onFieldRequired(abstractControl['controls'][controlName]) &&\r\n            controlName == abstractControlField\r\n          ) {\r\n            return 'is-required';\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  hasUnsavedData() {\r\n    const unsaved = this.form.dirty && this.unsaved;\r\n    return unsaved;\r\n  }\r\n\r\n  @HostListener('window:beforeunload', ['$event'])\r\n  handleBeforeUnload($event: any) {\r\n    if (this.hasUnsavedData()) {\r\n      $event.returnValue = true;\r\n    }\r\n  }\r\n\r\n  formCanDeactivate(): boolean {\r\n    if (this.hasUnsavedData()) {\r\n      if (confirm('Este cliente no forma parte de tu cartera?')) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  onClienteDetalhes(): void {\r\n    this.clienteDetalhesService.showModal(this.form.value.codCliente);\r\n  }\r\n\r\n  onCliente(event) {\r\n    this.form.patchValue(event);\r\n    console.log(event)\r\n    this.onChangeCliente(event.codCliente, 'user');\r\n    this.onLoadCliente(true);\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2Zvcm11bGFyaW8vbW9kYWwvbWF0ZXJpYWwvY2FsY3Vsby9jYWxjdWxvLmNvbXBvbmVudC5zY3NzIn0= */\";","export default \"<div class=\\\"modal-content\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"mtc-title mb-auto\\\">#{{ material.codMaterial }} - {{ material.nomeMaterial | uppercase }}</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"onClose()\\\">\\r\\n      <span aria-hidden=\\\"true\\\" *ngIf=\\\"!loaderModal\\\">&times;</span>\\r\\n      <div class=\\\"spinner-border spinner-border-sm text-dark ml-auto\\\" *ngIf=\\\"loaderModal\\\"></div>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <div class=\\\"row\\\" >\\r\\n      <!-- *ngIf=\\\"material && tipoCalculo\\\" -->\\r\\n      <div class=\\\"col\\\">\\r\\n        <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-6\\\">\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-7\\\">\\r\\n                  <div class=\\\"form-row\\\">\\r\\n                    <div class=\\\"form-group col\\\">\\r\\n                      <p class=\\\"mb-1\\\"><label>Unidade para cálculo</label></p>\\r\\n                      <p> {{ form.value.unidadeCalculo }} </p>\\r\\n                      <!-- <div class=\\\"custom-control custom-radio\\\">\\r\\n                        <input\\r\\n                          type=\\\"radio\\\"\\r\\n                          id=\\\"unidadeCalculo_TON\\\"\\r\\n                          name=\\\"unidadeCalculo\\\"\\r\\n                          class=\\\"custom-control-input\\\"\\r\\n                          formControlName=\\\"unidadeCalculo\\\"\\r\\n                          value=\\\"toneladas\\\"\\r\\n                          (click)=\\\"onChangeUnidadeCalculo('toneladas', true)\\\"\\r\\n                          [attr.disabled]=\\\"disabledUnidadeCalculo()\\\">\\r\\n                        <label class=\\\"custom-control-label\\\" for=\\\"unidadeCalculo_TON\\\">Toneladas</label>\\r\\n                      </div>\\r\\n                      <div class=\\\"custom-control custom-radio\\\">\\r\\n                        <input\\r\\n                          type=\\\"radio\\\"\\r\\n                          id=\\\"unidadeCalculo_BARRA\\\"\\r\\n                          name=\\\"unidadeCalculo\\\"\\r\\n                          class=\\\"custom-control-input\\\"\\r\\n                          formControlName=\\\"unidadeCalculo\\\"\\r\\n                          value=\\\"barrasPecas\\\"\\r\\n                          (click)=\\\"onChangeUnidadeCalculo('barrasPecas', true)\\\"\\r\\n                          [attr.disabled]=\\\"disabledUnidadeCalculo()\\\">\\r\\n                        <label class=\\\"custom-control-label\\\" for=\\\"unidadeCalculo_BARRA\\\">Barras/Peças</label>\\r\\n                      </div> -->\\r\\n                      <!-- <div class=\\\"custom-control custom-radio\\\">\\r\\n                        <input\\r\\n                          type=\\\"radio\\\"\\r\\n                          id=\\\"unidadeCalculo_BARRA\\\"\\r\\n                          name=\\\"unidadeCalculo\\\"\\r\\n                          class=\\\"custom-control-input\\\"\\r\\n                          formControlName=\\\"unidadeCalculo\\\"\\r\\n                          value=\\\"m2\\\"\\r\\n                          (click)=\\\"onChangeUnidadeCalculo('m2', true)\\\"\\r\\n                          [attr.disabled]=\\\"disabledUnidadeCalculo()\\\">\\r\\n                        <label class=\\\"custom-control-label\\\" for=\\\"unidadeCalculo_BARRA\\\">M2</label>\\r\\n                      </div> -->\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-row\\\">\\r\\n                    <div class=\\\"form-group col\\\">\\r\\n                      <!-- {{ descQtde }} -->\\r\\n                      <label for=\\\"quantidade\\\">(QTDE M²)</label>\\r\\n                      <input\\r\\n                        type=\\\"text\\\"\\r\\n                        id=\\\"quantidade\\\"\\r\\n                        class=\\\"form-control\\\"\\r\\n                        formControlName=\\\"quantidade\\\"\\r\\n                        currencyMask [options]=\\\"currencyMaskOptions\\\"\\r\\n                        [ngClass]=\\\"onFieldError('quantidade') + ' ' + onFieldRequired(form.controls.quantidade)\\\">\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-row\\\">\\r\\n                    <div class=\\\"form-group col\\\">\\r\\n                      <label for=\\\"preco\\\">{{ descPreco }}</label>\\r\\n                      <input\\r\\n                        type=\\\"text\\\"\\r\\n                        id=\\\"preco\\\"\\r\\n                        class=\\\"form-control\\\"\\r\\n                        formControlName=\\\"preco\\\"\\r\\n                        currencyMask [options]=\\\"{ align: 'left', prefix: 'R$ ', thousands: '.', decimal: ',', precision: 2 }\\\"\\r\\n                        [ngClass]=\\\"onFieldError('preco') + ' ' + onFieldRequired(form.controls.preco)\\\"\\r\\n                        aria-describedby=\\\"preco-help\\\">\\r\\n                      <small id=\\\"preco-help\\\" class=\\\"form-text text-muted\\\" style=\\\"font-size: 11px\\\">\\r\\n                        Preço ideal acima de <strong>{{ material.valorUnit | currency:'BRL':'symbol':'1.2-2' }}</strong>\\r\\n                      </small>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-row\\\" *ngIf=\\\"showInputMedida()\\\">\\r\\n                    <div class=\\\"form-group col\\\">\\r\\n                      <label for=\\\"medida\\\">Medida (metros)</label>\\r\\n                      <input\\r\\n                        type=\\\"text\\\"\\r\\n                        id=\\\"medida\\\"\\r\\n                        class=\\\"form-control\\\"\\r\\n                        formControlName=\\\"medida\\\"\\r\\n                        currencyMask [options]=\\\"{ align: 'left', prefix: '', thousands: '.', decimal: ',', precision: 2 }\\\"\\r\\n                        [ngClass]=\\\"onFieldError('medida') + ' ' + onFieldRequired(form.controls.medida)\\\">\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-row mt-1\\\">\\r\\n                    <div class=\\\"form-group col mb-0\\\">\\r\\n                      <button\\r\\n                        type=\\\"button\\\"\\r\\n                        class=\\\"btn btn-block btn-secondary mt-auto\\\"\\r\\n                        (click)=\\\"onCalcular()\\\"\\r\\n                        [disabled]=\\\"loaderModal\\\">\\r\\n                        <div *ngIf=\\\"!loaderModal\\\">\\r\\n                          <i class=\\\"fas fa-calculator\\\"></i>\\r\\n                          <span>Calcular</span>\\r\\n                        </div>\\r\\n                        <div *ngIf=\\\"loaderModal\\\">\\r\\n                          <i class=\\\"fas fa-cog fa-spin\\\"></i>\\r\\n                          <span>Aguarde</span>\\r\\n                        </div>\\r\\n                      </button>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col\\\">\\r\\n                  <div *ngIf=\\\"showInfoMetragem()\\\">\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"col\\\"><hr></div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-row\\\" *ngIf=\\\"!showInputMedida()\\\">\\r\\n                      <div class=\\\"form-group col mb-0\\\">\\r\\n                        <label class=\\\"mr-1\\\">Medida 01:</label>\\r\\n                        <span>{{ material.medida1 | number:'1.2-2' }} metro(s)</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"form-group col mb-0\\\">\\r\\n                        <label class=\\\"mr-1\\\">Medida 02:</label>\\r\\n                        <span>{{ material.medida2 | number:'1.2-2' }} metro(s)</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"form-group col mb-0\\\">\\r\\n                        <label class=\\\"mb-0 mr-1\\\">Peso específico:</label>\\r\\n                        <span>{{ material.pesoEspecifico | number:'1.2-2' }} kg(s)</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div *ngIf=\\\"showInfoFatorMultiplo()\\\">\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"col\\\"><hr></div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"form-group col mb-0\\\">\\r\\n                        <label class=\\\"mr-1\\\">Fator múltiplo:</label>\\r\\n                        <span>10</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div *ngIf=\\\"resultCaculo.length > 0\\\">\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"col\\\"><hr></div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"form-group col\\\">\\r\\n                        <label>Selecione uma opção</label>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-row\\\" *ngFor=\\\"let opcaoVenda of resultCaculo; let i = index\\\">\\r\\n                      <div class=\\\"form-group col mb-0\\\">\\r\\n                        <div class=\\\"custom-control custom-radio\\\">\\r\\n                          <input\\r\\n                            type=\\\"radio\\\"\\r\\n                            id=\\\"opcaoVenda_{{ i }}\\\"\\r\\n                            name=\\\"opcaoVenda\\\"\\r\\n                            class=\\\"custom-control-input\\\"\\r\\n                            (click)=\\\"calcularTotais(opcaoVenda)\\\">\\r\\n                          <label class=\\\"custom-control-label\\\" for=\\\"opcaoVenda_{{ i }}\\\">\\r\\n                            {{ opcaoVenda.tonelada | number:'1.3-3' }} Toneladas ({{ opcaoVenda.qtde }} Barras/Peças)\\r\\n                          </label>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-6 pl-0 my-auto\\\">\\r\\n              <div class=\\\"text-right text-uppercase mr-1 mb-2\\\" style=\\\"font-size: 11px\\\">\\r\\n                <a class=\\\"text-primary\\\" href=\\\"javascript:void(0)\\\" (click)=\\\"onShowImpostos()\\\">\\r\\n                  <i class=\\\"fas mr-2\\\" [ngClass]=\\\"{'fa-chevron-up': showImpostos, 'fa-chevron-down': !showImpostos}\\\"></i>\\r\\n                  <strong>Detalles</strong>\\r\\n                </a>\\r\\n              </div>\\r\\n              <ul class=\\\"list-group\\\">\\r\\n                <li class=\\\"list-group-item\\\">\\r\\n                  <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                    <div class=\\\"my-auto\\\">\\r\\n                      <strong>Peso item</strong>\\r\\n                    </div>\\r\\n                    <strong class=\\\"text-secondary\\\">{{ calculo.tonelada | number:'1.3-3' }} Ton</strong>\\r\\n                  </div>\\r\\n                </li>\\r\\n              </ul>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      class=\\\"btn btn-danger\\\"\\r\\n      (click)=\\\"onClose()\\\">\\r\\n      Cancelar\\r\\n    </button>\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      class=\\\"btn btn-primary\\\"\\r\\n      (click)=\\\"onSubmit()\\\"\\r\\n      >\\r\\n      Confirmar\\r\\n    </button>\\r\\n  </div>\\r\\n</div>\\r\\n\";","export default \"<div class=\\\"modal-content\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"mtc-title mb-0 my-auto\\\">Histórico de exclusões do pedido de venda</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"onClose()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <div class=\\\"row mb-3\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <custom-table [config]=\\\"tableConfig\\\">\\r\\n          <ng-template #thead let-thead>\\r\\n            <tr>\\r\\n              <th scope=\\\"col\\\" class=\\\"text-center\\\">Seq.</th>\\r\\n              <th scope=\\\"col\\\" class=\\\"text-center\\\">Data/Hora</th>\\r\\n              <th scope=\\\"col\\\" class=\\\"text-center\\\">Usuário</th>\\r\\n              <th scope=\\\"col\\\" class=\\\"text-center\\\">Tipo</th>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n          <ng-template #tbody let-tbody>\\r\\n            <tr\\r\\n              *ngFor=\\\"let item of exclusoes; let i = index\\\"\\r\\n              [class.table-active]=\\\"i == activeRow\\\"\\r\\n              (click)=\\\"onShowDescricao(i, item)\\\">\\r\\n              <td class=\\\"text-center hover\\\">{{ item.idSeq }}</td>\\r\\n              <td class=\\\"text-center hover\\\">{{ item.datahora | date:'dd/MM/yyyy HH:mm' }}</td>\\r\\n              <td class=\\\"text-center hover\\\">{{ item.nomeUsuario | uppercase }}</td>\\r\\n              <td class=\\\"text-center hover\\\">{{ item.tipo | uppercase }}</td>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n        </custom-table>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col\\\">\\r\\n            <label>Descrição</label>\\r\\n            <div class=\\\"border rounded p-2\\\">\\r\\n              {{ selectedItem.descricao | uppercase }}\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";","import { ComercialCicloVendasPedidosProducaoTelasService } from './../../../../pedidos-producao-telas.service';\r\nimport { Component, OnInit, AfterViewChecked, Input } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n// ngx-bootstrap\r\nimport { BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\n// Services\r\nimport { AuthService } from 'src/app/shared/services/core/auth.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioService } from '../../../formulario.service';\r\n\r\n// Interfaces\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Component({\r\n  selector:\r\n    'comercial-ciclo-vendas-pedidos-producao-telas-formulario-modal-finalizacao-padrao',\r\n  templateUrl: './padrao.component.html',\r\n  styleUrls: ['./padrao.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPadraoComponent\r\n  implements OnInit, AfterViewChecked {\r\n  @Input('dataCotacao') dataCotacao: any;\r\n\r\n  viewChecked = false;\r\n\r\n  user = {\r\n    idVendedor: 88,\r\n    idEscritorio: 58,\r\n  };\r\n\r\n  tableConfig: Partial<CustomTableConfig> = {\r\n    isFixed: true,\r\n    border: false,\r\n    small: false,\r\n    hover: false,\r\n    theme: {\r\n      color: 'white',\r\n    },\r\n  };\r\n\r\n  metasProgresso = {\r\n    toneladas: {\r\n      valor: 0,\r\n      progresso: 0,\r\n    },\r\n    clientes: {\r\n      valor: 0,\r\n      progresso: 0,\r\n    },\r\n    extras: {\r\n      valor: 0,\r\n      progresso: 0,\r\n    },\r\n  };\r\n  metasLoaded: boolean;\r\n  metasEmpty: boolean;\r\n\r\n  comissao = 0;\r\n  comissaoLoaded: boolean;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private bsModalRef: BsModalRef,\r\n    private authService: AuthService,\r\n    private cotacoesService: ComercialCicloVendasPedidosProducaoTelasService,\r\n    private formularioService: ComercialCicloVendasPedidosProducaoTelasFormularioService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    // this.user = this.authService.getCurrentUser().info;\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (this.dataCotacao) {\r\n      this.setViewChecked();\r\n    }\r\n  }\r\n\r\n  setViewChecked(): void {\r\n    this.loadComponentData();\r\n    this.viewChecked = true;\r\n  }\r\n\r\n  loadComponentData(): void {\r\n    this.getComissao();\r\n  }\r\n\r\n  onClose(): void {\r\n    this.formularioService.limparCarrinhoSubject.next(true);\r\n\r\n    this.bsModalRef.hide();\r\n\r\n    setTimeout(() => {\r\n      this.router.navigate(['/comercial/ciclo-vendas/cotacoes-pedidos/lista']);\r\n    }, 100);\r\n  }\r\n\r\n  calcularTotais(field: string): number {\r\n    let total = {\r\n      quantidade: 0,\r\n      valor: 0,\r\n    };\r\n\r\n    for (let index = 0; index < this.dataCotacao.carrinho.length; index++) {\r\n      total.quantidade += this.dataCotacao.carrinho[index].quantidade;\r\n      total.valor += this.dataCotacao.carrinho[index].valorTotal;\r\n    }\r\n\r\n    return total[field];\r\n  }\r\n\r\n  onData(event: any): void {\r\n    if (event.corrente && Object.entries(event.corrente).length > 0) {\r\n      this.metasEmpty = false;\r\n      this.metasProgresso.toneladas.valor = event.corrente.toneladas.percentual;\r\n      this.metasProgresso.clientes.valor = event.corrente.clientes.percentual;\r\n      this.metasProgresso.extras.valor = event.corrente.extras.percentual;\r\n      this.getProgresso();\r\n    } else {\r\n      this.metasEmpty = true;\r\n    }\r\n  }\r\n\r\n  getProgresso(): void {\r\n    if (this.user.idVendedor !== null) {\r\n      this.metasLoaded = false;\r\n\r\n      this.cotacoesService\r\n        .getProgressoCotacao(\r\n          this.dataCotacao.codCotacao,\r\n          this.dataCotacao.codEmpresa\r\n        )\r\n        .pipe(\r\n          finalize(() => {\r\n            this.metasLoaded = true;\r\n          })\r\n        )\r\n        .subscribe((response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            this.metasProgresso.toneladas.progresso = response.data.toneladas;\r\n            this.metasProgresso.clientes.progresso = response.data.clientes;\r\n            this.metasProgresso.extras.progresso = response.data.extras;\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  getComissao(): void {\r\n    if (this.viewChecked === false) {\r\n      if (this.user.idVendedor !== null) {\r\n        this.cotacoesService\r\n          .getComissaoCotacao(\r\n            this.dataCotacao.codCotacao,\r\n            this.dataCotacao.codEmpresa\r\n          )\r\n          .pipe(\r\n            finalize(() => {\r\n              this.comissaoLoaded = true;\r\n            })\r\n          )\r\n          .subscribe((response: JsonResponse) => {\r\n            if (response.success === true) {\r\n              this.comissao = response.data.valorComissao;\r\n            }\r\n          });\r\n      }\r\n    }\r\n  }\r\n\r\n  classVariacaoPreco(variacaoPreco: number): string {\r\n    let variacaoClass: string;\r\n\r\n    if (variacaoPreco > 0) {\r\n      variacaoClass = 'fas fa-caret-up text-success';\r\n    } else if (variacaoPreco < 0) {\r\n      variacaoClass = 'fas fa-caret-down text-danger';\r\n    }\r\n\r\n    return variacaoClass;\r\n  }\r\n\r\n  formatVariacaoPreco(variacaoPreco: number): string {\r\n    let valor: string;\r\n\r\n    if (variacaoPreco > 0) {\r\n      valor = `+${variacaoPreco}%`;\r\n    } else if (variacaoPreco < 0) {\r\n      valor = `${variacaoPreco}%`;\r\n    }\r\n\r\n    return valor;\r\n  }\r\n}\r\n","export default \"<loader-spinner-navbar [hidden]=\\\"!loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<!-- <loader-spinner-full-screen [hidden]=\\\"!loaderFullScreen\\\"></loader-spinner-full-screen> -->\\r\\n<app-header [appTitle]=\\\"appTitle\\\">\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onSubmit()\\\"\\r\\n    [disabled]=\\\"materiais.length == 0 || pesoQtdade\\\">\\r\\n    Finalizar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\" [show]=\\\"!loaderFullScreen\\\">\\r\\n  <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\" #scrollToFormOnTop>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <hr class=\\\"mt-0 mb-4\\\">\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <div class=\\\"mtc-title\\\">Dados de lançamento</div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-lg-2\\\">\\r\\n            <label>Data/Hora</label>\\r\\n            <p class=\\\"mb-0\\\">\\r\\n              {{ dadosLancamento.data | date:'dd/MM/yyyy' }} às {{ dadosLancamento.data | date:'HH:mm' }}\\r\\n            </p>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-3\\\">\\r\\n            <label>Usuário</label>\\r\\n            <p class=\\\"mb-0\\\">\\r\\n              #{{ dadosLancamento.codVendedor }} / {{ dadosLancamento.nomeVendedor | uppercase }}\\r\\n            </p>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <hr class=\\\"mt-4 mb-5\\\">\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"mtc-title\\\">Dados do Pedido</div>\\r\\n    <div class=\\\"form-row\\\">\\r\\n      <div class=\\\"form-group col-lg-2\\\">\\r\\n        <label>Situação</label>\\r\\n        <select\\r\\n          class=\\\"form-control custom-select\\\"\\r\\n          id=\\\"codSituacao\\\"\\r\\n          placeholder=\\\"Selecione...\\\"\\r\\n          formControlName=\\\"codSituacao\\\"\\r\\n          (change)=\\\"changeSituacao();\\\"\\r\\n          [ngClass]=\\\"onFieldError('codSituacao') + ' ' + onFieldRequired(form.controls.codSituacao)\\\">\\r\\n          <option value=\\\"1\\\">Em aberto</option>\\r\\n          <option value=\\\"2\\\">Produção</option>\\r\\n          <option value=\\\"3\\\">Expedição</option>\\r\\n          <option value=\\\"4\\\">Cancelado</option>\\r\\n        </select>\\r\\n      <invalid-form-control [show]=\\\"onFieldInvalid('codSituacao')\\\" message=\\\"Situação da cotação é obrigatório.\\\"></invalid-form-control>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group col-lg-2\\\">\\r\\n        <label class=\\\"mb-1\\\" for=\\\"codPrioridade\\\">Cód. Prioridade</label>\\r\\n        <input\\r\\n          type=\\\"number\\\"\\r\\n          id=\\\"codPrioridade\\\"\\r\\n          placeholder=\\\"Digite...\\\"\\r\\n          class=\\\"form-control\\\"\\r\\n          formControlName=\\\"codPrioridade\\\">\\r\\n      </div>\\r\\n        <!-- <comercial-ciclo-vendas-cotacoes-formulario-template-clientes\\r\\n          [acessoClientes]=\\\"permissoesAcesso.acessoClientes\\\"\\r\\n          [codCliente]=\\\"form.value.codCliente\\\"\\r\\n          [asFormField]=\\\"true\\\"\\r\\n          [setErrors]=\\\"codClientErrors\\\"\\r\\n          (onChange)=\\\"onChangeCliente($event, 'user')\\\"\\r\\n          (onLoad)=\\\"onLoadCliente($event)\\\">\\r\\n        </comercial-ciclo-vendas-cotacoes-formulario-template-clientes> -->\\r\\n        <div class=\\\"form-group col-lg-8\\\">\\r\\n          <div\\r\\n            class=\\\"mb-1 d-flex justify-content-between w-100\\\"\\r\\n            style=\\\"height: 19px\\\">\\r\\n            <label class=\\\"my-auto\\\" for=\\\"codCliente\\\">Cliente</label>\\r\\n            <div class=\\\"my-auto text-uppercase\\\" style=\\\"font-size: 11px\\\">\\r\\n              <a\\r\\n                class=\\\"text-primary mr-2\\\"\\r\\n                href=\\\"javascript:void(0)\\\"\\r\\n                (click)=\\\"openModal(selecionarCliente)\\\">\\r\\n                <strong>Selecionar</strong>\\r\\n              </a>\\r\\n              <span class=\\\"mx-2\\\" *ngIf=\\\"form.value.codCliente != null\\\">|</span>\\r\\n              <a\\r\\n                *ngIf=\\\"form.value.codCliente != null\\\"\\r\\n                class=\\\"text-primary mr-2\\\"\\r\\n                href=\\\"javascript:void(0)\\\"\\r\\n                (click)=\\\"onClienteDetalhes()\\\">\\r\\n                <strong>Detalhes</strong>\\r\\n              </a>\\r\\n            </div>\\r\\n          </div>\\r\\n          <input\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            id=\\\"codRazaoSocial\\\"\\r\\n            formControlName=\\\"codRazaoSocial\\\"\\r\\n            placeholder=\\\"Selecionar...\\\"\\r\\n            [attr.disabled]=\\\"true\\\"/>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"form-row\\\">\\r\\n      <!-- <div class=\\\"form-group col-lg-2\\\">\\r\\n        <label for=\\\"codDeposito\\\">Depósito</label>\\r\\n        <ng-select\\r\\n          [searchable]=\\\"true\\\"\\r\\n          [clearable]=\\\"false\\\"\\r\\n          [items]=\\\"filteredDepositos\\\"\\r\\n          formControlName=\\\"codDeposito\\\"\\r\\n          [virtualScroll]=\\\"true\\\"\\r\\n          labelForId=\\\"codDeposito\\\"\\r\\n          placeholder = \\\"Selecione...\\\"\\r\\n          bindLabel=\\\"nomeDeposito\\\"\\r\\n          bindValue=\\\"idDeposito\\\"\\r\\n          [ngClass]=\\\"onFieldError('codDeposito') + ' ' + onFieldRequired(form.controls.codDeposito)\\\">\\r\\n        </ng-select>\\r\\n        <invalid-form-control [show]=\\\"onFieldInvalid('codDeposito')\\\" message=\\\"Depósito é obrigatório.\\\"></invalid-form-control>\\r\\n      </div> -->\\r\\n      <div class=\\\"form-group col-lg-2\\\">\\r\\n        <label>Localização do Estoque</label>\\r\\n        <select\\r\\n          class=\\\"form-control custom-select\\\"\\r\\n          id=\\\"codDeposito\\\"\\r\\n          formControlName=\\\"codDeposito\\\"\\r\\n          [ngClass]=\\\"onFieldError('codDeposito') + ' ' + onFieldRequired(form.controls.codDeposito)\\\">\\r\\n          <option value=\\\"\\\">Todos</option>\\r\\n          <option value=\\\"1\\\">Piracicaba</option>\\r\\n          <option value=\\\"2\\\">Rio das Pedras</option>\\r\\n        </select>\\r\\n        <invalid-form-control [show]=\\\"onFieldInvalid('codDeposito')\\\" message=\\\"Localização é obrigatório.\\\"></invalid-form-control>\\r\\n      </div>\\r\\n      <!-- <div class=\\\"form-group col-lg-2\\\">\\r\\n        <label>Localização</label>\\r\\n        <select\\r\\n          class=\\\"form-control custom-select\\\"\\r\\n          id=\\\"codLocalizacao\\\"\\r\\n          placeholder=\\\"Selecione...\\\"\\r\\n          formControlName=\\\"codLocalizacao\\\">\\r\\n          <option value=\\\"\\\">Todos</option>\\r\\n          <option value=\\\"1\\\">Piracicaba</option>\\r\\n          <option value=\\\"2\\\">Rio das Pedras-CD</option>\\r\\n          <option value=\\\"3\\\">Rio das Pedras-Civil</option>\\r\\n          <option value=\\\"4\\\">Retira</option>\\r\\n        </select>\\r\\n      </div> -->\\r\\n      <div class=\\\"form-group col-lg-2\\\">\\r\\n        <label for=\\\"dataEntrega\\\">Data de entrega</label>\\r\\n        <input\\r\\n          class=\\\"form-control\\\"\\r\\n          id=\\\"dataEntrega\\\"\\r\\n          type=\\\"text\\\"\\r\\n          bsDatepicker\\r\\n          placeholder=\\\"Selecione...\\\"\\r\\n          [bsConfig]=\\\"bsConfig\\\"\\r\\n          formControlName=\\\"dataEntrega\\\"\\r\\n          [ngClass]=\\\"onFieldError('dataEntrega') + ' ' + onFieldRequired(form.controls.dataEntrega)\\\">\\r\\n        <invalid-form-control [show]=\\\"onFieldInvalid('dataEntrega')\\\" message=\\\"Data de entrega é obrigatório.\\\"></invalid-form-control>\\r\\n      </div>\\r\\n      <div class=\\\"form-group col-lg-8\\\">\\r\\n        <div class=\\\"mb-1 d-flex justify-content-between w-100\\\" style=\\\"height: 19px\\\">\\r\\n          <label class=\\\"my-auto\\\" for=\\\"codEndereco\\\">Local de Entrega</label>\\r\\n          <div class=\\\"my-auto text-uppercase\\\" style=\\\"font-size: 11px\\\" *ngIf=\\\"form.value.codCliente != null\\\">\\r\\n            <a\\r\\n              class=\\\"text-primary mr-2\\\"\\r\\n              href=\\\"javascript:void(0)\\\"\\r\\n              (click)=\\\"onDetalhesLocalEntrega()\\\">\\r\\n              <strong>Detalhes</strong> \\r\\n            </a>\\r\\n            <!-- <span class=\\\"mx-2\\\" *ngIf=\\\"form.value.codCliente != null\\\">|</span> -->\\r\\n            <!-- <a\\r\\n              class=\\\"text-primary mr-2\\\"\\r\\n              href=\\\"javascript:void(0)\\\"\\r\\n              [routerLink]=\\\"[getLinkAddLocalEntrega()]\\\"\\r\\n              target=\\\"_blank\\\">\\r\\n              <strong>Adicionar</strong> \\r\\n            </a> -->\\r\\n            <span class=\\\"mx-2\\\" *ngIf=\\\"form.value.codCliente != null\\\">|</span>\\r\\n            <a\\r\\n            class=\\\"text-primary mr-2\\\"\\r\\n            href=\\\"javascript:void(0)\\\"\\r\\n            tooltip=\\\"Recarregar\\\"\\r\\n            (click)=\\\"onReloadLocalEntrega()\\\"\\r\\n            >\\r\\n              <i class=\\\"fas fa-redo-alt text-dark\\\"></i>\\r\\n            </a>\\r\\n            \\r\\n          </div>\\r\\n        </div>\\r\\n        <ng-select\\r\\n          [searchable]=\\\"true\\\"\\r\\n          [clearable]=\\\"false\\\"\\r\\n          [items]=\\\"locaisEntrega\\\"\\r\\n          formControlName=\\\"codEndereco\\\"\\r\\n          [virtualScroll]=\\\"true\\\"\\r\\n          bindLabel=\\\"descricao\\\"\\r\\n          bindValue=\\\"codEndereco\\\"\\r\\n          placeholder = \\\"Selecione...\\\"\\r\\n          [loading]=\\\"locaisEntregaLoader\\\"\\r\\n          loadingText=\\\"Carregando...\\\"\\r\\n          groupBy=\\\"tipo\\\"\\r\\n          [ngClass]=\\\"onFieldError('codEndereco') + ' ' + onFieldRequired(form.controls.codEndereco)\\\">\\r\\n        </ng-select>\\r\\n        <invalid-form-control [show]=\\\"onFieldInvalid('codEndereco')\\\" message=\\\"Local de entrega é obrigatório.\\\"></invalid-form-control>\\r\\n      </div>\\r\\n      \\r\\n      <!-- <div class=\\\"form-group col-lg-4\\\">\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col\\\">\\r\\n            <div class=\\\"mb-1 d-flex justify-content-between w-100\\\" style=\\\"height: 19px\\\">\\r\\n              <label class=\\\"my-auto\\\" for=\\\"codFormaPagamento\\\">Forma de Pagamento</label>\\r\\n              <div class=\\\"my-auto text-uppercase\\\" style=\\\"font-size: 11px\\\">\\r\\n                <a\\r\\n                  id=\\\"top-links\\\"\\r\\n                  class=\\\"text-primary mr-2\\\"\\r\\n                  href=\\\"javascript:void(0)\\\"\\r\\n                  (click)=\\\"onVisualizarDuplicatas()\\\">\\r\\n                  <strong>Visualizar duplicatas</strong> \\r\\n                </a>\\r\\n              </div>\\r\\n            </div>\\r\\n            <ng-select\\r\\n              [searchable]=\\\"true\\\"\\r\\n              [clearable]=\\\"false\\\"\\r\\n              [items]=\\\"formasPagamento\\\"\\r\\n              formControlName=\\\"codFormaPagamento\\\"\\r\\n              [virtualScroll]=\\\"true\\\"\\r\\n              placeholder = \\\"Selecione...\\\"\\r\\n              bindLabel=\\\"descricao\\\"\\r\\n              bindValue=\\\"codFormaPagamento\\\"\\r\\n              [ngClass]=\\\"onFieldError('codFormaPagamento') + ' ' + onFieldRequired(form.controls.codFormaPagamento)\\\">\\r\\n            </ng-select>\\r\\n            <invalid-form-control [show]=\\\"onFieldInvalid('codFormaPagamento')\\\" message=\\\"Forma de pagamento é obrigatório.\\\"></invalid-form-control>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col d-flex\\\">\\r\\n            <div class=\\\"custom-control custom-checkbox mt-auto\\\">\\r\\n              <input\\r\\n              type=\\\"checkbox\\\"\\r\\n              class=\\\"custom-control-input\\\"\\r\\n              id=\\\"duplicatas-somente-carteira\\\"\\r\\n              formControlName=\\\"duplicatasSomenteCarteira\\\"\\r\\n              [attr.disabled]=\\\"visualizar ? '' : null\\\">\\r\\n              <label\\r\\n                class=\\\"custom-control-label\\\"\\r\\n                for=\\\"duplicatas-somente-carteira\\\">\\r\\n                Duplicatas somente carteira\\r\\n              </label>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div> -->\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <hr class=\\\"mt-4 mb-5\\\">\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <comercial-ciclo-vendas-pedidos-producao-telas-formulario-materiais-lista\\r\\n          [codDeposito]=\\\"form.value.codDeposito\\\"\\r\\n          [codCliente]=\\\"form.value.codCliente\\\"\\r\\n          [codEndereco]=\\\"form.value.codEndereco\\\"\\r\\n          [codFormaPagamento]=\\\"form.value.codFormaPagamento\\\"\\r\\n          (loaderNavbar)=\\\"onLoaderNavbar($event)\\\"\\r\\n          (loaderFullScreen)=\\\"onLoaderFullScreen($event)\\\"\\r\\n          (scrollToFormOnTop)=\\\"onMateriaisScrollTop($event)\\\"\\r\\n          (scrollToCarrinho)=\\\"onScrollToCarrinho($event)\\\">\\r\\n        </comercial-ciclo-vendas-pedidos-producao-telas-formulario-materiais-lista>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <hr class=\\\"my-5\\\">\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" #scrollToCarrinho>\\r\\n      <div class=\\\"col\\\">\\r\\n        <comercial-ciclo-vendas-pedidos-producao-telas-formulario-carrinho\\r\\n          [idReservado]=\\\"idReservado\\\"\\r\\n          [codCotacao]=\\\"codCotacao\\\"\\r\\n          [codCliente]=\\\"form.value.codCliente\\\"\\r\\n          [initialValue]=\\\"carrinho\\\"\\r\\n          (loaderNavbar)=\\\"onLoaderNavbar($event)\\\"\\r\\n          (hasError)=\\\"onCarrinhoError($event)\\\"\\r\\n          (scrollTop)=\\\"onCarrinhoScrollTop($event)\\\"\\r\\n          (carrinho)=\\\"onCarrinho($event)\\\">\\r\\n        </comercial-ciclo-vendas-pedidos-producao-telas-formulario-carrinho>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div #scrollToFormOnBottom *ngIf=\\\"dependenciesLoaded\\\">\\r\\n      <div class=\\\"row justify-content-between\\\">\\r\\n        <div class=\\\"col\\\">\\r\\n          <!-- <div class=\\\"form-row\\\">\\r\\n            <div class=\\\"form-group col\\\">\\r\\n              <label for=\\\"observacoes\\\">Observações</label>\\r\\n              <textarea\\r\\n                class=\\\"form-control\\\"\\r\\n                id=\\\"observacoes\\\"\\r\\n                formControlName=\\\"observacoes\\\">\\r\\n              </textarea>\\r\\n            </div>\\r\\n          </div> -->\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </form>\\r\\n  <ng-template #selecionarCliente>\\r\\n    <comercial-cliclo-vendas-pedidos-producao-telas-formulario-modal-selecionar\\r\\n      (fecharModal)=\\\"onFecharModal($event)\\\"\\r\\n      (cliente)=\\\"onCliente($event)\\\">\\r\\n    </comercial-cliclo-vendas-pedidos-producao-telas-formulario-modal-selecionar>\\r\\n  </ng-template>\\r\\n</app-body>\\r\\n\";","import { ComercialCicloVendasPedidosProducaoTelasFormularioService } from './../formulario.service';\r\nimport { ComercialCicloVendasCotacoesFormularioModalMaterialComboService } from './../../../cotacoes/formulario/modal/material/combo/combo.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasService } from './../../pedidos-producao-telas.service';\r\nimport { ISimilaridadeModel } from './../../../cotacoes/formulario/models/similaridade';\r\nimport { IMateriaisModel } from './../../../cotacoes/formulario/models/materiais';\r\nimport { ICalculoModel } from './../../../cotacoes/formulario/models/calculo';\r\nimport { ComercialCicloVendasCotacoesFormularioModalMaterialDescontoService } from './../../../cotacoes/formulario/modal/material/desconto/desconto.service';\r\nimport { ComercialCicloVendasCotacoesFormularioService } from './../../../cotacoes/formulario/formulario.service';\r\nimport { IDescontoCarrinhoModel, IDescontoModel } from './../../../cotacoes/formulario/models/descontos';\r\nimport { ICarrinhoModel } from './../../../cotacoes/formulario/models/carrinho';\r\nimport {\r\n  Component,\r\n  OnInit,\r\n  OnDestroy,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ElementRef,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport {\r\n  FormBuilder,\r\n  FormGroup,\r\n  FormArray,\r\n  Validators,\r\n  FormControl,\r\n} from '@angular/forms';\r\nimport { Subscription, EMPTY, Observable } from 'rxjs';\r\nimport { take, switchMap, finalize } from 'rxjs/operators';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { ConfirmModalService } from 'src/app/shared/modules/confirm-modal/confirm-modal.service';\r\n\r\n// Interfaces\r\nimport { Subtitles } from 'src/app/shared/modules/subtitles/subtitles';\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\nimport { CardCounterConfig } from 'src/app/shared/templates/card-counter/models/config';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoService } from '../modal/material/calculo/calculo.service';\r\nimport { isThisHour } from 'date-fns';\r\n\r\n@Component({\r\n  selector: 'comercial-ciclo-vendas-pedidos-producao-telas-formulario-carrinho',\r\n  templateUrl: './carrinho.component.html',\r\n  styleUrls: ['./carrinho.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioCarrinhoComponent\r\n  implements OnInit, OnDestroy {\r\n  private subscriptionSubmit: Subscription;\r\n\r\n  @Input('idReservado') idReservado: number;\r\n  @Input('codCotacao') codCotacao: number;\r\n  @Input('codCliente') codCliente: number;\r\n  @Input('initialValue') initialValue: Array<ICarrinhoModel>;\r\n  @Input('dadosCalculo') dadosCalculo: Array<any>;\r\n  @Input('id_tipo_cliente') id_cliente: number;\r\n  @Input('id_departamento') id_departamento: number;\r\n\r\n\r\n\r\n\r\n  @Output('loaderNavbar') loaderNavbar: EventEmitter<\r\n    boolean\r\n  > = new EventEmitter();\r\n  @Output('hasError') hasError: EventEmitter<boolean> = new EventEmitter();\r\n  @Output('scrollTop') scrollTop: EventEmitter<boolean> = new EventEmitter();\r\n  @Output('carrinho') carrinho: EventEmitter<Object> = new EventEmitter();\r\n\r\n  @ViewChild('scrollToCarrinho', {}) scrollToCarrinho: ElementRef;\r\n\r\n  subtitles: Array<Subtitles> = [\r\n    {\r\n      id: 1,\r\n      text: 'Preço acima do mínimo',\r\n      color: 'green',\r\n    },\r\n    {\r\n      id: 2,\r\n      text: 'Preço abaixo do mínimo',\r\n      color: 'red',\r\n    },\r\n  ];\r\n\r\n  tableHeadConfig: Partial<CustomTableConfig> = {\r\n    border: false,\r\n    small: false,\r\n    theme: {\r\n      color: 'white',\r\n    },\r\n  };\r\n\r\n  tableBodyConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: true,\r\n    isFixed: true,\r\n    border: false,\r\n    small: false,\r\n    hover: false,\r\n    theme: {\r\n      color: 'white',\r\n    },\r\n  };\r\n\r\n  form: FormGroup;\r\n\r\n  // quantidade: Subscription;\r\n  // peso: Subscription;\r\n\r\n\r\n  materiaisSubscription: Subscription;\r\n  limparCarrinhoSubscription: Subscription;\r\n  calculoSubscription: Subscription;\r\n  descontoSubscription: Subscription;\r\n  dataSubscription: Subscription;\r\n\r\n  deposito: string;\r\n  nrPedido: number;\r\n  nrItem: number;\r\n  newMaterial: boolean;\r\n\r\n  selectedCodEmpresa: number = null;\r\n\r\n  descontoCarrinho: IDescontoCarrinhoModel = {\r\n    tipo: null,\r\n    desconto: null,\r\n  };\r\n\r\n  total = {\r\n    quantidade: 0,\r\n    pesoEspecifico: 0,\r\n    valor: 0,\r\n    valorIpi: 0,\r\n    valorIcms: 0,\r\n    valorDescMaterial: 0,\r\n    valorDescCarrinho: 0,\r\n    valorTotalOri: 0,\r\n    valorTotal: 0,\r\n    valorProposta: 0,\r\n  };\r\n\r\n  cardCounterConfig: Partial<CardCounterConfig> = {\r\n    showDecimals: true,\r\n    format: 'currency',\r\n  };\r\n\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private pnotifyService: PNotifyService,\r\n    private confirmModalService: ConfirmModalService,\r\n    private formularioService: ComercialCicloVendasCotacoesFormularioService,\r\n    private calculoService: ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoService,\r\n    private descontoService: ComercialCicloVendasCotacoesFormularioModalMaterialDescontoService,\r\n    private comboService: ComercialCicloVendasCotacoesFormularioModalMaterialComboService,\r\n    private pedidosProducaoTelasService: ComercialCicloVendasPedidosProducaoTelasService,\r\n    private formularioProducaoService: ComercialCicloVendasPedidosProducaoTelasFormularioService\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.submitSubscription();\r\n    this.materiaisSubject();\r\n    this.calculoSubject();\r\n    this.setFormBuilder();\r\n    // this.checkPreviously();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscriptionSubmit.unsubscribe();\r\n    this.materiaisSubscription.unsubscribe();\r\n    this.calculoSubscription.unsubscribe();\r\n    this.clearLocalStorage();\r\n  }\r\n\r\n  submitSubscription(): void {\r\n    this.subscriptionSubmit = this.formularioService.notifySubmitObservable$.subscribe(\r\n      (response: any) => {\r\n        if (response) {\r\n          if (this.form.valid) {\r\n            this.carrinhoEmitter();\r\n          } else {\r\n            this.hasError.emit(true);\r\n            this.pnotifyService.notice(\r\n              'Preencha os valores de todos os materiais.'\r\n            );\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  materiaisSubject(): void {\r\n    this.newMaterial = false;\r\n    this.materiaisSubscription = this.formularioService.materiaisSubject.subscribe(\r\n      (response: any) => {\r\n        if (this.nrPedido === undefined) {\r\n          const materiais = this.formatMateriais(response);\r\n          this.newMaterial = true;\r\n          this.onAddMaterial(materiais);\r\n        } else {\r\n          const materiaisUpdate = this.formatMateriaisUpdate(response);\r\n          this.onAddMaterial(materiaisUpdate);\r\n        }\r\n\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  limparCarrinhoSubject(): void {\r\n    this.limparCarrinhoSubscription = this.formularioService.limparCarrinhoSubject.subscribe(\r\n      (response: boolean) => {\r\n        if (response === true) {\r\n          this.onLimparCarrinho();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  calculoSubject(): void {\r\n    this.calculoSubscription = this.formularioProducaoService.calculoSubject.subscribe(\r\n      (calculo: ICalculoModel) => {\r\n\r\n        const formArray = this.form.controls.materiais as FormArray;\r\n        const formGroup = formArray.controls[calculo.index] as FormGroup;\r\n\r\n        formGroup.controls.quantidade.setValue(calculo.qtde);\r\n        formGroup.controls.pesoEspecifico.setValue(calculo.tonelada);\r\n        formGroup.controls.valor.setValue(calculo.valorUnitario);\r\n        formGroup.controls.percentualIpi.setValue(calculo.aliquotaIpi);\r\n        formGroup.controls.valorIpi.setValue(calculo.valorIpi);\r\n        formGroup.controls.percentualIcms.setValue(calculo.aliquotaIcms);\r\n        formGroup.controls.valorIcms.setValue(calculo.valorIcms);\r\n        formGroup.controls.valorIcmsSt.setValue(calculo.valorIcmsSt);\r\n        formGroup.controls.valorTotalOri.setValue(\r\n          calculo.tonelada * calculo.valorUnitario\r\n        );\r\n        formGroup.controls.valorTotal.setValue(\r\n          calculo.tonelada * calculo.valorUnitario\r\n        );\r\n\r\n        this.onCalcularTotais(true);\r\n      }\r\n\r\n    );\r\n  }\r\n\r\n\r\n  carrinhoEmitter(): void {\r\n    this.hasError.emit(false);\r\n\r\n    this.carrinho.emit({\r\n      materiais: this.form.value.materiais,\r\n      total: this.total,\r\n    });\r\n  }\r\n\r\n  setFormBuilder(): void {\r\n    this.form = this.formBuilder.group({\r\n      materiais: this.formBuilder.array([]),\r\n    });\r\n\r\n    this.checkInitialValues();\r\n  }\r\n\r\n  checkInitialValues(): void {\r\n    if (this.initialValue.length > 0) {\r\n      this.newMaterial = true;\r\n      this.onAddMaterial(this.initialValue);\r\n\r\n    }\r\n  }\r\n\r\n  get materiais(): FormArray {\r\n    return this.form.get('materiais') as FormArray;\r\n  }\r\n\r\n\r\n\r\n  onAddMaterial(materiais: Array<any>): void {\r\n\r\n    this.nrPedido = materiais[0].nrPedido;\r\n\r\n    if (this.newMaterial === true) {\r\n\r\n      if (materiais.length > 0) {\r\n        let hasError = false,\r\n          qtdeAdicionados = 0;\r\n\r\n        for (let i = 0; i < materiais.length; i++) {\r\n          if (\r\n            (this.selectedCodEmpresa === null ||\r\n              this.selectedCodEmpresa === materiais[i].codEmpresa) &&\r\n            hasError === false\r\n          ) {\r\n            if (this.checkMaterialExists(materiais[i]) === false) {\r\n              this.materiais.push(\r\n                this.formBuilder.group({\r\n                  nrItem: [materiais[i].nrItem],\r\n                  idReservado: [materiais[i].idReservado],\r\n                  codCotacao: [materiais[i].codCotacao],\r\n                  codMaterial: [materiais[i].codMaterial],\r\n                  nomeMaterial: [materiais[i].nomeMaterial],\r\n                  quantidade: [materiais[i].qtdeItem, [Validators.required]],\r\n                  valorUnit: [materiais[i].valorUnit],\r\n                  valor: [materiais[i].valor, [Validators.required]],\r\n                  percentualIpi: [materiais[i].percentualIpi],\r\n                  valorIpi: [materiais[i].valorIpi, [Validators.required]],\r\n                  percentualIcms: [materiais[i].percentualIcms],\r\n                  valorIcms: [materiais[i].valorIcms, [Validators.required]],\r\n                  valorIcmsSt: [\r\n                    materiais[i].valorIcmsSt != null\r\n                      ? materiais[i].valorIcmsSt\r\n                      : 0,\r\n                    [Validators.required],\r\n                  ],\r\n                  tipoDesc: [materiais[i].tipoDesc],\r\n                  valorDesc: [materiais[i].valorDesc],\r\n                  percentualDesc: [materiais[i].percentualDesc],\r\n                  valorTotalOri: [materiais[i].valorTotalOri],\r\n                  valorTotal: [materiais[i].valorTotal, [Validators.required]],\r\n                  codEmpresa: [materiais[i].codEmpresa],\r\n                  nomeEmpresa: [materiais[i].nomeEmpresa],\r\n                  codDeposito: [materiais[i].codDeposito],\r\n                  nomeDeposito: [materiais[i].nomeDeposito],\r\n                  medida1: [materiais[i].medida1],\r\n                  medida2: [materiais[i].medida2],\r\n                  pesoEspecifico: [materiais[i].peso],\r\n                  materialAssociado: [materiais[i].materialAssociado],\r\n                })\r\n              );\r\n\r\n              this.setSelectedCodEmpresa(materiais[i].codEmpresa);\r\n              qtdeAdicionados++;\r\n            }\r\n          } else {\r\n            hasError = true;\r\n          }\r\n        }\r\n\r\n\r\n        if (qtdeAdicionados > 0) {\r\n          this.setLocalStorage(this.form.value.materiais);\r\n          (this.form.value.materiais);\r\n          this.onCalcularTotais(true);\r\n          setTimeout(() => {\r\n          }, 500);\r\n        }\r\n      }\r\n      this.newMaterial = false;\r\n    } else {\r\n\r\n      if (materiais.length > 0) {\r\n        let hasError = false,\r\n          qtdeAdicionados = 0;\r\n\r\n        for (let i = 0; i < materiais[0].length; i++) {\r\n\r\n            if (this.checkMaterialExists(materiais[i]) === false) {\r\n              this.materiais.push(\r\n                this.formBuilder.group({\r\n                  nrItem: [this.nrItem],\r\n                  idReservado: [materiais[0][i].idReservado],\r\n                  codCotacao: [materiais[0][i].codCotacao],\r\n                  codMaterial: [materiais[0][i].codMaterial],\r\n                  nomeMaterial: [materiais[0][i].nomeMaterial],\r\n                  quantidade: [materiais[0][i].qtdeItem, [Validators.required]],\r\n                  valorUnit: [materiais[0][i].valorUnit],\r\n                  valor: [materiais[0][i].valor, [Validators.required]],\r\n                  percentualIpi: [materiais[0][i].percentualIpi],\r\n                  valorIpi: [materiais[0][i].valorIpi, [Validators.required]],\r\n                  percentualIcms: [materiais[0][i].percentualIcms],\r\n                  valorIcms: [materiais[0][i].valorIcms, [Validators.required]],\r\n                  valorIcmsSt: [\r\n                    materiais[0][i].valorIcmsSt != null\r\n                      ? materiais[0][i].valorIcmsSt\r\n                      : 0,\r\n                    [Validators.required],\r\n                  ],\r\n                  tipoDesc: [materiais[0][i].tipoDesc],\r\n                  valorDesc: [materiais[0][i].valorDesc],\r\n                  percentualDesc: [materiais[0][i].percentualDesc],\r\n                  valorTotalOri: [materiais[0][i].valorTotalOri],\r\n                  valorTotal: [materiais[0][i].valorTotal, [Validators.required]],\r\n                  codEmpresa: [materiais[0][i].codEmpresa],\r\n                  nomeEmpresa: [materiais[0][i].nomeEmpresa],\r\n                  codDeposito: [materiais[0][i].codDeposito],\r\n                  nomeDeposito: [materiais[0][i].nomeDeposito],\r\n                  medida1: [materiais[0][i].medida1],\r\n                  medida2: [materiais[0][i].medida2],\r\n                  pesoEspecifico: [materiais[0][i].peso],\r\n                  materialAssociado: [materiais[0][i].materialAssociado],\r\n\r\n                })\r\n              );\r\n\r\n              this.setSelectedCodEmpresa(materiais[0][i].codEmpresa);\r\n              qtdeAdicionados++;\r\n            }\r\n\r\n        }\r\n\r\n\r\n        if (qtdeAdicionados > 0) {\r\n          this.setLocalStorage(this.form.value.materiais);\r\n          (this.form.value.materiais);\r\n          this.onCalcularTotais(true);\r\n          setTimeout(() => {\r\n          }, 500);\r\n        }\r\n      }\r\n\r\n    };\r\n\r\n\r\n  }\r\n\r\n\r\n  checkMaterialExists(material: ICarrinhoModel): boolean {\r\n    return this.form.value.materiais.some((el: ICarrinhoModel) => {\r\n      return el.codMaterial === material.codMaterial;\r\n    });\r\n  }\r\n\r\n  onAssocMaterial(material: ICarrinhoModel): void {\r\n    if (material.materialAssociado === 1) {\r\n      this.comboService.showModal(material);\r\n    }\r\n  }\r\n\r\n  onCalcMaterial(index: number, material: ICarrinhoModel): void {\r\n    if (this.codCliente !== null) {\r\n      this.calculoService.showModal(index, material, this.codCliente);\r\n    } else {\r\n      this.scrollTop.emit(true);\r\n    }\r\n  }\r\n\r\n  onDescontoMaterial(index: number, material: ICarrinhoModel): void {\r\n    if (material.valorTotal > 0) {\r\n      // @ts-ignore: Ignorar error TS2339\r\n      this.descontoService.descontoMaterial(index, material);\r\n    } else {\r\n      this.pnotifyService.notice(\r\n        'Realize o cálculo de quantidades para continuar.'\r\n      );\r\n    }\r\n  }\r\n\r\n  onDescontoCarrinho(): void {\r\n    let hasError = false;\r\n    const materiais: Array<ICarrinhoModel> = this.form.value.materiais;\r\n    ('aqui');\r\n    (materiais);\r\n\r\n    for (let i = 0; i < materiais.length; i++) {\r\n      if (materiais[i].valorTotal === 0) {\r\n        hasError = true;\r\n      }\r\n    }\r\n\r\n    if (hasError === false) {\r\n      this.descontoService.descontoCarrinho(this.descontoCarrinho);\r\n    } else {\r\n      this.pnotifyService.notice(\r\n        'Realize o cálculo de quantidades para continuar.'\r\n      );\r\n    }\r\n  }\r\n\r\n  onLimparCarrinho(): void {\r\n    const materiais = this.form.get('materiais') as FormArray;\r\n    materiais.clear();\r\n\r\n    this.setSelectedCodEmpresa(null);\r\n    this.onCalcularTotais(true);\r\n    this.clearLocalStorage();\r\n  }\r\n\r\n\r\n  onDeleteMaterial(index: number, material: IMateriaisModel): void {\r\n    const nrItem = index + 1;\r\n\r\n    if (this.nrPedido != undefined) {\r\n      this.confirmDelete()\r\n      .asObservable()\r\n      .pipe(\r\n        take(1),\r\n        switchMap((result) =>\r\n          result\r\n            ? this.deleteMaterialCotacao(nrItem, this.nrPedido)\r\n            : EMPTY\r\n        ),\r\n        finalize(() => {\r\n          this.loaderNavbar.emit(false);\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            this.materiais.removeAt(index);\r\n            this.onCalcularTotais(false);\r\n            this.carrinhoEmitter();\r\n            this.setLocalStorage(this.form.value.materiais);\r\n\r\n            if (this.form.value.materiais.length === 0) {\r\n              this.setSelectedCodEmpresa(null);\r\n            }\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        },\r\n        (error: any) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      );\r\n    } else {\r\n      this.materiais.removeAt(index);\r\n    }\r\n\r\n\r\n  }\r\n\r\n  confirmDelete(): any {\r\n    return this.confirmModalService.showConfirm(\r\n      'delete',\r\n      'Confirmar exclusão',\r\n      'Deseja realmente prosseguir com a exclusão do material?',\r\n      'Cancelar',\r\n      'Confirmar'\r\n    );\r\n  }\r\n\r\n  deleteMaterialCotacao(index: number, codMaterial: number): Observable<any> {\r\n    this.loaderNavbar.emit(true);\r\n    return this.pedidosProducaoTelasService.deleteMaterialCotacao(index, codMaterial);\r\n  }\r\n\r\n\r\n  formatMateriais(\r\n    data: Array<IMateriaisModel & ISimilaridadeModel>\r\n  ): Array<ICarrinhoModel> {\r\n    let materiais = [];\r\n\r\n    for (let index = 0; index < data.length; index++) {\r\n      let material =\r\n        {\r\n          idReservado: this.idReservado !== null ? this.idReservado : null,\r\n          codCotacao: this.codCotacao !== null ? this.codCotacao : null,\r\n          // @ts-ignore: Ignorar error TS2339\r\n          codMaterial: data[index].codMaterial,\r\n          nomeMaterial: data[index].nomeMaterial,\r\n          quantidade: 0,\r\n          valorUnit: data[index].valorUnit,\r\n          valor: 0,\r\n          percentualIpi: data[index].percentualIpi,\r\n          valorIpi: 0,\r\n          percentualIcms: data[index].percentualIcms,\r\n          valorIcms: 0,\r\n          valorIcmsSt: 0,\r\n          tipoDesc: null,\r\n          valorDesc: 0,\r\n          percentualDesc: 0,\r\n          valorTotalOri: 0,\r\n          valorTotal: 0,\r\n          codEmpresa: data[index].codEmpresa,\r\n          nomeEmpresa: data[index].nomeEmpresa,\r\n          codDeposito: data[index].codDeposito,\r\n          nomeDeposito: data[index].nomeDeposito,\r\n          medida1: data[index].medida1,\r\n          medida2: data[index].medida2,\r\n          pesoEspecifico: data[index].pesoEspecifico,\r\n          materialAssociado: data[index].materialAssociado,\r\n        }\r\n\r\n      materiais.push(material);\r\n    }\r\n\r\n    return materiais;\r\n  }\r\n\r\n  formatMateriaisUpdate(\r\n    data: Array<IMateriaisModel & ISimilaridadeModel>\r\n  ): Array<ICarrinhoModel> {\r\n\r\n    let materiais = [];\r\n\r\n    for (let index = 0; index < data.length; index++) {\r\n      let material = [\r\n        {\r\n          idReservado: this.idReservado !== null ? this.idReservado : null,\r\n          codCotacao: this.codCotacao !== null ? this.codCotacao : null,\r\n          // @ts-ignore: Ignorar error TS2339\r\n          codMaterial: data[index].id_material,\r\n          nomeMaterial: data[index].nomeMaterial,\r\n          quantidade: 0,\r\n          valorUnit: data[index].valorUnit,\r\n          valor: 0,\r\n          percentualIpi: data[index].percentualIpi,\r\n          valorIpi: 0,\r\n          percentualIcms: data[index].percentualIcms,\r\n          valorIcms: 0,\r\n          valorIcmsSt: 0,\r\n          tipoDesc: null,\r\n          valorDesc: 0,\r\n          percentualDesc: 0,\r\n          valorTotalOri: 0,\r\n          valorTotal: 0,\r\n          codEmpresa: data[index].codEmpresa,\r\n          nomeEmpresa: data[index].nomeEmpresa,\r\n          codDeposito: data[index].codDeposito,\r\n          nomeDeposito: data[index].nomeDeposito,\r\n          medida1: data[index].medida1,\r\n          medida2: data[index].medida2,\r\n          pesoEspecifico: data[index].pesoEspecifico,\r\n          materialAssociado: data[index].materialAssociado,\r\n        }\r\n      ]\r\n\r\n      materiais.push(material);\r\n\r\n    }\r\n\r\n    return materiais;\r\n  }\r\n\r\n  // checkPreviously(): void {\r\n  //   const _localStorage = localStorage.getItem('materiais');\r\n\r\n  //   if (_localStorage !== null) {\r\n  //     const materiais = JSON.parse(atob(_localStorage));\r\n\r\n  //     if (\r\n  //       materiais.length > 0 &&\r\n  //       this.idReservado !== null &&\r\n  //       this.idReservado == materiais[0].idReservado\r\n  //     ) {\r\n  //       this.confirmModalService\r\n  //         .showConfirm(\r\n  //           null,\r\n  //           `#${this.idReservado} / Cotação não finalizada`,\r\n  //           'Parece que essa cotação foi iniciada e não foi finalizada. Deseja recuperar os materiais da cotação?',\r\n  //           'Cancelar',\r\n  //           'Confirmar'\r\n  //         )\r\n  //         .subscribe((response: boolean) =>\r\n  //           response\r\n  //             ? this.onConfirmAddMaterial(materiais)\r\n  //             : this.clearLocalStorage()\r\n  //         );\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  onConfirmAddMaterial(materiais: Array<ICarrinhoModel>): void {\r\n    this.onAddMaterial(materiais);\r\n\r\n    setTimeout(() => {\r\n      this.scrollToCarrinho.nativeElement.scrollIntoView({\r\n        behavior: 'instant',\r\n      });\r\n    }, 500);\r\n  }\r\n\r\n  setLocalStorage(data: Array<ICarrinhoModel>): void {\r\n\r\n      this.clearLocalStorage();\r\n      localStorage.setItem('materiais', btoa(JSON.stringify(data)));\r\n\r\n  }\r\n\r\n  clearLocalStorage(): void {\r\n    localStorage.removeItem('materiais');\r\n  }\r\n\r\n  onCalcularTotais(emitter: boolean): void {\r\n    const materiais = this.form.value.materiais;\r\n\r\n    this.total.quantidade = 0;\r\n    this.total.pesoEspecifico = 0;\r\n    this.total.valor = 0;\r\n    this.total.valorIcms = 0;\r\n    this.total.valorIpi = 0;\r\n    this.total.valorDescMaterial = 0;\r\n    this.total.valorDescCarrinho = 0;\r\n    this.total.valorTotalOri = 0;\r\n    this.total.valorTotal = 0;\r\n    this.total.valorProposta = 0;\r\n\r\n    if (materiais.length > 0) {\r\n      for (let index = 0; index < materiais.length; index++) {\r\n        this.total.quantidade += materiais[index].quantidade;\r\n        this.total.pesoEspecifico += materiais[index].pesoEspecifico;\r\n        this.total.valor += materiais[index].valor;\r\n        this.total.valorIcms += materiais[index].valorIcms;\r\n        this.total.valorIpi += materiais[index].valorIpi;\r\n        this.total.valorDescMaterial += materiais[index].valorDesc;\r\n        this.total.valorTotalOri += materiais[index].valorTotalOri;\r\n        this.total.valorTotal += materiais[index].valorTotal;\r\n      }\r\n\r\n      if (this.descontoCarrinho.tipo !== null) {\r\n        if (this.descontoCarrinho.tipo === 'valor') {\r\n          this.total.valorDescCarrinho =\r\n            this.total.valorDescMaterial + this.descontoCarrinho.desconto;\r\n\r\n          this.total.valorProposta =\r\n            this.total.valorTotal +\r\n            this.total.valorIpi -\r\n            this.total.valorDescCarrinho;\r\n        } else if (this.descontoCarrinho.tipo === 'percentual') {\r\n          this.total.valorTotal =\r\n            ((100 - this.descontoCarrinho.desconto) / 100) *\r\n            this.total.valorTotal;\r\n\r\n          this.total.valorDescCarrinho =\r\n            this.total.valorDescMaterial +\r\n            (this.total.valorTotalOri - this.total.valorTotal);\r\n\r\n          this.total.valorProposta =\r\n            this.total.valorTotal +\r\n            this.total.valorIpi -\r\n            this.total.valorDescCarrinho;\r\n        } else {\r\n          this.total.valorDescCarrinho = this.total.valorDescMaterial;\r\n\r\n          this.total.valorProposta =\r\n            this.total.valorTotal + this.total.valorIpi;\r\n        }\r\n      } else {\r\n        this.total.valorDescCarrinho = this.total.valorDescMaterial;\r\n\r\n        this.total.valorProposta = this.total.valorTotal + this.total.valorIpi;\r\n      }\r\n\r\n      this.setLocalStorage(this.form.value.materiais);\r\n    }\r\n\r\n    if (emitter === true) {\r\n      this.carrinhoEmitter();\r\n    }\r\n  }\r\n\r\n  resetDescontoCarrinho(): void {\r\n    this.descontoCarrinho = {\r\n      tipo: null,\r\n      desconto: null,\r\n    };\r\n  }\r\n\r\n  onNestedFieldError(formGroup: string, index: number, field: string) {\r\n    if (this.onNestedFieldInvalid(formGroup, index, field)) {\r\n      return 'is-invalid';\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onNestedFieldInvalid(formGroup: string, index: number, field: any) {\r\n    let nestedForm: any = this.form.controls[formGroup];\r\n    field = nestedForm.controls[index].get(field);\r\n\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onNestedFieldRequired(formGroup: string, index: number, field: string) {\r\n    let required = false;\r\n    let formControl = new FormControl();\r\n    let nestedForm: any = this.form.controls[formGroup];\r\n\r\n    if (nestedForm.controls[index].get(field).validator) {\r\n      let validationResult = nestedForm.controls[index]\r\n        .get(field)\r\n        .validator(formControl);\r\n      required =\r\n        validationResult !== null && validationResult.required === true;\r\n    }\r\n\r\n    if (required) {\r\n      return 'is-required';\r\n    }\r\n  }\r\n\r\n  classStatusBorder(material: ICarrinhoModel): string {\r\n    let borderClass: string;\r\n\r\n    if (Math.floor(material.valorUnit * 100) / 100 > material.valor) {\r\n      borderClass = 'border-danger';\r\n    } else {\r\n      borderClass = 'border-success';\r\n    }\r\n\r\n    return borderClass;\r\n  }\r\n\r\n  checkValorMaterial(material: ICarrinhoModel): boolean {\r\n    let validator: boolean;\r\n\r\n    if (Math.floor(material.valorUnit * 100) / 100 > material.valor) {\r\n      validator = false;\r\n    } else {\r\n      validator = true;\r\n    }\r\n\r\n    return validator;\r\n  }\r\n\r\n  columSize(key: string): string {\r\n    let size: number;\r\n\r\n    switch (key) {\r\n      case 'index':\r\n        size = 4;\r\n        break;\r\n      case 'nomeMaterial':\r\n        size = 22;\r\n        break;\r\n      case 'quantidade':\r\n        size = 8;\r\n        break;\r\n      case 'valor':\r\n        size = 8;\r\n        break;\r\n      case 'valorIcms':\r\n        size = 8;\r\n        break;\r\n      case 'valorIpi':\r\n        size = 8;\r\n        break;\r\n      case 'valorDesc':\r\n        size = 8;\r\n        break;\r\n      case 'valorTotal':\r\n        size = 9;\r\n        break;\r\n      case 'nomeDeposito':\r\n        size = 11;\r\n        break;\r\n      case 'buttons':\r\n        size = 13;\r\n        break;\r\n    }\r\n\r\n    return `${size}%`;\r\n  }\r\n\r\n  setSelectedCodEmpresa(codEmpresa: number): void {\r\n    this.selectedCodEmpresa = codEmpresa;\r\n  }\r\n}\r\n","export default \"<div *ngIf=\\\"materiais.length > 0\\\">\\r\\n  <div class=\\\"row\\\" #scrollToCarrinho>\\r\\n    <div class=\\\"col\\\">\\r\\n      <div class=\\\"mtc-title mb-3\\\">Resumo da cotação</div>\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col\\\">\\r\\n          <subtitles [data]=\\\"subtitles\\\" [show]=\\\"true\\\"></subtitles>\\r\\n        </div>\\r\\n        <div class=\\\"col\\\">\\r\\n          <div class=\\\"d-flex justify-content-end\\\">\\r\\n            <!-- <button\\r\\n              type=\\\"button\\\"\\r\\n              class=\\\"btn btn-sm btn-primary mr-3\\\"\\r\\n              (click)=\\\"onDescontoCarrinho()\\\">\\r\\n              <i class=\\\"fas fa-percentage\\\"></i>\\r\\n              <span>Desconto</span>\\r\\n            </button> -->\\r\\n            <button\\r\\n              type=\\\"button\\\"\\r\\n              class=\\\"btn btn-sm btn-danger\\\"\\r\\n              (click)=\\\"onLimparCarrinho()\\\">\\r\\n              <i class=\\\"fas fa-trash\\\"></i>\\r\\n              <span>Limpar</span>\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n        <custom-table [config]=\\\"tableHeadConfig\\\">\\r\\n          <ng-template #thead let-thead>\\r\\n            <tr>\\r\\n              <th scope=\\\"col\\\" class=\\\"text-center border-light\\\" [ngStyle]=\\\"{ width: columSize('index') }\\\">\\r\\n                <span class=\\\"ml-1\\\">Item</span>\\r\\n              </th>\\r\\n              <th scope=\\\"col\\\" [ngStyle]=\\\"{ width: columSize('nomeMaterial') }\\\">Material</th>\\r\\n              <th scope=\\\"col\\\" class=\\\"text-center\\\" [ngStyle]=\\\"{ width: columSize('quantidade') }\\\">Qtde.</th>\\r\\n              <th scope=\\\"col\\\" class=\\\"text-center\\\" [ngStyle]=\\\"{ width: columSize('quantidade') }\\\">Peso</th>\\r\\n              <th scope=\\\"col\\\" [ngStyle]=\\\"{ width: columSize('nomeDeposito') }\\\">Depósito</th>\\r\\n              <th scope=\\\"col\\\" [ngStyle]=\\\"{ width: columSize('buttons') }\\\"></th>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n        </custom-table>\\r\\n        <custom-table [config]=\\\"tableBodyConfig\\\" style=\\\"position: relative; top: -2px;\\\">\\r\\n          <div formArrayName=\\\"materiais\\\">\\r\\n            <ng-template #tbody let-tbody>\\r\\n              <tr *ngFor=\\\"let material of materiais.controls; let i = index\\\" [formGroupName]=\\\"i\\\">\\r\\n                <td\\r\\n                  class=\\\"align-middle text-center\\\"\\r\\n                  [ngClass]=\\\"classStatusBorder(form.value.materiais[i])\\\"\\r\\n                  [ngStyle]=\\\"{ width: columSize('index') }\\\">\\r\\n                  {{ i + 1 }}\\r\\n                </td>\\r\\n                <td class=\\\"align-middle text-truncate\\\" [ngStyle]=\\\"{ width: columSize('nomeMaterial') }\\\">\\r\\n                  {{ form.value.materiais[i].codMaterial }} - {{ form.value.materiais[i].nomeMaterial | uppercase }}\\r\\n                </td>\\r\\n                <td class=\\\"align-middle text-center\\\" [ngStyle]=\\\"{ width: columSize('quantidade') }\\\">\\r\\n                  {{ form.value.materiais[i].quantidade }}\\r\\n                </td>\\r\\n                <td class=\\\"align-middle text-center\\\" [ngStyle]=\\\"{ width: columSize('quantidade') }\\\">\\r\\n                  {{ form.value.materiais[i].pesoEspecifico | number:'1.3-3' }} TON\\r\\n                </td>\\r\\n                <td width=\\\"20%\\\" [ngStyle]=\\\"{ width: columSize('nomeDeposito') }\\\">\\r\\n                  <ng-template #tooltipDescontoTemplate>\\r\\n                    <p class=\\\"text-left mb-0\\\"><u>Empresa:</u></p>\\r\\n                    <p class=\\\"text-left text-nowrap mb-0\\\">{{ form.value.materiais[i].nomeEmpresa | uppercase }}</p>\\r\\n                  </ng-template>\\r\\n                  <i class=\\\"far fa-question-circle\\\" [tooltip]=\\\"tooltipDescontoTemplate\\\" container=\\\"body\\\"></i>\\r\\n                  <span class=\\\"ml-1\\\">\\r\\n                    {{ form.value.materiais[i].nomeDeposito | uppercase }}\\r\\n                  </span>\\r\\n                </td>\\r\\n                <td class=\\\"align-middle text-right\\\" [ngStyle]=\\\"{ width: columSize('buttons') }\\\">\\r\\n                  <btn-icon\\r\\n                    icon=\\\"fas fa-th\\\"\\r\\n                    class=\\\"mr-3\\\"\\r\\n                    tooltip=\\\"Materiais associados\\\"\\r\\n                    container=\\\"body\\\"\\r\\n                    (click)=\\\"onAssocMaterial(form.value.materiais[i])\\\"\\r\\n                    *ngIf=\\\"form.value.materiais[i].materialAssociado === 1\\\">\\r\\n                  </btn-icon>\\r\\n                  <btn-icon\\r\\n                    icon=\\\"fas fa-calculator\\\"\\r\\n                    class=\\\"mr-3\\\"\\r\\n                    tooltip=\\\"Calcular quantidades\\\"\\r\\n                    container=\\\"body\\\"\\r\\n                    (click)=\\\"onCalcMaterial(i, form.value.materiais[i]);\\\">\\r\\n                  </btn-icon>\\r\\n                  <btn-icon\\r\\n                    icon=\\\"fas fa-percentage\\\"\\r\\n                    class=\\\"mr-3\\\"\\r\\n                    tooltip=\\\"Aplicar desconto\\\"\\r\\n                    container=\\\"body\\\"\\r\\n                    (click)=\\\"onDescontoMaterial(i, form.value.materiais[i])\\\">\\r\\n                  </btn-icon>\\r\\n                  <btn-icon\\r\\n                    icon=\\\"fas fa-trash\\\"\\r\\n                    class=\\\"mr-3\\\"\\r\\n                    tooltip=\\\"Remover\\\"\\r\\n                    container=\\\"body\\\"\\r\\n                    (click)=\\\"onDeleteMaterial(i, form.value.materiais[i])\\\">\\r\\n                  </btn-icon>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td class=\\\"border-white\\\" [ngStyle]=\\\"{ width: columSize('index') }\\\"></td>\\r\\n                <td [ngStyle]=\\\"{ width: columSize('nomeMaterial') }\\\"></td>\\r\\n                <td class=\\\"text-center\\\" [ngStyle]=\\\"{ width: columSize('quantidade') }\\\">\\r\\n                  {{ total.quantidade }}\\r\\n                </td>\\r\\n                <td class=\\\"text-center\\\" [ngStyle]=\\\"{ width: columSize('pesoEspecifico') }\\\">\\r\\n                  {{ total.pesoEspecifico | number:'1.3-3' }} TON\\r\\n                </td>\\r\\n                <td [ngStyle]=\\\"{ width: columSize('codDeposito') }\\\"></td>\\r\\n                <td [ngStyle]=\\\"{ width: columSize('buttons') }\\\"></td>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n          </div>\\r\\n        </custom-table>\\r\\n      </form>\\r\\n    </div>\\r\\n  </div>\\r\\n  <!-- <div class=\\\"row pt-5\\\">\\r\\n    <div class=\\\"col-lg-3\\\">\\r\\n      <card-counter\\r\\n        icon=\\\"fas fa-industry\\\"\\r\\n        color=\\\"bg-gray\\\"\\r\\n        [counter]=\\\"total.valorIpi\\\"\\r\\n        duration=\\\"2\\\"\\r\\n        text=\\\"Valor total do IPI\\\"\\r\\n        [config]=\\\"cardCounterConfig\\\">\\r\\n      </card-counter>\\r\\n    </div>\\r\\n    <div class=\\\"col-lg-3\\\">\\r\\n      <card-counter\\r\\n        icon=\\\"fas fa-truck-loading\\\"\\r\\n        color=\\\"bg-blue\\\"\\r\\n        [counter]=\\\"total.valorIcms\\\"\\r\\n        duration=\\\"2\\\"\\r\\n        text=\\\"Valor total do ICMS\\\"\\r\\n        [config]=\\\"cardCounterConfig\\\">\\r\\n      </card-counter>\\r\\n    </div>\\r\\n    <div class=\\\"col-lg-3\\\">\\r\\n      <ng-template #tooltipDescontoTemplate>\\r\\n        <p\\r\\n          class=\\\"text-nowrap\\\"\\r\\n          [ngClass]=\\\"{'mb-0': total.valorDescMaterial === 0}\\\"\\r\\n          *ngIf=\\\"total.valorDescCarrinho - total.valorDescMaterial > 0\\\">\\r\\n          <b><u>Carrinho:</u></b> {{ total.valorDescCarrinho - total.valorDescMaterial | currency:'BRL':'symbol':'1.2-2' }}\\r\\n        </p>\\r\\n        <p class=\\\"text-nowrap mb-0\\\" *ngIf=\\\"total.valorDescMaterial > 0\\\">\\r\\n          <b><u>Material:</u></b> {{ total.valorDescMaterial | currency:'BRL':'symbol':'1.2-2' }}\\r\\n        </p>\\r\\n      </ng-template>\\r\\n      <card-counter\\r\\n        icon=\\\"fas fa-percentage\\\"\\r\\n        color=\\\"bg-red\\\"\\r\\n        [counter]=\\\"total.valorDescCarrinho\\\"\\r\\n        duration=\\\"2\\\"\\r\\n        text=\\\"Valor total do desconto\\\"\\r\\n        [config]=\\\"cardCounterConfig\\\"\\r\\n        [isDisabled]=\\\"total.valorDescCarrinho === 0\\\"\\r\\n        [tooltip]=\\\"tooltipDescontoTemplate\\\"\\r\\n        container=\\\"body\\\">\\r\\n      </card-counter>\\r\\n    </div>\\r\\n    <div class=\\\"col-lg-3\\\">\\r\\n      <card-counter\\r\\n        icon=\\\"fas fa-dollar-sign\\\"\\r\\n        color=\\\"bg-green\\\"\\r\\n        [counter]=\\\"total.valorProposta\\\"\\r\\n        duration=\\\"2\\\"\\r\\n        text=\\\"Valor final da proposta\\\"\\r\\n        [config]=\\\"cardCounterConfig\\\">\\r\\n      </card-counter>\\r\\n    </div>\\r\\n  </div> -->\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col\\\">\\r\\n      <hr class=\\\"my-5\\\">\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";","import { ComercialCicloVendasPedidosProducaoTelasService } from './../../../pedidos-producao-telas.service';\r\nimport { Injectable, EventEmitter } from '@angular/core';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { Location } from '@angular/common';\r\n\r\n// ngx-bootstrap\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\n\r\n// Components\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPadraoComponent } from './padrao/padrao.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPerdidaComponent } from './perdida/perdida.component';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoService {\r\n  loaderNavbar: EventEmitter<boolean> = new EventEmitter();\r\n\r\n  action: string;\r\n\r\n  constructor(\r\n    private modalService: BsModalService,\r\n    private pnotifyService: PNotifyService,\r\n    private cotacoesService: ComercialCicloVendasPedidosProducaoTelasService\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  sendCotacao(dataCotacao: any): void {\r\n    this.loaderNavbar.emit(true);\r\n\r\n    if (this.action === 'update') {\r\n    }\r\n\r\n\r\n    this.cotacoesService\r\n      .postCotacao(dataCotacao)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar.emit(false);\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            dataCotacao.carrinho = [];\r\n            dataCotacao.carrinho = response.data;\r\n\r\n            if (dataCotacao.situacao.codTipoFinalizacao === 1) {\r\n              this.showModal(\r\n                ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPerdidaComponent,\r\n                dataCotacao\r\n              );\r\n            } else {\r\n              this.showModal(\r\n                ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPadraoComponent,\r\n                dataCotacao\r\n              );\r\n            }\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      });\r\n  }\r\n\r\n  showModal(component: any, dataCotacao: Object): void {\r\n    const modalConfig = {\r\n      animated: false,\r\n      class: 'modal-xl',\r\n      keyboard: false,\r\n      ignoreBackdropClick: true,\r\n    };\r\n\r\n    const initialState = {\r\n      dataCotacao: dataCotacao,\r\n    };\r\n\r\n    this.modalService.show(\r\n      component,\r\n      Object.assign({}, modalConfig, {\r\n        initialState,\r\n      })\r\n    );\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  ViewChild,\r\n  ElementRef,\r\n  TemplateRef,\r\n  OnDestroy,\r\n} from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\nimport {\r\n  FormBuilder,\r\n  FormGroup,\r\n  Validators,\r\n  AbstractControl,\r\n} from '@angular/forms';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\n// ngx-bootstrap\r\nimport { PageChangedEvent } from 'ngx-bootstrap/pagination';\r\nimport { BsLocaleService, BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\r\nimport { defineLocale } from 'ngx-bootstrap/chronos';\r\nimport { ptBrLocale } from 'ngx-bootstrap/locale';\r\n\r\n\r\ndefineLocale('pt-br', ptBrLocale);\r\n\r\n// Services\r\nimport { AuthService } from 'src/app/shared/services/core/auth.service';\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\nimport { TitleService } from 'src/app/shared/services/core/title.service';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasService } from '../pedidos-producao-telas.service';\r\nimport { DetailPanelService } from 'src/app/shared/templates/detail-panel/detal-panel.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioService } from './../formulario/formulario.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasListaService } from './lista.service';\r\nimport { ConfirmModalService } from 'src/app/shared/modules/confirm-modal/confirm-modal.service';\r\n\r\n// Interfaces\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\nimport { Subtitles } from 'src/app/shared/modules/subtitles/subtitles';\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\nimport { IAssociacao } from '../../../cadastros/propostas/associacao-situacoes-proposta/models/associacao-situacoes-proposta';\r\nimport { IComercialCicloVendasPedidosProducaoTelas } from './models/pedidos-producao-telas';\r\n\r\n@Component({\r\n  selector: 'comercial-ciclo-vendas-pedidos-producao-telas-lista',\r\n  templateUrl: './lista.component.html',\r\n  styleUrls: ['./lista.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasListaComponent\r\n  implements OnInit {\r\n  user = this.authService.getCurrentUser();\r\n\r\n  @ViewChild('scrollToFilter', {}) scrollToFilter: ElementRef;\r\n  @ViewChild('scrollToDetails', {}) scrollToDetails: ElementRef;\r\n\r\n  loaderNavbar: boolean;\r\n  loaderFullScreen = true;\r\n\r\n  loaderConsultaLiberacaoSubscription: Subscription;\r\n  loaderEmailCotacaoSubscription: Subscription;\r\n\r\n  pedidoDuplicadaSubscription: Subscription;\r\n  pedidoDesdobradaSubscription: Subscription;\r\n\r\n  breadCrumbTree: Array<Breadcrumb> = [];\r\n\r\n  formProducao: FormGroup;\r\n  formExpedicao: FormGroup;\r\n\r\n  producao: Array<any> = [];\r\n  expedicao: Array<any> = [];\r\n\r\n  subtitles: Array<Subtitles> = [\r\n    {\r\n      id: 1,\r\n      text: 'EM ABERTO',\r\n      color: 'green',\r\n    },\r\n    {\r\n      id: 2,\r\n      text: 'PRODUÇÃO',\r\n      color: 'blue',\r\n    },\r\n    {\r\n      id: 3,\r\n      text: 'EXPEDIÇÃO',\r\n      color: 'yellow',\r\n    },\r\n    {\r\n      id: 4,\r\n      text: 'CANCELADO',\r\n      color: 'red',\r\n    },\r\n  ];\r\n\r\n  modalRef: BsModalRef;\r\n\r\n  tableConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: true,\r\n  };\r\n\r\n  activatedRouteSubscription: Subscription;\r\n\r\n  showDetailPanelSubscription: Subscription;\r\n  showDetailPanel = false;\r\n  detailPanelTitle: string;\r\n\r\n  bsConfig: Partial<BsDatepickerConfig>;\r\n\r\n  form: FormGroup;\r\n  orderBy = 'nrProposta';\r\n  orderType = 'DESC';\r\n\r\n  filteredDepositos: Array<any> = [];\r\n  situacoesCores: Array<IAssociacao> = [];\r\n\r\n  dados: IComercialCicloVendasPedidosProducaoTelas[] = [];\r\n  dadosLoaded = false;\r\n  dadosEmpty = false;\r\n\r\n  comentario: boolean = false;\r\n  localizacao: boolean = false;\r\n\r\n  detalhes: Array<any>[] = [];\r\n  detalhesCarrinho: Array<any>[] = [];\r\n\r\n  // detalhes = {\r\n  //   contatos: [],\r\n  //   itens: {\r\n  //     materiais: [],\r\n  //     total: {},\r\n  //   },\r\n  // };\r\n\r\n  // Tipos de Situação dos Pedidos (Ativo/Inativo)\r\n  tipos = [\r\n    {\r\n      cod: 0,\r\n      nome: 'EXIBIR TODOS',\r\n    },\r\n    {\r\n      cod: 1,\r\n      nome: 'EM ABERTO',\r\n    },\r\n    {\r\n      cod: 2,\r\n      nome: 'PRODUÇÃO',\r\n    },\r\n    {\r\n      cod: 3,\r\n      nome: 'EXPEDIÇÃO',\r\n    },\r\n    {\r\n      cod: 4,\r\n      nome: 'CANCELADO',\r\n    },\r\n  ];\r\n\r\n  contatosLoaded = false;\r\n  contatosEmpty = false;\r\n  pedidoSelected: any = {};\r\n  itensLoaded = false;\r\n  itensEmpty = false;\r\n\r\n  activeRow: number;\r\n  activePedido: IComercialCicloVendasPedidosProducaoTelas;\r\n\r\n  maxSize = 10;\r\n  itemsPerPage = 100;\r\n  currentPage = 1;\r\n  totalItems = 0;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private location: Location,\r\n    private localeService: BsLocaleService,\r\n    private formBuilder: FormBuilder,\r\n    private authService: AuthService,\r\n    private pnotifyService: PNotifyService,\r\n    private dateService: DateService,\r\n    private titleService: TitleService,\r\n    private atividadesService: AtividadesService,\r\n    private pedidosProducaoTelasService: ComercialCicloVendasPedidosProducaoTelasService,\r\n    private listaService: ComercialCicloVendasPedidosProducaoTelasListaService,\r\n    private detailPanelService: DetailPanelService,\r\n    private pedidosProducaoTelas: ComercialCicloVendasPedidosProducaoTelasFormularioService,\r\n    private bsModalService: BsModalService\r\n\r\n  ) {\r\n    this.localeService.use('pt-br');\r\n    this.bsConfig = Object.assign(\r\n      {},\r\n      { containerClass: 'theme-dark-blue' },\r\n      { adaptivePosition: true },\r\n      { showWeekNumbers: false }\r\n    );\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.registrarAcesso();\r\n    this.setBreadCrumb();\r\n    this.getFilterValues();\r\n    this.setFormFilter();\r\n    this.titleService.setTitle('Cotações e pedidos');\r\n    this.onDetailPanelEmitter();\r\n    // this.setFormProducao();\r\n    // this.setFormExpedicao();\r\n  }\r\n\r\n  // ngOnDestroy(): void {\r\n  //   this.unsetLoaderEvents();\r\n  //   this.unsetChangeEvents();\r\n  //   this.showDetailPanelSubscription.unsubscribe();\r\n  // }\r\n\r\n  registrarAcesso(): void {\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n  }\r\n\r\n  setBreadCrumb() {\r\n    const id = this.activatedRoute.snapshot.params.idSubModulo;\r\n    this.breadCrumbTree = [\r\n      {\r\n        descricao: 'Home',\r\n        routerLink: `/comercial/home`,\r\n      },\r\n      {\r\n        descricao: 'Ciclo de Vendas',\r\n        routerLink: `/comercial/ciclo-vendas`,\r\n      },\r\n      {\r\n        descricao: 'Pedidos Produção de Telas',\r\n      },\r\n    ];\r\n  }\r\n\r\n\r\n\r\n\r\n  unsetLoaderEvents(): void {\r\n    this.loaderConsultaLiberacaoSubscription.unsubscribe();\r\n    this.loaderEmailCotacaoSubscription.unsubscribe();\r\n  }\r\n\r\n  unsetChangeEvents(): void {\r\n    this.pedidoDuplicadaSubscription.unsubscribe();\r\n    this.pedidoDesdobradaSubscription.unsubscribe();\r\n  }\r\n\r\n  onDetailPanelEmitter(): void {\r\n    this.showDetailPanelSubscription = this.detailPanelService.config.subscribe(\r\n      (event: any) => {\r\n        this.showDetailPanel = event.showing;\r\n\r\n        if (this.showDetailPanel === false) {\r\n          this.onCloseDetailPanel();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  getFilterValues(): void {\r\n    this.listaService\r\n      .loadDependencies()\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderFullScreen = false;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: any[] | JsonResponse[]) => {\r\n          this.situacoesCores = response[0].data || [];\r\n        },\r\n        error: (error: any) => {\r\n          this.pnotifyService.error('Ocorreu um erro ao carregar filtros.');\r\n          this.location.back();\r\n        }\r\n      });\r\n  }\r\n\r\n\r\n  setFormFilter(): void {\r\n    const formValue: any = this.checkRouterParams();\r\n\r\n    this.form = this.formBuilder.group({\r\n      tipoData: [formValue.tipoData],\r\n      dataInicial: [formValue.dataInicial],\r\n      dataFinal: [formValue.dataFinal],\r\n      dataLancamento: [formValue.dataLancamento],\r\n      dataEntrega: [formValue.dataEntrega],\r\n      nrProposta: [formValue.nrProposta],\r\n      codPrioridade: [formValue.codPrioridade],\r\n      codSituacao: [formValue.codSituacao],\r\n      cliente: [formValue.cliente],\r\n      usuarioLancamento: [formValue.usuarioLancamento],\r\n      codVendedor: [formValue.codVendedor, [Validators.required]],\r\n      pagina: [formValue.pagina],\r\n      registros: [this.itemsPerPage, Validators.required],\r\n    });\r\n  }\r\n\r\n  checkRouterParams(): Object {\r\n    let formValue = {\r\n      tipoData: 1,\r\n      dataInicial: this.dateService.getFirstDayMonth(),\r\n      dataFinal: this.dateService.getLastDayMonth(),\r\n      nrProposta: null,\r\n      codDeposito: null,\r\n      codSituacao: 0,\r\n      cliente: null,\r\n      codVendedor: 0,\r\n      pagina: 1,\r\n      registros: this.itemsPerPage,\r\n    };\r\n\r\n    this.activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      (queryParams: any) => {\r\n        if (Object.keys(queryParams).length > 0) {\r\n          let params = atob(queryParams.q);\r\n          params = JSON.parse(params);\r\n          this.search(params);\r\n\r\n          if (params['pagina']) {\r\n            this.currentPage = params['pagina'];\r\n          }\r\n\r\n          Object.keys(formValue).forEach((formKey) => {\r\n            Object.keys(params).forEach((paramKey) => {\r\n              if (\r\n                formKey == paramKey &&\r\n                formValue[formKey] != params[paramKey]\r\n              ) {\r\n                if (formKey === 'dataInicial' || formKey === 'dataFinal') {\r\n                  formValue[formKey] = this.dateService.convertStringToDate(\r\n                    params[paramKey],\r\n                    'pt-br'\r\n                  );\r\n                } else {\r\n                  if (!isNaN(Number(params[paramKey]))) {\r\n                    formValue[formKey] = Number(params[paramKey]);\r\n                  } else {\r\n                    formValue[formKey] = params[paramKey];\r\n                  }\r\n                }\r\n              }\r\n            });\r\n          });\r\n        }\r\n      }\r\n    );\r\n    this.activatedRouteSubscription.unsubscribe();\r\n\r\n    return formValue;\r\n  }\r\n\r\n\r\n\r\n  setOrderBy(column: string) {\r\n    if (this.orderBy === column) {\r\n      if (this.orderType == 'DESC') {\r\n        this.orderType = 'ASC';\r\n      } else if (this.orderType == 'ASC') {\r\n        this.orderType = 'DESC';\r\n      }\r\n    } else {\r\n      this.orderBy = column;\r\n      this.orderType = 'DESC';\r\n    }\r\n    this.onFilter();\r\n  }\r\n\r\n  onFilter(): void {\r\n    if (this.form.valid) {\r\n      this.itemsPerPage = this.form.value.registros;\r\n      this.currentPage = 1;\r\n\r\n      this.detailPanelService.hide();\r\n\r\n      this.setRouterParams(this.getFormFilterValues());\r\n    }\r\n  }\r\n\r\n  setRouterParams(params: any): void {\r\n    this.router.navigate([], {\r\n      relativeTo: this.activatedRoute,\r\n      queryParams: { q: btoa(JSON.stringify(params)) },\r\n    });\r\n    this.search(params);\r\n  }\r\n\r\n  getFormFilterValues(): Object {\r\n    let params: any = {};\r\n\r\n    if (this.form.value.tipoData) {\r\n      params.tipoData = this.form.value.tipoData;\r\n    }\r\n\r\n    if (this.form.value.dataInicial) {\r\n      params.dataInicial = this.dateService.convertToUrlDate(\r\n        new Date(this.form.value.dataInicial)\r\n      );\r\n    }\r\n\r\n    if (this.form.value.dataFinal) {\r\n      params.dataFinal = this.dateService.convertToUrlDate(\r\n        new Date(this.form.value.dataFinal)\r\n      );\r\n    }\r\n\r\n\r\n    if (this.form.value.codSituacao) {\r\n      params.codSituacao = this.form.value.codSituacao;\r\n    }\r\n\r\n    if (this.form.value.nrProposta) {\r\n      params.nrProposta = this.form.value.nrProposta;\r\n    }\r\n\r\n    if (this.form.value.codPrioridade) {\r\n      params.codPrioridade = this.form.value.codPrioridade;\r\n    }\r\n\r\n    if (this.form.value.cliente) {\r\n      params.cliente = this.form.value.cliente;\r\n    }\r\n\r\n\r\n    if (this.form.value.usuarioLancamento) {\r\n      params.usuarioLancamento = this.form.value.usuarioLancamento;\r\n    }\r\n\r\n    if (this.form.value.codVendedor) {\r\n      params.codVendedor = this.form.value.codVendedor;\r\n    }\r\n\r\n    if (this.form.value.pagina) {\r\n      params.pagina = this.form.value.pagina;\r\n    }\r\n\r\n    if (this.form.value.registros) {\r\n      params.registros = this.form.value.registros;\r\n    }\r\n\r\n    params.orderBy = this.orderBy;\r\n    params.orderType = this.orderType;\r\n\r\n    return params;\r\n  }\r\n\r\n  search(params: any): void {\r\n    this.loaderNavbar = true;\r\n    this.dados = [];\r\n    this.dadosLoaded = false;\r\n    this.dadosEmpty = false;\r\n\r\n    this.pedidosProducaoTelasService\r\n      .getPedidosProducaoTelas(params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n          this.dadosLoaded = true;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.hasOwnProperty('success') && response.success === true) {\r\n            this.dados = response.data;\r\n            this.loaderNavbar = false;\r\n            this.totalItems = this.dados[0].qtdeRegistros;\r\n          } else if (\r\n            response.hasOwnProperty('success') &&\r\n            response.success === false &&\r\n            response.hasOwnProperty('mensagem') &&\r\n            response.mensagem.length > 0 &&\r\n            response.mensagem !== null\r\n          ) {\r\n            this.pnotifyService.error(response.mensagem);\r\n            this.dadosEmpty = true;\r\n          } else {\r\n            this.pnotifyService.error();\r\n            this.dadosEmpty = true;\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          if (error.error.hasOwnProperty('mensagem')) {\r\n            this.pnotifyService.error(error.error.mensagem);\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  onPageChanged(event: PageChangedEvent) {\r\n    if (this.form.value.pagina != event.page) {\r\n      this.form.controls.pagina.setValue(event.page);\r\n\r\n      this.onCloseDetailPanel();\r\n      this.setRouterParams(this.getFormFilterValues());\r\n\r\n      this.scrollToFilter.nativeElement.scrollIntoView({\r\n        behavior: 'instant',\r\n      });\r\n    }\r\n  }\r\n\r\n  styleStatusBorder(pedido: IComercialCicloVendasPedidosProducaoTelas): string {\r\n    let borderClass: string;\r\n\r\n    if (pedido.codSituacao == 1) {\r\n      borderClass = 'border-success';\r\n    } else if (pedido.codSituacao == 2) {\r\n      borderClass = 'border-primary';\r\n    } else if (pedido.codSituacao == 3) {\r\n      borderClass = 'border-warning';\r\n    } else if (pedido.codSituacao == 4) {\r\n      borderClass = 'border-danger';\r\n    }\r\n\r\n    return borderClass;\r\n  }\r\n\r\n  viewRegister(index: number, pedido: IComercialCicloVendasPedidosProducaoTelas): void {\r\n    this.loaderNavbar = true;\r\n\r\n    console.log('pedido')\r\n    console.log(pedido)\r\n\r\n    this.detailPanelService.show();\r\n    this.detailPanelTitle = `#${\r\n      pedido.nrPedido\r\n    } / ${pedido.razaoSocial.toUpperCase()}`;\r\n    this.showDetailPanel = true;\r\n\r\n    this.setActiveRow(index);\r\n    this.setactivePedido(pedido);\r\n    // this.resetRegister();\r\n\r\n    this.pedidosProducaoTelasService\r\n      .getDetailPanel(\r\n        pedido.nrPedido\r\n      )\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n          this.contatosLoaded = true;\r\n          this.itensLoaded = true;\r\n          this.itensEmpty = false;\r\n\r\n          this.scrollToDetails.nativeElement.scrollIntoView({\r\n            behavior: 'instant',\r\n          });\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: any) => {\r\n          if (response.success === true) {\r\n            this.detailPanelService.loadedFinished(false);\r\n            console.log(response);\r\n            console.log(response.data);\r\n            console.log(response.data.carrinho);\r\n            this.detalhes = response.data;\r\n            this.loaderNavbar = false;\r\n            this.itensLoaded = true;\r\n          } else {\r\n            this.contatosEmpty = true;\r\n            this.itensEmpty = true;\r\n            this.itensLoaded = false;\r\n\r\n            this.detailPanelService.loadedFinished(true);\r\n            this.pnotifyService.error();\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.detailPanelService.loadedFinished(true);\r\n\r\n          if (error.error.hasOwnProperty('mensagem')) {\r\n            this.pnotifyService.error(error.error.mensagem);\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        }\r\n      });\r\n\r\n      this.pedidosProducaoTelasService\r\n      .getDetalhesPedidos(\r\n        pedido.nrPedido\r\n      )\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n          this.contatosLoaded = true;\r\n          this.itensLoaded = true;\r\n          this.itensEmpty = false;\r\n\r\n          this.scrollToDetails.nativeElement.scrollIntoView({\r\n            behavior: 'instant',\r\n          });\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: any) => {\r\n          if (response.success === true) {\r\n            this.detailPanelService.loadedFinished(false);\r\n            console.log(response.data);\r\n            this.detalhesCarrinho = response.data.carrinho;\r\n            this.loaderNavbar = false;\r\n            this.itensLoaded = true;\r\n          } else {\r\n            this.contatosEmpty = true;\r\n            this.itensEmpty = true;\r\n            this.itensLoaded = false;\r\n\r\n            this.detailPanelService.loadedFinished(true);\r\n            this.pnotifyService.error();\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.detailPanelService.loadedFinished(true);\r\n\r\n          if (error.error.hasOwnProperty('mensagem')) {\r\n            this.pnotifyService.error(error.error.mensagem);\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n\r\n  viewContato(contato: any): void {\r\n    this.pedidoSelected = contato;\r\n  }\r\n\r\n  onCloseDetailPanel(): void {\r\n    this.resetactivePedido();\r\n    this.resetActiveRow();\r\n    // this.resetRegister();\r\n  }\r\n\r\n  setactivePedido(pedido: IComercialCicloVendasPedidosProducaoTelas): void {\r\n    this.activePedido = pedido;\r\n  }\r\n\r\n  resetactivePedido(): void {\r\n    this.activePedido = null;\r\n  }\r\n\r\n  setActiveRow(index: number): void {\r\n    this.activeRow = index;\r\n  }\r\n\r\n  resetActiveRow(): void {\r\n    this.activeRow = null;\r\n  }\r\n\r\n  onSubtitleActivationChange(event: any): void {\r\n    console.log(event);\r\n  }\r\n\r\n  showLoaderNavbar(event: boolean) {\r\n    this.loaderNavbar = event;\r\n  }\r\n\r\n\r\n  // onChangeClienteCotacao(data: [any, IComercialCicloVendasPedidosProducaoTelas]): void {\r\n  //   const selectedCliente = data[0];\r\n  //   const updatedCotacao: IComercialCicloVendasPedidosProducaoTelas = data[1];\r\n\r\n  //   this.dados.map((pedido: IComercialCicloVendasPedidosProducaoTelas) => {\r\n  //     if (updatedCotacao.nrProposta === pedido.nrProposta) {\r\n  //       pedido.codCliente = selectedCliente.codCliente;\r\n  //       pedido.razaoSocial = selectedCliente.razaoSocial;\r\n  //     }\r\n  //   });\r\n\r\n  //   this.detailPanelTitle = `#${\r\n  //     updatedCotacao.nrProposta\r\n  //   } / ${selectedCliente.razaoSocial.toUpperCase()}`;\r\n  // }\r\n\r\n\r\n  onPropostaDuplicada(data: [number, number, IComercialCicloVendasPedidosProducaoTelas]): void {\r\n    const nrProposta = data[0];\r\n    const codVendedor = data[1];\r\n    const pedido = data[2];\r\n\r\n    this.form.controls.nrProposta.setValue(nrProposta);\r\n    this.form.controls.codEmpresa.setValue(pedido.codEmpresa);\r\n    this.form.controls.codVendedor.setValue(codVendedor);\r\n    this.onFilter();\r\n  }\r\n\r\n\r\n  onPropostaDesdobrada(data: [number, IComercialCicloVendasPedidosProducaoTelas, []]): void {\r\n    const nrProposta = data[0];\r\n    const pedido = data[1];\r\n    const materiais = data[2];\r\n\r\n    this.form.controls.nrProposta.setValue(nrProposta);\r\n    this.form.controls.codEmpresa.setValue(pedido.codEmpresa);\r\n    this.onFilter();\r\n\r\n    /* if (materiais.length > 0) {\r\n      this.itensLoaded = false;\r\n\r\n      const filteredMateriais = this.detalhes.itens['materiais'].filter(\r\n        (_material: any) =>\r\n          !materiais.some(\r\n            (material: any) => material.codigo === _material.codigo\r\n          )\r\n      );\r\n\r\n      let total = {\r\n        quantidade: 0,\r\n        valor: 0,\r\n      };\r\n\r\n      filteredMateriais.map((material: any) => {\r\n        total.quantidade += material.quantidade;\r\n        total.valor += material.valorTotal;\r\n      });\r\n\r\n      this.detalhes.itens = {\r\n        materiais: filteredMateriais,\r\n        total: total,\r\n      };\r\n\r\n      setTimeout(() => {\r\n        this.itensLoaded = true;\r\n      }, 1000);\r\n    } */\r\n  }\r\n\r\n\r\n  onChangeEmpresaCotacao(data: [number, number, number]): void {\r\n    const selectedEmpresa = data[0];\r\n    const selectedDeposito = data[1];\r\n    const nrProposta = data[2];\r\n\r\n    this.form.controls.nrProposta.setValue(nrProposta);\r\n    this.form.controls.codEmpresa.setValue(selectedEmpresa);\r\n    this.form.controls.codDeposito.setValue(selectedDeposito);\r\n    this.onFilter();\r\n  }\r\n\r\n  // onImprimir(): void {\r\n  //   this.loaderNavbar = true;\r\n\r\n  //   this.pedidosProducaoTelasService\r\n  //     .getImprimirCotacao(this.activePedido.nrProposta)\r\n  //     .pipe(\r\n  //       finalize(() => {\r\n  //         this.loaderNavbar = false;\r\n  //       })\r\n  //     )\r\n  //     .subscribe(\r\n  //       (response: JsonResponse) => {\r\n  //         if (response.hasOwnProperty('success') && response.success === true) {\r\n  //           this.pnotifyService.success();\r\n  //         } else {\r\n  //           this.pnotifyService.error();\r\n  //         }\r\n  //       },\r\n  //       (error: any) => {\r\n  //         if (error.error.hasOwnProperty('mensagem')) {\r\n  //           this.pnotifyService.error(error.error.mensagem);\r\n  //         } else {\r\n  //           this.pnotifyService.error();\r\n  //         }\r\n  //       }\r\n  //     );\r\n  // }\r\n\r\n\r\n  onAdd(): void {\r\n    console.log()\r\n    this.router.navigate(['../novo'], {\r\n      relativeTo: this.activatedRoute,\r\n    });\r\n  }\r\n\r\n  onEdit(item: any): void {\r\n    this.router.navigate(['../editar', item.nrPedido], {\r\n\r\n      relativeTo: this.activatedRoute,\r\n\r\n    });\r\n  }\r\n\r\n   // formProducao\r\n  setFormProducao(item?): void {\r\n    this.formProducao = this.formBuilder.group({\r\n      nrPedido: [item.nrPedido],\r\n      observacao: [item.descComentarioProducao]\r\n    });\r\n\r\n    this.comentario = false;\r\n\r\n    if (item.descComentarioProducao != '') {\r\n      this.comentario = true;\r\n    }\r\n  }\r\n\r\n  onChangeProducao(){\r\n    console.log(this.formProducao.getRawValue());\r\n    this.pedidosProducaoTelas\r\n    .postProducao(this.formProducao.getRawValue())\r\n    .pipe(\r\n      finalize(() => {\r\n        this.loaderNavbar = false;\r\n      })\r\n    )\r\n    .subscribe({\r\n      next: (response: JsonResponse) => {\r\n        console.log(response)\r\n        if (response.hasOwnProperty('success') && response.success === true) {\r\n          this.producao = response.data;\r\n          this.pnotifyService.success();\r\n          this.onFilter();\r\n        } else {\r\n          this.pnotifyService.error();\r\n        }\r\n      },\r\n      error: (error: any) => {\r\n        if (error.error.hasOwnProperty('mensagem')) {\r\n          this.pnotifyService.error(error.error.mensagem);\r\n        } else {\r\n          this.pnotifyService.error();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n    // formExpedicao\r\n  setFormExpedicao(item?): void {\r\n    this.formExpedicao = this.formBuilder.group({\r\n      nrPedido: [item.nrPedido],\r\n      codLocalizacao: [item.codLocalizacaoExpedicao]\r\n    });\r\n\r\n    this.localizacao = false;\r\n    if (item.codLocalizacaoExpedicao != null) {\r\n     this.localizacaoDisable();\r\n     this.localizacao = true;\r\n    }\r\n\r\n  }\r\n\r\n  localizacaoDisable() {\r\n    this.formExpedicao.get('codLocalizacao').disable();\r\n  }\r\n\r\n  onChangeExpedicao(){\r\n    console.log(this.formExpedicao.getRawValue());\r\n    this.pedidosProducaoTelas\r\n    .postExpedicao(this.formExpedicao.getRawValue())\r\n    .pipe(\r\n      finalize(() => {\r\n        this.loaderNavbar = false;\r\n      })\r\n    )\r\n    .subscribe({\r\n      next: (response: JsonResponse) => {\r\n        if (response.hasOwnProperty('success') && response.success === true) {\r\n          this.pnotifyService.success();\r\n          this.onFilter();\r\n        } else {\r\n          this.pnotifyService.error();\r\n        }\r\n      },\r\n      error: (error: any) => {\r\n        if (error.error.hasOwnProperty('mensagem')) {\r\n          this.pnotifyService.error(error.error.mensagem);\r\n        } else {\r\n          this.pnotifyService.error();\r\n        }\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  // modal\r\n  openModalProducao(producao: TemplateRef<any>) {\r\n  this.modalRef = this.bsModalService.show(producao);\r\n  }\r\n\r\n  openModalExpedicao(expedicao: TemplateRef<any>) {\r\n  this.modalRef = this.bsModalService.show(expedicao);\r\n  }\r\n\r\n  closeModal(modalRef: TemplateRef<any>) {\r\n    this.modalRef.hide();\r\n  }\r\n\r\n  onFieldError(field: string): string {\r\n    if (this.onFieldInvalid(field) != '') {\r\n      return 'is-invalid';\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any): string {\r\n    field = this.form.get(field);\r\n\r\n    if (field.errors != null) {\r\n      if (field.errors.hasOwnProperty('required') && field.touched) {\r\n        return 'required';\r\n      }\r\n\r\n      if (field.errors.hasOwnProperty('maxDate') && field.touched) {\r\n        return 'maxDate';\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onFieldRequired(\r\n    abstractControl: AbstractControl,\r\n    abstractControlField?: string\r\n  ): string {\r\n    if (abstractControl.validator) {\r\n      const validator = abstractControl.validator({} as AbstractControl);\r\n      if (validator && validator.required) {\r\n        return 'is-required';\r\n      }\r\n    }\r\n\r\n    if (abstractControlField) {\r\n      for (const controlName in abstractControl['controls']) {\r\n        if (abstractControl['controls'][controlName]) {\r\n          if (\r\n            this.onFieldRequired(abstractControl['controls'][controlName]) &&\r\n            controlName == abstractControlField\r\n          ) {\r\n            return 'is-required';\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2Zvcm11bGFyaW8vbW9kYWwvaGlzdG9yaWNvLWV4Y2x1c2FvL2hpc3Rvcmljby1leGNsdXNhby5jb21wb25lbnQuc2NzcyJ9 */\";","import { ComercialCicloVendasPedidosProducaoTelasService } from './../../../../pedidos-producao-telas.service';\r\nimport { ICarrinhoModel } from './../../../../../cotacoes/formulario/models/carrinho';\r\nimport { Injectable, EventEmitter } from '@angular/core';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n\r\n// ngx-bootstrap\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\n\r\n// Components\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoComponent } from './calculo.component';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoService {\r\n  loaderNavbar: EventEmitter<boolean> = new EventEmitter();\r\n\r\n  constructor(\r\n    private modalService: BsModalService,\r\n    private pnotifyService: PNotifyService,\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  showModal(index: number, material: ICarrinhoModel, codCliente: number): void {\r\n    this.loaderNavbar.emit(false);\r\n\r\n    const modalConfig = {\r\n        animated: false,\r\n        class: 'modal-lg',\r\n        ignoreBackdropClick: true,\r\n        keyboard: false,\r\n      };\r\n\r\n    const initialState = {\r\n      index: index,\r\n      material: material,\r\n      codCliente: codCliente,\r\n    };\r\n\r\n    this.modalService.show(\r\n      ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoComponent,\r\n      Object.assign({}, modalConfig, {\r\n        initialState,\r\n      })\r\n      )\r\n  }\r\n\r\n}\r\n","export default \"<div class=\\\"modal-content\\\" *ngIf=\\\"dataCotacao\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"mtc-title mb-0 my-auto\\\">COTAÇÃO #{{ dataCotacao.codCotacao }} / REALIZADA COM SUCESSO</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"onClose()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body py-5\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <div class=\\\"mtc-title\\\">Resumo do pedido</div>\\r\\n        <custom-table [config]=\\\"tableConfig\\\">\\r\\n          <ng-template #thead let-thead>\\r\\n            <tr>\\r\\n              <th scope=\\\"col\\\" width=\\\"10%\\\" class=\\\"text-center\\\">Código</th>\\r\\n              <th scope=\\\"col\\\" width=\\\"34%\\\">Descrição</th>\\r\\n              <th scope=\\\"col\\\" width=\\\"12%\\\" class=\\\"text-center\\\">Ton</th>\\r\\n              <th scope=\\\"col\\\" width=\\\"12%\\\" class=\\\"text-center\\\">Unit.</th>\\r\\n              <th scope=\\\"col\\\" width=\\\"12%\\\" class=\\\"text-center\\\">R$</th>\\r\\n              <th scope=\\\"col\\\" width=\\\"20%\\\">Depósito</th>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n          <ng-template #tbody let-tbody>\\r\\n            <tr *ngFor=\\\"let material of dataCotacao.carrinho; let i = index\\\">\\r\\n              <td width=\\\"10%\\\" class=\\\"text-center\\\">{{ material.codMaterial }}</td>\\r\\n              <td width=\\\"34%\\\" class=\\\"text-truncate\\\">{{ material.nomeMaterial | uppercase }}</td>\\r\\n              <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ material.quantidade | number:'1.3-3' }}</td>\\r\\n              <td width=\\\"12%\\\" class=\\\"text-center\\\">\\r\\n                <span class=\\\"mr-2\\\">{{ material.valorUnit | currency:'BRL':symbol:'1.2-2' }}</span>\\r\\n                <i\\r\\n                  *ngIf=\\\"material.variacaoPreco !== 0\\\"\\r\\n                  [ngClass]=\\\"classVariacaoPreco(material.variacaoPreco)\\\"\\r\\n                  [tooltip]=\\\"formatVariacaoPreco(material.variacaoPreco)\\\">\\r\\n                </i>\\r\\n              </td>\\r\\n              <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ material.valorTotal | currency:'BRL':symbol:'1.2-2' }}</td>\\r\\n              <td width=\\\"20%\\\" class=\\\"text-truncate\\\">{{ material.nomeDeposito | uppercase }}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td width=\\\"10%\\\"></td>\\r\\n              <td width=\\\"34%\\\" class=\\\"text-right\\\">TOTAL</td>\\r\\n              <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ calcularTotais('quantidade') | number:'1.3-3' }} TON</td>\\r\\n              <td width=\\\"12%\\\" class=\\\"text-center\\\"></td>\\r\\n              <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ calcularTotais('valor') | currency:'BRL':'symbol':'1.2-2' }}</td>\\r\\n              <td width=\\\"20%\\\"></td>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n        </custom-table>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row py-5\\\">\\r\\n      <div class=\\\"col-8 d-flex\\\">\\r\\n        <div class=\\\"my-auto\\\">\\r\\n          <span class=\\\"mtc-title mb-0 mr-2\\\">Cotação realizada para:</span>\\r\\n          <span>{{ dataCotacao.razaoSocial | uppercase }}</span>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"col-3\\\" *ngIf=\\\"user.idVendedor !== null\\\">\\r\\n        <div class=\\\"border rounded bg-light text-center py-3 px-2\\\">\\r\\n          <div class=\\\"mb-2\\\">Comissão aproximada</div>\\r\\n          <h6 class=\\\"mb-0\\\">\\r\\n            <span *ngIf=\\\"!comissaoLoaded\\\" class=\\\"spinner-border spinner-border-sm text-dark\\\"></span>\\r\\n            <span\\r\\n              counto\\r\\n              [step]=\\\"30\\\"\\r\\n              [countTo]=\\\"comissao\\\"\\r\\n              [countFrom]=\\\"0\\\"\\r\\n              [duration]=\\\"3\\\"\\r\\n              (countoChange)=\\\"countoComissao = $event\\\"\\r\\n              [hidden]=\\\"comissao == 0 || !comissaoLoaded\\\">\\r\\n              {{ countoComissao | currency:'BRL':'symbol':'1.2-2' }}\\r\\n            </span>\\r\\n          </h6>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" *ngIf=\\\"user.idVendedor !== null\\\">\\r\\n      <div class=\\\"col\\\" *ngIf=\\\"!metasEmpty\\\">\\r\\n        <div class=\\\"mtc-title mb-0\\\">Seu progresso após o faturamento dessa cotação:</div>\\r\\n        <div class=\\\"row justify-content-center\\\">\\r\\n          <div class=\\\"col\\\">\\r\\n            <comercial-templates-mapa-metas\\r\\n              [idVendedor]=\\\"user.idVendedor\\\"\\r\\n              [idEscritorio]=\\\"user.idEscritorio\\\"\\r\\n              [showHeader]=\\\"false\\\"\\r\\n              loaderStyle=\\\"tiny\\\"\\r\\n              (onData)=\\\"onData($event)\\\">\\r\\n            </comercial-templates-mapa-metas>\\r\\n            <div id=\\\"progress-bar-mapa-metas\\\" class=\\\"row\\\" *ngIf=\\\"metasLoaded\\\">\\r\\n              <div class=\\\"col-lg-4\\\">\\r\\n                <comercial-ciclo-vendas-cotacoes-formulario-template-progress-bar\\r\\n                  [metaAtual]=\\\"metasProgresso.toneladas.valor\\\"\\r\\n                  [somaCotacao]=\\\"metasProgresso.toneladas.progresso\\\">\\r\\n                </comercial-ciclo-vendas-cotacoes-formulario-template-progress-bar>\\r\\n              </div>\\r\\n              <div class=\\\"col-lg-4\\\">\\r\\n                <comercial-ciclo-vendas-cotacoes-formulario-template-progress-bar\\r\\n                  [metaAtual]=\\\"metasProgresso.clientes.valor\\\"\\r\\n                  [somaCotacao]=\\\"metasProgresso.clientes.progresso\\\">\\r\\n                </comercial-ciclo-vendas-cotacoes-formulario-template-progress-bar>\\r\\n              </div>\\r\\n              <div class=\\\"col-lg-4\\\">\\r\\n                <comercial-ciclo-vendas-cotacoes-formulario-template-progress-bar\\r\\n                  [metaAtual]=\\\"metasProgresso.extras.valor\\\"\\r\\n                  [somaCotacao]=\\\"metasProgresso.extras.progresso\\\">\\r\\n                </comercial-ciclo-vendas-cotacoes-formulario-template-progress-bar>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"col\\\" *ngIf=\\\"metasEmpty\\\">\\r\\n        <span class=\\\"mtc-title mb-0 mr-2\\\">ATENÇÃO:</span>\\r\\n        <span>Não foi possível localizar seu mapa de metas deste mês.</span>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";","import { ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesComponent } from './modal/detalhes/cliente.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalSelecionarComponent } from './modal/selecionar/selecionar.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalSelecionarService } from './modal/selecionar/selecionar.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesService } from './modal/detalhes/cliente.service';\r\nimport { ComercialCicloVendasCotacoesFormularioModule } from './../../cotacoes/formulario/formulario.module';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoService } from './modal/finalizacao/finalizacao.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoService } from './modal/historico-exclusao/historico-exclusao.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoService } from './modal/material/calculo/calculo.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPerdidaComponent } from './modal/finalizacao/perdida/perdida.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPadraoComponent } from './modal/finalizacao/padrao/padrao.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoComponent } from './modal/historico-exclusao/historico-exclusao.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoComponent } from './modal/material/calculo/calculo.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioCarrinhoComponent } from './carrinho/carrinho.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioMateriaisListaComponent } from './materiais/lista/lista.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioComponent } from './formulario.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\n\r\n// ngx-bootstrap\r\nimport { PopoverModule } from 'ngx-bootstrap/popover';\r\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\r\nimport { ModalModule, BsModalRef } from 'ngx-bootstrap/modal';\r\nimport { CarouselModule } from 'ngx-bootstrap/carousel';\r\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\r\nimport { TabsModule } from 'ngx-bootstrap/tabs';\r\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\r\n\r\n// ng-select\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\n// ng2-currency-mask\r\nimport { CurrencyMaskModule } from 'ng2-currency-mask';\r\n\r\n// ng-brazil\r\nimport { TextMaskModule } from 'angular2-text-mask';\r\nimport { NgBrazil } from 'ng-brazil';\r\n\r\n// angular2-counto\r\nimport { CountoModule } from 'angular2-counto';\r\n\r\n// Modules\r\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\r\nimport { TemplatesModule } from 'src/app/shared/templates/templates.module';\r\nimport { ComercialTemplatesModule } from '../../../templates/templates.module';\r\n\r\n// Components\r\n\r\n// Services\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioMateriaisListaComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioCarrinhoComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPadraoComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPerdidaComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalSelecionarComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    RouterModule,\r\n    PopoverModule.forRoot(),\r\n    BsDropdownModule.forRoot(),\r\n    ModalModule.forRoot(),\r\n    CarouselModule.forRoot(),\r\n    TooltipModule.forRoot(),\r\n    TabsModule.forRoot(),\r\n    BsDatepickerModule.forRoot(),\r\n    NgSelectModule,\r\n    CurrencyMaskModule,\r\n    TextMaskModule,\r\n    //NgBrazil,\r\n    CountoModule,\r\n    ReactiveFormsModule,\r\n    SharedModule,\r\n    TemplatesModule,\r\n    ComercialTemplatesModule,\r\n    ComercialCicloVendasCotacoesFormularioModule,\r\n  ],\r\n  providers: [\r\n    BsModalRef,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoService,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoService,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoService,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesService,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalSelecionarService,\r\n  ],\r\n  entryComponents: [\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalSelecionarComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesComponent,\r\n  ],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2Zvcm11bGFyaW8vZm9ybXVsYXJpby5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n// ngx-bootstrap\r\nimport { BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\n@Component({\r\n  selector: 'comercial-cliclo-vendas-pedidos-producao-telas-formulario-modal-detalhes',\r\n  templateUrl: './cliente.component.html',\r\n  styleUrls: ['./cliente.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesComponent\r\n  implements OnInit {\r\n  @Input('cliente') cliente: any;\r\n\r\n  constructor(private bsModalRef: BsModalRef) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  onClose(): void {\r\n    this.bsModalRef.hide();\r\n  }\r\n}\r\n","import { ComercialCicloVendasCotacoesFormularioModalMaterialEstoqueService } from './../../../../cotacoes/formulario/modal/material/estoque/estoque.service';\r\nimport { ComercialCicloVendasCotacoesFormularioService } from './../../../../cotacoes/formulario/formulario.service';\r\nimport { ComercialCicloVendasCotacoesService } from './../../../../cotacoes/cotacoes.service';\r\nimport { IMateriaisModel } from './../../../../cotacoes/formulario/models/materiais';\r\nimport { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  Validators,\r\n  AbstractControl,\r\n} from '@angular/forms';\r\nimport { Subscription } from 'rxjs';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { ComercialService } from 'src/app/modules/comercial/comercial.service';\r\n\r\n// Interfaces\r\nimport { Subtitles } from 'src/app/shared/modules/subtitles/subtitles';\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Component({\r\n  selector: 'comercial-ciclo-vendas-pedidos-producao-telas-formulario-materiais-lista',\r\n  templateUrl: './lista.component.html',\r\n  styleUrls: ['./lista.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioMateriaisListaComponent\r\n  implements OnInit {\r\n  @Input('codEmpresa') codEmpresa: number;\r\n  @Input('codDeposito') codDeposito: number;\r\n  @Input('codCliente') codCliente: number;\r\n  @Input('codEndereco') codEndereco: number;\r\n  @Input('codFormaPagamento') codFormaPagamento: number;\r\n\r\n  @Output('loaderNavbar') loaderNavbar: EventEmitter<\r\n    boolean\r\n  > = new EventEmitter();\r\n  @Output('loaderFullScreen') loaderFullScreen: EventEmitter<\r\n    boolean\r\n  > = new EventEmitter();\r\n  @Output('scrollToCarrinho') scrollToCarrinho: EventEmitter<\r\n    boolean\r\n  > = new EventEmitter();\r\n  @Output('scrollToFormOnTop') scrollToFormOnTop: EventEmitter<\r\n    boolean\r\n  > = new EventEmitter();\r\n\r\n  showApp = false;\r\n\r\n  subtitles: Array<Subtitles> = [\r\n    {\r\n      id: 1,\r\n      text: 'Disponível em estoque',\r\n      color: 'green',\r\n    },\r\n    {\r\n      id: 2,\r\n      text: 'Indisponível em estoque',\r\n      color: 'red',\r\n    },\r\n  ];\r\n\r\n  tableConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: true,\r\n    fixedHeader: false,\r\n    bodyHeight: 230,\r\n    select: false,\r\n  };\r\n\r\n  activatedRouteSubscription: Subscription;\r\n\r\n  searching = false;\r\n  searchParams: any = {};\r\n\r\n  form: FormGroup;\r\n  orderBy = 'nrPedido';\r\n  orderType = 'desc';\r\n\r\n\r\n  linhas: Array<any> = [];\r\n  classes: Array<any> = [];\r\n  filteredClasses: Array<any> = [];\r\n  materiais: Array<any> = [];\r\n  materiaisLoader: boolean;\r\n\r\n  autoScroll = true;\r\n\r\n  firstSearch = false;\r\n\r\n  dados: Array<IMateriaisModel> = [];\r\n  dadosLoaded = false;\r\n  dadosEmpty = false;\r\n\r\n  toggleAll = false;\r\n  activeRow: number;\r\n\r\n  clickCounter = 0;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private location: Location,\r\n    private formBuilder: FormBuilder,\r\n    private pnotifyService: PNotifyService,\r\n    private cotacoesService: ComercialCicloVendasCotacoesService,\r\n    private formularioService: ComercialCicloVendasCotacoesFormularioService,\r\n    private comercialService: ComercialService,\r\n    private estoqueService: ComercialCicloVendasCotacoesFormularioModalMaterialEstoqueService\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getFilterValues();\r\n  }\r\n\r\n  getFilterValues(): void {\r\n    this.loaderFullScreen.emit(true);\r\n\r\n    this.cotacoesService\r\n      .getCotacaoFilterValues()\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderFullScreen.emit(false);\r\n          this.setFormFilter();\r\n          this.showApp = true;\r\n        })\r\n      )\r\n      .subscribe((response: any) => {\r\n        if (response[0].responseCode === 200) {\r\n          this.linhas = response[0].result;\r\n          this.linhas =  this.linhas.filter(\r\n            (value: any) => value.descricao == 'CERCAS'\r\n          );\r\n        } else {\r\n          this.pnotifyService.error();\r\n          this.location.back();\r\n        }\r\n\r\n        if (response[1].responseCode === 200) {\r\n          this.classes = response[1].result;\r\n        } else {\r\n          this.pnotifyService.error();\r\n          this.location.back();\r\n        }\r\n      });\r\n  }\r\n\r\n  onChangeLinha(codLinha: number, reset: boolean) {\r\n    if (reset) {\r\n      this.form.controls.codClasse.reset();\r\n      this.form.controls.codClasse.setValue(0);\r\n\r\n      this.form.controls.codMaterial.reset();\r\n      this.form.controls.codMaterial.disable();\r\n      this.form.controls.codMaterial.setValue(null);\r\n      this.form.controls.codMaterial.updateValueAndValidity();\r\n    }\r\n\r\n    this.form.controls.codClasse.enable();\r\n    this.form.controls.codClasse.setValidators([Validators.required]);\r\n    this.form.controls.codClasse.updateValueAndValidity();\r\n\r\n    this.filteredClasses = this.classes.filter(\r\n      (value: any) => value.idLinha == codLinha\r\n    );\r\n\r\n    this.filteredClasses.unshift({\r\n      idClasse: 0,\r\n      nomeClasse: 'EXIBIR TODOS',\r\n    });\r\n  }\r\n\r\n  onChangeClasse(codClasse: number, reset: boolean, src: string) {\r\n    if (reset) {\r\n      this.form.controls.codMaterial.reset();\r\n\r\n      if (this.form.value.codClasse === 0) {\r\n        this.form.controls.codMaterial.reset();\r\n        this.form.controls.codMaterial.disable();\r\n        this.form.controls.codMaterial.setValue(null);\r\n        this.form.controls.codMaterial.updateValueAndValidity();\r\n      } else {\r\n        this.getMateriais(codClasse, src);\r\n      }\r\n    } else {\r\n      if (this.form.value.codClasse !== 0) {\r\n        this.getMateriais(codClasse, src);\r\n      }\r\n    }\r\n  }\r\n\r\n  getMateriais(codClasse: number, src: string): void {\r\n    if (typeof codClasse !== 'undefined' && codClasse !== null) {\r\n      if (src === 'application') {\r\n        this.loaderNavbar.emit(true);\r\n      }\r\n      this.materiaisLoader = true;\r\n      this.materiais = [];\r\n\r\n      const params = {\r\n        codClasse: codClasse,\r\n        // tipoMaterial: 'Distribuidora',\r\n        comercializa: 0,\r\n      };\r\n\r\n      this.comercialService\r\n        .getMateriais(params)\r\n        .pipe(\r\n          finalize(() => {\r\n            if (src === 'application') {\r\n              this.loaderNavbar.emit(false);\r\n            }\r\n            this.materiaisLoader = false;\r\n          })\r\n        )\r\n        .subscribe({\r\n          next: (response: JsonResponse) => {\r\n            if (\r\n              response.hasOwnProperty('success') &&\r\n              response.success === true\r\n            ) {\r\n              this.materiais = response.data;\r\n\r\n              this.materiais.unshift({\r\n                codigoMaterial: 0,\r\n                codigoDescricaoMaterial: 'EXIBIR TODOS',\r\n              });\r\n\r\n              this.form.controls.codMaterial.enable();\r\n              this.form.controls.codMaterial.setValue(0);\r\n              this.form.controls.codMaterial.updateValueAndValidity();\r\n            } else if (\r\n              response.hasOwnProperty('success') &&\r\n              response.success === false &&\r\n              response.hasOwnProperty('mensagem')\r\n            ) {\r\n              this.pnotifyService.error(response.mensagem);\r\n            } else {\r\n              this.pnotifyService.error();\r\n            }\r\n          },\r\n          error: (error: any) => {\r\n            if (error['error'].hasOwnProperty('mensagem')) {\r\n              this.pnotifyService.error(error.error.mensagem);\r\n            } else {\r\n              this.pnotifyService.error();\r\n            }\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  setFormFilter(): void {\r\n    const formValue: any = this.checkRouterParams();\r\n\r\n    this.form = this.formBuilder.group({\r\n      codLinha: [formValue.codLinha, [Validators.required]],\r\n      codClasse: [\r\n        {\r\n          value: formValue.codClasse,\r\n          disabled: formValue.codLinha === null ? true : false,\r\n        },\r\n      ],\r\n      codMaterial: [\r\n        {\r\n          value: formValue.codMaterial,\r\n          disabled: formValue.codMaterial === null ? true : false,\r\n        },\r\n      ],\r\n      comEstoque: [formValue.comEstoque, [Validators.required]],\r\n      registros: [formValue.registros],\r\n    });\r\n\r\n    this.checkValuesLinhaClasse();\r\n  }\r\n\r\n  checkRouterParams(): Object {\r\n    let formValue = {\r\n      codLinha: this.linhas[0]['id'],\r\n      codClasse: 0,\r\n      codMaterial: null,\r\n      comEstoque: 1,\r\n      registros: 100,\r\n    };\r\n\r\n    this.activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      (queryParams: any) => {\r\n        if (Object.keys(queryParams).length > 0) {\r\n          if (queryParams.q) {\r\n            let params = atob(queryParams.q);\r\n            params = JSON.parse(params);\r\n            this.search(params);\r\n\r\n            Object.keys(formValue).forEach((formKey) => {\r\n              Object.keys(params).forEach((paramKey) => {\r\n                if (\r\n                  formKey == paramKey &&\r\n                  formValue[formKey] != params[paramKey]\r\n                ) {\r\n                  if (!isNaN(Number(params[paramKey]))) {\r\n                    formValue[formKey] = Number(params[paramKey]);\r\n                  } else {\r\n                    formValue[formKey] = params[paramKey];\r\n                  }\r\n                }\r\n              });\r\n            });\r\n          }\r\n        }\r\n      }\r\n    );\r\n    this.activatedRouteSubscription.unsubscribe();\r\n\r\n    return formValue;\r\n  }\r\n\r\n  checkValuesLinhaClasse(): void {\r\n    if (this.form.value.codLinha !== '' && this.form.value.codLinha !== null) {\r\n      this.onChangeLinha(this.form.value.codLinha, false);\r\n    }\r\n\r\n    if (\r\n      this.form.value.codClasse !== '' &&\r\n      this.form.value.codClasse !== null\r\n    ) {\r\n      this.onChangeClasse(this.form.value.codClasse, false, 'verify');\r\n    }\r\n  }\r\n\r\n  onFieldError(field: string): string {\r\n    if (this.onFieldInvalid(field)) {\r\n      return 'is-invalid';\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any): boolean {\r\n    field = this.form.get(field);\r\n\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onFieldRequired(\r\n    abstractControl: AbstractControl,\r\n    abstractControlField?: string\r\n  ): string {\r\n    if (abstractControl.validator) {\r\n      const validator = abstractControl.validator({} as AbstractControl);\r\n      if (validator && validator.required) {\r\n        return 'is-required';\r\n      }\r\n    }\r\n\r\n    if (abstractControlField) {\r\n      for (const controlName in abstractControl['controls']) {\r\n        if (abstractControl['controls'][controlName]) {\r\n          if (\r\n            this.onFieldRequired(abstractControl['controls'][controlName]) &&\r\n            controlName == abstractControlField\r\n          ) {\r\n            return 'is-required';\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  setOrderBy(column: string) {\r\n    if (this.orderBy === column) {\r\n      if (this.orderType == 'desc') {\r\n        this.orderType = 'asc';\r\n      } else if (this.orderType == 'asc') {\r\n        this.orderType = 'desc';\r\n      }\r\n    } else {\r\n      this.orderBy = column;\r\n      this.orderType = 'asc';\r\n    }\r\n    this.onFilter();\r\n  }\r\n\r\n  onFilter(): void {\r\n    if (this.codEmpresa !== null && this.codDeposito !== null) {\r\n      if (this.searching === false && this.form.valid) {\r\n        this.setRouterParams(this.getFormFilterValues());\r\n      }\r\n    } else {\r\n      this.scrollToFormOnTop.emit(true);\r\n    }\r\n  }\r\n\r\n  setRouterParams(params: any): void {\r\n    this.router.navigate([], {\r\n      relativeTo: this.activatedRoute,\r\n      queryParams: {\r\n        f: btoa(\r\n          JSON.stringify({\r\n            codEmpresa: this.codEmpresa,\r\n            codDeposito: this.codDeposito,\r\n            codCliente: this.codCliente,\r\n          })\r\n        ),\r\n        q: btoa(JSON.stringify(params)),\r\n      },\r\n      queryParamsHandling: 'merge',\r\n    });\r\n    this.search(params);\r\n  }\r\n\r\n  getFormFilterValues(): Object {\r\n    let params: any = {};\r\n\r\n    if (this.form.value.codLinha) {\r\n      params.codLinha = this.form.value.codLinha;\r\n    }\r\n\r\n    if (this.form.value.codClasse && this.form.value.codClasse !== 0) {\r\n      params.codClasse = this.form.value.codClasse;\r\n    }\r\n\r\n    if (this.form.value.codMaterial && this.form.value.codMaterial !== 0) {\r\n      params.codMaterial = this.form.value.codMaterial;\r\n    }\r\n\r\n    if (this.codEmpresa) {\r\n      params.codEmpresa = this.codEmpresa;\r\n    }\r\n\r\n    //if (this.codDeposito) {\r\n      params.codDeposito = 18;\r\n    //}\r\n\r\n    if (this.codCliente) {\r\n      params.codCliente = this.codCliente;\r\n    }\r\n\r\n    if (this.form.value.comEstoque) {\r\n      params.comEstoque = this.form.value.comEstoque;\r\n    }\r\n\r\n    if (this.form.value.registros) {\r\n      params.registros = this.form.value.registros;\r\n    }\r\n\r\n    if(this.codEndereco){\r\n      params.codEndereco = this.codEndereco;\r\n    }\r\n\r\n    if(this.codFormaPagamento){\r\n      params.codFormaPagamento = this.codFormaPagamento;\r\n    }\r\n\r\n    params.orderBy = this.orderBy;\r\n    params.orderType = this.orderType;\r\n\r\n    return params;\r\n  }\r\n\r\n  search(params: any): void {\r\n    this.loaderNavbar.emit(true);\r\n    this.searching = true;\r\n    this.searchParams = params;\r\n    this.dados = [];\r\n    this.dadosLoaded = false;\r\n    this.dadosEmpty = false;\r\n    const _params = {...params,\r\n      situacao: 'A'\r\n    }\r\n    this.cotacoesService\r\n      .getMateriais(_params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar.emit(false);\r\n          this.searching = false;\r\n          this.firstSearch = true;\r\n          this.dadosLoaded = true;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.hasOwnProperty('success') && response.success === true) {\r\n            this.dados = response.data.map(function (el: any) {\r\n              var o = Object.assign({}, el);\r\n              o.checked = 0;\r\n              return o;\r\n            });\r\n\r\n            if (this.dados.length > 10) {\r\n              this.tableConfig.fixedHeader = true;\r\n            } else {\r\n              this.tableConfig.fixedHeader = false;\r\n            }\r\n          } else {\r\n            this.dadosEmpty = true;\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          if (error['error'].hasOwnProperty('mensagem')) {\r\n            this.pnotifyService.error(error.error.mensagem);\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n          this.dadosEmpty = true;\r\n        }\r\n      });\r\n  }\r\n\r\n  classStatusBorder(disponibilidade: number): string {\r\n    let borderClass: string;\r\n\r\n    if (disponibilidade == 1) {\r\n      borderClass = 'border-success';\r\n    } else if (disponibilidade == 2) {\r\n      borderClass = 'border-danger';\r\n    } else {\r\n      borderClass = 'border-secondary';\r\n    }\r\n\r\n    return borderClass;\r\n  }\r\n\r\n  columSize(key: string): string {\r\n    let size: number;\r\n\r\n    switch (key) {\r\n      case 'disponibilidade':\r\n        size = 5;\r\n        break;\r\n      case 'codMaterial':\r\n        size = 10;\r\n        break;\r\n      case 'nomeMaterial':\r\n        size = 30;\r\n        break;\r\n      case 'nomeLinha':\r\n        size = 12;\r\n        break;\r\n      case 'nomeDeposito':\r\n        size = 13;\r\n        break;\r\n      case 'estoqueDisponivel':\r\n        size = 10;\r\n        break;\r\n      case 'estoqueAtual':\r\n        size = 10;\r\n        break;\r\n      case 'buttons':\r\n        size = 10;\r\n        break;\r\n    }\r\n\r\n    return `${size}%`;\r\n  }\r\n\r\n  onToggleAll() {\r\n    this.toggleAll = !this.toggleAll;\r\n\r\n    for (let index = 0; index < this.dados.length; index++) {\r\n      if (this.dados[index].codSituacao == \"A\") {\r\n        this.dados[index].checked = this.toggleAll === true ? 1 : 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  onClickMaterial(index: number, material: IMateriaisModel) {\r\n    this.clickCounter++;\r\n\r\n    setTimeout(() => {\r\n      if (this.clickCounter === 1) {\r\n        this.onCheckMaterial(index, material);\r\n      } else if (this.clickCounter === 2) {\r\n        this.onDoubleClickMaterial(index);\r\n      }\r\n\r\n      this.clickCounter = 0;\r\n    }, 250);\r\n  }\r\n\r\n  onDoubleClickMaterial(index: number): void {\r\n    if (this.dados[index].codSituacao == \"A\") {\r\n      let materiais = [];\r\n      materiais.push(this.dados[index]);\r\n      this.formularioService.materiaisSubject.next(materiais);\r\n      this.scrollToCarrinho.emit(this.autoScroll);\r\n      this.dados[index].checked = 0;\r\n    } else {\r\n      this.pnotifyService.notice('Material inativo, favor entrar em contato com o Marketing');\r\n    }\r\n  }\r\n\r\n  onCheckMaterial(index: number, material: IMateriaisModel): void {\r\n    if(this.dados[index].codSituacao == \"A\") {\r\n      this.dados[index].checked = material.checked == 0 ? 1 : 0;\r\n    }else {\r\n      this.pnotifyService.notice('Material inativo, favor entrar em contato com o Marketing');\r\n    }\r\n\r\n  }\r\n\r\n  onAddMaterial(): void {\r\n    let materiais = [];\r\n\r\n\r\n\r\n    for (let index = 0; index < this.dados.length; index++) {\r\n      if (this.dados[index].checked == 1) {\r\n        materiais.push(this.dados[index]);\r\n\r\n        this.dados[index].checked = 0;\r\n      }\r\n    }\r\n\r\n    if (materiais.length > 0) {\r\n      this.formularioService.materiaisSubject.next(materiais);\r\n      this.toggleAll = this.toggleAll === true ? false : this.toggleAll;\r\n      this.scrollToCarrinho.emit(this.autoScroll);\r\n    } else {\r\n      this.pnotifyService.notice('Selecione ao menos um material.');\r\n    }\r\n  }\r\n\r\n  onActiveRow(index: number): void {\r\n    this.activeRow = index;\r\n  }\r\n\r\n  onChangeDeposito(event: any): void {\r\n    /* this.dados[event.index].codDeposito = event.deposito.codDeposito;\r\n    this.dados[event.index].nomeDeposito = event.deposito.nomeDeposito;\r\n    this.dados[event.index].quantidade = event.deposito.quantidade; */\r\n    // Validar o que vai fazer aqui.\r\n    /* this.form.controls.codDeposito.setValue(event.deposito.codDeposito);\r\n    this.onFilter(); */\r\n  }\r\n\r\n  onEstoqueDetalhes(material: IMateriaisModel): void {\r\n    if (material.disponibilidade === 1) {\r\n      this.estoqueService.showModal({\r\n        pesquisa: {\r\n          deposito: material.codDeposito,\r\n          // @ts-ignore: Ignorar error TS2339\r\n          codMaterial: material.id_material,\r\n          estoqueDisponivel: this.form.value.comEstoque,\r\n        },\r\n        material: material,\r\n      });\r\n    } else {\r\n      this.pnotifyService.notice('Material sem estoque');\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n// ngx-bootstrap\r\nimport { BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\n// Interfaces\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\n\r\n@Component({\r\n  selector:\r\n    'comercial-ciclo-vendas-pedidos-producao-telas-formulario-modal-historico-exclusao',\r\n  templateUrl: './historico-exclusao.component.html',\r\n  styleUrls: ['./historico-exclusao.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoComponent\r\n  implements OnInit {\r\n  @Input('exclusoes') exclusoes: Array<any>;\r\n\r\n  tableConfig: Partial<CustomTableConfig>;\r\n\r\n  activeRow: number = null;\r\n\r\n  selectedItem: any;\r\n\r\n  constructor(private bsModalRef: BsModalRef) {}\r\n\r\n  ngOnInit(): void {\r\n    this.checkTableConfig();\r\n    this.onShowDescricao(0, this.exclusoes[0]);\r\n  }\r\n\r\n  onClose(): void {\r\n    this.bsModalRef.hide();\r\n  }\r\n\r\n  checkTableConfig(): void {\r\n    if (this.exclusoes.length > 10) {\r\n      this.tableConfig.fixedHeader = true;\r\n      this.tableConfig.bodyHeight = 200;\r\n    }\r\n  }\r\n\r\n  onShowDescricao(index: number, item: any): void {\r\n    if (this.activeRow !== index) {\r\n      this.activeRow = index;\r\n      this.selectedItem = item;\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}