{"version":3,"sources":["webpack:///src/app/modules/logistica/entrega/romaneios/components/pedidos/pedidos.component.scss","webpack:///src/app/modules/logistica/entrega/romaneios/services/romaneios.service.ts","webpack:///src/app/modules/logistica/entrega/romaneios/lista/lista.component.ts","webpack:///src/app/modules/logistica/entrega/romaneios/romaneios-routing.module.ts","webpack:///src/app/modules/logistica/entrega/romaneios/lista/lista.component.scss","webpack:///src/app/modules/logistica/entrega/romaneios/components/capa-romaneio/capa-romaneio.component.ts","webpack:///src/app/modules/logistica/entrega/romaneios/components/pedidos/pedidos.component.html","webpack:///src/app/modules/logistica/entrega/romaneios/romaneios.module.ts","webpack:///src/app/modules/logistica/entrega/romaneios/components/capa-romaneio/capa-romaneio.component.scss","webpack:///src/app/modules/logistica/entrega/romaneios/lista/lista.component.html","webpack:///src/app/modules/logistica/entrega/romaneios/components/capa-romaneio/capa-romaneio.component.html","webpack:///src/app/modules/logistica/entrega/romaneios/components/pedidos/pedidos.component.ts"],"names":["LogisticaEntregaRomaneiosService","http","BASE_URL","downloadEmmiter","get","params","observe","post","put","romaneio","emit","providedIn","LogisticaEntregaRomaneiosListaComponent","activatedRoute","route","localeService","notice","formBuilder","dateService","romaneiosService","atividadesService","perfilService","detailPanelService","pnotify","xlsxService","routerService","modalService","filiaisService","pedidosAtivos","pedidosInativos","inSomenteEntregaFaturamento","isChecked","loading","loaderNavbar","loadingEntregas","loadingFiliais","romaneios","entregas","totalItems","noResult","romaneioFinalizado","breadCrumbTree","loadingPedidos","showDetailPanel","detailPanelTitle","appTitle","orderBy","orderType","situacao","id","nome","situacaoCarregamento","inicioViagem","itemsPerPage","currentPage","begin","end","permiteAlterarStatus","tableConfig","subtitleBorder","isFixed","visualizarPedidosRemovidos","use","bsConfig","Object","assign","containerClass","adaptivePosition","showWeekNumbers","buildForm","registrarAcesso","subscribe","verificaPerfil","setBreadCrumb","onDetailPanelEmitter","onActivatedRoute","getFiliais","status","pipe","next","response","filiais","body","error","showDetailPanelSubscription","unsubscribe","datepicker","hide","snapshot","submoduloId","idSubModulo","descricao","routerLink","form","group","CD_FILI","CD_MOTO","CD_PRIO","CD_ROMA","CD_STAT","DS_OBSE","DT_ATUA","DT_INCL","DT_PREV_SAID","ID_LOGI_FUSI_ROMA","INT_ID","IN_STAT","FINA_IN_STAT","IN_VIAG_INIC","KM_PREV","PLAC","VL_FRET","CD_PEDI","DS_MOTO","NR_NOTA_FISC","IN_CTE_EMIT","DT_INIC","Date","DT_FINA","PAGI","TT_REGI_PAGI","ORDE_BY","ORDE_TYPE","TIME","getTime","TP_EMPR","$activatedRouteSubscription","queryParams","_response","getBase64UrlParams","keys","length","split","patchValue","getRomaneios","getParams","getRomaneio","field","onFieldInvalid","touched","required","formControl","controls","validator","validationResult","event","setValue","page","navigate","relativeTo","setBase64UrlParams","finalizarRomnaneio","success","message","DT_SAID","postRomaneios","_params","_obj","value","prop","convertToUrlDate","Array","isArray","join","postRomaneio","matricula","JSON","parse","localStorage","getItem","getPerfil","sigla","config","showing","map","element","selected","show","loadedFinished","getEntregas","getPedidos","pedidos","filter","pedido","syncFusion","putRomaneio","download","sincronizarRomaneiosFusion","loadingFaturamento","enviarRomaneioParaFaturamento","usuario","DS_FATU_NM_USUA","DS_FATU_NR_MATR","options","timeStyle","dateStyle","DS_FATU_DT_INCL","Intl","DateTimeFormat","format","FATU_IN_STAT","IN_FATU","toString","template","modalRef","animated","backdrop","getRelatorios","data","column","onFilter","selector","routes","path","component","LogisticaEntregaRomaneiosRoutingModule","imports","forChild","exports","LogisticaEntregaRomaneiosCapaRomaneioComponent","pdfService","materiais","getLogos","onSubscriptions","$subscription","undefined","onDownloadEmmiter","ROMA_PEDI_IN_STAT","TP_PEDI","openModal","txt","document","querySelector","classList","add","getNomeDownload","remove","d","timestamp","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","window","print","getMateriais","hasOwnProperty","materialLoading","LogisticaEntregaRomaneiosModule","declarations","forRoot","LogisticaEntregaRomaneiosPedidosComponent","pnotifyService","ctes","loadingCtes","notificacoes","entrega","faturamento","tooltips","cor","cte","arrow","changes","currentValue","firstChange","loadingMateriais","CD_EMPR","CD_CLIE","DS_LOCA_ENTR","DS_CIDA","DS_BAIR","DS_ESTA","getCtes","txtArea","createElement","style","position","top","left","opacity","appendChild","select","execCommand","type","item"],"mappings":"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","file":"romaneios-romaneios-module-es5.js","sourcesContent":["export default \".custom-border-left-danger {\\n  border-left: 5px solid #b8342c !important;\\n}\\n\\n#pedidos {\\n  display: block;\\n  overflow: auto;\\n}\\n\\n.table {\\n  color: #6c757d !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9sb2dpc3RpY2EvZW50cmVnYS9yb21hbmVpb3MvY29tcG9uZW50cy9wZWRpZG9zL3BlZGlkb3MuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5Q0FBQTtBQUNGOztBQUVBO0VBQ0UsY0FBQTtFQUNBLGNBQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2xvZ2lzdGljYS9lbnRyZWdhL3JvbWFuZWlvcy9jb21wb25lbnRzL3BlZGlkb3MvcGVkaWRvcy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jdXN0b20tYm9yZGVyLWxlZnQtZGFuZ2Vye1xuICBib3JkZXItbGVmdDogNXB4IHNvbGlkICNiODM0MmMgIWltcG9ydGFudDtcbn1cblxuI3BlZGlkb3N7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBvdmVyZmxvdzogYXV0bztcbn1cblxuLnRhYmxle1xuICBjb2xvcjogIzZjNzU3ZCAhaW1wb3J0YW50O1xufSJdfQ== */\";","import { Injectable, EventEmitter } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { environment } from 'src/environments/environment';\n\nimport { ILogisticaEntregaRomaneio } from '../models/romaneio';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LogisticaEntregaRomaneiosService {\n\n  private readonly BASE_URL: string = `https://crm360.monterrey.com.bo/api`;\n\n  private downloadEmmiter: EventEmitter<ILogisticaEntregaRomaneio> = new EventEmitter();\n\n  constructor(private http: HttpClient) { }\n\n  getEmpresas() {\n    return this.http.get(`${this.BASE_URL}/common/empresas`);\n  }\n\n  getRomaneio(params) {\n    return this.http.get(`${this.BASE_URL}/logistica/painel-romaneios/romaneios`, {\n      params: params,\n      observe: \"response\"\n    });\n  }\n\n  sincronizarRomaneiosFusion(){\n    return this.http.post(\n      `${this.BASE_URL}/logistica/integracoes/fusion/romaneios`,{},\n      { observe: 'response' }\n    );\n  }\n\n  enviarRomaneioParaFaturamento(params: ILogisticaEntregaRomaneio) {\n    return this.http.post(\n      `${this.BASE_URL}/logistica/painel-romaneios/romaneio/faturamento`,\n      params,\n      { observe: 'response' }\n    );\n  }\n\n  finalizarRomnaneio(params){\n    return this.http.post(\n      `${this.BASE_URL}/logistica/painel-romaneios/finaliza-romaneio`,\n      params,\n      { observe: 'response' }\n    );\n  }\n\n  postRomaneio(params: ILogisticaEntregaRomaneio) {\n    return this.http.put(\n      `${this.BASE_URL}/logistica/painel-romaneios/status-romaneio`,\n      params,\n      { observe: 'response' }\n    );\n  }\n\n  putRomaneio(params) {\n    return this.http.put(\n      `${this.BASE_URL}/logistica/integracoes/fusion/romaneios`,\n      params,\n      { observe: 'response' }\n    );\n  }\n\n  getPedidos(params) {\n    return this.http.get(\n      `${this.BASE_URL}/logistica/painel-romaneios/romaneios/pedidos`,\n      {\n        params: params,\n        observe: 'response'\n      }\n    );\n  }\n\n  getMateriais(params){\n    return this.http.get(\n      `${this.BASE_URL}/logistica/painel-romaneios/romaneios/pedidos/materiais`,\n      {\n        params: params,\n        observe: 'response'\n      }\n    );\n  }\n\n  getCtes(params){\n    return this.http.get(\n      `${this.BASE_URL}/logistica/painel-romaneios/ctes`,\n      {\n        params: params,\n        observe: 'response'\n      }\n    );\n  }\n\n  download(romaneio: ILogisticaEntregaRomaneio){\n    return this.downloadEmmiter.emit(romaneio);\n  }\n\n  onDownloadEmmiter(){\n    return this.downloadEmmiter;\n  }\n\n  getEntregas(params){\n    return this.http.get(\n      `${this.BASE_URL}/logistica/painel-romaneios/entregas`,\n      {\n        params: params,\n        observe: 'response'\n      }\n    );\n  }\n\n  getRelatorios(params){\n    return this.http.get(\n      `${this.BASE_URL}/logistica/painel-romaneios/relatorios`,\n      {\n        params: params,\n        observe: 'response'\n      }\n    );\n  }\n\n}\n","// angular\nimport {\n  Component,\n  HostListener,\n  OnInit,\n  TemplateRef,\n  ViewChild,\n} from '@angular/core';\nimport { FormGroup, FormBuilder, FormControl } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n// rxjs\nimport { finalize } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n\n// ngx\nimport { PageChangedEvent } from 'ngx-bootstrap/pagination';\nimport {\n  BsDatepickerConfig,\n  BsDatepickerDirective,\n  BsLocaleService,\n} from 'ngx-bootstrap/datepicker';\n\n// services\nimport { DateService } from 'src/app/shared/services/core/date.service';\nimport { LogisticaEntregaRomaneiosService } from '../services/romaneios.service';\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\nimport { DetailPanelService } from 'src/app/shared/templates/detail-panel/detal-panel.service';\nimport { XlsxService } from 'src/app/shared/services/core/xlsx.service';\nimport { RouterService } from 'src/app/shared/services/core/router.service';\n\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap';\n\n// interfaces\nimport { ILogisticaEntregaRomaneio } from '../models/romaneio';\nimport { AdminPerfisService } from 'src/app/modules/admin/perfis/services/perfis.service';\nimport { LogisticaEntregaFusionService } from '../../services/fusion.service';\nimport { LogisticaFiliaisService } from '../../../cadastros/filiais/services/filiais.service';\n\n@Component({\n  selector: 'logistica-entrega-romaneios-lista',\n  templateUrl: './lista.component.html',\n  styleUrls: ['./lista.component.scss'],\n})\nexport class LogisticaEntregaRomaneiosListaComponent implements OnInit {\n  @ViewChild(BsDatepickerDirective, { static: false })\n  datepicker: BsDatepickerDirective;\n\n  form: FormGroup;\n  pedidosAtivos = [];\n  pedidosInativos = [];\n\n  /* showActiveOrder: boolean = true;\n  showInactiveOrder: boolean = false; */\n\n  inSomenteEntregaFaturamento: boolean = false;\n\n  isChecked = false;\n\n  //spinner\n  loading: boolean = true;\n  loaderNavbar: boolean = false;\n  loadingEntregas: boolean = false;\n  loadingFiliais = false;\n\n  filiais; /*  = [\n    {\n      \"CD_FILI\": \"18\",\n      \"NM_FILI\": \"Distribuição Tiete\"\n    },\n    {\n      \"CD_FILI\": \"6\",\n      \"NM_FILI\": \"Distribuição Osasco\"\n    },\n    {\n      \"CD_FILI\": \"79\",\n      \"NM_FILI\": \"Distribuição Taipas\"\n    },\n    {\n      \"CD_FILI\": \"77\",\n      \"NM_FILI\": \"Distribuição Camanducaia\"\n    },\n    {\n      \"CD_FILI\": \"3\",\n      \"NM_FILI\": \"C&D Rio das Pedras\"\n    },\n    {\n      \"CD_FILI\": \"72\",\n      \"NM_FILI\": \"C&D Praia Grande\"\n    },\n    {\n      \"CD_FILI\": \"46\",\n      \"NM_FILI\": \"C&D Cajamar\"\n    },\n    {\n      \"CD_FILI\": \"41\",\n      \"NM_FILI\": \"Distribuição Valença\"\n    },\n    {\n      \"CD_FILI\": \"19\",\n      \"NM_FILI\": \"Distribuição Volta Redonda\"\n    },\n    {\n      \"CD_FILI\": \"9661\",\n      \"NM_FILI\": \"DBA Aço Especial\"\n    },\n    {\n      \"CD_FILI\": \"9645\",\n      \"NM_FILI\": \"DBA Piracicaba\"\n    },\n    {\n      \"CD_FILI\": \"9636\",\n      \"NM_FILI\": \"DBA Praia Grande\"\n    },\n    {\n      \"CD_FILI\": \"9639\",\n      \"NM_FILI\": \"DBA Jacarei\"\n    }\n  ] */\n\n  romaneios = [];\n  romaneio: ILogisticaEntregaRomaneio;\n  //pedidos = [];\n  //materiais = [];\n\n  modalRef: BsModalRef;\n\n  entregas = [];\n\n  pedidosParams;\n\n  totalItems: any = [];\n  noResult = true;\n  romaneioFinalizado: number = 1;\n  bsConfig: Partial<BsDatepickerConfig>;\n  breadCrumbTree: any = [];\n  loadingPedidos = false;\n\n  showDetailPanel = false;\n  showDetailPanelSubscription: Subscription;\n  detailPanelTitle = 'Detalhes';\n  appTitle = 'Painel de Empaque';\n\n  orderBy = 'CD_ROMA';\n  orderType = 'DESC';\n\n  situacao = [\n    {\n      id: '1',\n      nome: 'Activo',\n    },\n    {\n      id: '0',\n      nome: 'Llamado fuera',\n    },\n  ];\n\n  situacaoCarregamento = [\n    {\n      id: '0',\n      nome: 'EN CARGA',\n    },\n    {\n      id: '1',\n      nome: 'FINALIZADO',\n    },\n  ];\n\n  inicioViagem = [\n    {\n      id: '0',\n      nome: 'NO EMPEZADO',\n    },\n    {\n      id: '1',\n      nome: 'COMENZÓ',\n    },\n  ];\n\n  $activatedRouteSubscription: Subscription;\n\n  /* Paginação */\n  itemsPerPage: number = 100;\n  currentPage: number = 1;\n  begin: number = 0;\n  end: number = this.itemsPerPage;\n  /* Paginação */\n\n  permiteAlterarStatus: boolean = false;\n\n  $subscription: Subscription;\n\n  idSubModulo: number;\n\n  tableConfig: Partial<CustomTableConfig> = {\n    subtitleBorder: true,\n    isFixed: true,\n  };\n\n  visualizarPedidosRemovidos = false;\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private route: Router,\n    private localeService: BsLocaleService,\n    private notice: PNotifyService,\n    private formBuilder: FormBuilder,\n    private dateService: DateService,\n    private romaneiosService: LogisticaEntregaRomaneiosService,\n    private atividadesService: AtividadesService,\n    private perfilService: AdminPerfisService,\n    private detailPanelService: DetailPanelService,\n    private pnotify: PNotifyService,\n    private xlsxService: XlsxService,\n    private routerService: RouterService,\n    private modalService: BsModalService,\n    private filiaisService: LogisticaFiliaisService\n  ) {\n    this.localeService.use('pt-br');\n    this.bsConfig = Object.assign(\n      {},\n      { containerClass: 'theme-dark-blue' },\n      { adaptivePosition: true },\n      { showWeekNumbers: false }\n    );\n  }\n\n  ngOnInit() {\n    this.buildForm();\n    this.atividadesService.registrarAcesso().subscribe();\n    this.verificaPerfil();\n    this.setBreadCrumb();\n    this.onDetailPanelEmitter();\n    this.onActivatedRoute();\n    this.getFiliais();\n  }\n\n  getFiliais() {\n    this.loadingFiliais = true;\n    this.filiaisService.getFiliais({ status: '1' })\n      .pipe(\n        finalize(() => {\n          this.loadingFiliais = false;\n        })\n      )\n      .subscribe({\n        next: response => {\n          this.filiais = response.body['data'];\n        },\n        error: () => {\n          this.pnotify.error();\n        }\n      })\n  }\n\n  ngOnDestroy(): void {\n    this.showDetailPanelSubscription.unsubscribe();\n  }\n\n  @HostListener('window:scroll', ['$event'])\n  onScrollEvent() {\n    this.datepicker.hide();\n  }\n\n  setBreadCrumb() {\n    const params = this.activatedRoute.snapshot.params;\n    const submoduloId = params?.idSubModulo;\n\n    this.breadCrumbTree = [\n      {\n        descricao: 'Logistica',\n      },\n      {\n        descricao: 'GESTIÓN DE ENTREGAS',\n        routerLink: `/logistica/entrega/${submoduloId}`,\n      },\n      {\n        descricao: this.appTitle,\n      },\n    ];\n  }\n\n  buildForm() {\n    this.form = this.formBuilder.group({\n      CD_FILI: [null],\n      CD_MOTO: [null],\n      CD_PRIO: [null],\n      CD_ROMA: [null],\n      CD_STAT: [null],\n      DS_OBSE: [null],\n      DT_ATUA: [null],\n      DT_INCL: [null],\n      DT_PREV_SAID: [null],\n      ID_LOGI_FUSI_ROMA: [null],\n      INT_ID: [null],\n      IN_STAT: [null],\n      FINA_IN_STAT: [null],\n      IN_VIAG_INIC: [null],\n      KM_PREV: [null],\n      PLAC: [null],\n      VL_FRET: [null],\n      CD_PEDI: [null],\n      DS_MOTO: [null],\n      NR_NOTA_FISC: [null],\n      IN_CTE_EMIT: ['T'],\n      DT_INIC: [new Date()],\n      DT_FINA: [new Date()],\n      PAGI: [1],\n      TT_REGI_PAGI: [100],\n      ORDE_BY: [' CD_ROMA '],\n      ORDE_TYPE: [' DESC '],\n      TIME: new Date().getTime(),\n      TP_EMPR: ['DISTRIBUIDORA'],\n    });\n  }\n\n  onActivatedRoute() {\n    this.$activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\n      (response) => {\n        let _response = this.routerService.getBase64UrlParams(response);\n\n        if (Object.keys(_response).length > 0) {\n          _response['CD_FILI'] = _response?.CD_FILI\n            ? _response?.CD_FILI?.split(',')\n            : [];\n          this.form.patchValue(_response);\n          this.getRomaneios(this.getParams());\n        } else {\n          this.loading = false;\n        }\n      }\n    );\n  }\n\n  getRomaneios(params?) {\n    this.itemsPerPage = params['TT_REGI_PAGI'];\n    this.end = params['TT_REGI_PAGI'];\n\n    if (!this.loading) this.loaderNavbar = true;\n\n    this.romaneiosService\n      .getRomaneio(params)\n      .pipe(\n        finalize(() => {\n          this.loaderNavbar = false;\n          this.loading = false;\n        })\n      )\n      .subscribe(\n        (response: any) => {\n          if (response.status === 200) {\n            this.noResult = false;\n            this.romaneios = response.body['data'];\n            this.totalItems = response.body['total'];\n          } else if (response.status === 204) {\n            this.pnotify.notice('No se encontró la lista de empaque');\n            this.noResult = true;\n          }\n        },\n        (error) => {\n          this.pnotify.error(error.error['message']);\n          this.noResult = true;\n        }\n      );\n  }\n\n  onFieldError(field: string) {\n    if (this.onFieldInvalid(field)) {\n      return 'is-invalid';\n    }\n    return '';\n  }\n\n  onFieldInvalid(field: any) {\n    field = this.form.get(field);\n    return field.status == 'INVALID' && field.touched;\n  }\n\n  onFieldRequired(field: string) {\n    let required = false;\n    let formControl = new FormControl();\n\n    if (this.form.controls[field].validator) {\n      let validationResult = this.form.controls[field].validator(formControl);\n      required =\n        validationResult !== null && validationResult.required === true;\n    }\n\n    if (required) {\n      return 'is-required';\n    }\n  }\n\n  /* Paginação */\n  onPageChanged(event: PageChangedEvent): void {\n    this.form.get('TIME').setValue(new Date().getTime());\n    this.form.get('PAGI').setValue(event.page);\n    this.route.navigate([], {\n      relativeTo: this.activatedRoute,\n      queryParams: this.routerService.setBase64UrlParams(this.getParams()),\n    });\n  }\n  /* Paginação */\n\n  onFinalizaRomaneio(romaneio: ILogisticaEntregaRomaneio) {\n    romaneio['loadingFinalizando'] = true;\n\n    const status = romaneio.FINA_IN_STAT == '1' ? '0' : '1';\n\n    let params = {\n      ID_LOGI_FUSI_ROMA: romaneio?.ID_LOGI_FUSI_ROMA,\n      IN_STAT: status,\n    };\n\n    this.romaneiosService\n      .finalizarRomnaneio(params)\n      .pipe(\n        finalize(() => {\n          romaneio['loadingFinalizando'] = false;\n        })\n      )\n      .subscribe(\n        (response) => {\n          if (response.status !== 200) {\n            this.pnotify.error(\n              `No se pudo finalizar la lista de empaque ${romaneio?.CD_ROMA}`\n            );\n            return;\n          }\n          romaneio.DT_FINA = new Date();\n          romaneio.FINA_IN_STAT = status;\n          this.pnotify.success(\n            `¡El empaque ${romaneio?.CD_ROMA} se ha completado con éxito!`\n          );\n        },\n        (error) => {\n          try {\n            this.pnotify.error(error.error.message);\n          } catch (error) {\n            this.pnotify.error();\n          }\n        }\n      );\n    //this.postRomaneios(romaneio);\n  }\n\n  onInicioViagem(romaneio: ILogisticaEntregaRomaneio) {\n    romaneio.IN_VIAG_INIC = romaneio.IN_VIAG_INIC == '1' ? '0' : '1';\n    romaneio.DT_SAID = new Date();\n    this.postRomaneios(romaneio);\n  }\n\n  onFilter(): void {\n    this.form.get('TIME').setValue(new Date().getTime());\n    this.form.get('PAGI').setValue(1);\n    this.currentPage = 1;\n    this.showDetailPanel = false;\n    this.route.navigate([], {\n      relativeTo: this.activatedRoute,\n      queryParams: this.routerService.setBase64UrlParams(this.getParams()),\n    });\n  }\n\n  getParams() {\n    let _params = {};\n    let _obj = this.form.value;\n\n    for (let prop in _obj) {\n      if (_obj[prop]) {\n        if (_obj[prop] instanceof Date)\n          _params[prop] = this.dateService.convertToUrlDate(_obj[prop]);\n        else if (Array.isArray(_obj[prop])) {\n          _params[prop] = _obj[prop].join(',');\n        } else _params[prop] = _obj[prop];\n      }\n    }\n\n    /* if (_params['CD_FILI']) {\n      const current = this.filiais.filter((empresa) => empresa.CD_FILI == _params['CD_FILI'])\n      _params = Object.assign(_params, current[0]);\n    } */\n\n    return _params;\n  }\n\n  postRomaneios(romaneio) {\n    this.loaderNavbar = true;\n\n    this.romaneiosService\n      .postRomaneio(romaneio)\n      .pipe(finalize(() => (this.loaderNavbar = false)))\n      .subscribe(\n        (response: any) => {\n          if (response['status'] === 200) {\n            this.notice.success();\n          } else {\n            this.notice.error('Algunos registros no se pudieron actualizar');\n          }\n        },\n        (error: any) => {\n          this.notice.error();\n        }\n      );\n  }\n\n  verificaPerfil() {\n    const matricula = JSON.parse(localStorage.getItem('currentUser'))['info'][\n      'matricula'\n    ];\n    this.permiteAlterarStatus = false;\n    this.perfilService\n      .getPerfil({ sigla: 'LOGI_CONT_ACES_PAIN_ROMA', matricula: matricula })\n      .subscribe((response) => {\n        if (response.status === 200) {\n          this.permiteAlterarStatus = true;\n        }\n      });\n  }\n\n  onDetailPanelEmitter(): void {\n    this.showDetailPanelSubscription = this.detailPanelService.config.subscribe(\n      (event: any) => {\n        this.showDetailPanel = event.showing;\n        if (!event.showing)\n          this.romaneios.map((element) => (element.selected = false));\n      }\n    );\n  }\n\n  viewDetails(romaneio) {\n    this.romaneio = romaneio;\n    this.romaneios.map((element) => (element.selected = false));\n    this.romaneio['selected'] = true;\n    this.isChecked = false;\n\n    this.detailPanelService.show();\n    this.detailPanelService.loadedFinished(false);\n    this.detailPanelTitle = romaneio.CD_ROMA;\n    this.showDetailPanel = true;\n    /* this.visualizarPedidosRemovidos = false; */\n\n    this.getEntregas(romaneio);\n  }\n\n  getPedidos(params) {\n    this.pedidosAtivos = [];\n    this.pedidosInativos = [];\n\n    this.romaneiosService\n      .getPedidos(params)\n      .pipe(finalize(() => { }))\n      .subscribe(\n        (response) => {\n          if (response.status !== 200) {\n            this.detailPanelService.loadedFinished(true);\n            return;\n          }\n\n          const pedidos: Array<any> = response.body['data'];\n\n          this.pedidosAtivos = pedidos.filter(\n            (pedido) => pedido.IN_STAT == '1'\n          );\n          this.pedidosInativos = pedidos.filter(\n            (pedido) => pedido.IN_STAT == '0'\n          );\n\n          /* this.showActiveOrder = true;\n          this.showInactiveOrder = false; */\n\n          this.detailPanelService.loadedFinished(false);\n        },\n        (error) => {\n          this.detailPanelService.loadedFinished(true);\n        }\n      );\n  }\n\n  /* onShowActiveOrder(event: boolean){\n    this.showActiveOrder = event;\n  } */\n\n  /* onShowInactiveOrder(event: boolean){\n    this.showInactiveOrder = event;\n  } */\n\n  putRomaneio(romaneio) {\n    romaneio.syncFusion = true;\n\n    this.romaneiosService\n      .putRomaneio(romaneio)\n      .pipe(\n        finalize(() => {\n          romaneio.syncFusion = false;\n        })\n      )\n      .subscribe(\n        (response) => {\n          this.pnotify.success(\n            `¡Paquete ${romaneio.CD_ROMA} sincronizado correctamente!`\n          );\n        },\n        (error) => {\n          this.pnotify.error(\n            `No se pudo sincronizar la lista de empaque ${romaneio.CD_ROMA}`\n          );\n        }\n      );\n  }\n\n  onPrint(romaneio) {\n    this.romaneiosService.download(romaneio);\n  }\n\n  sincronizarRomaneiosFusion() {\n    this.loaderNavbar = true;\n\n    this.romaneiosService\n      .sincronizarRomaneiosFusion()\n      .pipe(\n        finalize(() => {\n          this.loaderNavbar = false;\n        })\n      )\n      .subscribe(\n        (response) => {\n          if (response.status === 200)\n            this.pnotify.success(`¡Sincronizado con éxito!`);\n          else this.pnotify.notice(`No se encontraron pendientes.`);\n        },\n        (error) => {\n          this.pnotify.error(\n            `No se pudo sincronizar las listas de empaque con Fusion.`\n          );\n        }\n      );\n  }\n\n  enviarRomaneioParaFaturamento(romaneio) {\n    romaneio.loadingFaturamento = true;\n\n    this.romaneiosService\n      .enviarRomaneioParaFaturamento(romaneio)\n      .pipe(\n        finalize(() => {\n          romaneio.loadingFaturamento = false;\n        })\n      )\n      .subscribe(\n        (response) => {\n          if (response.status !== 200) {\n            this.pnotify.notice(\n              `No se pudo enviar la lista de empaque ${romaneio.CD_ROMA} para facturación.`\n            );\n            return;\n          }\n\n          const usuario = JSON.parse(localStorage.getItem('currentUser'));\n          const nome = usuario['info']['nomeCompleto'];\n          const matricula = usuario['info']['matricula'];\n\n          romaneio.DS_FATU_NM_USUA = nome;\n          romaneio.DS_FATU_NR_MATR = matricula;\n          const options: any = { timeStyle: 'medium', dateStyle: 'short' };\n          romaneio.DS_FATU_DT_INCL = new Intl.DateTimeFormat(\n            'br',\n            options\n          ).format(new Date());\n          romaneio.FATU_IN_STAT = '1';\n\n          this.pnotify.success(\n            `¡Paquete ${romaneio.CD_ROMA} enviado correctamente para facturación.`\n          );\n        },\n        (error) => {\n          const message = error?.error?.message;\n\n          if (message) {\n            this.pnotify.error(`${romaneio.CD_ROMA}: ${message}`);\n            return;\n          }\n\n          this.pnotify.error(\n            `No se pudo enviar el paquete ${romaneio.CD_ROMA} para la facturación.`\n          );\n        }\n      );\n  }\n\n  getEntregasSomenteFaturamento(romaneio) {\n    romaneio.IN_FATU = (+this.isChecked).toString();\n    this.getEntregas(romaneio);\n  }\n\n  getEntregas(romaneio) {\n    this.loadingEntregas = true;\n\n    const params = {\n      CD_ROMA: romaneio?.CD_ROMA,\n      IN_FATU: romaneio?.IN_FATU ? romaneio?.IN_FATU : '',\n    };\n\n    this.romaneiosService\n      .getEntregas(params)\n      .pipe(\n        finalize(() => {\n          this.loadingEntregas = false;\n        })\n      )\n      .subscribe(\n        (response) => {\n          if (response.status !== 200) {\n            this.entregas = [];\n            return;\n          }\n\n          this.entregas = response.body['data'];\n          romaneio.entregas = this.entregas;\n        },\n        (error) => {\n          this.entregas = [];\n        }\n      );\n  }\n\n  openModal(template: TemplateRef<any>) {\n    this.modalRef = this.modalService.show(template, {\n      animated: false,\n      class: 'modal-xxl',\n      backdrop: 'static',\n    });\n  }\n\n  onCorFaturamento(romaneio: ILogisticaEntregaRomaneio): string {\n    if (romaneio.FINA_IN_STAT == '0') return 'text-muted';\n\n    if (romaneio.FATU_IN_STAT == '0') return 'text-warning';\n\n    return 'text-success';\n  }\n\n  onInEnviarFaturamento(romaneio): boolean {\n    return (\n      romaneio.FATU_IN_STAT == 1 ||\n      romaneio.FINA_IN_STAT == 0 ||\n      !this.permiteAlterarStatus\n    );\n  }\n\n  getDadosRelatorio() {\n    this.loaderNavbar = true;\n\n    const params = this.getParams();\n\n    this.romaneiosService\n      .getRelatorios(params)\n      .pipe(finalize(() => (this.loaderNavbar = false)))\n      .subscribe(\n        (response) => {\n          if (response.status !== 200) {\n            this.pnotify.notice('No se encontraron registros.');\n            return;\n          }\n\n          this.xlsxService.export({ data: response.body['data'] });\n        },\n        (error) => {\n          const message = error?.error?.message;\n          message ? this.pnotify.error(message) : this.pnotify.error();\n        }\n      );\n  }\n\n  onPodeFinalizarRomaneio(romaneio): boolean {\n    if (romaneio?.IN_STAT == 0) return false;\n\n    return this.permiteAlterarStatus;\n  }\n\n  setOrderBy(column: string): void {\n    if (this.orderBy === column) {\n      if (this.orderType == 'DESC') {\n        this.orderType = 'ASC';\n      } else if (this.orderType == 'ASC') {\n        this.orderType = 'DESC';\n      }\n    } else {\n      this.orderBy = column;\n      this.orderType = 'ASC';\n    }\n\n    this.form.get('ORDE_BY').setValue(this.orderBy);\n    this.form.get('ORDE_TYPE').setValue(this.orderType);\n\n    this.onFilter();\n  }\n}\n","import { Routes, RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\n\nimport { LogisticaEntregaRomaneiosListaComponent } from './lista/lista.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LogisticaEntregaRomaneiosListaComponent\n  }\n];\n\n@NgModule({\nimports: [RouterModule.forChild(routes)],\nexports: [RouterModule]\n})\n\nexport class LogisticaEntregaRomaneiosRoutingModule { }\n  ","export default \".custom-switch .custom-control-label::after {\\n  background-color: #fff;\\n}\\n\\n.custom-control-input:checked ~ .custom-control-label::before {\\n  color: #fff;\\n  border-color: #28a745;\\n  background-color: #28a745;\\n}\\n\\nbutton:disabled {\\n  cursor: no-drop;\\n  color: #b9bdb9 !important;\\n}\\n\\nbutton {\\n  border: none;\\n  background-color: transparent;\\n}\\n\\n::ng-deep .tooltip-inner {\\n  max-width: 700px !important;\\n}\\n\\ntr {\\n  line-height: 1.5rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9sb2dpc3RpY2EvZW50cmVnYS9yb21hbmVpb3MvbGlzdGEvbGlzdGEuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxzQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLHFCQUFBO0VBQ0EseUJBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSx5QkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtFQUNBLDZCQUFBO0FBQ0Y7O0FBRUE7RUFDRSwyQkFBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7QUFDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbG9naXN0aWNhL2VudHJlZ2Evcm9tYW5laW9zL2xpc3RhL2xpc3RhLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmN1c3RvbS1zd2l0Y2ggLmN1c3RvbS1jb250cm9sLWxhYmVsOjphZnRlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG59XG5cbi5jdXN0b20tY29udHJvbC1pbnB1dDpjaGVja2VkIH4gLmN1c3RvbS1jb250cm9sLWxhYmVsOjpiZWZvcmUge1xuICBjb2xvcjogI2ZmZjtcbiAgYm9yZGVyLWNvbG9yOiAjMjhhNzQ1O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjhhNzQ1O1xufVxuXG5idXR0b246ZGlzYWJsZWQge1xuICBjdXJzb3I6IG5vLWRyb3A7XG4gIGNvbG9yOiAjYjliZGI5ICFpbXBvcnRhbnQ7XG59XG5cbmJ1dHRvbiB7XG4gIGJvcmRlcjogbm9uZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG5cbjo6bmctZGVlcCAudG9vbHRpcC1pbm5lcntcbiAgbWF4LXdpZHRoOiA3MDBweCAhaW1wb3J0YW50O1xufVxuXG50cntcbiAgbGluZS1oZWlnaHQ6IDEuNXJlbTtcbn0iXX0= */\";","import { Component, OnInit, TemplateRef, ViewChild, OnDestroy } from '@angular/core';\n\nimport { finalize } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n\nimport { PdfService } from 'src/app/shared/services/core/pdf.service';\nimport { XlsxService } from 'src/app/shared/services/core/xlsx.service';\nimport { LogisticaEntregaRomaneiosService } from '../../services/romaneios.service';\n/* import { LogisticaEntregaRelatoriosService } from '../../services/relatorios.service'; */\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\n\nimport { ILogisticaEntregaRomaneio } from './../../models/romaneio';\n\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap';\n\n@Component({\n  selector: 'logistica-entrega-romaneios-capa-romaneio',\n  templateUrl: './capa-romaneio.component.html',\n  styleUrls: ['./capa-romaneio.component.scss']\n})\nexport class LogisticaEntregaRomaneiosCapaRomaneioComponent implements OnInit, OnDestroy {\n\n  @ViewChild('template', { static: false }) template: TemplateRef<any>;\n\n  romaneio: ILogisticaEntregaRomaneio;\n  pedidos: Array<any> = [];\n  materiais: Array<any> = [];\n\n  loadingPedidos: boolean = true;\n\n  $subscription: Subscription;\n\n  modalRef: BsModalRef;\n\n  constructor(\n    private romaneiosService: LogisticaEntregaRomaneiosService,\n    /* private relatoriosService: LogisticaEntregaRelatoriosService, */\n    private pnotify: PNotifyService,\n    private xlsxService: XlsxService,\n    private modalService: BsModalService,\n    private pdfService: PdfService\n  ) { }\n\n  ngOnInit(): void {\n    this.getLogos();\n    this.onSubscriptions();\n  }\n\n  ngOnDestroy(){\n    this.$subscription?.unsubscribe();\n    if(this.modalRef !== undefined)\n      this.modalRef.hide();\n  }\n\n  openModal(template: TemplateRef<any>) {\n    this.modalRef = this.modalService.show(template, {\n      animated: false,\n      class: 'modal-xxl',\n      backdrop: 'static'\n    });\n  }\n\n  onSubscriptions(){\n    this.$subscription = this.romaneiosService\n      .onDownloadEmmiter()\n      .subscribe(\n        (romaneio: ILogisticaEntregaRomaneio) => {\n          this.romaneio = romaneio;\n\n          let params = {\n            CD_ROMA: romaneio.CD_ROMA,\n            CD_FILI: romaneio.CD_FILI,\n            ROMA_PEDI_IN_STAT: 1,\n            TP_PEDI: 'FATURAMENTO',\n            ORDE_BY: ' ENTR_NR_SQNC ',\n            ORDE_TYPE: ' ASC '\n          }\n\n          this.pedidos = [];\n\n          this.getPedidos(params);\n          this.openModal(this.template)\n        }\n      )\n  }\n\n  onDownload(){\n    const txt = document.querySelector('textarea');\n\n    if(!txt?.value)\n      txt?.classList.add('d-none');\n\n    this.pdfService.download('capaRomaneio', this.getNomeDownload());\n\n    txt?.classList.remove('d-none');\n  }\n\n  getNomeDownload(){\n    const d = (new Date());\n    const timestamp = `${d.getFullYear()}_${d.getMonth()}_${d.getDate()}_${d.getHours()}_${d.getMinutes()}_${d.getSeconds()}`;\n    return `romaneio__${this.romaneio?.CD_ROMA}__${timestamp}`;\n  }\n\n  onPrint(){\n    const txt = document.querySelector('textarea');\n\n    if(!txt?.value)\n      txt?.classList.add('d-none');\n\n    window.print();\n\n    txt?.classList.remove('d-none');\n  }\n\n  getPedidos(params) {\n\n    this.loadingPedidos = true;\n\n    this.romaneiosService\n      .getPedidos(params)\n      .pipe(\n        finalize(() => {\n          this.loadingPedidos = false;\n        })\n      )\n      .subscribe(\n        (response) => {\n\n          if (response.status !== 200) {\n            return;\n          }\n\n          this.pedidos = response.body['data'];\n\n          this.pedidos.map(pedido => this.getMateriais(pedido));\n\n        },\n        (error) => {\n        }\n      )\n  }\n\n  getMateriais(pedido){\n\n    if(pedido.hasOwnProperty(\"MATE\"))\n      return\n\n    pedido.materialLoading = true;\n\n    const _params = {\n      \"CD_PEDI\": pedido[\"CD_PEDI\"],\n      \"CD_EMPR\": pedido[\"CD_EMPR\"],\n    }\n\n    this.romaneiosService\n      .getMateriais(_params)\n      .pipe(\n        finalize(() => {\n          pedido.materialLoading = false;\n        })\n      )\n      .subscribe(\n        (response) => {\n          if (response.status !== 200) {\n            return;\n          }\n          pedido[\"MATE\"] = response.body['data'];\n        },\n        (error) => {\n\n        }\n      )\n  }\n\n  getLogos() : Array<string>{\n\n    return [\n      \"/assets/images/logo/clientes/monterrey_mtcorp_com_br_colorido.png\",\n      //\"/assets/images/logo/clientes/logo_steellog_fundo_transparente.png\"\n    ];\n\n  }\n\n  onExcel(){\n\n    const params = {\n      \"CD_ROMA\": this.romaneio[\"CD_ROMA\"]\n    }\n\n    this.pnotify.success('Seu relatório será gerado em instantes.');\n\n    this.romaneiosService\n      .getRelatorios(params)\n      .pipe(\n        finalize(() => {\n        })\n      )\n      .subscribe(\n        (response) => {\n          if (response.status !== 200) {\n            return;\n          }\n\n          this.xlsxService.export({ \"data\": response.body['data'], \"filename\": this.getNomeDownload()})\n        },\n        (error) => {\n\n        }\n      )\n  }\n\n}\n","export default \"<div\\n  class=\\\"px-2 py-1 mb-4 border rounded shadow-sm\\\"\\n  style=\\\"background-color: #CCCCCC10;\\\"\\n  [ngClass]=\\\"{'border-danger text-muted': entrega?.IN_STAT == 0}\\\"\\n  >\\n  <!-- \\n  *ngIf=\\\"(entrega.IN_STAT_ROMA_PEDI_FATU == 1 && inSomenteEntregaFaturamento) || !inSomenteEntregaFaturamento\\\" -->\\n  <div>\\n    <div class=\\\"mb-1 d-flex align-items-center\\\">\\n      <div\\n        class=\\\"d-flex justify-content-center align-items-center rounded-circle mr-2\\\"\\n        style=\\\"width: 2rem; height: 2rem; font-size: 1.5rem;\\\"\\n      >\\n        <span>{{ entrega?.ENTR_NR_SQNC }}</span>\\n      </div>\\n      <div class=\\\"w-100\\\">\\n        <div class=\\\"d-flex justify-content-between\\\">\\n          <div>\\n            <div class=\\\"mb-1 d-flex justify-content-between\\\">\\n              <span class=\\\"d-block text-uppercase font-weight-bolder\\\" *ngIf=\\\"entrega?.CD_CLIE\\\">({{ entrega?.CD_CLIE }}) &nbsp; {{ entrega?.NM_CLIE }}</span>\\n            </div>\\n            <div class=\\\"d-block text-uppercase\\\">\\n              <span *ngIf=\\\"entrega?.DS_LOCA_ENTR\\\">{{ entrega?.DS_LOCA_ENTR }}</span> \\n              <span *ngIf=\\\"entrega?.DS_BAIRR\\\">, {{ entrega?.DS_BAIR }}</span>\\n              <span *ngIf=\\\"entrega?.DS_CIDA\\\">, {{ entrega?.DS_CIDA }}</span>\\n              <span *ngIf=\\\"entrega?.DS_ESTA\\\">-{{ entrega.DS_ESTA }}</span>\\n            </div>\\n          </div>\\n          <div>\\n            <!-- <i\\n              class=\\\"fas fa-file-invoice-dollar ml-2\\\"\\n              [tooltip]=\\\"notificacoes.entrega.faturamento.tooltips[entrega?.IN_STAT_ROMA_PEDI_FATU]\\\"\\n              container=\\\"body\\\"\\n              placement=\\\"left\\\"\\n              [ngClass]=\\\"notificacoes.entrega.faturamento.cor[entrega?.IN_STAT_ROMA_PEDI_FATU]\\\"\\n              style=\\\"font-size: 1rem;\\\"\\n            ></i> -->\\n            <i\\n              class=\\\"fas fa-receipt ml-2\\\"\\n              [tooltip]=\\\"notificacoes.entrega.cte.tooltips[entrega?.CTRC_IN_STAT]\\\"\\n              container=\\\"body\\\"\\n              placement=\\\"left\\\"\\n              [ngClass]=\\\"notificacoes.entrega.cte.cor[entrega?.CTRC_IN_STAT]\\\"\\n              style=\\\"font-size: 1rem;\\\"\\n            ></i>\\n            <i\\n              class=\\\"fas fa-truck-moving ml-2\\\"\\n              [tooltip]=\\\"notificacoes.entrega.entrega.tooltips[entrega?.IN_ENTR]\\\"\\n              container=\\\"body\\\"\\n              placement=\\\"left\\\"\\n              [ngClass]=\\\"notificacoes.entrega.entrega.cor[entrega?.IN_ENTR]\\\"\\n              style=\\\"font-size: 1rem;\\\"  \\n            ></i>\\n            <i\\n              class=\\\"fas fa-power-off ml-2\\\"\\n              [tooltip]=\\\"notificacoes.entrega.situacao.tooltips[entrega?.IN_STAT]\\\"\\n              container=\\\"body\\\"\\n              placement=\\\"left\\\"\\n              [ngClass]=\\\"notificacoes.entrega.situacao.cor[entrega?.IN_STAT]\\\"\\n              style=\\\"font-size: 1rem;\\\"  \\n            ></i>\\n            <btn-arrow (onStatus)=\\\"onToggleArrow($event, 'entrega')\\\" ></btn-arrow>\\n          </div>\\n        </div>\\n        <div class=\\\"d-flex justify-content-between mt-1\\\">\\n          <div class=\\\"col-3 p-0\\\">\\n            <div class=\\\"border-bottom rounded py-1 mr-1 d-flex flex-column align-items-center\\\">\\n              <div class=\\\"font-weight-bolder\\\">{{ entrega?.ENTR_VL_FRET || 0 | currency:'Bs'}}</div>\\n              <div>Flete Estimado</div>\\n            </div>\\n          </div>\\n          <div class=\\\"col-3 p-0\\\">\\n            <div class=\\\"border-bottom rounded py-1 mr-1 d-flex flex-column align-items-center\\\">\\n              <div class=\\\"font-weight-bolder\\\">{{ entrega?.CTRC_VL_LIQD || 0 | currency:'Bs'}}</div>\\n              <div>Flete Sin Impuesto</div>\\n            </div>\\n          </div>\\n          <div class=\\\"col-3 p-0\\\">\\n            <div class=\\\"border-bottom rounded py-1 mr-1 d-flex flex-column align-items-center\\\">\\n              <div class=\\\"font-weight-bolder\\\">{{ entrega?.CTRC_VL_BRUT || 0 | currency:'Bs'}}</div>\\n              <div>Flete Con Impuesto</div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    <div *ngIf=\\\"arrow?.entrega\\\">\\n      <!-- <hr>\\n      <div>\\n        <div style=\\\"height: 1.5rem;\\\" class=\\\"d-flex justify-content-between\\\">\\n          <span class=\\\"float-left\\\" style=\\\"font-size: 11px; font-weight: 700;\\\">CTE' s</span>\\n          <btn-arrow (onStatus)=\\\"onToggleArrow($event, 'ctes')\\\" (click)=\\\"getCtes()\\\"></btn-arrow>\\n        </div>\\n        <div *ngIf=\\\"arrow?.ctes\\\">\\n          <div \\n            class=\\\"spinner-border text-primary\\\"\\n            role=\\\"status\\\"\\n            *ngIf=\\\"loadingCtes\\\"  \\n          >\\n            <span class=\\\"sr-only\\\">Loading...</span>\\n          </div>\\n          <custom-table *ngIf=\\\"ctes?.length > 0 && !loadingCtes\\\">\\n            <ng-template let-thead #thead>\\n              <tr>\\n                <th scope=\\\"col\\\" class=\\\"text-left\\\">CTE</th>\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">Data de emissão</th>\\n                <th scope=\\\"col\\\">Chave de acesso</th>\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">Valor</th>\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">Tipo</th>\\n              </tr>\\n            </ng-template>\\n            <ng-template let-tbody #tbody>\\n              <tr *ngFor=\\\"let cte of ctes\\\">\\n                <td class=\\\"text-left\\\">{{cte?.NR_CTRC }}</td>\\n                <td class=\\\"text-center\\\">{{ cte?.DT_EMIS  | date: 'dd/MM/yyyy HH:mm' }}</td>\\n                <td>{{ cte?.DS_CTRC_CHAV_ACES }}</td>\\n                <td class=\\\"text-center\\\">\\n                  <span *ngIf=\\\"cte?.VL_BRUT\\\">{{ cte?.VL_BRUT | currency:'Bs'}}</span>\\n                  <span *ngIf=\\\"!cte?.VL_BRUT\\\">-</span>\\n                </td>\\n                <td class=\\\"text-center\\\">{{ cte?.DS_TP_CTRC }}</td>\\n              </tr>\\n            </ng-template>\\n          </custom-table>\\n          <div *ngIf=\\\"ctes?.length == 0 && !loadingCtes\\\">\\n            <empty-result message=\\\"No se encontró información\\\"></empty-result>\\n          </div>\\n        </div>\\n      </div> -->\\n      <hr>\\n      <div style=\\\"height: 1.5rem;\\\" class=\\\"d-flex justify-content-between\\\">\\n        <span class=\\\"float-left\\\" style=\\\"font-size: 11px; font-weight: 700;\\\">ORDEN DE VIENDA</span>\\n        <btn-arrow (onStatus)=\\\"onToggleArrow($event, 'pedidos')\\\" (click)=\\\"getPedidos()\\\" ></btn-arrow>\\n      </div>\\n      <div \\n        class=\\\"spinner-border text-primary\\\"\\n        role=\\\"status\\\"\\n        *ngIf=\\\"loadingPedidos\\\"  \\n      >\\n        <span class=\\\"sr-only\\\">Loading...</span>\\n      </div>\\n      <div *ngIf=\\\"arrow?.pedidos && !loadingPedidos\\\">\\n        <div *ngFor=\\\"let pedido of pedidos; let index = index\\\" class=\\\"bg-white\\\">\\n          <div\\n            [class]=\\\"'shadow-sm border rounded p-2 mb-2 d-flex ' + 'pedido__' + index\\\"\\n            [ngClass]=\\\"{'border-danger text-muted': pedido.ROMA_PEDI_IN_STAT == 0}\\\"\\n            >\\n            <!-- \\n            *ngIf=\\\"(item.IN_STAT_ROMA_PEDI_FATU == 1 && inSomenteEntregaFaturamento) || !inSomenteEntregaFaturamento\\\" -->\\n            <div class=\\\"col p-0\\\">\\n              <custom-table>\\n                <ng-template let-thead #thead>\\n                  <tr>\\n                    <th>ORDEN DE VIENDA</th>\\n                    <th>FACTURA</th>\\n                    <th>PESO</th>\\n                    <th>\\n                      <div class=\\\"d-flex justify-content-between\\\">\\n                        <span>LLAVE DE ACCESO</span>\\n                        <div>\\n                          <!-- <i\\n                            class=\\\"fas fa-file-invoice-dollar ml-2\\\"\\n                            [tooltip]=\\\"notificacoes.pedido.faturamento.tooltips[pedido?.IN_STAT_ROMA_PEDI_FATU]\\\"\\n                            container=\\\"body\\\"\\n                            placement=\\\"left\\\"\\n                            [ngClass]=\\\"notificacoes.pedido.faturamento.cor[pedido?.IN_STAT_ROMA_PEDI_FATU]\\\"\\n                            style=\\\"font-size: 1rem;\\\"\\n                          ></i> -->\\n                          <i\\n                            class=\\\"fas fa-receipt ml-2\\\"\\n                            [tooltip]=\\\"notificacoes.pedido.cte.tooltips[pedido?.CTRC_IN_STAT]\\\"\\n                            container=\\\"body\\\"\\n                            placement=\\\"left\\\"\\n                            [ngClass]=\\\"notificacoes.pedido.cte.cor[pedido?.CTRC_IN_STAT]\\\"\\n                            style=\\\"font-size: 1rem;\\\"\\n                          ></i>\\n                          <i\\n                            class=\\\"fas fa-truck-moving ml-2\\\"\\n                            [tooltip]=\\\"notificacoes.pedido.entrega.tooltips[pedido?.IN_ENTR]\\\"\\n                            container=\\\"body\\\"\\n                            placement=\\\"left\\\"\\n                            [ngClass]=\\\"notificacoes.pedido.entrega.cor[pedido?.IN_ENTR]\\\"\\n                            style=\\\"font-size: 1rem;\\\"  \\n                          ></i>\\n                          <i\\n                            class=\\\"fas fa-power-off ml-2\\\"\\n                            [tooltip]=\\\"notificacoes.pedido.situacao.tooltips[pedido?.IN_STAT]\\\"\\n                            container=\\\"body\\\"\\n                            placement=\\\"left\\\"\\n                            [ngClass]=\\\"notificacoes.pedido.situacao.cor[pedido?.IN_STAT]\\\"\\n                            style=\\\"font-size: 1rem;\\\"  \\n                          ></i>\\n                        </div>\\n                      </div>\\n                    </th>\\n                  </tr>\\n                </ng-template>\\n                <ng-template let-tbody #tbody>\\n                  <tr>\\n                    <td>{{ pedido.CD_PEDI }}</td>\\n                    <td>{{ pedido.NOTA_FISC }}</td>\\n                    <td>{{ pedido.TT_PESO | number : '0.3-3' }}</td>\\n                    <td>\\n                      <div class=\\\"d-flex justify-content-between\\\">\\n                        <span>{{ pedido.DS_NOFI_CHAV_ACES }}</span>\\n                        <button\\n                          class=\\\"btn-icon-sm\\\"\\n                          tooltip=\\\"copiar\\\"\\n                          container=\\\"body\\\"\\n                          placement=\\\"left\\\"\\n                          (click)=\\\"copyToClipboard(pedido.DS_NOFI_CHAV_ACES)\\\"\\n                          [disabled]=\\\"!pedido.DS_NOFI_CHAV_ACES\\\">\\n                          <i class=\\\"far fa-copy\\\"></i>\\n                        </button>\\n                      </div>\\n                    </td>\\n                  </tr>\\n                </ng-template>\\n              </custom-table>\\n              <hr>\\n              <div>\\n                <div style=\\\"height: 1.5rem;\\\" class=\\\"d-flex justify-content-between\\\">\\n                  <span class=\\\"float-left\\\" style=\\\"font-size: 11px; font-weight: 700;\\\">PRODUCTOS</span>\\n                  <btn-arrow (onStatus)=\\\"onToggleArrow($event, 'materiais')\\\" (click)=\\\"getMateriais(pedido)\\\" ></btn-arrow>\\n                </div>\\n                <div \\n                  class=\\\"spinner-border text-primary\\\"\\n                  role=\\\"status\\\"\\n                  *ngIf=\\\"pedido?.loadingMateriais\\\"  \\n                >\\n                  <span class=\\\"sr-only\\\">Loading...</span>\\n                </div>\\n                <div *ngIf=\\\"pedido?.materiais && !pedido?.loadingMateriais\\\">\\n                  <custom-table *ngIf=\\\"pedido?.materiais?.length != 0 && !pedido?.loadingMateriais\\\">\\n                    <ng-template let-thead #thead>\\n                      <tr>\\n                        <th class=\\\"text-center\\\">#</th>\\n                        <th class=\\\"text-center\\\">CODIGO</th>\\n                        <th>DESCRIPCIÓN</th>\\n                        <th class=\\\"text-center\\\">UNIDAD</th>\\n                        <th class=\\\"text-center\\\">MONTO</th>\\n                      </tr>\\n                    </ng-template>\\n                    <ng-template let-tbody #tbody>\\n                      <tr *ngFor=\\\"let material of pedido?.materiais\\\">\\n                        <td class=\\\"text-center\\\">{{ material?.NR_SQNC }}</td>\\n                        <td class=\\\"text-center\\\">{{ material?.CD_PROD }}</td>\\n                        <td>{{ material?.NM_PROD }}</td>\\n                        <td class=\\\"text-center\\\">\\n                          <span *ngIf=\\\"material?.DS_UNID_MEDI\\\">{{ material?.DS_UNID_MEDI }}</span>\\n                          <span *ngIf=\\\"!material?.DS_UNID_MEDI\\\">-</span>\\n                        </td>\\n                        <td class=\\\"text-center\\\">{{ material?.TT_PROD_PESO | number: '1.3-3' }}</td>\\n                      </tr>\\n                    </ng-template>\\n                  </custom-table>\\n                  <div *ngIf=\\\"pedido?.materiais?.length == 0 && !pedido?.loadingMateriais\\\" style=\\\"height: 5rem;\\\">\\n                    <empty-result message=\\\"No se encontró información\\\"></empty-result>\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"mt-1\\\">\\n                <span *ngIf=\\\"pedido?.ROMA_PEDI_IN_STAT == 0\\\">** Esta orden de vienda está inactiva en esta entrega</span>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <!-- <div *ngIf=\\\"pedidos.length === 0\\\" style=\\\"height: 5rem;\\\">\\n    <empty-result message=\\\"No se encontró información\\\"></empty-result>\\n  </div> -->\\n  <div class=\\\"mt-1\\\">\\n    <span *ngIf=\\\"entrega.IN_STAT == 0\\\">** Esta entrega está inactiva en esta carga</span>\\n  </div> \\n</div>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { NgSelectModule } from '@ng-select/ng-select';\n\nimport { PaginationModule, TooltipModule, TabsModule, TimepickerModule, BsDatepickerModule, ModalModule, SortableModule, AccordionModule, ProgressbarModule } from 'ngx-bootstrap';\n\nimport { NotFoundModule } from 'src/app/core/not-found/not-found.module';\nimport { PipesModule } from 'src/app/shared/pipes/pipes.module';\nimport { ModuleWrapperModule } from 'src/app/core/module-wrapper/module-wrapper.module';\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\nimport { TemplatesModule } from 'src/app/shared/templates/templates.module';\n\nimport { NgBrazil } from 'ng-brazil';\nimport { TextMaskModule } from 'angular2-text-mask';\nimport { CurrencyMaskModule } from 'ng2-currency-mask';\n\nimport { LogisticaEntregaRomaneiosRoutingModule } from './romaneios-routing.module';\nimport { LogisticaEntregaRomaneiosListaComponent } from './lista/lista.component';\nimport { LogisticaEntregaRomaneiosPedidosComponent } from './components/pedidos/pedidos.component';\nimport { LogisticaEntregaRomaneiosCapaRomaneioComponent } from './components/capa-romaneio/capa-romaneio.component';\n\n@NgModule({\n  declarations: [\n    LogisticaEntregaRomaneiosListaComponent,\n    LogisticaEntregaRomaneiosPedidosComponent,\n    LogisticaEntregaRomaneiosCapaRomaneioComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    LogisticaEntregaRomaneiosRoutingModule,\n    NgSelectModule,\n    PaginationModule.forRoot(),\n    TooltipModule.forRoot(),\n    TabsModule.forRoot(),\n    TimepickerModule.forRoot(),\n    BsDatepickerModule.forRoot(),\n    ModalModule.forRoot(),\n    SortableModule.forRoot(),\n    ModalModule.forRoot(),\n    NotFoundModule,\n    PipesModule,\n    ModuleWrapperModule,\n    SharedModule,\n    TemplatesModule,\n    AccordionModule.forRoot(),\n    ProgressbarModule.forRoot(),\n    NgBrazil,\n    TextMaskModule,\n    CurrencyMaskModule\n  ]\n})\nexport class LogisticaEntregaRomaneiosModule { }\n","export default \"@media print {\\n  #capaRomaneio {\\n    background-color: white;\\n    height: 100%;\\n    width: 100%;\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    margin: 0;\\n    padding: 15px;\\n    font-size: 14px;\\n    line-height: 18px;\\n  }\\n}\\ntextarea {\\n  width: 100%;\\n  margin-top: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9sb2dpc3RpY2EvZW50cmVnYS9yb21hbmVpb3MvY29tcG9uZW50cy9jYXBhLXJvbWFuZWlvL2NhcGEtcm9tYW5laW8uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSTtJQUNJLHVCQUFBO0lBQ0EsWUFBQTtJQUNBLFdBQUE7SUFDQSxlQUFBO0lBQ0EsTUFBQTtJQUNBLE9BQUE7SUFDQSxTQUFBO0lBQ0EsYUFBQTtJQUNBLGVBQUE7SUFDQSxpQkFBQTtFQUNOO0FBQ0Y7QUFFQTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtBQUFGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9sb2dpc3RpY2EvZW50cmVnYS9yb21hbmVpb3MvY29tcG9uZW50cy9jYXBhLXJvbWFuZWlvL2NhcGEtcm9tYW5laW8uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAbWVkaWEgcHJpbnQge1xuICAgICNjYXBhUm9tYW5laW8ge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMThweDtcbiAgICB9XG59XG5cbnRleHRhcmVhe1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luLXRvcDogMTVweDtcbn0iXX0= */\";","export default \"<loader-spinner-full-screen [hidden]=\\\"!loading\\\"></loader-spinner-full-screen>\\n<loader-spinner-navbar [hidden]=\\\"!loaderNavbar\\\"></loader-spinner-navbar>\\n<app-header [appTitle]=\\\"appTitle\\\">\\n  <button\\n    (click)=\\\"getDadosRelatorio()\\\"\\n    >\\n    Generar informe\\n  </button>\\n  <button\\n    (click)=\\\"sincronizarRomaneiosFusion()\\\"\\n  >\\n    Sincronizar\\n    <i class=\\\"fas fa-sync\\\"></i>\\n  </button>\\n  <button\\n    (click)=\\\"onFilter()\\\"\\n    [disabled]=\\\"form.status  == 'INVALID'\\\"\\n    >\\n    Filtrar\\n  </button>\\n</app-header>\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\">\\n  <advanced-filter #scrollToFilter>\\n    <form autocomplete=\\\"off\\\" [formGroup]=\\\"form\\\">\\n      <div class=\\\"form-row\\\">\\n        <div class=\\\"form-group col-3\\\">\\n          <label for=\\\"dtInicial\\\"> Comienzo </label>\\n          <div class=\\\"input-group\\\">\\n            <div class=\\\"input-group-prepend\\\">\\n              <span class=\\\"input-group-text\\\">\\n                <i class=\\\"far fa-calendar-alt\\\"></i>\\n              </span>\\n            </div>\\n            <input\\n            class=\\\"form-control\\\"\\n            id=\\\"inicioData\\\"\\n            type=\\\"text\\\"\\n            bsDatepicker\\n            [bsConfig]=\\\"bsConfig\\\"\\n            formControlName=\\\"DT_INIC\\\"\\n            [ngClass]=\\\"onFieldError('DT_INIC') + ' ' + onFieldRequired('DT_INIC')\\\"\\n            >\\n          </div>\\n          <invalid-form-control\\n            [show]=\\\"onFieldInvalid('DT_INIC')\\\"\\n            message=\\\"El inicio es obligatorio.\\\">\\n          </invalid-form-control>\\n        </div>\\n        <div class=\\\"form-group  col-3\\\">\\n          <label for=\\\"dtFinal\\\"> Final </label>\\n          <div class=\\\"input-group\\\">\\n            <div class=\\\"input-group-prepend\\\">\\n              <span class=\\\"input-group-text\\\">\\n                <i class=\\\"far fa-calendar-alt\\\"></i>\\n              </span>\\n            </div>\\n            <input\\n            class=\\\"form-control\\\"\\n            id=\\\"dtFinal\\\"\\n            type=\\\"text\\\"\\n            bsDatepicker\\n            [bsConfig]=\\\"bsConfig\\\"\\n            formControlName=\\\"DT_FINA\\\"\\n            [ngClass]=\\\"onFieldError('DT_FINA') + ' ' + onFieldRequired('DT_FINA')\\\"\\n            >\\n          </div>\\n          <invalid-form-control\\n            [show]=\\\"onFieldInvalid('DT_FINA')\\\"\\n            message=\\\"La final es obligatoria.\\\">\\n          </invalid-form-control>\\n        </div>\\n        <div class=\\\"form-group col-3\\\">\\n          <label for=\\\"filial\\\">Subsidiaria</label>\\n          <ng-select\\n            [searchable]=\\\"true\\\"\\n            [clearable]=\\\"true\\\"\\n            [multiple]=\\\"true\\\"\\n            [loading]=\\\"loadingFiliais\\\"\\n            [closeOnSelect]=\\\"false\\\"\\n            [items]=\\\"filiais\\\"\\n            [virtualScroll]=\\\"true\\\"\\n            dropdownPosition=\\\"bottom\\\"\\n            labelForId=\\\"filial\\\"\\n            bindLabel=\\\"nome\\\"\\n            bindValue=\\\"idFilial\\\"\\n            placeholder=\\\"SELECCIONE...\\\"\\n            formControlName=\\\"CD_FILI\\\"\\n          >\\n          </ng-select>\\n        </div>\\n        <div class=\\\"form-group col-3\\\">\\n          <label for=\\\"cdRomaneio\\\"> Ruta </label>\\n          <input\\n            id=\\\"cdRomaneio\\\"\\n            type=\\\"text\\\"\\n            class=\\\"form-control\\\"\\n            placeholder=\\\"Escribelo...\\\"\\n            formControlName=\\\"CD_ROMA\\\"\\n            (keyup.enter)=\\\"onFilter()\\\">\\n        </div>\\n      </div>\\n      <div class=\\\"form-row\\\">\\n        <div class=\\\"form-group col-3\\\">\\n          <label for=\\\"placa\\\"> Placa del vehículo </label>\\n          <input\\n            id=\\\"placa\\\"\\n            type=\\\"text\\\"\\n            class=\\\"form-control\\\"\\n            placeholder=\\\"Escribelo...\\\"\\n            formControlName=\\\"PLAC\\\"\\n            (keyup.enter)=\\\"onFilter()\\\"\\n            >\\n        </div>\\n        <div class=\\\"form-group col-3\\\">\\n          <label for=\\\"motorista\\\">Conductor</label>\\n          <input\\n            type=\\\"text\\\"\\n            class=\\\"form-control\\\"\\n            formControlName=\\\"DS_MOTO\\\"\\n            placeholder=\\\"CPF OU NOME\\\" \\n            (keyup.enter)=\\\"onFilter()\\\" \\n          >\\n        </div>\\n        <div class=\\\"form-group col-3\\\">\\n          <label for=\\\"pedido\\\">Orden de venta</label>\\n          <input\\n            type=\\\"text\\\"\\n            class=\\\"form-control\\\"\\n            formControlName=\\\"CD_PEDI\\\"\\n            placeholder=\\\"Escribelo...\\\"  \\n            (keyup.enter)=\\\"onFilter()\\\"\\n          >\\n        </div>\\n        <div class=\\\"form-group col-3\\\">\\n          <label for=\\\"notaFiscal\\\">Factura</label>\\n          <input\\n            type=\\\"text\\\"\\n            class=\\\"form-control\\\"\\n            formControlName=\\\"NR_NOTA_FISC\\\"\\n            placeholder=\\\"Escribelo...\\\"  \\n            (keyup.enter)=\\\"onFilter()\\\"\\n          >\\n        </div>\\n      </div>\\n      <div class=\\\"form-row\\\">\\n        <div class=\\\"form-group col-3\\\">\\n          <label for=\\\"itemsPerPage\\\">Cargando</label>\\n          <ng-select\\n            [searchable]=\\\"true\\\"\\n            [clearable]=\\\"true\\\"\\n            [items]=\\\"situacaoCarregamento\\\"\\n            [virtualScroll]=\\\"true\\\"\\n            labelForId=\\\"situacaoCarregamento\\\"\\n            bindLabel=\\\"nome\\\"\\n            bindValue=\\\"id\\\"\\n            (change)=\\\"onFilter()\\\"\\n            formControlName=\\\"FINA_IN_STAT\\\"\\n            placeholder=\\\"SELECCIONE...\\\"\\n          >\\n          </ng-select>\\n        </div>\\n        <div class=\\\"form-group col-3\\\">\\n          <label for=\\\"itemsPerPage\\\">Inicio del viaje</label>\\n          <ng-select\\n            [searchable]=\\\"true\\\"\\n            [clearable]=\\\"true\\\"\\n            [items]=\\\"inicioViagem\\\"\\n            [virtualScroll]=\\\"true\\\"\\n            labelForId=\\\"inicioViagem\\\"\\n            bindLabel=\\\"nome\\\"\\n            bindValue=\\\"id\\\"\\n            (change)=\\\"onFilter()\\\"\\n            formControlName=\\\"IN_VIAG_INIC\\\"\\n            placeholder=\\\"SELECCIONE...\\\"\\n          >\\n          </ng-select>\\n        </div>\\n        <div class=\\\"form-group col-3\\\">\\n          <label for=\\\"situacao\\\">Situación</label>\\n          <ng-select\\n            [searchable]=\\\"true\\\"\\n            [clearable]=\\\"true\\\"\\n            [items]=\\\"situacao\\\"\\n            [virtualScroll]=\\\"true\\\"\\n            labelForId=\\\"situacao\\\"\\n            bindLabel=\\\"nome\\\"\\n            bindValue=\\\"id\\\"\\n            (change)=\\\"onFilter()\\\"\\n            formControlName=\\\"IN_STAT\\\"\\n            placeholder=\\\"SELECCIONE...\\\"\\n          >\\n          </ng-select>\\n        </div>\\n        <div class=\\\"form-group col-3\\\">\\n          <label for=\\\"itemsPerPage\\\">Registros</label>\\n          <select\\n           class=\\\"form-control\\\"\\n            formControlName=\\\"TT_REGI_PAGI\\\"\\n          >\\n            <option value=\\\"10\\\">10</option>\\n            <option value=\\\"25\\\">25</option>\\n            <option value=\\\"50\\\">50</option>\\n            <option value=\\\"100\\\">100</option>\\n            <option value=\\\"250\\\">250</option>\\n            <option value=\\\"500\\\">500</option>\\n          </select>\\n        </div>\\n      </div>\\n    </form>\\n  </advanced-filter>\\n  <div class=\\\"d-flex\\\">\\n    <div [ngClass]=\\\"showDetailPanel ? 'col-4 px-0' : 'w-100'\\\">\\n      <custom-table [hidden] =\\\"noResult\\\" [config]=\\\"tableConfig\\\">\\n        <ng-template #thead let-thead>\\n          <tr>\\n            <th\\n              class=\\\"text-center align-middle\\\"\\n              scope=\\\"col\\\"\\n              [ngStyle]=\\\"{width: showDetailPanel ? '25%' : '13%' }\\\"\\n            >\\n              <thead-sorter\\n                value=\\\"Filial\\\"\\n                [active]=\\\"orderBy == 'CD_FILI'\\\"\\n                [sort]=\\\"orderType\\\"\\n                (click)=\\\"setOrderBy('CD_FILI')\\\">\\n              </thead-sorter>\\n            </th>\\n            <th\\n              class=\\\"text-center align-middle\\\"\\n              scope=\\\"col\\\"\\n              [ngStyle]=\\\"{width: showDetailPanel ? '20%' : '08%' }\\\"\\n            >\\n              <thead-sorter\\n                value=\\\"Ruta\\\"\\n                [active]=\\\"orderBy == 'CD_ROMA'\\\"\\n                [sort]=\\\"orderType\\\"\\n                (click)=\\\"setOrderBy('CD_ROMA')\\\">\\n              </thead-sorter>\\n            </th>\\n            <th\\n              class=\\\"text-left align-middle\\\"\\n              scope=\\\"col\\\"\\n              [ngStyle]=\\\"{width: showDetailPanel ? '15%' : '06%' }\\\"\\n            >\\n              <thead-sorter\\n                value=\\\"Placa\\\"\\n                [active]=\\\"orderBy == 'PLAC'\\\"\\n                [sort]=\\\"orderType\\\"\\n                (click)=\\\"setOrderBy('PLAC')\\\">\\n              </thead-sorter>\\n            </th>\\n            <th\\n              class=\\\"text-left    align-middle\\\"\\n              scope=\\\"col\\\"  style=\\\"width:12%\\\"\\n              *ngIf=\\\"!showDetailPanel\\\"\\n            >\\n              <thead-sorter\\n                value=\\\"Conductor\\\"\\n                [active]=\\\"orderBy == 'NM_MOTO'\\\"\\n                [sort]=\\\"orderType\\\"\\n                (click)=\\\"setOrderBy('NM_MOTO')\\\">\\n              </thead-sorter> \\n            </th>\\n            <th\\n              class=\\\"text-center  align-middle\\\"\\n              scope=\\\"col\\\"\\n              style=\\\"width:05%\\\"\\n              *ngIf=\\\"!showDetailPanel\\\"\\n            >\\n              <thead-sorter\\n                value=\\\"PESO\\\"\\n                [active]=\\\"orderBy == 'TT_PESO'\\\"\\n                [sort]=\\\"orderType\\\"\\n                (click)=\\\"setOrderBy('TT_PESO')\\\">\\n              </thead-sorter>\\n            </th>\\n            <th\\n              class=\\\"text-center  align-middle\\\"\\n              scope=\\\"col\\\"\\n              style=\\\"width:08%\\\"\\n              *ngIf=\\\"!showDetailPanel\\\"\\n              >\\n              <thead-sorter\\n                value=\\\"Distancia\\\"\\n                [active]=\\\"orderBy == 'KM_PREV'\\\"\\n                [sort]=\\\"orderType\\\"\\n                (click)=\\\"setOrderBy('KM_PREV')\\\">\\n              </thead-sorter>\\n            </th>\\n            <th\\n              class=\\\"text-center  align-middle\\\"\\n              scope=\\\"col\\\"\\n              style=\\\"width:10%\\\"\\n              *ngIf=\\\"!showDetailPanel\\\"\\n            >\\n                <thead-sorter\\n                value=\\\"Prev. Salida\\\"\\n                [active]=\\\"orderBy == 'DT_PREV_SAID'\\\"\\n                [sort]=\\\"orderType\\\"\\n                (click)=\\\"setOrderBy('DT_PREV_SAID')\\\">\\n              </thead-sorter>\\n            </th>\\n            <th\\n              class=\\\"text-center  align-middle\\\"\\n              scope=\\\"col\\\"\\n              style=\\\"width:10%\\\"\\n              *ngIf=\\\"!showDetailPanel\\\"\\n            >\\n              <thead-sorter\\n                value=\\\"Salida Real\\\"\\n                [active]=\\\"orderBy == 'DT_VIAG_INIC'\\\"\\n                [sort]=\\\"orderType\\\"\\n                (click)=\\\"setOrderBy('DT_VIAG_INIC')\\\">\\n              </thead-sorter>\\n            </th>\\n            <th\\n            class=\\\"text-left align-middle\\\"\\n            scope=\\\"col\\\"\\n            style=\\\"width:12%\\\"\\n            *ngIf=\\\"!showDetailPanel\\\"\\n            >\\n              Fin de carga\\n            </th>\\n            <th\\n              class=\\\"text-center align-middle\\\"\\n              scope=\\\"col\\\"\\n            >\\n            </th>\\n            <th\\n              class=\\\"text-center align-middle\\\"\\n              scope=\\\"col\\\"\\n            >\\n            </th>\\n            <th\\n              class=\\\"text-center align-middle\\\"\\n              scope=\\\"col\\\"\\n            >\\n            </th>\\n            <th\\n              class=\\\"text-center align-middle\\\"\\n              scope=\\\"col\\\"\\n            >\\n            </th>\\n            <th\\n              class=\\\"text-center  align-middle\\\"\\n              scope=\\\"col\\\"\\n            >\\n            </th>\\n          </tr>\\n        </ng-template>\\n        <ng-template #tbody let-tbody>\\n          <tr *ngFor=\\\"let romaneio of romaneios; let i = index\\\" [ngClass]=\\\"{'table-active': romaneio.selected == true}\\\">\\n            <td class=\\\"text-left align-middle text-truncate\\\"  [ngClass]=\\\"romaneio.IN_STAT == 1 ? 'border-success' : 'border-danger'\\\">({{romaneio.CD_FILI}})&nbsp; {{ romaneio.NM_FILI }}</td>\\n            <td class=\\\"text-center align-middle\\\">{{ romaneio.CD_ROMA }}</td>\\n            <td class=\\\"text-left align-middle\\\">\\n              <span>{{ romaneio.PLAC | hifen}}</span>\\n            </td>\\n            <td class=\\\"text-left align-middle text-truncate\\\" *ngIf=\\\"!showDetailPanel\\\">\\n              <span>{{ romaneio?.NM_MOTO | hifen}}</span>\\n            </td>\\n            <td class=\\\"text-center align-middle\\\" *ngIf=\\\"!showDetailPanel\\\">\\n              <span >{{ romaneio?.TT_PESO | number:'0.3-3' | hifen}}</span>  \\n            </td>\\n            <td class=\\\"text-center align-middle\\\" *ngIf=\\\"!showDetailPanel\\\">\\n              <span>{{ romaneio?.KM_PREV  | number: '0.0-0' | hifen}}</span>\\n            </td>\\n            <td class=\\\"text-center align-middle\\\" *ngIf=\\\"!showDetailPanel\\\">{{ romaneio?.DT_PREV_SAID | date: 'dd/MM/yyyy HH:mm' }}</td>\\n            <td class=\\\"text-center align-middle\\\" *ngIf=\\\"!showDetailPanel\\\">{{ romaneio?.DT_VIAG_INIC | date: 'dd/MM/yyyy HH:mm' | hifen }}</td>\\n            <td class=\\\"text-left\\\" *ngIf=\\\"!showDetailPanel\\\">\\n              <div *ngIf=\\\"!romaneio?.loadingFinalizando\\\">\\n                <button\\n                  (click)=\\\"onFinalizaRomaneio(romaneio);\\\"\\n                  [disabled]=\\\"!onPodeFinalizarRomaneio(romaneio)\\\"\\n                  style=\\\"font-size: 1.25em;\\\"  \\n                >\\n                  <i *ngIf=\\\"romaneio.FINA_IN_STAT == 0\\\" class=\\\"fas fa-toggle-off\\\"></i>\\n                  <i *ngIf=\\\"romaneio.FINA_IN_STAT == 1\\\" class=\\\"fas fa-toggle-on text-success\\\"></i>\\n                </button>\\n                <span *ngIf=\\\"!showDetailPanel\\\">{{ romaneio.DT_FINA | date: 'dd/MM/yyyy HH:mm' }}</span>\\n              </div>\\n              <div *ngIf=\\\"romaneio?.loadingFinalizando\\\" class=\\\"font-weight-bold text-muted\\\">Finalizando...</div>\\n            </td>\\n            <td class=\\\"font-weight-bold text-center\\\">\\n              <span\\n                [tooltip]=\\\"romaneio.TT_PEDI_ENTR + ' pedidos entregados de ' + romaneio.TT_PEDI\\\"\\n                container=\\\"body\\\"\\n                placement=\\\"left\\\"  \\n              >\\n                {{ romaneio.TT_PEDI_ENTR }}/{{ romaneio.TT_PEDI }}\\n              </span>\\n            </td>\\n            <td class=\\\"text-right align-middle\\\">\\n              <button\\n                tooltip=\\\"Sincronizar con Fusion\\\"\\n                placement=\\\"left\\\"\\n                container=\\\"body\\\"\\n                (click)=\\\"putRomaneio(romaneio)\\\"\\n              >\\n                <i class=\\\"fas fa-sync\\\" *ngIf=\\\"!romaneio.syncFusion\\\"></i>\\n                <div\\n                  class=\\\"spinner-border spinner-border-sm text-primary\\\"\\n                  role=\\\"status\\\"\\n                  *ngIf=\\\"romaneio.syncFusion\\\"\\n                >\\n                  <span class=\\\"sr-only\\\">Loading...</span>\\n                </div>\\n              </button>\\n            </td>\\n            <td class=\\\"text-right align-middle\\\">\\n              <button\\n                tooltip=\\\"Generar PDF\\\"\\n                placement=\\\"left\\\"\\n                container=\\\"body\\\"\\n                (click)=\\\"onPrint(romaneio)\\\"\\n              >\\n                <i class=\\\"far fa-file-pdf\\\"></i>\\n              </button>\\n            </td>\\n            <td class=\\\"text-right align-middle\\\">\\n              <span\\n                [tooltip]=\\\"romaneio?.DS_FATU\\\"\\n                placement=\\\"left\\\"\\n                container=\\\"body\\\"\\n              >\\n                <button\\n                  [disabled]=\\\"onInEnviarFaturamento(romaneio)\\\"\\n                  *ngIf=\\\"!romaneio.loadingFaturamento\\\"\\n                  (click)=\\\"enviarRomaneioParaFaturamento(romaneio)\\\"\\n                >\\n                  <i class=\\\"far fa-paper-plane\\\" [ngClass]=\\\"onCorFaturamento(romaneio)\\\"></i>\\n                </button>\\n                <div\\n                  class=\\\"spinner-border spinner-border-sm text-primary\\\"\\n                  role=\\\"status\\\"\\n                  *ngIf=\\\"romaneio.loadingFaturamento\\\"\\n                >\\n                  <span class=\\\"sr-only\\\">Loading...</span>\\n                </div>\\n              </span>\\n            </td>\\n            <td class=\\\"text-right align-middle\\\">\\n              <button\\n                tooltip=\\\"Detalles\\\"\\n                placement=\\\"left\\\"\\n                container=\\\"body\\\"\\n                (click)=\\\"viewDetails(romaneio)\\\"\\n              >\\n                <i class=\\\"fas fa-search\\\"></i>\\n              </button>\\n            </td>\\n          </tr>\\n        </ng-template>\\n      </custom-table>\\n      <div class=\\\"mt-3 col p-0\\\" [hidden]=\\\"noResult\\\">\\n        Demostración {{ itemsPerPage*(currentPage - 1) + 1 }} a {{ currentPage*(itemsPerPage) > totalItems ? totalItems : currentPage*(itemsPerPage) }} de {{ totalItems }}\\n        <pagination\\n          [maxSize]=\\\"5\\\"\\n          [totalItems]=\\\"totalItems\\\"\\n          [(itemsPerPage)]=\\\"itemsPerPage\\\"\\n          (pageChanged)=\\\"onPageChanged($event)\\\"\\n          [boundaryLinks]=\\\"true\\\"\\n          [(ngModel)]=\\\"currentPage\\\"\\n          previousText=\\\"&lsaquo;\\\"\\n          nextText=\\\"&rsaquo;\\\"\\n          firstText=\\\"&laquo;\\\"\\n          lastText=\\\"&raquo;\\\">\\n        </pagination>\\n      </div>\\n    </div>\\n    <div class=\\\"col-8 pr-0\\\" [hidden]=\\\"!showDetailPanel\\\">\\n      <detail-panel [panelTitle]=\\\"detailPanelTitle\\\">\\n        <div>\\n          <table>\\n            <tbody>\\n              <tr>\\n                <th scope=\\\"col\\\">Conductor:</th>\\n                <td>{{ romaneio?.NM_MOTO | uppercase }}</td>\\n              </tr>\\n              <tr>\\n                <th scope=\\\"col\\\">Vehiculo:</th>\\n                <td>{{ romaneio?.PLAC | uppercase}}</td>\\n              </tr>\\n              <tr>\\n                <th scope=\\\"col\\\">Peso:</th>\\n                <td>\\n                  <span *ngIf=\\\"!isChecked\\\">{{romaneio?.TT_PESO | number:'0.3-3' | hifen }}</span>\\n                  <span *ngIf=\\\"isChecked\\\">{{romaneio?.FATU_TT_PESO | number:'0.3-3' | hifen }}</span>\\n                </td>\\n              </tr>\\n              <tr>\\n                <th scope=\\\"col\\\">Flete estimado:</th>\\n                <td>\\n                  <span *ngIf=\\\"!isChecked\\\">{{romaneio?.VL_FRET | currency:'Bs' | hifen }}</span>\\n                  <span *ngIf=\\\"isChecked\\\">{{romaneio?.FATU_VL_FRET | currency:'Bs' | hifen }}</span>\\n                </td>\\n              </tr>\\n              <tr>\\n                <th scope=\\\"col\\\">Flete (sin impuestos):</th>\\n                <td>\\n                  <span>{{romaneio?.CTRC_VL_LIQD | currency:'Bs' | hifen }}</span>\\n                </td>\\n              </tr>\\n              <tr>\\n                <th scope=\\\"col\\\">Flete (con impuestos):</th>\\n                <td>\\n                  <span>{{romaneio?.CTRC_VL_BRUT | currency:'Bs' | hifen }}</span>\\n                </td>\\n              </tr>\\n              <tr>\\n                <th>Distancia (KM):</th>\\n                <td>\\n                  <span *ngIf=\\\"!isChecked\\\">{{romaneio?.KM_PREV | number: '0.0-0' | hifen}}</span>\\n                  <span *ngIf=\\\"isChecked\\\">{{romaneio?.FATU_KM_PREV | number: '0.0-0' | hifen}}</span>\\n                </td>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </div>\\n        <div>\\n          <hr>\\n          <div class=\\\"custom-control custom-checkbox mb-2\\\">\\n            <input\\n              type=\\\"checkbox\\\"\\n              class=\\\"custom-control-input\\\"\\n              id=\\\"customCheck\\\"\\n              name=\\\"example1\\\"\\n              [(ngModel)]=\\\"isChecked\\\" \\n              (change)=\\\"getEntregasSomenteFaturamento(romaneio)\\\"\\n            >\\n            <label class=\\\"custom-control-label\\\" for=\\\"customCheck\\\">Facturación solo entregas</label>\\n          </div>\\n          <div>\\n            <div *ngIf=\\\"loadingEntregas\\\">\\n              <span>Cargando...</span>\\n            </div>\\n            <div *ngIf=\\\"!loadingEntregas\\\">\\n              <div *ngFor=\\\"let entrega of entregas\\\">\\n                <logistica-entrega-romaneios-pedidos\\n                  [entrega]=\\\"entrega\\\"\\n                  >\\n                </logistica-entrega-romaneios-pedidos>\\n              </div>\\n              <div [hidden]=\\\"loadingEntregas || (entregas.length != 0)\\\" class=\\\"text-center d-flex justify-content-center align-items-center\\\" style=\\\"height: 250px\\\">\\n                <empty-result message=\\\"No se encontró información\\\"></empty-result>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </detail-panel>\\n    </div>\\n  </div>\\n  <div [hidden]=\\\"loading || !noResult\\\" class=\\\"text-center d-flex justify-content-center align-items-center\\\" style=\\\"height: 250px\\\">\\n    <empty-result message=\\\"No se encontró información\\\"></empty-result>\\n  </div>\\n  <logistica-entrega-romaneios-capa-romaneio></logistica-entrega-romaneios-capa-romaneio>\\n</app-body>\";","export default \"<ng-template #template>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">{{romaneio?.CD_ROMA}}</h4>\\n    <div>\\n      <button\\n        type=\\\"button\\\"\\n        class=\\\"btn-icon-sm\\\"\\n        tooltip=\\\"Exportar\\\"\\n        container=\\\"body\\\"\\n        (click)=\\\"onExcel()\\\"\\n      >\\n        <i class=\\\"far fa-file-excel\\\"></i>\\n      </button>\\n      <button\\n        type=\\\"button\\\"\\n        class=\\\"btn-icon-sm mx-3\\\"\\n        tooltip=\\\"Download\\\"\\n        container=\\\"body\\\"\\n        (click)=\\\"onDownload()\\\"\\n      >\\n        <i class=\\\"far fa-save\\\"></i>\\n      </button>\\n      <button\\n        type=\\\"button\\\"\\n        class=\\\"btn-icon-sm mr-3\\\"\\n        tooltip=\\\"Imprimir\\\"\\n        container=\\\"body\\\"  \\n        (click)=\\\"onPrint()\\\"\\n      >\\n        <i class=\\\"fas fa-print\\\"></i>\\n      </button>\\n      <button\\n        type=\\\"button\\\"\\n        class=\\\"btn-icon-sm\\\"\\n        tooltip=\\\"Fechar\\\"\\n        container=\\\"body\\\"\\n        (click)=\\\"modalRef.hide()\\\"\\n      >\\n        <i class=\\\"fas fa-times\\\"></i>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <div class=\\\"p-5\\\" id=\\\"capaRomaneio\\\">\\n      <div class=\\\"d-flex justify-content-between align-items-center\\\">\\n        <table style=\\\"font-size: 1.25rem;\\\">\\n          <tbody>\\n            <tr>\\n              <th>Rota:&nbsp;</th>\\n              <td>{{ romaneio?.CD_ROMA }}</td>\\n            </tr>\\n            <tr>\\n              <th>Inicio:&nbsp;</th>\\n              <td>{{ romaneio?.DT_PREV_SAID | date: 'dd/MM/yyyy HH:mm'}}</td>\\n            </tr>\\n            <tr>\\n              <th>Chofer:&nbsp;</th>\\n              <td>{{ romaneio?.NM_MOTO | hifen | uppercase }}</td>\\n            </tr>\\n            <tr>\\n              <th>Vehículo:&nbsp;</th>\\n              <td>{{ romaneio?.PLAC | hifen | uppercase }}</td>\\n            </tr>\\n            <tr>\\n              <th>Peso:&nbsp;</th>\\n              <td>\\n                <span *ngIf=\\\"romaneio?.TT_PESO\\\">{{ romaneio?.TT_PESO | number:'0.3-3'}}&nbsp; Tons</span>\\n                <span *ngIf=\\\"!romaneio?.TT_PESO\\\">-</span>\\n              </td>\\n            </tr>\\n            <tr>\\n              <th>Distancia:&nbsp;</th>\\n              <td>{{ romaneio?.KM_PREV | number:'0.0-0'}}KM</td>\\n            </tr>\\n            <tr>\\n              <th>Destino:&nbsp;</th>\\n              <td>{{ romaneio?.DS_DEST | hifen | uppercase }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n        <div>\\n          <img [src]=\\\"url\\\" alt=\\\"Logo\\\" class=\\\"mr-2\\\" height=\\\"80px\\\" *ngFor=\\\"let url of getLogos()\\\">\\n        </div>\\n      </div>\\n      <textarea rows=\\\"1\\\"></textarea>\\n      <div *ngIf=\\\"!loadingPedidos\\\">\\n        <div *ngFor=\\\"let pedido of pedidos\\\">\\n          <div class=\\\"mt-5 px-2 py-3 border border-dark d-flex w-100\\\">\\n            <div class=\\\"mx-2 d-flex align-items-center\\\" style=\\\"font-size: 2.5rem;\\\">\\n              <span>{{pedido?.ENTR_NR_SQNC}}</span>\\n            </div>\\n            <div class=\\\"w-100\\\">\\n              <div class=\\\"d-flex\\\" style=\\\"border-bottom: 1px dashed; padding-bottom: 0.5em;\\\">\\n                <div class=\\\"d-flex col-6 p-0\\\">\\n                  <table>\\n                    <tbody>\\n                      <tr>\\n                        <th>Factura:</th>\\n                        <td>{{ pedido?.NOTA_FISC }}</td>\\n                      </tr>\\n                      <tr>\\n                        <th>Orden de vienda:</th>\\n                        <td>{{ pedido?.CD_PEDI }}</td>\\n                      </tr>\\n                      <tr>\\n                        <th>Peso:</th>\\n                        <td>{{ pedido?.TT_PESO | number : '0.3-3' }}&nbsp;Tons</td>\\n                      </tr>\\n                    </tbody>\\n                  </table>\\n                </div>\\n                <div class=\\\"col-6 p-0 d-flex justify-content-end flex-column\\\">\\n                  <span class=\\\"font-weight-bolder d-block\\\">\\n                    ({{ pedido?.CD_CLIE }})&nbsp;{{ pedido?.NM_CLIE }}\\n                  </span>\\n                  <span>\\n                    {{pedido?.DS_ENDE | uppercase}}\\n                  </span>\\n                </div>\\n              </div>\\n              <div class=\\\"mt-1 d-flex justify-content-center\\\" *ngIf=\\\"!pedido.materialLoading && pedido?.MATE\\\">\\n                <table width=\\\"100%\\\">\\n                  <thead>\\n                    <tr>\\n                      <th width=\\\"10%\\\">#</th>\\n                      <th width=\\\"10%\\\">Código</th>\\n                      <th width=\\\"40%\\\">Descripción</th>\\n                      <th width=\\\"10%\\\" class=\\\"text-center\\\">Unidade</th>\\n                      <th width=\\\"10%\\\" class=\\\"text-right\\\">Monto</th>\\n                      <th width=\\\"20%\\\" class=\\\"text-left pl-3\\\">Nota</th>\\n                    </tr>\\n                  </thead>\\n                  <tbody>\\n                    <tr *ngFor=\\\"let material of pedido?.MATE; let index = index;\\\">\\n                      <td width=\\\"10%\\\">\\n                        <span *ngIf=\\\"material?.CD_SEQU_MATE\\\">{{ material?.NR_SQNC }}</span>\\n                        <span *ngIf=\\\"!material?.CD_SEQU_MATE\\\">{{ index + 1 }}</span>\\n                      </td>\\n                      <td width=\\\"10%\\\">{{ material?.CD_PROD }}</td>\\n                      <td width=\\\"35%\\\">{{ material?.NM_PROD | uppercase }}</td>\\n                      <td width=\\\"10%\\\" class=\\\"text-center\\\">{{ material?.DS_UNID_MEDI }}</td>\\n                      <td width=\\\"15%\\\" class=\\\"text-right\\\">{{ material?.TT_PROD | number:'0.3-3' }}</td>\\n                      <td width=\\\"20%\\\" class=\\\"text-left pl-3\\\">\\n                        <span *ngIf=\\\"material?.DS_OBSE\\\">{{ material?.DS_OBSE }}</span>\\n                        <span *ngIf=\\\"!material?.DS_OBSE\\\" class=\\\"d-block w-100 text-center\\\">-</span>\\n                      </td>\\n                    </tr>\\n                  </tbody>\\n                </table>\\n              </div>\\n              <div *ngIf=\\\"pedido.materialLoading\\\" class=\\\"spinner-border text-primary mt-1\\\" role=\\\"status\\\">\\n                <span class=\\\"sr-only\\\">Loading...</span>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n      <div *ngIf=\\\"loadingPedidos\\\" class=\\\"spinner-border text-primary mt-3\\\" role=\\\"status\\\">\\n        <span class=\\\"sr-only\\\">Loading...</span>\\n      </div>\\n    </div>\\n  </div>\\n</ng-template>\";","import { Component, OnInit, Input, Output, EventEmitter, SimpleChanges, OnChanges } from '@angular/core';\n\nimport { finalize } from 'rxjs/operators';\n\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\n\nimport { LogisticaEntregaRomaneiosService } from '../../services/romaneios.service';\n\nimport { ILogisticaEntregaRomaneio } from '../../models/romaneio';\n\n@Component({\n  selector: 'logistica-entrega-romaneios-pedidos',\n  templateUrl: './pedidos.component.html',\n  styleUrls: ['./pedidos.component.scss']\n})\nexport class LogisticaEntregaRomaneiosPedidosComponent implements OnInit, OnChanges {\n\n  pedidos = [];\n  loadingPedidos: boolean = false;\n\n  ctes = [];\n  loadingCtes: boolean = false;\n\n  @Input() entrega;\n\n  notificacoes = {\n    entrega: {\n      faturamento: {\n        tooltips:{\n          0: 'Entrega não marcada para faturamento de cte',\n          1: 'Entrega para faturamento de cte'\n        },\n        cor:{\n          0: 'text-warning',\n          1: 'text-success'\n        }\n      },\n      cte:{\n        tooltips:{\n          0: 'Cte\\'s não emitidos',\n          1: 'Cte\\'s emitidos'\n        },\n        cor:{\n          0: 'text-danger',\n          1: 'text-success'\n        }\n      },\n      entrega:{\n        tooltips:{\n          0: 'Entrega realizada',\n          1: 'Entrega não realizada'\n        },\n        cor:{\n          0: 'text-danger',\n          1: 'text-success'\n        }\n      },\n      situacao:{\n        tooltips:{\n          0: 'Entrega inativa',\n          1: 'Entrega ativa'\n        },\n        cor:{\n          0: 'text-danger',\n          1: 'text-success'\n        }\n      }\n    },\n    pedido:{\n      faturamento: {\n        tooltips:{\n          0: 'Nota Fiscal não marcada para faturamento de cte',\n          1: 'Nota Fiscal para faturamento de cte'\n        },\n        cor:{\n          0: 'text-warning',\n          1: 'text-success'\n        }\n      },\n      cte:{\n        tooltips:{\n          0: 'Cte\\'s não emitidos',\n          1: 'Cte\\'s emitidos'\n        },\n        cor:{\n          0: 'text-danger',\n          1: 'text-success'\n        }\n      },\n      entrega:{\n        tooltips:{\n          0: 'Entrega realizada',\n          1: 'Entrega não realizada'\n        },\n        cor:{\n          0: 'text-danger',\n          1: 'text-success'\n        }\n      },\n      situacao:{\n        tooltips:{\n          0: 'Nota Fiscal inativa',\n          1: 'Nota Fiscal ativa'\n        },\n        cor:{\n          0: 'text-danger',\n          1: 'text-success'\n        }\n      }\n    }\n  }\n\n  arrow = {\n    entrega: true,\n    pedidos: true\n  }\n\n  @Input() inSomenteEntregaFaturamento: boolean;\n\n  constructor(\n    private romaneiosService: LogisticaEntregaRomaneiosService,\n    private pnotifyService: PNotifyService\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  ngOnChanges(changes: SimpleChanges){\n    \n    if(!changes?.entrega?.currentValue){\n      return\n    }\n\n    if(Object.keys(changes?.entrega?.currentValue)?.length != 0 && changes?.entrega?.firstChange){\n      this.getPedidos();\n    }\n  }\n\n  getMateriais(pedido){\n    \n    if(pedido?.materiais)\n      return\n\n    pedido.loadingMateriais = true;\n\n    const _params = {\n      \"CD_PEDI\": pedido?.CD_PEDI ?? '',\n      \"CD_EMPR\": pedido?.CD_EMPR ?? '',\n      \"CD_ROMA\": pedido?.CD_ROMA ?? ''\n    }\n\n    this.romaneiosService\n      .getMateriais(_params)\n      .pipe(\n        finalize(() => {\n          pedido.loadingMateriais = false;\n        })\n      )\n      .subscribe(\n        (response) => {\n          if (response.status !== 200) {\n            \n          }\n\n          pedido.materiais = response.body['data'];\n        },\n        (error) => {\n          \n        }\n      )\n  }\n\n  getCtes(){\n    \n    if(this.ctes.length !== 0)\n      return;\n\n    if(this.arrow['ctes'] === false)\n      return\n\n    this.loadingCtes = true;\n\n    const params = {\n      'CD_ROMA': this.entrega?.CD_ROMA ?? '',\n      'CD_PEDI':this.entrega?.CD_PEDI ?? '',\n      'CD_CLIE': this.entrega?.CD_CLIE ?? '',\n      'DS_LOCA_ENTR': this.entrega?.DS_LOCA_ENTR ?? '',\n      'DS_CIDA': this.entrega?.DS_CIDA ?? '',\n      'DS_BAIR': this.entrega?.DS_BAIR ?? '',\n      'DS_ESTA': this.entrega?.DS_ESTA ?? ''\n    }\n\n    this.romaneiosService\n      .getCtes(params)\n      .pipe(\n        finalize(() => {\n          this.loadingCtes = false;\n        })\n      )\n      .subscribe(\n        (response) => {\n          if (response.status !== 200){\n            this.ctes = [];\n            return\n          }\n          \n          this.ctes = response.body['data'];\n        },\n        (error) => {\n          this.ctes = [];\n        }\n      ) \n  }\n\n  getPedidos() {\n    \n    if(this.pedidos.length !== 0){\n      return\n    }\n\n    this.loadingPedidos = true;\n\n    const params = {\n      'CD_ROMA': this.entrega?.CD_ROMA ?? '',\n      'CD_CLIE': this.entrega?.CD_CLIE ?? '',\n      'DS_LOCA_ENTR': this.entrega?.DS_LOCA_ENTR ?? '',\n      'DS_CIDA': this.entrega?.DS_CIDA ?? '',\n      'DS_BAIR': this.entrega?.DS_BAIR ?? '',\n      'DS_ESTA': this.entrega?.DS_ESTA ?? ''\n    }\n\n    this.romaneiosService\n      .getPedidos(params)\n      .pipe(\n        finalize(() => {\n          this.loadingPedidos = false;\n        })\n      )\n      .subscribe(\n        (response) => {\n          \n          if (response.status !== 200) {\n            return;\n          }\n\n          const pedidos: Array<any> = response.body['data'];\n          this.pedidos = pedidos;\n          \n        },\n        (error) => {\n          \n        }\n      )\n  }\n\n  copyToClipboard(value) {\n    var txtArea = document.createElement(\"textarea\");\n    txtArea.id = 'txt';\n    txtArea.style.position = 'fixed';\n    txtArea.style.top = '0';\n    txtArea.style.left = '0';\n    txtArea.style.opacity = '0';\n    txtArea.value = value;\n    document.body.appendChild(txtArea);\n    txtArea.select();\n    document.execCommand(\"copy\");\n    this.pnotifyService.success(\"Copiado\");\n  }\n\n  onToggleArrow(status, type){\n    this.arrow[type] = status\n  }\n\n  onCorCancelado(item){\n    if (item.IN_STAT == 0)\n      return 'text-muted';\n\n    return;\n  }\n  \n}\n"]}