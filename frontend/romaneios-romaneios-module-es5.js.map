{"version":3,"sources":["webpack:///src/app/modules/logistica/entrega/romaneios/components/pedidos/pedidos.component.scss","webpack:///src/app/modules/logistica/entrega/romaneios/services/romaneios.service.ts","webpack:///src/app/modules/logistica/entrega/romaneios/lista/lista.component.ts","webpack:///src/app/modules/logistica/entrega/romaneios/romaneios-routing.module.ts","webpack:///src/app/modules/logistica/entrega/romaneios/lista/lista.component.scss","webpack:///src/app/modules/logistica/entrega/romaneios/components/capa-romaneio/capa-romaneio.component.ts","webpack:///src/app/modules/logistica/entrega/romaneios/components/pedidos/pedidos.component.html","webpack:///src/app/modules/logistica/entrega/romaneios/romaneios.module.ts","webpack:///src/app/modules/logistica/entrega/romaneios/components/capa-romaneio/capa-romaneio.component.scss","webpack:///src/app/modules/logistica/entrega/romaneios/lista/lista.component.html","webpack:///src/app/modules/logistica/entrega/romaneios/components/capa-romaneio/capa-romaneio.component.html","webpack:///src/app/modules/logistica/entrega/romaneios/components/pedidos/pedidos.component.ts"],"names":["LogisticaEntregaRomaneiosService","http","BASE_URL","downloadEmmiter","get","params","observe","post","put","romaneio","emit","providedIn","LogisticaEntregaRomaneiosListaComponent","activatedRoute","route","localeService","notice","formBuilder","dateService","romaneiosService","atividadesService","perfilService","detailPanelService","pnotify","xlsxService","routerService","modalService","filiaisService","pedidosAtivos","pedidosInativos","inSomenteEntregaFaturamento","isChecked","loading","loaderNavbar","loadingEntregas","loadingFiliais","romaneios","entregas","totalItems","noResult","romaneioFinalizado","breadCrumbTree","loadingPedidos","showDetailPanel","detailPanelTitle","appTitle","orderBy","orderType","situacao","id","nome","situacaoCarregamento","inicioViagem","itemsPerPage","currentPage","begin","end","permiteAlterarStatus","tableConfig","subtitleBorder","isFixed","visualizarPedidosRemovidos","use","bsConfig","Object","assign","containerClass","adaptivePosition","showWeekNumbers","buildForm","registrarAcesso","subscribe","verificaPerfil","setBreadCrumb","onDetailPanelEmitter","onActivatedRoute","getFiliais","status","pipe","next","response","filiais","body","error","showDetailPanelSubscription","unsubscribe","datepicker","hide","snapshot","submoduloId","idSubModulo","descricao","routerLink","form","group","CD_FILI","CD_MOTO","CD_PRIO","CD_ROMA","CD_STAT","DS_OBSE","DT_ATUA","DT_INCL","DT_PREV_SAID","ID_LOGI_FUSI_ROMA","INT_ID","IN_STAT","FINA_IN_STAT","IN_VIAG_INIC","KM_PREV","PLAC","VL_FRET","CD_PEDI","DS_MOTO","NR_NOTA_FISC","IN_CTE_EMIT","DT_INIC","Date","DT_FINA","PAGI","TT_REGI_PAGI","ORDE_BY","ORDE_TYPE","TIME","getTime","TP_EMPR","$activatedRouteSubscription","queryParams","_response","getBase64UrlParams","keys","length","split","patchValue","getRomaneios","getParams","getRomaneio","field","onFieldInvalid","touched","required","formControl","controls","validator","validationResult","event","setValue","page","navigate","relativeTo","setBase64UrlParams","finalizarRomnaneio","success","message","DT_SAID","postRomaneios","_params","_obj","value","prop","convertToUrlDate","Array","isArray","join","postRomaneio","matricula","JSON","parse","localStorage","getItem","getPerfil","sigla","config","showing","map","element","selected","show","loadedFinished","getEntregas","getPedidos","pedidos","filter","pedido","syncFusion","putRomaneio","download","sincronizarRomaneiosFusion","loadingFaturamento","enviarRomaneioParaFaturamento","usuario","DS_FATU_NM_USUA","DS_FATU_NR_MATR","options","timeStyle","dateStyle","DS_FATU_DT_INCL","Intl","DateTimeFormat","format","FATU_IN_STAT","IN_FATU","toString","template","modalRef","animated","backdrop","getRelatorios","data","column","onFilter","selector","routes","path","component","LogisticaEntregaRomaneiosRoutingModule","imports","forChild","exports","LogisticaEntregaRomaneiosCapaRomaneioComponent","pdfService","materiais","getLogos","onSubscriptions","$subscription","undefined","onDownloadEmmiter","ROMA_PEDI_IN_STAT","TP_PEDI","openModal","txt","document","querySelector","classList","add","getNomeDownload","remove","d","timestamp","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","window","print","getMateriais","hasOwnProperty","materialLoading","LogisticaEntregaRomaneiosModule","declarations","forRoot","LogisticaEntregaRomaneiosPedidosComponent","pnotifyService","ctes","loadingCtes","notificacoes","entrega","faturamento","tooltips","cor","cte","arrow","changes","currentValue","firstChange","loadingMateriais","CD_EMPR","CD_CLIE","DS_LOCA_ENTR","DS_CIDA","DS_BAIR","DS_ESTA","getCtes","txtArea","createElement","style","position","top","left","opacity","appendChild","select","execCommand","type","item"],"mappings":"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","file":"romaneios-romaneios-module-es5.js","sourcesContent":["export default \".custom-border-left-danger {\\n  border-left: 5px solid #b8342c !important;\\n}\\n\\n#pedidos {\\n  display: block;\\n  overflow: auto;\\n}\\n\\n.table {\\n  color: #6c757d !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9sb2dpc3RpY2EvZW50cmVnYS9yb21hbmVpb3MvY29tcG9uZW50cy9wZWRpZG9zL3BlZGlkb3MuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5Q0FBQTtBQUNGOztBQUVBO0VBQ0UsY0FBQTtFQUNBLGNBQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2xvZ2lzdGljYS9lbnRyZWdhL3JvbWFuZWlvcy9jb21wb25lbnRzL3BlZGlkb3MvcGVkaWRvcy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jdXN0b20tYm9yZGVyLWxlZnQtZGFuZ2Vye1xyXG4gIGJvcmRlci1sZWZ0OiA1cHggc29saWQgI2I4MzQyYyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4jcGVkaWRvc3tcclxuICBkaXNwbGF5OiBibG9jaztcclxuICBvdmVyZmxvdzogYXV0bztcclxufVxyXG5cclxuLnRhYmxle1xyXG4gIGNvbG9yOiAjNmM3NTdkICFpbXBvcnRhbnQ7XHJcbn0iXX0= */\";","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\nimport { ILogisticaEntregaRomaneio } from '../models/romaneio';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LogisticaEntregaRomaneiosService {\r\n\r\n  private readonly BASE_URL: string = `https://crm360.monterrey.com.bo/api`;\r\n\r\n  private downloadEmmiter: EventEmitter<ILogisticaEntregaRomaneio> = new EventEmitter();\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getEmpresas() {\r\n    return this.http.get(`${this.BASE_URL}/common/empresas`);\r\n  }\r\n\r\n  getRomaneio(params) {\r\n    return this.http.get(`${this.BASE_URL}/logistica/painel-romaneios/romaneios`, {\r\n      params: params,\r\n      observe: \"response\"\r\n    });\r\n  }\r\n\r\n  sincronizarRomaneiosFusion(){\r\n    return this.http.post(\r\n      `${this.BASE_URL}/logistica/integracoes/fusion/romaneios`,{},\r\n      { observe: 'response' }\r\n    );\r\n  }\r\n\r\n  enviarRomaneioParaFaturamento(params: ILogisticaEntregaRomaneio) {\r\n    return this.http.post(\r\n      `${this.BASE_URL}/logistica/painel-romaneios/romaneio/faturamento`,\r\n      params,\r\n      { observe: 'response' }\r\n    );\r\n  }\r\n\r\n  finalizarRomnaneio(params){\r\n    return this.http.post(\r\n      `${this.BASE_URL}/logistica/painel-romaneios/finaliza-romaneio`,\r\n      params,\r\n      { observe: 'response' }\r\n    );\r\n  }\r\n\r\n  postRomaneio(params: ILogisticaEntregaRomaneio) {\r\n    return this.http.put(\r\n      `${this.BASE_URL}/logistica/painel-romaneios/status-romaneio`,\r\n      params,\r\n      { observe: 'response' }\r\n    );\r\n  }\r\n\r\n  putRomaneio(params) {\r\n    return this.http.put(\r\n      `${this.BASE_URL}/logistica/integracoes/fusion/romaneios`,\r\n      params,\r\n      { observe: 'response' }\r\n    );\r\n  }\r\n\r\n  getPedidos(params) {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/painel-romaneios/romaneios/pedidos`,\r\n      {\r\n        params: params,\r\n        observe: 'response'\r\n      }\r\n    );\r\n  }\r\n\r\n  getMateriais(params){\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/painel-romaneios/romaneios/pedidos/materiais`,\r\n      {\r\n        params: params,\r\n        observe: 'response'\r\n      }\r\n    );\r\n  }\r\n\r\n  getCtes(params){\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/painel-romaneios/ctes`,\r\n      {\r\n        params: params,\r\n        observe: 'response'\r\n      }\r\n    );\r\n  }\r\n\r\n  download(romaneio: ILogisticaEntregaRomaneio){\r\n    return this.downloadEmmiter.emit(romaneio);\r\n  }\r\n\r\n  onDownloadEmmiter(){\r\n    return this.downloadEmmiter;\r\n  }\r\n\r\n  getEntregas(params){\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/painel-romaneios/entregas`,\r\n      {\r\n        params: params,\r\n        observe: 'response'\r\n      }\r\n    );\r\n  }\r\n\r\n  getRelatorios(params){\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/painel-romaneios/relatorios`,\r\n      {\r\n        params: params,\r\n        observe: 'response'\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","// angular\r\nimport {\r\n  Component,\r\n  HostListener,\r\n  OnInit,\r\n  TemplateRef,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { FormGroup, FormBuilder, FormControl } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n// rxjs\r\nimport { finalize } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n\r\n// ngx\r\nimport { PageChangedEvent } from 'ngx-bootstrap/pagination';\r\nimport {\r\n  BsDatepickerConfig,\r\n  BsDatepickerDirective,\r\n  BsLocaleService,\r\n} from 'ngx-bootstrap/datepicker';\r\n\r\n// services\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\nimport { LogisticaEntregaRomaneiosService } from '../services/romaneios.service';\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { DetailPanelService } from 'src/app/shared/templates/detail-panel/detal-panel.service';\r\nimport { XlsxService } from 'src/app/shared/services/core/xlsx.service';\r\nimport { RouterService } from 'src/app/shared/services/core/router.service';\r\n\r\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap';\r\n\r\n// interfaces\r\nimport { ILogisticaEntregaRomaneio } from '../models/romaneio';\r\nimport { AdminPerfisService } from 'src/app/modules/admin/perfis/services/perfis.service';\r\nimport { LogisticaEntregaFusionService } from '../../services/fusion.service';\r\nimport { LogisticaFiliaisService } from '../../../cadastros/filiais/services/filiais.service';\r\n\r\n@Component({\r\n  selector: 'logistica-entrega-romaneios-lista',\r\n  templateUrl: './lista.component.html',\r\n  styleUrls: ['./lista.component.scss'],\r\n})\r\nexport class LogisticaEntregaRomaneiosListaComponent implements OnInit {\r\n  @ViewChild(BsDatepickerDirective, { static: false })\r\n  datepicker: BsDatepickerDirective;\r\n\r\n  form: FormGroup;\r\n  pedidosAtivos = [];\r\n  pedidosInativos = [];\r\n\r\n  /* showActiveOrder: boolean = true;\r\n  showInactiveOrder: boolean = false; */\r\n\r\n  inSomenteEntregaFaturamento: boolean = false;\r\n\r\n  isChecked = false;\r\n\r\n  //spinner\r\n  loading: boolean = true;\r\n  loaderNavbar: boolean = false;\r\n  loadingEntregas: boolean = false;\r\n  loadingFiliais = false;\r\n\r\n  filiais; /*  = [\r\n    {\r\n      \"CD_FILI\": \"18\",\r\n      \"NM_FILI\": \"Distribuição Tiete\"\r\n    },\r\n    {\r\n      \"CD_FILI\": \"6\",\r\n      \"NM_FILI\": \"Distribuição Osasco\"\r\n    },\r\n    {\r\n      \"CD_FILI\": \"79\",\r\n      \"NM_FILI\": \"Distribuição Taipas\"\r\n    },\r\n    {\r\n      \"CD_FILI\": \"77\",\r\n      \"NM_FILI\": \"Distribuição Camanducaia\"\r\n    },\r\n    {\r\n      \"CD_FILI\": \"3\",\r\n      \"NM_FILI\": \"C&D Rio das Pedras\"\r\n    },\r\n    {\r\n      \"CD_FILI\": \"72\",\r\n      \"NM_FILI\": \"C&D Praia Grande\"\r\n    },\r\n    {\r\n      \"CD_FILI\": \"46\",\r\n      \"NM_FILI\": \"C&D Cajamar\"\r\n    },\r\n    {\r\n      \"CD_FILI\": \"41\",\r\n      \"NM_FILI\": \"Distribuição Valença\"\r\n    },\r\n    {\r\n      \"CD_FILI\": \"19\",\r\n      \"NM_FILI\": \"Distribuição Volta Redonda\"\r\n    },\r\n    {\r\n      \"CD_FILI\": \"9661\",\r\n      \"NM_FILI\": \"DBA Aço Especial\"\r\n    },\r\n    {\r\n      \"CD_FILI\": \"9645\",\r\n      \"NM_FILI\": \"DBA Piracicaba\"\r\n    },\r\n    {\r\n      \"CD_FILI\": \"9636\",\r\n      \"NM_FILI\": \"DBA Praia Grande\"\r\n    },\r\n    {\r\n      \"CD_FILI\": \"9639\",\r\n      \"NM_FILI\": \"DBA Jacarei\"\r\n    }\r\n  ] */\r\n\r\n  romaneios = [];\r\n  romaneio: ILogisticaEntregaRomaneio;\r\n  //pedidos = [];\r\n  //materiais = [];\r\n\r\n  modalRef: BsModalRef;\r\n\r\n  entregas = [];\r\n\r\n  pedidosParams;\r\n\r\n  totalItems: any = [];\r\n  noResult = true;\r\n  romaneioFinalizado: number = 1;\r\n  bsConfig: Partial<BsDatepickerConfig>;\r\n  breadCrumbTree: any = [];\r\n  loadingPedidos = false;\r\n\r\n  showDetailPanel = false;\r\n  showDetailPanelSubscription: Subscription;\r\n  detailPanelTitle = 'Detalhes';\r\n  appTitle = 'Painel de Empaque';\r\n\r\n  orderBy = 'CD_ROMA';\r\n  orderType = 'DESC';\r\n\r\n  situacao = [\r\n    {\r\n      id: '1',\r\n      nome: 'Activo',\r\n    },\r\n    {\r\n      id: '0',\r\n      nome: 'Llamado fuera',\r\n    },\r\n  ];\r\n\r\n  situacaoCarregamento = [\r\n    {\r\n      id: '0',\r\n      nome: 'EN CARGA',\r\n    },\r\n    {\r\n      id: '1',\r\n      nome: 'FINALIZADO',\r\n    },\r\n  ];\r\n\r\n  inicioViagem = [\r\n    {\r\n      id: '0',\r\n      nome: 'NO EMPEZADO',\r\n    },\r\n    {\r\n      id: '1',\r\n      nome: 'COMENZÓ',\r\n    },\r\n  ];\r\n\r\n  $activatedRouteSubscription: Subscription;\r\n\r\n  /* Paginação */\r\n  itemsPerPage: number = 100;\r\n  currentPage: number = 1;\r\n  begin: number = 0;\r\n  end: number = this.itemsPerPage;\r\n  /* Paginação */\r\n\r\n  permiteAlterarStatus: boolean = false;\r\n\r\n  $subscription: Subscription;\r\n\r\n  idSubModulo: number;\r\n\r\n  tableConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: true,\r\n    isFixed: true,\r\n  };\r\n\r\n  visualizarPedidosRemovidos = false;\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private route: Router,\r\n    private localeService: BsLocaleService,\r\n    private notice: PNotifyService,\r\n    private formBuilder: FormBuilder,\r\n    private dateService: DateService,\r\n    private romaneiosService: LogisticaEntregaRomaneiosService,\r\n    private atividadesService: AtividadesService,\r\n    private perfilService: AdminPerfisService,\r\n    private detailPanelService: DetailPanelService,\r\n    private pnotify: PNotifyService,\r\n    private xlsxService: XlsxService,\r\n    private routerService: RouterService,\r\n    private modalService: BsModalService,\r\n    private filiaisService: LogisticaFiliaisService\r\n  ) {\r\n    this.localeService.use('pt-br');\r\n    this.bsConfig = Object.assign(\r\n      {},\r\n      { containerClass: 'theme-dark-blue' },\r\n      { adaptivePosition: true },\r\n      { showWeekNumbers: false }\r\n    );\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.buildForm();\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n    this.verificaPerfil();\r\n    this.setBreadCrumb();\r\n    this.onDetailPanelEmitter();\r\n    this.onActivatedRoute();\r\n    this.getFiliais();\r\n  }\r\n\r\n  getFiliais() {\r\n    this.loadingFiliais = true;\r\n    this.filiaisService.getFiliais({ status: '1' })\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingFiliais = false;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: response => {\r\n          this.filiais = response.body['data'];\r\n        },\r\n        error: () => {\r\n          this.pnotify.error();\r\n        }\r\n      })\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.showDetailPanelSubscription.unsubscribe();\r\n  }\r\n\r\n  @HostListener('window:scroll', ['$event'])\r\n  onScrollEvent() {\r\n    this.datepicker.hide();\r\n  }\r\n\r\n  setBreadCrumb() {\r\n    const params = this.activatedRoute.snapshot.params;\r\n    const submoduloId = params?.idSubModulo;\r\n\r\n    this.breadCrumbTree = [\r\n      {\r\n        descricao: 'Logistica',\r\n      },\r\n      {\r\n        descricao: 'GESTIÓN DE ENTREGAS',\r\n        routerLink: `/logistica/entrega/${submoduloId}`,\r\n      },\r\n      {\r\n        descricao: this.appTitle,\r\n      },\r\n    ];\r\n  }\r\n\r\n  buildForm() {\r\n    this.form = this.formBuilder.group({\r\n      CD_FILI: [null],\r\n      CD_MOTO: [null],\r\n      CD_PRIO: [null],\r\n      CD_ROMA: [null],\r\n      CD_STAT: [null],\r\n      DS_OBSE: [null],\r\n      DT_ATUA: [null],\r\n      DT_INCL: [null],\r\n      DT_PREV_SAID: [null],\r\n      ID_LOGI_FUSI_ROMA: [null],\r\n      INT_ID: [null],\r\n      IN_STAT: [null],\r\n      FINA_IN_STAT: [null],\r\n      IN_VIAG_INIC: [null],\r\n      KM_PREV: [null],\r\n      PLAC: [null],\r\n      VL_FRET: [null],\r\n      CD_PEDI: [null],\r\n      DS_MOTO: [null],\r\n      NR_NOTA_FISC: [null],\r\n      IN_CTE_EMIT: ['T'],\r\n      DT_INIC: [new Date()],\r\n      DT_FINA: [new Date()],\r\n      PAGI: [1],\r\n      TT_REGI_PAGI: [100],\r\n      ORDE_BY: [' CD_ROMA '],\r\n      ORDE_TYPE: [' DESC '],\r\n      TIME: new Date().getTime(),\r\n      TP_EMPR: ['DISTRIBUIDORA'],\r\n    });\r\n  }\r\n\r\n  onActivatedRoute() {\r\n    this.$activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      (response) => {\r\n        let _response = this.routerService.getBase64UrlParams(response);\r\n\r\n        if (Object.keys(_response).length > 0) {\r\n          _response['CD_FILI'] = _response?.CD_FILI\r\n            ? _response?.CD_FILI?.split(',')\r\n            : [];\r\n          this.form.patchValue(_response);\r\n          this.getRomaneios(this.getParams());\r\n        } else {\r\n          this.loading = false;\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  getRomaneios(params?) {\r\n    this.itemsPerPage = params['TT_REGI_PAGI'];\r\n    this.end = params['TT_REGI_PAGI'];\r\n\r\n    if (!this.loading) this.loaderNavbar = true;\r\n\r\n    this.romaneiosService\r\n      .getRomaneio(params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n          this.loading = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response: any) => {\r\n          if (response.status === 200) {\r\n            this.noResult = false;\r\n            this.romaneios = response.body['data'];\r\n            this.totalItems = response.body['total'];\r\n          } else if (response.status === 204) {\r\n            this.pnotify.notice('No se encontró la lista de empaque');\r\n            this.noResult = true;\r\n          }\r\n        },\r\n        (error) => {\r\n          this.pnotify.error(error.error['message']);\r\n          this.noResult = true;\r\n        }\r\n      );\r\n  }\r\n\r\n  onFieldError(field: string) {\r\n    if (this.onFieldInvalid(field)) {\r\n      return 'is-invalid';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any) {\r\n    field = this.form.get(field);\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onFieldRequired(field: string) {\r\n    let required = false;\r\n    let formControl = new FormControl();\r\n\r\n    if (this.form.controls[field].validator) {\r\n      let validationResult = this.form.controls[field].validator(formControl);\r\n      required =\r\n        validationResult !== null && validationResult.required === true;\r\n    }\r\n\r\n    if (required) {\r\n      return 'is-required';\r\n    }\r\n  }\r\n\r\n  /* Paginação */\r\n  onPageChanged(event: PageChangedEvent): void {\r\n    this.form.get('TIME').setValue(new Date().getTime());\r\n    this.form.get('PAGI').setValue(event.page);\r\n    this.route.navigate([], {\r\n      relativeTo: this.activatedRoute,\r\n      queryParams: this.routerService.setBase64UrlParams(this.getParams()),\r\n    });\r\n  }\r\n  /* Paginação */\r\n\r\n  onFinalizaRomaneio(romaneio: ILogisticaEntregaRomaneio) {\r\n    romaneio['loadingFinalizando'] = true;\r\n\r\n    const status = romaneio.FINA_IN_STAT == '1' ? '0' : '1';\r\n\r\n    let params = {\r\n      ID_LOGI_FUSI_ROMA: romaneio?.ID_LOGI_FUSI_ROMA,\r\n      IN_STAT: status,\r\n    };\r\n\r\n    this.romaneiosService\r\n      .finalizarRomnaneio(params)\r\n      .pipe(\r\n        finalize(() => {\r\n          romaneio['loadingFinalizando'] = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status !== 200) {\r\n            this.pnotify.error(\r\n              `No se pudo finalizar la lista de empaque ${romaneio?.CD_ROMA}`\r\n            );\r\n            return;\r\n          }\r\n          romaneio.DT_FINA = new Date();\r\n          romaneio.FINA_IN_STAT = status;\r\n          this.pnotify.success(\r\n            `¡El empaque ${romaneio?.CD_ROMA} se ha completado con éxito!`\r\n          );\r\n        },\r\n        (error) => {\r\n          try {\r\n            this.pnotify.error(error.error.message);\r\n          } catch (error) {\r\n            this.pnotify.error();\r\n          }\r\n        }\r\n      );\r\n    //this.postRomaneios(romaneio);\r\n  }\r\n\r\n  onInicioViagem(romaneio: ILogisticaEntregaRomaneio) {\r\n    romaneio.IN_VIAG_INIC = romaneio.IN_VIAG_INIC == '1' ? '0' : '1';\r\n    romaneio.DT_SAID = new Date();\r\n    this.postRomaneios(romaneio);\r\n  }\r\n\r\n  onFilter(): void {\r\n    this.form.get('TIME').setValue(new Date().getTime());\r\n    this.form.get('PAGI').setValue(1);\r\n    this.currentPage = 1;\r\n    this.showDetailPanel = false;\r\n    this.route.navigate([], {\r\n      relativeTo: this.activatedRoute,\r\n      queryParams: this.routerService.setBase64UrlParams(this.getParams()),\r\n    });\r\n  }\r\n\r\n  getParams() {\r\n    let _params = {};\r\n    let _obj = this.form.value;\r\n\r\n    for (let prop in _obj) {\r\n      if (_obj[prop]) {\r\n        if (_obj[prop] instanceof Date)\r\n          _params[prop] = this.dateService.convertToUrlDate(_obj[prop]);\r\n        else if (Array.isArray(_obj[prop])) {\r\n          _params[prop] = _obj[prop].join(',');\r\n        } else _params[prop] = _obj[prop];\r\n      }\r\n    }\r\n\r\n    /* if (_params['CD_FILI']) {\r\n      const current = this.filiais.filter((empresa) => empresa.CD_FILI == _params['CD_FILI'])\r\n      _params = Object.assign(_params, current[0]);\r\n    } */\r\n\r\n    return _params;\r\n  }\r\n\r\n  postRomaneios(romaneio) {\r\n    this.loaderNavbar = true;\r\n\r\n    this.romaneiosService\r\n      .postRomaneio(romaneio)\r\n      .pipe(finalize(() => (this.loaderNavbar = false)))\r\n      .subscribe(\r\n        (response: any) => {\r\n          if (response['status'] === 200) {\r\n            this.notice.success();\r\n          } else {\r\n            this.notice.error('Algunos registros no se pudieron actualizar');\r\n          }\r\n        },\r\n        (error: any) => {\r\n          this.notice.error();\r\n        }\r\n      );\r\n  }\r\n\r\n  verificaPerfil() {\r\n    const matricula = JSON.parse(localStorage.getItem('currentUser'))['info'][\r\n      'matricula'\r\n    ];\r\n    this.permiteAlterarStatus = false;\r\n    this.perfilService\r\n      .getPerfil({ sigla: 'LOGI_CONT_ACES_PAIN_ROMA', matricula: matricula })\r\n      .subscribe((response) => {\r\n        if (response.status === 200) {\r\n          this.permiteAlterarStatus = true;\r\n        }\r\n      });\r\n  }\r\n\r\n  onDetailPanelEmitter(): void {\r\n    this.showDetailPanelSubscription = this.detailPanelService.config.subscribe(\r\n      (event: any) => {\r\n        this.showDetailPanel = event.showing;\r\n        if (!event.showing)\r\n          this.romaneios.map((element) => (element.selected = false));\r\n      }\r\n    );\r\n  }\r\n\r\n  viewDetails(romaneio) {\r\n    this.romaneio = romaneio;\r\n    this.romaneios.map((element) => (element.selected = false));\r\n    this.romaneio['selected'] = true;\r\n    this.isChecked = false;\r\n\r\n    this.detailPanelService.show();\r\n    this.detailPanelService.loadedFinished(false);\r\n    this.detailPanelTitle = romaneio.CD_ROMA;\r\n    this.showDetailPanel = true;\r\n    /* this.visualizarPedidosRemovidos = false; */\r\n\r\n    this.getEntregas(romaneio);\r\n  }\r\n\r\n  getPedidos(params) {\r\n    this.pedidosAtivos = [];\r\n    this.pedidosInativos = [];\r\n\r\n    this.romaneiosService\r\n      .getPedidos(params)\r\n      .pipe(finalize(() => { }))\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status !== 200) {\r\n            this.detailPanelService.loadedFinished(true);\r\n            return;\r\n          }\r\n\r\n          const pedidos: Array<any> = response.body['data'];\r\n\r\n          this.pedidosAtivos = pedidos.filter(\r\n            (pedido) => pedido.IN_STAT == '1'\r\n          );\r\n          this.pedidosInativos = pedidos.filter(\r\n            (pedido) => pedido.IN_STAT == '0'\r\n          );\r\n\r\n          /* this.showActiveOrder = true;\r\n          this.showInactiveOrder = false; */\r\n\r\n          this.detailPanelService.loadedFinished(false);\r\n        },\r\n        (error) => {\r\n          this.detailPanelService.loadedFinished(true);\r\n        }\r\n      );\r\n  }\r\n\r\n  /* onShowActiveOrder(event: boolean){\r\n    this.showActiveOrder = event;\r\n  } */\r\n\r\n  /* onShowInactiveOrder(event: boolean){\r\n    this.showInactiveOrder = event;\r\n  } */\r\n\r\n  putRomaneio(romaneio) {\r\n    romaneio.syncFusion = true;\r\n\r\n    this.romaneiosService\r\n      .putRomaneio(romaneio)\r\n      .pipe(\r\n        finalize(() => {\r\n          romaneio.syncFusion = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          this.pnotify.success(\r\n            `¡Paquete ${romaneio.CD_ROMA} sincronizado correctamente!`\r\n          );\r\n        },\r\n        (error) => {\r\n          this.pnotify.error(\r\n            `No se pudo sincronizar la lista de empaque ${romaneio.CD_ROMA}`\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  onPrint(romaneio) {\r\n    this.romaneiosService.download(romaneio);\r\n  }\r\n\r\n  sincronizarRomaneiosFusion() {\r\n    this.loaderNavbar = true;\r\n\r\n    this.romaneiosService\r\n      .sincronizarRomaneiosFusion()\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status === 200)\r\n            this.pnotify.success(`¡Sincronizado con éxito!`);\r\n          else this.pnotify.notice(`No se encontraron pendientes.`);\r\n        },\r\n        (error) => {\r\n          this.pnotify.error(\r\n            `No se pudo sincronizar las listas de empaque con Fusion.`\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  enviarRomaneioParaFaturamento(romaneio) {\r\n    romaneio.loadingFaturamento = true;\r\n\r\n    this.romaneiosService\r\n      .enviarRomaneioParaFaturamento(romaneio)\r\n      .pipe(\r\n        finalize(() => {\r\n          romaneio.loadingFaturamento = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status !== 200) {\r\n            this.pnotify.notice(\r\n              `No se pudo enviar la lista de empaque ${romaneio.CD_ROMA} para facturación.`\r\n            );\r\n            return;\r\n          }\r\n\r\n          const usuario = JSON.parse(localStorage.getItem('currentUser'));\r\n          const nome = usuario['info']['nomeCompleto'];\r\n          const matricula = usuario['info']['matricula'];\r\n\r\n          romaneio.DS_FATU_NM_USUA = nome;\r\n          romaneio.DS_FATU_NR_MATR = matricula;\r\n          const options: any = { timeStyle: 'medium', dateStyle: 'short' };\r\n          romaneio.DS_FATU_DT_INCL = new Intl.DateTimeFormat(\r\n            'br',\r\n            options\r\n          ).format(new Date());\r\n          romaneio.FATU_IN_STAT = '1';\r\n\r\n          this.pnotify.success(\r\n            `¡Paquete ${romaneio.CD_ROMA} enviado correctamente para facturación.`\r\n          );\r\n        },\r\n        (error) => {\r\n          const message = error?.error?.message;\r\n\r\n          if (message) {\r\n            this.pnotify.error(`${romaneio.CD_ROMA}: ${message}`);\r\n            return;\r\n          }\r\n\r\n          this.pnotify.error(\r\n            `No se pudo enviar el paquete ${romaneio.CD_ROMA} para la facturación.`\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  getEntregasSomenteFaturamento(romaneio) {\r\n    romaneio.IN_FATU = (+this.isChecked).toString();\r\n    this.getEntregas(romaneio);\r\n  }\r\n\r\n  getEntregas(romaneio) {\r\n    this.loadingEntregas = true;\r\n\r\n    const params = {\r\n      CD_ROMA: romaneio?.CD_ROMA,\r\n      IN_FATU: romaneio?.IN_FATU ? romaneio?.IN_FATU : '',\r\n    };\r\n\r\n    this.romaneiosService\r\n      .getEntregas(params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingEntregas = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status !== 200) {\r\n            this.entregas = [];\r\n            return;\r\n          }\r\n\r\n          this.entregas = response.body['data'];\r\n          romaneio.entregas = this.entregas;\r\n        },\r\n        (error) => {\r\n          this.entregas = [];\r\n        }\r\n      );\r\n  }\r\n\r\n  openModal(template: TemplateRef<any>) {\r\n    this.modalRef = this.modalService.show(template, {\r\n      animated: false,\r\n      class: 'modal-xxl',\r\n      backdrop: 'static',\r\n    });\r\n  }\r\n\r\n  onCorFaturamento(romaneio: ILogisticaEntregaRomaneio): string {\r\n    if (romaneio.FINA_IN_STAT == '0') return 'text-muted';\r\n\r\n    if (romaneio.FATU_IN_STAT == '0') return 'text-warning';\r\n\r\n    return 'text-success';\r\n  }\r\n\r\n  onInEnviarFaturamento(romaneio): boolean {\r\n    return (\r\n      romaneio.FATU_IN_STAT == 1 ||\r\n      romaneio.FINA_IN_STAT == 0 ||\r\n      !this.permiteAlterarStatus\r\n    );\r\n  }\r\n\r\n  getDadosRelatorio() {\r\n    this.loaderNavbar = true;\r\n\r\n    const params = this.getParams();\r\n\r\n    this.romaneiosService\r\n      .getRelatorios(params)\r\n      .pipe(finalize(() => (this.loaderNavbar = false)))\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status !== 200) {\r\n            this.pnotify.notice('No se encontraron registros.');\r\n            return;\r\n          }\r\n\r\n          this.xlsxService.export({ data: response.body['data'] });\r\n        },\r\n        (error) => {\r\n          const message = error?.error?.message;\r\n          message ? this.pnotify.error(message) : this.pnotify.error();\r\n        }\r\n      );\r\n  }\r\n\r\n  onPodeFinalizarRomaneio(romaneio): boolean {\r\n    if (romaneio?.IN_STAT == 0) return false;\r\n\r\n    return this.permiteAlterarStatus;\r\n  }\r\n\r\n  setOrderBy(column: string): void {\r\n    if (this.orderBy === column) {\r\n      if (this.orderType == 'DESC') {\r\n        this.orderType = 'ASC';\r\n      } else if (this.orderType == 'ASC') {\r\n        this.orderType = 'DESC';\r\n      }\r\n    } else {\r\n      this.orderBy = column;\r\n      this.orderType = 'ASC';\r\n    }\r\n\r\n    this.form.get('ORDE_BY').setValue(this.orderBy);\r\n    this.form.get('ORDE_TYPE').setValue(this.orderType);\r\n\r\n    this.onFilter();\r\n  }\r\n}\r\n","import { Routes, RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { LogisticaEntregaRomaneiosListaComponent } from './lista/lista.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LogisticaEntregaRomaneiosListaComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\nimports: [RouterModule.forChild(routes)],\r\nexports: [RouterModule]\r\n})\r\n\r\nexport class LogisticaEntregaRomaneiosRoutingModule { }\r\n  ","export default \".custom-switch .custom-control-label::after {\\n  background-color: #fff;\\n}\\n\\n.custom-control-input:checked ~ .custom-control-label::before {\\n  color: #fff;\\n  border-color: #28a745;\\n  background-color: #28a745;\\n}\\n\\nbutton:disabled {\\n  cursor: no-drop;\\n  color: #b9bdb9 !important;\\n}\\n\\nbutton {\\n  border: none;\\n  background-color: transparent;\\n}\\n\\n::ng-deep .tooltip-inner {\\n  max-width: 700px !important;\\n}\\n\\ntr {\\n  line-height: 1.5rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9sb2dpc3RpY2EvZW50cmVnYS9yb21hbmVpb3MvbGlzdGEvbGlzdGEuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxzQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLHFCQUFBO0VBQ0EseUJBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSx5QkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtFQUNBLDZCQUFBO0FBQ0Y7O0FBRUE7RUFDRSwyQkFBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7QUFDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbG9naXN0aWNhL2VudHJlZ2Evcm9tYW5laW9zL2xpc3RhL2xpc3RhLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmN1c3RvbS1zd2l0Y2ggLmN1c3RvbS1jb250cm9sLWxhYmVsOjphZnRlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxufVxyXG5cclxuLmN1c3RvbS1jb250cm9sLWlucHV0OmNoZWNrZWQgfiAuY3VzdG9tLWNvbnRyb2wtbGFiZWw6OmJlZm9yZSB7XHJcbiAgY29sb3I6ICNmZmY7XHJcbiAgYm9yZGVyLWNvbG9yOiAjMjhhNzQ1O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMyOGE3NDU7XHJcbn1cclxuXHJcbmJ1dHRvbjpkaXNhYmxlZCB7XHJcbiAgY3Vyc29yOiBuby1kcm9wO1xyXG4gIGNvbG9yOiAjYjliZGI5ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbmJ1dHRvbiB7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAgLnRvb2x0aXAtaW5uZXJ7XHJcbiAgbWF4LXdpZHRoOiA3MDBweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG50cntcclxuICBsaW5lLWhlaWdodDogMS41cmVtO1xyXG59Il19 */\";","import { Component, OnInit, TemplateRef, ViewChild, OnDestroy } from '@angular/core';\r\n\r\nimport { finalize } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { PdfService } from 'src/app/shared/services/core/pdf.service';\r\nimport { XlsxService } from 'src/app/shared/services/core/xlsx.service';\r\nimport { LogisticaEntregaRomaneiosService } from '../../services/romaneios.service';\r\n/* import { LogisticaEntregaRelatoriosService } from '../../services/relatorios.service'; */\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\n\r\nimport { ILogisticaEntregaRomaneio } from './../../models/romaneio';\r\n\r\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap';\r\n\r\n@Component({\r\n  selector: 'logistica-entrega-romaneios-capa-romaneio',\r\n  templateUrl: './capa-romaneio.component.html',\r\n  styleUrls: ['./capa-romaneio.component.scss']\r\n})\r\nexport class LogisticaEntregaRomaneiosCapaRomaneioComponent implements OnInit, OnDestroy {\r\n\r\n  @ViewChild('template', { static: false }) template: TemplateRef<any>;\r\n\r\n  romaneio: ILogisticaEntregaRomaneio;\r\n  pedidos: Array<any> = [];\r\n  materiais: Array<any> = [];\r\n\r\n  loadingPedidos: boolean = true;\r\n\r\n  $subscription: Subscription;\r\n\r\n  modalRef: BsModalRef;\r\n\r\n  constructor(\r\n    private romaneiosService: LogisticaEntregaRomaneiosService,\r\n    /* private relatoriosService: LogisticaEntregaRelatoriosService, */\r\n    private pnotify: PNotifyService,\r\n    private xlsxService: XlsxService,\r\n    private modalService: BsModalService,\r\n    private pdfService: PdfService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getLogos();\r\n    this.onSubscriptions();\r\n  }\r\n\r\n  ngOnDestroy(){\r\n    this.$subscription?.unsubscribe();\r\n    if(this.modalRef !== undefined)\r\n      this.modalRef.hide();\r\n  }\r\n\r\n  openModal(template: TemplateRef<any>) {\r\n    this.modalRef = this.modalService.show(template, {\r\n      animated: false,\r\n      class: 'modal-xxl',\r\n      backdrop: 'static'\r\n    });\r\n  }\r\n\r\n  onSubscriptions(){\r\n    this.$subscription = this.romaneiosService\r\n      .onDownloadEmmiter()\r\n      .subscribe(\r\n        (romaneio: ILogisticaEntregaRomaneio) => {\r\n          this.romaneio = romaneio;\r\n\r\n          let params = {\r\n            CD_ROMA: romaneio.CD_ROMA,\r\n            CD_FILI: romaneio.CD_FILI,\r\n            ROMA_PEDI_IN_STAT: 1,\r\n            TP_PEDI: 'FATURAMENTO',\r\n            ORDE_BY: ' ENTR_NR_SQNC ',\r\n            ORDE_TYPE: ' ASC '\r\n          }\r\n\r\n          this.pedidos = [];\r\n\r\n          this.getPedidos(params);\r\n          this.openModal(this.template)\r\n        }\r\n      )\r\n  }\r\n\r\n  onDownload(){\r\n    const txt = document.querySelector('textarea');\r\n\r\n    if(!txt?.value)\r\n      txt?.classList.add('d-none');\r\n\r\n    this.pdfService.download('capaRomaneio', this.getNomeDownload());\r\n\r\n    txt?.classList.remove('d-none');\r\n  }\r\n\r\n  getNomeDownload(){\r\n    const d = (new Date());\r\n    const timestamp = `${d.getFullYear()}_${d.getMonth()}_${d.getDate()}_${d.getHours()}_${d.getMinutes()}_${d.getSeconds()}`;\r\n    return `romaneio__${this.romaneio?.CD_ROMA}__${timestamp}`;\r\n  }\r\n\r\n  onPrint(){\r\n    const txt = document.querySelector('textarea');\r\n\r\n    if(!txt?.value)\r\n      txt?.classList.add('d-none');\r\n\r\n    window.print();\r\n\r\n    txt?.classList.remove('d-none');\r\n  }\r\n\r\n  getPedidos(params) {\r\n\r\n    this.loadingPedidos = true;\r\n\r\n    this.romaneiosService\r\n      .getPedidos(params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingPedidos = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n\r\n          if (response.status !== 200) {\r\n            return;\r\n          }\r\n\r\n          this.pedidos = response.body['data'];\r\n\r\n          this.pedidos.map(pedido => this.getMateriais(pedido));\r\n\r\n        },\r\n        (error) => {\r\n        }\r\n      )\r\n  }\r\n\r\n  getMateriais(pedido){\r\n\r\n    if(pedido.hasOwnProperty(\"MATE\"))\r\n      return\r\n\r\n    pedido.materialLoading = true;\r\n\r\n    const _params = {\r\n      \"CD_PEDI\": pedido[\"CD_PEDI\"],\r\n      \"CD_EMPR\": pedido[\"CD_EMPR\"],\r\n    }\r\n\r\n    this.romaneiosService\r\n      .getMateriais(_params)\r\n      .pipe(\r\n        finalize(() => {\r\n          pedido.materialLoading = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status !== 200) {\r\n            return;\r\n          }\r\n          pedido[\"MATE\"] = response.body['data'];\r\n        },\r\n        (error) => {\r\n\r\n        }\r\n      )\r\n  }\r\n\r\n  getLogos() : Array<string>{\r\n\r\n    return [\r\n      \"/assets/images/logo/clientes/monterrey_mtcorp_com_br_colorido.png\",\r\n      //\"/assets/images/logo/clientes/logo_steellog_fundo_transparente.png\"\r\n    ];\r\n\r\n  }\r\n\r\n  onExcel(){\r\n\r\n    const params = {\r\n      \"CD_ROMA\": this.romaneio[\"CD_ROMA\"]\r\n    }\r\n\r\n    this.pnotify.success('Seu relatório será gerado em instantes.');\r\n\r\n    this.romaneiosService\r\n      .getRelatorios(params)\r\n      .pipe(\r\n        finalize(() => {\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status !== 200) {\r\n            return;\r\n          }\r\n\r\n          this.xlsxService.export({ \"data\": response.body['data'], \"filename\": this.getNomeDownload()})\r\n        },\r\n        (error) => {\r\n\r\n        }\r\n      )\r\n  }\r\n\r\n}\r\n","export default \"<div\\r\\n  class=\\\"px-2 py-1 mb-4 border rounded shadow-sm\\\"\\r\\n  style=\\\"background-color: #CCCCCC10;\\\"\\r\\n  [ngClass]=\\\"{'border-danger text-muted': entrega?.IN_STAT == 0}\\\"\\r\\n  >\\r\\n  <!-- \\r\\n  *ngIf=\\\"(entrega.IN_STAT_ROMA_PEDI_FATU == 1 && inSomenteEntregaFaturamento) || !inSomenteEntregaFaturamento\\\" -->\\r\\n  <div>\\r\\n    <div class=\\\"mb-1 d-flex align-items-center\\\">\\r\\n      <div\\r\\n        class=\\\"d-flex justify-content-center align-items-center rounded-circle mr-2\\\"\\r\\n        style=\\\"width: 2rem; height: 2rem; font-size: 1.5rem;\\\"\\r\\n      >\\r\\n        <span>{{ entrega?.ENTR_NR_SQNC }}</span>\\r\\n      </div>\\r\\n      <div class=\\\"w-100\\\">\\r\\n        <div class=\\\"d-flex justify-content-between\\\">\\r\\n          <div>\\r\\n            <div class=\\\"mb-1 d-flex justify-content-between\\\">\\r\\n              <span class=\\\"d-block text-uppercase font-weight-bolder\\\" *ngIf=\\\"entrega?.CD_CLIE\\\">({{ entrega?.CD_CLIE }}) &nbsp; {{ entrega?.NM_CLIE }}</span>\\r\\n            </div>\\r\\n            <div class=\\\"d-block text-uppercase\\\">\\r\\n              <span *ngIf=\\\"entrega?.DS_LOCA_ENTR\\\">{{ entrega?.DS_LOCA_ENTR }}</span> \\r\\n              <span *ngIf=\\\"entrega?.DS_BAIRR\\\">, {{ entrega?.DS_BAIR }}</span>\\r\\n              <span *ngIf=\\\"entrega?.DS_CIDA\\\">, {{ entrega?.DS_CIDA }}</span>\\r\\n              <span *ngIf=\\\"entrega?.DS_ESTA\\\">-{{ entrega.DS_ESTA }}</span>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div>\\r\\n            <!-- <i\\r\\n              class=\\\"fas fa-file-invoice-dollar ml-2\\\"\\r\\n              [tooltip]=\\\"notificacoes.entrega.faturamento.tooltips[entrega?.IN_STAT_ROMA_PEDI_FATU]\\\"\\r\\n              container=\\\"body\\\"\\r\\n              placement=\\\"left\\\"\\r\\n              [ngClass]=\\\"notificacoes.entrega.faturamento.cor[entrega?.IN_STAT_ROMA_PEDI_FATU]\\\"\\r\\n              style=\\\"font-size: 1rem;\\\"\\r\\n            ></i> -->\\r\\n            <i\\r\\n              class=\\\"fas fa-receipt ml-2\\\"\\r\\n              [tooltip]=\\\"notificacoes.entrega.cte.tooltips[entrega?.CTRC_IN_STAT]\\\"\\r\\n              container=\\\"body\\\"\\r\\n              placement=\\\"left\\\"\\r\\n              [ngClass]=\\\"notificacoes.entrega.cte.cor[entrega?.CTRC_IN_STAT]\\\"\\r\\n              style=\\\"font-size: 1rem;\\\"\\r\\n            ></i>\\r\\n            <i\\r\\n              class=\\\"fas fa-truck-moving ml-2\\\"\\r\\n              [tooltip]=\\\"notificacoes.entrega.entrega.tooltips[entrega?.IN_ENTR]\\\"\\r\\n              container=\\\"body\\\"\\r\\n              placement=\\\"left\\\"\\r\\n              [ngClass]=\\\"notificacoes.entrega.entrega.cor[entrega?.IN_ENTR]\\\"\\r\\n              style=\\\"font-size: 1rem;\\\"  \\r\\n            ></i>\\r\\n            <i\\r\\n              class=\\\"fas fa-power-off ml-2\\\"\\r\\n              [tooltip]=\\\"notificacoes.entrega.situacao.tooltips[entrega?.IN_STAT]\\\"\\r\\n              container=\\\"body\\\"\\r\\n              placement=\\\"left\\\"\\r\\n              [ngClass]=\\\"notificacoes.entrega.situacao.cor[entrega?.IN_STAT]\\\"\\r\\n              style=\\\"font-size: 1rem;\\\"  \\r\\n            ></i>\\r\\n            <btn-arrow (onStatus)=\\\"onToggleArrow($event, 'entrega')\\\" ></btn-arrow>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"d-flex justify-content-between mt-1\\\">\\r\\n          <div class=\\\"col-3 p-0\\\">\\r\\n            <div class=\\\"border-bottom rounded py-1 mr-1 d-flex flex-column align-items-center\\\">\\r\\n              <div class=\\\"font-weight-bolder\\\">{{ entrega?.ENTR_VL_FRET || 0 | currency:'Bs'}}</div>\\r\\n              <div>Flete Estimado</div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"col-3 p-0\\\">\\r\\n            <div class=\\\"border-bottom rounded py-1 mr-1 d-flex flex-column align-items-center\\\">\\r\\n              <div class=\\\"font-weight-bolder\\\">{{ entrega?.CTRC_VL_LIQD || 0 | currency:'Bs'}}</div>\\r\\n              <div>Flete Sin Impuesto</div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"col-3 p-0\\\">\\r\\n            <div class=\\\"border-bottom rounded py-1 mr-1 d-flex flex-column align-items-center\\\">\\r\\n              <div class=\\\"font-weight-bolder\\\">{{ entrega?.CTRC_VL_BRUT || 0 | currency:'Bs'}}</div>\\r\\n              <div>Flete Con Impuesto</div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"arrow?.entrega\\\">\\r\\n      <!-- <hr>\\r\\n      <div>\\r\\n        <div style=\\\"height: 1.5rem;\\\" class=\\\"d-flex justify-content-between\\\">\\r\\n          <span class=\\\"float-left\\\" style=\\\"font-size: 11px; font-weight: 700;\\\">CTE' s</span>\\r\\n          <btn-arrow (onStatus)=\\\"onToggleArrow($event, 'ctes')\\\" (click)=\\\"getCtes()\\\"></btn-arrow>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"arrow?.ctes\\\">\\r\\n          <div \\r\\n            class=\\\"spinner-border text-primary\\\"\\r\\n            role=\\\"status\\\"\\r\\n            *ngIf=\\\"loadingCtes\\\"  \\r\\n          >\\r\\n            <span class=\\\"sr-only\\\">Loading...</span>\\r\\n          </div>\\r\\n          <custom-table *ngIf=\\\"ctes?.length > 0 && !loadingCtes\\\">\\r\\n            <ng-template let-thead #thead>\\r\\n              <tr>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-left\\\">CTE</th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">Data de emissão</th>\\r\\n                <th scope=\\\"col\\\">Chave de acesso</th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">Valor</th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">Tipo</th>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n            <ng-template let-tbody #tbody>\\r\\n              <tr *ngFor=\\\"let cte of ctes\\\">\\r\\n                <td class=\\\"text-left\\\">{{cte?.NR_CTRC }}</td>\\r\\n                <td class=\\\"text-center\\\">{{ cte?.DT_EMIS  | date: 'dd/MM/yyyy HH:mm' }}</td>\\r\\n                <td>{{ cte?.DS_CTRC_CHAV_ACES }}</td>\\r\\n                <td class=\\\"text-center\\\">\\r\\n                  <span *ngIf=\\\"cte?.VL_BRUT\\\">{{ cte?.VL_BRUT | currency:'Bs'}}</span>\\r\\n                  <span *ngIf=\\\"!cte?.VL_BRUT\\\">-</span>\\r\\n                </td>\\r\\n                <td class=\\\"text-center\\\">{{ cte?.DS_TP_CTRC }}</td>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n          </custom-table>\\r\\n          <div *ngIf=\\\"ctes?.length == 0 && !loadingCtes\\\">\\r\\n            <empty-result message=\\\"No se encontró información\\\"></empty-result>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div> -->\\r\\n      <hr>\\r\\n      <div style=\\\"height: 1.5rem;\\\" class=\\\"d-flex justify-content-between\\\">\\r\\n        <span class=\\\"float-left\\\" style=\\\"font-size: 11px; font-weight: 700;\\\">ORDEN DE VIENDA</span>\\r\\n        <btn-arrow (onStatus)=\\\"onToggleArrow($event, 'pedidos')\\\" (click)=\\\"getPedidos()\\\" ></btn-arrow>\\r\\n      </div>\\r\\n      <div \\r\\n        class=\\\"spinner-border text-primary\\\"\\r\\n        role=\\\"status\\\"\\r\\n        *ngIf=\\\"loadingPedidos\\\"  \\r\\n      >\\r\\n        <span class=\\\"sr-only\\\">Loading...</span>\\r\\n      </div>\\r\\n      <div *ngIf=\\\"arrow?.pedidos && !loadingPedidos\\\">\\r\\n        <div *ngFor=\\\"let pedido of pedidos; let index = index\\\" class=\\\"bg-white\\\">\\r\\n          <div\\r\\n            [class]=\\\"'shadow-sm border rounded p-2 mb-2 d-flex ' + 'pedido__' + index\\\"\\r\\n            [ngClass]=\\\"{'border-danger text-muted': pedido.ROMA_PEDI_IN_STAT == 0}\\\"\\r\\n            >\\r\\n            <!-- \\r\\n            *ngIf=\\\"(item.IN_STAT_ROMA_PEDI_FATU == 1 && inSomenteEntregaFaturamento) || !inSomenteEntregaFaturamento\\\" -->\\r\\n            <div class=\\\"col p-0\\\">\\r\\n              <custom-table>\\r\\n                <ng-template let-thead #thead>\\r\\n                  <tr>\\r\\n                    <th>ORDEN DE VIENDA</th>\\r\\n                    <th>FACTURA</th>\\r\\n                    <th>PESO</th>\\r\\n                    <th>\\r\\n                      <div class=\\\"d-flex justify-content-between\\\">\\r\\n                        <span>LLAVE DE ACCESO</span>\\r\\n                        <div>\\r\\n                          <!-- <i\\r\\n                            class=\\\"fas fa-file-invoice-dollar ml-2\\\"\\r\\n                            [tooltip]=\\\"notificacoes.pedido.faturamento.tooltips[pedido?.IN_STAT_ROMA_PEDI_FATU]\\\"\\r\\n                            container=\\\"body\\\"\\r\\n                            placement=\\\"left\\\"\\r\\n                            [ngClass]=\\\"notificacoes.pedido.faturamento.cor[pedido?.IN_STAT_ROMA_PEDI_FATU]\\\"\\r\\n                            style=\\\"font-size: 1rem;\\\"\\r\\n                          ></i> -->\\r\\n                          <i\\r\\n                            class=\\\"fas fa-receipt ml-2\\\"\\r\\n                            [tooltip]=\\\"notificacoes.pedido.cte.tooltips[pedido?.CTRC_IN_STAT]\\\"\\r\\n                            container=\\\"body\\\"\\r\\n                            placement=\\\"left\\\"\\r\\n                            [ngClass]=\\\"notificacoes.pedido.cte.cor[pedido?.CTRC_IN_STAT]\\\"\\r\\n                            style=\\\"font-size: 1rem;\\\"\\r\\n                          ></i>\\r\\n                          <i\\r\\n                            class=\\\"fas fa-truck-moving ml-2\\\"\\r\\n                            [tooltip]=\\\"notificacoes.pedido.entrega.tooltips[pedido?.IN_ENTR]\\\"\\r\\n                            container=\\\"body\\\"\\r\\n                            placement=\\\"left\\\"\\r\\n                            [ngClass]=\\\"notificacoes.pedido.entrega.cor[pedido?.IN_ENTR]\\\"\\r\\n                            style=\\\"font-size: 1rem;\\\"  \\r\\n                          ></i>\\r\\n                          <i\\r\\n                            class=\\\"fas fa-power-off ml-2\\\"\\r\\n                            [tooltip]=\\\"notificacoes.pedido.situacao.tooltips[pedido?.IN_STAT]\\\"\\r\\n                            container=\\\"body\\\"\\r\\n                            placement=\\\"left\\\"\\r\\n                            [ngClass]=\\\"notificacoes.pedido.situacao.cor[pedido?.IN_STAT]\\\"\\r\\n                            style=\\\"font-size: 1rem;\\\"  \\r\\n                          ></i>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </th>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n                <ng-template let-tbody #tbody>\\r\\n                  <tr>\\r\\n                    <td>{{ pedido.CD_PEDI }}</td>\\r\\n                    <td>{{ pedido.NOTA_FISC }}</td>\\r\\n                    <td>{{ pedido.TT_PESO | number : '0.3-3' }}</td>\\r\\n                    <td>\\r\\n                      <div class=\\\"d-flex justify-content-between\\\">\\r\\n                        <span>{{ pedido.DS_NOFI_CHAV_ACES }}</span>\\r\\n                        <button\\r\\n                          class=\\\"btn-icon-sm\\\"\\r\\n                          tooltip=\\\"copiar\\\"\\r\\n                          container=\\\"body\\\"\\r\\n                          placement=\\\"left\\\"\\r\\n                          (click)=\\\"copyToClipboard(pedido.DS_NOFI_CHAV_ACES)\\\"\\r\\n                          [disabled]=\\\"!pedido.DS_NOFI_CHAV_ACES\\\">\\r\\n                          <i class=\\\"far fa-copy\\\"></i>\\r\\n                        </button>\\r\\n                      </div>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n              </custom-table>\\r\\n              <hr>\\r\\n              <div>\\r\\n                <div style=\\\"height: 1.5rem;\\\" class=\\\"d-flex justify-content-between\\\">\\r\\n                  <span class=\\\"float-left\\\" style=\\\"font-size: 11px; font-weight: 700;\\\">PRODUCTOS</span>\\r\\n                  <btn-arrow (onStatus)=\\\"onToggleArrow($event, 'materiais')\\\" (click)=\\\"getMateriais(pedido)\\\" ></btn-arrow>\\r\\n                </div>\\r\\n                <div \\r\\n                  class=\\\"spinner-border text-primary\\\"\\r\\n                  role=\\\"status\\\"\\r\\n                  *ngIf=\\\"pedido?.loadingMateriais\\\"  \\r\\n                >\\r\\n                  <span class=\\\"sr-only\\\">Loading...</span>\\r\\n                </div>\\r\\n                <div *ngIf=\\\"pedido?.materiais && !pedido?.loadingMateriais\\\">\\r\\n                  <custom-table *ngIf=\\\"pedido?.materiais?.length != 0 && !pedido?.loadingMateriais\\\">\\r\\n                    <ng-template let-thead #thead>\\r\\n                      <tr>\\r\\n                        <th class=\\\"text-center\\\">#</th>\\r\\n                        <th class=\\\"text-center\\\">CODIGO</th>\\r\\n                        <th>DESCRIPCIÓN</th>\\r\\n                        <th class=\\\"text-center\\\">UNIDAD</th>\\r\\n                        <th class=\\\"text-center\\\">MONTO</th>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                    <ng-template let-tbody #tbody>\\r\\n                      <tr *ngFor=\\\"let material of pedido?.materiais\\\">\\r\\n                        <td class=\\\"text-center\\\">{{ material?.NR_SQNC }}</td>\\r\\n                        <td class=\\\"text-center\\\">{{ material?.CD_PROD }}</td>\\r\\n                        <td>{{ material?.NM_PROD }}</td>\\r\\n                        <td class=\\\"text-center\\\">\\r\\n                          <span *ngIf=\\\"material?.DS_UNID_MEDI\\\">{{ material?.DS_UNID_MEDI }}</span>\\r\\n                          <span *ngIf=\\\"!material?.DS_UNID_MEDI\\\">-</span>\\r\\n                        </td>\\r\\n                        <td class=\\\"text-center\\\">{{ material?.TT_PROD_PESO | number: '1.3-3' }}</td>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                  </custom-table>\\r\\n                  <div *ngIf=\\\"pedido?.materiais?.length == 0 && !pedido?.loadingMateriais\\\" style=\\\"height: 5rem;\\\">\\r\\n                    <empty-result message=\\\"No se encontró información\\\"></empty-result>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"mt-1\\\">\\r\\n                <span *ngIf=\\\"pedido?.ROMA_PEDI_IN_STAT == 0\\\">** Esta orden de vienda está inactiva en esta entrega</span>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <!-- <div *ngIf=\\\"pedidos.length === 0\\\" style=\\\"height: 5rem;\\\">\\r\\n    <empty-result message=\\\"No se encontró información\\\"></empty-result>\\r\\n  </div> -->\\r\\n  <div class=\\\"mt-1\\\">\\r\\n    <span *ngIf=\\\"entrega.IN_STAT == 0\\\">** Esta entrega está inactiva en esta carga</span>\\r\\n  </div> \\r\\n</div>\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\nimport { PaginationModule, TooltipModule, TabsModule, TimepickerModule, BsDatepickerModule, ModalModule, SortableModule, AccordionModule, ProgressbarModule } from 'ngx-bootstrap';\r\n\r\nimport { NotFoundModule } from 'src/app/core/not-found/not-found.module';\r\nimport { PipesModule } from 'src/app/shared/pipes/pipes.module';\r\nimport { ModuleWrapperModule } from 'src/app/core/module-wrapper/module-wrapper.module';\r\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\r\nimport { TemplatesModule } from 'src/app/shared/templates/templates.module';\r\n\r\nimport { NgBrazil } from 'ng-brazil';\r\nimport { TextMaskModule } from 'angular2-text-mask';\r\nimport { CurrencyMaskModule } from 'ng2-currency-mask';\r\n\r\nimport { LogisticaEntregaRomaneiosRoutingModule } from './romaneios-routing.module';\r\nimport { LogisticaEntregaRomaneiosListaComponent } from './lista/lista.component';\r\nimport { LogisticaEntregaRomaneiosPedidosComponent } from './components/pedidos/pedidos.component';\r\nimport { LogisticaEntregaRomaneiosCapaRomaneioComponent } from './components/capa-romaneio/capa-romaneio.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LogisticaEntregaRomaneiosListaComponent,\r\n    LogisticaEntregaRomaneiosPedidosComponent,\r\n    LogisticaEntregaRomaneiosCapaRomaneioComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    LogisticaEntregaRomaneiosRoutingModule,\r\n    NgSelectModule,\r\n    PaginationModule.forRoot(),\r\n    TooltipModule.forRoot(),\r\n    TabsModule.forRoot(),\r\n    TimepickerModule.forRoot(),\r\n    BsDatepickerModule.forRoot(),\r\n    ModalModule.forRoot(),\r\n    SortableModule.forRoot(),\r\n    ModalModule.forRoot(),\r\n    NotFoundModule,\r\n    PipesModule,\r\n    ModuleWrapperModule,\r\n    SharedModule,\r\n    TemplatesModule,\r\n    AccordionModule.forRoot(),\r\n    ProgressbarModule.forRoot(),\r\n    NgBrazil,\r\n    TextMaskModule,\r\n    CurrencyMaskModule\r\n  ]\r\n})\r\nexport class LogisticaEntregaRomaneiosModule { }\r\n","export default \"@media print {\\n  #capaRomaneio {\\n    background-color: white;\\n    height: 100%;\\n    width: 100%;\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    margin: 0;\\n    padding: 15px;\\n    font-size: 14px;\\n    line-height: 18px;\\n  }\\n}\\ntextarea {\\n  width: 100%;\\n  margin-top: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9sb2dpc3RpY2EvZW50cmVnYS9yb21hbmVpb3MvY29tcG9uZW50cy9jYXBhLXJvbWFuZWlvL2NhcGEtcm9tYW5laW8uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSTtJQUNJLHVCQUFBO0lBQ0EsWUFBQTtJQUNBLFdBQUE7SUFDQSxlQUFBO0lBQ0EsTUFBQTtJQUNBLE9BQUE7SUFDQSxTQUFBO0lBQ0EsYUFBQTtJQUNBLGVBQUE7SUFDQSxpQkFBQTtFQUNOO0FBQ0Y7QUFFQTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtBQUFGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9sb2dpc3RpY2EvZW50cmVnYS9yb21hbmVpb3MvY29tcG9uZW50cy9jYXBhLXJvbWFuZWlvL2NhcGEtcm9tYW5laW8uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAbWVkaWEgcHJpbnQge1xyXG4gICAgI2NhcGFSb21hbmVpbyB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgbGVmdDogMDtcclxuICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgcGFkZGluZzogMTVweDtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE4cHg7XHJcbiAgICB9XHJcbn1cclxuXHJcbnRleHRhcmVhe1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG1hcmdpbi10b3A6IDE1cHg7XHJcbn0iXX0= */\";","export default \"<loader-spinner-full-screen [hidden]=\\\"!loading\\\"></loader-spinner-full-screen>\\r\\n<loader-spinner-navbar [hidden]=\\\"!loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<app-header [appTitle]=\\\"appTitle\\\">\\r\\n  <button\\r\\n    (click)=\\\"getDadosRelatorio()\\\"\\r\\n    >\\r\\n    Generar informe\\r\\n  </button>\\r\\n  <button\\r\\n    (click)=\\\"sincronizarRomaneiosFusion()\\\"\\r\\n  >\\r\\n    Sincronizar\\r\\n    <i class=\\\"fas fa-sync\\\"></i>\\r\\n  </button>\\r\\n  <button\\r\\n    (click)=\\\"onFilter()\\\"\\r\\n    [disabled]=\\\"form.status  == 'INVALID'\\\"\\r\\n    >\\r\\n    Filtrar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\">\\r\\n  <advanced-filter #scrollToFilter>\\r\\n    <form autocomplete=\\\"off\\\" [formGroup]=\\\"form\\\">\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col-3\\\">\\r\\n          <label for=\\\"dtInicial\\\"> Comienzo </label>\\r\\n          <div class=\\\"input-group\\\">\\r\\n            <div class=\\\"input-group-prepend\\\">\\r\\n              <span class=\\\"input-group-text\\\">\\r\\n                <i class=\\\"far fa-calendar-alt\\\"></i>\\r\\n              </span>\\r\\n            </div>\\r\\n            <input\\r\\n            class=\\\"form-control\\\"\\r\\n            id=\\\"inicioData\\\"\\r\\n            type=\\\"text\\\"\\r\\n            bsDatepicker\\r\\n            [bsConfig]=\\\"bsConfig\\\"\\r\\n            formControlName=\\\"DT_INIC\\\"\\r\\n            [ngClass]=\\\"onFieldError('DT_INIC') + ' ' + onFieldRequired('DT_INIC')\\\"\\r\\n            >\\r\\n          </div>\\r\\n          <invalid-form-control\\r\\n            [show]=\\\"onFieldInvalid('DT_INIC')\\\"\\r\\n            message=\\\"El inicio es obligatorio.\\\">\\r\\n          </invalid-form-control>\\r\\n        </div>\\r\\n        <div class=\\\"form-group  col-3\\\">\\r\\n          <label for=\\\"dtFinal\\\"> Final </label>\\r\\n          <div class=\\\"input-group\\\">\\r\\n            <div class=\\\"input-group-prepend\\\">\\r\\n              <span class=\\\"input-group-text\\\">\\r\\n                <i class=\\\"far fa-calendar-alt\\\"></i>\\r\\n              </span>\\r\\n            </div>\\r\\n            <input\\r\\n            class=\\\"form-control\\\"\\r\\n            id=\\\"dtFinal\\\"\\r\\n            type=\\\"text\\\"\\r\\n            bsDatepicker\\r\\n            [bsConfig]=\\\"bsConfig\\\"\\r\\n            formControlName=\\\"DT_FINA\\\"\\r\\n            [ngClass]=\\\"onFieldError('DT_FINA') + ' ' + onFieldRequired('DT_FINA')\\\"\\r\\n            >\\r\\n          </div>\\r\\n          <invalid-form-control\\r\\n            [show]=\\\"onFieldInvalid('DT_FINA')\\\"\\r\\n            message=\\\"La final es obligatoria.\\\">\\r\\n          </invalid-form-control>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-3\\\">\\r\\n          <label for=\\\"filial\\\">Subsidiaria</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"true\\\"\\r\\n            [multiple]=\\\"true\\\"\\r\\n            [loading]=\\\"loadingFiliais\\\"\\r\\n            [closeOnSelect]=\\\"false\\\"\\r\\n            [items]=\\\"filiais\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            dropdownPosition=\\\"bottom\\\"\\r\\n            labelForId=\\\"filial\\\"\\r\\n            bindLabel=\\\"nome\\\"\\r\\n            bindValue=\\\"idFilial\\\"\\r\\n            placeholder=\\\"SELECCIONE...\\\"\\r\\n            formControlName=\\\"CD_FILI\\\"\\r\\n          >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-3\\\">\\r\\n          <label for=\\\"cdRomaneio\\\"> Ruta </label>\\r\\n          <input\\r\\n            id=\\\"cdRomaneio\\\"\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            placeholder=\\\"Escribelo...\\\"\\r\\n            formControlName=\\\"CD_ROMA\\\"\\r\\n            (keyup.enter)=\\\"onFilter()\\\">\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col-3\\\">\\r\\n          <label for=\\\"placa\\\"> Placa del vehículo </label>\\r\\n          <input\\r\\n            id=\\\"placa\\\"\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            placeholder=\\\"Escribelo...\\\"\\r\\n            formControlName=\\\"PLAC\\\"\\r\\n            (keyup.enter)=\\\"onFilter()\\\"\\r\\n            >\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-3\\\">\\r\\n          <label for=\\\"motorista\\\">Conductor</label>\\r\\n          <input\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            formControlName=\\\"DS_MOTO\\\"\\r\\n            placeholder=\\\"CPF OU NOME\\\" \\r\\n            (keyup.enter)=\\\"onFilter()\\\" \\r\\n          >\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-3\\\">\\r\\n          <label for=\\\"pedido\\\">Orden de venta</label>\\r\\n          <input\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            formControlName=\\\"CD_PEDI\\\"\\r\\n            placeholder=\\\"Escribelo...\\\"  \\r\\n            (keyup.enter)=\\\"onFilter()\\\"\\r\\n          >\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-3\\\">\\r\\n          <label for=\\\"notaFiscal\\\">Factura</label>\\r\\n          <input\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            formControlName=\\\"NR_NOTA_FISC\\\"\\r\\n            placeholder=\\\"Escribelo...\\\"  \\r\\n            (keyup.enter)=\\\"onFilter()\\\"\\r\\n          >\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col-3\\\">\\r\\n          <label for=\\\"itemsPerPage\\\">Cargando</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"true\\\"\\r\\n            [items]=\\\"situacaoCarregamento\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            labelForId=\\\"situacaoCarregamento\\\"\\r\\n            bindLabel=\\\"nome\\\"\\r\\n            bindValue=\\\"id\\\"\\r\\n            (change)=\\\"onFilter()\\\"\\r\\n            formControlName=\\\"FINA_IN_STAT\\\"\\r\\n            placeholder=\\\"SELECCIONE...\\\"\\r\\n          >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-3\\\">\\r\\n          <label for=\\\"itemsPerPage\\\">Inicio del viaje</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"true\\\"\\r\\n            [items]=\\\"inicioViagem\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            labelForId=\\\"inicioViagem\\\"\\r\\n            bindLabel=\\\"nome\\\"\\r\\n            bindValue=\\\"id\\\"\\r\\n            (change)=\\\"onFilter()\\\"\\r\\n            formControlName=\\\"IN_VIAG_INIC\\\"\\r\\n            placeholder=\\\"SELECCIONE...\\\"\\r\\n          >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-3\\\">\\r\\n          <label for=\\\"situacao\\\">Situación</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"true\\\"\\r\\n            [items]=\\\"situacao\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            labelForId=\\\"situacao\\\"\\r\\n            bindLabel=\\\"nome\\\"\\r\\n            bindValue=\\\"id\\\"\\r\\n            (change)=\\\"onFilter()\\\"\\r\\n            formControlName=\\\"IN_STAT\\\"\\r\\n            placeholder=\\\"SELECCIONE...\\\"\\r\\n          >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-3\\\">\\r\\n          <label for=\\\"itemsPerPage\\\">Registros</label>\\r\\n          <select\\r\\n           class=\\\"form-control\\\"\\r\\n            formControlName=\\\"TT_REGI_PAGI\\\"\\r\\n          >\\r\\n            <option value=\\\"10\\\">10</option>\\r\\n            <option value=\\\"25\\\">25</option>\\r\\n            <option value=\\\"50\\\">50</option>\\r\\n            <option value=\\\"100\\\">100</option>\\r\\n            <option value=\\\"250\\\">250</option>\\r\\n            <option value=\\\"500\\\">500</option>\\r\\n          </select>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </advanced-filter>\\r\\n  <div class=\\\"d-flex\\\">\\r\\n    <div [ngClass]=\\\"showDetailPanel ? 'col-4 px-0' : 'w-100'\\\">\\r\\n      <custom-table [hidden] =\\\"noResult\\\" [config]=\\\"tableConfig\\\">\\r\\n        <ng-template #thead let-thead>\\r\\n          <tr>\\r\\n            <th\\r\\n              class=\\\"text-center align-middle\\\"\\r\\n              scope=\\\"col\\\"\\r\\n              [ngStyle]=\\\"{width: showDetailPanel ? '25%' : '13%' }\\\"\\r\\n            >\\r\\n              <thead-sorter\\r\\n                value=\\\"Filial\\\"\\r\\n                [active]=\\\"orderBy == 'CD_FILI'\\\"\\r\\n                [sort]=\\\"orderType\\\"\\r\\n                (click)=\\\"setOrderBy('CD_FILI')\\\">\\r\\n              </thead-sorter>\\r\\n            </th>\\r\\n            <th\\r\\n              class=\\\"text-center align-middle\\\"\\r\\n              scope=\\\"col\\\"\\r\\n              [ngStyle]=\\\"{width: showDetailPanel ? '20%' : '08%' }\\\"\\r\\n            >\\r\\n              <thead-sorter\\r\\n                value=\\\"Ruta\\\"\\r\\n                [active]=\\\"orderBy == 'CD_ROMA'\\\"\\r\\n                [sort]=\\\"orderType\\\"\\r\\n                (click)=\\\"setOrderBy('CD_ROMA')\\\">\\r\\n              </thead-sorter>\\r\\n            </th>\\r\\n            <th\\r\\n              class=\\\"text-left align-middle\\\"\\r\\n              scope=\\\"col\\\"\\r\\n              [ngStyle]=\\\"{width: showDetailPanel ? '15%' : '06%' }\\\"\\r\\n            >\\r\\n              <thead-sorter\\r\\n                value=\\\"Placa\\\"\\r\\n                [active]=\\\"orderBy == 'PLAC'\\\"\\r\\n                [sort]=\\\"orderType\\\"\\r\\n                (click)=\\\"setOrderBy('PLAC')\\\">\\r\\n              </thead-sorter>\\r\\n            </th>\\r\\n            <th\\r\\n              class=\\\"text-left    align-middle\\\"\\r\\n              scope=\\\"col\\\"  style=\\\"width:12%\\\"\\r\\n              *ngIf=\\\"!showDetailPanel\\\"\\r\\n            >\\r\\n              <thead-sorter\\r\\n                value=\\\"Conductor\\\"\\r\\n                [active]=\\\"orderBy == 'NM_MOTO'\\\"\\r\\n                [sort]=\\\"orderType\\\"\\r\\n                (click)=\\\"setOrderBy('NM_MOTO')\\\">\\r\\n              </thead-sorter> \\r\\n            </th>\\r\\n            <th\\r\\n              class=\\\"text-center  align-middle\\\"\\r\\n              scope=\\\"col\\\"\\r\\n              style=\\\"width:05%\\\"\\r\\n              *ngIf=\\\"!showDetailPanel\\\"\\r\\n            >\\r\\n              <thead-sorter\\r\\n                value=\\\"PESO\\\"\\r\\n                [active]=\\\"orderBy == 'TT_PESO'\\\"\\r\\n                [sort]=\\\"orderType\\\"\\r\\n                (click)=\\\"setOrderBy('TT_PESO')\\\">\\r\\n              </thead-sorter>\\r\\n            </th>\\r\\n            <th\\r\\n              class=\\\"text-center  align-middle\\\"\\r\\n              scope=\\\"col\\\"\\r\\n              style=\\\"width:08%\\\"\\r\\n              *ngIf=\\\"!showDetailPanel\\\"\\r\\n              >\\r\\n              <thead-sorter\\r\\n                value=\\\"Distancia\\\"\\r\\n                [active]=\\\"orderBy == 'KM_PREV'\\\"\\r\\n                [sort]=\\\"orderType\\\"\\r\\n                (click)=\\\"setOrderBy('KM_PREV')\\\">\\r\\n              </thead-sorter>\\r\\n            </th>\\r\\n            <th\\r\\n              class=\\\"text-center  align-middle\\\"\\r\\n              scope=\\\"col\\\"\\r\\n              style=\\\"width:10%\\\"\\r\\n              *ngIf=\\\"!showDetailPanel\\\"\\r\\n            >\\r\\n                <thead-sorter\\r\\n                value=\\\"Prev. Salida\\\"\\r\\n                [active]=\\\"orderBy == 'DT_PREV_SAID'\\\"\\r\\n                [sort]=\\\"orderType\\\"\\r\\n                (click)=\\\"setOrderBy('DT_PREV_SAID')\\\">\\r\\n              </thead-sorter>\\r\\n            </th>\\r\\n            <th\\r\\n              class=\\\"text-center  align-middle\\\"\\r\\n              scope=\\\"col\\\"\\r\\n              style=\\\"width:10%\\\"\\r\\n              *ngIf=\\\"!showDetailPanel\\\"\\r\\n            >\\r\\n              <thead-sorter\\r\\n                value=\\\"Salida Real\\\"\\r\\n                [active]=\\\"orderBy == 'DT_VIAG_INIC'\\\"\\r\\n                [sort]=\\\"orderType\\\"\\r\\n                (click)=\\\"setOrderBy('DT_VIAG_INIC')\\\">\\r\\n              </thead-sorter>\\r\\n            </th>\\r\\n            <th\\r\\n            class=\\\"text-left align-middle\\\"\\r\\n            scope=\\\"col\\\"\\r\\n            style=\\\"width:12%\\\"\\r\\n            *ngIf=\\\"!showDetailPanel\\\"\\r\\n            >\\r\\n              Fin de carga\\r\\n            </th>\\r\\n            <th\\r\\n              class=\\\"text-center align-middle\\\"\\r\\n              scope=\\\"col\\\"\\r\\n            >\\r\\n            </th>\\r\\n            <th\\r\\n              class=\\\"text-center align-middle\\\"\\r\\n              scope=\\\"col\\\"\\r\\n            >\\r\\n            </th>\\r\\n            <th\\r\\n              class=\\\"text-center align-middle\\\"\\r\\n              scope=\\\"col\\\"\\r\\n            >\\r\\n            </th>\\r\\n            <th\\r\\n              class=\\\"text-center align-middle\\\"\\r\\n              scope=\\\"col\\\"\\r\\n            >\\r\\n            </th>\\r\\n            <th\\r\\n              class=\\\"text-center  align-middle\\\"\\r\\n              scope=\\\"col\\\"\\r\\n            >\\r\\n            </th>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n        <ng-template #tbody let-tbody>\\r\\n          <tr *ngFor=\\\"let romaneio of romaneios; let i = index\\\" [ngClass]=\\\"{'table-active': romaneio.selected == true}\\\">\\r\\n            <td class=\\\"text-left align-middle text-truncate\\\"  [ngClass]=\\\"romaneio.IN_STAT == 1 ? 'border-success' : 'border-danger'\\\">({{romaneio.CD_FILI}})&nbsp; {{ romaneio.NM_FILI }}</td>\\r\\n            <td class=\\\"text-center align-middle\\\">{{ romaneio.CD_ROMA }}</td>\\r\\n            <td class=\\\"text-left align-middle\\\">\\r\\n              <span>{{ romaneio.PLAC | hifen}}</span>\\r\\n            </td>\\r\\n            <td class=\\\"text-left align-middle text-truncate\\\" *ngIf=\\\"!showDetailPanel\\\">\\r\\n              <span>{{ romaneio?.NM_MOTO | hifen}}</span>\\r\\n            </td>\\r\\n            <td class=\\\"text-center align-middle\\\" *ngIf=\\\"!showDetailPanel\\\">\\r\\n              <span >{{ romaneio?.TT_PESO | number:'0.3-3' | hifen}}</span>  \\r\\n            </td>\\r\\n            <td class=\\\"text-center align-middle\\\" *ngIf=\\\"!showDetailPanel\\\">\\r\\n              <span>{{ romaneio?.KM_PREV  | number: '0.0-0' | hifen}}</span>\\r\\n            </td>\\r\\n            <td class=\\\"text-center align-middle\\\" *ngIf=\\\"!showDetailPanel\\\">{{ romaneio?.DT_PREV_SAID | date: 'dd/MM/yyyy HH:mm' }}</td>\\r\\n            <td class=\\\"text-center align-middle\\\" *ngIf=\\\"!showDetailPanel\\\">{{ romaneio?.DT_VIAG_INIC | date: 'dd/MM/yyyy HH:mm' | hifen }}</td>\\r\\n            <td class=\\\"text-left\\\" *ngIf=\\\"!showDetailPanel\\\">\\r\\n              <div *ngIf=\\\"!romaneio?.loadingFinalizando\\\">\\r\\n                <button\\r\\n                  (click)=\\\"onFinalizaRomaneio(romaneio);\\\"\\r\\n                  [disabled]=\\\"!onPodeFinalizarRomaneio(romaneio)\\\"\\r\\n                  style=\\\"font-size: 1.25em;\\\"  \\r\\n                >\\r\\n                  <i *ngIf=\\\"romaneio.FINA_IN_STAT == 0\\\" class=\\\"fas fa-toggle-off\\\"></i>\\r\\n                  <i *ngIf=\\\"romaneio.FINA_IN_STAT == 1\\\" class=\\\"fas fa-toggle-on text-success\\\"></i>\\r\\n                </button>\\r\\n                <span *ngIf=\\\"!showDetailPanel\\\">{{ romaneio.DT_FINA | date: 'dd/MM/yyyy HH:mm' }}</span>\\r\\n              </div>\\r\\n              <div *ngIf=\\\"romaneio?.loadingFinalizando\\\" class=\\\"font-weight-bold text-muted\\\">Finalizando...</div>\\r\\n            </td>\\r\\n            <td class=\\\"font-weight-bold text-center\\\">\\r\\n              <span\\r\\n                [tooltip]=\\\"romaneio.TT_PEDI_ENTR + ' pedidos entregados de ' + romaneio.TT_PEDI\\\"\\r\\n                container=\\\"body\\\"\\r\\n                placement=\\\"left\\\"  \\r\\n              >\\r\\n                {{ romaneio.TT_PEDI_ENTR }}/{{ romaneio.TT_PEDI }}\\r\\n              </span>\\r\\n            </td>\\r\\n            <td class=\\\"text-right align-middle\\\">\\r\\n              <button\\r\\n                tooltip=\\\"Sincronizar con Fusion\\\"\\r\\n                placement=\\\"left\\\"\\r\\n                container=\\\"body\\\"\\r\\n                (click)=\\\"putRomaneio(romaneio)\\\"\\r\\n              >\\r\\n                <i class=\\\"fas fa-sync\\\" *ngIf=\\\"!romaneio.syncFusion\\\"></i>\\r\\n                <div\\r\\n                  class=\\\"spinner-border spinner-border-sm text-primary\\\"\\r\\n                  role=\\\"status\\\"\\r\\n                  *ngIf=\\\"romaneio.syncFusion\\\"\\r\\n                >\\r\\n                  <span class=\\\"sr-only\\\">Loading...</span>\\r\\n                </div>\\r\\n              </button>\\r\\n            </td>\\r\\n            <td class=\\\"text-right align-middle\\\">\\r\\n              <button\\r\\n                tooltip=\\\"Generar PDF\\\"\\r\\n                placement=\\\"left\\\"\\r\\n                container=\\\"body\\\"\\r\\n                (click)=\\\"onPrint(romaneio)\\\"\\r\\n              >\\r\\n                <i class=\\\"far fa-file-pdf\\\"></i>\\r\\n              </button>\\r\\n            </td>\\r\\n            <td class=\\\"text-right align-middle\\\">\\r\\n              <span\\r\\n                [tooltip]=\\\"romaneio?.DS_FATU\\\"\\r\\n                placement=\\\"left\\\"\\r\\n                container=\\\"body\\\"\\r\\n              >\\r\\n                <button\\r\\n                  [disabled]=\\\"onInEnviarFaturamento(romaneio)\\\"\\r\\n                  *ngIf=\\\"!romaneio.loadingFaturamento\\\"\\r\\n                  (click)=\\\"enviarRomaneioParaFaturamento(romaneio)\\\"\\r\\n                >\\r\\n                  <i class=\\\"far fa-paper-plane\\\" [ngClass]=\\\"onCorFaturamento(romaneio)\\\"></i>\\r\\n                </button>\\r\\n                <div\\r\\n                  class=\\\"spinner-border spinner-border-sm text-primary\\\"\\r\\n                  role=\\\"status\\\"\\r\\n                  *ngIf=\\\"romaneio.loadingFaturamento\\\"\\r\\n                >\\r\\n                  <span class=\\\"sr-only\\\">Loading...</span>\\r\\n                </div>\\r\\n              </span>\\r\\n            </td>\\r\\n            <td class=\\\"text-right align-middle\\\">\\r\\n              <button\\r\\n                tooltip=\\\"Detalles\\\"\\r\\n                placement=\\\"left\\\"\\r\\n                container=\\\"body\\\"\\r\\n                (click)=\\\"viewDetails(romaneio)\\\"\\r\\n              >\\r\\n                <i class=\\\"fas fa-search\\\"></i>\\r\\n              </button>\\r\\n            </td>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n      </custom-table>\\r\\n      <div class=\\\"mt-3 col p-0\\\" [hidden]=\\\"noResult\\\">\\r\\n        Demostración {{ itemsPerPage*(currentPage - 1) + 1 }} a {{ currentPage*(itemsPerPage) > totalItems ? totalItems : currentPage*(itemsPerPage) }} de {{ totalItems }}\\r\\n        <pagination\\r\\n          [maxSize]=\\\"5\\\"\\r\\n          [totalItems]=\\\"totalItems\\\"\\r\\n          [(itemsPerPage)]=\\\"itemsPerPage\\\"\\r\\n          (pageChanged)=\\\"onPageChanged($event)\\\"\\r\\n          [boundaryLinks]=\\\"true\\\"\\r\\n          [(ngModel)]=\\\"currentPage\\\"\\r\\n          previousText=\\\"&lsaquo;\\\"\\r\\n          nextText=\\\"&rsaquo;\\\"\\r\\n          firstText=\\\"&laquo;\\\"\\r\\n          lastText=\\\"&raquo;\\\">\\r\\n        </pagination>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-8 pr-0\\\" [hidden]=\\\"!showDetailPanel\\\">\\r\\n      <detail-panel [panelTitle]=\\\"detailPanelTitle\\\">\\r\\n        <div>\\r\\n          <table>\\r\\n            <tbody>\\r\\n              <tr>\\r\\n                <th scope=\\\"col\\\">Conductor:</th>\\r\\n                <td>{{ romaneio?.NM_MOTO | uppercase }}</td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th scope=\\\"col\\\">Vehiculo:</th>\\r\\n                <td>{{ romaneio?.PLAC | uppercase}}</td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th scope=\\\"col\\\">Peso:</th>\\r\\n                <td>\\r\\n                  <span *ngIf=\\\"!isChecked\\\">{{romaneio?.TT_PESO | number:'0.3-3' | hifen }}</span>\\r\\n                  <span *ngIf=\\\"isChecked\\\">{{romaneio?.FATU_TT_PESO | number:'0.3-3' | hifen }}</span>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th scope=\\\"col\\\">Flete estimado:</th>\\r\\n                <td>\\r\\n                  <span *ngIf=\\\"!isChecked\\\">{{romaneio?.VL_FRET | currency:'Bs' | hifen }}</span>\\r\\n                  <span *ngIf=\\\"isChecked\\\">{{romaneio?.FATU_VL_FRET | currency:'Bs' | hifen }}</span>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th scope=\\\"col\\\">Flete (sin impuestos):</th>\\r\\n                <td>\\r\\n                  <span>{{romaneio?.CTRC_VL_LIQD | currency:'Bs' | hifen }}</span>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th scope=\\\"col\\\">Flete (con impuestos):</th>\\r\\n                <td>\\r\\n                  <span>{{romaneio?.CTRC_VL_BRUT | currency:'Bs' | hifen }}</span>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th>Distancia (KM):</th>\\r\\n                <td>\\r\\n                  <span *ngIf=\\\"!isChecked\\\">{{romaneio?.KM_PREV | number: '0.0-0' | hifen}}</span>\\r\\n                  <span *ngIf=\\\"isChecked\\\">{{romaneio?.FATU_KM_PREV | number: '0.0-0' | hifen}}</span>\\r\\n                </td>\\r\\n              </tr>\\r\\n            </tbody>\\r\\n          </table>\\r\\n        </div>\\r\\n        <div>\\r\\n          <hr>\\r\\n          <div class=\\\"custom-control custom-checkbox mb-2\\\">\\r\\n            <input\\r\\n              type=\\\"checkbox\\\"\\r\\n              class=\\\"custom-control-input\\\"\\r\\n              id=\\\"customCheck\\\"\\r\\n              name=\\\"example1\\\"\\r\\n              [(ngModel)]=\\\"isChecked\\\" \\r\\n              (change)=\\\"getEntregasSomenteFaturamento(romaneio)\\\"\\r\\n            >\\r\\n            <label class=\\\"custom-control-label\\\" for=\\\"customCheck\\\">Facturación solo entregas</label>\\r\\n          </div>\\r\\n          <div>\\r\\n            <div *ngIf=\\\"loadingEntregas\\\">\\r\\n              <span>Cargando...</span>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"!loadingEntregas\\\">\\r\\n              <div *ngFor=\\\"let entrega of entregas\\\">\\r\\n                <logistica-entrega-romaneios-pedidos\\r\\n                  [entrega]=\\\"entrega\\\"\\r\\n                  >\\r\\n                </logistica-entrega-romaneios-pedidos>\\r\\n              </div>\\r\\n              <div [hidden]=\\\"loadingEntregas || (entregas.length != 0)\\\" class=\\\"text-center d-flex justify-content-center align-items-center\\\" style=\\\"height: 250px\\\">\\r\\n                <empty-result message=\\\"No se encontró información\\\"></empty-result>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </detail-panel>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div [hidden]=\\\"loading || !noResult\\\" class=\\\"text-center d-flex justify-content-center align-items-center\\\" style=\\\"height: 250px\\\">\\r\\n    <empty-result message=\\\"No se encontró información\\\"></empty-result>\\r\\n  </div>\\r\\n  <logistica-entrega-romaneios-capa-romaneio></logistica-entrega-romaneios-capa-romaneio>\\r\\n</app-body>\";","export default \"<ng-template #template>\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title pull-left\\\">{{romaneio?.CD_ROMA}}</h4>\\r\\n    <div>\\r\\n      <button\\r\\n        type=\\\"button\\\"\\r\\n        class=\\\"btn-icon-sm\\\"\\r\\n        tooltip=\\\"Exportar\\\"\\r\\n        container=\\\"body\\\"\\r\\n        (click)=\\\"onExcel()\\\"\\r\\n      >\\r\\n        <i class=\\\"far fa-file-excel\\\"></i>\\r\\n      </button>\\r\\n      <button\\r\\n        type=\\\"button\\\"\\r\\n        class=\\\"btn-icon-sm mx-3\\\"\\r\\n        tooltip=\\\"Download\\\"\\r\\n        container=\\\"body\\\"\\r\\n        (click)=\\\"onDownload()\\\"\\r\\n      >\\r\\n        <i class=\\\"far fa-save\\\"></i>\\r\\n      </button>\\r\\n      <button\\r\\n        type=\\\"button\\\"\\r\\n        class=\\\"btn-icon-sm mr-3\\\"\\r\\n        tooltip=\\\"Imprimir\\\"\\r\\n        container=\\\"body\\\"  \\r\\n        (click)=\\\"onPrint()\\\"\\r\\n      >\\r\\n        <i class=\\\"fas fa-print\\\"></i>\\r\\n      </button>\\r\\n      <button\\r\\n        type=\\\"button\\\"\\r\\n        class=\\\"btn-icon-sm\\\"\\r\\n        tooltip=\\\"Fechar\\\"\\r\\n        container=\\\"body\\\"\\r\\n        (click)=\\\"modalRef.hide()\\\"\\r\\n      >\\r\\n        <i class=\\\"fas fa-times\\\"></i>\\r\\n      </button>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <div class=\\\"p-5\\\" id=\\\"capaRomaneio\\\">\\r\\n      <div class=\\\"d-flex justify-content-between align-items-center\\\">\\r\\n        <table style=\\\"font-size: 1.25rem;\\\">\\r\\n          <tbody>\\r\\n            <tr>\\r\\n              <th>Rota:&nbsp;</th>\\r\\n              <td>{{ romaneio?.CD_ROMA }}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <th>Inicio:&nbsp;</th>\\r\\n              <td>{{ romaneio?.DT_PREV_SAID | date: 'dd/MM/yyyy HH:mm'}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <th>Chofer:&nbsp;</th>\\r\\n              <td>{{ romaneio?.NM_MOTO | hifen | uppercase }}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <th>Vehículo:&nbsp;</th>\\r\\n              <td>{{ romaneio?.PLAC | hifen | uppercase }}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <th>Peso:&nbsp;</th>\\r\\n              <td>\\r\\n                <span *ngIf=\\\"romaneio?.TT_PESO\\\">{{ romaneio?.TT_PESO | number:'0.3-3'}}&nbsp; Tons</span>\\r\\n                <span *ngIf=\\\"!romaneio?.TT_PESO\\\">-</span>\\r\\n              </td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <th>Distancia:&nbsp;</th>\\r\\n              <td>{{ romaneio?.KM_PREV | number:'0.0-0'}}KM</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <th>Destino:&nbsp;</th>\\r\\n              <td>{{ romaneio?.DS_DEST | hifen | uppercase }}</td>\\r\\n            </tr>\\r\\n          </tbody>\\r\\n        </table>\\r\\n        <div>\\r\\n          <img [src]=\\\"url\\\" alt=\\\"Logo\\\" class=\\\"mr-2\\\" height=\\\"80px\\\" *ngFor=\\\"let url of getLogos()\\\">\\r\\n        </div>\\r\\n      </div>\\r\\n      <textarea rows=\\\"1\\\"></textarea>\\r\\n      <div *ngIf=\\\"!loadingPedidos\\\">\\r\\n        <div *ngFor=\\\"let pedido of pedidos\\\">\\r\\n          <div class=\\\"mt-5 px-2 py-3 border border-dark d-flex w-100\\\">\\r\\n            <div class=\\\"mx-2 d-flex align-items-center\\\" style=\\\"font-size: 2.5rem;\\\">\\r\\n              <span>{{pedido?.ENTR_NR_SQNC}}</span>\\r\\n            </div>\\r\\n            <div class=\\\"w-100\\\">\\r\\n              <div class=\\\"d-flex\\\" style=\\\"border-bottom: 1px dashed; padding-bottom: 0.5em;\\\">\\r\\n                <div class=\\\"d-flex col-6 p-0\\\">\\r\\n                  <table>\\r\\n                    <tbody>\\r\\n                      <tr>\\r\\n                        <th>Factura:</th>\\r\\n                        <td>{{ pedido?.NOTA_FISC }}</td>\\r\\n                      </tr>\\r\\n                      <tr>\\r\\n                        <th>Orden de vienda:</th>\\r\\n                        <td>{{ pedido?.CD_PEDI }}</td>\\r\\n                      </tr>\\r\\n                      <tr>\\r\\n                        <th>Peso:</th>\\r\\n                        <td>{{ pedido?.TT_PESO | number : '0.3-3' }}&nbsp;Tons</td>\\r\\n                      </tr>\\r\\n                    </tbody>\\r\\n                  </table>\\r\\n                </div>\\r\\n                <div class=\\\"col-6 p-0 d-flex justify-content-end flex-column\\\">\\r\\n                  <span class=\\\"font-weight-bolder d-block\\\">\\r\\n                    ({{ pedido?.CD_CLIE }})&nbsp;{{ pedido?.NM_CLIE }}\\r\\n                  </span>\\r\\n                  <span>\\r\\n                    {{pedido?.DS_ENDE | uppercase}}\\r\\n                  </span>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"mt-1 d-flex justify-content-center\\\" *ngIf=\\\"!pedido.materialLoading && pedido?.MATE\\\">\\r\\n                <table width=\\\"100%\\\">\\r\\n                  <thead>\\r\\n                    <tr>\\r\\n                      <th width=\\\"10%\\\">#</th>\\r\\n                      <th width=\\\"10%\\\">Código</th>\\r\\n                      <th width=\\\"40%\\\">Descripción</th>\\r\\n                      <th width=\\\"10%\\\" class=\\\"text-center\\\">Unidade</th>\\r\\n                      <th width=\\\"10%\\\" class=\\\"text-right\\\">Monto</th>\\r\\n                      <th width=\\\"20%\\\" class=\\\"text-left pl-3\\\">Nota</th>\\r\\n                    </tr>\\r\\n                  </thead>\\r\\n                  <tbody>\\r\\n                    <tr *ngFor=\\\"let material of pedido?.MATE; let index = index;\\\">\\r\\n                      <td width=\\\"10%\\\">\\r\\n                        <span *ngIf=\\\"material?.CD_SEQU_MATE\\\">{{ material?.NR_SQNC }}</span>\\r\\n                        <span *ngIf=\\\"!material?.CD_SEQU_MATE\\\">{{ index + 1 }}</span>\\r\\n                      </td>\\r\\n                      <td width=\\\"10%\\\">{{ material?.CD_PROD }}</td>\\r\\n                      <td width=\\\"35%\\\">{{ material?.NM_PROD | uppercase }}</td>\\r\\n                      <td width=\\\"10%\\\" class=\\\"text-center\\\">{{ material?.DS_UNID_MEDI }}</td>\\r\\n                      <td width=\\\"15%\\\" class=\\\"text-right\\\">{{ material?.TT_PROD | number:'0.3-3' }}</td>\\r\\n                      <td width=\\\"20%\\\" class=\\\"text-left pl-3\\\">\\r\\n                        <span *ngIf=\\\"material?.DS_OBSE\\\">{{ material?.DS_OBSE }}</span>\\r\\n                        <span *ngIf=\\\"!material?.DS_OBSE\\\" class=\\\"d-block w-100 text-center\\\">-</span>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </tbody>\\r\\n                </table>\\r\\n              </div>\\r\\n              <div *ngIf=\\\"pedido.materialLoading\\\" class=\\\"spinner-border text-primary mt-1\\\" role=\\\"status\\\">\\r\\n                <span class=\\\"sr-only\\\">Loading...</span>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div *ngIf=\\\"loadingPedidos\\\" class=\\\"spinner-border text-primary mt-3\\\" role=\\\"status\\\">\\r\\n        <span class=\\\"sr-only\\\">Loading...</span>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</ng-template>\";","import { Component, OnInit, Input, Output, EventEmitter, SimpleChanges, OnChanges } from '@angular/core';\r\n\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\n\r\nimport { LogisticaEntregaRomaneiosService } from '../../services/romaneios.service';\r\n\r\nimport { ILogisticaEntregaRomaneio } from '../../models/romaneio';\r\n\r\n@Component({\r\n  selector: 'logistica-entrega-romaneios-pedidos',\r\n  templateUrl: './pedidos.component.html',\r\n  styleUrls: ['./pedidos.component.scss']\r\n})\r\nexport class LogisticaEntregaRomaneiosPedidosComponent implements OnInit, OnChanges {\r\n\r\n  pedidos = [];\r\n  loadingPedidos: boolean = false;\r\n\r\n  ctes = [];\r\n  loadingCtes: boolean = false;\r\n\r\n  @Input() entrega;\r\n\r\n  notificacoes = {\r\n    entrega: {\r\n      faturamento: {\r\n        tooltips:{\r\n          0: 'Entrega não marcada para faturamento de cte',\r\n          1: 'Entrega para faturamento de cte'\r\n        },\r\n        cor:{\r\n          0: 'text-warning',\r\n          1: 'text-success'\r\n        }\r\n      },\r\n      cte:{\r\n        tooltips:{\r\n          0: 'Cte\\'s não emitidos',\r\n          1: 'Cte\\'s emitidos'\r\n        },\r\n        cor:{\r\n          0: 'text-danger',\r\n          1: 'text-success'\r\n        }\r\n      },\r\n      entrega:{\r\n        tooltips:{\r\n          0: 'Entrega realizada',\r\n          1: 'Entrega não realizada'\r\n        },\r\n        cor:{\r\n          0: 'text-danger',\r\n          1: 'text-success'\r\n        }\r\n      },\r\n      situacao:{\r\n        tooltips:{\r\n          0: 'Entrega inativa',\r\n          1: 'Entrega ativa'\r\n        },\r\n        cor:{\r\n          0: 'text-danger',\r\n          1: 'text-success'\r\n        }\r\n      }\r\n    },\r\n    pedido:{\r\n      faturamento: {\r\n        tooltips:{\r\n          0: 'Nota Fiscal não marcada para faturamento de cte',\r\n          1: 'Nota Fiscal para faturamento de cte'\r\n        },\r\n        cor:{\r\n          0: 'text-warning',\r\n          1: 'text-success'\r\n        }\r\n      },\r\n      cte:{\r\n        tooltips:{\r\n          0: 'Cte\\'s não emitidos',\r\n          1: 'Cte\\'s emitidos'\r\n        },\r\n        cor:{\r\n          0: 'text-danger',\r\n          1: 'text-success'\r\n        }\r\n      },\r\n      entrega:{\r\n        tooltips:{\r\n          0: 'Entrega realizada',\r\n          1: 'Entrega não realizada'\r\n        },\r\n        cor:{\r\n          0: 'text-danger',\r\n          1: 'text-success'\r\n        }\r\n      },\r\n      situacao:{\r\n        tooltips:{\r\n          0: 'Nota Fiscal inativa',\r\n          1: 'Nota Fiscal ativa'\r\n        },\r\n        cor:{\r\n          0: 'text-danger',\r\n          1: 'text-success'\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  arrow = {\r\n    entrega: true,\r\n    pedidos: true\r\n  }\r\n\r\n  @Input() inSomenteEntregaFaturamento: boolean;\r\n\r\n  constructor(\r\n    private romaneiosService: LogisticaEntregaRomaneiosService,\r\n    private pnotifyService: PNotifyService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges){\r\n    \r\n    if(!changes?.entrega?.currentValue){\r\n      return\r\n    }\r\n\r\n    if(Object.keys(changes?.entrega?.currentValue)?.length != 0 && changes?.entrega?.firstChange){\r\n      this.getPedidos();\r\n    }\r\n  }\r\n\r\n  getMateriais(pedido){\r\n    \r\n    if(pedido?.materiais)\r\n      return\r\n\r\n    pedido.loadingMateriais = true;\r\n\r\n    const _params = {\r\n      \"CD_PEDI\": pedido?.CD_PEDI ?? '',\r\n      \"CD_EMPR\": pedido?.CD_EMPR ?? '',\r\n      \"CD_ROMA\": pedido?.CD_ROMA ?? ''\r\n    }\r\n\r\n    this.romaneiosService\r\n      .getMateriais(_params)\r\n      .pipe(\r\n        finalize(() => {\r\n          pedido.loadingMateriais = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status !== 200) {\r\n            \r\n          }\r\n\r\n          pedido.materiais = response.body['data'];\r\n        },\r\n        (error) => {\r\n          \r\n        }\r\n      )\r\n  }\r\n\r\n  getCtes(){\r\n    \r\n    if(this.ctes.length !== 0)\r\n      return;\r\n\r\n    if(this.arrow['ctes'] === false)\r\n      return\r\n\r\n    this.loadingCtes = true;\r\n\r\n    const params = {\r\n      'CD_ROMA': this.entrega?.CD_ROMA ?? '',\r\n      'CD_PEDI':this.entrega?.CD_PEDI ?? '',\r\n      'CD_CLIE': this.entrega?.CD_CLIE ?? '',\r\n      'DS_LOCA_ENTR': this.entrega?.DS_LOCA_ENTR ?? '',\r\n      'DS_CIDA': this.entrega?.DS_CIDA ?? '',\r\n      'DS_BAIR': this.entrega?.DS_BAIR ?? '',\r\n      'DS_ESTA': this.entrega?.DS_ESTA ?? ''\r\n    }\r\n\r\n    this.romaneiosService\r\n      .getCtes(params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingCtes = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status !== 200){\r\n            this.ctes = [];\r\n            return\r\n          }\r\n          \r\n          this.ctes = response.body['data'];\r\n        },\r\n        (error) => {\r\n          this.ctes = [];\r\n        }\r\n      ) \r\n  }\r\n\r\n  getPedidos() {\r\n    \r\n    if(this.pedidos.length !== 0){\r\n      return\r\n    }\r\n\r\n    this.loadingPedidos = true;\r\n\r\n    const params = {\r\n      'CD_ROMA': this.entrega?.CD_ROMA ?? '',\r\n      'CD_CLIE': this.entrega?.CD_CLIE ?? '',\r\n      'DS_LOCA_ENTR': this.entrega?.DS_LOCA_ENTR ?? '',\r\n      'DS_CIDA': this.entrega?.DS_CIDA ?? '',\r\n      'DS_BAIR': this.entrega?.DS_BAIR ?? '',\r\n      'DS_ESTA': this.entrega?.DS_ESTA ?? ''\r\n    }\r\n\r\n    this.romaneiosService\r\n      .getPedidos(params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingPedidos = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          \r\n          if (response.status !== 200) {\r\n            return;\r\n          }\r\n\r\n          const pedidos: Array<any> = response.body['data'];\r\n          this.pedidos = pedidos;\r\n          \r\n        },\r\n        (error) => {\r\n          \r\n        }\r\n      )\r\n  }\r\n\r\n  copyToClipboard(value) {\r\n    var txtArea = document.createElement(\"textarea\");\r\n    txtArea.id = 'txt';\r\n    txtArea.style.position = 'fixed';\r\n    txtArea.style.top = '0';\r\n    txtArea.style.left = '0';\r\n    txtArea.style.opacity = '0';\r\n    txtArea.value = value;\r\n    document.body.appendChild(txtArea);\r\n    txtArea.select();\r\n    document.execCommand(\"copy\");\r\n    this.pnotifyService.success(\"Copiado\");\r\n  }\r\n\r\n  onToggleArrow(status, type){\r\n    this.arrow[type] = status\r\n  }\r\n\r\n  onCorCancelado(item){\r\n    if (item.IN_STAT == 0)\r\n      return 'text-muted';\r\n\r\n    return;\r\n  }\r\n  \r\n}\r\n"]}