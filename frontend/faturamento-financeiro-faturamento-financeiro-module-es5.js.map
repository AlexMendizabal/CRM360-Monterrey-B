{"version":3,"sources":["webpack:///src/app/modules/logistica/dashboards/faturamento-financeiro/faturamento-financeiro-routing.module.ts","webpack:///src/app/modules/logistica/dashboards/faturamento-financeiro/clientes/clientes.component.html","webpack:///src/app/modules/logistica/dashboards/faturamento-financeiro/faturamento-financeiro.service.ts","webpack:///src/app/modules/logistica/dashboards/faturamento-financeiro/todos/todos.component.html","webpack:///src/app/modules/logistica/dashboards/faturamento-financeiro/clientes/clientes.component.ts","webpack:///src/app/modules/logistica/dashboards/faturamento-financeiro/novos/novos.component.ts","webpack:///src/app/modules/logistica/dashboards/faturamento-financeiro/faturamento-financeiro.component.ts","webpack:///src/app/modules/logistica/dashboards/faturamento-financeiro/faturamento-financeiro.module.ts","webpack:///src/app/modules/logistica/dashboards/faturamento-financeiro/charts.service.ts","webpack:///src/app/modules/logistica/dashboards/faturamento-financeiro/clientes/clientes.component.scss","webpack:///src/app/modules/logistica/dashboards/faturamento-financeiro/todos/todos.component.ts","webpack:///src/app/modules/logistica/dashboards/faturamento-financeiro/faturamento-financeiro.component.scss","webpack:///src/app/modules/logistica/dashboards/faturamento-financeiro/todos/todos.component.scss","webpack:///src/app/modules/logistica/dashboards/faturamento-financeiro/faturamento-financeiro.component.html","webpack:///src/app/modules/logistica/dashboards/faturamento-financeiro/novos/novos.component.html","webpack:///src/app/modules/logistica/dashboards/faturamento-financeiro/novos/novos.component.scss"],"names":["routes","path","component","LogisticaDashboadsFaturamentoFinanceiroRoutingModule","imports","forChild","exports","LogisticaDashboardFaturamentoFinanceiroService","http","API","params","get","observe","providedIn","LogisticaDashboardsFaturamentoFinanceiroClientesComponent","activatedRoute","chartsService","FaturamentoFinanceiroService","pnotify","routerService","dateService","dataSortedBar","dataFatuMensClie","dataFatuAtualClie","onActivatedRoute","$activatedRouteSubscription","unsubscribe","queryParams","subscribe","response","_params","getBase64UrlParams","modoView","NM_CLIE","disposeCharts","includes","getFaturamentoProjetos","getFaturamentoMensalCliente","getFaturamentoMesAtualCliente","loadingFatuProjClie","getProjetos","dataFormFilter","pipe","status","body","sortedBarChart","notice","error","message","loadingFatuMensClie","today","Date","year","getFullYear","month","getMonth","dataFinalAno","convertToUrlDate","getLastDayMonth","dataInicialAno","dsClient","getFaturamentoMensal","DT_INIC","DT_FINA","data","chartData","forEach","el","SG_PERI","DS_CENA","VL_FATU","Object","values","clusteredChart","loadingFatuAtualCliente","dataInicial","getFirstDayMonth","dataFinal","dsCliente","chartClientData","formFilter","selector","template","LogisticaDashboardsFaturamentoFinanceiroNovosComponent","dataFatuMensNovo","dataFatuAtualNovo","getFaturamentoMensalNovos","getFaturamentoMesAtualNovos","loadingFatuProjNovo","loadingFatuMensNovo","loadingFatuAtualNovo","chartNovoData","LogisticaDashboardsFaturamentoFinanceiroComponent","route","localeService","chartService","formBuilder","MASKS","pedidos","empresas","loadingNavBar","tableConfig","subtitleBorder","projetos","tipos","cod","nome","use","bsConfig","assign","containerClass","adaptivePosition","showWeekNumbers","buildForm","setBreadCrumb","_response","form","patchValue","group","required","DS_PROJ","TIME","getTime","cliente","setValue","disable","enable","id","snapshot","idSubModulo","breadCrumbTree","descricao","routerLink","field","onFieldInvalid","touched","formControl","controls","validator","validationResult","client","value","getUltimaAtualizacao","navigate","relativeTo","setBase64UrlParams","getParams","convertToBrazilianDate","info","loadingProjetos","_obj","prop","LogisticaDashboardsFaturamentoFinanceiroModule","declarations","forRoot","LogisticaDashboardsFaturamentoFinanceiroChartsService","chart","pieSeries","series","push","dataFields","category","slices","stroke","strokeOpacity","hiddenState","properties","opacity","endAngle","startAngle","radius","colors","step","legend","position","paddingBottom","labels","maxWidth","xAxis","xAxes","renderer","cellStartLocation","cellEndLocation","grid","location","tooltip","disabled","yAxis","yAxes","min","createSeries","name","valueY","categoryX","events","on","arrangeColumns","columnTemplate","columns","tooltipText","bullet","bullets","interactionsEnabled","dy","label","text","fill","scrollbarX","minHeight","start","getIndex","w","dataItems","length","x0","getX","x1","delta","middle","newIndex","each","isHidden","isHiding","dummyData","indexOf","visibleCount","newMiddle","trueIndex","dx","animate","property","to","interpolationDuration","interpolationEasing","bulletsContainer","padding","categoryAxis","minGridDistance","inversed","valueAxis","cellSize","ev","target","adjustHeight","pixelHeight","targetHeight","svgContainer","htmlElement","style","height","scrollbarY","categoryY","valueX","column","cornerRadiusBottomRight","cornerRadiusTopRight","labelBullet","horizontalCenter","locationX","marginTop","width","innerWidth","sortBySeries","LogisticaDashboardsFaturamentoFinanceiroTodosComponent","viewCte","noFaturamentoClientes","manetoni","arcelor","novos","vallourec","aperam","getFaturamentoClientes","getFaturamentoMesAtual","loadingPieChart","dadosPieChart","VL_CTRC","manetoniPerc","VL_PERC","arcelorPerc","vallourecPerc","aperamPerc","novosPerc","pieChart","loadingClusteredChartMensal","dadosClienteChart","lastDayMonth","getDate","IN_COMP","loadingClusteredChartCteComp","getFaturamentoCteComplementar","dadosChartComplementares","loadingClusteredChartAtual","dadosMesAtualChart","event"],"mappings":"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","file":"faturamento-financeiro-faturamento-financeiro-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport {RouterModule, Routes } from '@angular/router'\r\n\r\nimport { LogisticaDashboardsFaturamentoFinanceiroComponent } from './faturamento-financeiro.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LogisticaDashboardsFaturamentoFinanceiroComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  imports:[RouterModule.forChild(routes)],\r\n  exports:[RouterModule]\r\n})\r\nexport class LogisticaDashboadsFaturamentoFinanceiroRoutingModule{}","export default \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-9 border-right\\\">\\r\\n    <div class=\\\"row justify-content-between mt-0\\\" >\\r\\n      <div class=\\\"col pr-2 scroll-projetos\\\">\\r\\n        <div class=\\\"row justify-content-between \\\">\\r\\n          <div class=\\\"mtc-title p-0 mx-3 h-100 w-100 text-center border  \\\" style=\\\"background: lightgray;\\\">Faturamento por Projeto</div>\\r\\n          <div id=\\\"clientesProjetosSortedBarChart\\\" class=\\\"amcharts\\\" [hidden]=\\\"loadingFatuProjClie\\\" style=\\\"min-height: 370px;\\\"></div>\\r\\n          <div class=\\\"spinner-border\\\" role=\\\"status\\\" style=\\\"margin-inline: auto;\\\" *ngIf=\\\"loadingFatuProjClie\\\">\\r\\n            <span class=\\\"sr-only\\\">Loading...</span>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col p-0 pr-3 pl-2\\\" >\\r\\n    <div class=\\\"mtc-title p-0 w-100 text-center border\\\" style=\\\"background: lightgray;\\\">Mês Atual</div>\\r\\n    <div id=\\\"clusteredChartMesAtual\\\" class=\\\"amcharts\\\"  [hidden]=\\\"loadingFatuAtualCliente\\\" style=\\\"min-height: 370px\\\"></div>\\r\\n    <div class=\\\"spinner-border\\\" role=\\\"status\\\" style=\\\"margin-left: 46%;\\\" *ngIf=\\\"loadingFatuAtualCliente\\\">\\r\\n      <span class=\\\"sr-only\\\">Loading...</span>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"row justify-content-between mt-3\\\" >\\r\\n  <div class=\\\"mtc-title p-0 mx-3 h-100 w-100 text-center border\\\" style=\\\"background: lightgray;\\\">faturamento Mensal</div>\\r\\n  <div id=\\\"clusteredChartFatuMensalCliente\\\" class=\\\"amcharts p-0 mx-3\\\" [hidden]=\\\"loadingFatuMensClie\\\" style=\\\"position: relative; height: 400px\\\"></div>\\r\\n  <div class=\\\"spinner-border\\\" role=\\\"status\\\" style=\\\"margin-inline: auto;\\\" *ngIf=\\\"loadingFatuMensClie\\\">\\r\\n    <span class=\\\"sr-only\\\">Loading...</span>\\r\\n  </div>\\r\\n</div>\";","\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class LogisticaDashboardFaturamentoFinanceiroService {\r\n  private readonly API = `https://crm360.monterrey.com.bo/api`;\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getFaturamentoClientes(params?) {\r\n    return this.http.get(`${this.API}/logistica/indicadores/faturamento/clientes`, {\r\n      params: params,\r\n      observe: 'response',\r\n    });\r\n  }\r\n\r\n  getFaturamentoMensal(params?) {\r\n    return this.http.get(`${this.API}/logistica/indicadores/faturamento/mensal`, {\r\n      params: params,\r\n      observe: 'response',\r\n    });\r\n  }\r\n\r\n  getProjetos(params?) {\r\n    return this.http.get(`${this.API}/logistica/indicadores/faturamento/clientes/projetos`, {\r\n      params: params,\r\n      observe: 'response',\r\n    });\r\n  }\r\n\r\n  getFaturamentoProjetos(params?) {\r\n    return this.http.get(`${this.API}/logistica/indicadores/faturamento/projetos`, {\r\n      params: params,\r\n      observe: 'response',\r\n    });\r\n  }\r\n  \r\n  getFaturamentoCteComplementar(params?) {\r\n    return this.http.get(`${this.API}/logistica/indicadores/faturamento/complementares`, {\r\n      params: params,\r\n      observe: 'response',\r\n    });\r\n  }\r\n}\r\n\r\n\r\n","export default \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col text-right\\\">\\r\\n    <div class=\\\"mtc-title\\\">\\r\\n      <a\\r\\n        class=\\\"text-primary\\\"\\r\\n        href=\\\"javascript:void(0)\\\"\\r\\n        (click)=\\\"changeViewCte($event)\\\"\\r\\n      >\\r\\n        <strong *ngIf=\\\"viewCte == 0\\\">Visualizar CTe Complementar</strong>\\r\\n        <strong *ngIf=\\\"viewCte == 1\\\">Desavistar CTe Complementar</strong>\\r\\n      </a>\\r\\n      <span class=\\\"mx-2\\\">|</span>\\r\\n      <a>\\r\\n        <span *ngIf=\\\"info\\\">{{ info | uppercase }}</span>\\r\\n      </a>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\" *ngIf=\\\"viewCte == 0\\\">\\r\\n  <div class=\\\"col-9 border-right pr-2\\\">\\r\\n    <div class=\\\"row justify-content-between\\\">\\r\\n      <div class=\\\"mtc-title p-0 mx-3 h-100 w-100 text-center border\\\" style=\\\"background: lightgray;\\\">Faturamento Por Clientes</div>\\r\\n      <div id=\\\"pieChart\\\" class=\\\"amcharts p-0 m-3\\\"  [hidden]=\\\"loadingPieChart\\\" style=\\\"position: relative; height: 200px\\\"></div>\\r\\n      <div class=\\\"spinner-border align-items-center\\\" role=\\\"status\\\" style=\\\"margin-inline: auto;\\\" *ngIf=\\\"loadingPieChart\\\">\\r\\n        <span class=\\\"sr-only\\\">Loading...</span>\\r\\n      </div>\\r\\n      <div class=\\\"border rounded bg-white shadow-sm d-flex p-3 m-3 w-100 justify-content-between\\\">\\r\\n        <div class=\\\"text-center\\\" *ngIf=\\\"aperam\\\" style=\\\"width:20%\\\" >\\r\\n          <h6\\r\\n          class=\\\"font-weight-bolder mb-1\\\"\\r\\n          counto\\r\\n          [step]=\\\"30\\\"\\r\\n          [countTo]=\\\"aperam\\\"\\r\\n          [countFrom]=\\\"0\\\"\\r\\n          [duration]=\\\"2\\\"\\r\\n          (countoChange)=\\\"countoAperam = $event\\\">\\r\\n          {{ countoAperam | number }}\\r\\n          </h6>\\r\\n          <h6\\r\\n          class=\\\"text-muted mb-1\\\"\\r\\n          counto\\r\\n          [step]=\\\"30\\\"\\r\\n          [countTo]=\\\"aperamPerc\\\"\\r\\n          [countFrom]=\\\"0\\\"\\r\\n          [duration]=\\\"2\\\"\\r\\n          (countoChange)=\\\"countoAperamPerc = $event\\\">\\r\\n          {{ countoAperamPerc | number }} %\\r\\n          </h6>\\r\\n          <div class=\\\"text-muted small font-weight-bold\\\">APERAM</div>\\r\\n        </div>\\r\\n        <div class=\\\"text-center\\\" *ngIf=\\\"arcelor\\\" style=\\\"width:20%\\\" >\\r\\n          <h6\\r\\n          class=\\\"font-weight-bolder mb-1\\\"\\r\\n          counto\\r\\n          [step]=\\\"30\\\"\\r\\n          [countTo]=\\\"arcelor\\\"\\r\\n          [countFrom]=\\\"0\\\"\\r\\n          [duration]=\\\"2\\\"\\r\\n          (countoChange)=\\\"countoArcelor = $event\\\">\\r\\n          {{ countoArcelor | number }}\\r\\n          </h6>\\r\\n          <h6\\r\\n          class=\\\"text-muted mb-1\\\"\\r\\n          counto\\r\\n          [step]=\\\"30\\\"\\r\\n          [countTo]=\\\"arcelorPerc\\\"\\r\\n          [countFrom]=\\\"0\\\"\\r\\n          [duration]=\\\"2\\\"\\r\\n          (countoChange)=\\\"countoArcelorPerc = $event\\\">\\r\\n          {{ countoArcelorPerc | number }} %\\r\\n          </h6>\\r\\n          <div class=\\\"text-muted small font-weight-bold\\\">ARCELORMITTAL</div>\\r\\n        </div>\\r\\n        <div class=\\\"text-center\\\" *ngIf=\\\"manetoni\\\" style=\\\"width:20%\\\" >\\r\\n          <h6\\r\\n          class=\\\"font-weight-bolder mb-1\\\"\\r\\n          counto\\r\\n          [step]=\\\"30\\\"\\r\\n          [countTo]=\\\"manetoni\\\"\\r\\n          [countFrom]=\\\"0\\\"\\r\\n          [duration]=\\\"2\\\"\\r\\n          (countoChange)=\\\"countoManetoni = $event\\\">\\r\\n          {{ countoManetoni | number }}\\r\\n          </h6>\\r\\n          <h6\\r\\n          class=\\\"text-muted mb-1\\\"\\r\\n          counto\\r\\n          [step]=\\\"30\\\"\\r\\n          [countTo]=\\\"manetoniPerc\\\"\\r\\n          [countFrom]=\\\"0\\\"\\r\\n          [duration]=\\\"2\\\"\\r\\n          (countoChange)=\\\"countoManetoniPerc = $event\\\">\\r\\n          {{ countoManetoniPerc | number }} %\\r\\n          </h6>\\r\\n          <div class=\\\"text-muted small font-weight-bold\\\">MANETONI</div>\\r\\n        </div>\\r\\n        <div class=\\\"text-center\\\" *ngIf=\\\"novos\\\" style=\\\"width:20%\\\" >\\r\\n          <h6\\r\\n          class=\\\"font-weight-bolder mb-1\\\"\\r\\n          counto\\r\\n          [step]=\\\"30\\\"\\r\\n          [countTo]=\\\"novos\\\"\\r\\n          [countFrom]=\\\"0\\\"\\r\\n          [duration]=\\\"2\\\"\\r\\n          (countoChange)=\\\"countoNovos = $event\\\">\\r\\n          {{ countoNovos | number }} \\r\\n          </h6>\\r\\n          <h6\\r\\n          class=\\\"text-muted mb-1\\\"\\r\\n          counto\\r\\n          [step]=\\\"30\\\"\\r\\n          [countTo]=\\\"novosPerc\\\"\\r\\n          [countFrom]=\\\"0\\\"\\r\\n          [duration]=\\\"2\\\"\\r\\n          (countoChange)=\\\"countoNovosPerc = $event\\\">\\r\\n          {{ countoNovosPerc | number }} %\\r\\n          </h6>\\r\\n          <div class=\\\"text-muted small font-weight-bold\\\">NOVOS NEGÓCIOS</div>\\r\\n        </div>\\r\\n        <div class=\\\"text-center\\\" *ngIf=\\\"vallourec\\\" style=\\\"width:20%\\\" >\\r\\n          <h6\\r\\n          class=\\\"font-weight-bolder mb-1\\\"\\r\\n          counto\\r\\n          [step]=\\\"30\\\"\\r\\n          [countTo]=\\\"vallourec\\\"\\r\\n          [countFrom]=\\\"0\\\"\\r\\n          [duration]=\\\"2\\\"\\r\\n          (countoChange)=\\\"countoVallourec = $event\\\">\\r\\n          {{ countoVallourec | number }}\\r\\n          </h6>\\r\\n          <h6\\r\\n          class=\\\"text-muted mb-1\\\"\\r\\n          counto\\r\\n          [step]=\\\"30\\\"\\r\\n          [countTo]=\\\"vallourecPerc\\\"\\r\\n          [countFrom]=\\\"0\\\"\\r\\n          [duration]=\\\"2\\\"\\r\\n          (countoChange)=\\\"countoVallourecPerc = $event\\\">\\r\\n          {{ countoVallourecPerc | number }} %\\r\\n          </h6>\\r\\n          <div class=\\\"text-muted small font-weight-bold\\\">VALLOUREC</div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col p-0 pr-3 pl-2\\\" >\\r\\n    <div class=\\\"mtc-title p-0 w-100 text-center border\\\" style=\\\"background: lightgray;\\\">Mês Atual</div>\\r\\n    <div id=\\\"clusteredChartMesAtual\\\" class=\\\"amcharts\\\" [hidden]=\\\"loadingClusteredChartAtual\\\" style=\\\"min-height: 370px\\\"></div>\\r\\n    <div class=\\\"spinner-border\\\" role=\\\"status\\\" style=\\\"margin-left: 46%;\\\" *ngIf=\\\"loadingClusteredChartAtual\\\">\\r\\n      <span class=\\\"sr-only\\\">Loading...</span>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\" [hidden]=\\\"viewCte == 1\\\" >\\r\\n  <div class=\\\"mtc-title p-0 mx-3 h-100 w-100 text-center border\\\" style=\\\"background: lightgray;\\\">faturamento Mensal</div>\\r\\n  <div id=\\\"clusteredChartFatuMensal\\\" class=\\\"amcharts p-0 mx-3\\\" [hidden]=\\\"loadingClusteredChartMensal\\\" style=\\\"position: relative; height: 400px\\\"></div>\\r\\n  <div class=\\\"spinner-border align-items-center\\\" role=\\\"status\\\" style=\\\"margin-inline: auto;\\\" *ngIf=\\\"loadingClusteredChartMensal\\\">\\r\\n    <span class=\\\"sr-only\\\">Loading...</span>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\" [hidden]=\\\"viewCte == 0\\\" >\\r\\n  <div class=\\\"mtc-title p-0 mx-3 h-100 w-100 text-center border\\\" style=\\\"background: lightgray;\\\">Cte Complementar Clientes</div>\\r\\n  <div id=\\\"clusteredChartCteComplementar\\\" class=\\\"amcharts p-0 mx-3\\\" [hidden]=\\\"loadingClusteredChartCteComp\\\" style=\\\"position: relative; height: 400px\\\"></div>\\r\\n  <div class=\\\"spinner-border align-items-center\\\" role=\\\"status\\\" *ngIf=\\\"loadingClusteredChartCteComp\\\" style=\\\"margin-inline: auto;\\\">\\r\\n    <span class=\\\"sr-only\\\">Loading...</span>\\r\\n  </div>\\r\\n</div>\\r\\n\";","import { RouterService } from 'src/app/shared/services/core/router.service';\r\nimport { DateService } from './../../../../../shared/services/core/date.service';\r\nimport { PNotifyService } from './../../../../../shared/services/core/pnotify.service';\r\nimport { LogisticaDashboardFaturamentoFinanceiroService } from './../faturamento-financeiro.service';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { LogisticaDashboardsFaturamentoFinanceiroChartsService } from './../charts.service';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\n//angular\r\nimport { Component, OnInit, OnDestroy , Input } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n// rxjs\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'logistica-dashboard-faturamento-financeiro-clientes',\r\n  templateUrl: './clientes.component.html',\r\n  styleUrls: ['./clientes.component.scss'],\r\n})\r\nexport class LogisticaDashboardsFaturamentoFinanceiroClientesComponent implements OnInit, OnDestroy \r\n{\r\n  @Input() set formFilter(formFilter: number){\r\n    if(!formFilter)\r\n      return\r\n    this.dataFormFilter = formFilter;\r\n  };\r\n\r\n\r\n  idSubModulo: number;\r\n  $activatedRouteSubscription: Subscription;\r\n  dataFormFilter:any;\r\n  loadingFatuMensClie:boolean;\r\n  loadingFatuAtualCliente:boolean;\r\n  loadingFatuProjClie:boolean;\r\n  modalRef: BsModalRef;\r\n  dataSortedBar = {}\r\n  dataFatuMensClie = {}\r\n  dataFatuAtualClie = {}\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private chartsService: LogisticaDashboardsFaturamentoFinanceiroChartsService,\r\n    private FaturamentoFinanceiroService: LogisticaDashboardFaturamentoFinanceiroService,\r\n    private pnotify: PNotifyService,\r\n    private routerService: RouterService,\r\n    private dateService: DateService\r\n\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.onActivatedRoute();\r\n  }\r\n\r\n\r\n\r\n  ngOnDestroy() {\r\n    this.$activatedRouteSubscription.unsubscribe();\r\n  }\r\n\r\n\r\n  onActivatedRoute() {\r\n    this.$activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      response => {\r\n        const _params = this.routerService.getBase64UrlParams(response)\r\n        const modoView = _params?.NM_CLIE;\r\n        this.chartsService.disposeCharts();\r\n        if((['todos', 'novos negócios'].includes(modoView))){\r\n          return\r\n        }\r\n        this.getFaturamentoProjetos();\r\n        this.getFaturamentoMensalCliente();\r\n        this.getFaturamentoMesAtualCliente();\r\n      }\r\n    );\r\n  }\r\n\r\n  getFaturamentoProjetos(params?) {\r\n    this.loadingFatuProjClie = true;\r\n    this.FaturamentoFinanceiroService\r\n      .getProjetos(this.dataFormFilter)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingFatuProjClie = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status === 200) {\r\n            this.dataSortedBar = response.body['data'];\r\n            this.chartsService.sortedBarChart('clientesProjetosSortedBarChart', this.dataSortedBar)\r\n          } else {\r\n            this.pnotify.notice(\"Nenhum projeto encontrado.\")\r\n          }\r\n        },\r\n        (error) => {\r\n          try {\r\n            this.pnotify.error(error.error.message)\r\n          } catch (error) {\r\n            this.pnotify.error();\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  getFaturamentoMensalCliente() {\r\n    this.loadingFatuMensClie = true\r\n    const today = new Date();\r\n    const year = today.getFullYear();\r\n    const month = today.getMonth();\r\n    const dataFinalAno = this.dateService.convertToUrlDate(this.dateService.getLastDayMonth())\r\n    const dataInicialAno = `01-${(month + 1)}-${(year - 1)}`\r\n    const dsClient = this.dataFormFilter.NM_CLIE;\r\n    this.FaturamentoFinanceiroService\r\n      .getFaturamentoMensal({DT_INIC: dataInicialAno, DT_FINA:dataFinalAno,NM_CLIE:dsClient })\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingFatuMensClie = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status === 200) {\r\n            const data: Array<any> = response.body['data'];\r\n            let chartData = {}\r\n            data.forEach(el => {\r\n              if(!chartData[el?.SG_PERI])\r\n                chartData[el?.SG_PERI] = {SG_PERI: el?.SG_PERI}\r\n\r\n              if(!chartData[el?.SG_PERI][el?.DS_CENA])\r\n              chartData[el?.SG_PERI][el?.DS_CENA] = 0\r\n\r\n              chartData[el?.SG_PERI][el?.DS_CENA] = el?.VL_FATU;\r\n            })\r\n            this.dataFatuMensClie = Object.values(chartData);\r\n           this.chartsService.clusteredChart('clusteredChartFatuMensalCliente', this.dataFatuMensClie)\r\n          } else {\r\n           \r\n            this.pnotify.notice(\"Nenhuma informação encontrada.\")\r\n          }\r\n        },\r\n        (error) => {\r\n\r\n          try {\r\n            this.pnotify.error(error.error.message)\r\n          } catch (error) {\r\n            this.pnotify.error();\r\n          }\r\n        }\r\n      );\r\n  }\r\n  \r\n  getFaturamentoMesAtualCliente() {\r\n    this.loadingFatuAtualCliente = true\r\n    const dataInicial = this.dateService.convertToUrlDate(this.dateService.getFirstDayMonth())\r\n    const dataFinal = this.dateService.convertToUrlDate(this.dateService.getLastDayMonth())\r\n    const dsCliente = this.dataFormFilter.NM_CLIE;\r\n    this.FaturamentoFinanceiroService\r\n      .getFaturamentoMensal({DT_INIC: dataInicial, DT_FINA:dataFinal, NM_CLIE:dsCliente})\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingFatuAtualCliente = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status === 200) {\r\n            let data: Array<any> = response.body['data'];\r\n            let chartClientData = {}\r\n            data.forEach(el => {\r\n              if(!chartClientData[el?.SG_PERI])\r\n                chartClientData[el?.SG_PERI] = {SG_PERI: el?.SG_PERI}\r\n\r\n              if(!chartClientData[el?.SG_PERI][el?.DS_CENA])\r\n              chartClientData[el?.SG_PERI][el?.DS_CENA] = 0\r\n\r\n              chartClientData[el?.SG_PERI][el?.DS_CENA] = el?.VL_FATU;\r\n            })\r\n            this.dataFatuAtualClie = Object.values(chartClientData);\r\n            this.chartsService.clusteredChart('clusteredChartMesAtual', this.dataFatuAtualClie)\r\n            this.loadingFatuAtualCliente = false;\r\n          } else {\r\n            this.pnotify.notice(\"Nenhuma informação encontrada.\")\r\n          }\r\n        },\r\n        (error) => {\r\n          try {\r\n            this.pnotify.error(error.error.message)\r\n          } catch (error) {\r\n            this.pnotify.error();\r\n          }\r\n        }\r\n      );\r\n  }\r\n}","import { RouterService } from 'src/app/shared/services/core/router.service';\r\nimport { DateService } from './../../../../../shared/services/core/date.service';\r\nimport { PNotifyService } from './../../../../../shared/services/core/pnotify.service';\r\nimport { LogisticaDashboardFaturamentoFinanceiroService } from './../faturamento-financeiro.service';\r\nimport { LogisticaDashboardsFaturamentoFinanceiroChartsService } from './../charts.service';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\n//angular\r\nimport { Component, OnInit, OnDestroy, Input } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n// rxjs\r\nimport { Subscription } from 'rxjs';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'logistica-dashboard-faturamento-financeiro-novos',\r\n  templateUrl: './novos.component.html',\r\n  styleUrls: ['./novos.component.scss'],\r\n})\r\nexport class LogisticaDashboardsFaturamentoFinanceiroNovosComponent implements OnInit, OnDestroy {\r\n\r\n  @Input() set formFilter(formFilter: number){\r\n    if(!formFilter)\r\n      return\r\n    this.dataFormFilter = formFilter;\r\n  };\r\n\r\n  idSubModulo: number;\r\n  $activatedRouteSubscription: Subscription;\r\n\r\n  loadingFatuMensNovo:boolean;\r\n  loadingFatuAtualNovo:boolean;\r\n  loadingFatuProjNovo:boolean;\r\n  dataSortedBar = {}\r\n  dataFatuMensNovo = {}\r\n  dataFatuAtualNovo = {}\r\n  dataFormFilter:any\r\n  modalRef: BsModalRef;\r\n  data = {}  \r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private FaturamentoFinanceiroService: LogisticaDashboardFaturamentoFinanceiroService,\r\n    private chartsService: LogisticaDashboardsFaturamentoFinanceiroChartsService,\r\n    private pnotify: PNotifyService,\r\n    private routerService: RouterService,\r\n    private dateService: DateService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.onActivatedRoute();\r\n  }\r\n\r\n\r\n\r\n  ngOnDestroy() {\r\n    this.$activatedRouteSubscription.unsubscribe();\r\n  }\r\n\r\n\r\n  onActivatedRoute() {\r\n    this.$activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      response => {\r\n        const _params = this.routerService.getBase64UrlParams(response)\r\n        const modoView = _params?.NM_CLIE;\r\n        this.chartsService.disposeCharts();\r\n        if(modoView != 'novos negócios'){\r\n          return\r\n        }\r\n        this.getFaturamentoProjetos();\r\n        this.getFaturamentoMensalNovos();\r\n        this.getFaturamentoMesAtualNovos();\r\n      }\r\n    );\r\n  }\r\n\r\n  \r\n\r\n  getFaturamentoProjetos() {\r\n    const _params = this.dataFormFilter\r\n    _params.NM_CLIE = 'Novos Negócios'\r\n    this.loadingFatuProjNovo = true;\r\n    this.FaturamentoFinanceiroService\r\n      .getProjetos(_params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingFatuProjNovo = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status === 200) {\r\n            this.dataSortedBar = response.body['data'];\r\n            this.chartsService.sortedBarChart('novosNegociosSortedBarChart', this.dataSortedBar)\r\n          } else {\r\n            this.pnotify.notice(\"Nenhum projeto encontrado.\")\r\n          }\r\n        },\r\n        (error) => {\r\n          try {\r\n            this.pnotify.error(error.error.message)\r\n          } catch (error) {\r\n            this.pnotify.error();\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  getFaturamentoMensalNovos() {\r\n    this.loadingFatuMensNovo = true\r\n    const today = new Date();\r\n    const year = today.getFullYear();\r\n    const month = today.getMonth();\r\n    const dataFinalAno = this.dateService.convertToUrlDate(this.dateService.getLastDayMonth())\r\n    const dataInicialAno = `01-${(month + 1)}-${(year - 1)}`\r\n    this.FaturamentoFinanceiroService\r\n      .getFaturamentoMensal({DT_INIC: dataInicialAno, DT_FINA:dataFinalAno,NM_CLIE:'novos negócios' })\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingFatuMensNovo = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status === 200) {\r\n            const data: Array<any> = response.body['data'];\r\n            let chartData = {}\r\n            data.forEach(el => {\r\n              if(!chartData[el?.SG_PERI])\r\n                chartData[el?.SG_PERI] = {SG_PERI: el?.SG_PERI}\r\n\r\n              if(!chartData[el?.SG_PERI][el?.DS_CENA])\r\n              chartData[el?.SG_PERI][el?.DS_CENA] = 0\r\n\r\n              chartData[el?.SG_PERI][el?.DS_CENA] = el?.VL_FATU;\r\n            })\r\n            this.dataFatuMensNovo = Object.values(chartData);\r\n           this.chartsService.clusteredChart('clusteredChartFatuMensalCliente', this.dataFatuMensNovo)\r\n          } else {\r\n           \r\n            this.pnotify.notice(\"Nenhuma informação encontrada.\")\r\n          }\r\n        },\r\n        (error) => {\r\n\r\n          try {\r\n            this.pnotify.error(error.error.message)\r\n          } catch (error) {\r\n            this.pnotify.error();\r\n          }\r\n        }\r\n      );\r\n  }\r\n  \r\n  getFaturamentoMesAtualNovos() {\r\n    this.loadingFatuAtualNovo = true\r\n    const dataInicial = this.dateService.convertToUrlDate(this.dateService.getFirstDayMonth())\r\n    const dataFinal = this.dateService.convertToUrlDate(this.dateService.getLastDayMonth())\r\n    this.FaturamentoFinanceiroService\r\n      .getFaturamentoMensal({DT_INIC: dataInicial, DT_FINA:dataFinal,NM_CLIE:'novos negócios'})\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingFatuAtualNovo = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status === 200) {\r\n            const data: Array<any> = response.body['data'];\r\n            let chartNovoData = {}\r\n            data.forEach(el => {\r\n              if(!chartNovoData[el?.SG_PERI])\r\n                chartNovoData[el?.SG_PERI] = {SG_PERI: el?.SG_PERI}\r\n\r\n              if(!chartNovoData[el?.SG_PERI][el?.DS_CENA])\r\n              chartNovoData[el?.SG_PERI][el?.DS_CENA] = 0\r\n\r\n              chartNovoData[el?.SG_PERI][el?.DS_CENA] = el?.VL_FATU;\r\n            })\r\n            this.dataFatuAtualNovo = Object.values(chartNovoData);\r\n            this.chartsService.clusteredChart('clusteredChartMesAtual', this.dataFatuAtualNovo)\r\n\r\n          } else {\r\n            this.pnotify.notice(\"Nenhuma informação encontrada.\")\r\n          }\r\n        },\r\n        (error) => {\r\n          try {\r\n            this.pnotify.error(error.error.message)\r\n          } catch (error) {\r\n            this.pnotify.error();\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n\r\n}","import { LogisticaDashboardsFaturamentoFinanceiroChartsService } from './charts.service';\r\nimport { BsDatepickerConfig, BsLocaleService } from 'ngx-bootstrap';\r\nimport { LogisticaDashboardFaturamentoFinanceiroService } from './faturamento-financeiro.service';\r\nimport { CustomTableConfig } from './../../../../shared/templates/custom-table/models/config';\r\n//angular\r\nimport { Component, OnInit, OnDestroy, EventEmitter, Output } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\r\n\r\n//servicos\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { RouterService } from 'src/app/shared/services/core/router.service';\r\n\r\n// rxjs\r\nimport { finalize } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n\r\n//modelos\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\n//masks\r\nimport { MASKS } from 'ng-brazil';\r\n\r\n@Component({\r\n  selector: 'logistica-dashboard-faturamento-financeiro',\r\n  templateUrl: './faturamento-financeiro.component.html',\r\n  styleUrls: ['./faturamento-financeiro.component.scss'],\r\n})\r\nexport class LogisticaDashboardsFaturamentoFinanceiroComponent implements OnInit, OnDestroy {\r\n  public MASKS = MASKS;\r\n  breadCrumbTree: Array<Breadcrumb>;\r\n  idSubModulo: number;\r\n  formFilter:any;\r\n  pedidos= [];\r\n  empresas=[];\r\n  info: string;\r\n  loading: boolean; //Loading FullPage\r\n  loadingNavBar = false; //Loading do NAVBAR\r\n  loadingEmpresas:boolean\r\n  $activatedRouteSubscription: Subscription;\r\n  tableConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: false,\r\n  };\r\n  form: FormGroup;\r\n\r\n  loadingProjetos: boolean;\r\n  bsConfig: Partial<BsDatepickerConfig>;\r\n  \r\n  faturamento:any;\r\n  projetos= [];\r\n\r\n  tipos = [\r\n    {\r\n      cod: 'todos',\r\n      nome: 'Exibir Todos',\r\n    },\r\n    {\r\n      cod: 'aperam',\r\n      nome: 'Aperam',\r\n    },\r\n    {\r\n      cod: 'arcelor mittal',\r\n      nome: 'ArcelorMittal',\r\n    },\r\n    {\r\n      cod: 'manetoni',\r\n      nome: 'Manetoni',\r\n    },\r\n    {\r\n      cod: 'novos negócios',\r\n      nome: 'Novos Negócios',\r\n    },\r\n    {\r\n      cod: 'vallourec',\r\n      nome: 'Vallourec',\r\n    },\r\n  ];\r\n\r\n  modoView: string;\r\n\r\n\r\n\r\n  \r\n  constructor(\r\n    private route: Router,\r\n    private pnotify: PNotifyService,\r\n    private localeService: BsLocaleService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private FaturamentoFinanceiroService: LogisticaDashboardFaturamentoFinanceiroService,\r\n    private chartService:LogisticaDashboardsFaturamentoFinanceiroChartsService,\r\n    private formBuilder: FormBuilder,\r\n    private routerService: RouterService,\r\n    private dateService: DateService,\r\n  ) {\r\n    this.localeService.use('pt-br');\r\n    this.bsConfig = Object.assign(\r\n      {},\r\n      { containerClass: 'theme-dark-blue' },\r\n      { adaptivePosition: true },\r\n      { showWeekNumbers: false }\r\n    );\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.buildForm();\r\n    this.setBreadCrumb();\r\n    this.onActivatedRoute();\r\n  }\r\n\r\n\r\n  ngOnDestroy() {\r\n    this.$activatedRouteSubscription.unsubscribe();\r\n    this.chartService.disposeCharts();\r\n  }\r\n\r\n\r\n  onActivatedRoute() {\r\n    this.$activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      (response) => {\r\n        const _response = this.routerService.getBase64UrlParams(response);\r\n        this.form.patchValue(_response);\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  buildForm() {\r\n    this.form = this.formBuilder.group({\r\n      DT_FINA:[new Date(this.dateService.getLastDayMonth()),[Validators.required]],\r\n      DT_INIC:[new Date(this.dateService.getFirstDayMonth()),[Validators.required]],\r\n      NM_CLIE:['todos'],\r\n      DS_PROJ:[null],\r\n      TIME: [new Date().getTime()],\r\n    });\r\n  }\r\n\r\n\r\n  changeCliente(cliente?){\r\n    this.form.get('NM_CLIE').setValue(cliente);\r\n    this.form.get('DS_PROJ').setValue(null);\r\n    this.form.get('DS_PROJ').disable();\r\n    if(cliente != 'todos'){\r\n      this.getProjetos()\r\n      this.form.get('DS_PROJ').enable();\r\n    }\r\n  }\r\n\r\n  setBreadCrumb() {\r\n    const id = this.activatedRoute.snapshot.params.idSubModulo;\r\n    this.breadCrumbTree = [\r\n      {\r\n        descricao: 'Home',\r\n        routerLink: `/logistica/home`,\r\n      },\r\n      {\r\n        descricao: 'Dashboard',\r\n        routerLink: `/logistica/dashboards/${id}`,\r\n      },\r\n      {\r\n        descricao: 'Faturamento Financeiro',\r\n      },\r\n    ];\r\n  }\r\n\r\n\r\n   // Validação de formulário\r\n   onFieldError(field: string) {\r\n    if (this.onFieldInvalid(field)) {\r\n      return 'is-invalid';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any) {\r\n    field = this.form.get(field);\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onFieldRequired(field: string) {\r\n    let required = false;\r\n    let formControl = new FormControl();\r\n\r\n    if (this.form.controls[field].validator) {\r\n      let validationResult = this.form.controls[field].validator(formControl);\r\n      required =\r\n        validationResult !== null && validationResult.required === true;\r\n    }\r\n\r\n    if (required) {\r\n      return 'is-required';\r\n    }\r\n  }\r\n\r\n\r\n  onFilter() {\r\n    this.form.get('TIME').setValue(new Date().getTime());\r\n    const client = this.form.get('NM_CLIE').value\r\n    \r\n    this.modoView = client;\r\n    this.getUltimaAtualizacao()\r\n    this.route.navigate([], {\r\n      relativeTo: this.activatedRoute,\r\n      queryParams: this.routerService.setBase64UrlParams(this.getParams()),\r\n    });\r\n  }\r\n\r\n\r\n  getUltimaAtualizacao() {\r\n    const data = this.dateService.convertToBrazilianDate(new Date);\r\n    this.info = `Última atualização: ${data}`;\r\n  }\r\n\r\n  getProjetos() {\r\n    this.loadingProjetos = true;\r\n    this.FaturamentoFinanceiroService\r\n      .getProjetos(this.getParams())\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingProjetos = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status === 200) {\r\n            this.projetos = response.body['data'];\r\n          } else {\r\n            this.pnotify.notice(\"Nenhuma projeto encontrado.\")\r\n          }\r\n        },\r\n        (error) => {\r\n          try {\r\n            this.pnotify.error(error.error.message)\r\n          } catch (error) {\r\n            this.pnotify.error();\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n\r\n\r\n  getParams() {\r\n    let _params = {};\r\n    let _obj = this.form.value;\r\n\r\n    for (let prop in _obj) {\r\n      if (_obj[prop]) {\r\n        if (_obj[prop] instanceof Date)\r\n          _params[prop] = this.dateService.convertToUrlDate(_obj[prop]);\r\n        else _params[prop] = _obj[prop];\r\n      }\r\n    }\r\n\r\n    return this.formFilter = _params;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { LogisticaDashboardsFaturamentoFinanceiroComponent } from './faturamento-financeiro.component';\r\nimport { LogisticaDashboadsFaturamentoFinanceiroRoutingModule } from './faturamento-financeiro-routing.module';\r\n\r\nimport { NotFoundModule } from './../../../../core/not-found/not-found.module';\r\n\r\nimport { BsDatepickerModule, PaginationModule, TooltipModule } from 'ngx-bootstrap';\r\n\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { CountoModule } from 'angular2-counto';\r\n\r\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\r\nimport { TemplatesModule } from 'src/app/shared/templates/templates.module';\r\nimport { LogisticaDashboardsFaturamentoFinanceiroNovosComponent } from './novos/novos.component';\r\nimport { LogisticaDashboardsFaturamentoFinanceiroClientesComponent } from './clientes/clientes.component';\r\nimport { LogisticaDashboardsFaturamentoFinanceiroTodosComponent } from './todos/todos.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LogisticaDashboardsFaturamentoFinanceiroComponent,\r\n    LogisticaDashboardsFaturamentoFinanceiroNovosComponent,\r\n    LogisticaDashboardsFaturamentoFinanceiroClientesComponent,\r\n    LogisticaDashboardsFaturamentoFinanceiroTodosComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    LogisticaDashboadsFaturamentoFinanceiroRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    PaginationModule.forRoot(),\r\n    BsDatepickerModule.forRoot(),\r\n    TooltipModule.forRoot(),\r\n    NgSelectModule,\r\n    CountoModule,\r\n    NotFoundModule,\r\n    SharedModule,\r\n    TemplatesModule\r\n  ]\r\n})\r\nexport class LogisticaDashboardsFaturamentoFinanceiroModule { }\r\n","import { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { Injectable } from '@angular/core';\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\nimport am4themes_material from \"@amcharts/amcharts4/themes/material\";\r\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LogisticaDashboardsFaturamentoFinanceiroChartsService {\r\n\r\n  constructor() { }\r\n\r\n  pieChart(id, data){\r\n\r\n    am4core.useTheme(am4themes_material);\r\n    let chart = am4core.create( id, am4charts.PieChart);\r\n    \r\n    chart.data = data\r\n\r\n    let pieSeries = chart.series.push(new am4charts.PieSeries());\r\n    if(id == 'pieChartRepresentativo'){\r\n        pieSeries.dataFields.value = \"VL_PERC\";\r\n    } else {\r\n        pieSeries.dataFields.value = \"VL_CTRC\";\r\n    }\r\n    \r\n    pieSeries.dataFields.category = \"NM_CLIE\";\r\n    pieSeries.slices.template.stroke = am4core.color(\"#fff\");\r\n    pieSeries.slices.template.strokeOpacity = 1;\r\n\r\n    \r\n    // This creates initial animation\r\n    pieSeries.hiddenState.properties.opacity = 1;\r\n    pieSeries.hiddenState.properties.endAngle = -90;\r\n    pieSeries.hiddenState.properties.startAngle = -90;\r\n    \r\n    chart.hiddenState.properties.radius = am4core.percent(0);\r\n  }\r\n\r\n  clusteredChart(id, data ){\r\n    am4core.useTheme(am4themes_material);\r\n    am4core.useTheme(am4themes_animated);\r\n    \r\n    let chart = am4core.create(id, am4charts.XYChart)\r\n    // chart.exporting.menu = new am4core.ExportMenu();\r\n    chart.colors.step = 2;\r\n    chart.legend = new am4charts.Legend()\r\n    chart.legend.position = 'top'\r\n    chart.legend.paddingBottom = 20\r\n    chart.legend.labels.template.maxWidth = 95\r\n    \r\n\r\n\r\n    let xAxis = chart.xAxes.push(new am4charts.CategoryAxis())\r\n    xAxis.dataFields.category = 'SG_PERI'\r\n    xAxis.renderer.cellStartLocation = 0.1\r\n    xAxis.renderer.cellEndLocation = 0.9\r\n    xAxis.renderer.grid.template.location = 0;\r\n    xAxis.tooltip.disabled = true;\r\n    \r\n    let yAxis = chart.yAxes.push(new am4charts.ValueAxis());\r\n    yAxis.min = 0;\r\n\r\n\r\n    function createSeries(value, name) {\r\n        let series = chart.series.push(new am4charts.ColumnSeries())\r\n        series.dataFields.valueY = value\r\n        series.dataFields.categoryX = 'SG_PERI'\r\n        series.name = name\r\n        \r\n        series.events.on(\"hidden\", arrangeColumns);\r\n        series.events.on(\"shown\", arrangeColumns);\r\n\r\n        var columnTemplate = series.columns.template;\r\n        columnTemplate.tooltipText = \"{name}: [bold]{valueY}[/]\";\r\n\r\n        let bullet = series.bullets.push(new am4charts.LabelBullet())\r\n        bullet.interactionsEnabled = false\r\n        bullet.dy = 10;\r\n        bullet.label.text = '{valueY}'\r\n        bullet.label.fill = am4core.color('#ffffff')\r\n\r\n        return series;\r\n    }\r\n    \r\n    chart.data = data\r\n\r\n    if(id == 'clusteredChartCteComplementar'){\r\n      createSeries('Aperam', 'Aperam');\r\n      createSeries('Arcelor Mittal', 'Arcelor Mittal');\r\n      createSeries('Manetoni', 'Manetoni');\r\n      createSeries('Novos Negócios', 'Novos Negócios');\r\n      createSeries('Vallourec', 'Vallourec');\r\n    } else {\r\n      createSeries('Faturamento', 'Faturamento');\r\n      createSeries('Ritmo', 'Ritmo');\r\n      createSeries('Receita - MRF', 'MRF');\r\n      createSeries('Receita - Planejamento', 'Orçamento');\r\n    }\r\n\r\n    if(id != \"clusteredChartMesAtual\"){\r\n      chart.scrollbarX = new am4core.Scrollbar();\r\n      chart.scrollbarX.minHeight = 20;\r\n      chart.scrollbarX.start = 0.46\r\n    }\r\n\r\n\r\n    function arrangeColumns() {\r\n\r\n      let series = chart.series.getIndex(0);\r\n  \r\n      let w = 1 - xAxis.renderer.cellStartLocation - (1 - xAxis.renderer.cellEndLocation);\r\n      if (series.dataItems.length > 1) {\r\n          let x0 = xAxis.getX(series.dataItems.getIndex(0), \"categoryX\");\r\n          let x1 = xAxis.getX(series.dataItems.getIndex(1), \"categoryX\");\r\n          let delta = ((x1 - x0) / chart.series.length) * w;\r\n          if (am4core.isNumber(delta)) {\r\n              let middle = chart.series.length / 2;\r\n  \r\n              let newIndex = 0;\r\n              chart.series.each(function(series) {\r\n                  if (!series.isHidden && !series.isHiding) {\r\n                      series.dummyData = newIndex;\r\n                      newIndex++;\r\n                  }\r\n                  else {\r\n                      series.dummyData = chart.series.indexOf(series);\r\n                  }\r\n              })\r\n              let visibleCount = newIndex;\r\n              let newMiddle = visibleCount / 2;\r\n  \r\n              chart.series.each(function(series) {\r\n                  let trueIndex = chart.series.indexOf(series);\r\n                  let newIndex = series.dummyData;\r\n  \r\n                  let dx = (newIndex - trueIndex + middle - newMiddle) * delta\r\n  \r\n                  series.animate({ property: \"dx\", to: dx }, series.interpolationDuration, series.interpolationEasing);\r\n                  series.bulletsContainer.animate({ property: \"dx\", to: dx }, series.interpolationDuration, series.interpolationEasing);\r\n              })\r\n          }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  sortedBarChart(id, data){\r\n    am4core.useTheme(am4themes_material);\r\n    am4core.useTheme(am4themes_animated);\r\n    let chart = am4core.create( id, am4charts.XYChart);\r\n    chart.padding(0, 50, 0, 20);\r\n    let categoryAxis = chart.yAxes.push(new am4charts.CategoryAxis());\r\n    categoryAxis.renderer.grid.template.location = 0;\r\n    categoryAxis.dataFields.category = \"DS_PROJ\";\r\n    categoryAxis.renderer.minGridDistance = 5;\r\n    categoryAxis.renderer.inversed = true;\r\n    categoryAxis.renderer.grid.template.disabled = true;\r\n    categoryAxis.renderer.cellStartLocation = 0.1;\r\n    categoryAxis.renderer.cellEndLocation = 0.9;\r\n    let valueAxis = chart.xAxes.push(new am4charts.ValueAxis());\r\n    valueAxis.min = 10;\r\n\r\n\r\n    \r\n    let cellSize = 30;\r\n      chart.events.on(\"datavalidated\", function(ev) {\r\n      let chart = ev.target;\r\n      let categoryAxis = chart.yAxes.getIndex(0);\r\n      let adjustHeight = chart.data.length * cellSize - categoryAxis.pixelHeight;\r\n      let targetHeight = chart.pixelHeight + adjustHeight;\r\n      chart.svgContainer.htmlElement.style.height = targetHeight + \"px\";\r\n    });\r\n\r\n\r\n\r\n    chart.scrollbarY = new am4core.Scrollbar();\r\n    chart.scrollbarY.minHeight = 20;\r\n    chart.padding(15,10,15,10)\r\n\r\n    let series = chart.series.push(new am4charts.ColumnSeries());\r\n    series.dataFields.categoryY = \"DS_PROJ\";\r\n    series.dataFields.valueX = \"VL_CTRC\";\r\n    series.columns.template.strokeOpacity = 0;\r\n    series.columns.template.column.cornerRadiusBottomRight = 5;\r\n    series.columns.template.column.cornerRadiusTopRight = 5;\r\n    \r\n\r\n    var columnTemplate = series.columns.template;\r\n    columnTemplate.tooltipText = \"{categoryY}: [bold]{valueX}[/]\";\r\n    columnTemplate.strokeOpacity = 0;\r\n    // columnTemplate.fill = am4core.color(\"green\");\r\n\r\n\r\n    let labelBullet = series.bullets.push(new am4charts.LabelBullet())\r\n    labelBullet.label.horizontalCenter = \"left\";\r\n    labelBullet.label.dx = 10;\r\n    labelBullet.label.text = \"{values.valueX.workingValue}\";\r\n    labelBullet.locationX = 0;\r\n    labelBullet.label.marginTop= 4;\r\n    labelBullet.label.properties.width = innerWidth;\r\n\r\n    categoryAxis.sortBySeries = series;\r\n    chart.data = data;\r\n  }\r\n\r\n  disposeCharts(){\r\n    am4core.disposeAllCharts()\r\n  }\r\n \r\n}\r\n","export default \".scroll-projetos {\\n  height: 400px;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9sb2dpc3RpY2EvZGFzaGJvYXJkcy9mYXR1cmFtZW50by1maW5hbmNlaXJvL2NsaWVudGVzL2NsaWVudGVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUFDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbG9naXN0aWNhL2Rhc2hib2FyZHMvZmF0dXJhbWVudG8tZmluYW5jZWlyby9jbGllbnRlcy9jbGllbnRlcy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zY3JvbGwtcHJvamV0b3Mge1xyXG4gIGhlaWdodDogNDAwcHg7XHJcbiAgb3ZlcmZsb3cteTogYXV0bztcclxuICBvdmVyZmxvdy14OiBoaWRkZW47XHJcbn0iXX0= */\";","import { RouterService } from 'src/app/shared/services/core/router.service';\r\nimport { event } from './../../../../admin/perfis/models/event';\r\nimport { DateService } from './../../../../../shared/services/core/date.service';\r\nimport { PNotifyService } from './../../../../../shared/services/core/pnotify.service';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { LogisticaDashboardFaturamentoFinanceiroService } from './../faturamento-financeiro.service';\r\nimport { LogisticaDashboardsFaturamentoFinanceiroChartsService } from './../charts.service';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\n//angular\r\nimport { Component, OnInit, OnDestroy, Input } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n// rxjs\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'logistica-dashboard-faturamento-financeiro-todos',\r\n  templateUrl: './todos.component.html',\r\n  styleUrls: ['./todos.component.scss'],\r\n})\r\nexport class LogisticaDashboardsFaturamentoFinanceiroTodosComponent implements OnInit, OnDestroy {\r\n\r\n  @Input() set formFilter(formFilter: number){\r\n    if(!formFilter)\r\n      return\r\n\r\n    this.dataFormFilter = formFilter;\r\n\r\n    if(this.dataFormFilter.NM_CLIE == 'todos'){\r\n      this.viewCte = 0;\r\n    }\r\n  };\r\n\r\n  idSubModulo: number;\r\n  info:string;\r\n  dataFormFilter:any;\r\n  viewCte:number = 0;\r\n  $activatedRouteSubscription: Subscription;\r\n  noFaturamentoClientes= true;\r\n  loadingPieChart:boolean;\r\n  loadingClusteredChartAtual:boolean;\r\n  loadingClusteredChartMensal:boolean;\r\n  loadingClusteredChartCteComp:boolean;\r\n  modalRef: BsModalRef;\r\n  dadosPieChart:any;\r\n  dadosClienteChart: any;\r\n  dadosMesAtualChart:any;\r\n  dadosChartComplementares:any;\r\n\r\n  // CARDS\r\n  manetoni:number = 0;\r\n  manetoniPerc:number;\r\n  arcelor:number = 0;\r\n  arcelorPerc:number;\r\n  novos:number = 0;\r\n  novosPerc:number;\r\n  vallourec:number = 0;\r\n  vallourecPerc:number;\r\n  aperam:number = 0;\r\n  aperamPerc:number;\r\n  countoManetoni:boolean;\r\n  countoArcelor:boolean;\r\n  countoNovos:boolean;\r\n  countoVallourec:boolean;\r\n  countoAperam:boolean;\r\n  countoManetoniPerc:boolean;\r\n  countoArcelorPerc:boolean;\r\n  countoNovosPerc:boolean;\r\n  countoVallourecPerc:boolean;\r\n  countoAperamPerc:boolean;\r\n\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private chartsService: LogisticaDashboardsFaturamentoFinanceiroChartsService,\r\n    private FaturamentoFinanceiroService: LogisticaDashboardFaturamentoFinanceiroService,\r\n    private pnotify: PNotifyService,\r\n    private routerService: RouterService,\r\n    private dateService: DateService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.onActivatedRoute();\r\n  }\r\n\r\n\r\n  ngOnDestroy() {\r\n    this.$activatedRouteSubscription.unsubscribe();\r\n  }\r\n\r\n\r\n  onActivatedRoute() {\r\n    this.$activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n        (response) => {\r\n        const _params = this.routerService.getBase64UrlParams(response)\r\n        const modoView = _params?.NM_CLIE;\r\n        this.chartsService.disposeCharts();\r\n        if(modoView != 'todos'){\r\n          return\r\n        }\r\n        this.getFaturamentoMensal();\r\n        this.getFaturamentoClientes();\r\n        this.getFaturamentoMesAtual();\r\n        this.getUltimaAtualizacao();\r\n      }\r\n    );\r\n  }\r\n\r\n  \r\n\r\n  getFaturamentoClientes() {\r\n    this.loadingPieChart = true;\r\n    const params = this.dataFormFilter ;\r\n    delete params['NM_CLIE'];\r\n    this.FaturamentoFinanceiroService\r\n      .getFaturamentoClientes(params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingPieChart = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status === 200) {\r\n            this.dadosPieChart = response.body['data'];\r\n            if( this.dadosPieChart){\r\n              this.dadosPieChart.forEach(el => {\r\n                if(el?.NM_CLIE =='Manetoni'){\r\n                  this.manetoni = (el?.VL_CTRC)\r\n                  this.manetoniPerc = (el?.VL_PERC * 100)\r\n                }\r\n                if(el?.NM_CLIE =='Arcelor Mittal'){\r\n                  this.arcelor = (el?.VL_CTRC)\r\n                  this.arcelorPerc = (el?.VL_PERC * 100)\r\n                }\r\n                if(el?.NM_CLIE =='Vallourec'){\r\n                  this.vallourec = (el?.VL_CTRC)\r\n                  this.vallourecPerc = (el?.VL_PERC * 100)\r\n                }\r\n                if(el?.NM_CLIE =='Aperam'){\r\n                  this.aperam = (el?.VL_CTRC)\r\n                  this.aperamPerc = (el?.VL_PERC * 100)\r\n                }\r\n                if(el?.NM_CLIE =='Novos Negócios'){\r\n                  this.novos = (el?.VL_CTRC)\r\n                  this.novosPerc = (el?.VL_PERC * 100)\r\n                }\r\n\r\n              })\r\n              this.chartsService.pieChart('pieChart', this.dadosPieChart)\r\n            }\r\n          } else {\r\n            this.pnotify.notice(\"Nenhuma informação encontrada.\")\r\n          }\r\n        },\r\n        (error) => {\r\n          try {\r\n            this.pnotify.error(error.error.message)\r\n          } catch (error) {\r\n            this.pnotify.error();\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  getUltimaAtualizacao() {\r\n    const data = this.dateService.convertToBrazilianDate(new Date);\r\n    this.info = `Última atualização: ${data}`;\r\n  }\r\n\r\n  getFaturamentoMensal() {\r\n    const today = new Date();\r\n    const year = today.getFullYear();\r\n    const month = today.getMonth();\r\n    const dataFinalAno = this.dateService.convertToUrlDate(this.dateService.getLastDayMonth())\r\n    const dataInicialAno = `01-${(month + 1)}-${(year - 1)}`\r\n    const _params = {DT_INIC: dataInicialAno, DT_FINA:dataFinalAno}\r\n    this.loadingClusteredChartMensal = true;\r\n    this.FaturamentoFinanceiroService\r\n      .getFaturamentoMensal(_params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingClusteredChartMensal = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status === 200) {\r\n            const data: Array<any> = response.body['data'];\r\n            let chartData = {}\r\n            data.forEach(el => {\r\n              if(!chartData[el?.SG_PERI])\r\n                chartData[el?.SG_PERI] = {SG_PERI: el?.SG_PERI}\r\n\r\n              if(!chartData[el?.SG_PERI][el?.DS_CENA])\r\n              chartData[el?.SG_PERI][el?.DS_CENA] = 0\r\n\r\n              chartData[el?.SG_PERI][el?.DS_CENA] = el?.VL_FATU;\r\n            })\r\n            this.dadosClienteChart = Object.values(chartData);\r\n            this.chartsService.clusteredChart('clusteredChartFatuMensal', this.dadosClienteChart)\r\n          } else {\r\n            this.pnotify.notice(\"Nenhuma informação encontrada.\")\r\n          }\r\n        },\r\n        (error) => {\r\n          try {\r\n            this.pnotify.error(error.error.message)\r\n          } catch (error) {\r\n            this.pnotify.error();\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  getFaturamentoCteComplementar() {\r\n    const today = new Date();\r\n    const year = today.getFullYear();\r\n    const month = today.getMonth();\r\n    const lastDayMonth = new Date((today.getFullYear(), today.getMonth() + 1, 0)).getDate()\r\n    const dataInicialAno = `01-${(month + 1)}-${(year - 1)}`\r\n    const dataFinalAno = `${lastDayMonth}-${(month + 1)}-${year}`\r\n    const _params = {DT_INIC: dataInicialAno, DT_FINA:dataFinalAno,IN_COMP: 1}\r\n    this.loadingClusteredChartCteComp = true;\r\n    this.FaturamentoFinanceiroService\r\n      .getFaturamentoCteComplementar(_params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingClusteredChartCteComp = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status === 200) {\r\n            const data: Array<any> = response.body['data'];\r\n            let chartData = {}\r\n            data.forEach(el => {\r\n              if(!chartData[el?.SG_PERI])\r\n                chartData[el?.SG_PERI] = {SG_PERI: el?.SG_PERI}\r\n\r\n              if(!chartData[el?.SG_PERI][el?.NM_CLIE])\r\n              chartData[el?.SG_PERI][el?.NM_CLIE] = 0\r\n\r\n              chartData[el?.SG_PERI][el?.NM_CLIE]= el?.VL_CTRC;\r\n            })\r\n            this.dadosChartComplementares = Object.values(chartData);\r\n            this.chartsService.clusteredChart('clusteredChartCteComplementar', this.dadosChartComplementares)\r\n          } else {\r\n            this.pnotify.notice(\"Nenhuma informação encontrada.\")\r\n          }\r\n        },\r\n        (error) => {\r\n          try {\r\n            this.pnotify.error(error.error.message)\r\n          } catch (error) {\r\n            this.pnotify.error();\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  getFaturamentoMesAtual() {\r\n    this.loadingClusteredChartAtual = true\r\n    const dataInicial = this.dateService.convertToUrlDate(this.dateService.getFirstDayMonth())\r\n    const dataFinal = this.dateService.convertToUrlDate(this.dateService.getLastDayMonth())\r\n    this.FaturamentoFinanceiroService\r\n      .getFaturamentoMensal({DT_INIC: dataInicial, DT_FINA:dataFinal})\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingClusteredChartAtual = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status === 200) {\r\n            this.loadingClusteredChartAtual = false;\r\n            const data: Array<any> = response.body['data'];\r\n            let chartData = {}\r\n            data.forEach(el => {\r\n              if(!chartData[el?.SG_PERI])\r\n                chartData[el?.SG_PERI] = {SG_PERI: el?.SG_PERI}\r\n\r\n              if(!chartData[el?.SG_PERI][el?.DS_CENA])\r\n              chartData[el?.SG_PERI][el?.DS_CENA] = 0\r\n\r\n              chartData[el?.SG_PERI][el?.DS_CENA]= el?.VL_FATU;\r\n            })\r\n            this.dadosMesAtualChart = Object.values(chartData);\r\n            this.chartsService.clusteredChart('clusteredChartMesAtual', this.dadosMesAtualChart)\r\n\r\n          } else {\r\n            this.pnotify.notice(\"Nenhuma informação encontrada.\")\r\n          }\r\n        },\r\n        (error) => {\r\n          try {\r\n            this.pnotify.error(error.error.message)\r\n          } catch (error) {\r\n            this.pnotify.error();\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  changeViewCte(event?){\r\n    this.chartsService.disposeCharts()\r\n    if(this.viewCte == 0){\r\n      this.viewCte = 1\r\n      this.getFaturamentoCteComplementar();\r\n    }else {\r\n      this.viewCte = 0\r\n      this.getFaturamentoMensal();\r\n      this.getFaturamentoClientes();\r\n      this.getFaturamentoMesAtual();\r\n    }\r\n  }\r\n\r\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbG9naXN0aWNhL2Rhc2hib2FyZHMvZmF0dXJhbWVudG8tZmluYW5jZWlyby9mYXR1cmFtZW50by1maW5hbmNlaXJvLmNvbXBvbmVudC5zY3NzIn0= */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbG9naXN0aWNhL2Rhc2hib2FyZHMvZmF0dXJhbWVudG8tZmluYW5jZWlyby90b2Rvcy90b2Rvcy5jb21wb25lbnQuc2NzcyJ9 */\";","export default \"<app-header appTitle=\\\"Faturamento Financeiro\\\">\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onFilter()\\\"\\r\\n    [disabled]=\\\"form.valid === false\\\">\\r\\n    Filtrar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\">\\r\\n  <div class=\\\"row\\\" #scrollToFilter>\\r\\n    <div class=\\\"col\\\">\\r\\n      <advanced-filter>\\r\\n        <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n          <div class=\\\"form-row\\\">\\r\\n            <div class=\\\"form-group col-md-2 pl-0\\\">\\r\\n              <label for=\\\"DT_INIC\\\">Data Inicial</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"far fa-calendar-alt\\\"></i></span>\\r\\n                </div>\\r\\n                <input\\r\\n                class=\\\"form-control\\\"\\r\\n                id=\\\"DT_INIC\\\"\\r\\n                type=\\\"text\\\"\\r\\n                (keydown.enter)=\\\"onFilter()\\\"\\r\\n                bsDatepicker\\r\\n                placeholder=\\\"Selecione...\\\"\\r\\n                [bsConfig]=\\\"bsConfig\\\"\\r\\n                formControlName=\\\"DT_INIC\\\"\\r\\n                [ngClass]=\\\"onFieldError('DT_INIC') + ' ' + onFieldRequired('DT_INIC')\\\"\\r\\n                >\\r\\n              </div>\\r\\n              <invalid-form-control [show]=\\\"onFieldInvalid('DT_INIC')\\\" message=\\\"Data Inicial é obrigatório.\\\"></invalid-form-control>\\r\\n            </div>\\r\\n            <div class=\\\"form-group col-md-2 pl-0\\\">\\r\\n              <label for=\\\"DT_FINA\\\">Data Final</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"far fa-calendar-alt\\\"></i></span>\\r\\n                </div>\\r\\n                <input\\r\\n                class=\\\"form-control\\\"\\r\\n                id=\\\"DT_FINA\\\"\\r\\n                type=\\\"text\\\"\\r\\n                (keydown.enter)=\\\"onFilter()\\\"\\r\\n                bsDatepicker\\r\\n                placeholder=\\\"Selecione...\\\"\\r\\n                [bsConfig]=\\\"bsConfig\\\"\\r\\n                formControlName=\\\"DT_FINA\\\"\\r\\n                [ngClass]=\\\"onFieldError('DT_FINA') + ' ' + onFieldRequired('DT_FINA')\\\">\\r\\n              </div>\\r\\n              <invalid-form-control [show]=\\\"onFieldInvalid('DT_FINA')\\\" message=\\\"Data Final é obrigatório.\\\"></invalid-form-control>\\r\\n            </div>\\r\\n            <div class=\\\"form-group col-lg-2 pl-0\\\">\\r\\n              <label for=\\\"NM_CLIE\\\">Cliente</label>\\r\\n              <ng-select\\r\\n              [searchable]=\\\"true\\\"\\r\\n              [clearable]=\\\"false\\\"\\r\\n              [items]=\\\"tipos\\\"\\r\\n              [virtualScroll]=\\\"true\\\"\\r\\n              labelForId=\\\"status\\\"\\r\\n              bindLabel=\\\"nome\\\"\\r\\n              bindValue=\\\"cod\\\"\\r\\n              id=\\\"status\\\"\\r\\n              (change)=\\\"changeCliente($event.cod)\\\"\\r\\n              formControlName=\\\"NM_CLIE\\\"\\r\\n              placeholder=\\\"Selecione...\\\"\\r\\n            >\\r\\n            </ng-select>\\r\\n            </div>\\r\\n            <div class=\\\"form-group col-lg-4\\\">\\r\\n              <label for=\\\"projetos\\\">Projeto</label>\\r\\n              <ng-select\\r\\n                [searchable]=\\\"true\\\"\\r\\n                [clearable]=\\\"true\\\"\\r\\n                [items]=\\\"projetos\\\"\\r\\n                [virtualScroll]=\\\"true\\\"\\r\\n                placeholder=\\\"Selecione...\\\"\\r\\n                [loading]=\\\"loadingProjetos\\\"\\r\\n                labelForId=\\\"DS_PROJ\\\"\\r\\n                bindLabel=\\\"DS_PROJ\\\"\\r\\n                bindValue=\\\"DS_PROJ\\\"\\r\\n                id=\\\"DS_PROJ\\\"\\r\\n                formControlName=\\\"DS_PROJ\\\"\\r\\n              >\\r\\n              </ng-select>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </advanced-filter>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"row\\\" *ngIf=\\\"modoView != 'todos'\\\">\\r\\n    <div class=\\\"col text-right\\\">\\r\\n      <div class=\\\"mtc-title\\\">\\r\\n        <a>\\r\\n          <span *ngIf=\\\"info\\\">{{ info | uppercase }}</span>\\r\\n        </a>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <logistica-dashboard-faturamento-financeiro-todos\\r\\n  [formFilter] = \\\"formFilter\\\" \\r\\n  *ngIf=\\\"modoView == 'todos'\\\">\\r\\n  </logistica-dashboard-faturamento-financeiro-todos>\\r\\n\\r\\n\\r\\n  <div *ngIf=\\\"modoView != undefined\\\">\\r\\n    <logistica-dashboard-faturamento-financeiro-clientes\\r\\n      [formFilter] = \\\"formFilter\\\" \\r\\n      *ngIf=\\\"modoView != 'todos' && modoView != 'novos negócios' \\\">\\r\\n    </logistica-dashboard-faturamento-financeiro-clientes>\\r\\n  </div>\\r\\n\\r\\n\\r\\n  <logistica-dashboard-faturamento-financeiro-novos\\r\\n  *ngIf=\\\"modoView == 'novos negócios'\\\"\\r\\n  [formFilter] = \\\"formFilter\\\" >\\r\\n  </logistica-dashboard-faturamento-financeiro-novos>\\r\\n  \\r\\n</app-body>\\r\\n\";","export default \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-9 border-right\\\">\\r\\n    <div class=\\\"row justify-content-between mt-0\\\" >\\r\\n      <div class=\\\"col pr-2 scroll-projetos\\\">\\r\\n        <div class=\\\"row justify-content-between\\\">\\r\\n          <div class=\\\"mtc-title p-0 mx-3 h-100 w-100 text-center border\\\" style=\\\"background: lightgray;\\\">Faturamento por Projeto</div>\\r\\n          <div id=\\\"novosNegociosSortedBarChart\\\" class=\\\"amcharts\\\" [hidden]=\\\"loadingFatuProjNovo\\\" style=\\\"min-height: 370px;\\\"></div>\\r\\n          <div class=\\\"spinner-border\\\" role=\\\"status\\\" style=\\\"margin-inline: auto;\\\" *ngIf=\\\"loadingFatuProjNovo\\\">\\r\\n            <span class=\\\"sr-only\\\">Loading...</span>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col p-0 pr-3 pl-2\\\" >\\r\\n    <div class=\\\"mtc-title p-0 w-100 text-center border\\\" style=\\\"background: lightgray;\\\">Mês Atual</div>\\r\\n    <div id=\\\"clusteredChartMesAtual\\\" class=\\\"amcharts\\\" [hidden]=\\\"loadingFatuAtualNovo\\\" style=\\\"min-height: 370px\\\"></div>\\r\\n    <div class=\\\"spinner-border\\\" role=\\\"status\\\" style=\\\"margin-left: 46%;\\\" *ngIf=\\\"loadingFatuAtualNovo\\\">\\r\\n      <span class=\\\"sr-only\\\">Loading...</span>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"row justify-content-between mt-3\\\" >\\r\\n  <div class=\\\"mtc-title p-0 mx-3 h-100 w-100 text-center border\\\" style=\\\"background: lightgray;\\\">faturamento Mensal</div>\\r\\n  <div id=\\\"clusteredChartFatuMensalCliente\\\" class=\\\"amcharts p-0 mx-3\\\" [hidden]=\\\"loadingFatuMensNovo\\\" style=\\\"position: relative; height: 400px\\\"></div>\\r\\n  <div class=\\\"spinner-border\\\" role=\\\"status\\\" style=\\\"margin-inline: auto;\\\" *ngIf=\\\"loadingFatuMensNovo\\\">\\r\\n    <span class=\\\"sr-only\\\">Loading...</span>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\";","export default \".scroll-projetos {\\n  height: 400px;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9sb2dpc3RpY2EvZGFzaGJvYXJkcy9mYXR1cmFtZW50by1maW5hbmNlaXJvL25vdm9zL25vdm9zLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUFDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbG9naXN0aWNhL2Rhc2hib2FyZHMvZmF0dXJhbWVudG8tZmluYW5jZWlyby9ub3Zvcy9ub3Zvcy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zY3JvbGwtcHJvamV0b3Mge1xyXG4gIGhlaWdodDogNDAwcHg7XHJcbiAgb3ZlcmZsb3cteTogYXV0bztcclxuICBvdmVyZmxvdy14OiBoaWRkZW47XHJcbn0iXX0= */\";"]}