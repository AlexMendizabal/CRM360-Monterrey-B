{"version":3,"sources":["./src/app/modules/logistica/integracao/integracao.module.ts","./src/app/modules/logistica/integracao/tms/notas-fiscais/notas-fiscais.component.ts","./src/app/modules/logistica/integracao/integracao-routing.module.ts","./src/app/modules/logistica/integracao/tms/services/notas-fiscais.service.ts","./src/app/modules/logistica/integracao/tms/notas-fiscais/notas-fiscais.component.html","./src/app/modules/logistica/integracao/tms/notas-fiscais/notas-fiscais.component.scss"],"names":[],"mappings":"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","file":"integracao-integracao-module-es2015.js","sourcesContent":["//angular\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n//components\nimport { LogisticaIntegracaoTMSNotasFiscaisComponent } from './tms/notas-fiscais/notas-fiscais.component';\n\n//modules\nimport { PipesModule } from 'src/app/shared/pipes/pipes.module';\nimport { LogisticaIntegracaoRoutingModule } from './integracao-routing.module';\nimport { NotFoundModule } from 'src/app/core/not-found/not-found.module';\n\n//ng-select\nimport { NgSelectModule } from '@ng-select/ng-select';\n\n//ngx\nimport { ModalModule, BsDatepickerModule, TimepickerModule, TabsModule, TooltipModule, PaginationModule } from 'ngx-bootstrap';\nimport { TemplatesModule } from 'src/app/shared/templates/templates.module';\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\n\n\n@NgModule({\n  declarations: [LogisticaIntegracaoTMSNotasFiscaisComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    NgSelectModule,\n    PaginationModule.forRoot(),\n    TooltipModule.forRoot(),\n    TabsModule.forRoot(),\n    TimepickerModule.forRoot(),\n    BsDatepickerModule.forRoot(),\n    ModalModule.forRoot(),\n    PipesModule,\n    LogisticaIntegracaoRoutingModule,\n    NotFoundModule,\n    SharedModule,\n    TemplatesModule\n  ]\n})\nexport class LogisticaIntegracaoModule { }\n","// angular\nimport { Component, OnInit, ViewChild, ElementRef, TemplateRef, OnDestroy } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators, FormControl } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n// services\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\nimport { DateService } from 'src/app/shared/services/core/date.service';\nimport { RouterService } from 'src/app/shared/services/core/router.service';\n\n// rxjs\nimport { finalize, delay } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n\n// ngx\nimport { BsLocaleService, BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\nimport { PageChangedEvent, BsModalService, BsModalRef } from 'ngx-bootstrap';\n\n// models\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\nimport { LogisticaIntegracoesTMSService } from '../services/notas-fiscais.service';\nimport { ILogisticaIntegracoesTMSTIDNotaFiscal } from '../models/logisticaIntegracoesTMSTIDNotaFiscal';\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\n\n@Component({\n  selector: 'logistica-integracoes-tms-tid-notas-fiscais',\n  templateUrl: './notas-fiscais.component.html',\n  styleUrls: ['./notas-fiscais.component.scss']\n})\nexport class LogisticaIntegracaoTMSNotasFiscaisComponent implements OnInit, OnDestroy {\n\n  appTitle = 'Monitor de Integrações';\n\n  form: FormGroup;\n\n  loading = true;\n  loaderNavbar = false;\n  showAdvancedFilter = true;\n\n  isDisabled = true;\n\n  breadCrumbTree: Array<Breadcrumb>;\n\n  totalItems = 0;\n  itemsPerPage = 100;\n  currentPage = 1;\n\n  $activatedRouteSubscription: Subscription;\n\n  qtItensIntegrados = 0;\n  qtItensComErro = 0;\n  qtItensNaoIntegrados = 0;\n\n  items: Array<any> = [];\n\n  bsConfig: Partial<BsDatepickerConfig>;\n  tableConfig: Partial<CustomTableConfig> = {\n    subtitleBorder: true\n  };\n\n  orderBy = 'NR_NOTA_FISC';\n  orderType = 'DESC';\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private pnotify: PNotifyService,\n    private dateService: DateService,\n    private localeService: BsLocaleService,\n    private route: Router,\n    private activatedRoute: ActivatedRoute,\n    private modalService: BsModalService,\n    private atividadesService: AtividadesService,\n    private routerService: RouterService,\n    private tmsService: LogisticaIntegracoesTMSService\n  ) {\n\n    this.form = this.formBuilder.group({\n      ID_LOGI_SENI_INTE_TID_NOTA_FISC: [null],\n      NM_ARQU: [null],\n      LOCA_ARQU: [null],\n      NR_NOTA_FISC: [null],\n      NR_CHAV_ACES: [null],\n      IN_IMPO: [null],\n      DT_INIC: [new Date()],\n      DT_FINA: [new Date()],\n      PAGI: 1,\n      TT_REGI_PAGI: [100],\n      ORDE_BY: [this.orderBy],\n      ORDE_TYPE: [this.orderType],\n      TIME: [new Date().getTime()],\n    });\n\n    this.localeService.use('pt-br');\n    this.bsConfig = Object.assign(\n      {},\n      { containerClass: 'theme-dark-blue' },\n      { adaptivePosition: true },\n      { showWeekNumbers: false }\n    );\n\n    this.modalService.config = {\n      backdrop: 'static',\n      animated: false\n    };\n\n  }\n\n  ngOnInit() {\n    this.setBreadCrumb();\n    this.registraAcesso();\n    this.onActivatedRoute();\n  }\n\n  ngOnDestroy() {\n    this.$activatedRouteSubscription.unsubscribe();\n  }\n\n  registraAcesso() {\n    this.atividadesService.registrarAcesso().subscribe();\n  }\n\n  onActivatedRoute() {\n    this.$activatedRouteSubscription = this.activatedRoute.queryParams\n      .subscribe(\n        (response) => {\n\n          if (Object.keys(response).length > 0)\n            this.form.patchValue(this.routerService.getBase64UrlParams(response));\n\n          this.getNotasFiscais(this.getParams());\n        }\n      )\n  }\n\n  setBreadCrumb() {\n    this.breadCrumbTree = [\n      {\n        descricao: 'Home'\n      },\n      {\n        descricao: this.appTitle\n      }\n    ];\n  }\n\n  onSearch() {\n    this.form.get(\"PAGI\").setValue(1);\n    this.onFilter();\n  }\n\n  onFilter() {\n    this.form.get(\"TIME\").setValue((new Date()).getTime());\n\n    this.route.navigate([], {\n      relativeTo: this.activatedRoute,\n      queryParams: this.routerService.setBase64UrlParams(this.getParams()),\n      queryParamsHandling: 'merge'\n    });\n  }\n\n  /* Paginação */\n  onPageChanged(event: PageChangedEvent): void {\n    this.form.get(\"PAGI\").setValue(event.page);\n    this.onFilter();\n  }\n  /* Paginação */\n\n\n  getParams() {\n\n    let _params = {};\n    let _obj = this.form.value;\n\n    for (let prop in _obj) {\n      if (_obj[prop]) {\n        if (_obj[prop] instanceof Date)\n          _params[prop] = this.dateService.convertToUrlDate(_obj[prop])\n        else\n          _params[prop] = _obj[prop]\n      }\n    }\n\n    return _params;\n\n  }\n\n  onResetForm() {\n    this.form.reset();\n  }\n\n  // Validação de formulário\n  onFieldError(field: string) {\n    if (this.onFieldInvalid(field)) {\n      return 'is-invalid';\n    }\n    return '';\n  }\n\n  onFieldInvalid(field: any) {\n    field = this.form.get(field);\n    return field.status == 'INVALID' && field.touched;\n  }\n\n  onFieldRequired(field: string) {\n    let required = false;\n    let formControl = new FormControl();\n\n    if (this.form.controls[field].validator) {\n      let validationResult = this.form.controls[field].validator(formControl);\n      required =\n        validationResult !== null && validationResult.required === true;\n    }\n\n    if (required) {\n      return 'is-required';\n    }\n  }\n  // Validação de formulário\n\n  getNotasFiscais(params?) {\n\n    if (!this.loading) this.loaderNavbar = true\n\n    this.tmsService\n      .getNotasFiscaisTID(params)\n      .pipe(\n        delay(1000),\n        finalize(() => {\n          this.loading = false;\n          this.loaderNavbar = false;\n        })\n\n      )\n      .subscribe(\n        response => {\n          if (response.status === 200) {\n            this.items = response.body['data']['registros'];\n            this.totalItems = response.body['data']['qtRegistros'];\n            this.getDadosIntegracao();\n          } else {\n            this.items = [];\n            this.pnotify.notice(\"Nenhum registro localizado.\");\n          }\n        },\n        error => {\n          this.pnotify.error()\n        }\n      )\n  }\n\n  getDadosIntegracao() {\n    this.qtItensIntegrados = this.items[0]['TT_REGI_INTE'];\n    this.qtItensNaoIntegrados = this.items[0]['TT_REGI_NAO_INTE'];\n  }\n\n  getBorder(item: ILogisticaIntegracoesTMSTIDNotaFiscal) {\n    if (item.IN_IMPO == '1')\n      return 'border-success';\n\n    return 'border-warning';\n  }\n\n  setOrderBy(column: string): void {\n\n    if (this.orderBy === column) {\n      if (this.orderType == 'DESC') {\n        this.orderType = 'ASC';\n      } else if (this.orderType == 'ASC') {\n        this.orderType = 'DESC';\n      }\n    } else {\n      this.orderBy = column;\n      this.orderType = 'ASC';\n    }\n\n    this.form.get(\"ORDE_BY\").setValue(this.orderBy);\n    this.form.get(\"ORDE_TYPE\").setValue(this.orderType);\n\n    this.onSearch();\n  }\n\n  setItemsPerPage() {\n    this.itemsPerPage = this.form.get(\"TT_REGI_PAGI\").value;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NotFoundComponent } from 'src/app/core/not-found/not-found.component';\nimport { LogisticaIntegracaoTMSNotasFiscaisComponent } from './tms/notas-fiscais/notas-fiscais.component';\n\nconst routes: Routes = [\n  {\n    path: 'tms/tid/notas-fiscais',\n    component: LogisticaIntegracaoTMSNotasFiscaisComponent\n  },\n  {\n    path: '**',\n    component: NotFoundComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LogisticaIntegracaoRoutingModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LogisticaIntegracoesTMSService {\n\n  private API = environment.API;\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n  getNotasFiscaisTID(params?) {\n    return this.http.get(`${this.API}/logistica/integracoes/senior/tms/tid/notas-fiscais`, {\n      params: params,\n      observe: \"response\"\n    })\n  }\n}\n","export default \"<loader-spinner-full-screen [hidden]=\\\"!loading\\\"></loader-spinner-full-screen>\\n<loader-spinner-navbar [hidden]=\\\"!loaderNavbar\\\"></loader-spinner-navbar>\\n<app-header [appTitle]=\\\"appTitle\\\">\\n    <button\\n    type=\\\"button\\\"\\n    (click) = \\\"onResetForm()\\\"\\n    >\\n    Limpar\\n  </button>\\n  <button\\n    [disabled]=\\\"form.status == 'INVALID'\\\"\\n    type=\\\"button\\\"\\n    (click) = \\\"onSearch()\\\"\\n    >\\n    Filtrar\\n  </button>\\n</app-header>\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\">\\n  <advanced-filter>\\n    <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\n      <div class=\\\"form-row\\\">\\n        <div class=\\\"form-group col\\\">\\n          <label for=\\\"DT_INIC\\\">Data Inicial</label>\\n          <div class=\\\"input-group\\\">\\n            <div class=\\\"input-group-prepend\\\">\\n              <span class=\\\"input-group-text\\\"><i class=\\\"far fa-calendar-alt\\\"></i></span>\\n            </div>\\n            <input\\n              class=\\\"form-control\\\"\\n              id=\\\"DT_INIC\\\"\\n              type=\\\"text\\\"\\n              bsDatepicker\\n              placeholder=\\\"SELECIONE...\\\"\\n              [bsConfig]=\\\"bsConfig\\\"\\n              formControlName=\\\"DT_INIC\\\">\\n          </div>\\n        </div>\\n        <div class=\\\"form-group col\\\">\\n          <label for=\\\"DT_FINA\\\">Data Final</label>\\n          <div class=\\\"input-group\\\">\\n            <div class=\\\"input-group-prepend\\\">\\n              <span class=\\\"input-group-text\\\"><i class=\\\"far fa-calendar-alt\\\"></i></span>\\n            </div>\\n            <input\\n              class=\\\"form-control\\\"\\n              id=\\\"DT_FINA\\\"\\n              type=\\\"text\\\"\\n              bsDatepicker\\n              placeholder=\\\"SELECIONE...\\\"\\n              [bsConfig]=\\\"bsConfig\\\"\\n              formControlName=\\\"DT_FINA\\\">\\n          </div>\\n        </div>\\n        <div class=\\\"form-group col\\\">\\n          <label for=\\\"NR_NOTA_FISC\\\">Nota Fiscal</label>\\n          <div class=\\\"input-group\\\">\\n            <div class=\\\"input-group-prepend\\\">\\n              <span class=\\\"input-group-text\\\"><i class=\\\"far fa-file-alt\\\"></i></span>\\n            </div>\\n            <input\\n              class=\\\"form-control\\\"\\n              id=\\\"NR_NOTA_FISC\\\"\\n              type=\\\"text\\\"\\n              formControlName=\\\"NR_NOTA_FISC\\\"\\n              placeholder=\\\"Digite...\\\"\\n              (keyup.enter)=\\\"onSearch()\\\"\\n              >\\n          </div>\\n        </div>\\n        <div class=\\\"form-group col\\\">\\n          <label for=\\\"NR_CHAV_ACES\\\">Chave de Acesso</label>\\n          <input\\n              class=\\\"form-control\\\"\\n              id=\\\"NR_CHAV_ACES\\\"\\n              type=\\\"text\\\"\\n              formControlName=\\\"NR_CHAV_ACES\\\"\\n              placeholder=\\\"Digite...\\\"\\n              (keyup.enter)=\\\"onSearch()\\\"\\n              >\\n        </div>\\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"IN_IMPO\\\">STATUS</label>\\n          <select \\n            class=\\\"form-control custom-select\\\"\\n            formControlName=\\\"IN_IMPO\\\"\\n            >\\n            <option value=\\\"\\\">TODOS</option>\\n            <option value=\\\"1\\\">IMPORTADOS</option>\\n            <option value=\\\"0\\\">NÃO IMPORTADOS</option>\\n          </select>\\n        </div>\\n        <div class=\\\"form-group col-1\\\">\\n          <label for=\\\"TT_REGI_PAGI\\\">REGISTROS</label>\\n          <select \\n            class=\\\"form-control custom-select\\\"\\n            formControlName=\\\"TT_REGI_PAGI\\\"\\n            (onchange)=\\\"setItemsPerPage()\\\"\\n            >\\n            <option value=\\\"10\\\">10</option>\\n            <option value=\\\"25\\\">25</option>\\n            <option value=\\\"50\\\">50</option>\\n            <option value=\\\"100\\\">100</option>\\n            <option value=\\\"250\\\">250</option>\\n            <option value=\\\"500\\\">500</option>\\n          </select>\\n        </div>\\n      </div>\\n    </form>\\n  </advanced-filter>\\n  <div [hidden]=\\\"loading || items.length == 0\\\">\\n    <table class=\\\"table table-sm table-hover border-left border-right border-bottom text-center table-fixed\\\" style=\\\"width: 40%\\\">\\n      <tbody>\\n        <tr>\\n          <td><i class=\\\"fas fa-circle text-success\\\"></i></td>\\n          <td>Integrado</td>\\n          <td>{{ qtItensIntegrados }}</td>\\n          <td>{{ qtItensIntegrados / totalItems | percent : '1.0-0'}}</td>\\n        </tr>\\n        <tr>\\n          <td><i class=\\\"fas fa-circle text-warning\\\"></i></td>\\n          <td>Não integrado</td>\\n          <td>{{ qtItensNaoIntegrados }}</td>\\n          <td>{{ qtItensNaoIntegrados / totalItems | percent : '1.0-0'}}</td>\\n        </tr>\\n      </tbody>\\n    </table>\\n    <div class=\\\"d-flex\\\">\\n      <div class=\\\"col p-0\\\">\\n        <custom-table [config]=\\\"tableConfig\\\">\\n          <ng-template #thead let-thead>\\n            <tr>\\n              <th scope=\\\"col\\\" class=\\\"text-center\\\">\\n                <thead-sorter\\n                  value=\\\"Nota Fiscal\\\"\\n                  [active]=\\\"orderBy == 'NR_NOTA_FISC'\\\"\\n                  [sort]=\\\"orderType\\\"\\n                  (click)=\\\"setOrderBy('NR_NOTA_FISC')\\\">\\n                </thead-sorter>\\n              </th>\\n              <th scope=\\\"col\\\">\\n                <thead-sorter\\n                  value=\\\"Chave de acesso\\\"\\n                  [active]=\\\"orderBy == 'NR_CHAV_ACES'\\\"\\n                  [sort]=\\\"orderType\\\"\\n                  (click)=\\\"setOrderBy('NR_CHAV_ACES')\\\">\\n                </thead-sorter>\\n              </th>\\n              <th scope=\\\"col\\\">\\n                <thead-sorter\\n                  value=\\\"Empresa\\\"\\n                  [active]=\\\"orderBy == 'NM_EMPR'\\\"\\n                  [sort]=\\\"orderType\\\"\\n                  (click)=\\\"setOrderBy('NM_EMPR')\\\">\\n                </thead-sorter>\\n              </th>\\n              <th scope=\\\"col\\\" class=\\\"text-center\\\">\\n                <thead-sorter\\n                  value=\\\"Importação para o TMS\\\"\\n                  [active]=\\\"orderBy == 'DT_IMPO'\\\"\\n                  [sort]=\\\"orderType\\\"\\n                  (click)=\\\"setOrderBy('DT_IMPO')\\\">\\n                </thead-sorter>\\n              </th>\\n            </tr>\\n          </ng-template>\\n          <ng-template #tbody let-tbody>\\n            <tr *ngFor=\\\"let item of items ; let indice = index\\\" >\\n              <td [ngClass]=\\\"getBorder(item)\\\" class=\\\"align-middle text-center\\\">{{ item?.NR_NOTA_FISC }}</td>\\n              <td>{{ item.NR_CHAV_ACES }}</td>\\n              <td>{{ item.NM_EMPR }}</td>\\n              <td class=\\\"text-center\\\">\\n                <span *ngIf=\\\"!item.DT_IMPO\\\">-</span>\\n                <span *ngIf=\\\"item.DT_IMPO\\\">{{ item.DT_IMPO  | date : 'dd/MM/yyyy HH:mm:ss'  }}</span>\\n              </td>\\n            </tr>\\n          </ng-template>\\n        </custom-table>\\n        Exibindo {{ itemsPerPage*(currentPage - 1) + 1 }} a {{ currentPage*(itemsPerPage) > totalItems ? totalItems : currentPage*(itemsPerPage) }} de {{ totalItems }}\\n        <pagination\\n          [maxSize]=\\\"10\\\"\\n          [totalItems]=\\\"totalItems\\\"\\n          (pageChanged)=\\\"onPageChanged($event)\\\"\\n          [(itemsPerPage)]=\\\"itemsPerPage\\\"\\n          [boundaryLinks]=\\\"true\\\"\\n          [(ngModel)]=\\\"currentPage\\\"\\n          previousText=\\\"&lsaquo;\\\"\\n          nextText=\\\"&rsaquo;\\\"\\n          firstText=\\\"&laquo;\\\"\\n          lastText=\\\"&raquo;\\\">\\n        </pagination>\\n      </div>\\n    </div>\\n  </div>\\n  <div [hidden]=\\\"loading || items.length > 0\\\" class=\\\"d-flex justify-content-center align-items-center\\\" style=\\\"width: 100%; height: 300px\\\">\\n    <empty-result message=\\\"Nenhuma informação encontrada\\\"></empty-result>\\n  </div>\\n</app-body>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbG9naXN0aWNhL2ludGVncmFjYW8vdG1zL25vdGFzLWZpc2NhaXMvbm90YXMtZmlzY2Fpcy5jb21wb25lbnQuc2NzcyJ9 */\";"],"sourceRoot":"webpack:///"}