{"version":3,"sources":["webpack:///src/app/modules/abastecimento/cadastros/parametros-gerais-estoque/detalhes-materiais/detalhes-materiais.component.ts","webpack:///src/app/modules/abastecimento/cadastros/parametros-gerais-estoque/parametros-gerais-estoque.module.ts","webpack:///src/app/modules/abastecimento/cadastros/parametros-gerais-estoque/detalhes-materiais/detalhes-materiais.component.scss","webpack:///src/app/modules/abastecimento/cadastros/parametros-gerais-estoque/detalhes-materiais/detalhes-materiais.component.html","webpack:///src/app/modules/abastecimento/cadastros/parametros-gerais-estoque/vinculo-depositos/vinculo-depositos.component.scss","webpack:///src/app/modules/abastecimento/cadastros/parametros-gerais-estoque/lista/lista.component.scss","webpack:///src/app/shared/modules/confirm-modal/confirm-modal.service.ts","webpack:///src/app/modules/abastecimento/cadastros/parametros-gerais-estoque/lista/lista.component.ts","webpack:///src/app/modules/abastecimento/cadastros/parametros-gerais-estoque/lista/lista.component.html","webpack:///src/app/modules/abastecimento/cadastros/parametros-gerais-estoque/parametros-gerais-estoque.service.ts","webpack:///src/app/modules/abastecimento/cadastros/parametros-gerais-estoque/vinculo-depositos/vinculo-depositos.component.ts","webpack:///src/app/modules/abastecimento/cadastros/parametros-gerais-estoque/parametros-gerais-estoque-routing.module.ts","webpack:///src/app/modules/abastecimento/cadastros/parametros-gerais-estoque/vinculo-depositos/vinculo-depositos.component.html"],"names":["AbastecimentoCadastrosParametrosGeraisEstoqueDetalhesMateriaisComponent","activatedRoute","formBuilder","pnotifyService","localeService","routerService","titleService","confirmModalService","service","loaderFullScreen","loaderNavbar","loading","loadingLogs","noResult","noResultLogs","abledEdit","loaderModal","colsNivelEstoque","data","dataFull","dataTotal","dataLogs","tiposNiveisEstoque","currentUser","JSON","parse","localStorage","getItem","idUsuario","headerModalPeriodo","headerModalMediaVendas","headerModalEstoqueDisponivel","enableSave","minimoBool","medioBool","maximoBool","enableSaveModal","minimoBoolModal","medioBoolModal","maximoBoolModal","ton","align","prefix","thousands","decimal","precision","boolModalLogs","breadCrumbTree","dataMediaVendas","situations","ID","NM_SITU","reverse","key","reverseA","keyA","itemsPerPage","totalItems","currentPage","begin","end","currentPageA","beginA","endA","use","form","group","_ID_APOI_TIPO_NIVE_ESTO","formModal","PERC_VARI_CONS","TIPO_VARI","required","DIAS_ESTO_MINI","DIAS_ESTO_MEDI","DIAS_ESTO_MAXI","setTimeout","setTitle","setBreadCrumb","checkRouterParams","getTiposNiveisdeEstoque","params","subscribe","descricao","routerLink","$activatedRouteSubscription","queryParams","Object","keys","length","_response","getBase64UrlParams","setValueHeaders","item","unsubscribe","idSituacao","idLinha","linha","empresa","deposito","idDeposito","idSubLinha","subLinha","idClasse","classe","idTipoMaterial","tipoMaterial","idTipoNivelEstoque","get","setValue","search","IN_STAT","ID_DEPO","ID_TIPO_MATE","ID_CLAS","ID_APOI_TIPO_NIVE_ESTO","pipe","res","status","notice","error","getCalculoPeriodoVendasRealizadasMaterial","BOOL_CALC","DATE_STAR_CALC","DT_INIC_PERI_VEND","DATE_END_CALC","DT_FINA_PERI_VEND","MEDI_VEND_CALC","TT_MEDI_VEND_PERI","VENDA_PERI_CALC","TT_VEND_PERI","handleCalcTotal","getNivelEstoqueMaterialDeposito","shift","getNivelEstoqueMaterialDepositoLogs","value","nameModal","ID_MATE","getLogs","periodoVendas","FORM_PERI_VEND","estoqueMinimo","FORM_ESTO_MINI","estoqueMedio","FORM_ESTO_MEDI","estoqueMaximo","FORM_ESTO_MAXI","mediaVendas","vendasPeriodo","dateStart","dateEnd","idMaterial","idAssociacaoMaterial","ID_ASSO_DEPO_MATE","arrayTemp","TT_PERI_VEND_MESE","parseInt","TT_ESTO_MINI","TT_ESTO_MEDI","TT_ESTO_MAXI","record","ID_TIPO_GRAV","ID_USUA","DATA","onConfirmChange","postNivelEstoqueMaterialDeposito","apiRoute","confirmChange","asObservable","result","success","onFilter","showConfirm","ON_EDIT_CELL","periodoMeses","TT_MESE_PERI_VEND","getCalculoPeriodoVendasRealizadas","minimo","medio","maximo","getValueMediaVendas","total","forEach","e","undefined","reset","paramsRecord","headerModalCodMaterial","ID_REFE_ERP","headerModalDescMaterial","NM_MATE","TT_ESTO_DISP","percetualVariacao","tipoVariacao","diasEstoqueMinimo","diasEstoqueMedio","diasEstoqueMaximo","parseFloat","postNivelEstoque","event","page","field","onFieldInvalid","touched","formControl","controls","validator","validationResult","onFieldInvalidModal","selector","template","AbastecimentoCadastrosParametrosGeraisEstoqueModule","declarations","imports","forRoot","ConfirmModalService","modalService","type","title","message","cancelTxt","okTxt","modalRef","show","animated","ignoreBackdropClick","keyboard","content","messageAlerts","confirmResult","providedIn","AbastecimentoCadastrosParametrosGeraisEstoqueListaComponent","router","atividadesService","ableEditMassa","compressedTable","ableButtonEditMassa","ableButtonCallModal","ableHeaderModalNivelEstoque","dataExcel","periodoVendasMassa","headerModalTipoMaterial","headerModalClasse","headerModalDeposito","tableConfig","subtitleBorder","subtitles","text","color","ID_EMPR","ID_LINH","ID_SUB_LINH","TT_MESE_PERI_VEND_SIMU","registrarAcesso","setDisabledItemsForm","getDataFilter","setFormValues","paramsDeposito","idsEmpresa","getDepositos","depositos","enable","disable","paramsClasse","descricaoLinhas","getClasses","classes","paramsSubLinha","getSubLinhas","subLinhas","paramsMaterial","idClasses","getMateriais","responseCode","materiais","patchValue","_params","_obj","prop","getLinhas","getEmpresas","getTiposMateriais","empresas","tipoMateriais","linhas","navigate","relativeTo","setBase64UrlParams","getParams","getNivelEstoqueClasseDeposito","PERI_VEND_CALC","ID_APOI_TIPO_MATE","SELECTED","getSearchExcel","map","mesesVendas","TT_VEND_PERI_SIMU","TT_MEDI_VEND_PERI_SIMU","DT_INIC_PERI_VEND_SIMU","DT_FINA_PERI_VEND_SIMU","arrayTemp_","push","NM_TIPO_MATE","NM_CLAS","NM_DEPO","AbastecimentoCadastrosParametrosGeraisEstoqueService","httpClient","BASE_URL","API","observe","toString","IN_RELA_EXCE","post","ID_SITU_MATE","AbastecimentoCadastrosParametrosGeraisEstoqueVinculoDepositosComponent","selectedRow","loadingModal","noResultModal","dataModal","empresasModal","depositosModal","tipoSituacao","id","name","getMaterialDepositos","linhaModal","NM_LINH","idSubLinhaModal","subLinhaModal","NM_SUB_LINH","idClasseModal","classeModal","idTipoMaterialModal","tipoMaterialModal","NM_APOI_TIPO_MATE","depositosAssociadosModal","TT_DEPO_ASSO","getEmpresasModal","getDepositosModal","loadDepositosAssociados","postMaterialDeposito","resetValuesForm","getDepositosAssociados","getMaterialDepositosDetalhes","stat","postNivelEstoqueMaterialDepositoAltearar","console","log","routes","path","children","component","redirectTo","pathMatch","AbastecimentoCadastrosParametrosGeraisEstoqueRoutingModule","forChild","exports"],"mappings":"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","file":"parametros-gerais-estoque-parametros-gerais-estoque-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\r\n\r\nimport { EMPTY, Subscription } from 'rxjs';\r\nimport { finalize, switchMap, take } from 'rxjs/operators';\r\n\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { RouterService } from 'src/app/shared/services/core/router.service';\r\nimport { TitleService } from 'src/app/shared/services/core/title.service';\r\nimport { ConfirmModalService } from 'src/app/shared/modules/confirm-modal/confirm-modal.service';\r\n\r\nimport { PageChangedEvent, BsLocaleService } from 'ngx-bootstrap';\r\n\r\nimport { AbastecimentoCadastrosParametrosGeraisEstoqueService } from '../parametros-gerais-estoque.service';\r\n\r\n@Component({\r\n  selector: 'detalhes-materiais',\r\n  templateUrl: './detalhes-materiais.component.html',\r\n  styleUrls: ['./detalhes-materiais.component.scss']\r\n})\r\nexport class AbastecimentoCadastrosParametrosGeraisEstoqueDetalhesMateriaisComponent implements OnInit {\r\n  loaderFullScreen: boolean = true;\r\n  loaderNavbar: boolean = false;\r\n  loading: boolean = false;\r\n  loadingLogs: boolean = false;\r\n  noResult: boolean = false;\r\n  noResultLogs: boolean = false;\r\n  abledEdit: boolean = false;\r\n  loaderModal: boolean = false;\r\n  colsNivelEstoque: boolean = false;\r\n\r\n  data: Array<any> = [];\r\n  dataFull: Array<any> = [];\r\n  dataTotal: Array<any> = [];\r\n  dataLogs: Array<any> = [];\r\n  tiposNiveisEstoque: Array<any> = [];\r\n  paramsRecord: any;\r\n\r\n  currentUser: any = JSON.parse(localStorage.getItem('currentUser'));\r\n  idUsuario: any = this.currentUser['info']['id'];\r\n\r\n  idSituacao: string;\r\n  idLinha: string;\r\n  linha: string;\r\n  empresa: string;\r\n  idEmpresa: string;\r\n  idDeposito: string;\r\n  deposito: string;\r\n  idSubLinha: string;\r\n  subLinha: string;\r\n  idClasse: string;\r\n  classe: string;\r\n  idTipoMaterial: string;\r\n  tipoMaterial: string;\r\n  depositosAssociados: number;\r\n  idTipoNivelEstoque: string;\r\n  idMaterial: string;\r\n  codigoMaterial: string;\r\n  descricaoMaterial: string;\r\n  idAssociacaoMaterial: string;\r\n\r\n  headerModalCodMaterial: string;\r\n  headerModalDescMaterial: string;\r\n  headerModalPeriodo: string = '';\r\n  headerModalMediaVendas: string = '';\r\n  headerModalEstoqueDisponivel: string = '';\r\n\r\n  formDateInicial: any;\r\n  formDateFinal: any;\r\n  formVolumeVendas: number;\r\n\r\n  formModal: FormGroup;\r\n\r\n  enableSave: boolean = false;\r\n  minimoBool: boolean = false;\r\n  medioBool: boolean = false;\r\n  maximoBool: boolean = false;\r\n\r\n  enableSaveModal: boolean = false;\r\n  minimoBoolModal: boolean = false;\r\n  medioBoolModal: boolean = false;\r\n  maximoBoolModal: boolean = false;\r\n\r\n  /* CurrentyMask para toneladas */\r\n  ton: any = {\r\n    align: 'left',\r\n    prefix: '',\r\n    thousands: '.',\r\n    decimal: ',',\r\n    precision: 3\r\n  };\r\n\r\n  /* Dados Modal Edição */\r\n    nameModal: string;\r\n    boolModalLogs: boolean = false;\r\n  /* Dados Modal Edição */\r\n\r\n  form: FormGroup;\r\n\r\n  breadCrumbTree: any = [];\r\n  dataMediaVendas: any = [];\r\n\r\n  situations: any = [\r\n    {ID:'0', NM_SITU: 'Inativo'},\r\n    {ID: '1', NM_SITU: 'Ativo'}\r\n  ];\r\n\r\n  $activatedRouteSubscription: Subscription;\r\n\r\n  /* Ordenação */\r\n  reverse: boolean = false;\r\n  key: string = 'NM_EMPR';\r\n  /* Ordenação */\r\n\r\n  /* Ordenação modal */\r\n  reverseA: boolean = false;\r\n  keyA: string = 'NM_CLAS';\r\n  /* Ordenação modal */\r\n\r\n  /* Paginação */\r\n  itemsPerPage: number = 15;\r\n  totalItems: number = 15;\r\n  currentPage: number = 1;\r\n  begin: number = 0;\r\n  end: number = 15;\r\n  /* Paginação */\r\n\r\n  /* Paginação Modal*/\r\n  currentPageA: number = 1;\r\n  beginA: number = 0;\r\n  endA: number = 15;\r\n  /* Paginação Modal*/\r\n\r\n  /* CurrentMask */\r\n  decimal: any = {\r\n    align: 'left',\r\n    prefix: '',\r\n    thousands: '.',\r\n    decimal: ',',\r\n    precision: 2\r\n  };\r\n  /* CurrentMask */\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private formBuilder: FormBuilder,\r\n    private pnotifyService: PNotifyService,\r\n    private localeService: BsLocaleService,\r\n    private routerService: RouterService,\r\n    private titleService: TitleService,\r\n    private confirmModalService: ConfirmModalService,\r\n    private service: AbastecimentoCadastrosParametrosGeraisEstoqueService\r\n  ) { \r\n    this.localeService.use('pt-br');\r\n    \r\n    this.form = this.formBuilder.group({\r\n      _ID_APOI_TIPO_NIVE_ESTO: [null],\r\n    });\r\n\r\n    this.formModal = this.formBuilder.group({\r\n      PERC_VARI_CONS: [null],\r\n      TIPO_VARI: [null, Validators.required],\r\n      DIAS_ESTO_MINI: [null, Validators.required],\r\n      DIAS_ESTO_MEDI: [null, Validators.required],\r\n      DIAS_ESTO_MAXI: [null, Validators.required]\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    setTimeout(() => {\r\n      this.loaderFullScreen = false;\r\n    }, 1000);\r\n    this.titleService.setTitle('Parâmetros gerais de estoque');\r\n    this.setBreadCrumb();\r\n    this.checkRouterParams();\r\n    this.getTiposNiveisdeEstoque();\r\n  }\r\n\r\n  setBreadCrumb(): void {\r\n    this.activatedRoute.params.subscribe((params: any) => {\r\n      this.breadCrumbTree = [\r\n        {\r\n          descricao: 'Home',\r\n          routerLink: '/abastecimento/home'\r\n        },\r\n        {\r\n          descricao: 'Cadastros',\r\n          routerLink: `/abastecimento/cadastros/${params['idSubModulo']}`\r\n        },\r\n        {\r\n          routerLink: `/abastecimento/cadastros/${params['idSubModulo']}/parametros-gerais-estoque/lista`,\r\n          descricao: 'Parâmetros Gerais de Estoque'\r\n        },\r\n        {\r\n          descricao: 'Detalhes materiais'\r\n        }\r\n      ];\r\n    });\r\n  }\r\n\r\n  checkRouterParams(): void {\r\n    this.$activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      (queryParams: any) => {\r\n        if (Object.keys(queryParams).length > 0) {\r\n          const _response = this.routerService.getBase64UrlParams(queryParams);\r\n          this.setValueHeaders(_response.item);\r\n        }\r\n      }\r\n    );\r\n    this.$activatedRouteSubscription.unsubscribe();\r\n  }\r\n\r\n  setValueHeaders(data: any): void {\r\n    this.idSituacao = data['IN_STAT'];\r\n    this.idLinha = data['ID_LINH'];\r\n    this.linha = data['NM_LINH'];\r\n    this.empresa = data['NM_EMPR'];\r\n    this.deposito = data['NM_DEPO'];\r\n    this.idDeposito = data['ID_DEPO'];\r\n    this.idSubLinha = data['ID_SUB_LINH'] ?? '';\r\n    this.subLinha = data['NM_SUB_LINH'] ?? '';\r\n    this.idClasse = data['ID_CLAS'];\r\n    this.classe = data['NM_CLAS'];\r\n    this.idTipoMaterial = data['ID_TIPO_MATE'];\r\n    this.tipoMaterial = data['NM_TIPO_MATE'];\r\n    this.idTipoNivelEstoque = data['_ID_APOI_TIPO_NIVE_ESTO'] ?? '';\r\n\r\n    if(this.idTipoNivelEstoque !== '') {\r\n      this.form.get('_ID_APOI_TIPO_NIVE_ESTO').setValue(this.idTipoNivelEstoque);\r\n    }\r\n\r\n    this.search({\r\n      IN_STAT: this.idSituacao,\r\n      ID_DEPO: this.idDeposito ,\r\n      ID_TIPO_MATE: this.idTipoMaterial ,\r\n      ID_CLAS: this.idClasse,\r\n      ID_APOI_TIPO_NIVE_ESTO: this.idTipoNivelEstoque\r\n    })\r\n  }\r\n\r\n  getTiposNiveisdeEstoque(): void {\r\n    this.tiposNiveisEstoque = [];\r\n    this.loaderNavbar = true;\r\n\r\n    this.service\r\n      .getTiposNiveisdeEstoque()\r\n      .pipe(finalize(() => this.loaderNavbar = false))\r\n      .subscribe((res:any) => {\r\n      if(Object.keys(res).length > 0) {\r\n        if(res.status === 200) {\r\n          if(res['body']['responseCode'] === 200) {\r\n            this.tiposNiveisEstoque = res['body']['result'];\r\n          } else {\r\n            this.pnotifyService.notice(res['body']['message']);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    error => {\r\n      this.pnotifyService.error('Erro ao obter tipos de niveis de estoque');\r\n    });\r\n  }\r\n\r\n  getCalculoPeriodoVendasRealizadas(params: any, item): void {\r\n    this.dataMediaVendas = [];\r\n    this.loaderNavbar = true;\r\n\r\n    this.service\r\n      .getCalculoPeriodoVendasRealizadasMaterial(params)\r\n      .pipe(finalize(() => this.loaderNavbar = false))\r\n      .subscribe((res:any) => {\r\n      if(Object.keys(res).length > 0) {\r\n        if(res.status === 200) {\r\n          if(res['body']['responseCode'] === 200) {\r\n            this.dataMediaVendas = res['body']['result'];\r\n            item.BOOL_CALC = true;\r\n            item.DATE_STAR_CALC = this.dataMediaVendas[0].DT_INIC_PERI_VEND;\r\n            item.DATE_END_CALC = this.dataMediaVendas[0].DT_FINA_PERI_VEND;\r\n            item.MEDI_VEND_CALC = this.dataMediaVendas[0].TT_MEDI_VEND_PERI;\r\n            item.VENDA_PERI_CALC = this.dataMediaVendas[0].TT_VEND_PERI;\r\n            this.handleCalcTotal();\r\n          } else {\r\n            this.pnotifyService.notice(res['body']['message']);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    error => {\r\n      this.pnotifyService.error('Erro ao realizar calculo do período de vendas');\r\n    });\r\n  }\r\n\r\n  search(params: any): void {    \r\n    this.loaderNavbar = true;\r\n    this.loading = false;\r\n    \r\n    this.data = [];\r\n    this.dataFull = [];\r\n    this.dataTotal = [];\r\n    this.service\r\n    .getNivelEstoqueMaterialDeposito(params)\r\n    .pipe(\r\n      finalize(() => this.loaderNavbar = false)\r\n      )\r\n      .subscribe(res => {\r\n        if(Object.keys(res).length > 0) {\r\n          if(res.status == 200){\r\n            if(res['body']['responseCode'] == 200) {\r\n              this.loading = true;\r\n              this.noResult = false;\r\n              this.dataFull = res['body']['result'];\r\n              this.dataTotal = this.dataFull.shift();\r\n              this.data = this.dataFull;\r\n            } else if (res['body']['responseCode'] ==  404){\r\n            this.noResult = true;\r\n            this.pnotifyService.notice(res['body']['message']);\r\n          } else {\r\n            this.pnotifyService.notice(res['body']['message']);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    error => {\r\n      this.noResult = true;\r\n      this.pnotifyService.error(\"Erro ao carregar Detalhes de Materiais\");\r\n    });\r\n  }\r\n\r\n  getLogs(params: any): void {    \r\n    this.loaderNavbar = true;\r\n    this.loadingLogs = false;\r\n    this.loaderModal = false;\r\n    \r\n    this.dataLogs = [];\r\n    this.service\r\n    .getNivelEstoqueMaterialDepositoLogs(params)\r\n    .pipe(\r\n      finalize(() => {this.loaderNavbar = false, this.loaderModal = true})\r\n      )\r\n      .subscribe(res => {\r\n        if(Object.keys(res).length > 0) {\r\n          if(res.status == 200){\r\n            if(res['body']['responseCode'] == 200) {\r\n              this.loadingLogs = true;\r\n              this.noResultLogs = false;\r\n              this.dataLogs = res['body']['result'];\r\n            } else if (res['body']['responseCode'] ==  404){\r\n            this.noResultLogs = true;\r\n            this.pnotifyService.notice(res['body']['message']);\r\n          } else {\r\n            this.noResultLogs = true;\r\n            this.pnotifyService.notice(res['body']['message']);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    error => {\r\n      this.noResultLogs = true;\r\n      this.pnotifyService.error(\"Erro ao carregar Logs de detalhes de Materiais\");\r\n    });\r\n  }\r\n\r\n  onFilter(): void {\r\n    this.search({\r\n      IN_STAT: this.idSituacao,\r\n      ID_DEPO: this.idDeposito ,\r\n      ID_TIPO_MATE: this.idTipoMaterial ,\r\n      ID_CLAS: this.idClasse,\r\n      ID_APOI_TIPO_NIVE_ESTO: this.form.value['_ID_APOI_TIPO_NIVE_ESTO'] ?? ''\r\n    })\r\n  }\r\n\r\n  openModalLogs(item: any): void {\r\n    this.nameModal = 'Logs';\r\n    this.boolModalLogs = true;\r\n\r\n    const params = {\r\n      ID_DEPO: item.ID_DEPO ?? '',\r\n      ID_MATE: item.ID_MATE ?? ''\r\n    }\r\n\r\n    this.getLogs(params);\r\n  }\r\n\r\n  closeModal(): void {\r\n    this.nameModal = '';\r\n    this.boolModalLogs = false;\r\n  }\r\n\r\n  onEdit(item: any): any {\r\n    const periodoVendas = item.FORM_PERI_VEND ?? '';\r\n    const estoqueMinimo = item.FORM_ESTO_MINI ?? '';\r\n    const estoqueMedio = item.FORM_ESTO_MEDI ?? '';\r\n    const estoqueMaximo = item.FORM_ESTO_MAXI ?? '';\r\n    const mediaVendas = item.MEDI_VEND_CALC ?? '';\r\n    const vendasPeriodo = item.VENDA_PERI_CALC ?? '';\r\n    const dateStart = item.DATE_STAR_CALC ?? '';\r\n    const dateEnd = item.DATE_END_CALC ?? '';\r\n    const idDeposito = item.ID_DEPO ?? '';\r\n    this.idMaterial = item.ID_MATE ?? '';\r\n    this.idAssociacaoMaterial = item.ID_ASSO_DEPO_MATE ?? '';\r\n\r\n    const arrayTemp = [{\r\n      ID_DEPO: idDeposito,\r\n      ID_MATE: this.idMaterial,\r\n      TT_PERI_VEND_MESE: parseInt(periodoVendas),\r\n      TT_VEND_PERI: vendasPeriodo,\r\n      DT_INIC_PERI_VEND: dateStart,\r\n      DT_FINA_PERI_VEND:  dateEnd ?? '',\r\n      TT_MEDI_VEND_PERI: mediaVendas ?? '',\r\n      TT_ESTO_MINI: estoqueMinimo,\r\n      TT_ESTO_MEDI: estoqueMedio,\r\n      TT_ESTO_MAXI: estoqueMaximo,\r\n      IN_STAT: 1\r\n    }];\r\n\r\n    const record = {\r\n      ID_TIPO_GRAV: 2,\r\n      ID_USUA: parseInt(this.idUsuario),\r\n      DATA: arrayTemp\r\n    }\r\n\r\n    this.onConfirmChange(this.service.postNivelEstoqueMaterialDeposito(record));\r\n  }\r\n\r\n  onConfirmChange(apiRoute: any): any{\r\n    this.confirmChange()\r\n    .asObservable()\r\n    .pipe(\r\n      take(1),\r\n      switchMap((result: any) => {\r\n        if (!result) return EMPTY;\r\n          this.loaderNavbar = true;\r\n          return apiRoute;\r\n      }),\r\n      finalize(() => {\r\n        this.loaderNavbar = false;\r\n      })\r\n    )\r\n    .subscribe(\r\n      (success: any) => {\r\n        setTimeout(() => {\r\n          this.onFilter();\r\n        }, 700);\r\n        this.pnotifyService.success();\r\n      },\r\n      (error: any) => {\r\n        this.pnotifyService.error();\r\n      }\r\n    );\r\n  }\r\n\r\n  confirmChange(): any {\r\n    return this.confirmModalService.showConfirm(\r\n     null,\r\n     'Confirmar alteração',\r\n     'Deseja realmente prosseguir com a alteração do(s) registro(s)?',\r\n     'Cancelar',\r\n     'Confirmar'\r\n   );\r\n }\r\n\r\n  ableEditCell(item: any): void {\r\n    item.FORM_PERI_VEND = null;\r\n    item.FORM_ESTO_MINI = null;\r\n    item.FORM_ESTO_MEDI = null;\r\n    item.FORM_ESTO_MAXI = null;\r\n    item.DATE_STAR_CALC = '';\r\n    item.DATE_END_CALC = '';\r\n    item.MEDI_VEND_CALC = 0;\r\n    item.ON_EDIT_CELL = !item.ON_EDIT_CELL\r\n  }\r\n\r\n  disableEditCell(item: any): void {\r\n    item.FORM_PERI_VEND = null;\r\n    item.DATE_STAR_CALC = '';\r\n    item.DATE_END_CALC = '';\r\n    item.MEDI_VEND_CALC = 0;\r\n    item.ON_EDIT_CELL = !item.ON_EDIT_CELL;\r\n    this.handleCalcTotal();\r\n  }\r\n\r\n  calculateMediaVendas(item: any): void {\r\n    const periodoMeses: string = item.FORM_PERI_VEND ?? '';\r\n    const params: any = {\r\n      ID_DEPO: this.idDeposito,\r\n      ID_MATE: item.ID_MATE,\r\n      TT_MESE_PERI_VEND: periodoMeses\r\n    }\r\n    this.getCalculoPeriodoVendasRealizadas(params, item);\r\n  }\r\n\r\n  /* Validação para habilitar botão de salvar */\r\n  validatorsSave(item: any): boolean {\r\n    const minimo = item.FORM_ESTO_MINI ;\r\n    const medio = item.FORM_ESTO_MEDI;\r\n    const maximo = item.FORM_ESTO_MAXI;\r\n\r\n    if( minimo > medio || minimo > maximo) {\r\n      this.minimoBool = false;\r\n    } else {\r\n      this.minimoBool = true;\r\n    }\r\n\r\n    if( medio > maximo || medio < minimo) {\r\n      this.medioBool = false;\r\n    } else {\r\n      this.medioBool = true;\r\n    }\r\n\r\n    if( maximo < minimo || maximo < medio) {\r\n      this.maximoBool = false;\r\n    } else {\r\n      this.maximoBool = true;\r\n    }\r\n  \r\n    if( this.minimoBool && this.medioBool && this.maximoBool ) {\r\n      this.enableSave = true;\r\n    } else {\r\n      this.enableSave = false;\r\n    }\r\n    return this.enableSave;\r\n  }\r\n\r\n  /* Realiza calculo dos dados do totalizador*/\r\n  handleCalcTotal(): void {\r\n    let getValueMediaVendas = 0;\r\n    let total = 0;\r\n\r\n    this.data.forEach( e => {\r\n      if(e.MEDI_VEND_CALC != undefined) {\r\n        getValueMediaVendas = e.MEDI_VEND_CALC;\r\n      } else {\r\n        getValueMediaVendas = e.TT_MEDI_VEND_PERI;\r\n      }\r\n      total = total + getValueMediaVendas;\r\n    });\r\n\r\n    this.dataTotal['TT_MEDI_VEND_PERI'] =  total;\r\n  }\r\n\r\n  setDefaultValueFormModalNivelEstoque(item): void {\r\n    this.formModal.reset();\r\n    this.formModal.get('TIPO_VARI').setValue('1');\r\n\r\n    this.paramsRecord = {};\r\n\r\n    if (item) {\r\n      this.headerModalCodMaterial = item.ID_REFE_ERP;\r\n      this.headerModalDescMaterial = item.NM_MATE;\r\n      this.headerModalPeriodo = item.TT_PERI_VEND_MESE;\r\n      this.headerModalMediaVendas = item.TT_MEDI_VEND_PERI;\r\n      this.headerModalEstoqueDisponivel = item.TT_ESTO_DISP;\r\n\r\n      this.paramsRecord = {\r\n        ID_TIPO_GRAV: 3,\r\n        ID_MATE: item.ID_MATE,\r\n        ID_DEPO: item.ID_DEPO\r\n      }\r\n    }\r\n  }\r\n\r\n  OnSaveNivelEstoque(): void {\r\n    let record = this.paramsRecord;\r\n    const percetualVariacao = this.formModal.value['PERC_VARI_CONS'];\r\n    const tipoVariacao = this.formModal.value['TIPO_VARI'];\r\n    const diasEstoqueMinimo = this.formModal.value['DIAS_ESTO_MINI'];\r\n    const diasEstoqueMedio = this.formModal.value['DIAS_ESTO_MEDI'];\r\n    const diasEstoqueMaximo = this.formModal.value['DIAS_ESTO_MAXI'];\r\n\r\n    record['VL_PERC_VARI_CONS'] = percetualVariacao ? parseFloat(percetualVariacao) : '',\r\n    record['IN_PERC_VARI_CONS'] = tipoVariacao ? parseInt(tipoVariacao) : '',\r\n    record['TT_DIAS_ESTO_MINI'] = diasEstoqueMinimo ? parseInt(diasEstoqueMinimo) : '',\r\n    record['TT_DIAS_ESTO_MEDI'] = diasEstoqueMedio ? parseInt(diasEstoqueMedio) : '',\r\n    record['TT_DIAS_ESTO_MAXI'] = diasEstoqueMaximo ? parseInt(diasEstoqueMaximo) : '',\r\n    record['ID_USUA'] = parseInt(this.idUsuario),\r\n\r\n    this.onConfirmChange(this.service.postNivelEstoque(record));\r\n  }\r\n\r\n  setColsNivelEstoqueTrue(): void {\r\n    this.colsNivelEstoque = !this.colsNivelEstoque;\r\n    this.data.forEach( e => {\r\n      if(e.ON_EDIT_CELL) {\r\n        e.ON_EDIT_CELL = !e.ON_EDIT_CELL\r\n      }\r\n    });\r\n  }\r\n\r\n  /* Ordenação */\r\n  sort(key: string): void {\r\n    this.key = key;\r\n    this.reverse = !this.reverse;\r\n  }\r\n  /* Ordenação */\r\n  \r\n  /* Paginação Tabela Principal*/\r\n  onPageChanged(event: PageChangedEvent): void {\r\n    this.begin = (event.page - 1) * event.itemsPerPage;\r\n    this.end = event.page * event.itemsPerPage;\r\n  }\r\n  /* Paginação */\r\n\r\n  /* Paginação Modal*/\r\n  onPageChangedA(event: PageChangedEvent): void {\r\n    this.beginA = (event.page - 1) * event.itemsPerPage;\r\n    this.endA = event.page * event.itemsPerPage;\r\n  }\r\n  /* Paginação Modal*/\r\n\r\n  /* Ordenação Modal*/\r\n  sortA(keyA: string): void {\r\n    this.keyA = keyA;\r\n    this.reverseA = !this.reverseA;\r\n  }\r\n  /* Ordenação Modal*/\r\n\r\n  onFieldError(field: string): string {\r\n    if (this.onFieldInvalid(field)) {\r\n      return 'is-invalid';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any): any {\r\n    field = this.form.get(field);\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onFieldRequired(field: string): any {\r\n    let required = false;\r\n    let formControl = new FormControl();\r\n\r\n    if (this.form.controls[field].validator) {\r\n      let validationResult = this.form.controls[field].validator(formControl);\r\n      required =\r\n        validationResult !== null && validationResult.required === true;\r\n    }\r\n\r\n    if (required) {\r\n      return 'is-required';\r\n    }\r\n  }\r\n\r\n  onFieldErrorModal(field: string): string {\r\n    if (this.onFieldInvalidModal(field)) {\r\n      return 'is-invalid';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalidModal(field: any): any {\r\n    field = this.formModal.get(field);\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onFieldRequiredModal(field: string): any {\r\n    let required = false;\r\n    let formControl = new FormControl();\r\n\r\n    if (this.formModal.controls[field].validator) {\r\n      let validationResult = this.formModal.controls[field].validator(formControl);\r\n      required =\r\n        validationResult !== null && validationResult.required === true;\r\n    }\r\n\r\n    if (required) {\r\n      return 'is-required';\r\n    }\r\n  }\r\n\r\n  /* Realiza comparação para verificar se volume minimo < volumeMedio < volume maximo */\r\n  compareValuesEstoque(field: any): any {\r\n    let minimo = this.formModal.get(\"DIAS_ESTO_MINI\").value;\r\n    let medio = this.formModal.get(\"DIAS_ESTO_MEDI\").value;\r\n    let maximo = this.formModal.get(\"DIAS_ESTO_MAXI\").value;\r\n\r\n    minimo = parseInt(minimo);\r\n    medio = parseInt(medio);\r\n    maximo = parseInt(maximo);\r\n\r\n    if (this.formModal.get(\"DIAS_ESTO_MAXI\").touched) {\r\n      if(field == \"DIAS_ESTO_MINI\") {\r\n        if( minimo > medio || minimo > maximo) {\r\n          this.minimoBoolModal = false;\r\n          return true;\r\n        } else {\r\n          this.minimoBoolModal = true;\r\n        }\r\n      }\r\n  \r\n      if(field == \"DIAS_ESTO_MEDI\") {\r\n        if( medio > maximo || medio < minimo) {\r\n          this.medioBoolModal = false;\r\n          return true;\r\n        } else {\r\n          this.medioBoolModal = true;\r\n        }\r\n      }\r\n  \r\n      if(field == \"DIAS_ESTO_MAXI\") {\r\n        if( maximo < minimo || maximo < medio) {\r\n          this.maximoBoolModal = false;\r\n          return true;\r\n        } else {\r\n          this.maximoBoolModal = true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /* Validação para habilitar botão de salvar no modal Nivel Estoque*/\r\n  validatorsSaveModal(): boolean {\r\n    if( this.minimoBoolModal && this.minimoBoolModal && this.minimoBoolModal ) {\r\n      this.enableSaveModal = true;\r\n    } else {\r\n      this.enableSaveModal = false;\r\n    }\r\n    return this.enableSaveModal;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\nimport { OrderModule } from 'ngx-order-pipe';\r\nimport { TooltipModule, PaginationModule, TabsModule, ModalModule, BsDatepickerModule } from 'ngx-bootstrap';\r\n\r\nimport { NotFoundModule } from 'src/app/core/not-found/not-found.module';\r\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\r\nimport { TemplatesModule } from 'src/app/shared/templates/templates.module';\r\n\r\n// ng2-currency-mask\r\nimport { CurrencyMaskModule } from 'ng2-currency-mask';\r\n\r\nimport { AbastecimentoCadastrosParametrosGeraisEstoqueRoutingModule } from './parametros-gerais-estoque-routing.module';\r\nimport { AbastecimentoCadastrosParametrosGeraisEstoqueListaComponent } from './lista/lista.component';\r\nimport { AbastecimentoCadastrosParametrosGeraisEstoqueVinculoDepositosComponent } from './vinculo-depositos/vinculo-depositos.component';\r\nimport { AbastecimentoCadastrosParametrosGeraisEstoqueDetalhesMateriaisComponent } from './detalhes-materiais/detalhes-materiais.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AbastecimentoCadastrosParametrosGeraisEstoqueListaComponent, \r\n    AbastecimentoCadastrosParametrosGeraisEstoqueVinculoDepositosComponent, \r\n    AbastecimentoCadastrosParametrosGeraisEstoqueDetalhesMateriaisComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    AbastecimentoCadastrosParametrosGeraisEstoqueRoutingModule,\r\n    NotFoundModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    SharedModule,\r\n    CurrencyMaskModule,\r\n    TooltipModule.forRoot(),\r\n    BsDatepickerModule.forRoot(),\r\n    PaginationModule.forRoot(),\r\n    TabsModule.forRoot(),\r\n    ModalModule.forRoot(),\r\n    NgSelectModule,\r\n    TemplatesModule,\r\n    OrderModule\r\n  ]\r\n})\r\nexport class AbastecimentoCadastrosParametrosGeraisEstoqueModule { }\r\n","export default \"#modal-cadastro-materiais > div > button:hover {\\n  background-color: #e6ebf1;\\n  background-image: linear-gradient(-180deg, #f0f3f6, #e6ebf1 90%);\\n  background-position: -0.5em;\\n  border-color: rgba(27, 31, 35, 0.35);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9hYmFzdGVjaW1lbnRvL2NhZGFzdHJvcy9wYXJhbWV0cm9zLWdlcmFpcy1lc3RvcXVlL2RldGFsaGVzLW1hdGVyaWFpcy9kZXRhbGhlcy1tYXRlcmlhaXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBQTtFQUVBLGdFQUFBO0VBQ0EsMkJBQUE7RUFDQSxvQ0FBQTtBQUNGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9hYmFzdGVjaW1lbnRvL2NhZGFzdHJvcy9wYXJhbWV0cm9zLWdlcmFpcy1lc3RvcXVlL2RldGFsaGVzLW1hdGVyaWFpcy9kZXRhbGhlcy1tYXRlcmlhaXMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjbW9kYWwtY2FkYXN0cm8tbWF0ZXJpYWlzID4gZGl2ID4gYnV0dG9uOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZlYmYxO1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2YwZjNmNiksIGNvbG9yLXN0b3AoOTAlLCAjZTZlYmYxKSk7XHJcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KC0xODBkZWcsICNmMGYzZjYsICNlNmViZjEgOTAlKTtcclxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMC41ZW07XHJcbiAgYm9yZGVyLWNvbG9yOiByZ2JhKDI3LCAzMSwgMzUsIDAuMzUpO1xyXG59Il19 */\";","export default \"<loader-spinner-full-screen\\r\\n  *ngIf=\\\"loaderFullScreen\\\"\\r\\n></loader-spinner-full-screen>\\r\\n<loader-spinner-navbar *ngIf=\\\"loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<app-header appTitle=\\\"Detalhes materiais\\\">\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onFilter()\\\"\\r\\n    [disabled]=\\\"form.status == 'INVALID'\\\"\\r\\n  >\\r\\n    Filtrar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\" [show]=\\\"!loaderFullScreen\\\">\\r\\n  <div class=\\\"row pl-3 pr-3 pb-3\\\">\\r\\n    <div class=\\\"col-md-12 p-3 border rounded shadow\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-2\\\">\\r\\n          <p>\\r\\n            <strong>EMPRESA</strong><br />\\r\\n            {{ empresa }}\\r\\n          </p>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-2\\\">\\r\\n          <p>\\r\\n            <strong>DEPÓSITO</strong><br />\\r\\n            {{ deposito }}\\r\\n          </p>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-2\\\">\\r\\n          <p>\\r\\n            <strong>TIPO DE MATERIAL</strong><br />\\r\\n            {{ tipoMaterial }}\\r\\n          </p>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-2\\\">\\r\\n          <p>\\r\\n            <strong>LINHA</strong><br />\\r\\n            {{ linha }}\\r\\n          </p>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-2\\\">\\r\\n          <p>\\r\\n            <strong>SUB LINHA</strong><br />\\r\\n            {{ subLinha ? subLinha : '-' }}\\r\\n          </p>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-2\\\">\\r\\n          <p>\\r\\n            <strong>CLASSE</strong><br />\\r\\n            {{ classe }}\\r\\n          </p>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div>\\r\\n        <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n          <div class=\\\"form-row\\\">\\r\\n            <div class=\\\"form-group col-lg-2\\\">\\r\\n              <label for=\\\"_ID_APOI_TIPO_NIVE_ESTO\\\">NÍVEL ESTOQUE</label>\\r\\n              <ng-select\\r\\n                [searchable]=\\\"true\\\"\\r\\n                [clearable]=\\\"true\\\"\\r\\n                [items]=\\\"tiposNiveisEstoque\\\"\\r\\n                [virtualScroll]=\\\"true\\\"\\r\\n                [hideSelected]=\\\"true\\\"\\r\\n                [closeOnSelect]=\\\"true\\\"\\r\\n                placeholder=\\\"TODOS\\\"\\r\\n                bindLabel=\\\"NM_APOI_TIPO_NIVE_ESTO\\\"\\r\\n                bindValue=\\\"ID\\\"\\r\\n                formControlName=\\\"_ID_APOI_TIPO_NIVE_ESTO\\\"\\r\\n              >\\r\\n              </ng-select>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"mt-2 table-responsive\\\" *ngIf=\\\"loading\\\">\\r\\n    <custom-table>\\r\\n      <ng-template #thead let-thead>\\r\\n        <tr class=\\\"text-center\\\">\\r\\n          <th nowrap scope=\\\"col\\\" (click)=\\\"sort('ID_REFE_ERP')\\\">\\r\\n            Código material\\r\\n            <span *ngIf=\\\"key == 'ID_REFE_ERP'\\\"\\r\\n              ><i\\r\\n                [ngClass]=\\\"\\r\\n                  reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                \\\"\\r\\n              ></i\\r\\n            ></span>\\r\\n            <span *ngIf=\\\"key != 'ID_REFE_ERP'\\\"\\r\\n              ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n            ></span>\\r\\n          </th>\\r\\n          <th nowrap scope=\\\"col\\\" (click)=\\\"sort('NM_MATE')\\\">\\r\\n            Descrição material\\r\\n            <span *ngIf=\\\"key == 'NM_MATE'\\\"\\r\\n              ><i\\r\\n                [ngClass]=\\\"\\r\\n                  reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                \\\"\\r\\n              ></i\\r\\n            ></span>\\r\\n            <span *ngIf=\\\"key != 'NM_MATE'\\\"\\r\\n              ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n            ></span>\\r\\n          </th>\\r\\n          <th nowrap scope=\\\"col\\\" (click)=\\\"sort('TT_PERI_VEND_MESE')\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n            Período de vendas\\r\\n            <span *ngIf=\\\"key == 'TT_PERI_VEND_MESE'\\\"\\r\\n              ><i\\r\\n                [ngClass]=\\\"\\r\\n                  reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                \\\"\\r\\n              ></i\\r\\n            ></span>\\r\\n            <span *ngIf=\\\"key != 'TT_PERI_VEND_MESE'\\\"\\r\\n              ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n            ></span>\\r\\n          </th>\\r\\n          <th nowrap scope=\\\"col\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n            Período\\r\\n          </th>\\r\\n          <th nowrap scope=\\\"col\\\" (click)=\\\"sort('TT_MEDI_VEND_PERI')\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n            Média de Vendas\\r\\n            <span *ngIf=\\\"key == 'TT_MEDI_VEND_PERI'\\\"\\r\\n              ><i\\r\\n                [ngClass]=\\\"\\r\\n                  reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                \\\"\\r\\n              ></i\\r\\n            ></span>\\r\\n            <span *ngIf=\\\"key != 'TT_MEDI_VEND_PERI'\\\"\\r\\n              ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n            ></span>\\r\\n          </th>\\r\\n          <th nowrap scope=\\\"col\\\" (click)=\\\"sort('TT_ESTO_DISP')\\\">\\r\\n            Estoque Disponível\\r\\n            <span *ngIf=\\\"key == 'TT_ESTO_DISP'\\\"\\r\\n              ><i\\r\\n                [ngClass]=\\\"\\r\\n                  reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                \\\"\\r\\n              ></i\\r\\n            ></span>\\r\\n            <span *ngIf=\\\"key != 'TT_ESTO_DISP'\\\"\\r\\n              ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n            ></span>\\r\\n          </th>\\r\\n          <th nowrap scope=\\\"col\\\" (click)=\\\"sort('NR_DIAS_GIRO')\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n            Giro\\r\\n            <span *ngIf=\\\"key == 'NR_DIAS_GIRO'\\\"\\r\\n              ><i\\r\\n                [ngClass]=\\\"\\r\\n                  reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                \\\"\\r\\n              ></i\\r\\n            ></span>\\r\\n            <span *ngIf=\\\"key != 'NR_DIAS_GIRO'\\\"\\r\\n              ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n            ></span>\\r\\n          </th>\\r\\n          <th nowrap scope=\\\"col\\\">\\r\\n          <!-- <th nowrap scope=\\\"col\\\" (click)=\\\"sort('DS_APOI_TIPO_NIVE_ESTO')\\\"> -->\\r\\n            Nível Estoque\\r\\n            <button\\r\\n              class=\\\"btn-icon-sm\\\"\\r\\n              (click)=\\\"setColsNivelEstoqueTrue()\\\"\\r\\n            >\\r\\n              <i\\r\\n                [ngClass]=\\\"colsNivelEstoque ? 'fas fa-minus' : 'fas fa-plus'\\\"\\r\\n                title=\\\"Mostrar Nivel Estoque\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n              ></i>\\r\\n            </button>\\r\\n            <!-- <span *ngIf=\\\"key == 'DS_APOI_TIPO_NIVE_ESTO'\\\"\\r\\n              ><i\\r\\n                [ngClass]=\\\"\\r\\n                  reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                \\\"\\r\\n              ></i\\r\\n            ></span>\\r\\n            <span *ngIf=\\\"key != 'DS_APOI_TIPO_NIVE_ESTO'\\\"\\r\\n              ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n            ></span> -->\\r\\n          </th>\\r\\n          <th nowrap scope=\\\"col\\\" (click)=\\\"sort('TT_ESTO_MINI')\\\">\\r\\n            Estoque mínimo\\r\\n            <span *ngIf=\\\"key == 'TT_ESTO_MINI'\\\"\\r\\n              ><i\\r\\n                [ngClass]=\\\"\\r\\n                  reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                \\\"\\r\\n              ></i\\r\\n            ></span>\\r\\n            <span *ngIf=\\\"key != 'TT_ESTO_MINI'\\\"\\r\\n              ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n            ></span>\\r\\n          </th>\\r\\n          <th nowrap scope=\\\"col\\\" (click)=\\\"sort('TT_ESTO_MEDI')\\\">\\r\\n            Estoque médio\\r\\n            <span *ngIf=\\\"key == 'TT_ESTO_MEDI'\\\"\\r\\n              ><i\\r\\n                [ngClass]=\\\"\\r\\n                  reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                \\\"\\r\\n              ></i\\r\\n            ></span>\\r\\n            <span *ngIf=\\\"key != 'TT_ESTO_MEDI'\\\"\\r\\n              ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n            ></span>\\r\\n          </th>\\r\\n          <th nowrap scope=\\\"col\\\" (click)=\\\"sort('TT_ESTO_MAXI')\\\">\\r\\n            Estoque máximo\\r\\n            <span *ngIf=\\\"key == 'TT_ESTO_MAXI'\\\"\\r\\n              ><i\\r\\n                [ngClass]=\\\"\\r\\n                  reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                \\\"\\r\\n              ></i\\r\\n            ></span>\\r\\n            <span *ngIf=\\\"key != 'TT_ESTO_MAXI'\\\"\\r\\n              ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n            ></span>\\r\\n          </th>\\r\\n          <th nowrap scope=\\\"col\\\" (click)=\\\"sort('DS_APOI_TIPO_NIVE_ESTO')\\\" [hidden]=\\\"!colsNivelEstoque\\\">\\r\\n            % Variação\\r\\n            <span *ngIf=\\\"key == 'DS_APOI_TIPO_NIVE_ESTO'\\\"\\r\\n              ><i\\r\\n                [ngClass]=\\\"\\r\\n                  reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                \\\"\\r\\n              ></i\\r\\n            ></span>\\r\\n            <span *ngIf=\\\"key != 'DS_APOI_TIPO_NIVE_ESTO'\\\"\\r\\n              ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n            ></span>\\r\\n          </th>\\r\\n          <th nowrap scope=\\\"col\\\" (click)=\\\"sort('DS_APOI_TIPO_NIVE_ESTO')\\\" [hidden]=\\\"!colsNivelEstoque\\\">\\r\\n            Último cálculo\\r\\n            <span *ngIf=\\\"key == 'DS_APOI_TIPO_NIVE_ESTO'\\\"\\r\\n              ><i\\r\\n                [ngClass]=\\\"\\r\\n                  reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                \\\"\\r\\n              ></i\\r\\n            ></span>\\r\\n            <span *ngIf=\\\"key != 'DS_APOI_TIPO_NIVE_ESTO'\\\"\\r\\n              ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n            ></span>\\r\\n          </th>\\r\\n          <th nowrap width=\\\"5%\\\" [hidden]=\\\"colsNivelEstoque\\\"></th>\\r\\n          <th nowrap width=\\\"5%\\\" [hidden]=\\\"colsNivelEstoque\\\"></th>\\r\\n          <th nowrap width=\\\"5%\\\" [hidden]=\\\"colsNivelEstoque\\\"></th>\\r\\n        </tr>\\r\\n      </ng-template>\\r\\n      <ng-template #tbody let-tbody>\\r\\n        <tr *ngFor=\\\"let item of data | orderBy: key:reverse | slice: begin:end\\\">\\r\\n          <td nowrap class=\\\"text-center\\\">{{ item.ID_REFE_ERP | number: '0.0' }}</td>\\r\\n          <td nowrap>{{ item.NM_MATE }}</td>\\r\\n          <td nowrap class=\\\"text-center\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n            <span *ngIf=\\\"!item.ON_EDIT_CELL\\\">{{ item.TT_PERI_VEND_MESE | number: '0.0' }}</span>\\r\\n            <div class=\\\"d-flex align-items-center justify-content-center\\\" *ngIf=\\\"item.ON_EDIT_CELL\\\">\\r\\n              <input\\r\\n                style=\\\"max-width: 80px;\\\"\\r\\n                type=\\\"text\\\"\\r\\n                class=\\\"form-control form-control-sm\\\"\\r\\n                placeholder=\\\"0\\\"\\r\\n                [(ngModel)]=\\\"item.FORM_PERI_VEND\\\"\\r\\n                #FORM_PERI_VEND_VALI=\\\"ngModel\\\"\\r\\n                [ngClass]=\\\"{ 'is-invalid': FORM_PERI_VEND_VALI.invalid && (FORM_PERI_VEND_VALI.dirty || FORM_PERI_VEND_VALI.touched) }\\\" \\r\\n                required\\r\\n              />\\r\\n              <button class=\\\"btn-icon-sm ml-1\\\" (click)=\\\"calculateMediaVendas(item)\\\">\\r\\n                <i class=\\\"fas fa-sync text-success\\\" tooltip=\\\"Calcular\\\"></i>\\r\\n              </button>\\r\\n            </div>\\r\\n          </td>\\r\\n          <td nowrap class=\\\"text-center\\\" [hidden]=\\\"colsNivelEstoque\\\"> \\r\\n            <span *ngIf=\\\"!item.ON_EDIT_CELL\\\"> \\r\\n              {{ item.DT_INIC_PERI_VEND ? (item.DT_INIC_PERI_VEND | date: 'dd/MM/yyy') : '--/--/----' }} \\r\\n                à \\r\\n              {{ item.DT_FINA_PERI_VEND ? (item.DT_FINA_PERI_VEND | date: 'dd/MM/yyy') : '--/--/----' }} \\r\\n            </span>\\r\\n            <span class=\\\"text-danger\\\" *ngIf=\\\"item.ON_EDIT_CELL\\\"> \\r\\n              {{ item.DATE_STAR_CALC ? (item.DATE_STAR_CALC | date: 'dd/MM/yyyy') : '--/--/----' }} \\r\\n                à \\r\\n              {{ item.DATE_END_CALC ? (item.DATE_END_CALC | date: 'dd/MM/yyyy') : '--/--/----' }} \\r\\n            </span>\\r\\n          </td>\\r\\n          <td nowrap class=\\\"text-center\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n            <span *ngIf=\\\"!item.ON_EDIT_CELL\\\"> \\r\\n              {{ item.TT_MEDI_VEND_PERI | number: '0.3'}}\\r\\n            </span>\\r\\n            <span class=\\\"text-danger\\\" *ngIf=\\\"item.ON_EDIT_CELL\\\"> {{ item.MEDI_VEND_CALC ? (item.MEDI_VEND_CALC | number:'0.3') : '0,000'}} </span>\\r\\n          </td>\\r\\n          <td nowrap class=\\\"text-center\\\">\\r\\n            {{ item.TT_ESTO_DISP | number: '0.3'}}   \\r\\n          </td>\\r\\n          <td nowrap class=\\\"text-center\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n            {{ item.NR_DIAS_GIRO | number: '0.0'}}   \\r\\n          </td>\\r\\n          <td nowrap class=\\\"text-right\\\">\\r\\n              {{ item.DS_APOI_TIPO_NIVE_ESTO ? item.DS_APOI_TIPO_NIVE_ESTO  : 'Não Informado'}}\\r\\n              <button \\r\\n                class=\\\"btn-icon-sm\\\" \\r\\n                (click)=\\\"setDefaultValueFormModalNivelEstoque(item) + '' + smModal1.show()\\\"\\r\\n                [disabled]=\\\"item.TT_PERI_VEND_MESE == 0 || item.TT_PERI_VEND_MESE == null\\\" \\r\\n                *ngIf=\\\"!item.ON_EDIT_CELL\\\"\\r\\n              >\\r\\n                <i class=\\\"fas fa-calculator\\\" tooltip=\\\"Calcular nível de estoque\\\"></i>\\r\\n              </button>\\r\\n          </td>\\r\\n          <td nowrap class=\\\"text-center\\\">\\r\\n            <span *ngIf=\\\"!item.ON_EDIT_CELL\\\"> {{colsNivelEstoque ? item.TT_DIAS_ESTO_MINI + ' dias - ' : ''}} {{ item.TT_ESTO_MINI | number: '0.3' }}</span>\\r\\n            <div class=\\\"d-flex align-items-center justify-content-center\\\" *ngIf=\\\"item.ON_EDIT_CELL\\\">\\r\\n              <input\\r\\n                style=\\\"max-width: 80px;\\\"\\r\\n                type=\\\"text\\\"\\r\\n                class=\\\"form-control form-control-sm\\\"\\r\\n                currencyMask [options]=\\\"ton\\\"\\r\\n                placeholder=\\\"0,000\\\"\\r\\n                [(ngModel)]=\\\"item.FORM_ESTO_MINI\\\"\\r\\n                #FORM_ESTO_MINI_VALI=\\\"ngModel\\\"\\r\\n                [ngClass]=\\\"{ 'is-invalid': FORM_ESTO_MINI_VALI.touched && (item.FORM_ESTO_MINI > item.FORM_ESTO_MEDI || item.FORM_ESTO_MINI > item.FORM_ESTO_MAXI ) }\\\" \\r\\n                required\\r\\n              />\\r\\n            </div>\\r\\n          </td>\\r\\n          <td nowrap class=\\\"text-center\\\">\\r\\n            <span *ngIf=\\\"!item.ON_EDIT_CELL\\\">{{colsNivelEstoque ? item.TT_DIAS_ESTO_MEDI + ' dias - ' : ''}} {{ item.TT_ESTO_MEDI | number: '0.3' }}</span>\\r\\n            <div class=\\\"d-flex align-items-center justify-content-center\\\" *ngIf=\\\"item.ON_EDIT_CELL\\\">\\r\\n              <input\\r\\n                style=\\\"max-width: 80px;\\\"\\r\\n                type=\\\"text\\\"\\r\\n                class=\\\"form-control form-control-sm\\\"\\r\\n                currencyMask [options]=\\\"ton\\\"\\r\\n                placeholder=\\\"0,000\\\"\\r\\n                [(ngModel)]=\\\"item.FORM_ESTO_MEDI\\\"\\r\\n                #FORM_ESTO_MEDI_VALI=\\\"ngModel\\\"\\r\\n                [ngClass]=\\\"{ 'is-invalid': FORM_ESTO_MEDI_VALI.touched && (item.FORM_ESTO_MEDI > item.FORM_ESTO_MAXI || item.FORM_ESTO_MEDI < item.FORM_ESTO_MINI ) }\\\" \\r\\n                required\\r\\n              />\\r\\n            </div>\\r\\n          </td>\\r\\n          <td nowrap class=\\\"text-center\\\">\\r\\n            <span *ngIf=\\\"!item.ON_EDIT_CELL\\\">{{colsNivelEstoque ? item.TT_DIAS_ESTO_MAXI + ' dias - ' : ''}} {{ item.TT_ESTO_MAXI | number: '0.3' }}</span>\\r\\n            <div class=\\\"d-flex align-items-center justify-content-center\\\" *ngIf=\\\"item.ON_EDIT_CELL\\\">\\r\\n              <input\\r\\n                style=\\\"max-width: 80px;\\\"\\r\\n                type=\\\"text\\\"\\r\\n                class=\\\"form-control form-control-sm\\\"\\r\\n                currencyMask [options]=\\\"ton\\\"\\r\\n                placeholder=\\\"0,000\\\"\\r\\n                [(ngModel)]=\\\"item.FORM_ESTO_MAXI\\\"\\r\\n                #FORM_ESTO_MAXI_VALI=\\\"ngModel\\\"\\r\\n                [ngClass]=\\\"{ 'is-invalid': FORM_ESTO_MAXI_VALI.touched && (item.FORM_ESTO_MAXI < item.FORM_ESTO_MINI || item.FORM_ESTO_MAXI < item.FORM_ESTO_MEDI ) }\\\" \\r\\n                required\\r\\n              />\\r\\n            </div>\\r\\n          </td>\\r\\n          <td nowrap class=\\\"text-center\\\" [hidden]=\\\"!colsNivelEstoque\\\">{{ item.TT_PERC_VARI_CONS ? (item.TT_PERC_VARI_CONS | number: '0.2'): (0 | number:'0.2') }} %</td>\\r\\n          <td nowrap class=\\\"text-center\\\" [hidden]=\\\"!colsNivelEstoque\\\">{{ item.DT_ULTI_CALC_ESTO ? (item.DT_ULTI_CALC_ESTO | date: 'dd/MM/yyyy HH:mm') : '--/--/----  --:--' }}</td>\\r\\n          <td nowrap class=\\\"text-center\\\" width=\\\"5%\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n            <div>\\r\\n              <button\\r\\n                type=\\\"button\\\"\\r\\n                class=\\\"btn-icon-sm\\\"\\r\\n                tooltip=\\\"Editar\\\"\\r\\n                (click)=\\\"onEdit(item)\\\"\\r\\n                [disabled]=\\\"(item.FORM_PERI_VEND == '' || item.FORM_PERI_VEND == null) || !item.BOOL_CALC || !validatorsSave(item)\\\"\\r\\n              >\\r\\n                <i class=\\\"fas fa-save\\\"></i>\\r\\n              </button>\\r\\n            </div>\\r\\n          </td>\\r\\n          <td nowrap  class=\\\"text-center\\\" width=\\\"4%\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n            <div *ngIf=\\\"!item.ON_EDIT_CELL\\\">\\r\\n              <button\\r\\n                type=\\\"button\\\"\\r\\n                class=\\\"btn-icon-sm\\\"\\r\\n                placement=\\\"left\\\"\\r\\n                (click)=\\\"ableEditCell(item)\\\"\\r\\n              >\\r\\n                <i\\r\\n                  class=\\\"fas fa-edit\\\"\\r\\n                  tooltip=\\\"Editar\\\"\\r\\n                >\\r\\n                </i>\\r\\n              </button>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"item.ON_EDIT_CELL\\\">\\r\\n              <button\\r\\n                type=\\\"button\\\"\\r\\n                class=\\\"btn-icon-sm\\\"\\r\\n                placement=\\\"left\\\"\\r\\n                (click)=\\\"disableEditCell(item)\\\"\\r\\n              >\\r\\n                <i\\r\\n                  class=\\\"fas fa-times text-danger\\\"\\r\\n                  tooltip=\\\"Cancelar edição\\\"\\r\\n                >\\r\\n                </i>\\r\\n              </button>\\r\\n            </div>\\r\\n          </td>\\r\\n          <td nowrap class=\\\"text-center\\\" width=\\\"5%\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n            <div>\\r\\n              <button\\r\\n                type=\\\"button\\\"\\r\\n                class=\\\"btn-icon-sm\\\"\\r\\n                tooltip=\\\"Logs\\\"\\r\\n                (click)=\\\"lgModal.show() + '' + openModalLogs(item)\\\"\\r\\n              >\\r\\n                <i class=\\\"fas fa-external-link-alt text-primary\\\"></i>\\r\\n              </button>\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td nowrap class=\\\"bg-dark text-white text-left\\\">TOTAL</td>           \\r\\n          <td nowrap class=\\\"bg-dark text-white text-center\\\"></td>        \\r\\n          <td nowrap class=\\\"bg-dark text-white text-left\\\" [hidden]=\\\"colsNivelEstoque\\\"></td>        \\r\\n          <td nowrap class=\\\"bg-dark text-white text-left\\\" [hidden]=\\\"colsNivelEstoque\\\"></td>        \\r\\n          <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"colsNivelEstoque\\\"> {{ dataTotal['TT_MEDI_VEND_PERI'] | number: '0.3' }} </td>                   \\r\\n          <td nowrap class=\\\"bg-dark text-white text-center\\\"> {{ dataTotal['TT_ESTO_DISP'] | number: '0.3' }} </td>                   \\r\\n          <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"colsNivelEstoque\\\"> {{ dataTotal['NR_DIAS_GIRO'] | number: '0.0' }} </td>                   \\r\\n          <td nowrap class=\\\"bg-dark text-white text-center\\\"></td>                   \\r\\n          <td nowrap class=\\\"bg-dark text-white text-center\\\"></td>                   \\r\\n          <td nowrap class=\\\"bg-dark text-white text-center\\\"></td>                   \\r\\n          <td nowrap class=\\\"bg-dark text-white text-center\\\"></td>                   \\r\\n          <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"!colsNivelEstoque\\\"></td>                   \\r\\n          <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"!colsNivelEstoque\\\"></td>                                   \\r\\n          <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"colsNivelEstoque\\\"></td>       \\r\\n          <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"colsNivelEstoque\\\"></td>       \\r\\n          <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"colsNivelEstoque\\\"></td>       \\r\\n        </tr>\\r\\n      </ng-template>\\r\\n    </custom-table>\\r\\n  </div>\\r\\n  <div class=\\\"col-12 mb-2 ml-2\\\" *ngIf=\\\"data.length > itemsPerPage && loading\\\">\\r\\n    Exibindo {{ begin + 1 }} a {{ end }} de {{ data?.length }}\\r\\n    <pagination\\r\\n      [maxSize]=\\\"10\\\"\\r\\n      [totalItems]=\\\"data?.length\\\"\\r\\n      (pageChanged)=\\\"onPageChanged($event)\\\"\\r\\n      [(itemsPerPage)]=\\\"itemsPerPage\\\"\\r\\n      [boundaryLinks]=\\\"true\\\"\\r\\n      [(ngModel)]=\\\"currentPage\\\"\\r\\n      previousText=\\\"&lsaquo;\\\"\\r\\n      nextText=\\\"&rsaquo;\\\"\\r\\n      firstText=\\\"&laquo;\\\"\\r\\n      lastText=\\\"&raquo;\\\"\\r\\n    >\\r\\n    </pagination>\\r\\n  </div>\\r\\n  <div\\r\\n    *ngIf=\\\"noResult\\\"\\r\\n    class=\\\"text-center d-flex justify-content-center align-items-center p-5\\\"\\r\\n    style=\\\"height: 80%;\\\"\\r\\n  >\\r\\n    <empty-result message=\\\"Nenhuma informação encontrada\\\"></empty-result>\\r\\n  </div>\\r\\n</app-body>\\r\\n<div\\r\\n  bsModal\\r\\n  #lgModal=\\\"bs-modal\\\"\\r\\n  class=\\\"modal fade\\\"\\r\\n  tabindex=\\\"-1\\\"\\r\\n  role=\\\"dialog\\\"\\r\\n  aria-labelledby=\\\"dialog-sizes-name1\\\"\\r\\n  [hidden]=\\\"!loaderModal\\\"\\r\\n>\\r\\n  <div class=\\\"modal-dialog modal-xl\\\">\\r\\n    <div class=\\\"modal-content\\\">\\r\\n      <div class=\\\"modal-header\\\">\\r\\n        <h4 id=\\\"dialog-sizes-name1\\\" class=\\\"modal-title pull-left\\\">\\r\\n          {{ nameModal }}\\r\\n        </h4>\\r\\n        <button\\r\\n          type=\\\"button\\\"\\r\\n          class=\\\"close pull-right\\\"\\r\\n          (click)=\\\"lgModal.hide() + '' + closeModal()\\\"\\r\\n          aria-label=\\\"Close\\\"\\r\\n        >\\r\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n        </button>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        <div id=\\\"modal-logs\\\" [hidden]=\\\"!boolModalLogs\\\">\\r\\n          <div class=\\\"table-responsive\\\">\\r\\n            <custom-table *ngIf=\\\"loadingLogs\\\">\\r\\n              <ng-template #thead let-thead>\\r\\n                <tr class=\\\"text-center\\\">\\r\\n                  <th nowrap scope=\\\"col\\\" (click)=\\\"sortA('ID_REFE_ERP')\\\">\\r\\n                    Código\\r\\n                    <span *ngIf=\\\"keyA == 'ID_REFE_ERP'\\\"\\r\\n                      ><i\\r\\n                        [ngClass]=\\\"\\r\\n                          reverseA ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                        \\\"\\r\\n                      ></i\\r\\n                    ></span>\\r\\n                    <span *ngIf=\\\"keyA != 'ID_REFE_ERP'\\\"\\r\\n                      ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n                    ></span>\\r\\n                  </th>\\r\\n                  <th nowrap scope=\\\"col\\\" (click)=\\\"sortA('NM_MATE')\\\">\\r\\n                    Material\\r\\n                    <span *ngIf=\\\"keyA == 'NM_MATE'\\\"\\r\\n                      ><i\\r\\n                        [ngClass]=\\\"\\r\\n                          reverseA ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                        \\\"\\r\\n                      ></i\\r\\n                    ></span>\\r\\n                    <span *ngIf=\\\"keyA != 'NM_MATE'\\\"\\r\\n                      ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n                    ></span>\\r\\n                  </th>\\r\\n                  <th nowrap scope=\\\"col\\\" (click)=\\\"sortA('NM_DEPO')\\\">\\r\\n                    Depósito\\r\\n                    <span *ngIf=\\\"keyA == 'NM_DEPO'\\\"\\r\\n                      ><i\\r\\n                        [ngClass]=\\\"\\r\\n                          reverseA ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                        \\\"\\r\\n                      ></i\\r\\n                    ></span>\\r\\n                    <span *ngIf=\\\"keyA != 'NM_DEPO'\\\"\\r\\n                      ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n                    ></span>\\r\\n                  </th>\\r\\n                  <th nowrap scope=\\\"col\\\" (click)=\\\"sortA('TT_PERI_VEND_MESE')\\\">\\r\\n                    Período de vendas\\r\\n                    <span *ngIf=\\\"keyA == 'TT_PERI_VEND_MESE'\\\"\\r\\n                      ><i\\r\\n                        [ngClass]=\\\"\\r\\n                          reverseA ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                        \\\"\\r\\n                      ></i\\r\\n                    ></span>\\r\\n                    <span *ngIf=\\\"keyA != 'TT_PERI_VEND_MESE'\\\"\\r\\n                      ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n                    ></span>\\r\\n                  </th>\\r\\n                  <th nowrap scope=\\\"col\\\" (click)=\\\"sortA('TT_MEDI_VEND_PERI')\\\">\\r\\n                    Média de Vendas\\r\\n                    <span *ngIf=\\\"keyA == 'TT_MEDI_VEND_PERI'\\\"\\r\\n                      ><i\\r\\n                        [ngClass]=\\\"\\r\\n                          reverseA ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                        \\\"\\r\\n                      ></i\\r\\n                    ></span>\\r\\n                    <span *ngIf=\\\"keyA != 'TT_MEDI_VEND_PERI'\\\"\\r\\n                      ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n                    ></span>\\r\\n                  </th>\\r\\n                  <th nowrap scope=\\\"col\\\" (click)=\\\"sortA('TT_ESTO_MINI')\\\">\\r\\n                    Estoque mínimo\\r\\n                    <span *ngIf=\\\"keyA == 'TT_ESTO_MINI'\\\"\\r\\n                      ><i\\r\\n                        [ngClass]=\\\"\\r\\n                          reverseA ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                        \\\"\\r\\n                      ></i\\r\\n                    ></span>\\r\\n                    <span *ngIf=\\\"keyA != 'TT_ESTO_MINI'\\\"\\r\\n                      ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n                    ></span>\\r\\n                  </th>\\r\\n                  <th nowrap scope=\\\"col\\\" (click)=\\\"sortA('TT_ESTO_MEDI')\\\">\\r\\n                    Estoque médio\\r\\n                    <span *ngIf=\\\"keyA == 'TT_ESTO_MEDI'\\\"\\r\\n                      ><i\\r\\n                        [ngClass]=\\\"\\r\\n                          reverseA ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                        \\\"\\r\\n                      ></i\\r\\n                    ></span>\\r\\n                    <span *ngIf=\\\"keyA != 'TT_ESTO_MEDI'\\\"\\r\\n                      ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n                    ></span>\\r\\n                  </th>\\r\\n                  <th nowrap scope=\\\"col\\\" (click)=\\\"sortA('TT_ESTO_MAXI')\\\">\\r\\n                    Estoque máximo\\r\\n                    <span *ngIf=\\\"keyA == 'TT_ESTO_MAXI'\\\"\\r\\n                      ><i\\r\\n                        [ngClass]=\\\"\\r\\n                          reverseA ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                        \\\"\\r\\n                      ></i\\r\\n                    ></span>\\r\\n                    <span *ngIf=\\\"keyA != 'TT_ESTO_MAXI'\\\"\\r\\n                      ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n                    ></span>\\r\\n                  </th>\\r\\n                  <th nowrap scope=\\\"col\\\" (click)=\\\"sortA('DS_APOI_TIPO_NIVE_ESTO')\\\">\\r\\n                    % Variação\\r\\n                    <span *ngIf=\\\"keyA == 'DS_APOI_TIPO_NIVE_ESTO'\\\"\\r\\n                      ><i\\r\\n                        [ngClass]=\\\"\\r\\n                          reverseA ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                        \\\"\\r\\n                      ></i\\r\\n                    ></span>\\r\\n                    <span *ngIf=\\\"keyA != 'DS_APOI_TIPO_NIVE_ESTO'\\\"\\r\\n                      ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n                    ></span>\\r\\n                  </th>\\r\\n                  <th nowrap scope=\\\"col\\\" (click)=\\\"sortA('DS_APOI_TIPO_NIVE_ESTO')\\\">\\r\\n                    Último cálculo\\r\\n                    <span *ngIf=\\\"keyA == 'DS_APOI_TIPO_NIVE_ESTO'\\\"\\r\\n                      ><i\\r\\n                        [ngClass]=\\\"\\r\\n                          reverseA ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                        \\\"\\r\\n                      ></i\\r\\n                    ></span>\\r\\n                    <span *ngIf=\\\"keyA != 'DS_APOI_TIPO_NIVE_ESTO'\\\"\\r\\n                      ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n                    ></span>\\r\\n                  </th>\\r\\n                  <th nowrap scope=\\\"col\\\" (click)=\\\"sortA('DS_STAT')\\\">\\r\\n                    Situação\\r\\n                    <span *ngIf=\\\"keyA == 'DS_STAT'\\\"\\r\\n                      ><i\\r\\n                        [ngClass]=\\\"\\r\\n                          reverseA ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                        \\\"\\r\\n                      ></i\\r\\n                    ></span>\\r\\n                    <span *ngIf=\\\"keyA != 'DS_STAT'\\\"\\r\\n                      ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n                    ></span>\\r\\n                  </th>\\r\\n                  <th nowrap scope=\\\"col\\\" (click)=\\\"sortA('DT_ACAO')\\\">\\r\\n                    Data Ação\\r\\n                    <span *ngIf=\\\"keyA == 'DT_ACAO'\\\"\\r\\n                      ><i\\r\\n                        [ngClass]=\\\"\\r\\n                          reverseA ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                        \\\"\\r\\n                      ></i\\r\\n                    ></span>\\r\\n                    <span *ngIf=\\\"keyA != 'DT_ACAO'\\\"\\r\\n                      ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n                    ></span>\\r\\n                  </th>\\r\\n                  <th nowrap scope=\\\"col\\\" (click)=\\\"sortA('NM_ACAO')\\\">\\r\\n                    Ação\\r\\n                    <span *ngIf=\\\"keyA == 'NM_ACAO'\\\"\\r\\n                      ><i\\r\\n                        [ngClass]=\\\"\\r\\n                          reverseA ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                        \\\"\\r\\n                      ></i\\r\\n                    ></span>\\r\\n                    <span *ngIf=\\\"keyA != 'NM_ACAO'\\\"\\r\\n                      ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n                    ></span>\\r\\n                  </th>\\r\\n                  <th nowrap scope=\\\"col\\\" (click)=\\\"sortA('NM_USUA')\\\">\\r\\n                    Usuário\\r\\n                    <span *ngIf=\\\"keyA == 'NM_USUA'\\\"\\r\\n                      ><i\\r\\n                        [ngClass]=\\\"\\r\\n                          reverseA ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                        \\\"\\r\\n                      ></i\\r\\n                    ></span>\\r\\n                    <span *ngIf=\\\"keyA != 'NM_USUA'\\\"\\r\\n                      ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n                    ></span>\\r\\n                  </th>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n              <ng-template #tbody let-tbody>\\r\\n                <tr *ngFor=\\\"let item of dataLogs | orderBy: keyA:reverseA | slice: beginA:endA; let i = index\\\">\\r\\n                  <td nowrap class=\\\"text-center\\\">{{ item.ID_REFE_ERP }}</td>\\r\\n                  <td nowrap class=\\\"text-center\\\">{{ item.NM_MATE }}</td>\\r\\n                  <td nowrap class=\\\"text-center\\\">{{ item.NM_DEPO }}</td>\\r\\n                  <td nowrap class=\\\"text-center\\\">{{ item.TT_PERI_VEND_MESE | number : '0.0' }}</td>\\r\\n                  <td nowrap class=\\\"text-center\\\">{{ item.TT_MEDI_VEND_PERI | number : '0.3' }}</td>\\r\\n                  <td nowrap class=\\\"text-center\\\">{{ item.TT_DIAS_ESTO_MINI + ' dias -'}} {{ item.TT_ESTO_MINI | number : '0.3' }}</td>\\r\\n                  <td nowrap class=\\\"text-center\\\">{{ item.TT_DIAS_ESTO_MEDI + ' dias -'}} {{ item.TT_ESTO_MEDI | number : '0.3' }}</td>\\r\\n                  <td nowrap class=\\\"text-center\\\">{{ item.TT_DIAS_ESTO_MAXI + ' dias -'}} {{ item.TT_ESTO_MAXI | number : '0.3' }}</td>\\r\\n                  <td nowrap class=\\\"text-center\\\">{{ item.TT_PERC_VARI_CONS ? item.TT_PERC_VARI_CONS : 0 }} %</td>\\r\\n                  <td nowrap class=\\\"text-center\\\">{{ item.DT_ULTI_CALC_ESTO ? (item.DT_ULTI_CALC_ESTO | date: 'dd/MM/yyyy HH:mm') : '--/--/----  --:--' }}</td>\\r\\n                  <td nowrap class=\\\"text-center\\\">{{ item.DS_STAT }}</td>\\r\\n                  <td nowrap class=\\\"text-center\\\">\\r\\n                    {{ item.DT_ACAO | date: 'dd/MM/yyyy HH:mm' }}\\r\\n                  </td>\\r\\n                  <td nowrap class=\\\"text-center\\\">{{ item.NM_ACAO }}</td>\\r\\n                  <td nowrap class=\\\"text-center\\\">{{ item.NM_USUA }}</td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n            </custom-table>\\r\\n          </div>\\r\\n          <div class=\\\"col-12 mb-2 ml-2\\\" *ngIf=\\\"dataLogs.length > itemsPerPage && loadingLogs\\\">\\r\\n            Exibindo {{ beginA + 1 }} a {{ endA }} de {{ dataLogs?.length }}\\r\\n            <pagination\\r\\n              [maxSize]=\\\"10\\\"\\r\\n              [totalItems]=\\\"dataLogs?.length\\\"\\r\\n              (pageChanged)=\\\"onPageChangedA($event)\\\"\\r\\n              [(itemsPerPage)]=\\\"itemsPerPage\\\"\\r\\n              [boundaryLinks]=\\\"true\\\"\\r\\n              [(ngModel)]=\\\"currentPageA\\\"\\r\\n              previousText=\\\"&lsaquo;\\\"\\r\\n              nextText=\\\"&rsaquo;\\\"\\r\\n              firstText=\\\"&laquo;\\\"\\r\\n              lastText=\\\"&raquo;\\\"\\r\\n            >\\r\\n            </pagination>\\r\\n          </div>\\r\\n          <div\\r\\n            *ngIf=\\\"noResultLogs\\\"\\r\\n            class=\\\"text-center d-flex justify-content-center align-items-center p-5\\\"\\r\\n            style=\\\"height: 80%;\\\"\\r\\n          >\\r\\n            <empty-result message=\\\"Nenhuma informação encontrada\\\"></empty-result>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Modal Calcular Nível de estoque -->\\r\\n<div bsModal #smModal1=\\\"bs-modal\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"dialog-sizes-name2\\\">\\r\\n  <div class=\\\"modal-dialog modal-lg\\\">\\r\\n    <div class=\\\"modal-content\\\">\\r\\n      <div class=\\\"modal-header\\\">\\r\\n        <h4 id=\\\"dialog-sizes-name2\\\" class=\\\"modal-title pull-left\\\">Calcular Nível Estoque - Por Material</h4>\\r\\n        <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"smModal1.hide()\\\">\\r\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n        </button>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-lg-4\\\">\\r\\n            <p>\\r\\n              <strong>CÓD. MATERIAL</strong><br />\\r\\n              {{ headerModalCodMaterial }}\\r\\n            </p>\\r\\n          </div>\\r\\n          <div class=\\\"col-lg-6\\\">\\r\\n            <p>\\r\\n              <strong>DESCRIÇÃO</strong><br />\\r\\n              {{ headerModalDescMaterial }}\\r\\n            </p>\\r\\n          </div>\\r\\n          <div class=\\\"col-lg-2\\\">\\r\\n            <p>\\r\\n              <strong>PERÍODO</strong><br />\\r\\n              {{ headerModalPeriodo | number: '0.0' }}\\r\\n            </p>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-lg-4\\\">\\r\\n            <p>\\r\\n              <strong>MÉDIA DE VENDAS</strong><br />\\r\\n              {{ headerModalMediaVendas | number: '0.3' }}\\r\\n            </p>\\r\\n          </div>\\r\\n          <div class=\\\"col-lg-4\\\">\\r\\n            <p>\\r\\n              <strong>ESTOQUE DISPONÍVEL</strong><br />\\r\\n              {{ headerModalEstoqueDisponivel | number: '0.3' }}\\r\\n            </p>\\r\\n          </div>\\r\\n        </div>\\r\\n        <form [formGroup]=\\\"formModal\\\" autocomplete=\\\"off\\\">\\r\\n          <div class=\\\"form-row\\\">\\r\\n            <div class=\\\"form-group col-lg-6\\\">\\r\\n              <label for=\\\"PERC_VARI_CONS\\\">% Variação de consumo </label>\\r\\n              <input\\r\\n                type=\\\"text\\\"\\r\\n                id=\\\"PERC_VARI_CONS\\\"\\r\\n                currencyMask\\r\\n                [options]=\\\"decimal\\\"\\r\\n                placeholder=\\\"0,00\\\"\\r\\n                formControlName=\\\"PERC_VARI_CONS\\\"\\r\\n                class=\\\"form-control\\\"\\r\\n                [ngClass]=\\\"\\r\\n                  onFieldErrorModal('PERC_VARI_CONS') + ' ' + onFieldRequiredModal('PERC_VARI_CONS')\\r\\n                \\\"\\r\\n              >\\r\\n              <invalid-form-control\\r\\n                [show]=\\\"onFieldInvalidModal('PERC_VARI_CONS')\\\"\\r\\n                message=\\\"% Variação de consumo é obrigatório.\\\"\\r\\n              >\\r\\n              </invalid-form-control>\\r\\n            </div>\\r\\n            <div class=\\\"form-group col-lg-6 mt-4\\\">\\r\\n              <div class=\\\"custom-control custom-radio custom-control-inline\\\">\\r\\n                <input\\r\\n                  type=\\\"radio\\\"\\r\\n                  id=\\\"TIPO_VARI_POSI\\\"\\r\\n                  name=\\\"TIPO_VARI\\\"\\r\\n                  class=\\\"custom-control-input\\\"\\r\\n                  value=\\\"1\\\"\\r\\n                  formControlName=\\\"TIPO_VARI\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"TIPO_VARI_POSI\\\">Aumento</label>\\r\\n              </div>\\r\\n              <div class=\\\"custom-control custom-radio custom-control-inline\\\">\\r\\n                <input\\r\\n                  type=\\\"radio\\\"\\r\\n                  id=\\\"TIPO_VARI_NEGA\\\"\\r\\n                  name=\\\"TIPO_VARI\\\"\\r\\n                  class=\\\"custom-control-input\\\"\\r\\n                  value=\\\"0\\\"\\r\\n                  formControlName=\\\"TIPO_VARI\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"TIPO_VARI_NEGA\\\">Redução</label>\\r\\n              </div>\\r\\n              <!-- <invalid-form-control [show]=\\\"onFieldInvalid('TIPO_VARI')\\\" message=\\\"Tipo variação é obrigatório.\\\"></invalid-form-control> -->\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-row\\\">\\r\\n            <div class=\\\"form-group col-lg-4\\\">\\r\\n              <label for=\\\"DIAS_ESTO_MINI\\\">Dias de estoque mínimo</label>\\r\\n              <input\\r\\n                type=\\\"number\\\"\\r\\n                id=\\\"DIAS_ESTO_MINI\\\"\\r\\n                placeholder=\\\"INSERIR...\\\"\\r\\n                formControlName=\\\"DIAS_ESTO_MINI\\\"\\r\\n                class=\\\"form-control\\\"\\r\\n                [ngClass]=\\\"\\r\\n                onFieldErrorModal('DIAS_ESTO_MINI') + ' ' + onFieldRequiredModal('DIAS_ESTO_MINI')\\r\\n                \\\"\\r\\n              >\\r\\n              <invalid-form-control\\r\\n                [show]=\\\"onFieldInvalidModal('DIAS_ESTO_MINI')\\\"\\r\\n                message=\\\"Dias de estoque mínimo é obrigatório.\\\"\\r\\n              >\\r\\n              </invalid-form-control>\\r\\n              <invalid-form-control\\r\\n                  [show]=\\\"compareValuesEstoque('DIAS_ESTO_MINI')\\\"\\r\\n                  message=\\\"Deve ser menor que volume máximo ou segurança\\\"\\r\\n                  >\\r\\n              </invalid-form-control>\\r\\n            </div>\\r\\n            <div class=\\\"form-group col-lg-4\\\">\\r\\n              <label for=\\\"DIAS_ESTO_MEDI\\\">Dias de estoque médio</label>\\r\\n              <input\\r\\n                type=\\\"number\\\"\\r\\n                id=\\\"DIAS_ESTO_MEDI\\\"\\r\\n                placeholder=\\\"INSERIR...\\\"\\r\\n                formControlName=\\\"DIAS_ESTO_MEDI\\\"\\r\\n                class=\\\"form-control\\\"\\r\\n                [ngClass]=\\\"\\r\\n                onFieldErrorModal('DIAS_ESTO_MEDI') + ' ' + onFieldRequiredModal('DIAS_ESTO_MEDI')\\r\\n                \\\"\\r\\n              >\\r\\n              <invalid-form-control\\r\\n                [show]=\\\"onFieldInvalidModal('DIAS_ESTO_MEDI')\\\"\\r\\n                message=\\\"Dias de estoque médio é obrigatório.\\\"\\r\\n              >\\r\\n              </invalid-form-control>\\r\\n              <invalid-form-control\\r\\n                  [show]=\\\"compareValuesEstoque('DIAS_ESTO_MEDI')\\\"\\r\\n                  message=\\\"Deve ser menor que máximo ou maior que mínimo\\\"\\r\\n                  >\\r\\n                </invalid-form-control>\\r\\n            </div>\\r\\n            <div class=\\\"form-group col-lg-4\\\">\\r\\n              <label for=\\\"DIAS_ESTO_MAXI\\\">Dias de estoque máximo</label>\\r\\n              <input\\r\\n                type=\\\"number\\\"\\r\\n                id=\\\"DIAS_ESTO_MAXI\\\"\\r\\n                placeholder=\\\"INSERIR...\\\"\\r\\n                formControlName=\\\"DIAS_ESTO_MAXI\\\"\\r\\n                class=\\\"form-control\\\"\\r\\n                [ngClass]=\\\"\\r\\n                onFieldErrorModal('DIAS_ESTO_MAXI') + ' ' + onFieldRequiredModal('DIAS_ESTO_MAXI')\\r\\n                \\\"\\r\\n              >\\r\\n              <invalid-form-control\\r\\n                [show]=\\\"onFieldInvalidModal('DIAS_ESTO_MAXI')\\\"\\r\\n                message=\\\"Dias de estoque máximo é obrigatório.\\\"\\r\\n              >\\r\\n              </invalid-form-control>\\r\\n              <invalid-form-control\\r\\n                [show]=\\\"compareValuesEstoque('DIAS_ESTO_MAXI')\\\"\\r\\n                message=\\\"Deve ser maior que mínimo ou segurança\\\"\\r\\n              >\\r\\n              </invalid-form-control>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n        <div class=\\\"d-flex justify-content-end\\\">\\r\\n          <button \\r\\n            class=\\\"btn btn-primary\\\"\\r\\n            (click)=\\\"OnSaveNivelEstoque() + '' + smModal1.hide()\\\"\\r\\n            [disabled]=\\\"formModal.status == 'INVALID' || !validatorsSaveModal()\\\"\\r\\n          >\\r\\n            Enviar\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\";","export default \"#modal-material-depositos > div > button:hover {\\n  background-color: #e6ebf1;\\n  background-image: linear-gradient(-180deg, #f0f3f6, #e6ebf1 90%);\\n  background-position: -0.5em;\\n  border-color: rgba(27, 31, 35, 0.35);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9hYmFzdGVjaW1lbnRvL2NhZGFzdHJvcy9wYXJhbWV0cm9zLWdlcmFpcy1lc3RvcXVlL3ZpbmN1bG8tZGVwb3NpdG9zL3ZpbmN1bG8tZGVwb3NpdG9zLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUJBQUE7RUFFQSxnRUFBQTtFQUNBLDJCQUFBO0VBQ0Esb0NBQUE7QUFDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYWJhc3RlY2ltZW50by9jYWRhc3Ryb3MvcGFyYW1ldHJvcy1nZXJhaXMtZXN0b3F1ZS92aW5jdWxvLWRlcG9zaXRvcy92aW5jdWxvLWRlcG9zaXRvcy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNtb2RhbC1tYXRlcmlhbC1kZXBvc2l0b3MgPiBkaXYgPiBidXR0b246aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlNmViZjE7XHJcbiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZjBmM2Y2KSwgY29sb3Itc3RvcCg5MCUsICNlNmViZjEpKTtcclxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoLTE4MGRlZywgI2YwZjNmNiwgI2U2ZWJmMSA5MCUpO1xyXG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0wLjVlbTtcclxuICBib3JkZXItY29sb3I6IHJnYmEoMjcsIDMxLCAzNSwgMC4zNSk7XHJcbn0iXX0= */\";","export default \".bg-row-selected {\\n  background-color: #91b8f0 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9hYmFzdGVjaW1lbnRvL2NhZGFzdHJvcy9wYXJhbWV0cm9zLWdlcmFpcy1lc3RvcXVlL2xpc3RhL2xpc3RhLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usb0NBQUE7QUFDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYWJhc3RlY2ltZW50by9jYWRhc3Ryb3MvcGFyYW1ldHJvcy1nZXJhaXMtZXN0b3F1ZS9saXN0YS9saXN0YS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5iZy1yb3ctc2VsZWN0ZWQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM5MWI4ZjAhaW1wb3J0YW50O1xyXG59Il19 */\";","import { Injectable } from '@angular/core';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\n\r\n// Components\r\nimport { ConfirmModalComponent } from './confirm-modal.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ConfirmModalService {\r\n  constructor(private modalService: BsModalService) {}\r\n\r\n  showConfirm(\r\n    type: string,\r\n    title: string,\r\n    message: string,\r\n    cancelTxt?: string,\r\n    okTxt?: string\r\n  ) {\r\n    const modalRef = this.modalService.show(ConfirmModalComponent, {\r\n      animated: false,\r\n      ignoreBackdropClick: true,\r\n      keyboard: false,\r\n      class: 'confirm'\r\n    });\r\n\r\n    modalRef.content.type = type;\r\n    modalRef.content.title = title;\r\n    modalRef.content.message = message;\r\n\r\n    if (type === 'delete') {\r\n      modalRef.content.messageAlerts = [\r\n        \"Se eliminará toda la información relacionada.\",\r\n        \"Esta acción no se puede deshacer.\"\r\n      ];\r\n    }\r\n\r\n    if (type === 'inactivate') {\r\n      modalRef.content.messageAlerts = [\r\n        'Las informacion serán inactivadas.'\r\n      ];\r\n    }\r\n\r\n    if (cancelTxt) {\r\n      modalRef.content.cancelTxt = cancelTxt;\r\n    }\r\n\r\n    if (okTxt) {\r\n      modalRef.content.okTxt = okTxt;\r\n    }\r\n\r\n    // É uma boa prática tipar o retorno.\r\n    // Obs.: ao tipar o retorno é possível acessar o intellisense do serviço.\r\n    return (<ConfirmModalComponent>modalRef.content).confirmResult;\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, Validators, FormBuilder, FormControl } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { EMPTY, Subscription } from 'rxjs';\r\nimport { finalize, switchMap, take } from 'rxjs/operators';\r\n\r\nimport { PageChangedEvent } from 'ngx-bootstrap';\r\n\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { Subtitles } from 'src/app/shared/modules/subtitles/subtitles';\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\nimport { RouterService } from 'src/app/shared/services/core/router.service';\r\nimport { TitleService } from 'src/app/shared/services/core/title.service';\r\nimport { ConfirmModalService } from 'src/app/shared/modules/confirm-modal/confirm-modal.service';\r\n\r\nimport { AbastecimentoCadastrosParametrosGeraisEstoqueService } from '../parametros-gerais-estoque.service';\r\n\r\n@Component({\r\n  selector: 'lista',\r\n  templateUrl: './lista.component.html',\r\n  styleUrls: ['./lista.component.scss']\r\n})\r\nexport class AbastecimentoCadastrosParametrosGeraisEstoqueListaComponent implements OnInit {\r\n  loaderFullScreen: boolean = true;\r\n  loaderNavbar: boolean = false;\r\n  loading: boolean = false;\r\n  noResult: boolean = false;\r\n  ableEditMassa: boolean = false;\r\n  compressedTable: boolean = false;\r\n  ableButtonEditMassa: boolean = false;\r\n  ableButtonCallModal: boolean = false\r\n  colsNivelEstoque: boolean = false;\r\n  ableHeaderModalNivelEstoque: boolean = false\r\n  minimoBool: boolean = false\r\n  medioBool: boolean = false\r\n  maximoBool: boolean = false\r\n  enableSaveModal: boolean = false\r\n\r\n  breadCrumbTree: any;\r\n\r\n  form: FormGroup;\r\n  formModal: FormGroup;\r\n\r\n  $activatedRouteSubscription: Subscription;\r\n\r\n  currentUser: any = JSON.parse(localStorage.getItem('currentUser'));\r\n  idUsuario: any = this.currentUser['info']['id'];\r\n\r\n  empresas: Array<any>;\r\n  depositos: Array<any>;\r\n  tipoMateriais: Array<any>;\r\n  linhas: Array<any>;\r\n  subLinhas: Array<any>;\r\n  classes: Array<any>;\r\n  materiais: Array<any>;\r\n  data: Array<any> = [];\r\n  dataFull: Array<any> = [];\r\n  dataTotal: Array<any> = [];\r\n  dataMediaVendas: Array<any> = [];\r\n  paramsRecord: any;\r\n  dataExcel: string = '';\r\n  estoqueMinimo: string = '';\r\n  estoqueMedio: string = '';\r\n  estoqueMaximo: string = '';\r\n  periodoVendasMassa: string = '';\r\n\r\n  headerModalTipoMaterial: string = '';\r\n  headerModalClasse: string = '';\r\n  headerModalDeposito: string = '';\r\n  headerModalPeriodo: string = '';\r\n  headerModalMediaVendas: string = '';\r\n  headerModalEstoqueDisponivel: string = '';\r\n\r\n  situations: Array<any> = [\r\n    {ID:'1', NM_SITU: 'Ativo'},\r\n    {ID:'0', NM_SITU: 'Inativo'}\r\n  ];\r\n\r\n  /* Ordenação */\r\n  reverse: boolean = false;\r\n  key: string = 'NM_CLAS';\r\n  /* Ordenação */\r\n\r\n  /* Paginação */\r\n  itemsPerPage: number = 15;\r\n  totalItems: number = 15;\r\n  currentPage: number = 1;\r\n  begin: number = 0;\r\n  end: number = 15;\r\n  /* Paginação */\r\n\r\n  tableConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: true\r\n  };\r\n\r\n  subtitles: Array<Subtitles> = [\r\n    {\r\n      text: 'Ativo',\r\n      color: 'green'\r\n    },\r\n    {\r\n      text: 'Inativo',\r\n      color: 'red'\r\n    },\r\n    {\r\n      text: 'Simulado',\r\n      color: 'gray'\r\n    }\r\n  ];\r\n\r\n  /* CurrentMask */\r\n  decimal: any = {\r\n    align: 'left',\r\n    prefix: '',\r\n    thousands: '.',\r\n    decimal: ',',\r\n    precision: 2\r\n  };\r\n  /* CurrentMask */\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private pnotifyService: PNotifyService,\r\n    private atividadesService: AtividadesService,\r\n    private confirmModalService: ConfirmModalService,\r\n    private routerService: RouterService,\r\n    private titleService: TitleService,\r\n    private service: AbastecimentoCadastrosParametrosGeraisEstoqueService\r\n  ) {\r\n    this.form = this.formBuilder.group({\r\n      ID_EMPR: [null],\r\n      ID_DEPO: [null],\r\n      ID_TIPO_MATE: [null, Validators.required],\r\n      ID_LINH: [null, Validators.required],\r\n      ID_SUB_LINH: [null],\r\n      ID_CLAS: [null],\r\n      ID_MATE: [null],\r\n      TT_MESE_PERI_VEND_SIMU: [null],\r\n      IN_STAT: [null, Validators.required],\r\n    });\r\n\r\n    this.formModal = this.formBuilder.group({\r\n      PERC_VARI_CONS: [null],\r\n      TIPO_VARI: [null, Validators.required],\r\n      DIAS_ESTO_MINI: [null, Validators.required],\r\n      DIAS_ESTO_MEDI: [null, Validators.required],\r\n      DIAS_ESTO_MAXI: [null, Validators.required]\r\n    });\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    setTimeout(() => {\r\n      this.loaderFullScreen = false;\r\n    }, 1000);\r\n\r\n    this.titleService.setTitle('Parâmetros Gerais de Estoque');\r\n\r\n    this.form.get('IN_STAT').setValue('1');\r\n   \r\n    this.registrarAcesso();\r\n    this.setBreadCrumb();\r\n    this.checkRouterParams();\r\n    this.setDisabledItemsForm();\r\n    this.getDataFilter();\r\n  }\r\n  \r\n  registrarAcesso(): void {\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n  }\r\n\r\n  setBreadCrumb(): void {\r\n    this.activatedRoute.params.subscribe((params: any) => {\r\n      this.breadCrumbTree = [\r\n        {\r\n          descricao: 'Home',\r\n          routerLink: '/abastecimento/home'\r\n        },\r\n        {\r\n          descricao: 'Cadastros',\r\n          routerLink: `/abastecimento/cadastros/${params['idSubModulo']}`\r\n        },\r\n        {\r\n          descricao: 'Parâmetros Gerais de Estoque'\r\n        }\r\n      ];\r\n    });\r\n  }\r\n\r\n  checkRouterParams(): void {\r\n    this.$activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      (queryParams: any) => {\r\n        if (Object.keys(queryParams).length > 0) {\r\n          let _response = this.routerService.getBase64UrlParams(queryParams);\r\n          this.search(_response);\r\n          this.setFormValues(_response);          \r\n        }\r\n      }\r\n    );\r\n\r\n    this.$activatedRouteSubscription.unsubscribe();\r\n  }\r\n\r\n  setFormValues(queryParams?: any): void {  \r\n    const ID_EMPR = queryParams['ID_EMPR'] ?? '';\r\n    const ID_LINH = queryParams['ID_LINH'] ?? '';\r\n    const ID_CLAS = queryParams['ID_CLAS'] ?? '';\r\n    this.periodoVendasMassa = queryParams['TT_MESE_PERI_VEND_SIMU'] ?? '';\r\n\r\n    this.ableButtonEditMassa = false;\r\n\r\n    if(this.periodoVendasMassa != ''){\r\n      this.ableEditMassa = true;\r\n    } else {\r\n      this.ableEditMassa = false;\r\n    }\r\n\r\n    /* depositos */\r\n    if (Object.keys(ID_EMPR).length > 0) {\r\n      const paramsDeposito = {\r\n        idsEmpresa:queryParams['ID_EMPR'],\r\n        idSituacao: 1 ,\r\n      };\r\n\r\n      this.loaderNavbar = true;\r\n\r\n      this.service\r\n        .getDepositos(paramsDeposito)\r\n        .pipe(finalize(() => (this.loaderNavbar = false)))\r\n        .subscribe(\r\n          res => {\r\n            if (Object.keys(res).length > 0) {\r\n              if (res.status === 200) {\r\n                if (res['body']['responseCode'] === 200) {\r\n                  this.depositos = res['body']['result'];\r\n                  this.form.get('ID_DEPO').enable();\r\n                }\r\n              }\r\n            }\r\n          },\r\n          error => {\r\n            this.pnotifyService.error('Erro ao carregar depósitos');\r\n          }\r\n        );\r\n    } else {\r\n      this.form.get('ID_CLAS').disable();\r\n    }\r\n\r\n    /* classes */\r\n    if (Object.keys(ID_LINH).length > 0) {\r\n      const paramsClasse = {\r\n        descricaoLinhas: queryParams['ID_LINH'],\r\n        idSubLinha: queryParams['ID_SUB_LINH'] ?? \"\",\r\n        idSituacao: 1,\r\n      };\r\n\r\n      this.loaderNavbar = true;\r\n\r\n      this.service\r\n        .getClasses(paramsClasse)\r\n        .pipe(finalize(() => (this.loaderNavbar = false)))\r\n        .subscribe(\r\n          res => {\r\n            if (Object.keys(res).length > 0) {\r\n              if (res.status === 200) {\r\n                if (res['body']['responseCode'] === 200) {\r\n                  this.classes = res['body']['result'];\r\n                  this.form.get('ID_CLAS').enable();\r\n                }\r\n              }\r\n            }\r\n          },\r\n          error => {\r\n            this.pnotifyService.error('Erro ao carregar Classes');\r\n          }\r\n        );\r\n    } else {\r\n      this.form.get('ID_CLAS').disable();\r\n    }\r\n\r\n    /* sublinhas */\r\n    if (Object.keys(ID_LINH).length > 0) {\r\n      const paramsSubLinha = {\r\n        descricaoLinhas: queryParams['ID_LINH'],\r\n        idSituacao: 1,\r\n      };\r\n\r\n      this.loaderNavbar = true;\r\n\r\n      this.service\r\n        .getSubLinhas(paramsSubLinha)\r\n        .pipe(finalize(() => (this.loaderNavbar = false)))\r\n        .subscribe(\r\n          res => {\r\n            if (Object.keys(res).length > 0) {\r\n              if (res.status == 200) {\r\n                if (res['body']['responseCode'] === 200) {\r\n                  this.subLinhas = res['body']['result'];\r\n                  this.form.get('ID_SUB_LINH').enable();\r\n                }\r\n              }\r\n            }\r\n          },\r\n          error => {\r\n            this.pnotifyService.error('Erro ao carregar subLinha');\r\n          }\r\n        );\r\n    } else {\r\n      this.form.get('ID_SUB_LINH').disable();\r\n    }\r\n\r\n    /* materiais */\r\n    if (Object.keys(ID_CLAS).length > 0) {\r\n      const paramsMaterial = {\r\n        idClasses:queryParams['ID_CLAS'],\r\n        idTipoMaterial:queryParams['ID_TIPO_MATE'],\r\n        idSituacao: 1 ,\r\n      };\r\n\r\n      this.loaderNavbar = true;\r\n      this.ableButtonEditMassa = true;\r\n\r\n      this.service\r\n        .getMateriais(paramsMaterial)\r\n        .pipe(finalize(() => (this.loaderNavbar = false)))\r\n        .subscribe(\r\n          (res: any) => {\r\n            if (Object.keys(res).length > 0) {\r\n              if (res['body'].responseCode === 200) {\r\n                this.form.get('ID_MATE').enable();\r\n                this.materiais = res['body']['result'];\r\n              }\r\n            }\r\n          },\r\n          error => {\r\n            this.pnotifyService.error('Erro ao carregar materias');\r\n          }\r\n        );\r\n      }\r\n\r\n    this.form.patchValue(queryParams);\r\n  }\r\n\r\n  getParams(): any {\r\n    let _params = {};\r\n    let _obj = this.form.value;\r\n\r\n    for (let prop in _obj) {\r\n      if (_obj[prop]) {\r\n        _params[prop] = _obj[prop];\r\n      }\r\n    }\r\n\r\n    return _params;\r\n  }\r\n\r\n  getDataFilter(): void {\r\n    this.getLinhas();\r\n    this.getEmpresas();\r\n    this.getTiposMateriais();\r\n  }\r\n\r\n  setDisabledItemsForm(): void {\r\n    this.form.get('ID_DEPO').disable();\r\n    this.form.get('ID_SUB_LINH').disable();\r\n    this.form.get('ID_CLAS').disable();\r\n    this.form.get('ID_MATE').disable();\r\n  }\r\n\r\n  getEmpresas(): void {\r\n    const params = {\r\n      idSituacao: 1\r\n    };\r\n\r\n    this.loaderNavbar = true;\r\n    this.empresas = [];\r\n\r\n    this.service\r\n      .getEmpresas(params)\r\n      .pipe(finalize(() => {this.loaderNavbar = false;}))\r\n      .subscribe(\r\n        res => {\r\n          if (Object.keys(res).length > 0) {\r\n            this.empresas = res['body']['result'];\r\n          }\r\n        },\r\n        error => {\r\n          this.pnotifyService.error('Erro ao carregar Empresas');\r\n        }\r\n      );\r\n  }\r\n\r\n  getDepositos(): void  {\r\n    this.loaderNavbar = true;\r\n    this.depositos = [];\r\n\r\n    let idsEmpresa = this.form.get('ID_EMPR').value;\r\n    let idSituacao = 1;\r\n    let params = {\r\n      idsEmpresa: idsEmpresa ?? \"\",\r\n      idSituacao\r\n    }\r\n\r\n    this.service\r\n      .getDepositos(params)\r\n      .pipe(finalize(() => (this.loaderNavbar = false)))\r\n      .subscribe(\r\n        res => {\r\n          if (Object.keys(res).length > 0) {\r\n            if (res['body']['responseCode'] === 200) {\r\n              this.form.get('ID_DEPO').reset();\r\n              this.form.get('ID_DEPO').enable();\r\n              this.depositos = res['body']['result'];\r\n            } else if (res['body']['responseCode'] === 404) {\r\n              this.form.get('ID_DEPO').reset();\r\n              this.form.get('ID_DEPO').disable();\r\n            }\r\n          }\r\n        },\r\n        error => {\r\n          this.pnotifyService.error('Erro ao carregar Depositos');\r\n        }\r\n      );\r\n  }\r\n\r\n  getTiposMateriais(): void  {\r\n    let params = {\r\n      idSituacao: 1\r\n    };\r\n\r\n    this.loaderNavbar = true;\r\n    this.tipoMateriais = [];\r\n\r\n    this.service\r\n      .getTiposMateriais(params)\r\n      .pipe(finalize(() => {this.loaderNavbar = false;}))\r\n      .subscribe(\r\n        res => {\r\n          if (Object.keys(res).length > 0) {\r\n            this.tipoMateriais = res['body']['result'];\r\n          }\r\n        },\r\n        error => {\r\n          this.pnotifyService.error('Erro ao carregar tipos materiais');\r\n        }\r\n      );\r\n  }\r\n\r\n  getLinhas(): void  {\r\n    const params = {\r\n      idSituacao: 1\r\n    };\r\n\r\n    this.loaderNavbar = true;\r\n    this.linhas = [];\r\n\r\n    this.service\r\n      .getLinhas(params)\r\n      .pipe(finalize(() => (this.loaderNavbar = false)))\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (Object.keys(res).length > 0) {\r\n            if (res.status === 200) {\r\n              this.linhas = res['body']['result'];\r\n            }\r\n          }\r\n        },\r\n        error => {\r\n          this.pnotifyService.error('Erro ao carregar Linhas');\r\n        }\r\n      );\r\n  }\r\n\r\n  getSubLinhas(): void  {\r\n    this.loaderNavbar = true;\r\n    this.subLinhas = [];\r\n\r\n    if (\r\n      this.form.value['ID_LINH'] != null &&\r\n      this.form.value['ID_LINH'].length > 0\r\n    ) {\r\n      let descricaoLinhas = this.form.get('ID_LINH').value;\r\n      let idSituacao = 1;\r\n      let params = {\r\n        descricaoLinhas: descricaoLinhas,\r\n        idSituacao: idSituacao\r\n      };\r\n\r\n      this.service\r\n        .getSubLinhas(params)\r\n        .pipe(finalize(() => (this.loaderNavbar = false)))\r\n        .subscribe(\r\n          res => {\r\n            if (Object.keys(res).length > 0) {\r\n              if (res.status === 200) {\r\n                if (res['body']['responseCode'] === 200) {\r\n                  this.subLinhas = res['body']['result'];\r\n                  this.form.get('ID_SUB_LINH').reset();\r\n                  this.form.get('ID_SUB_LINH').enable();\r\n                } else if (res['body']['responseCode'] === 404) {\r\n                  this.form.get('ID_SUB_LINH').reset();\r\n                  this.form.get('ID_SUB_LINH').disable();\r\n                  this.pnotifyService.notice('Não há sublinha cadastrada');\r\n                }\r\n              }\r\n            }\r\n          },\r\n          error => {\r\n            this.pnotifyService.error('Erro ao carregar sublinhas');\r\n          }\r\n        );\r\n    } else {\r\n      this.loaderNavbar = false;\r\n      this.form.get('ID_SUB_LINH').reset();\r\n      this.form.get('ID_SUB_LINH').disable();\r\n      this.form.get('ID_MATE').reset();\r\n      this.form.get('ID_MATE').disable();\r\n    }\r\n  }\r\n\r\n  getClasses(): void  {\r\n    this.classes = [];\r\n    this.loaderNavbar = true;\r\n    this.ableButtonEditMassa = false;\r\n\r\n    if (\r\n      this.form.value['ID_LINH'] != null &&\r\n      this.form.value['ID_LINH'].length > 0\r\n    ) {\r\n      let descricaoLinhas = this.form.get('ID_LINH').value;\r\n      let idSubLinha = this.form.get('ID_SUB_LINH').value;\r\n      let idSituacao = 1;\r\n      let params = {\r\n        descricaoLinhas,\r\n        idSubLinha : idSubLinha ?? \"\",\r\n        idSituacao\r\n      }\r\n\r\n      this.service\r\n        .getClasses(params)\r\n        .pipe(finalize(() => (this.loaderNavbar = false)))\r\n        .subscribe(\r\n          res => {\r\n            if (Object.keys(res).length > 0) {\r\n              if (res.status === 200) {\r\n                if (res['body']['responseCode'] === 200) {\r\n                  this.classes = res['body']['result'];\r\n                  this.form.get('ID_CLAS').reset();\r\n                  this.form.get('ID_CLAS').enable();\r\n                  this.form.get('ID_MATE').reset();\r\n                  this.form.get('ID_MATE').disable();\r\n                } else if (res['body']['responseCode'] === 404) {\r\n                  this.form.get('ID_CLAS').reset();\r\n                  this.form.get('ID_CLAS').disable();\r\n                }\r\n              }\r\n            }\r\n          },\r\n          error => {\r\n            this.pnotifyService.error('Erro ao carregar Classes');\r\n          }\r\n        );\r\n    } else {\r\n      this.loaderNavbar = false;\r\n      this.form.get('ID_CLAS').reset();\r\n      this.form.get('ID_CLAS').disable();\r\n      this.form.get('ID_MATE').reset();\r\n      this.form.get('ID_MATE').disable();\r\n    }\r\n  }\r\n\r\n  getMateriais(): void  {\r\n    this.materiais = [];\r\n    this.loaderNavbar = true;\r\n    \r\n    if (\r\n      this.form.value['ID_CLAS'] != null &&\r\n      this.form.value['ID_CLAS'].length > 0\r\n      ) {\r\n        let idClasses = this.form.get('ID_CLAS').value;\r\n        let idTipoMaterial = this.form.get('ID_TIPO_MATE').value;\r\n        let idSituacao = 1;\r\n        this.ableButtonEditMassa = true;\r\n      let params = {\r\n        idClasses: idClasses ?? \"\",\r\n        idTipoMaterial: idTipoMaterial ?? \"\",\r\n        idSituacao\r\n      };\r\n\r\n      this.service\r\n        .getMateriais(params)\r\n        .pipe(finalize(() => (this.loaderNavbar = false)))\r\n        .subscribe(\r\n          (res: any) => {\r\n            if (Object.keys(res).length > 0) {\r\n              if (res['body'].responseCode === 200) {\r\n                this.materiais = res['body'].result;\r\n                this.form.get('ID_MATE').reset();\r\n                this.form.get('ID_MATE').enable();\r\n              } else if (\r\n                res['body']['responseCode'] === 204 ||\r\n                res['body']['responseCode'] === 404\r\n              ) {\r\n                this.form.get('ID_MATE').reset();\r\n                this.form.get('ID_MATE').disable();\r\n                this.pnotifyService.notice(\r\n                  'Não há materiais cadastrados para essa classe'\r\n                );\r\n              }\r\n            }\r\n            this.loaderNavbar = false;\r\n          },\r\n          error => {\r\n            this.pnotifyService.error('Erro ao carregar filtro Materias');\r\n          }\r\n        );\r\n    } else {\r\n      this.loaderNavbar = false;\r\n      this.ableButtonEditMassa = false;\r\n      this.form.get('ID_MATE').reset();\r\n      this.form.get('ID_MATE').disable();\r\n    }\r\n  }\r\n\r\n  onFilter(): void {\r\n    this.form.value['TT_MESE_PERI_VEND_SIMU'] = '';\r\n    this.form.get('TT_MESE_PERI_VEND_SIMU').reset();\r\n\r\n    this.ableEditMassa = false;\r\n\r\n    this.router.navigate([], {\r\n      relativeTo: this.activatedRoute,\r\n      queryParams: this.routerService.setBase64UrlParams(this.getParams())\r\n    });\r\n\r\n    this.search(this.getParams());\r\n  }\r\n\r\n  search(params: any): void{\r\n    const ID_CLAS = params['ID_CLAS'] ? params['ID_CLAS'] : '';\r\n    this.begin = 0;\r\n\r\n    if(Object.keys(ID_CLAS).length > 0) {\r\n      this.ableButtonCallModal = true;\r\n    } else {\r\n      this.ableButtonCallModal = false;\r\n    }\r\n    \r\n    this.loaderNavbar = true;\r\n    this.loading = false;\r\n    this.data = [];\r\n\r\n    this.service\r\n    .getNivelEstoqueClasseDeposito(params)\r\n    .pipe(\r\n      finalize(() => this.loaderNavbar = false)\r\n      )\r\n      .subscribe(res => {\r\n        if(Object.keys(res).length > 0) {\r\n          if(res.status == 200){\r\n            if(res['body']['responseCode'] == 200) {\r\n              this.loading = true;\r\n              this.noResult = false;\r\n              this.dataFull = res['body']['result'];\r\n              this.dataTotal = this.dataFull.shift();\r\n              this.data = this.dataFull;\r\n            } else if (res['body']['responseCode'] ==  404){\r\n            this.noResult = true;\r\n            this.pnotifyService.notice(\"Não há itens a serem exibidos\");\r\n          }\r\n        }\r\n      }\r\n    },\r\n    error => {\r\n      this.noResult = true;\r\n      this.pnotifyService.error(\"Erro ao carregar Parâmetros gerais de estoque\");\r\n    });\r\n  }\r\n\r\n  getSearchExcel(params: any): void {\r\n    this.loaderNavbar = true;\r\n    this.dataExcel = '';\r\n\r\n    this.service\r\n      .getNivelEstoqueClasseDeposito(params)\r\n      .pipe(finalize(() => (this.loaderNavbar = false)))\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (Object.keys(res).length > 0) {\r\n            if (res['body']['responseCode'] === 200) {\r\n              this.dataExcel = res['body']['result'];\r\n              this.pnotifyService.success(this.dataExcel);\r\n            } else if (\r\n              res['body']['responseCode'] === 404\r\n            ) {\r\n              this.pnotifyService.notice('Nenhuma informação encontrada');\r\n            }\r\n          }\r\n        },\r\n        error => {\r\n          this.pnotifyService.error('Erro ao carregar dados para excel');\r\n        }\r\n      );\r\n  }\r\n\r\n  onEdit(item: any): void {\r\n    const periodoVendas = item.FORM_PERI_VEND;\r\n    const dateStart = item.DATE_STAR_CALC;\r\n    const dateEnd = item.DATE_END_CALC;\r\n    const mediaVendas = item.MEDI_VEND_CALC;\r\n    const vendasPeriodo = item.PERI_VEND_CALC;\r\n\r\n    const arrayTemp = [{\r\n      ID_DEPO: item.ID_DEPO,\r\n      ID_CLAS: item.ID_CLAS,\r\n      ID_APOI_TIPO_MATE: item.ID_TIPO_MATE,\r\n      TT_PERI_VEND_MESE: parseInt(periodoVendas),\r\n      DT_INIC_PERI_VEND: dateStart,\r\n      DT_FINA_PERI_VEND:  dateEnd ?? '',\r\n      TT_MEDI_VEND_PERI: mediaVendas ?? '',\r\n      TT_VEND_PERI: vendasPeriodo,\r\n      IN_STAT: 1\r\n    }];\r\n\r\n    const record = {\r\n      ID_TIPO_GRAV: 1,\r\n      ID_USUA: parseInt(this.idUsuario),\r\n      DATA: arrayTemp\r\n    }\r\n\r\n    this.onConfirmChange(this.service.postNivelEstoqueMaterialDeposito(record));\r\n  }\r\n\r\n  onConfirmChange(apiRoute: any): any{\r\n    this.confirmChange()\r\n    .asObservable()\r\n    .pipe(\r\n      take(1),\r\n      switchMap((result: any) => {\r\n        if (!result) return EMPTY;\r\n          this.loaderNavbar = true;\r\n          return apiRoute;\r\n      }),\r\n      finalize(() => {\r\n        this.loaderNavbar = false;\r\n      })\r\n    )\r\n    .subscribe(\r\n      (success: any) => {\r\n        setTimeout(() => {\r\n          this.onFilter();\r\n        }, 700);\r\n        this.pnotifyService.success();\r\n      },\r\n      (error: any) => {\r\n        this.pnotifyService.error();\r\n      }\r\n    );\r\n  }\r\n\r\n  onDetails(item: any): void {\r\n    this.router.navigate([`../detalhes-materiais`],{\r\n      relativeTo: this.activatedRoute,\r\n      queryParams: this.routerService.setBase64UrlParams({\r\n        item\r\n      })\r\n    });\r\n  }\r\n\r\n  ableEditCell(item: any): void {\r\n    item.FORM_PERI_VEND = null;\r\n    item.DATE_STAR_CALC = '';\r\n    item.DATE_END_CALC = '';\r\n    item.MEDI_VEND_CALC = 0;\r\n    item.PERI_VEND_CALC = 0;\r\n    item.ON_EDIT_CELL = !item.ON_EDIT_CELL;\r\n  }\r\n\r\n  disableEditCell(item: any): void {\r\n    item.FORM_PERI_VEND = null;\r\n    item.DATE_STAR_CALC = '';\r\n    item.DATE_END_CALC = '';\r\n    item.MEDI_VEND_CALC = 0;\r\n    item.PERI_VEND_CALC = 0;\r\n    item.ON_EDIT_CELL = !item.ON_EDIT_CELL;\r\n    this.handleCalcTotal();\r\n  }\r\n\r\n  calculateMediaVendas(item: any): void {\r\n    const periodoMeses: string = item.FORM_PERI_VEND;\r\n    const params: any = {\r\n      ID_DEPO: item.ID_DEPO,\r\n      ID_CLAS: item.ID_CLAS,\r\n      ID_APOI_TIPO_MATE: item.ID_TIPO_MATE,\r\n      TT_MESE_PERI_VEND: periodoMeses,\r\n    }\r\n\r\n    this.getCalculoPeriodoVendasRealizadas(params, item); \r\n  }\r\n\r\n  getCalculoPeriodoVendasRealizadas(params: any, item: any): void {\r\n    this.dataMediaVendas = [];\r\n    this.loaderNavbar = true;\r\n\r\n    this.service\r\n      .getCalculoPeriodoVendasRealizadas(params)\r\n      .pipe(finalize(() => this.loaderNavbar = false))\r\n      .subscribe((res: any) => {\r\n      if(Object.keys(res).length > 0) {\r\n        if(res.status === 200) {\r\n          if(res['body']['responseCode'] === 200) {\r\n            this.dataMediaVendas = res['body']['result'];\r\n            item.BOOL_CALC = true;\r\n            item.DATE_STAR_CALC = this.dataMediaVendas[0].DT_INIC_PERI_VEND;\r\n            item.DATE_END_CALC = this.dataMediaVendas[0].DT_FINA_PERI_VEND;\r\n            item.MEDI_VEND_CALC = this.dataMediaVendas[0].TT_MEDI_VEND_PERI;\r\n            item.PERI_VEND_CALC = this.dataMediaVendas[0].TT_VEND_PERI;\r\n            this.handleCalcTotal();\r\n          } else {\r\n            this.pnotifyService.notice(res['body']['message']);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    error => {\r\n      this.pnotifyService.error('Erro ao realizar calculo do período de vendas');\r\n    }\r\n    \r\n    );\r\n  }\r\n\r\n  handleCalcTotal(): void {\r\n    let getValueMediaVendas = 0;\r\n    let total = 0;\r\n\r\n    this.data.forEach( e => {\r\n      if(e.MEDI_VEND_CALC != undefined) {\r\n        getValueMediaVendas = e.MEDI_VEND_CALC;\r\n      } else {\r\n        getValueMediaVendas = e.TT_MEDI_VEND_PERI;\r\n      }\r\n      total = total + getValueMediaVendas;\r\n    });\r\n\r\n    this.dataTotal['TT_MEDI_VEND_PERI'] =  total;\r\n  }\r\n\r\n  postNivelEstoqueMaterialDeposito(record: any): any {\r\n    this.loaderNavbar = true;\r\n    \r\n    this.service\r\n      .postNivelEstoqueMaterialDeposito(record)\r\n      .pipe(\r\n        finalize(() => this.loaderNavbar = false)\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (Object.keys(res).length > 0) {\r\n            if (res['responseCode'] === 201) {\r\n              this.pnotifyService.success(res['message']);\r\n            } else {\r\n              this.pnotifyService.error(res['message']);\r\n            }\r\n          }\r\n        },\r\n        error => {\r\n          this.pnotifyService.error(error['error']);\r\n        }\r\n      );\r\n  }\r\n\r\n  onCloseTabs(): void {\r\n    this.data.forEach(e => {\r\n      e.SELECTED = false;\r\n    });\r\n    this.compressedTable = false;\r\n  }\r\n\r\n  OnExcel(): void {\r\n    let params = this.getParams();\r\n\r\n    params['IN_RELA_EXCE'] = 1;\r\n    params['ID_USUA'] = this.idUsuario;\r\n\r\n    this.getSearchExcel(params);\r\n  }\r\n\r\n  OnEditMassa(): void {\r\n    this.periodoVendasMassa = this.form.value['TT_MESE_PERI_VEND_SIMU'];\r\n    this.ableEditMassa = true;\r\n\r\n    this.router.navigate([], {\r\n      relativeTo: this.activatedRoute,\r\n      queryParams: this.routerService.setBase64UrlParams(this.getParams())\r\n    });\r\n\r\n    this.search(this.getParams());\r\n  }\r\n\r\n  OnSaveMassa(): any {  \r\n    let arrayTemp = [];\r\n\r\n    this.data.map( e => {\r\n      let periodoVendas = 0;\r\n      let mesesVendas = 0;\r\n      let mediaVendas = 0;\r\n      let dateStart = '';\r\n      let dateEnd = '';\r\n\r\n      if(e.BOOL_CALC) {\r\n        mesesVendas = parseInt(e.FORM_PERI_VEND);\r\n        periodoVendas = e.PERI_VEND_CALC;\r\n        mediaVendas = e.MEDI_VEND_CALC;\r\n        dateStart = e.DATE_STAR_CALC;\r\n        dateEnd = e.DATE_END_CALC;\r\n        \r\n      } else {\r\n        mesesVendas = e.TT_MESE_PERI_VEND_SIMU;\r\n        periodoVendas = e.TT_VEND_PERI_SIMU;\r\n        mediaVendas = e.TT_MEDI_VEND_PERI_SIMU;\r\n        dateStart = e.DT_INIC_PERI_VEND_SIMU;\r\n        dateEnd = e.DT_FINA_PERI_VEND_SIMU;\r\n      }\r\n\r\n     let arrayTemp_ = {\r\n        ID_DEPO: e.ID_DEPO,\r\n        ID_CLAS: e.ID_CLAS,\r\n        ID_APOI_TIPO_MATE: e.ID_TIPO_MATE,\r\n        TT_PERI_VEND_MESE: mesesVendas,\r\n        DT_INIC_PERI_VEND: dateStart,\r\n        DT_FINA_PERI_VEND:  dateEnd,\r\n        TT_VEND_PERI: periodoVendas,\r\n        TT_MEDI_VEND_PERI: mediaVendas,\r\n        IN_STAT: 1\r\n      }\r\n\r\n      arrayTemp.push(arrayTemp_);\r\n    });\r\n\r\n    const record = {\r\n      ID_TIPO_GRAV: 1,\r\n      ID_USUA: parseInt(this.idUsuario),\r\n      DATA: arrayTemp\r\n    }\r\n\r\n    this.onConfirmChange(this.service.postNivelEstoqueMaterialDeposito(record));\r\n  }\r\n\r\n  setDefaultValueFormModalNivelEstoque(item :any): void {\r\n    this.formModal.reset();\r\n    this.formModal.get('TIPO_VARI').setValue('1');\r\n\r\n    this.paramsRecord = {};\r\n\r\n    if (item) {\r\n      this.headerModalTipoMaterial = item.NM_TIPO_MATE;\r\n      this.headerModalClasse = item.NM_CLAS;\r\n      this.headerModalDeposito = item.NM_DEPO;\r\n      this.headerModalPeriodo = item.TT_PERI_VEND_MESE;\r\n      this.headerModalMediaVendas = item.TT_MEDI_VEND_PERI;\r\n      this.headerModalEstoqueDisponivel = item.TT_ESTO_DISP;\r\n      \r\n      this.ableHeaderModalNivelEstoque = true;\r\n\r\n      this.paramsRecord = {\r\n        ID_TIPO_GRAV: 2,\r\n        ID_CLAS: item.ID_CLAS,\r\n        ID_APOI_TIPO_MATE: item.ID_TIPO_MATE,\r\n        ID_DEPO: item.ID_DEPO\r\n      }\r\n    } else {\r\n      this.ableHeaderModalNivelEstoque = false;\r\n      this.paramsRecord = {\r\n        ID_TIPO_GRAV: 1,\r\n        ID_CLAS: this.form.value['ID_CLAS'],\r\n        ID_APOI_TIPO_MATE: this.form.value['ID_TIPO_MATE'],\r\n      }\r\n    }\r\n  }\r\n\r\n  OnSaveNivelEstoque() : void {\r\n    let record = this.paramsRecord;\r\n    const percetualVariacao = this.formModal.value['PERC_VARI_CONS'];\r\n    const tipoVariacao = this.formModal.value['TIPO_VARI'];\r\n    const diasEstoqueMinimo = this.formModal.value['DIAS_ESTO_MINI'];\r\n    const diasEstoqueMedio = this.formModal.value['DIAS_ESTO_MEDI'];\r\n    const diasEstoqueMaximo = this.formModal.value['DIAS_ESTO_MAXI'];\r\n\r\n    record['VL_PERC_VARI_CONS'] = percetualVariacao ? parseFloat(percetualVariacao) : '',\r\n    record['IN_PERC_VARI_CONS'] = tipoVariacao ? parseInt(tipoVariacao) : '',\r\n    record['TT_DIAS_ESTO_MINI'] = diasEstoqueMinimo ? parseInt(diasEstoqueMinimo) : '',\r\n    record['TT_DIAS_ESTO_MEDI'] = diasEstoqueMedio ? parseInt(diasEstoqueMedio) : '',\r\n    record['TT_DIAS_ESTO_MAXI'] = diasEstoqueMaximo ? parseInt(diasEstoqueMaximo) : '',\r\n    record['ID_USUA'] = parseInt(this.idUsuario),\r\n\r\n    this.onConfirmChange(this.service.postNivelEstoque(record));\r\n  }\r\n\r\n  confirmChange(): any {\r\n     return this.confirmModalService.showConfirm(\r\n      null,\r\n      'Confirmar alteração',\r\n      'Deseja realmente prosseguir com a alteração do(s) registro(s)?',\r\n      'Cancelar',\r\n      'Confirmar'\r\n    );\r\n  }\r\n\r\n  setColsNivelEstoqueTrue() : void {\r\n    this.colsNivelEstoque = !this.colsNivelEstoque;\r\n  }\r\n\r\n  /* Ordenação */\r\n  sort(key: string): void {\r\n    this.key = key;\r\n    this.reverse = !this.reverse;\r\n  }\r\n  /* Ordenação */\r\n  \r\n  /* Paginação Tabela Principal*/\r\n  onPageChanged(event: PageChangedEvent): void {\r\n    this.begin = (event.page - 1) * event.itemsPerPage;\r\n    this.end = event.page * event.itemsPerPage;\r\n  }\r\n  /* Paginação */\r\n\r\n  onFieldError(field: string): string {\r\n    if (this.onFieldInvalid(field)) {\r\n      return 'is-invalid';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any): any {\r\n    field = this.form.get(field);\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onFieldRequired(field: string): any {\r\n    let required = false;\r\n    let formControl = new FormControl();\r\n\r\n    if (this.form.controls[field].validator) {\r\n      let validationResult = this.form.controls[field].validator(formControl);\r\n      required =\r\n        validationResult !== null && validationResult.required === true;\r\n    }\r\n\r\n    if (required) {\r\n      return 'is-required';\r\n    }\r\n  }\r\n\r\n  onFieldErrorModal(field: string): string {\r\n    if (this.onFieldInvalidModal(field)) {\r\n      return 'is-invalid';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalidModal(field: any): any {\r\n    field = this.formModal.get(field);\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onFieldRequiredModal(field: string): any {\r\n    let required = false;\r\n    let formControl = new FormControl();\r\n\r\n    if (this.formModal.controls[field].validator) {\r\n      let validationResult = this.formModal.controls[field].validator(formControl);\r\n      required =\r\n        validationResult !== null && validationResult.required === true;\r\n    }\r\n\r\n    if (required) {\r\n      return 'is-required';\r\n    }\r\n  }\r\n\r\n  /* Realiza comparação para verificar se volume minimo < volumeMedio < volume maximo */\r\n  compareValuesEstoque(field: any): any {\r\n    let minimo = this.formModal.get(\"DIAS_ESTO_MINI\").value;\r\n    let medio = this.formModal.get(\"DIAS_ESTO_MEDI\").value;\r\n    let maximo = this.formModal.get(\"DIAS_ESTO_MAXI\").value;\r\n\r\n    minimo = parseInt(minimo);\r\n    medio = parseInt(medio);\r\n    maximo = parseInt(maximo);\r\n\r\n    if (this.formModal.get(\"DIAS_ESTO_MAXI\").touched) {\r\n      if(field == \"DIAS_ESTO_MINI\") {\r\n        if( minimo > medio || minimo > maximo) {\r\n          this.minimoBool = false;\r\n          return true;\r\n        } else {\r\n          this.minimoBool = true;\r\n        }\r\n      }\r\n  \r\n      if(field == \"DIAS_ESTO_MEDI\") {\r\n        if( medio > maximo || medio < minimo) {\r\n          this.medioBool = false;\r\n          return true;\r\n        } else {\r\n          this.medioBool = true;\r\n        }\r\n      }\r\n  \r\n      if(field == \"DIAS_ESTO_MAXI\") {\r\n        if( maximo < minimo || maximo < medio) {\r\n          this.maximoBool = false;\r\n          return true;\r\n        } else {\r\n          this.maximoBool = true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /* Validação para habilitar botão de salvar no modal Nivel Estoque*/\r\n  validatorsSaveModal(): boolean {\r\n    if( this.minimoBool && this.medioBool && this.maximoBool ) {\r\n      this.enableSaveModal = true;\r\n    } else {\r\n      this.enableSaveModal = false;\r\n    }\r\n    return this.enableSaveModal;\r\n  }\r\n}\r\n","export default \"<loader-spinner-full-screen\\r\\n  *ngIf=\\\"loaderFullScreen\\\"\\r\\n></loader-spinner-full-screen>\\r\\n<loader-spinner-navbar *ngIf=\\\"loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<app-header appTitle=\\\"Parâmetros Gerais de Estoque\\\">\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onFilter()\\\"\\r\\n    [disabled]=\\\"form.status == 'INVALID'\\\"\\r\\n  >\\r\\n    Filtrar\\r\\n  </button>\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"smModal.show()\\\"\\r\\n    [disabled]=\\\"!ableButtonEditMassa\\\"\\r\\n  >\\r\\n    Edição em massa\\r\\n  </button>\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"setDefaultValueFormModalNivelEstoque(null) + '' + smModal1.show()\\\"\\r\\n    [disabled]=\\\"!ableButtonCallModal\\\"\\r\\n  >\\r\\n    Calcular Nível Estoque\\r\\n  </button>\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    [disabled]=\\\"true\\\"\\r\\n    (click)=\\\"OnExcel()\\\"\\r\\n  >\\r\\n    Exportar Excel\\r\\n  </button>\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    [disabled]=\\\"!ableEditMassa\\\"\\r\\n    (click)=\\\"OnSaveMassa()\\\"\\r\\n  >\\r\\n    Salvar em massa\\r\\n  </button>\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    routerLink=\\\"../vinculo-deposito\\\"\\r\\n    >\\r\\n    Vincular depósitos\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\" [show]=\\\"!loaderFullScreen\\\">\\r\\n  <advanced-filter>\\r\\n    <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"tipoMateriais\\\">Tipo de material</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"tipoMateriais\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            [hideSelected]=\\\"true\\\"\\r\\n            [closeOnSelect]=\\\"true\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            bindLabel=\\\"NM_APOI_TIPO_MATE\\\"\\r\\n            bindValue=\\\"ID\\\"\\r\\n            formControlName=\\\"ID_TIPO_MATE\\\"\\r\\n            [ngClass]=\\\"\\r\\n              onFieldError('ID_TIPO_MATE') + ' ' + onFieldRequired('ID_TIPO_MATE')\\r\\n            \\\"\\r\\n          >\\r\\n          </ng-select>\\r\\n          <invalid-form-control\\r\\n            [show]=\\\"onFieldInvalid('ID_TIPO_MATE')\\\"\\r\\n            message=\\\"Tipo de Materiais é obrigatório.\\\"\\r\\n          >\\r\\n          </invalid-form-control>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"linhas\\\">Linha</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"linhas\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            [hideSelected]=\\\"true\\\"\\r\\n            [closeOnSelect]=\\\"true\\\"\\r\\n            (change)=\\\"getSubLinhas() + '' + getClasses()\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            bindLabel=\\\"NM_LINH\\\"\\r\\n            bindValue=\\\"ID\\\"\\r\\n            formControlName=\\\"ID_LINH\\\"\\r\\n            [ngClass]=\\\"\\r\\n              onFieldError('ID_LINH') + ' ' + onFieldRequired('ID_LINH')\\r\\n            \\\"\\r\\n            >\\r\\n          </ng-select>\\r\\n          <invalid-form-control\\r\\n            [show]=\\\"onFieldInvalid('ID_LINH')\\\"\\r\\n            message=\\\"Linha é obrigatório.\\\"\\r\\n          >\\r\\n          </invalid-form-control>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"subLinhas\\\">Sublinha</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"true\\\"\\r\\n            [multiple]=\\\"true\\\"\\r\\n            [items]=\\\"subLinhas\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            [hideSelected]=\\\"true\\\"\\r\\n            [closeOnSelect]=\\\"false\\\"\\r\\n            (change)=\\\"getClasses()\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            bindLabel=\\\"NM_SUB_LINH\\\"\\r\\n            bindValue=\\\"ID\\\"\\r\\n            formControlName=\\\"ID_SUB_LINH\\\"\\r\\n            >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"classes\\\">Classe</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"true\\\"\\r\\n            [items]=\\\"classes\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            [hideSelected]=\\\"true\\\"\\r\\n            [closeOnSelect]=\\\"false\\\"\\r\\n            (change)=\\\"getMateriais()\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            bindLabel=\\\"NM_CLAS\\\"\\r\\n            bindValue=\\\"ID\\\"\\r\\n            formControlName=\\\"ID_CLAS\\\"\\r\\n            >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"empresas\\\">Empresa</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"true\\\"\\r\\n            [multiple]=\\\"true\\\"\\r\\n            [items]=\\\"empresas\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            [hideSelected]=\\\"true\\\"\\r\\n            [closeOnSelect]=\\\"false\\\"\\r\\n            (change)=\\\"getDepositos()\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            bindLabel=\\\"NM_FANT\\\"\\r\\n            bindValue=\\\"ID\\\"\\r\\n            formControlName=\\\"ID_EMPR\\\"\\r\\n            >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"depositos\\\">Depósitos</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"true\\\"\\r\\n            [multiple]=\\\"true\\\"\\r\\n            [items]=\\\"depositos\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            [hideSelected]=\\\"true\\\"\\r\\n            [closeOnSelect]=\\\"false\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            bindLabel=\\\"NM_DEPO\\\"\\r\\n            bindValue=\\\"ID\\\"\\r\\n            formControlName=\\\"ID_DEPO\\\"\\r\\n            >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col-lg-6\\\">\\r\\n          <label for=\\\"materiais\\\">Material</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"true\\\"\\r\\n            [multiple]=\\\"true\\\"\\r\\n            [items]=\\\"materiais\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            [hideSelected]=\\\"true\\\"\\r\\n            [closeOnSelect]=\\\"false\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            bindLabel=\\\"ID_REFE_ERP_NM_MATE\\\"\\r\\n            bindValue=\\\"ID\\\"\\r\\n            formControlName=\\\"ID_MATE\\\"\\r\\n            >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"situacoes\\\">Situação</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"situations\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            [hideSelected]=\\\"true\\\"\\r\\n            [closeOnSelect]=\\\"true\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            bindLabel=\\\"NM_SITU\\\"\\r\\n            bindValue=\\\"ID\\\"\\r\\n            formControlName=\\\"IN_STAT\\\"\\r\\n            [ngClass]=\\\"\\r\\n              onFieldError('IN_STAT') + ' ' + onFieldRequired('IN_STAT')\\r\\n            \\\"\\r\\n            >\\r\\n            <invalid-form-control\\r\\n              [show]=\\\"onFieldInvalid('IN_STAT')\\\"\\r\\n              message=\\\"Situação é obrigatório.\\\"\\r\\n            >\\r\\n            </invalid-form-control>\\r\\n          </ng-select>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </advanced-filter>\\r\\n  <div class=\\\"row\\\" *ngIf=\\\"loading\\\">\\r\\n    <div class=\\\"col-lg-6\\\">\\r\\n      <subtitles [data]=\\\"subtitles\\\" [show]=\\\"loading\\\"> </subtitles>\\r\\n    </div>\\r\\n    <div class=\\\"col-lg-6 d-flex justify-content-end\\\" *ngIf=\\\"ableEditMassa\\\">\\r\\n      <p>\\r\\n        <strong>PERÍODO DE VENDAS SIMULADO:</strong> {{ periodoVendasMassa }} MESES\\r\\n      </p>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"row m-0\\\">\\r\\n    <div class=\\\"table-responsive\\\" [ngClass]=\\\"{'col-12': !compressedTable, 'col-7 pr-0': compressedTable}\\\" *ngIf=\\\"loading\\\">\\r\\n      <custom-table [config]=\\\"tableConfig\\\">\\r\\n        <ng-template let-thead #thead>\\r\\n          <tr class=\\\"text-center\\\">\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover\\\" (click)=\\\"sort('NM_TIPO_MATE')\\\">\\r\\n              Tipo material\\r\\n              <span *ngIf=\\\"key == 'NM_TIPO_MATE'\\\"><i [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"></i></span>\\r\\n              <span *ngIf=\\\"key != 'NM_TIPO_MATE'\\\"><i [ngClass]=\\\"'fas fa-sort'\\\"></i></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover\\\" (click)=\\\"sort('NM_LINH')\\\" [hidden]=\\\"colsNivelEstoque || ableEditMassa\\\">\\r\\n              Linha\\r\\n              <span *ngIf=\\\"key == 'NM_LINH'\\\"><i [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"></i></span>\\r\\n              <span *ngIf=\\\"key != 'NM_LINH'\\\"><i [ngClass]=\\\"'fas fa-sort'\\\"></i></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover\\\" (click)=\\\"sort('NM_SUB_LINH')\\\" [hidden]=\\\"colsNivelEstoque || ableEditMassa\\\">\\r\\n              Sublinha\\r\\n              <span *ngIf=\\\"key == 'NM_SUB_LINH'\\\"><i [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"></i></span>\\r\\n              <span *ngIf=\\\"key != 'NM_SUB_LINH'\\\"><i [ngClass]=\\\"'fas fa-sort'\\\"></i></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover\\\" (click)=\\\"sort('NM_CLAS')\\\">\\r\\n              Classe\\r\\n              <span *ngIf=\\\"key == 'NM_CLAS'\\\"><i [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"></i></span>\\r\\n              <span *ngIf=\\\"key != 'NM_CLAS'\\\"><i [ngClass]=\\\"'fas fa-sort'\\\"></i></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover\\\" (click)=\\\"sort('NM_EMPR')\\\" [hidden]=\\\"colsNivelEstoque || ableEditMassa\\\">\\r\\n              Empresa\\r\\n              <span *ngIf=\\\"key == 'NM_EMPR'\\\"><i [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"></i></span>\\r\\n              <span *ngIf=\\\"key != 'NM_EMPR'\\\"><i [ngClass]=\\\"'fas fa-sort'\\\"></i></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover\\\" (click)=\\\"sort('NM_DEPO')\\\">\\r\\n              Depósito\\r\\n              <span *ngIf=\\\"key == 'NM_DEPO'\\\"><i [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"></i></span>\\r\\n              <span *ngIf=\\\"key != 'NM_DEPO'\\\"><i [ngClass]=\\\"'fas fa-sort'\\\"></i></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover\\\" (click)=\\\"sort('TT_PERI_VEND_MESE')\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n              Per. vendas\\r\\n              <span *ngIf=\\\"key == 'TT_PERI_VEND_MESE'\\\"><i [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"></i></span>\\r\\n              <span *ngIf=\\\"key != 'TT_PERI_VEND_MESE'\\\"><i [ngClass]=\\\"'fas fa-sort'\\\"></i></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n              Período\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover\\\" (click)=\\\"sort('TT_MEDI_VEND_PERI')\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n              Média Vendas\\r\\n              <span *ngIf=\\\"key == 'TT_MEDI_VEND_PERI'\\\"><i [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"></i></span>\\r\\n              <span *ngIf=\\\"key != 'TT_MEDI_VEND_PERI'\\\"><i [ngClass]=\\\"'fas fa-sort'\\\"></i></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover\\\" (click)=\\\"sort('TT_ESTO_DISP')\\\">\\r\\n              Estoque Disponível\\r\\n              <span *ngIf=\\\"key == 'TT_ESTO_DISP'\\\"><i [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"></i></span>\\r\\n              <span *ngIf=\\\"key != 'TT_ESTO_DISP'\\\"><i [ngClass]=\\\"'fas fa-sort'\\\"></i></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover\\\" (click)=\\\"sort('NR_DIAS_GIRO')\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n              GIRO\\r\\n              <span *ngIf=\\\"key == 'NR_DIAS_GIRO'\\\"><i [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"></i></span>\\r\\n              <span *ngIf=\\\"key != 'NR_DIAS_GIRO'\\\"><i [ngClass]=\\\"'fas fa-sort'\\\"></i></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover\\\">\\r\\n            <!-- <th nowrap scope=\\\"col\\\" class=\\\"hover\\\" (click)=\\\"sort('DS_APOI_TIPO_NIVE_ESTO')\\\"> -->\\r\\n              Nível Estoque\\r\\n              <button\\r\\n                class=\\\"btn-icon-sm\\\"\\r\\n                (click)=\\\"setColsNivelEstoqueTrue()\\\"\\r\\n              >\\r\\n                <i\\r\\n                  [ngClass]=\\\"colsNivelEstoque ? 'fas fa-minus' : 'fas fa-plus'\\\"\\r\\n                  title=\\\"Mostrar Nivel Estoque\\\"\\r\\n                  aria-hidden=\\\"true\\\"\\r\\n                ></i>\\r\\n              </button>\\r\\n              <!-- <span *ngIf=\\\"key == 'DS_APOI_TIPO_NIVE_ESTO'\\\"><i [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"></i></span>\\r\\n              <span *ngIf=\\\"key != 'DS_APOI_TIPO_NIVE_ESTO'\\\"><i [ngClass]=\\\"'fas fa-sort'\\\"></i></span> -->\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" (click)=\\\"sort('TT_ESTO_MINI')\\\" *ngIf=\\\"colsNivelEstoque\\\">\\r\\n              Estoque mínimo\\r\\n              <span *ngIf=\\\"key == 'TT_ESTO_MINI'\\\"\\r\\n                ><i\\r\\n                  [ngClass]=\\\"\\r\\n                    reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                  \\\"\\r\\n                ></i\\r\\n              ></span>\\r\\n              <span *ngIf=\\\"key != 'TT_ESTO_MINI'\\\"\\r\\n                ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n              ></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" (click)=\\\"sort('TT_ESTO_MEDI')\\\" *ngIf=\\\"colsNivelEstoque\\\">\\r\\n              Estoque médio\\r\\n              <span *ngIf=\\\"key == 'TT_ESTO_MEDI'\\\"\\r\\n                ><i\\r\\n                  [ngClass]=\\\"\\r\\n                    reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                  \\\"\\r\\n                ></i\\r\\n              ></span>\\r\\n              <span *ngIf=\\\"key != 'TT_ESTO_MEDI'\\\"\\r\\n                ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n              ></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" (click)=\\\"sort('TT_ESTO_MAXI')\\\" *ngIf=\\\"colsNivelEstoque\\\">\\r\\n              Estoque máximo\\r\\n              <span *ngIf=\\\"key == 'TT_ESTO_MAXI'\\\"\\r\\n                ><i\\r\\n                  [ngClass]=\\\"\\r\\n                    reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                  \\\"\\r\\n                ></i\\r\\n              ></span>\\r\\n              <span *ngIf=\\\"key != 'TT_ESTO_MAXI'\\\"\\r\\n                ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n              ></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" (click)=\\\"sort('DS_APOI_TIPO_NIVE_ESTO')\\\" *ngIf=\\\"colsNivelEstoque\\\">\\r\\n              % Variação\\r\\n              <span *ngIf=\\\"key == 'DS_APOI_TIPO_NIVE_ESTO'\\\"\\r\\n                ><i\\r\\n                  [ngClass]=\\\"\\r\\n                    reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                  \\\"\\r\\n                ></i\\r\\n              ></span>\\r\\n              <span *ngIf=\\\"key != 'DS_APOI_TIPO_NIVE_ESTO'\\\"\\r\\n                ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n              ></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" (click)=\\\"sort('DS_APOI_TIPO_NIVE_ESTO')\\\" *ngIf=\\\"colsNivelEstoque\\\">\\r\\n              Último cálculo\\r\\n              <span *ngIf=\\\"key == 'DS_APOI_TIPO_NIVE_ESTO'\\\"\\r\\n                ><i\\r\\n                  [ngClass]=\\\"\\r\\n                    reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\r\\n                  \\\"\\r\\n                ></i\\r\\n              ></span>\\r\\n              <span *ngIf=\\\"key != 'DS_APOI_TIPO_NIVE_ESTO'\\\"\\r\\n                ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n              ></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover bg-secondary text-white\\\" (click)=\\\"sort('TT_MESE_PERI_VEND_SIMU')\\\" [hidden]=\\\"colsNivelEstoque || !ableEditMassa\\\">\\r\\n              Per. vendas(Simulado)\\r\\n              <span *ngIf=\\\"key == 'TT_MESE_PERI_VEND_SIMU'\\\"><i [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"></i></span>\\r\\n              <span *ngIf=\\\"key != 'TT_MESE_PERI_VEND_SIMU'\\\"><i [ngClass]=\\\"'fas fa-sort'\\\"></i></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover bg-secondary text-white\\\" [hidden]=\\\"colsNivelEstoque || !ableEditMassa\\\">\\r\\n              Período(Simulado)\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover bg-secondary text-white\\\" (click)=\\\"sort('TT_MEDI_VEND_PERI_SIMU')\\\" [hidden]=\\\"colsNivelEstoque || !ableEditMassa\\\">\\r\\n              Média Vendas(Simulado)\\r\\n              <span *ngIf=\\\"key == 'TT_MEDI_VEND_PERI_SIMU'\\\"><i [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"></i></span>\\r\\n              <span *ngIf=\\\"key != 'TT_MEDI_VEND_PERI_SIMU'\\\"><i [ngClass]=\\\"'fas fa-sort'\\\"></i></span>\\r\\n            </th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover\\\" [hidden]=\\\"colsNivelEstoque || ableEditMassa\\\" width=\\\"4%\\\"></th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover\\\" [ngClass]=\\\"ableEditMassa ? 'bg-secondary' : ''\\\" [hidden]=\\\"colsNivelEstoque\\\" width=\\\"4%\\\"></th>\\r\\n            <th nowrap scope=\\\"col\\\" class=\\\"hover\\\" [hidden]=\\\"colsNivelEstoque || ableEditMassa\\\" width=\\\"4%\\\"></th>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n        <ng-template let-tbody #tbody>\\r\\n          <tr *ngFor=\\\"let item of data | orderBy: key:reverse | slice: begin:end\\\">\\r\\n            <td nowrap class=\\\"text-left\\\" [ngClass]=\\\"{\\r\\n              'border-danger' :  item.IN_STAT == 0,\\r\\n              'border-success' :  item.IN_STAT == 1,\\r\\n              'bg-row-selected' :  item.SELECTED\\r\\n              }\\\">\\r\\n              {{ item.NM_TIPO_MATE }}\\r\\n            </td>\\r\\n            <td nowrap class=\\\"text-left\\\" [hidden]=\\\"colsNivelEstoque || ableEditMassa\\\">{{ item.NM_LINH }}</td>\\r\\n            <td nowrap class=\\\"text-center\\\" [hidden]=\\\"colsNivelEstoque || ableEditMassa\\\">{{ item.NM_SUB_LINH ? item.NM_SUB_LINH : \\\"-\\\" }}</td>\\r\\n            <td nowrap [ngClass]=\\\"{'bg-row-selected' : item.SELECTED}\\\" class=\\\"text-center\\\">{{ item.NM_CLAS }}</td>\\r\\n            <td nowrap class=\\\"text-left\\\" [hidden]=\\\"colsNivelEstoque || ableEditMassa\\\">{{ item.NM_EMPR }}</td>\\r\\n            <td nowrap [ngClass]=\\\"{'bg-row-selected' : item.SELECTED}\\\" class=\\\"text-left\\\">{{ item.NM_DEPO }}</td>\\r\\n            <td nowrap class=\\\"text-center\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n              <span *ngIf=\\\"!item.ON_EDIT_CELL || ableEditMassa\\\">\\r\\n                {{ item.TT_PERI_VEND_MESE | number: '0.0' }}\\r\\n                <!-- <span class=\\\"btn-icon-sm ml-1\\\">\\r\\n                  <i\\r\\n                    class=\\\"fas fa-info-circle\\\"\\r\\n                    tooltip=\\\"Há materiais com parametrizações diferentes\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                  >\\r\\n                  </i>\\r\\n                </span> -->\\r\\n              </span>\\r\\n              <div class=\\\"d-flex align-items-center justify-content-end\\\" *ngIf=\\\"item.ON_EDIT_CELL && !ableEditMassa\\\">\\r\\n                <input\\r\\n                  style=\\\"max-width: 80px;\\\"\\r\\n                  type=\\\"text\\\"\\r\\n                  class=\\\"form-control form-control-sm\\\"\\r\\n                  placeholder=\\\"0\\\"\\r\\n                  [(ngModel)]=\\\"item.FORM_PERI_VEND\\\"\\r\\n                  #FORM_PERI_VEND_VALI=\\\"ngModel\\\"\\r\\n                  [ngClass]=\\\"{ 'is-invalid': FORM_PERI_VEND_VALI.invalid && (FORM_PERI_VEND_VALI.dirty || FORM_PERI_VEND_VALI.touched) }\\\"\\r\\n                  required\\r\\n                />\\r\\n                <!-- name=\\\"toneladaEditado_{{i}}\\\" -->\\r\\n                <button class=\\\"btn-icon-sm ml-1\\\" (click)=\\\"calculateMediaVendas(item)\\\">\\r\\n                  <i class=\\\"fas fa-sync text-success\\\" tooltip=\\\"Calcular\\\"></i>\\r\\n                </button>\\r\\n              </div>\\r\\n            </td>\\r\\n            <td nowrap class=\\\"text-center\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n              <span *ngIf=\\\"!item.ON_EDIT_CELL || ableEditMassa\\\">\\r\\n                {{ item.DT_INIC_PERI_VEND ? (item.DT_INIC_PERI_VEND | date: 'dd/MM/yyy') : '--/--/----' }}\\r\\n                  à\\r\\n                {{ item.DT_FINA_PERI_VEND ? (item.DT_FINA_PERI_VEND | date: 'dd/MM/yyy') : '--/--/----' }}\\r\\n              </span>\\r\\n              <span class=\\\"text-danger\\\" *ngIf=\\\"item.ON_EDIT_CELL  && !ableEditMassa\\\">\\r\\n                {{ item.DATE_STAR_CALC ? (item.DATE_STAR_CALC | date: 'dd/MM/yyyy') : '--/--/----' }}\\r\\n                  à\\r\\n                {{ item.DATE_END_CALC ? (item.DATE_END_CALC | date: 'dd/MM/yyyy') : '--/--/----' }}\\r\\n              </span>\\r\\n            </td>\\r\\n            <td nowrap [ngClass]=\\\"{'bg-row-selected' : item.SELECTED}\\\" class=\\\"text-center\\\" [hidden]=\\\"colsNivelEstoque\\\">\\r\\n              <span *ngIf=\\\"!item.ON_EDIT_CELL || ableEditMassa\\\">\\r\\n                {{ item.TT_MEDI_VEND_PERI | number: '0.3'}}\\r\\n              </span>\\r\\n              <span class=\\\"text-danger\\\" *ngIf=\\\"item.ON_EDIT_CELL  && !ableEditMassa\\\">\\r\\n                {{ item.MEDI_VEND_CALC ? (item.MEDI_VEND_CALC | number:'0.3') : '0,000'}}\\r\\n              </span>\\r\\n            </td>\\r\\n            <td nowrap [ngClass]=\\\"{'bg-row-selected' : item.SELECTED}\\\" class=\\\"text-center\\\"> {{ item.TT_ESTO_DISP | number: '0.3'}} </td>\\r\\n            <td nowrap [ngClass]=\\\"{'bg-row-selected' : item.SELECTED}\\\" class=\\\"text-center\\\" [hidden]=\\\"colsNivelEstoque\\\"> {{ item.NR_DIAS_GIRO | number: '0.0'}} </td>\\r\\n            <td nowrap [ngClass]=\\\"{'bg-row-selected' : item.SELECTED}\\\" class=\\\"text-right\\\">\\r\\n              {{ item.DS_APOI_TIPO_NIVE_ESTO }}\\r\\n              <button\\r\\n                class=\\\"btn-icon-sm\\\"\\r\\n                (click)=\\\"setDefaultValueFormModalNivelEstoque(item) + '' +smModal1.show()\\\"\\r\\n                [disabled]=\\\"item.TT_PERI_VEND_MESE == 0 || item.TT_PERI_VEND_MESE == null\\\"\\r\\n                *ngIf=\\\"!item.ON_EDIT_CELL\\\"\\r\\n              >\\r\\n                <i class=\\\"fas fa-calculator\\\" tooltip=\\\"Calcular nível de estoque\\\"></i>\\r\\n              </button>\\r\\n            </td>\\r\\n            <td nowrap class=\\\"text-center\\\" [hidden]=\\\"!colsNivelEstoque\\\">{{colsNivelEstoque ? item.TT_DIAS_ESTO_MINI + ' dias - ' : ''}} {{item.TT_ESTO_MINI | number: '0.3'}}</td>\\r\\n            <td nowrap class=\\\"text-center\\\" [hidden]=\\\"!colsNivelEstoque\\\">{{colsNivelEstoque ? item.TT_DIAS_ESTO_MEDI + ' dias - ' : ''}} {{item.TT_ESTO_MEDI | number: '0.3'}}</td>\\r\\n            <td nowrap class=\\\"text-center\\\" [hidden]=\\\"!colsNivelEstoque\\\">{{colsNivelEstoque ? item.TT_DIAS_ESTO_MAXI + ' dias - ' : ''}} {{item.TT_ESTO_MAXI | number: '0.3'}}</td>\\r\\n            <td nowrap class=\\\"text-center\\\" [hidden]=\\\"!colsNivelEstoque\\\">{{ item.TT_PERC_VARI_CONS ?  (item.TT_PERC_VARI_CONS | number: '0.2'): (0 | number:'0.2') }} %</td>\\r\\n            <td nowrap class=\\\"text-center\\\" [hidden]=\\\"!colsNivelEstoque\\\">{{ item.DT_ULTI_CALC_ESTO ? (item.DT_ULTI_CALC_ESTO | date: 'dd/MM/yyyy HH:mm') : '--/--/----  --:--' }}</td>\\r\\n            <td nowrap class=\\\"bg-secondary text-center text-white\\\" [hidden]=\\\"colsNivelEstoque || !ableEditMassa\\\">\\r\\n              <span *ngIf=\\\"!item.ON_EDIT_CELL\\\">\\r\\n                {{ item.TT_MESE_PERI_VEND_SIMU }}\\r\\n              </span>\\r\\n              <div class=\\\"d-flex align-items-center justify-content-end\\\" *ngIf=\\\"item.ON_EDIT_CELL\\\">\\r\\n                <input\\r\\n                  style=\\\"max-width: 80px;\\\"\\r\\n                  type=\\\"text\\\"\\r\\n                  class=\\\"form-control form-control-sm\\\"\\r\\n                  placeholder=\\\"0\\\"\\r\\n                  [(ngModel)]=\\\"item.FORM_PERI_VEND\\\"\\r\\n                  #FORM_PERI_VEND_VALI=\\\"ngModel\\\"\\r\\n                  [ngClass]=\\\"{ 'is-invalid': FORM_PERI_VEND_VALI.invalid && (FORM_PERI_VEND_VALI.dirty || FORM_PERI_VEND_VALI.touched) }\\\"\\r\\n                  required\\r\\n                />\\r\\n                <!-- name=\\\"toneladaEditado_{{i}}\\\" -->\\r\\n                <button class=\\\"btn-icon-sm ml-1\\\" (click)=\\\"calculateMediaVendas(item)\\\">\\r\\n                  <i class=\\\"fas fa-sync text-success\\\" tooltip=\\\"Calcular\\\"></i>\\r\\n                </button>\\r\\n              </div>\\r\\n            </td>\\r\\n            <td nowrap class=\\\"bg-secondary text-center text-white\\\" [hidden]=\\\"colsNivelEstoque || !ableEditMassa\\\">\\r\\n              <span *ngIf=\\\"!item.ON_EDIT_CELL\\\">\\r\\n                {{ item.DT_INIC_PERI_VEND_SIMU ? (item.DT_INIC_PERI_VEND_SIMU | date: 'dd/MM/yyy') : '--/--/----' }}\\r\\n                  à\\r\\n                {{ item.DT_FINA_PERI_VEND_SIMU ? (item.DT_FINA_PERI_VEND_SIMU | date: 'dd/MM/yyy') : '--/--/----' }}\\r\\n              </span>\\r\\n              <span class=\\\"text-warning\\\" *ngIf=\\\"item.ON_EDIT_CELL\\\">\\r\\n                {{ item.DATE_STAR_CALC ? (item.DATE_STAR_CALC | date: 'dd/MM/yyyy') : '--/--/----' }}\\r\\n                  à\\r\\n                {{ item.DATE_END_CALC ? (item.DATE_END_CALC | date: 'dd/MM/yyyy') : '--/--/----' }}\\r\\n              </span>\\r\\n            </td>\\r\\n            <td nowrap class=\\\"bg-secondary text-center text-white\\\" [hidden]=\\\"colsNivelEstoque || !ableEditMassa\\\">\\r\\n              <span *ngIf=\\\"!item.ON_EDIT_CELL\\\">\\r\\n                {{ item.TT_MEDI_VEND_PERI_SIMU | number:'0.3' }}\\r\\n              </span>\\r\\n              <span class=\\\"text-warning\\\" *ngIf=\\\"item.ON_EDIT_CELL\\\">\\r\\n                {{ item.MEDI_VEND_CALC ? (item.MEDI_VEND_CALC | number:'0.3') : '0,000'}}\\r\\n              </span>\\r\\n            </td>\\r\\n            <td nowrap class=\\\"text-center\\\"  [hidden]=\\\"colsNivelEstoque || ableEditMassa\\\" width=\\\"4%\\\">\\r\\n              <div>\\r\\n                <button\\r\\n                  type=\\\"button\\\"\\r\\n                  class=\\\"btn-icon-sm\\\"\\r\\n                  tooltip=\\\"Salvar\\\"\\r\\n                  (click)=\\\"onEdit(item)\\\"\\r\\n                  [disabled]=\\\"(item.FORM_PERI_VEND == '' || item.FORM_PERI_VEND == null) || !item.BOOL_CALC\\\"\\r\\n                >\\r\\n                <i class=\\\"fas fa-save\\\"></i>\\r\\n                </button>\\r\\n              </div>\\r\\n            </td>\\r\\n            <td nowrap class=\\\"text-center\\\" [ngClass]=\\\"ableEditMassa ? 'bg-secondary' : ''\\\" [hidden]=\\\"colsNivelEstoque\\\" width=\\\"4%\\\">\\r\\n              <div *ngIf=\\\"!item.ON_EDIT_CELL\\\">\\r\\n                <button\\r\\n                  type=\\\"button\\\"\\r\\n                  class=\\\"btn-icon-sm\\\"\\r\\n                  placement=\\\"left\\\"\\r\\n                  (click)=\\\"ableEditCell(item)\\\"\\r\\n                >\\r\\n                  <i\\r\\n                    class=\\\"fas fa-edit\\\"\\r\\n                    [ngClass]=\\\"ableEditMassa ? 'text-white' : ''\\\"\\r\\n                    tooltip=\\\"Editar\\\"\\r\\n                  >\\r\\n                  </i>\\r\\n                </button>\\r\\n              </div>\\r\\n              <div *ngIf=\\\"item.ON_EDIT_CELL\\\">\\r\\n                <button\\r\\n                  type=\\\"button\\\"\\r\\n                  class=\\\"btn-icon-sm\\\"\\r\\n                  placement=\\\"left\\\"\\r\\n                  (click)=\\\"disableEditCell(item)\\\"\\r\\n                >\\r\\n                  <i\\r\\n                    class=\\\"fas fa-times text-danger\\\"\\r\\n                    [ngClass]=\\\"ableEditMassa ? 'text-white' : ''\\\"\\r\\n                    tooltip=\\\"Cancelar edição\\\"\\r\\n                  >\\r\\n                  </i>\\r\\n                </button>\\r\\n              </div>\\r\\n            </td>\\r\\n            <td nowrap  class=\\\"text-center\\\" [hidden]=\\\"colsNivelEstoque || ableEditMassa\\\" width=\\\"4%\\\">\\r\\n              <div>\\r\\n                <button\\r\\n                  type=\\\"button\\\"\\r\\n                  class=\\\"btn-icon-sm\\\"\\r\\n                  tooltip=\\\"Detalles materiais\\\"\\r\\n                  placement=\\\"left\\\"\\r\\n                  (click)=\\\"onDetails(item)\\\"\\r\\n                >\\r\\n                  <i class=\\\"fas fa-search\\\"></i>\\r\\n                </button>\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-left border-dark\\\">TOTAL</td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-left\\\" [hidden]=\\\"colsNivelEstoque || ableEditMassa\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"colsNivelEstoque || ableEditMassa\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-left\\\" [hidden]=\\\"colsNivelEstoque || ableEditMassa\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-left\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"colsNivelEstoque\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"colsNivelEstoque\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"colsNivelEstoque\\\"> {{ dataTotal['TT_MEDI_VEND_PERI'] | number: '0.3' }} </td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\"> {{ dataTotal['TT_ESTO_DISP'] | number: '0.3' }} </td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"colsNivelEstoque\\\"> {{ dataTotal['NR_DIAS_GIRO'] | number: '0.0' }} </td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"!colsNivelEstoque\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"!colsNivelEstoque\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"!colsNivelEstoque\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"!colsNivelEstoque\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"!colsNivelEstoque\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"colsNivelEstoque || !ableEditMassa\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"colsNivelEstoque || !ableEditMassa\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"colsNivelEstoque || !ableEditMassa\\\"> {{ dataTotal['TT_MEDI_VEND_PERI_SIMU'] | number: '0.3' }}</td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"colsNivelEstoque || ableEditMassa\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"colsNivelEstoque\\\"></td>\\r\\n            <td nowrap class=\\\"bg-dark text-white text-center\\\" [hidden]=\\\"colsNivelEstoque || ableEditMassa\\\"></td>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n      </custom-table>\\r\\n    </div>\\r\\n    <div class=\\\"col-lg-12 mb-2 ml-2\\\" *ngIf=\\\"data.length > itemsPerPage && loading\\\">\\r\\n      Exibindo {{ begin + 1 }} a {{ end }} de {{ data?.length }}\\r\\n      <div class=\\\"d-flex\\\">\\r\\n        <pagination\\r\\n          [maxSize]=\\\"10\\\"\\r\\n          [totalItems]=\\\"data?.length\\\"\\r\\n          (pageChanged)=\\\"onPageChanged($event)\\\"\\r\\n          [(itemsPerPage)]=\\\"itemsPerPage\\\"\\r\\n          [boundaryLinks]=\\\"true\\\"\\r\\n          [(ngModel)]=\\\"currentPage\\\"\\r\\n          previousText=\\\"&lsaquo;\\\"\\r\\n          nextText=\\\"&rsaquo;\\\"\\r\\n          firstText=\\\"&laquo;\\\"\\r\\n          lastText=\\\"&raquo;\\\">\\r\\n        </pagination>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div\\r\\n      *ngIf=\\\"noResult\\\"\\r\\n      class=\\\"col-lg-12 d-flex justify-content-center align-items-center p-5\\\"\\r\\n      style=\\\"height: 80%;\\\"\\r\\n    >\\r\\n      <empty-result message=\\\"Nenhuma informação encontrada\\\"></empty-result>\\r\\n    </div>\\r\\n  </div>\\r\\n</app-body>\\r\\n<!-- Modal Edição em massa -->\\r\\n<div bsModal #smModal=\\\"bs-modal\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"dialog-sizes-name2\\\">\\r\\n  <div class=\\\"modal-dialog modal-sm\\\">\\r\\n    <div class=\\\"modal-content\\\">\\r\\n      <div class=\\\"modal-header\\\">\\r\\n        <h4 id=\\\"dialog-sizes-name2\\\" class=\\\"modal-title pull-left\\\">Período de Vendas</h4>\\r\\n        <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"smModal.hide()\\\">\\r\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n        </button>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n          <div class=\\\"form-row\\\">\\r\\n            <div class=\\\"form-group col-lg-6\\\">\\r\\n              <label for=\\\"TT_MESE_PERI_VEND_SIMU\\\">Meses</label>\\r\\n              <input\\r\\n                placeholder=\\\"INSERIR...\\\"\\r\\n                formControlName=\\\"TT_MESE_PERI_VEND_SIMU\\\"\\r\\n                class=\\\"form-control\\\"\\r\\n              >\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n        <div class=\\\"d-flex justify-content-end\\\">\\r\\n          <button\\r\\n            class=\\\"btn btn-primary\\\"\\r\\n            (click)=\\\"OnEditMassa() + '' + smModal.hide()\\\"\\r\\n          >\\r\\n            Enviar\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Modal Calcular Nível de estoque -->\\r\\n<div bsModal #smModal1=\\\"bs-modal\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"dialog-sizes-name2\\\">\\r\\n  <div class=\\\"modal-dialog modal-lg\\\">\\r\\n    <div class=\\\"modal-content\\\">\\r\\n      <div class=\\\"modal-header\\\">\\r\\n        <h4 id=\\\"dialog-sizes-name2\\\" class=\\\"modal-title pull-left\\\" *ngIf=\\\"ableHeaderModalNivelEstoque\\\">Calcular Nível Estoque - Por Classe</h4>\\r\\n        <h4 id=\\\"dialog-sizes-name2\\\" class=\\\"modal-title pull-left\\\" *ngIf=\\\"!ableHeaderModalNivelEstoque\\\">Calcular Nível Estoque - Em Massa</h4>\\r\\n        <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"smModal1.hide()\\\">\\r\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n        </button>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        <div *ngIf=\\\"ableHeaderModalNivelEstoque\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-lg-4\\\">\\r\\n              <p>\\r\\n                <strong>TIPO DE MATERIAL</strong><br />\\r\\n                {{ headerModalTipoMaterial }}\\r\\n              </p>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-4\\\">\\r\\n              <p>\\r\\n                <strong>DEPÓSITO</strong><br />\\r\\n                {{ headerModalDeposito }}\\r\\n              </p>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-4\\\">\\r\\n              <p>\\r\\n                <strong>CLASSE</strong><br />\\r\\n                {{ headerModalClasse }}\\r\\n              </p>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-lg-4\\\">\\r\\n              <p>\\r\\n                <strong>PERÍODO</strong><br />\\r\\n                {{ headerModalPeriodo | number: '0.0' }}\\r\\n              </p>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-4\\\">\\r\\n              <p>\\r\\n                <strong>MÉDIA DE VENDAS</strong><br />\\r\\n                {{ headerModalMediaVendas | number: '0.3' }}\\r\\n              </p>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-4\\\">\\r\\n              <p>\\r\\n                <strong>ESTOQUE DISPONÍVEL</strong><br />\\r\\n                {{ headerModalEstoqueDisponivel | number: '0.3' }}\\r\\n              </p>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <form [formGroup]=\\\"formModal\\\" autocomplete=\\\"off\\\">\\r\\n          <div class=\\\"form-row\\\">\\r\\n            <div class=\\\"form-group col-lg-6\\\">\\r\\n              <label for=\\\"PERC_VARI_CONS\\\">% Variação de consumo </label>\\r\\n              <input\\r\\n                type=\\\"text\\\"\\r\\n                id=\\\"DIAS_ESTO_MINI\\\"\\r\\n                placeholder=\\\"INSERIR...\\\"\\r\\n                formControlName=\\\"PERC_VARI_CONS\\\"\\r\\n                currencyMask\\r\\n                [options]=\\\"decimal\\\"\\r\\n                placeholder=\\\"0,00\\\"\\r\\n                class=\\\"form-control\\\"\\r\\n                [ngClass]=\\\"\\r\\n                  onFieldErrorModal('PERC_VARI_CONS') + ' ' + onFieldRequiredModal('PERC_VARI_CONS')\\r\\n                \\\"\\r\\n              >\\r\\n              <invalid-form-control\\r\\n                [show]=\\\"onFieldInvalidModal('PERC_VARI_CONS')\\\"\\r\\n                message=\\\"% Variação de consumo é obrigatório.\\\"\\r\\n              >\\r\\n              </invalid-form-control>\\r\\n            </div>\\r\\n            <div class=\\\"form-group col-lg-6 mt-4\\\">\\r\\n              <div class=\\\"custom-control custom-radio custom-control-inline\\\">\\r\\n                <input\\r\\n                  type=\\\"radio\\\"\\r\\n                  id=\\\"TIPO_VARI_POSI\\\"\\r\\n                  name=\\\"TIPO_VARI\\\"\\r\\n                  class=\\\"custom-control-input\\\"\\r\\n                  value=\\\"1\\\"\\r\\n                  formControlName=\\\"TIPO_VARI\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"TIPO_VARI_POSI\\\">Aumento</label>\\r\\n              </div>\\r\\n              <div class=\\\"custom-control custom-radio custom-control-inline\\\">\\r\\n                <input\\r\\n                  type=\\\"radio\\\"\\r\\n                  id=\\\"TIPO_VARI_NEGA\\\"\\r\\n                  name=\\\"TIPO_VARI\\\"\\r\\n                  class=\\\"custom-control-input\\\"\\r\\n                  value=\\\"0\\\"\\r\\n                  formControlName=\\\"TIPO_VARI\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"TIPO_VARI_NEGA\\\">Redução</label>\\r\\n              </div>\\r\\n              <!-- <invalid-form-control [show]=\\\"onFieldInvalid('TIPO_VARI')\\\" message=\\\"Tipo variação é obrigatório.\\\"></invalid-form-control> -->\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-row\\\">\\r\\n            <div class=\\\"form-group col-lg-4\\\">\\r\\n              <label for=\\\"DIAS_ESTO_MINI\\\">Dias de estoque mínimo</label>\\r\\n              <input\\r\\n                type=\\\"number\\\"\\r\\n                id=\\\"DIAS_ESTO_MINI\\\"\\r\\n                placeholder=\\\"INSERIR...\\\"\\r\\n                formControlName=\\\"DIAS_ESTO_MINI\\\"\\r\\n                class=\\\"form-control\\\"\\r\\n                [ngClass]=\\\"\\r\\n                onFieldErrorModal('DIAS_ESTO_MINI') + ' ' + onFieldRequiredModal('DIAS_ESTO_MINI')\\r\\n                \\\"\\r\\n              >\\r\\n              <invalid-form-control\\r\\n                [show]=\\\"onFieldInvalidModal('DIAS_ESTO_MINI')\\\"\\r\\n                message=\\\"Dias de estoque mínimo é obrigatório.\\\"\\r\\n              >\\r\\n              </invalid-form-control>\\r\\n              <invalid-form-control\\r\\n                  [show]=\\\"compareValuesEstoque('DIAS_ESTO_MINI')\\\"\\r\\n                  message=\\\"Deve ser menor que volume máximo ou segurança\\\"\\r\\n                  >\\r\\n              </invalid-form-control>\\r\\n            </div>\\r\\n            <div class=\\\"form-group col-lg-4\\\">\\r\\n              <label for=\\\"DIAS_ESTO_MEDI\\\">Dias de estoque médio</label>\\r\\n              <input\\r\\n                type=\\\"number\\\"\\r\\n                id=\\\"DIAS_ESTO_MEDI\\\"\\r\\n                placeholder=\\\"INSERIR...\\\"\\r\\n                formControlName=\\\"DIAS_ESTO_MEDI\\\"\\r\\n                class=\\\"form-control\\\"\\r\\n                [ngClass]=\\\"\\r\\n                onFieldErrorModal('DIAS_ESTO_MEDI') + ' ' + onFieldRequiredModal('DIAS_ESTO_MEDI')\\r\\n                \\\"\\r\\n              >\\r\\n              <invalid-form-control\\r\\n                [show]=\\\"onFieldInvalidModal('DIAS_ESTO_MEDI')\\\"\\r\\n                message=\\\"Dias de estoque médio é obrigatório.\\\"\\r\\n              >\\r\\n              </invalid-form-control>\\r\\n              <invalid-form-control\\r\\n                  [show]=\\\"compareValuesEstoque('DIAS_ESTO_MEDI')\\\"\\r\\n                  message=\\\"Deve ser menor que máximo ou maior que mínimo\\\"\\r\\n                  >\\r\\n                </invalid-form-control>\\r\\n            </div>\\r\\n            <div class=\\\"form-group col-lg-4\\\">\\r\\n              <label for=\\\"DIAS_ESTO_MAXI\\\">Dias de estoque máximo</label>\\r\\n              <input\\r\\n                type=\\\"number\\\"\\r\\n                id=\\\"DIAS_ESTO_MAXI\\\"\\r\\n                placeholder=\\\"INSERIR...\\\"\\r\\n                formControlName=\\\"DIAS_ESTO_MAXI\\\"\\r\\n                class=\\\"form-control\\\"\\r\\n                [ngClass]=\\\"\\r\\n                onFieldErrorModal('DIAS_ESTO_MAXI') + ' ' + onFieldRequiredModal('DIAS_ESTO_MAXI')\\r\\n                \\\"\\r\\n              >\\r\\n              <invalid-form-control\\r\\n                [show]=\\\"onFieldInvalidModal('DIAS_ESTO_MAXI')\\\"\\r\\n                message=\\\"Dias de estoque máximo é obrigatório.\\\"\\r\\n              >\\r\\n              </invalid-form-control>\\r\\n              <invalid-form-control\\r\\n                [show]=\\\"compareValuesEstoque('DIAS_ESTO_MAXI')\\\"\\r\\n                message=\\\"Deve ser maior que mínimo ou segurança\\\"\\r\\n              >\\r\\n              </invalid-form-control>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n        <div class=\\\"d-flex justify-content-end\\\">\\r\\n          <button\\r\\n            class=\\\"btn btn-primary\\\"\\r\\n            (click)=\\\"OnSaveNivelEstoque() + '' + smModal1.hide()\\\"\\r\\n            [disabled]=\\\"formModal.status == 'INVALID' || !validatorsSaveModal()\\\"\\r\\n          >\\r\\n            Enviar\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { environment } from 'src/environments/environment';\r\nimport { Observable } from 'rxjs';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AbastecimentoCadastrosParametrosGeraisEstoqueService {\r\n\r\n  private readonly BASE_URL = environment.API;\r\n\r\n  constructor(\r\n    private httpClient: HttpClient\r\n  ) { }\r\n\r\n  getEmpresas (params): Observable<any> {\r\n    return this.httpClient.get(`${this.BASE_URL}/common/v2/empresas`, {\r\n      params: {\r\n        IN_STAT: params['idSituacao']\r\n      },\r\n      observe: \"response\"\r\n    });\r\n  }\r\n\r\n  getDepositos(params): Observable<any> {\r\n    return this.httpClient.get(`${this.BASE_URL}/common/v2/depositos`, {\r\n      params: {\r\n        ID_EMPR: params['idsEmpresa'].toString(),\r\n        IN_STAT: params['idSituacao']\r\n      },\r\n      observe: \"response\"\r\n    });\r\n  }\r\n\r\n  getTiposMateriais(params): Observable<any> {\r\n    return this.httpClient.get(`${this.BASE_URL}/common/v2/tipos-material`, {\r\n      params: {\r\n        IN_STAT: params['idSituacao']\r\n      },\r\n      observe: \"response\"\r\n    });\r\n  }\r\n\r\n  getLinhas(params): Observable<any> {\r\n    return this.httpClient.get(`${this.BASE_URL}/common/v2/linhas`,{\r\n      params: {\r\n        IN_STAT: params['idSituacao']\r\n      },\r\n      observe: \"response\"\r\n    });\r\n  }\r\n\r\n  getSubLinhas(params): Observable<any> {\r\n    return this.httpClient.get(`${this.BASE_URL}/common/v2/sub-linhas`,{\r\n      params: {\r\n        ID_LINH: params['descricaoLinhas'].toString(),\r\n        IN_STAT:params['idSituacao']\r\n      },\r\n      observe: \"response\"\r\n    });\r\n  }\r\n\r\n  getClasses(params): Observable<any> {\r\n    return this.httpClient.get(`${this.BASE_URL}/common/v2/classes`, {\r\n      params: {\r\n        ID_LINH: params['descricaoLinhas'].toString(),\r\n        ID_SUB_LINH: params['idSubLinha'].toString(),\r\n        IN_STAT: params['idSituacao']\r\n      },\r\n      observe: \"response\"\r\n    });\r\n  }\r\n\r\n  getMateriais(params): Observable<any> {\r\n    return this.httpClient.get(`${this.BASE_URL}/common/v2/materiais`, {\r\n      params: {\r\n        ID_CLAS: params['idClasses'].toString(),\r\n        ID_APOI_TIPO_MATE: params['idTipoMaterial'].toString(),\r\n        IN_STAT: params['idSituacao']\r\n      },\r\n       observe: \"response\"\r\n    });\r\n  }\r\n  \r\n  getNivelEstoqueClasseDeposito(_params): Observable<any> {\r\n    const params = {\r\n      ID_EMPR : _params['ID_EMPR'] ? _params['ID_EMPR'].toString() : '',\r\n      ID_CLAS : _params['ID_CLAS'] ? _params['ID_CLAS'].toString() : '',\r\n      ID_DEPO : _params['ID_DEPO'] ? _params['ID_DEPO'].toString() : '',\r\n      ID_LINH : _params['ID_LINH'] ? _params['ID_LINH'].toString() : '',\r\n      ID_MATE : _params['ID_MATE'] ? _params['ID_MATE'].toString() : '',\r\n      ID_SUB_LINH: _params['ID_SUB_LINH'] ? _params['ID_SUB_LINH'].toString() : '',\r\n      ID_TIPO_MATE: _params['ID_TIPO_MATE'] ? _params['ID_TIPO_MATE'].toString() :'',\r\n      IN_STAT: _params['IN_STAT'] ?? '',\r\n      IN_RELA_EXCE: _params['IN_RELA_EXCE'] ?? '',\r\n      TT_MESE_PERI_VEND_SIMU: _params['TT_MESE_PERI_VEND_SIMU'] ?? '',\r\n      ID_USUA: _params['ID_USUA'] ?? ''\r\n    }\r\n\r\n    return this.httpClient.get(`${this.BASE_URL}/abastecimento/cadastros/nivel-estoque-classes-depositos`, {\r\n      params,\r\n      observe: \"response\"\r\n    });\r\n  }\r\n\r\n  getCalculoPeriodoVendasRealizadas(params): Observable<any> {\r\n    return this.httpClient.get(`${this.BASE_URL}/abastecimento/cadastros/vendas-realizadas-classe-periodo`, {\r\n      params,\r\n      observe: \"response\"\r\n    })\r\n  }\r\n\r\n  getCalculoPeriodoVendasRealizadasMaterial(params): Observable<any> {\r\n    return this.httpClient.get(`${this.BASE_URL}/abastecimento/cadastros/vendas-realizadas-material-periodo`, {\r\n      params,\r\n      observe: \"response\"\r\n    })\r\n  }\r\n\r\n  getCalculoPeriodoVendasRealizadasClasseMaterial(params): Observable<any> {\r\n    return this.httpClient.get(`${this.BASE_URL}/abastecimento/cadastros/vendas-realizadas-classe-material-periodo`, {\r\n      params,\r\n      observe: \"response\"\r\n    })\r\n  }\r\n\r\n  /* Detalhes de Materiais */\r\n  getTiposNiveisdeEstoque(): Observable<any> {\r\n    return this.httpClient.get(`${this.BASE_URL}/common/v2/tipos-niveis-estoque`, {\r\n      observe: \"response\"\r\n    });\r\n  }\r\n\r\n  getNivelEstoqueMaterialDeposito(params): Observable<any> {\r\n    return this.httpClient.get(`${this.BASE_URL}/abastecimento/cadastros/nivel-estoque-materiais-deposito`, {\r\n      params,\r\n      observe: \"response\"\r\n    });\r\n  }\r\n\r\n  postNivelEstoqueMaterialDeposito(record): Observable<any> {\r\n    return this.httpClient.post(`${this.BASE_URL}/abastecimento/cadastros/nivel-estoque-material-deposito`,\r\n      record\r\n    );\r\n  }\r\n\r\n  postNivelEstoqueMaterialDepositoAltearar(record): Observable<any> {\r\n    return this.httpClient.post(`${this.BASE_URL}/abastecimento/cadastros/deposito-associado-material-alterar`,\r\n      record\r\n    );\r\n  }\r\n\r\n  getNivelEstoqueMaterialDepositoLogs(params): Observable<any> {\r\n    return this.httpClient.get(`${this.BASE_URL}/abastecimento/cadastros/nivel-estoque-material-deposito-auditoria`, {\r\n      params,\r\n      observe: \"response\"\r\n    });\r\n  }\r\n  /* Detalhes de Materiais */\r\n  \r\n  /* Vinculo Material Depósito */\r\n  getMaterialDepositos(_params): Observable<any> {\r\n    const params = {\r\n      ID_DEPO: _params['ID_DEPO'] ? _params['ID_DEPO'].toString() : '' ,\r\n      ID_APOI_TIPO_MATE: _params['ID_APOI_TIPO_MATE'] ? _params['ID_APOI_TIPO_MATE'].toString() : '' ,\r\n      ID_LINH: _params['ID_LINH'] ? _params['ID_LINH'].toString() : '' ,\r\n      ID_SUB_LINH: _params['ID_SUB_LINH'] ? _params['ID_SUB_LINH'].toString() : '' ,\r\n      ID_CLAS: _params['ID_CLAS'] ? _params['ID_CLAS'].toString() : '' ,\r\n      ID_SITU_MATE: _params['ID_SITU_MATE'] ?? '' ,\r\n    }\r\n    \r\n    return this.httpClient.get(`${this.BASE_URL}/abastecimento/cadastros/materiais-disponiveis-associacao-depositos`, {\r\n      params,\r\n      observe: \"response\"\r\n    });\r\n  }\r\n\r\n  postMaterialDeposito(record): Observable<any> {\r\n    return this.httpClient.post(`${this.BASE_URL}/abastecimento/cadastros/deposito-associado-material`,\r\n      record\r\n    )\r\n  }\r\n\r\n  getMaterialDepositosDetalhes(params): Observable<any> {\r\n    return this.httpClient.get(`${this.BASE_URL}/abastecimento/cadastros/depositos-associados-materiais`, {\r\n      params,\r\n      observe: \"response\"\r\n    })\r\n  }\r\n  /* Vinculo Material Depósito */\r\n\r\n  /* Cadastro de Niveis de Estoque */\r\n  postNivelEstoque(record): Observable<any> {\r\n    return this.httpClient.post(`${this.BASE_URL}/abastecimento/cadastros/nivel-estoque-totais`,\r\n      record\r\n    )\r\n  }\r\n  /* Cadastro de Niveis de Estoque */\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { EMPTY, Subscription } from 'rxjs';\r\nimport { finalize, switchMap, take } from 'rxjs/operators';\r\n\r\nimport { PageChangedEvent } from 'ngx-bootstrap';\r\n\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\nimport { RouterService } from 'src/app/shared/services/core/router.service';\r\nimport { TitleService } from 'src/app/shared/services/core/title.service';\r\nimport { Subtitles } from 'src/app/shared/modules/subtitles/subtitles';\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { ConfirmModalService } from 'src/app/shared/modules/confirm-modal/confirm-modal.service';\r\n\r\nimport { AbastecimentoCadastrosParametrosGeraisEstoqueService } from './../parametros-gerais-estoque.service';\r\n\r\n@Component({\r\n  selector: 'vinculo-depositos',\r\n  templateUrl: './vinculo-depositos.component.html',\r\n  styleUrls: ['./vinculo-depositos.component.scss']\r\n})\r\nexport class  AbastecimentoCadastrosParametrosGeraisEstoqueVinculoDepositosComponent implements OnInit {\r\n  loaderFullScreen: boolean = true;\r\n  loaderNavbar: boolean = false;\r\n  loading: boolean = false;\r\n  noResult: boolean = false;\r\n\r\n  compressedTable: boolean = false;\r\n  selectedRow: boolean = false;\r\n\r\n  currentUser: any = JSON.parse(localStorage.getItem('currentUser'));\r\n  idUsuario: any = this.currentUser['info']['id'];\r\n\r\n  form: FormGroup;\r\n  formModal: FormGroup;\r\n\r\n  breadCrumbTree: any = [];\r\n  depositos: any = [];\r\n  linhas: any = [];\r\n  subLinhas: any = [];\r\n  classes: any = [];\r\n  data: any = [];\r\n  tipoMateriais: any = [];\r\n  \r\n  /* Modal */\r\n  loadingModal: boolean = false;\r\n  noResultModal: boolean = false;\r\n  dataModal: any = [];\r\n  empresasModal: any = [];\r\n  depositosModal: any = [];\r\n  idLinhaModal: string;\r\n  linhaModal: string;\r\n  idSubLinhaModal: string;\r\n  subLinhaModal: string;\r\n  idClasseModal: string;\r\n  classeModal: string;\r\n  idTipoMaterialModal: string;\r\n  tipoMaterialModal: string;\r\n  depositosAssociadosModal: number;\r\n  /* Modal */\r\n\r\n  tipoSituacao: any = [\r\n    {id: 1, name: \"Não vínculado\"},\r\n    {id: 2, name: \"Vínculado\"},\r\n    {id: 3, name: \"Todos\"}\r\n  ];\r\n\r\n  tableConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: true\r\n  };\r\n\r\n  subtitles: Array<Subtitles> = [\r\n    {\r\n      text: 'Vínculado',\r\n      color: 'green'\r\n    },\r\n    {\r\n      text: 'Não vínculado',\r\n      color: 'red'\r\n    }\r\n  ];\r\n\r\n\r\n  $activatedRouteSubscription: Subscription;\r\n\r\n  /* Ordenação */\r\n  reverse: boolean = false;\r\n  key: string = 'TP_MATE';\r\n  /* Ordenação */\r\n\r\n  /* Ordenação modal */\r\n  reverseA: boolean = false;\r\n  keyA: string = 'NM_APOI_TIPO_MATE';\r\n\r\n  /* Paginação */\r\n  itemsPerPage: number = 15;\r\n  totalItems: number = 15;\r\n  currentPage: number = 1;\r\n  begin: number = 0;\r\n  end: number = 15;\r\n  /* Paginação */\r\n\r\n  currentPageA: number = 1;\r\n  beginA: number = 0;\r\n  endA: number = 15;\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private pnotifyService: PNotifyService,\r\n    private confirmModalService: ConfirmModalService,\r\n    private atividadesService: AtividadesService,\r\n    private routerService: RouterService,\r\n    private titleService: TitleService,\r\n    private service: AbastecimentoCadastrosParametrosGeraisEstoqueService\r\n  ) {\r\n    this.form = this.formBuilder.group({\r\n      ID_DEPO: [null],\r\n      ID_APOI_TIPO_MATE: [null],\r\n      ID_LINH: [null],\r\n      ID_SUB_LINH: [null],\r\n      ID_CLAS: [null],\r\n      ID_SITU_MATE: [null]\r\n    });\r\n\r\n    this.formModal = this.formBuilder.group({\r\n      ID_EMPR: [null],\r\n      ID_DEPO: [null, Validators.required]\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    setTimeout(() => {\r\n      this.loaderFullScreen = false;\r\n    }, 1000);\r\n    this.titleService.setTitle('Parâmetros gerais de estoque');  \r\n    this.registrarAcesso();\r\n    this.setBreadCrumb();\r\n    this.getLinhas();\r\n    this.getTiposMateriais();\r\n    this.getDepositos();\r\n    this.setDisabledItemsForm();\r\n    this.checkRouterParams();\r\n  }\r\n\r\n  registrarAcesso(): void {\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n  }\r\n\r\n  setBreadCrumb(): void {\r\n    this.activatedRoute.params.subscribe((params: any) => {\r\n      this.breadCrumbTree = [\r\n        {\r\n          descricao: 'Home',\r\n          routerLink: '/abastecimento/home'\r\n        },\r\n        {\r\n          descricao: 'Cadastros',\r\n          routerLink: `/abastecimento/cadastros/${params['idSubModulo']}`\r\n        },\r\n        {\r\n          descricao: 'Parâmetros gerais de estoque',\r\n          routerLink: `/abastecimento/cadastros/${params['idSubModulo']}/parametros-gerais-estoque/lista`\r\n        },\r\n        {\r\n          descricao: 'Víncular depósitos'\r\n        }\r\n      ];\r\n    });\r\n  }\r\n\r\n  setDisabledItemsForm(): void {\r\n    this.form.get('ID_SITU_MATE').setValue(3);\r\n    this.form.get('ID_SUB_LINH').disable();\r\n    this.form.get('ID_CLAS').disable();\r\n  }\r\n\r\n  getDepositos(): void {\r\n    this.loaderNavbar = true;\r\n    this.depositos = [];\r\n\r\n    let params = {\r\n      idsEmpresa: \"\",\r\n      idSituacao: 1\r\n    }\r\n\r\n    this.service\r\n      .getDepositos(params)\r\n      .pipe(finalize(() => (this.loaderNavbar = false)))\r\n      .subscribe(\r\n        res => {\r\n          if (Object.keys(res).length > 0) {\r\n            if (res['body']['responseCode'] === 200) {\r\n              this.form.get('ID_DEPO').enable();\r\n              this.depositos = res['body']['result'];\r\n            } else if (res['body']['responseCode'] === 404) {\r\n              this.form.get('ID_DEPO').reset();\r\n              this.form.get('ID_DEPO').disable();\r\n            }\r\n          }\r\n        },\r\n        error => {\r\n          this.pnotifyService.error('Erro ao carregar Depositos');\r\n        }\r\n      );\r\n  }\r\n\r\n  getTiposMateriais(): void {\r\n    let params = {\r\n      idSituacao: 1\r\n    };\r\n    this.loaderNavbar = true;\r\n    this.tipoMateriais = [];\r\n\r\n    this.service\r\n      .getTiposMateriais(params)\r\n      .pipe(finalize(() => {this.loaderNavbar = false;}))\r\n      .subscribe(\r\n        res => {\r\n          if (Object.keys(res).length > 0) {\r\n            this.tipoMateriais = res['body']['result'];\r\n          }\r\n        },\r\n        error => {\r\n          this.pnotifyService.error('Erro ao carregar tipos materiais');\r\n        }\r\n      );\r\n  }\r\n\r\n  getLinhas(): void {\r\n    const params = {\r\n      idSituacao: 1\r\n    };\r\n    this.loaderNavbar = true;\r\n    this.linhas = [];\r\n\r\n    this.service\r\n      .getLinhas(params)\r\n      .pipe(finalize(() => (this.loaderNavbar = false)))\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (Object.keys(res).length > 0) {\r\n            if (res.status === 200) {\r\n              this.linhas = res['body']['result'];\r\n            }\r\n          }\r\n        },\r\n        error => {\r\n          this.pnotifyService.error('Erro ao carregar Linhas');\r\n        }\r\n      );\r\n  }\r\n\r\n  getSubLinhas(): void {\r\n    this.loaderNavbar = true;\r\n    this.subLinhas = [];\r\n\r\n    if (\r\n      this.form.value['ID_LINH'] != null &&\r\n      this.form.value['ID_LINH'].length > 0\r\n    ) {\r\n      let descricaoLinhas = this.form.get('ID_LINH').value;\r\n      let idSituacao = 1;\r\n      let params = {\r\n        descricaoLinhas: descricaoLinhas,\r\n        idSituacao: idSituacao\r\n      };\r\n\r\n      this.service\r\n        .getSubLinhas(params)\r\n        .pipe(finalize(() => (this.loaderNavbar = false)))\r\n        .subscribe(\r\n          res => {\r\n            if (Object.keys(res).length > 0) {\r\n              if (res.status === 200) {\r\n                if (res['body']['responseCode'] === 200) {\r\n                  this.subLinhas = res['body']['result'];\r\n                  this.form.get('ID_SUB_LINH').reset();\r\n                  this.form.get('ID_SUB_LINH').enable();\r\n                } else if (res['body']['responseCode'] === 404) {\r\n                  this.form.get('ID_SUB_LINH').reset();\r\n                  this.form.get('ID_SUB_LINH').disable();\r\n                  this.pnotifyService.notice('Não há sublinha cadastrada');\r\n                }\r\n              }\r\n            }\r\n          },\r\n          error => {\r\n            this.pnotifyService.error('Erro ao carregar sublinhas');\r\n          }\r\n        );\r\n    } else {\r\n      this.loaderNavbar = false;\r\n      this.form.get('ID_SUB_LINH').reset();\r\n      this.form.get('ID_SUB_LINH').disable();\r\n    }\r\n  }\r\n\r\n  getClasses(): void {\r\n    this.classes = [];\r\n    this.loaderNavbar = true;\r\n\r\n    if (\r\n      this.form.value['ID_LINH'] != null &&\r\n      this.form.value['ID_LINH'].length > 0\r\n    ) {\r\n      let descricaoLinhas = this.form.get('ID_LINH').value;\r\n      let idSubLinha = this.form.get('ID_SUB_LINH').value;\r\n      let idSituacao = 1;\r\n      let params = {\r\n        descricaoLinhas,\r\n        idSubLinha : idSubLinha ?? \"\",\r\n        idSituacao\r\n      }\r\n\r\n      this.service\r\n        .getClasses(params)\r\n        .pipe(finalize(() => (this.loaderNavbar = false)))\r\n        .subscribe(\r\n          res => {\r\n            if (Object.keys(res).length > 0) {\r\n              if (res.status === 200) {\r\n                if (res['body']['responseCode'] === 200) {\r\n                  this.classes = res['body']['result'];\r\n                  this.form.get('ID_CLAS').reset();\r\n                  this.form.get('ID_CLAS').enable();\r\n                } else if (res['body']['responseCode'] === 404) {\r\n                  this.form.get('ID_CLAS').reset();\r\n                  this.form.get('ID_CLAS').disable();\r\n                }\r\n              }\r\n            }\r\n          },\r\n          error => {\r\n            this.pnotifyService.error('Erro ao carregar Classes');\r\n          }\r\n        );\r\n    } else {\r\n      this.loaderNavbar = false;\r\n      this.form.get('ID_CLAS').reset();\r\n      this.form.get('ID_CLAS').disable();\r\n    }\r\n  }\r\n\r\n  getEmpresasModal(): void {\r\n    let params = {\r\n      idSituacao: 1\r\n    };\r\n    this.loaderNavbar = true;\r\n    this.empresasModal = [];\r\n\r\n    this.service\r\n      .getEmpresas(params)\r\n      .pipe(finalize(() => {this.loaderNavbar = false;}))\r\n      .subscribe(\r\n        res => {\r\n          if (Object.keys(res).length > 0) {\r\n            this.empresasModal = res['body']['result'];\r\n          }\r\n        },\r\n        error => {\r\n          this.pnotifyService.error('Erro ao carregar Empresas');\r\n        }\r\n      );\r\n  }\r\n\r\n  getDepositosModal(): void  {\r\n    this.loaderNavbar = true;\r\n    this.depositosModal = [];\r\n\r\n    let idsEmpresa = this.formModal.get('ID_EMPR').value;\r\n    let idSituacao = 1;\r\n    let params = {\r\n      idsEmpresa: idsEmpresa ?? \"\",\r\n      idSituacao\r\n    }\r\n\r\n    this.service\r\n      .getDepositos(params)\r\n      .pipe(finalize(() => (this.loaderNavbar = false)))\r\n      .subscribe(\r\n        res => {\r\n          if (Object.keys(res).length > 0) {\r\n            if (res['body']['responseCode'] === 200) {\r\n              this.formModal.get('ID_DEPO').reset();\r\n              this.formModal.get('ID_DEPO').enable();\r\n              this.depositosModal = res['body']['result'];\r\n            } else if (res['body']['responseCode'] === 404) {\r\n              this.formModal.get('ID_DEPO').reset();\r\n              this.formModal.get('ID_DEPO').disable();\r\n            }\r\n          }\r\n        },\r\n        error => {\r\n          this.pnotifyService.error('Erro ao carregar Depositos');\r\n        }\r\n      );\r\n  }\r\n\r\n  checkRouterParams(): void {\r\n    this.$activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      (queryParams: any) => {\r\n        if (Object.keys(queryParams).length > 0) {\r\n          let _response = this.routerService.getBase64UrlParams(queryParams);\r\n          this.search(_response);\r\n          this.setFormValues(_response);\r\n        }\r\n      }\r\n    );\r\n    this.$activatedRouteSubscription.unsubscribe();\r\n  }\r\n\r\n  setFormValues(queryParams?: any): void {\r\n    const linhas = queryParams['ID_LINH'] ?? ''\r\n    /* classes */\r\n    if (Object.keys(linhas).length > 0) {\r\n      const paramsClasse = {\r\n        descricaoLinhas: queryParams['ID_LINH'],\r\n        idSubLinha: queryParams['ID_SUB_LINH'] ?? \"\",\r\n        idSituacao: 1,\r\n      };\r\n\r\n      this.loaderNavbar = true;\r\n\r\n      this.service\r\n        .getClasses(paramsClasse)\r\n        .pipe(finalize(() => (this.loaderNavbar = false)))\r\n        .subscribe(\r\n          res => {\r\n            if (Object.keys(res).length > 0) {\r\n              if (res.status === 200) {\r\n                if (res['body']['responseCode'] === 200) {\r\n                  this.classes = res['body']['result'];\r\n                  this.form.get('ID_CLAS').enable();\r\n                }\r\n              }\r\n            }\r\n          },\r\n          error => {\r\n            this.pnotifyService.error('Erro ao carregar Classes');\r\n          }\r\n        );\r\n    } else {\r\n      this.form.get('ID_CLAS').disable();\r\n    }\r\n\r\n    /* sublinhas */\r\n    if (Object.keys(linhas).length > 0) {\r\n      const paramsSubLinha = {\r\n        descricaoLinhas: queryParams['ID_LINH'],\r\n        idSituacao: 1,\r\n      };\r\n\r\n      this.loaderNavbar = true;\r\n\r\n      this.service\r\n        .getSubLinhas(paramsSubLinha)\r\n        .pipe(finalize(() => (this.loaderNavbar = false)))\r\n        .subscribe(\r\n          res => {\r\n            if (Object.keys(res).length > 0) {\r\n              if (res.status == 200) {\r\n                if (res['body']['responseCode'] === 200) {\r\n                  this.subLinhas = res['body']['result'];\r\n                  this.form.get('ID_SUB_LINH').enable();\r\n                }\r\n              }\r\n            }\r\n          },\r\n          error => {\r\n            this.pnotifyService.error('Erro ao carregar subLinha');\r\n          }\r\n        );\r\n    } else {\r\n      this.form.get('ID_SUB_LINH').disable();\r\n    }\r\n    \r\n    this.form.patchValue(queryParams);\r\n  }\r\n\r\n  onFilter(): void {\r\n    this.router.navigate([], {\r\n      relativeTo: this.activatedRoute,\r\n      queryParams: this.routerService.setBase64UrlParams(this.getParams())\r\n    });\r\n    this.search(this.getParams());\r\n  }\r\n\r\n  getParams(): any {\r\n    let _params = {};\r\n    let _obj = this.form.value;\r\n\r\n    for (let prop in _obj) {\r\n      if (_obj[prop]) {\r\n        _params[prop] = _obj[prop];\r\n      }\r\n    }\r\n\r\n    return _params;\r\n  }\r\n\r\n  search(params: any): void {\r\n    this.loaderNavbar = true;\r\n    this.loading = false;\r\n    this.data = [];\r\n    this.begin = 0;\r\n\r\n    this.service\r\n      .getMaterialDepositos(params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false\r\n        })\r\n      )\r\n      .subscribe(\r\n        res => {\r\n          if (res.status === 200) {\r\n            if (res['body']['responseCode'] === 200) {\r\n              this.loading = true;\r\n              this.noResult = false;\r\n              this.data = res['body']['result'];\r\n            } else if (res['body']['responseCode'] === 404) {\r\n              this.noResult = true;\r\n              this.loading = false;\r\n              this.pnotifyService.notice('Não há data');\r\n            }\r\n          }\r\n        },\r\n        error => {\r\n          this.noResult = true;\r\n          this.loading = false;\r\n          this.pnotifyService.error('Erro ao carregar lista de material depósito');\r\n        }\r\n      );\r\n  }\r\n\r\n  /* Modal */\r\n  sendDataModal(item) {\r\n    this.linhaModal = item.NM_LINH;\r\n    this.idSubLinhaModal = item.ID_SUB_LINH ?? '';\r\n    this.subLinhaModal = item.NM_SUB_LINH ?? '';\r\n    this.idClasseModal = item.ID_CLAS;\r\n    this.classeModal = item.NM_CLAS;\r\n    this.idTipoMaterialModal = item.ID_APOI_TIPO_MATE;\r\n    this.tipoMaterialModal = item.NM_APOI_TIPO_MATE;\r\n    this.depositosAssociadosModal = item.TT_DEPO_ASSO;\r\n\r\n    this.getEmpresasModal();\r\n    this.getDepositosModal();\r\n    this.loadDepositosAssociados()\r\n  }\r\n\r\n  onSaveDataModal(): void {\r\n    let depositos = this.formModal.get(\"ID_DEPO\").value;\r\n   \r\n    let record = {\r\n      ID_CLAS: this.idClasseModal,\r\n      ID_APOI_TIPO_MATE: this.idTipoMaterialModal,\r\n      ID_DEPO: depositos.toString(),\r\n      IN_STAT: 1,\r\n      ID_USUA: parseInt(this.idUsuario)\r\n    };\r\n\r\n    this.postMaterialDeposito(record);\r\n  }\r\n\r\n  postMaterialDeposito(record: any): void {\r\n    this.loaderNavbar = true;\r\n    \r\n    this.service\r\n      .postMaterialDeposito(record)\r\n      .pipe(\r\n        finalize(() => {\r\n          (this.loaderNavbar = false), this.resetValuesForm(), this.loadDepositosAssociados();\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (Object.keys(res).length > 0) {\r\n            if (res['responseCode'] === 201) {\r\n              this.pnotifyService.success(res['message']);\r\n            } else {\r\n              this.pnotifyService.error(res['message']);\r\n            }\r\n          }\r\n        },\r\n        error => {\r\n          this.pnotifyService.error(error['error']);\r\n        }\r\n      );\r\n  }\r\n\r\n  loadDepositosAssociados(): void {\r\n    this.getDepositosAssociados({\r\n      ID_CLAS: this.idClasseModal,\r\n      ID_APOI_TIPO_MATE: this.idTipoMaterialModal\r\n    });\r\n  }\r\n\r\n  getDepositosAssociados(params: any): void {\r\n    this.loaderNavbar = true;\r\n    this.loadingModal = false;\r\n    this.noResultModal = false;\r\n\r\n    this.service\r\n      .getMaterialDepositosDetalhes(params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.status === 200) {\r\n            if (res['body']['responseCode'] === 200) {\r\n              this.loadingModal = true;\r\n              this.dataModal = res['body']['result'];\r\n            } else if (res['body']['responseCode'] === 404) {\r\n              this.noResultModal = true;\r\n              this.pnotifyService.notice(res['body']['message']);\r\n            }\r\n          }\r\n        },\r\n        error => {\r\n          this.pnotifyService.error(\r\n            'Erro ao carregar depósitos associados'\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  onEdit(item): void {\r\n    const stat = item.IN_STAT == 1 ? 0 : 1;\r\n\r\n    let record = {\r\n      ID_ASSO_DEPO_MATE: item.ID,\r\n      ID_CLAS: item.ID_CLAS,\r\n      ID_APOI_TIPO_MATE: item.ID_APOI_TIPO_MATE,\r\n      ID_DEPO: item.ID_DEPO,\r\n      IN_STAT: stat,\r\n      ID_USUA: parseInt(this.idUsuario)\r\n    };\r\n\r\n    // item.ID_USUA = parseInt(this.idUsuario);\r\n    // item.ID_USUA = parseInt(this.idUsuario);\r\n\r\n    this.confirmChange(stat)\r\n    .asObservable()\r\n    .pipe(\r\n      take(1),\r\n      switchMap((result) => {\r\n        if (!result) return EMPTY;\r\n        this.loaderNavbar = true;\r\n        item.IN_STAT = stat;\r\n        // console.log(item)\r\n        return this.service.postNivelEstoqueMaterialDepositoAltearar(record);\r\n        }),\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (success: any) => {\r\n          this.pnotifyService.success();\r\n        },\r\n        (error: any) => {\r\n          item.IN_STAT = item.IN_STAT == 1 ? 0 : 1;\r\n          this.pnotifyService.error();\r\n        }\r\n      );\r\n  }\r\n\r\n  confirmChange(stat): any {\r\n    if (stat == 1)\r\n      return this.confirmModalService.showConfirm(\r\n        null,\r\n        null,\r\n        'Deseja realmente prosseguir com a ativação do registro?',\r\n        'Cancelar',\r\n        'Confirmar'\r\n      );\r\n\r\n    return this.confirmModalService.showConfirm(\r\n      'inactivate',\r\n      'Confirmar inativação',\r\n      'Deseja realmente prosseguir com a inativação do registro?',\r\n      'Cancelar',\r\n      'Confirmar'\r\n    );\r\n  }\r\n\r\n  resetValuesForm(): void {\r\n    this.formModal.get('ID_EMPR').reset();\r\n    this.formModal.get('ID_DEPO').reset();\r\n  }\r\n\r\n  handleFormSituacao(): void {\r\n    console.log(this.form.value['ID_DEPO']);\r\n    if(this.form.value['ID_DEPO'] !== null) {\r\n      this.form.get('ID_SITU_MATE').reset();\r\n      this.tipoSituacao = [\r\n        {id: 1, name: \"Não vínculado\"},\r\n        {id: 2, name: \"Vínculado\"},\r\n      ];\r\n      this.form.get('ID_SITU_MATE').setValue(2);\r\n    } else {\r\n      this.form.get('ID_SITU_MATE').reset();\r\n      this.tipoSituacao = [\r\n        {id: 1, name: \"Não vínculado\"},\r\n        {id: 2, name: \"Vínculado\"},\r\n        {id: 3, name: \"Todos\"}\r\n      ];\r\n      this.form.get('ID_SITU_MATE').setValue(3);\r\n    }\r\n    //this.formModal.get('ID_SITU_MATE').disable();\r\n  }\r\n\r\n  /* Modal */\r\n  onFieldError(field: string): string {\r\n    if (this.onFieldInvalid(field)) {\r\n      return 'is-invalid';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  onFieldErrorModal(field: string): string {\r\n    if (this.onFieldInvalidModal(field)) {\r\n      return 'is-invalid';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any): any {\r\n    field = this.form.get(field);\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onFieldInvalidModal(field: any): any {\r\n    field = this.formModal.get(field);\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onFieldRequired(field: string): any {\r\n    let required = false;\r\n    let formControl = new FormControl();\r\n\r\n    if (this.form.controls[field].validator) {\r\n      let validationResult = this.form.controls[field].validator(formControl);\r\n      required =\r\n        validationResult !== null && validationResult.required === true;\r\n    }\r\n\r\n    if (required) {\r\n      return 'is-required';\r\n    }\r\n  }\r\n\r\n  onFieldRequiredModal(field: string): any {\r\n    let required = false;\r\n    let formControl = new FormControl();\r\n\r\n    if (this.formModal.controls[field].validator) {\r\n      let validationResult = this.formModal.controls[field].validator(formControl);\r\n      required =\r\n        validationResult !== null && validationResult.required === true;\r\n    }\r\n\r\n    if (required) {\r\n      return 'is-required';\r\n    }\r\n  }\r\n\r\n  /* Ordenação */\r\n  sort(key: string): void {\r\n    this.key = key;\r\n    this.reverse = !this.reverse;\r\n  }\r\n  /* Ordenação */\r\n\r\n  /* Paginação Tabela Principal*/\r\n  onPageChanged(event: PageChangedEvent): void {\r\n    this.begin = (event.page - 1) * event.itemsPerPage;\r\n    this.end = event.page * event.itemsPerPage;\r\n  }\r\n  /* Paginação */\r\n\r\n  /* Paginação Modal*/\r\n  onPageChangedA(event: PageChangedEvent): void {\r\n    this.beginA = (event.page - 1) * event.itemsPerPage;\r\n    this.endA = event.page * event.itemsPerPage;\r\n  }\r\n\r\n  sortA(keyA: string): void {\r\n    this.keyA = keyA;\r\n    this.reverseA = !this.reverseA;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { AbastecimentoCadastrosParametrosGeraisEstoqueListaComponent } from './lista/lista.component';\r\nimport { AbastecimentoCadastrosParametrosGeraisEstoqueVinculoDepositosComponent } from './vinculo-depositos/vinculo-depositos.component';\r\nimport { AbastecimentoCadastrosParametrosGeraisEstoqueDetalhesMateriaisComponent } from './detalhes-materiais/detalhes-materiais.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    children: [\r\n      {\r\n        path:'lista',\r\n        component: AbastecimentoCadastrosParametrosGeraisEstoqueListaComponent\r\n      },\r\n      {\r\n        path: 'vinculo-deposito',\r\n        component: AbastecimentoCadastrosParametrosGeraisEstoqueVinculoDepositosComponent\r\n      },\r\n      {\r\n        path: 'detalhes-materiais',\r\n        component: AbastecimentoCadastrosParametrosGeraisEstoqueDetalhesMateriaisComponent\r\n      },\r\n      {\r\n        path: '',\r\n        redirectTo: 'lista',\r\n        pathMatch: 'full'\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AbastecimentoCadastrosParametrosGeraisEstoqueRoutingModule { }\r\n","export default \"<loader-spinner-full-screen\\r\\n  *ngIf=\\\"loaderFullScreen\\\"\\r\\n></loader-spinner-full-screen>\\r\\n<loader-spinner-navbar *ngIf=\\\"loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<app-header appTitle=\\\"Víncular depósitos\\\">\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onFilter()\\\"\\r\\n  >\\r\\n    Filtrar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\" [show]=\\\"!loaderFullScreen\\\">\\r\\n  <advanced-filter>\\r\\n    <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"ID_APOI_TIPO_MATE\\\">Tipo material</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [multiple]=\\\"true\\\"\\r\\n            [items]=\\\"tipoMateriais\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            [hideSelected]=\\\"true\\\"\\r\\n            [closeOnSelect]=\\\"true\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            bindLabel=\\\"NM_APOI_TIPO_MATE\\\"\\r\\n            bindValue=\\\"ID\\\"\\r\\n            formControlName=\\\"ID_APOI_TIPO_MATE\\\"\\r\\n          >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"ID_LINH\\\">Linha</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [multiple]=\\\"true\\\"\\r\\n            [items]=\\\"linhas\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            [hideSelected]=\\\"true\\\"\\r\\n            [closeOnSelect]=\\\"true\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            bindLabel=\\\"NM_LINH\\\"\\r\\n            bindValue=\\\"ID\\\"\\r\\n            formControlName=\\\"ID_LINH\\\"\\r\\n            (change)=\\\"getClasses() + ' ' + getSubLinhas()\\\"\\r\\n          >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"ID_SUB_LINH\\\">Sublinha</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [multiple]=\\\"true\\\"\\r\\n            [items]=\\\"subLinhas\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            [hideSelected]=\\\"true\\\"\\r\\n            [closeOnSelect]=\\\"true\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            bindLabel=\\\"NM_SUB_LINH\\\"\\r\\n            bindValue=\\\"ID\\\"\\r\\n            formControlName=\\\"ID_SUB_LINH\\\"\\r\\n            (change)=\\\"getClasses()\\\"\\r\\n          >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"ID_CLAS\\\">Classe</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [multiple]=\\\"true\\\"\\r\\n            [items]=\\\"classes\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            [hideSelected]=\\\"true\\\"\\r\\n            [closeOnSelect]=\\\"true\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            bindLabel=\\\"NM_CLAS\\\"\\r\\n            bindValue=\\\"ID\\\"\\r\\n            formControlName=\\\"ID_CLAS\\\"\\r\\n          >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"ID_DEPO\\\">Depósito</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"true\\\"\\r\\n            [items]=\\\"depositos\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            [hideSelected]=\\\"true\\\"\\r\\n            [closeOnSelect]=\\\"true\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            bindLabel=\\\"NM_DEPO\\\"\\r\\n            bindValue=\\\"ID\\\"\\r\\n            formControlName=\\\"ID_DEPO\\\"\\r\\n            (change)=\\\"handleFormSituacao()\\\"\\r\\n            >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"ID_SITU_MATE\\\">Situação</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"tipoSituacao\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            [hideSelected]=\\\"true\\\"\\r\\n            [closeOnSelect]=\\\"true\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            bindLabel=\\\"name\\\"\\r\\n            bindValue=\\\"id\\\"\\r\\n            formControlName=\\\"ID_SITU_MATE\\\"\\r\\n          >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </advanced-filter>\\r\\n  <subtitles [data]=\\\"subtitles\\\" [show]=\\\"loading\\\"> </subtitles>\\r\\n  <div class=\\\"table-responsive\\\"\\r\\n    *ngIf=\\\"loading\\\"\\r\\n  >\\r\\n    <custom-table [config]=\\\"tableConfig\\\">\\r\\n      <ng-template #thead let-thead>\\r\\n        <tr class=\\\"text-center\\\">\\r\\n          <th scope=\\\"col\\\" class=\\\"hover\\\" (click)=\\\"sort('NM_APOI_TIPO_MATE')\\\">\\r\\n            Tipo Material\\r\\n            <span *ngIf=\\\"key == 'NM_APOI_TIPO_MATE'\\\"\\r\\n              ><i\\r\\n                [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"\\r\\n              ></i\\r\\n            ></span>\\r\\n            <span *ngIf=\\\"key != 'NM_APOI_TIPO_MATE'\\\"\\r\\n              ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n            ></span>\\r\\n          </th>\\r\\n          <th scope=\\\"col\\\" class=\\\"hover\\\" (click)=\\\"sort('NM_LINH')\\\">\\r\\n            Linha\\r\\n            <span *ngIf=\\\"key == 'NM_LINH'\\\"\\r\\n              ><i\\r\\n                [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"\\r\\n              ></i\\r\\n            ></span>\\r\\n            <span *ngIf=\\\"key != 'NM_LINH'\\\"\\r\\n              ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n            ></span>\\r\\n          </th>\\r\\n          <th scope=\\\"col\\\" class=\\\"hover\\\" (click)=\\\"sort('NM_SUB_LINH')\\\">\\r\\n            Sublinha\\r\\n            <span *ngIf=\\\"key == 'NM_SUB_LINH'\\\"\\r\\n              ><i\\r\\n                [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"\\r\\n              ></i\\r\\n            ></span>\\r\\n            <span *ngIf=\\\"key != 'NM_SUB_LINH'\\\"\\r\\n              ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n            ></span>\\r\\n          </th>\\r\\n          <th scope=\\\"col\\\" class=\\\"hover\\\" (click)=\\\"sort('NM_CLAS')\\\">\\r\\n            Classe\\r\\n            <span *ngIf=\\\"key == 'NM_CLAS'\\\"\\r\\n              ><i\\r\\n                [ngClass]=\\\"reverse ? 'fas fa-sort-down' : 'fas fa-sort-up'\\\"\\r\\n              ></i\\r\\n            ></span>\\r\\n            <span *ngIf=\\\"key != 'NM_CLAS'\\\"\\r\\n              ><i [ngClass]=\\\"'fas fa-sort'\\\"></i\\r\\n            ></span>\\r\\n          </th>\\r\\n          <th scope=\\\"col\\\" class=\\\"hover\\\" width=\\\"5%\\\"></th>\\r\\n        </tr>\\r\\n      </ng-template>\\r\\n      <ng-template #tbody let-tbody>\\r\\n        <tr\\r\\n          *ngFor=\\\"\\r\\n            let item of data | orderBy: key:reverse | slice: begin:end;\\r\\n            let i = index\\r\\n          \\\"\\r\\n        >\\r\\n          <td\\r\\n            class=\\\"text-center\\\" \\r\\n            [ngClass]=\\\"item.TT_DEPO_ASSO == 0 ? 'border-danger' : 'border-success'\\\"\\r\\n          >\\r\\n            {{ item.NM_APOI_TIPO_MATE }}\\r\\n          </td>\\r\\n          <td class=\\\"text-center\\\">{{ item.NM_LINH }}</td>\\r\\n          <td class=\\\"text-center\\\">\\r\\n            {{ item.NM_SUB_LINH ? item.NM_SUB_LINH : '-' }}\\r\\n          </td>\\r\\n          <td class=\\\"text-center\\\">{{ item.NM_CLAS }}</td>\\r\\n          <td class=\\\"text-center\\\" width=\\\"5%\\\">\\r\\n            <div>\\r\\n              <button\\r\\n                type=\\\"button\\\"\\r\\n                class=\\\"btn-icon-sm\\\"\\r\\n                tooltip=\\\"Editar\\\"\\r\\n                placement=\\\"left\\\"\\r\\n                container=\\\"body\\\"\\r\\n              >\\r\\n              <i\\r\\n                class=\\\"fas fa-edit\\\"\\r\\n                (click)=\\\"lgModal.show() + '' + sendDataModal(item)\\\" \\r\\n                >\\r\\n              </i>\\r\\n              </button>\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </ng-template>\\r\\n    </custom-table>\\r\\n  </div>\\r\\n  <div\\r\\n    class=\\\"col-12 mb-2 ml-2\\\"\\r\\n    *ngIf=\\\"!noResult && data?.length > itemsPerPage\\\"\\r\\n  >\\r\\n    Exibindo {{ begin + 1 }} a {{ end }} de {{ data?.length }}\\r\\n    <div class=\\\"d-flex\\\">\\r\\n      <pagination\\r\\n        [maxSize]=\\\"10\\\"\\r\\n        [totalItems]=\\\"data?.length\\\"\\r\\n        (pageChanged)=\\\"onPageChanged($event)\\\"\\r\\n        [(itemsPerPage)]=\\\"itemsPerPage\\\"\\r\\n        [boundaryLinks]=\\\"true\\\"\\r\\n        [(ngModel)]=\\\"currentPage\\\"\\r\\n        previousText=\\\"&lsaquo;\\\"\\r\\n        nextText=\\\"&rsaquo;\\\"\\r\\n        firstText=\\\"&laquo;\\\"\\r\\n        lastText=\\\"&raquo;\\\"\\r\\n      >\\r\\n      </pagination>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div\\r\\n    *ngIf=\\\"noResult\\\"\\r\\n    class=\\\"text-center d-flex justify-content-center align-items-center p-5\\\"\\r\\n    style=\\\"height: 80%;\\\"\\r\\n  >\\r\\n    <empty-result message=\\\"Nenhuma informação encontrada\\\"></empty-result>\\r\\n  </div>\\r\\n</app-body>\\r\\n\\r\\n<div bsModal #lgModal=\\\"bs-modal\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\"\\r\\n     role=\\\"dialog\\\" aria-labelledby=\\\"dialog-sizes-name1\\\">\\r\\n  <div class=\\\"modal-dialog modal-lg\\\">\\r\\n    <div class=\\\"modal-content\\\">\\r\\n      <div class=\\\"modal-header\\\">\\r\\n        <h4 id=\\\"dialog-sizes-name1\\\" class=\\\"modal-title pull-left\\\">VÍNCULAR DEPÓSITOS</h4>\\r\\n        <button type=\\\"button\\\" class=\\\"close pull-right\\\" (click)=\\\"lgModal.hide()\\\" aria-label=\\\"Close\\\">\\r\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n        </button>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        <div id=\\\"modal-material-depositos\\\">\\r\\n          <div class=\\\"d-flex justify-content-end\\\">\\r\\n            <button\\r\\n              type=\\\"button\\\"\\r\\n              (click)=\\\"onSaveDataModal()\\\"\\r\\n              [disabled]=\\\"formModal.status == 'INVALID'\\\"\\r\\n              class=\\\"btn\\\"\\r\\n            >\\r\\n              Guardar\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-12\\\">\\r\\n          <div class=\\\"row justify-content-md-center mt-3\\\">\\r\\n            <div class=\\\"col-md-12\\\">\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-md-6\\\">\\r\\n                  <p class=\\\"pFont\\\">\\r\\n                    <strong>TIPO DE MATERIAL</strong><br />\\r\\n                    {{ tipoMaterialModal }}\\r\\n                  </p>\\r\\n                </div>\\r\\n                <div class=\\\"col-md-6\\\">\\r\\n                  <p class=\\\"pFont\\\">\\r\\n                    <strong>LINHA</strong><br />\\r\\n                    {{ linhaModal }}\\r\\n                  </p>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-md-6\\\">\\r\\n                  <p class=\\\"pFont\\\">\\r\\n                    <strong>SUB LINHA</strong><br />\\r\\n                    {{ subLinhaModal ? subLinhaModal : '-' }}\\r\\n                  </p>\\r\\n                </div>\\r\\n                <div class=\\\"col-md-6\\\">\\r\\n                  <p class=\\\"pFont\\\">\\r\\n                    <strong>CLASSE</strong><br />\\r\\n                    {{ classeModal }}\\r\\n                  </p>\\r\\n                </div>\\r\\n              </div>\\r\\n              <form [formGroup]=\\\"formModal\\\" autocomplete=\\\"off\\\">\\r\\n                <div class=\\\"form-row\\\">\\r\\n                  <div class=\\\"form-group col-lg-6 mb-lg-0\\\">\\r\\n                    <label for=\\\"ID_EMPR\\\">Empresas</label>\\r\\n                    <ng-select\\r\\n                      [searchable]=\\\"true\\\"\\r\\n                      [clearable]=\\\"true\\\"\\r\\n                      [multiple]=\\\"true\\\"\\r\\n                      [items]=\\\"empresasModal\\\"\\r\\n                      [virtualScroll]=\\\"true\\\"\\r\\n                      [hideSelected]=\\\"true\\\"\\r\\n                      [closeOnSelect]=\\\"false\\\"\\r\\n                      placeholder=\\\"Selecione...\\\"\\r\\n                      bindLabel=\\\"NM_FANT\\\"\\r\\n                      bindValue=\\\"ID\\\"\\r\\n                      formControlName=\\\"ID_EMPR\\\"\\r\\n                      (change)=\\\"getDepositosModal()\\\"\\r\\n                    >\\r\\n                    </ng-select>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-group col-lg-6 mb-lg-0\\\">\\r\\n                    <label for=\\\"ID_DEPO\\\">Depósitos</label>\\r\\n                    <ng-select\\r\\n                      [searchable]=\\\"true\\\"\\r\\n                      [clearable]=\\\"true\\\"\\r\\n                      [multiple]=\\\"true\\\"\\r\\n                      [items]=\\\"depositosModal\\\"\\r\\n                      [virtualScroll]=\\\"true\\\"\\r\\n                      [hideSelected]=\\\"true\\\"\\r\\n                      [closeOnSelect]=\\\"false\\\"\\r\\n                      placeholder=\\\"Selecione...\\\"\\r\\n                      bindLabel=\\\"NM_DEPO\\\"\\r\\n                      bindValue=\\\"ID\\\"\\r\\n                      formControlName=\\\"ID_DEPO\\\"\\r\\n                      [ngClass]=\\\"onFieldErrorModal('ID_DEPO') + ' ' + onFieldRequiredModal('ID_DEPO')\\\"\\r\\n                    >\\r\\n                    </ng-select>\\r\\n                    <invalid-form-control\\r\\n                      [show]=\\\"onFieldInvalidModal('ID_DEPO')\\\"\\r\\n                      message=\\\"Depósito é obrigatório.\\\"\\r\\n                    >\\r\\n                    </invalid-form-control>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </form>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div\\r\\n            class=\\\"row justify-content-md-center mt-3 mb-3\\\"\\r\\n          >\\r\\n            <div class=\\\"form-group col-md-12\\\">\\r\\n              <label for=\\\"depositosVinculados\\\">Depósitos Vinculados</label>\\r\\n              <div class=\\\"table-reponsive\\\" *ngIf=\\\"loadingModal\\\">\\r\\n                <custom-table>\\r\\n                  <ng-template #thead let-thead>\\r\\n                    <tr class=\\\"text-center\\\">\\r\\n                      <th scope=\\\"col\\\">Empresa</th>\\r\\n                      <th scope=\\\"col\\\">Depósito</th>\\r\\n                      <th nowrap scope=\\\"col\\\" class=\\\"hover\\\" width=\\\"4%\\\"></th>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n                  <ng-template #tbody let-tbody>\\r\\n                    <tr *ngFor=\\\"let item of dataModal\\\">\\r\\n                      <td class=\\\"text-left\\\">{{ item.NM_EMPR }}</td>\\r\\n                      <td class=\\\"text-left\\\">{{ item.NM_DEPO }}</td>\\r\\n                      <td nowrap class=\\\"text-center\\\" width=\\\"4%\\\">\\r\\n                        <div>\\r\\n                          <button\\r\\n                            type=\\\"button\\\"\\r\\n                            class=\\\"btn-icon-sm\\\"\\r\\n                            [tooltip]=\\\"item.IN_STAT == 0 ? 'Ativar' : 'Desativar'\\\"\\r\\n                            (click)=\\\"onEdit(item)\\\"\\r\\n                          >\\r\\n                            <i [ngClass]=\\\"item.IN_STAT == 0 ? 'fas fa-toggle-off' : 'fas fa-toggle-on text-success'\\\"></i>\\r\\n                          </button>\\r\\n                        </div>\\r\\n                      </td>      \\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n                </custom-table>\\r\\n              </div>\\r\\n              <div class=\\\"text-center d-flex justify-content-center align-items-center p-5\\\" *ngIf=\\\"!loadingModal && !noResultModal\\\">\\r\\n                <div class=\\\"spinner-border\\\">\\r\\n                  <span class=\\\"sr-only\\\">Loading...</span>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div\\r\\n                *ngIf=\\\"noResultModal\\\"\\r\\n                class=\\\"text-center d-flex justify-content-center align-items-center p-5\\\"\\r\\n                style=\\\"height: 80%;\\\"\\r\\n              >\\r\\n                <empty-result message=\\\"Nenhuma informação encontrada\\\"></empty-result>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";"]}