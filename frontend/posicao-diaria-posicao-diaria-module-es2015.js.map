{"version":3,"sources":["./src/app/modules/comercial/relatorios/posicao-diaria/posicao-diaria.component.scss","./src/app/modules/comercial/relatorios/posicao-diaria/posicao-diaria.service.ts","./src/app/modules/comercial/relatorios/posicao-diaria/posicao-diaria.component.html","./src/app/modules/comercial/relatorios/posicao-diaria/posicao-diaria.component.ts","./src/app/modules/comercial/relatorios/posicao-diaria/posicao-diaria-routing.module.ts","./src/app/modules/comercial/relatorios/posicao-diaria/posicao-diaria.module.ts"],"names":[],"mappings":"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","file":"posicao-diaria-posicao-diaria-module-es2015.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL3JlbGF0b3Jpb3MvcG9zaWNhby1kaWFyaWEvcG9zaWNhby1kaWFyaWEuY29tcG9uZW50LnNjc3MifQ== */\";","import { Injectable } from '@angular/core';\r\nimport { take, retry } from 'rxjs/operators';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialRelatoriosPosicaoDiariaService {\r\n  private readonly API = `http://23.254.204.187/api/comercial/relatorios/posicao-diaria`;\r\n\r\n  constructor(protected http: HttpClient) {}\r\n\r\n  getPerfis(): Observable<Object | JsonResponse> {\r\n    return this.http.get(`${this.API}/perfis`).pipe(take(1), retry(2));\r\n  }\r\n\r\n  getListaManetoni(data: any): Observable<Object | JsonResponse> {\r\n    return this.http.get(`${this.API}/lista/${data}`).pipe(take(1), retry(2));\r\n  }\r\n\r\n  getListaDBA(data: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/lista-dba/${data}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getDetalhesManetoni(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/detalhes/${params.data}/${params.ordem}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postRitmoEditado(params: any): Observable<Object | JsonResponse> {\r\n    return this.http.post(`${this.API}/salvar`, params).pipe(take(1), retry(2));\r\n  }\r\n}\r\n","export default \"<loader-spinner-navbar *ngIf=\\\"loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<loader-spinner-full-screen *ngIf=\\\"loaderFullScreen\\\"></loader-spinner-full-screen>\\r\\n<app-header appTitle=\\\"Posição diária\\\">\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onFilter()\\\">\\r\\n    Filtrar\\r\\n  </button>\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onExport()\\\"\\r\\n    *ngIf=\\\"listagemLoaded && adminProfile\\\">\\r\\n    Exportar\\r\\n  </button>\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onSubmit()\\\"\\r\\n    *ngIf=\\\"listagemLoaded && adminProfile\\\">\\r\\n    Salvar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\" [show]=\\\"!loaderFullScreen\\\">\\r\\n  <advanced-filter>\\r\\n    <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col-lg-2 mb-lg-0\\\">\\r\\n          <label for=\\\"data\\\">Data</label>\\r\\n          <input\\r\\n            class=\\\"form-control\\\"\\r\\n            id=\\\"data\\\"\\r\\n            type=\\\"text\\\"\\r\\n            bsDatepicker\\r\\n            [bsConfig]=\\\"bsConfig\\\"\\r\\n            formControlName=\\\"data\\\"\\r\\n            [ngClass]=\\\"onFieldError('data') + ' ' + onFieldRequired('data')\\\">\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </advanced-filter>\\r\\n  <div class=\\\"row\\\" *ngIf=\\\"listagemLoaded\\\">\\r\\n    <div class=\\\"col\\\">\\r\\n      <tabset>\\r\\n        <tab heading=\\\"Manetoni\\\" class=\\\"border-right border-left border-bottom\\\">\\r\\n          <ng-template #templateRitmo><div [innerHtml]=\\\"tooltipRitmo\\\"></div></ng-template>\\r\\n          <custom-table *ngIf=\\\"listagemLoaded && !listagemEmpty\\\">\\r\\n            <ng-template #thead let-thead>\\r\\n              <tr>\\r\\n                <th class=\\\"align-middle text-center\\\" rowspan=\\\"2\\\" scope=\\\"col\\\"></th>\\r\\n                <th class=\\\"align-middle text-center\\\" rowspan=\\\"2\\\" scope=\\\"col\\\">Linha</th>\\r\\n                <th class=\\\"text-center\\\" colspan=\\\"2\\\" scope=\\\"col\\\">{{ dtPesquisa }}</th>\\r\\n                <th class=\\\"text-center\\\" colspan=\\\"2\\\" scope=\\\"col\\\">{{ mesAtual }}</th>\\r\\n                <th class=\\\"text-center\\\" colspan=\\\"2\\\" scope=\\\"col\\\">Ritmo <i class=\\\"far fa-question-circle\\\" [tooltip]=\\\"templateRitmo\\\"></i></th>\\r\\n                <th class=\\\"text-center\\\" colspan=\\\"2\\\" scope=\\\"col\\\">Editado</th>\\r\\n                <th class=\\\"text-center\\\" colspan=\\\"2\\\" scope=\\\"col\\\">Metas</th>\\r\\n                <th class=\\\"text-center\\\" colspan=\\\"2\\\" scope=\\\"col\\\">Metas/Editado</th>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <!-- Dia Atual -->\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">Ton</th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">R$</th>\\r\\n                <!-- Mes Atual -->\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">Ton</th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">R$</th>\\r\\n                <!-- Ritmo -->\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">Ton</th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">R$</th>\\r\\n                <!-- Editado -->\\r\\n                <th cope=\\\"col\\\" class=\\\"text-center\\\">Ton</th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">R$</th>\\r\\n                <!-- Metas -->\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">Ton</th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">R$</th>\\r\\n                <!-- Metas/Editado -->\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">Peso</th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\">Valor</th>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n            <ng-template #tbody let-tbody>\\r\\n              <tr *ngFor=\\\"let item of listagem; let i = index\\\" [class.table-active]=\\\"i == linha\\\">\\r\\n                <td>\\r\\n                  <span tooltip=\\\"Mais informações\\\" placement=\\\"left\\\" container=\\\"body\\\">\\r\\n                    <button type=\\\"button\\\" class=\\\"btn-icon-sm ml-3\\\" *ngIf=\\\"onExibir(item.podeEditar)\\\" (click)=\\\"onDetalhesFilter(detalhes, item.linha, i + 1)\\\">\\r\\n                      <i class=\\\"fas fa-plus\\\"></i>\\r\\n                    </button>\\r\\n                  </span>\\r\\n                </td>\\r\\n                <td class=\\\"text-center\\\">{{ item.linha }}</td>\\r\\n                <td class=\\\"text-center\\\">{{ item.toneladaHoje | number:'1.0-0' }}</td>\\r\\n                <td class=\\\"text-center\\\">{{ item.valorHoje | number:'1.0-0' }}</td>\\r\\n                <td class=\\\"text-center\\\">{{ item.toneladaMesAtual | number:'1.0-0' }}</td>\\r\\n                <td class=\\\"text-center\\\">{{ item.valorMesAtual | number:'1.0-0' }}</td>\\r\\n                <td class=\\\"text-center\\\">{{ item.toneladaRitmo | number:'1.0-0' }}</td>\\r\\n                <td class=\\\"text-center\\\">{{ item.valorRitmo | number:'1.0-0' }}</td>\\r\\n                <!-- Campos Editaveis -->\\r\\n                <td class=\\\"text-center bg-white\\\">\\r\\n                  <span *ngIf=\\\"!adminProfile || !onExibir(item.podeEditar)\\\" >{{ item.toneladaEditado | number:'1.0-0' }}</span>\\r\\n                  <div class=\\\"d-flex justify-content-center\\\" *ngIf=\\\"adminProfile && onExibir(item.podeEditar)\\\">\\r\\n                    <input\\r\\n                      style=\\\"max-width: 80px;\\\"\\r\\n                      type=\\\"text\\\"\\r\\n                      class=\\\"form-control form-control-sm\\\"\\r\\n                      [(ngModel)]=\\\"formEdit.toneladaEditado[i]\\\"\\r\\n                      name=\\\"toneladaEditado_{{i}}\\\"\\r\\n                      currencyMask [options]=\\\"{ align: 'center', prefix: '', thousands: '.', decimal: ',' }\\\">\\r\\n                  </div>\\r\\n                </td>\\r\\n                <td class=\\\"text-center bg-white\\\">\\r\\n                  <span *ngIf=\\\"!adminProfile || !onExibir(item.podeEditar)\\\">{{ item.valorEditado | number:'1.0-0' }}</span>\\r\\n                  <div class=\\\"d-flex justify-content-center\\\" *ngIf=\\\"adminProfile && onExibir(item.podeEditar)\\\">\\r\\n                    <input\\r\\n                      style=\\\"max-width: 80px;\\\"\\r\\n                      type=\\\"text\\\"\\r\\n                      class=\\\"form-control form-control-sm\\\"\\r\\n                      [(ngModel)]=\\\"formEdit.valorEditado[i]\\\"\\r\\n                      name=\\\"valorEditado{{i}}\\\"\\r\\n                      currencyMask [options]=\\\"{ align: 'center', prefix: '', thousands: '.', decimal: ',', precision: 0 }\\\">\\r\\n                  </div>\\r\\n                </td>\\r\\n                <td class=\\\"text-center bg-white\\\">\\r\\n                  <span *ngIf=\\\"!adminProfile || !onExibir(item.podeEditar)\\\">{{ item.toneladaMeta | number:'1.0-0' }}</span>\\r\\n                  <div class=\\\"d-flex justify-content-center\\\" *ngIf=\\\"adminProfile && onExibir(item.podeEditar)\\\">\\r\\n                    <input\\r\\n                      style=\\\"max-width: 80px;\\\"\\r\\n                      type=\\\"text\\\"\\r\\n                      class=\\\"form-control form-control-sm\\\"\\r\\n                      [(ngModel)]=\\\"formEdit.toneladaMeta[i]\\\"\\r\\n                      name=\\\"toneladaMeta{{i}}\\\"\\r\\n                      currencyMask [options]=\\\"{ align: 'center', prefix: '', thousands: '.', decimal: ',' }\\\">\\r\\n                  </div>\\r\\n                </td>\\r\\n                <td class=\\\"text-center bg-white\\\">\\r\\n                  <span *ngIf=\\\"!adminProfile || !onExibir(item.podeEditar)\\\">{{ item.valorMeta | number:'1.0-0' }}</span>\\r\\n                  <div class=\\\"d-flex justify-content-center\\\" *ngIf=\\\"adminProfile && onExibir(item.podeEditar)\\\">\\r\\n                    <input\\r\\n                      style=\\\"max-width: 80px;\\\"\\r\\n                      type=\\\"text\\\"\\r\\n                      class=\\\"form-control form-control-sm\\\"\\r\\n                      [(ngModel)]=\\\"formEdit.valorMeta[i]\\\"\\r\\n                      name=\\\"valorMeta{{i}}\\\"\\r\\n                      currencyMask [options]=\\\"{ align: 'center', prefix: '', thousands: '.', decimal: ',', precision: 0 }\\\">\\r\\n                  </div>\\r\\n                </td>\\r\\n                <td class=\\\"text-center bg-white\\\" [ngClass]=\\\"classComparativo(item.toneladaMetaEditado)\\\">{{ item.toneladaMetaEditado | number:'1.2-2' }}%</td>\\r\\n                <td class=\\\"text-center bg-white\\\" [ngClass]=\\\"classComparativo(item.valorMetaEditado)\\\">{{ item.valorMetaEditado | number:'1.2-2' }}%</td>\\r\\n              </tr>\\r\\n              <!-- Totais -->\\r\\n              <tr>\\r\\n                <td class=\\\"bg-dark text-white text-center\\\" colspan=\\\"2\\\"><strong>Total</strong></td>\\r\\n                <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ totalGeral.toneladaHoje | number:'1.0-0' }}</strong></td>\\r\\n                <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ totalGeral.valorHoje | number:'1.0-0' }}</strong></td>\\r\\n                <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ totalGeral.toneladaMesAtual | number:'1.0-0' }}</strong></td>\\r\\n                <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ totalGeral.valorMesAtual | number:'1.0-0' }}</strong></td>\\r\\n                <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ totalGeral.toneladaRitmo | number:'1.3-3' }}</strong></td>\\r\\n                <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ totalGeral.valorRitmo | number:'1.0-0' }}</strong></td>\\r\\n                <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ totalGeral.toneladaEditado | number:'1.0-0' }}</strong></td>\\r\\n                <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ totalGeral.valorEditado | number:'1.0-0' }}</strong></td>\\r\\n                <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ totalGeral.toneladaMeta | number:'1.0-0' }}</strong></td>\\r\\n                <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ totalGeral.valorMeta | number:'1.0-0' }}</strong></td>\\r\\n                <td class=\\\"bg-dark text-white text-center\\\" [ngClass]=\\\"classComparativo(totalGeral.toneladaMetaEditado)\\\"><strong>{{ totalGeral.toneladaMetaEditado | number:'1.2-2' }}%</strong></td>\\r\\n                <td class=\\\"bg-dark text-white text-center\\\" [ngClass]=\\\"classComparativo(totalGeral.valorMetaEditado)\\\"><strong>{{ totalGeral.valorMetaEditado | number:'1.2-2' }}%</strong></td>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n          </custom-table>\\r\\n          <empty-result message=\\\"Nenhuma informação encontrada\\\" class=\\\"py-3\\\" *ngIf=\\\"listagemEmpty\\\"></empty-result>\\r\\n        </tab>\\r\\n        <tab heading=\\\"DBA's\\\" class=\\\"border-right border-left border-bottom\\\" *ngIf=\\\"acessoDBAs === true\\\">\\r\\n            <ng-template #templateRitmo><div [innerHtml]=\\\"tooltipRitmo\\\"></div></ng-template>\\r\\n            <custom-table [config]=\\\"tableConfig\\\" *ngIf=\\\"listagemDBALoaded && !listagemDBAEmpty\\\">\\r\\n              <ng-template #thead let-thead>\\r\\n                <tr>\\r\\n                  <th class=\\\"align-middle\\\" scope=\\\"col\\\">Unidade</th>\\r\\n                  <th class=\\\"align-middle text-center\\\" scope=\\\"col\\\">{{ dtPesquisa }}</th>\\r\\n                  <th class=\\\"align-middle text-center\\\" scope=\\\"col\\\">Total {{ mesAtual }}</th>\\r\\n                  <th class=\\\"align-middle text-center\\\" scope=\\\"col\\\">Ritmo {{ mesAtual }}</th>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n              <ng-template #tbody let-tbody>\\r\\n                <tr *ngFor=\\\"let item of listagemDBA; let i = index\\\">\\r\\n                  <td>{{ item.nomeEscritorio | uppercase }}</td>\\r\\n                  <td class=\\\"text-center\\\">{{ item.toneladasDiaAnterior | number:'1.3-3' }} Ton</td>\\r\\n                  <td class=\\\"text-center\\\">{{ item.toneladasMesAtual | number:'1.3-3' }} Ton</td>\\r\\n                  <td class=\\\"text-center\\\">{{ item.ritmo | number:'1.0-0' }} Ton</td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td class=\\\"bg-dark text-white\\\"><strong>{{ totaisDBA.nomeEscritorio | uppercase }}</strong></td>\\r\\n                  <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ totaisDBA.toneladasDiaAnterior | number:'1.3-3' }} Ton</strong></td>\\r\\n                  <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ totaisDBA.toneladasMesAtual | number:'1.3-3' }} Ton</strong></td>\\r\\n                  <td class=\\\"bg-dark text-white text-center\\\" [ngClass]=\\\"classComparativo(totaisDBA.ritmo)\\\"><strong>{{ totaisDBA.ritmo | number:'1.0-0' }} Ton</strong></td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n            </custom-table>\\r\\n            <empty-result message=\\\"Nenhuma informação encontrada\\\" class=\\\"py-3\\\" *ngIf=\\\"listagemDBAEmpty\\\"></empty-result>\\r\\n        </tab>\\r\\n      </tabset>\\r\\n    </div>\\r\\n  </div>\\r\\n</app-body>\\r\\n<ng-template #detalhes>\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title pull-left\\\">{{ detalhesTitulo }}</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"onModalClose()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <custom-table *ngIf=\\\"detalhesClasseLoaded && !detalhesClasseEmpty\\\">\\r\\n      <ng-template #thead let-thead>\\r\\n        <tr>\\r\\n          <th class=\\\"text-center\\\" rowspan=\\\"2\\\" scope=\\\"col\\\">Classe</th>\\r\\n          <th class=\\\"text-center\\\" colspan=\\\"2\\\" scope=\\\"col\\\">{{ dtPesquisa }}</th>\\r\\n          <th class=\\\"text-center\\\" colspan=\\\"2\\\" scope=\\\"col\\\">{{ mesAtual }}</th>\\r\\n          <th class=\\\"text-center\\\" colspan=\\\"2\\\" scope=\\\"col\\\">Ritmo</th>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <!-- Dia Atual -->\\r\\n          <th scope=\\\"col\\\" class=\\\"text-center\\\">Ton</th>\\r\\n          <th scope=\\\"col\\\" class=\\\"text-center\\\">R$</th>\\r\\n          <!-- Mes Atual -->\\r\\n          <th scope=\\\"col\\\" class=\\\"text-center\\\">Ton</th>\\r\\n          <th scope=\\\"col\\\" class=\\\"text-center\\\">R$</th>\\r\\n          <!-- Ritmo -->\\r\\n          <th scope=\\\"col\\\" class=\\\"text-center\\\">Ton</th>\\r\\n          <th scope=\\\"col\\\" class=\\\"text-center\\\">R$</th>\\r\\n        </tr>\\r\\n      </ng-template>\\r\\n      <ng-template #tbody let-tbody>\\r\\n        <tr *ngFor=\\\"let item of detalhesClasse\\\">\\r\\n          <td class=\\\"text-center\\\">{{ item.classe }}</td>\\r\\n          <td class=\\\"text-center\\\">{{ item.toneladaHoje | number:'1.0-0' }}</td>\\r\\n          <td class=\\\"text-center\\\">{{ item.valorHoje | number:'1.0-0' }}</td>\\r\\n          <td class=\\\"text-center\\\">{{ item.toneladaMesAtual | number:'1.0-0' }}</td>\\r\\n          <td class=\\\"text-center\\\">{{ item.valorMesAtual | number:'1.0-0' }}</td>\\r\\n          <td class=\\\"text-center\\\">{{ item.toneladaRitmo | number:'1.0-0' }}</td>\\r\\n          <td class=\\\"text-center\\\">{{ item.valorRitmo | number:'1.0-0' }}</td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td class=\\\"bg-dark text-white text-center\\\"><strong>Total</strong></td>\\r\\n          <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ detalhesTotais.toneladaHoje | number:'1.0-0' }}</strong></td>\\r\\n          <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ detalhesTotais.valorHoje | number:'1.0-0' }}</strong></td>\\r\\n          <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ detalhesTotais.toneladaMesAtual | number:'1.0-0' }}</strong></td>\\r\\n          <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ detalhesTotais.valorMesAtual | number:'1.0-0' }}</strong></td>\\r\\n          <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ detalhesTotais.toneladaRitmo | number:'1.0-0' }}</strong></td>\\r\\n          <td class=\\\"bg-dark text-white text-center\\\"><strong>{{ detalhesTotais.valorRitmo | number:'1.0-0' }}</strong></td>\\r\\n        </tr>\\r\\n      </ng-template>\\r\\n    </custom-table>\\r\\n    <empty-result message=\\\"Nenhuma informação encontrada\\\" *ngIf=\\\"detalhesClasseEmpty\\\"></empty-result>\\r\\n  </div>\\r\\n</ng-template>\\r\\n\";","import { Component, OnInit, TemplateRef } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\nimport {\r\n  FormBuilder,\r\n  Validators,\r\n  FormGroup,\r\n  FormControl,\r\n} from '@angular/forms';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n// ngx-bootstrap\r\nimport { BsLocaleService, BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { defineLocale } from 'ngx-bootstrap/chronos';\r\nimport { ptBrLocale } from 'ngx-bootstrap/locale';\r\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap/modal';\r\n\r\ndefineLocale('pt-br', ptBrLocale);\r\n\r\n// Services\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\nimport { ComercialRelatoriosPosicaoDiariaService } from './posicao-diaria.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { XlsxService } from 'src/app/shared/modules/xlsx/xlsx.service';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\nimport { TitleService } from 'src/app/shared/services/core/title.service';\r\n\r\n// Interfaces\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Component({\r\n  selector: 'comercial-relatorios-posicao-diaria',\r\n  templateUrl: './posicao-diaria.component.html',\r\n  styleUrls: ['./posicao-diaria.component.scss'],\r\n})\r\nexport class ComercialRelatoriosPosicaoDiariaComponent implements OnInit {\r\n  loaderNavbar = false;\r\n  loaderFullScreen = true;\r\n\r\n  breadCrumbTree: Array<Breadcrumb> = [];\r\n\r\n  tableConfig: Partial<CustomTableConfig> = {\r\n    hover: false,\r\n    small: false,\r\n  };\r\n\r\n  activatedRouteSubscription: Subscription;\r\n\r\n  form: FormGroup;\r\n  bsConfig: Partial<BsDatepickerConfig>;\r\n\r\n  currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n  matriculaUser = this.currentUser.info.matricula;\r\n\r\n  dtPesquisa: string;\r\n  mesAtual: string;\r\n  adminProfile = false;\r\n  acessoDBAs = false;\r\n\r\n  listagem: any = [];\r\n  listagemLoaded = false;\r\n  listagemEmpty = false;\r\n  tooltipRitmo: any = {};\r\n  totalGeral: any = {};\r\n\r\n  listagemDBA: any = [];\r\n  totaisDBA: any = [];\r\n  listagemDBALoaded: boolean;\r\n  listagemDBAEmpty: boolean;\r\n\r\n  detalhesClasseEmpty = false;\r\n  detalhesClasseLoaded = false;\r\n  linha: number;\r\n\r\n  detalhesTitulo: string;\r\n  detalhesClasse: any = [];\r\n  detalhesTotais: any = {};\r\n\r\n  listagemExport: any = [];\r\n\r\n  formEdit: any = {\r\n    toneladaEditado: [0, 0, 0, 0, 0, 0, 0, 0],\r\n    valorEditado: [0, 0, 0, 0, 0, 0, 0, 0],\r\n    toneladaMeta: [0, 0, 0, 0, 0, 0, 0, 0],\r\n    valorMeta: [0, 0, 0, 0, 0, 0, 0, 0],\r\n  };\r\n\r\n  modalRef: BsModalRef;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private location: Location,\r\n    private formBuilder: FormBuilder,\r\n    private activatedRoute: ActivatedRoute,\r\n    private dateService: DateService,\r\n    private modalService: BsModalService,\r\n    private pnotifyService: PNotifyService,\r\n    private localeService: BsLocaleService,\r\n    private xlsxService: XlsxService,\r\n    private posicaoDiariaService: ComercialRelatoriosPosicaoDiariaService,\r\n    private atividadesService: AtividadesService,\r\n    private titleService: TitleService\r\n  ) {\r\n    this.localeService.use('pt-br');\r\n    this.bsConfig = Object.assign(\r\n      {},\r\n      { containerClass: 'theme-dark-blue' },\r\n      { adaptivePosition: true },\r\n      { showWeekNumbers: false }\r\n    );\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.registrarAcesso();\r\n    this.setBreadCrumb();\r\n    this.getPerfil();\r\n    this.titleService.setTitle('Posição diária');\r\n  }\r\n\r\n  registrarAcesso() {\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n  }\r\n\r\n  setBreadCrumb() {\r\n    this.activatedRoute.params.subscribe((params: any) => {\r\n      this.breadCrumbTree = [\r\n        {\r\n          descricao: 'Home',\r\n          routerLink: '/comercial/home',\r\n        },\r\n        {\r\n          descricao: 'Relatórios',\r\n          routerLink: `/comercial/relatorios/${params.idSubModulo}`,\r\n        },\r\n        {\r\n          descricao: 'Posição diária',\r\n        },\r\n      ];\r\n    });\r\n  }\r\n\r\n  getPerfil() {\r\n    this.posicaoDiariaService\r\n      .getPerfis()\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderFullScreen = false;\r\n          this.setFormFilter();\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            this.adminProfile = response.data.acessoAdmin;\r\n            this.acessoDBAs = response.data.acessoDBAs;\r\n          } else {\r\n            this.pnotifyService.error();\r\n            this.location.back();\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.pnotifyService.error();\r\n          this.location.back();\r\n        }\r\n      });\r\n  }\r\n\r\n  setFormFilter() {\r\n    const formValue: any = this.checkRouterParams();\r\n\r\n    this.form = this.formBuilder.group({\r\n      data: [formValue.data, [Validators.required]],\r\n    });\r\n  }\r\n\r\n  checkRouterParams(): Object {\r\n    let formValue = {\r\n      data: new Date(),\r\n    };\r\n\r\n    this.activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      (queryParams: any) => {\r\n        if (Object.keys(queryParams).length > 0) {\r\n          let params = atob(queryParams.q);\r\n          params = JSON.parse(params);\r\n\r\n          this.search(params);\r\n          this.onLoadRitmoDBA(params);\r\n\r\n          Object.keys(formValue).forEach((formKey) => {\r\n            Object.keys(params).forEach((paramKey) => {\r\n              if (\r\n                formKey == paramKey &&\r\n                formValue[formKey] != params[paramKey]\r\n              ) {\r\n                if (formKey === 'data') {\r\n                  formValue[formKey] = this.dateService.convertStringToDate(\r\n                    params[paramKey],\r\n                    'pt-br'\r\n                  );\r\n                } else {\r\n                  if (!isNaN(Number(params[paramKey]))) {\r\n                    formValue[formKey] = Number(params[paramKey]);\r\n                  } else {\r\n                    formValue[formKey] = params[paramKey];\r\n                  }\r\n                }\r\n              }\r\n            });\r\n          });\r\n        } else {\r\n          const params = {\r\n            data: this.dateService.convertToUrlDate(new Date(formValue.data)),\r\n          };\r\n\r\n          this.search(params);\r\n          this.onLoadRitmoDBA(params);\r\n        }\r\n      }\r\n    );\r\n    this.activatedRouteSubscription.unsubscribe();\r\n\r\n    return formValue;\r\n  }\r\n\r\n  onFilter() {\r\n    if (this.form.valid) {\r\n      this.setRouterParams(this.verificaParams());\r\n    }\r\n  }\r\n\r\n  verificaParams(): Object {\r\n    let params: any = {};\r\n\r\n    params.data = this.dateService.convertToUrlDate(\r\n      new Date(this.form.value.data)\r\n    );\r\n\r\n    return params;\r\n  }\r\n\r\n  setRouterParams(params: any): void {\r\n    this.router.navigate([], {\r\n      relativeTo: this.activatedRoute,\r\n      queryParams: { q: btoa(JSON.stringify(params)) },\r\n    });\r\n    this.search(params);\r\n    this.onLoadRitmoDBA(params);\r\n  }\r\n\r\n  search(params: any) {\r\n    this.loaderNavbar = true;\r\n    this.listagemEmpty = false;\r\n    this.listagemLoaded = false;\r\n\r\n    this.posicaoDiariaService\r\n      .getListaManetoni(params.data)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n          this.listagemLoaded = true;\r\n          this.setDateFormValues();\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            if (response.data.analitico && response.data.analitico.length > 0) {\r\n              this.listagem = response.data.analitico;\r\n              this.listagemExport = response.data;\r\n\r\n              this.formEdit = {\r\n                toneladaEditado: [],\r\n                valorEditado: [],\r\n                toneladaMeta: [],\r\n                valorMeta: [],\r\n              };\r\n\r\n              for (let i = 0; i < this.listagem.length; i++) {\r\n                if (this.listagem[i].linha != 'TOTAL LONGOS') {\r\n                  this.formEdit.toneladaEditado[i] = this.listagem[i][\r\n                    'toneladaEditado'\r\n                  ];\r\n                  this.formEdit.valorEditado[i] = this.listagem[i][\r\n                    'valorEditado'\r\n                  ];\r\n                  this.formEdit.toneladaMeta[i] = this.listagem[i][\r\n                    'toneladaMeta'\r\n                  ];\r\n                  this.formEdit.valorMeta[i] = this.listagem[i].valorMeta;\r\n                }\r\n              }\r\n\r\n              this.tooltipRitmo = `Dias úteis até hoje: ${response.data.dias.ateHoje}. Dias úteis no mês: ${response.data.dias.uteisMes}`;\r\n              this.tooltipRitmo = `<p class=\"mb-0\">Dias úteis até hoje: ${response.data.dias.ateHoje}.</p><p class=\"mb-0\">Dias úteis no mês: ${response.data.dias.uteisMes}.</p>`;\r\n              this.totalGeral = response.data.total;\r\n            } else {\r\n              this.listagemEmpty = true;\r\n            }\r\n          } else {\r\n            this.listagemEmpty = true;\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.listagemEmpty = true;\r\n          this.pnotifyService.error();\r\n        }\r\n      });\r\n  }\r\n\r\n  onExibir(podeEditar: number) {\r\n    return podeEditar === 1 ? true : false;\r\n  }\r\n\r\n  onLoadRitmoDBA(params: any) {\r\n    if (this.acessoDBAs === true) {\r\n      this.listagemDBALoaded = false;\r\n      this.listagemDBAEmpty = false;\r\n\r\n      this.posicaoDiariaService.getListaDBA(params.data).subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            this.listagemDBA = response.data.analitico;\r\n            this.totaisDBA = response.data.total;\r\n\r\n            this.listagemDBALoaded = true;\r\n          } else {\r\n            this.listagemDBAEmpty = true;\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  setDateFormValues(): void {\r\n    const dia =\r\n      this.form.value.data.getDate() < 10\r\n        ? `0${this.form.value.data.getDate()}`\r\n        : this.form.value.data.getDate();\r\n\r\n    const mes =\r\n      this.form.value.data.getMonth() + 1 < 10\r\n        ? `0${this.form.value.data.getMonth() + 1}`\r\n        : this.form.value.data.getMonth() + 1;\r\n\r\n    this.dtPesquisa = `${dia}/${mes}/${this.form.value['data'].getFullYear()}`;\r\n\r\n    this.mesAtual = `${this.dateService.getFullMonth(\r\n      this.form.value.data\r\n    )}/${this.form.value.data.getFullYear()}`;\r\n  }\r\n\r\n  onDetalhesFilter(detalhes: TemplateRef<any>, linha: string, ordem: number) {\r\n    this.loaderNavbar = true;\r\n    this.detalhesClasseLoaded = false;\r\n    this.detalhesClasseEmpty = false;\r\n    this.linha = ordem - 1;\r\n\r\n    this.posicaoDiariaService\r\n      .getDetalhesManetoni({\r\n        data: this.dateService.convertToUrlDate(new Date(this.form.value.data)),\r\n        ordem: ordem,\r\n      })\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            if (response.data.analitico && response.data.analitico.length > 0) {\r\n              this.detalhesTitulo = linha;\r\n              this.detalhesClasse = response.data.analitico;\r\n              this.detalhesTotais = response.data.total;\r\n              this.detalhesClasseLoaded = true;\r\n\r\n              setTimeout(() => {\r\n                this.openModal(detalhes);\r\n              }, 500);\r\n            } else {\r\n              this.detalhesClasseEmpty = true;\r\n            }\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.pnotifyService.error();\r\n          this.location.back();\r\n        }\r\n      });\r\n  }\r\n\r\n  openModal(detalhes: TemplateRef<any>) {\r\n    console.log(detalhes);\r\n    this.modalRef = this.modalService.show(\r\n      detalhes,\r\n      Object.assign(\r\n        {\r\n          ignoreBackdropClick: true,\r\n        },\r\n        { class: 'modal-lg' }\r\n      )\r\n    );\r\n  }\r\n\r\n  onModalClose() {\r\n    this.modalRef.hide();\r\n    this.linha = -1;\r\n  }\r\n\r\n  onSubmit() {\r\n    this.loaderNavbar = true;\r\n\r\n    let i: number = 0,\r\n      formObj: any = [];\r\n\r\n    while (i < 9) {\r\n      if (i != 6 && i != 8) {\r\n        formObj.push({\r\n          toneladaEditado: this.formEdit.toneladaEditado[i],\r\n          valorEditado: this.formEdit.valorEditado[i],\r\n          toneladaMeta: this.formEdit.toneladaMeta[i],\r\n          valorMeta: this.formEdit.valorMeta[i],\r\n        });\r\n      }\r\n\r\n      i++;\r\n    }\r\n\r\n    let params: any = {\r\n      dados: formObj,\r\n      periodo: this.dateService.convertToUrlDate(\r\n        new Date(this.form.value.data)\r\n      ),\r\n    };\r\n\r\n    if (params.dados.length > 0) {\r\n      this.posicaoDiariaService\r\n        .postRitmoEditado(params)\r\n        .pipe(\r\n          finalize(() => {\r\n            this.loaderNavbar = false;\r\n            this.setFormFilter();\r\n          })\r\n        )\r\n        .subscribe(\r\n          (reponse: JsonResponse) => {\r\n            if (reponse.success === true) {\r\n              this.pnotifyService.success('Dados salvos com sucesso.');\r\n            } else {\r\n              this.pnotifyService.notice(\r\n                'Dados não foram salvos, favor tentar novamente.'\r\n              );\r\n            }\r\n          },\r\n          (error: any) => {\r\n            this.pnotifyService.notice(\r\n              'Dados não foram salvos, favor tentar novamente.'\r\n            );\r\n          }\r\n        );\r\n    } else {\r\n      this.pnotifyService.notice('Favor verificar dados.');\r\n    }\r\n  }\r\n\r\n  onExport() {\r\n    let data = new Date().toLocaleDateString().split('/'),\r\n      dataExport = `${data[0]}${data[1]}${data[2]}`;\r\n\r\n    let dados: any = [],\r\n      listagemExport: any = [];\r\n\r\n    dados = this.listagem.concat(this.totalGeral);\r\n\r\n    dados.forEach((item, key) => {\r\n      listagemExport[key] = {\r\n        Linha: item.linha,\r\n        ToneladaHoje: item.toneladaHoje,\r\n        ValorHoje: item.valorHoje,\r\n        ToneladaMesAtual: item.toneladaMesAtual,\r\n        ValorMesAtual: item.valorMesAtual,\r\n        ToneladaRitmo: item.toneladaRitmo,\r\n        ValorRitmo: item.valorRitmo,\r\n        ToneladaEditado: item.toneladaEditado,\r\n        ValorEditado: item.valorEditado,\r\n        ToneladaMeta: item.toneladaMeta,\r\n        ValorMeta: item.valorMeta,\r\n        ToneladaMetaEditado: item.toneladaMetaEditado,\r\n        ValorMetaEditado: item.valorMetaEditado,\r\n      };\r\n    });\r\n\r\n    this.xlsxService.exportFile(listagemExport, `PosicaoDiaria_${dataExport}`);\r\n  }\r\n\r\n  classComparativo(value: number) {\r\n    let textClass = '';\r\n\r\n    if (value > 0) {\r\n      textClass = 'text-success';\r\n    } else if (value < 0) {\r\n      textClass = 'text-danger';\r\n    }\r\n\r\n    return textClass;\r\n  }\r\n\r\n  onFieldError(field: string): string {\r\n    if (this.onFieldInvalid(field)) {\r\n      return 'is-invalid';\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any): boolean {\r\n    field = this.form.get(field);\r\n\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onFieldRequired(field: string): string {\r\n    let required = false;\r\n    let formControl = new FormControl();\r\n\r\n    if (this.form.controls[field].validator) {\r\n      let validationResult = this.form.controls[field].validator(formControl);\r\n      required =\r\n        validationResult !== null && validationResult.required === true;\r\n    }\r\n\r\n    if (required) {\r\n      return 'is-required';\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\n// Components\r\nimport { ComercialRelatoriosPosicaoDiariaComponent } from './posicao-diaria.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: ComercialRelatoriosPosicaoDiariaComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ComercialRelatoriosPosicaoDiariaRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { registerLocaleData } from '@angular/common';\r\nimport localePt from '@angular/common/locales/pt';\r\n\r\nregisterLocaleData(localePt, 'pt-BR');\r\n\r\n// ngx-bootstrap\r\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\r\nimport { TabsModule } from 'ngx-bootstrap/tabs';\r\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\r\nimport { ModalModule } from 'ngx-bootstrap/modal';\r\n\r\n// ng2-currency-mask\r\nimport { CurrencyMaskModule } from 'ng2-currency-mask';\r\n\r\n// Modules\r\nimport { ComercialRelatoriosPosicaoDiariaRoutingModule } from './posicao-diaria-routing.module';\r\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\r\nimport { TemplatesModule } from 'src/app/shared/templates/templates.module';\r\n\r\n// Components\r\nimport { ComercialRelatoriosPosicaoDiariaComponent } from './posicao-diaria.component';\r\n\r\n@NgModule({\r\n  declarations: [ComercialRelatoriosPosicaoDiariaComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TooltipModule.forRoot(),\r\n    TabsModule.forRoot(),\r\n    BsDatepickerModule.forRoot(),\r\n    ModalModule.forRoot(),\r\n    CurrencyMaskModule,\r\n    ComercialRelatoriosPosicaoDiariaRoutingModule,\r\n    SharedModule,\r\n    TemplatesModule\r\n  ]\r\n})\r\nexport class ComercialRelatoriosPosicaoDiariaModule {}\r\n"],"sourceRoot":"webpack:///"}