{"version":3,"sources":["webpack:///src/app/modules/comercial/reenvio-xml/lista/lista.component.html","webpack:///src/app/modules/comercial/reenvio-xml/reenvio-xml.service.ts","webpack:///src/app/modules/comercial/reenvio-xml/reenvio-xml-routing.module.ts","webpack:///src/app/modules/comercial/reenvio-xml/lista/lista.component.ts","webpack:///src/app/modules/comercial/reenvio-xml/lista/lista.component.scss","webpack:///src/app/modules/comercial/comercial.service.ts","webpack:///src/app/modules/comercial/reenvio-xml/reenvio-xml.module.ts"],"names":["ComercialReenvioXmlService","http","API","get","pipe","params","record","put","providedIn","routes","path","component","ComercialReenvioXmlRoutingModule","imports","forChild","exports","ComercialReenvioXmlListaComponent","activatedRoute","router","location","reenvioXMLService","formBuilder","pnotifyService","atividadesService","titleService","comercialService","detailPanelService","loaderNavbar","loaderFullScreen","breadCrumbTree","descricao","routerLink","showDetailPanel","enviosTotal","mes","ultimo","ultimoEnvio","horaUltimoEnvio","minutosUltimoEnvio","empresas","notasFiscais","dataLoaded","dataEmpty","searchSubmitted","registrarAcesso","getFiltros","setFormFilter","setFormReagendar","listCounts","setTitle","onDetailPanelEmitter","showDetailPanelSubscription","unsubscribe","subscribe","config","event","showing","onCloseDetailPanel","getEmpresas","tipo","idEmpresa","next","response","responseCode","result","unshift","nomeEmpresa","error","back","formValue","checkRouterParams","formFilter","group","codEmpresa","required","numNota","formReagendar","email1","value","disabled","email","email2","email3","activatedRouteSubscription","queryParams","Object","keys","length","atob","JSON","parse","setSubmittedSearch","search","forEach","formKey","paramKey","isNaN","Number","getContadores","totalEnvios","enviosMes","split","toFixed","setRouterParams","hide","notaFiscal","getLista","notice","navigate","relativeTo","q","btoa","stringify","enviado","contatos","loadedFinished","pedido","controls","setValue","field","enable","validation","checkValidatorsReagendamento","valid","formObj","getRawValue","putReagendarEnvio","numNfe","success","selector","template","ComercialService","httpParams","param","append","ComercialReenvioXmlModule","declarations","forRoot","providers"],"mappings":"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","file":"reenvio-xml-reenvio-xml-module-es5.js","sourcesContent":["export default \"<loader-spinner-navbar *ngIf=\\\"loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<loader-spinner-full-screen *ngIf=\\\"loaderFullScreen\\\"></loader-spinner-full-screen>\\r\\n<app-header appTitle=\\\"Reenvio de XML\\\">\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onReagendarEnvio()\\\"\\r\\n    [disabled]=\\\"!showDetailPanel\\\">\\r\\n    Reagendar\\r\\n  </button>\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onFilter()\\\"\\r\\n    [disabled]=\\\"!formFilter.valid\\\">\\r\\n    Filtrar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\" [show]=\\\"!loaderFullScreen\\\">\\r\\n  <div class=\\\"row justify-content-center mb-2\\\">\\r\\n    <div class=\\\"col-md-5\\\">\\r\\n      <ul class=\\\"list-unstyled mb-0 d-flex justify-content-around\\\">\\r\\n        <li class=\\\"text-center px-3\\\">\\r\\n          <h6 class=\\\"text-muted font-weight-light\\\">Total de envios</h6>\\r\\n          <div class=\\\"text-success\\\">\\r\\n            <h4>\\r\\n              <strong\\r\\n                counto\\r\\n                [step]=\\\"30\\\"\\r\\n                [countTo]=\\\"enviosTotal\\\"\\r\\n                [countFrom]=\\\"0\\\"\\r\\n                [duration]=\\\"3\\\"\\r\\n                (countoChange)=\\\"countoEnviosTotal = $event\\\">\\r\\n                {{ handleCounter(countoEnviosTotal) }}\\r\\n              </strong>\\r\\n            </h4>\\r\\n          </div>\\r\\n        </li>\\r\\n        <li class=\\\"text-center px-3\\\">\\r\\n          <h6 class=\\\"text-muted font-weight-light\\\">Envios no mês</h6>\\r\\n          <div class=\\\"text-primary\\\">\\r\\n            <h4>\\r\\n              <strong\\r\\n                counto\\r\\n                [step]=\\\"30\\\"\\r\\n                [countTo]=\\\"mes\\\"\\r\\n                [countFrom]=\\\"0\\\"\\r\\n                [duration]=\\\"3\\\"\\r\\n                (countoChange)=\\\"countoMes = $event\\\">\\r\\n                {{ handleCounter(countoMes) }}\\r\\n              </strong>\\r\\n            </h4>\\r\\n          </div>\\r\\n        </li>\\r\\n        <li class=\\\"text-center px-3\\\">\\r\\n          <h6 class=\\\"text-muted font-weight-light\\\">Último envio</h6>\\r\\n          <div class=\\\"text-secondary\\\">\\r\\n            <h4 class=\\\"d-flex justify-content-center\\\">\\r\\n              <strong\\r\\n                counto\\r\\n                [step]=\\\"30\\\"\\r\\n                [countTo]=\\\"horaUltimoEnvio\\\"\\r\\n                [countFrom]=\\\"0\\\"\\r\\n                [duration]=\\\"3\\\"\\r\\n                (countoChange)=\\\"countoHoraUltimoEnvio = $event\\\">\\r\\n                {{ handleCounterHorario(countoHoraUltimoEnvio) }}\\r\\n              </strong>\\r\\n              :\\r\\n              <strong\\r\\n                counto\\r\\n                [step]=\\\"30\\\"\\r\\n                [countTo]=\\\"minutosUltimoEnvio\\\"\\r\\n                [countFrom]=\\\"0\\\"\\r\\n                [duration]=\\\"3\\\"\\r\\n                (countoChange)=\\\"countoMinutosUltimoEnvio = $event\\\">\\r\\n                {{ handleCounterHorario(countoMinutosUltimoEnvio) }}\\r\\n              </strong>\\r\\n            </h4>\\r\\n          </div>\\r\\n        </li>\\r\\n      </ul>\\r\\n    </div>\\r\\n  </div>\\r\\n  <advanced-filter>\\r\\n    <form [formGroup]=\\\"formFilter\\\" autocomplete=\\\"new-password\\\">\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"codEmpresa\\\">Empresa</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"empresas\\\"\\r\\n            formControlName=\\\"codEmpresa\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            labelForId=\\\"codEmpresa\\\"\\r\\n            bindLabel=\\\"nomeEmpresa\\\"\\r\\n            bindValue=\\\"idEmpresa\\\">\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"numNota\\\">Número da NF</label>\\r\\n          <input\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            formControlName=\\\"numNota\\\"\\r\\n            autocomplete=\\\"new-password\\\"\\r\\n            (keydown.enter)=\\\"onFilter()\\\">\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </advanced-filter>\\r\\n  <div class=\\\"row\\\">\\r\\n    <div [ngClass]=\\\"{'col-12': !showDetailPanel, 'col-7 pr-0': showDetailPanel}\\\">\\r\\n      <custom-table *ngIf=\\\"notasFiscais.length > 0 && !dataEmpty\\\">\\r\\n        <ng-template #thead let-thead>\\r\\n          <tr>\\r\\n            <th style=\\\"width: 5%;\\\" scope=\\\"col\\\"></th>\\r\\n            <th style=\\\"width: 15%;\\\" scope=\\\"col\\\" class=\\\"text-center\\\" [hidden]=\\\"showDetailPanel\\\">Unidade</th>\\r\\n            <th style=\\\"width: 10%;\\\" scope=\\\"col\\\" class=\\\"text-center\\\" [hidden]=\\\"showDetailPanel\\\">Enviado em</th>\\r\\n            <th style=\\\"width: 10%;\\\" scope=\\\"col\\\" class=\\\"text-center\\\" [hidden]=\\\"showDetailPanel\\\">Faturado em</th>\\r\\n            <th style=\\\"width: 15%;\\\" scope=\\\"col\\\" class=\\\"text-center\\\">Pedido / Nota</th>\\r\\n            <th style=\\\"width: 20%;\\\" scope=\\\"col\\\" class=\\\"text-center\\\">Cliente</th>\\r\\n            <th style=\\\"width: 25%;\\\" scope=\\\"col\\\" class=\\\"text-center\\\">Vendedor</th>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n        <ng-template #tbody let-tbody>\\r\\n          <tr *ngFor=\\\"let notaFiscal of notasFiscais\\\" [class.table-active]=\\\"notaFiscal.pedido == pedido\\\">\\r\\n            <td class=\\\"text-center\\\">\\r\\n              <i\\r\\n                class=\\\"text-black-50 fas fa-envelope mr-3\\\"\\r\\n                *ngIf=\\\"notaFiscal.enviado == 1\\\"\\r\\n                tooltip=\\\"E-mail enviado\\\"\\r\\n                placement=\\\"right\\\">\\r\\n              </i>\\r\\n              <i\\r\\n                class=\\\"text-warning far fa-envelope mr-3\\\"\\r\\n                *ngIf=\\\"notaFiscal.enviado == 0\\\"\\r\\n                tooltip=\\\"E-mail reagendado\\\"\\r\\n                placement=\\\"right\\\">\\r\\n              </i>\\r\\n            </td>\\r\\n            <td\\r\\n              class=\\\"text-center hover\\\"\\r\\n              (click)=\\\"viewDetails(notaFiscal)\\\"\\r\\n              [hidden]=\\\"showDetailPanel\\\">\\r\\n              {{ notaFiscal.empresa }}\\r\\n            </td>\\r\\n            <td\\r\\n              class=\\\"text-center hover\\\"\\r\\n              (click)=\\\"viewDetails(notaFiscal)\\\"\\r\\n              [hidden]=\\\"showDetailPanel\\\">\\r\\n              {{ notaFiscal.dtEnvio | date: 'dd/MM/yyyy' }}\\r\\n            </td>\\r\\n            <td\\r\\n              class=\\\"text-center hover\\\"\\r\\n              (click)=\\\"viewDetails(notaFiscal)\\\"\\r\\n              [hidden]=\\\"showDetailPanel\\\">\\r\\n              {{ notaFiscal.dtFaturamento | date: 'dd/MM/yyyy' }}\\r\\n            </td>\\r\\n            <td\\r\\n              class=\\\"text-center hover\\\"\\r\\n              (click)=\\\"viewDetails(notaFiscal)\\\">\\r\\n              {{ notaFiscal.pedido | number:'1.0-0' }} / {{ notaFiscal.numNfe | number:'1.0-0' }}\\r\\n            </td>\\r\\n            <td\\r\\n              class=\\\"text-center text-truncate hover\\\"\\r\\n              (click)=\\\"viewDetails(notaFiscal)\\\">\\r\\n              {{ notaFiscal.nomeFantasia }}\\r\\n            </td>\\r\\n            <td\\r\\n              class=\\\"text-center text-truncate hover\\\"\\r\\n              (click)=\\\"viewDetails(notaFiscal)\\\">\\r\\n              {{ notaFiscal.nomeVendedor }}\\r\\n            </td>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n      </custom-table>\\r\\n      <empty-result\\r\\n        class=\\\"my-3\\\"\\r\\n        message=\\\"Nenhuma informação encontrada\\\"\\r\\n        *ngIf=\\\"dataEmpty\\\">\\r\\n      </empty-result>\\r\\n    </div>\\r\\n    <div class=\\\"col-5\\\" [hidden]=\\\"!showDetailPanel\\\">\\r\\n      <detail-panel panelTitle=\\\"Dados para envio\\\">\\r\\n        <form [formGroup]=\\\"formReagendar\\\" autocomplete=\\\"off\\\">\\r\\n          <div class=\\\"border-right border-left border-bottom\\\">\\r\\n            <div class=\\\"px-3 py-2\\\">\\r\\n              <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col-10\\\">\\r\\n                  <label for=\\\"email1\\\">E-mail NFe</label>\\r\\n                  <input\\r\\n                    type=\\\"email\\\"\\r\\n                    class=\\\"form-control\\\"\\r\\n                    id=\\\"email1\\\"\\r\\n                    formControlName=\\\"email1\\\">\\r\\n                </div>\\r\\n                <div class=\\\"col-1 pt-4 d-flex justify-content-center\\\">\\r\\n                  <button\\r\\n                    type=\\\"button\\\"\\r\\n                    class=\\\"btn-icon-sm\\\"\\r\\n                    (click)=\\\"onEditEmail('email1')\\\">\\r\\n                    <i class=\\\"fas fa-edit\\\"></i>\\r\\n                  </button>\\r\\n                </div>\\r\\n                <div class=\\\"col-1 pt-4 d-flex justify-content-center\\\">\\r\\n                  <button\\r\\n                    type=\\\"button\\\"\\r\\n                    class=\\\"btn-icon-sm\\\"\\r\\n                    (click)=\\\"onDeleteEmail('email1')\\\">\\r\\n                    <i class=\\\"fas fa-trash\\\"></i>\\r\\n                  </button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"col\\\"><hr class=\\\"m-0\\\"></div>\\r\\n            </div>\\r\\n            <div class=\\\"px-3 py-2\\\">\\r\\n              <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col-10\\\">\\r\\n                  <label for=\\\"email2\\\">E-mail NFe</label>\\r\\n                  <input\\r\\n                    type=\\\"email\\\"\\r\\n                    class=\\\"form-control\\\"\\r\\n                    id=\\\"email2\\\"\\r\\n                    formControlName=\\\"email2\\\">\\r\\n                </div>\\r\\n                <div class=\\\"col-1 pt-4 d-flex justify-content-center\\\">\\r\\n                  <button\\r\\n                    type=\\\"button\\\"\\r\\n                    class=\\\"btn-icon-sm\\\"\\r\\n                    (click)=\\\"onEditEmail('email2')\\\">\\r\\n                    <i class=\\\"fas fa-edit\\\"></i>\\r\\n                  </button>\\r\\n                </div>\\r\\n                <div class=\\\"col-1 pt-4 d-flex justify-content-center\\\">\\r\\n                  <button\\r\\n                    type=\\\"button\\\"\\r\\n                    class=\\\"btn-icon-sm\\\"\\r\\n                    (click)=\\\"onDeleteEmail('email2')\\\">\\r\\n                    <i class=\\\"fas fa-trash\\\"></i>\\r\\n                  </button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"col\\\"><hr class=\\\"m-0\\\"></div>\\r\\n            </div>\\r\\n            <div class=\\\"px-3 py-2\\\">\\r\\n              <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col-10\\\">\\r\\n                  <label for=\\\"email3\\\">E-mail NFe</label>\\r\\n                  <input\\r\\n                    type=\\\"email\\\"\\r\\n                    class=\\\"form-control\\\"\\r\\n                    id=\\\"email3\\\"\\r\\n                    formControlName=\\\"email3\\\">\\r\\n                </div>\\r\\n                <div class=\\\"col-1 pt-4 d-flex justify-content-center\\\">\\r\\n                  <button\\r\\n                    type=\\\"button\\\"\\r\\n                    class=\\\"btn-icon-sm\\\"\\r\\n                    (click)=\\\"onEditEmail('email3')\\\">\\r\\n                    <i class=\\\"fas fa-edit\\\"></i>\\r\\n                  </button>\\r\\n                </div>\\r\\n                <div class=\\\"col-1 pt-4 d-flex justify-content-center\\\">\\r\\n                  <button\\r\\n                    type=\\\"button\\\"\\r\\n                    class=\\\"btn-icon-sm\\\"\\r\\n                    (click)=\\\"onDeleteEmail('email3')\\\">\\r\\n                    <i class=\\\"fas fa-trash\\\"></i>\\r\\n                  </button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </detail-panel>\\r\\n    </div>\\r\\n  </div>\\r\\n</app-body>\\r\\n\";","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { take } from 'rxjs/operators';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ComercialReenvioXmlService {\r\n  private readonly API = `https://crm360.monterrey.com.bo/api/comercial/reenvio-xml`;\r\n\r\n  constructor(protected http: HttpClient) {}\r\n\r\n  getContadores() {\r\n    return this.http.get(`${this.API}/contadores`).pipe(take(1));\r\n  }\r\n\r\n  getLista(params: any) {\r\n    return this.http\r\n      .get(`${this.API}/lista/${params['codEmpresa']}/${params['numNota']}`)\r\n      .pipe(take(1));\r\n  }\r\n\r\n  putReagendarEnvio(record: any) {\r\n    return this.http.put(`${this.API}/reagendar-envio`, record).pipe(take(1));\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\n// Components\r\nimport { ComercialReenvioXmlListaComponent } from './lista/lista.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: ComercialReenvioXmlListaComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ComercialReenvioXmlRoutingModule {}\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Location } from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { ComercialReenvioXmlService } from '../reenvio-xml.service';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\nimport { TitleService } from 'src/app/shared/services/core/title.service';\r\nimport { ComercialService } from '../../comercial.service';\r\nimport { DetailPanelService } from 'src/app/shared/templates/detail-panel/detal-panel.service';\r\n\r\n// Interfaces\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\nimport { ReenvioXml } from '../models/reenvio-xml';\r\n\r\n@Component({\r\n  selector: 'comercial-reenvio-xml-lista',\r\n  templateUrl: './lista.component.html',\r\n  styleUrls: ['./lista.component.scss']\r\n})\r\nexport class ComercialReenvioXmlListaComponent implements OnInit, OnDestroy {\r\n  loaderNavbar = false;\r\n  loaderFullScreen = true;\r\n\r\n  breadCrumbTree: Array<Breadcrumb> = [\r\n    {\r\n      descricao: 'Home',\r\n      routerLink: '/comercial/home'\r\n    },\r\n    {\r\n      descricao: 'Reenvio de XML'\r\n    }\r\n  ];\r\n\r\n  showDetailPanelSubscription: Subscription;\r\n  showDetailPanel = false;\r\n\r\n  enviosTotal = 0;\r\n  mes = 0;\r\n  ultimo = 0;\r\n  ultimoEnvio = 0;\r\n  horaUltimoEnvio = 0;\r\n  minutosUltimoEnvio = 0;\r\n\r\n  countoEnviosTotal: number;\r\n  countoMes: number;\r\n  countoHoraUltimoEnvio: number;\r\n  countoMinutosUltimoEnvio: number;\r\n\r\n  formFilter: FormGroup;\r\n  empresas: Array<any> = [];\r\n\r\n  notasFiscais: Array<ReenvioXml> = [];\r\n  dataLoaded = false;\r\n  dataEmpty = false;\r\n  searchSubmitted = false;\r\n\r\n  formReagendar: FormGroup;\r\n\r\n  notaFiscal: any;\r\n  pedido: number;\r\n\r\n  activatedRouteSubscription: Subscription;\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private location: Location,\r\n    private reenvioXMLService: ComercialReenvioXmlService,\r\n    private formBuilder: FormBuilder,\r\n    private pnotifyService: PNotifyService,\r\n    private atividadesService: AtividadesService,\r\n    private titleService: TitleService,\r\n    private comercialService: ComercialService,\r\n    private detailPanelService: DetailPanelService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.registrarAcesso();\r\n    this.getFiltros();\r\n    this.setFormFilter();\r\n    this.setFormReagendar();\r\n    this.listCounts();\r\n    this.titleService.setTitle('Reenvio de XML');\r\n    this.onDetailPanelEmitter();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.showDetailPanelSubscription.unsubscribe();\r\n  }\r\n\r\n  registrarAcesso(): void {\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n  }\r\n\r\n  onDetailPanelEmitter(): void {\r\n    this.showDetailPanelSubscription = this.detailPanelService.config.subscribe(\r\n      (event: any) => {\r\n        this.showDetailPanel = event.showing;\r\n\r\n        if (this.showDetailPanel === false) {\r\n          this.onCloseDetailPanel();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  getFiltros(): void {\r\n    this.comercialService\r\n      .getEmpresas({ tipo: 'search', idEmpresa: '4,6,18,55,79,77,83' })\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderFullScreen = false;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: any) => {\r\n          if (response.responseCode === 200) {\r\n            this.empresas = response.result;\r\n\r\n            this.empresas.unshift({\r\n              idEmpresa: 0,\r\n              nomeEmpresa: 'EXIBIR TODOS'\r\n            });\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.pnotifyService.error();\r\n          this.location.back();\r\n        }\r\n      });\r\n  }\r\n\r\n  setFormFilter(): void {\r\n    const formValue: any = this.checkRouterParams();\r\n\r\n    this.formFilter = this.formBuilder.group({\r\n      codEmpresa: [formValue.codEmpresa, Validators.required],\r\n      numNota: [formValue.numNota, Validators.required]\r\n    });\r\n  }\r\n\r\n  setFormReagendar(): void {\r\n    this.formReagendar = this.formBuilder.group({\r\n      email1: [{ value: null, disabled: true }, [Validators.email]],\r\n      email2: [{ value: null, disabled: true }, [Validators.email]],\r\n      email3: [{ value: null, disabled: true }, [Validators.email]]\r\n    });\r\n  }\r\n\r\n  checkRouterParams(): Object {\r\n    let formValue = {\r\n      codEmpresa: null,\r\n      numNota: null\r\n    };\r\n\r\n    this.activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      queryParams => {\r\n        if (Object.keys(queryParams).length > 0) {\r\n          let params = atob(queryParams['q']);\r\n          params = JSON.parse(params);\r\n          this.setSubmittedSearch();\r\n          this.search(params);\r\n\r\n          Object.keys(formValue).forEach(formKey => {\r\n            Object.keys(params).forEach(paramKey => {\r\n              if (\r\n                formKey == paramKey &&\r\n                formValue[formKey] != params[paramKey]\r\n              ) {\r\n                if (!isNaN(Number(params[paramKey]))) {\r\n                  formValue[formKey] = Number(params[paramKey]);\r\n                } else {\r\n                  formValue[formKey] = params[paramKey];\r\n                }\r\n              }\r\n            });\r\n          });\r\n        }\r\n      }\r\n    );\r\n    this.activatedRouteSubscription.unsubscribe();\r\n\r\n    return formValue;\r\n  }\r\n\r\n  listCounts(): void {\r\n    this.reenvioXMLService.getContadores().subscribe((response: any) => {\r\n      if (response.responseCode === 200) {\r\n        this.enviosTotal = response.result.totalEnvios;\r\n        this.mes = response.result.enviosMes;\r\n\r\n        let ultimoEnvio = response.result.ultimoEnvio.split(':');\r\n\r\n        this.horaUltimoEnvio = ultimoEnvio[0];\r\n        this.minutosUltimoEnvio = ultimoEnvio[1];\r\n      }\r\n    });\r\n  }\r\n\r\n  handleCounter(value: any): void {\r\n    return value.toFixed(0);\r\n  }\r\n\r\n  handleCounterHorario(value: any): void {\r\n    value = value.toFixed(0);\r\n\r\n    if (value < 10) {\r\n      value = `0${value}`;\r\n    }\r\n\r\n    return value;\r\n  }\r\n\r\n  onFilter(): void {\r\n    this.setRouterParams(this.formFilter.value);\r\n    this.setSubmittedSearch();\r\n  }\r\n\r\n  search(params: any): void {\r\n    if (this.searchSubmitted) {\r\n      this.loaderNavbar = true;\r\n      this.dataLoaded = false;\r\n      this.dataEmpty = false;\r\n      this.detailPanelService.hide();\r\n      this.notaFiscal = [];\r\n\r\n      this.reenvioXMLService\r\n        .getLista(params)\r\n        .pipe(\r\n          finalize(() => {\r\n            this.loaderNavbar = false;\r\n          })\r\n        )\r\n        .subscribe({\r\n          next: (response: any) => {\r\n            if (response.responseCode === 200) {\r\n              if (Object.keys(response.result).length > 0) {\r\n                this.notasFiscais = response.result;\r\n                this.dataLoaded = true;\r\n              } else {\r\n                this.dataEmpty = true;\r\n              }\r\n            } else if (response.responseCode === 206) {\r\n              this.pnotifyService.notice(\r\n                'Nota fiscal não faz parte dos seus clientes.'\r\n              );\r\n              this.dataEmpty = true;\r\n            } else if (response.responseCode === 204) {\r\n              this.dataEmpty = true;\r\n            }\r\n          },\r\n          error: (error: any) => {\r\n            this.pnotifyService.error('Erro ao carregar dados');\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  setRouterParams(params: any): void {\r\n    this.router.navigate([], {\r\n      relativeTo: this.activatedRoute,\r\n      queryParams: { q: btoa(JSON.stringify(params)) }\r\n    });\r\n    this.setSubmittedSearch();\r\n    this.search(params);\r\n  }\r\n\r\n  setSubmittedSearch(): void {\r\n    this.searchSubmitted = true;\r\n  }\r\n\r\n  viewDetails(notaFiscal: ReenvioXml): void {\r\n    if (\r\n      notaFiscal.enviado == 1 ||\r\n      (notaFiscal.enviado == 0 &&\r\n        notaFiscal.contatos.email1 == '' &&\r\n        notaFiscal.contatos.email2 == '' &&\r\n        notaFiscal.contatos.email3 == '')\r\n    ) {\r\n      this.detailPanelService.loadedFinished(false);\r\n      this.notaFiscal = notaFiscal;\r\n      this.pedido = notaFiscal.pedido;\r\n\r\n      this.formReagendar.controls.email1.setValue(notaFiscal.contatos.email1);\r\n      this.formReagendar.controls.email2.setValue(notaFiscal.contatos.email2);\r\n      this.formReagendar.controls.email3.setValue(notaFiscal.contatos.email3);\r\n    } else {\r\n      this.pnotifyService.notice('Essa nota fiscal já foi reagendada.');\r\n    }\r\n  }\r\n\r\n  onEditEmail(field: string): void {\r\n    this.formReagendar.controls[field].enable();\r\n  }\r\n\r\n  onDeleteEmail(field: string): void {\r\n    this.formReagendar.controls[field].setValue(null);\r\n  }\r\n\r\n  onCloseDetailPanel(): void {\r\n    this.notaFiscal = [];\r\n    this.pedido = null;\r\n\r\n    this.formReagendar.controls.email1.setValue(null);\r\n    this.formReagendar.controls.email2.setValue(null);\r\n    this.formReagendar.controls.email3.setValue(null);\r\n  }\r\n\r\n  checkValidatorsReagendamento(): boolean {\r\n    let validation = true;\r\n\r\n    if (\r\n      (this.formReagendar.value.email1 == '' ||\r\n        this.formReagendar.value.email1 == null) &&\r\n      (this.formReagendar.value.email2 == '' ||\r\n        this.formReagendar.value.email2 == null) &&\r\n      (this.formReagendar.value.email3 == '' ||\r\n        this.formReagendar.value.email3 == null)\r\n    ) {\r\n      validation = false;\r\n    }\r\n\r\n    return validation;\r\n  }\r\n\r\n  onReagendarEnvio(): void {\r\n    if (!this.checkValidatorsReagendamento()) {\r\n      this.pnotifyService.notice('Informe pelo menos um e-mail.');\r\n      return;\r\n    }\r\n\r\n    if (this.formReagendar.valid) {\r\n      this.loaderNavbar = true;\r\n      const formObj = this.formReagendar.getRawValue();\r\n\r\n      this.reenvioXMLService\r\n        .putReagendarEnvio({\r\n          idEmpresa: this.notaFiscal.idEmpresa,\r\n          pedido: this.notaFiscal.pedido,\r\n          email1: formObj.email1,\r\n          email2: formObj.email2,\r\n          email3: formObj.email3\r\n        })\r\n        .pipe(\r\n          finalize(() => {\r\n            this.loaderNavbar = false;\r\n            this.search({\r\n              codEmpresa: this.notaFiscal.idEmpresa,\r\n              numNota: this.notaFiscal.numNfe\r\n            });\r\n          })\r\n        )\r\n        .subscribe({\r\n          next: (response: any) => {\r\n            if (response.responseCode === 200) {\r\n              this.pnotifyService.success('O envio do e-mail foi reagendado.');\r\n            } else {\r\n              this.pnotifyService.error(\r\n                'Ocorreu um erro ao reagendar o envio.'\r\n              );\r\n            }\r\n          },\r\n          error: (error: any) => {\r\n            this.pnotifyService.error('Ocorreu um erro ao reagendar o envio.');\r\n          }\r\n        });\r\n    }\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL3JlZW52aW8teG1sL2xpc3RhL2xpc3RhLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { take, retry } from 'rxjs/operators';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialService {\r\n  private readonly API = `https://crm360.monterrey.com.bo/api/comercial`;\r\n\r\n  constructor(protected http: HttpClient) {}\r\n\r\n  getEmpresas(params?: any): Observable<Object> {\r\n    let httpParams = new HttpParams();\r\n\r\n    for (let param in params) {\r\n      httpParams = httpParams.append(param, params[param]);\r\n    }\r\n\r\n    return this.http\r\n      .get(`${this.API}/empresas`, {\r\n        params: httpParams,\r\n      })\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getDepositos(params: any): Observable<Object> {\r\n    let httpParams = new HttpParams();\r\n\r\n    for (let param in params) {\r\n      httpParams = httpParams.append(param, params[param]);\r\n    }\r\n\r\n    return this.http\r\n      .get(`${this.API}/depositos`, {\r\n        params: httpParams,\r\n      })\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getLinhas(params: any): Observable<Object> {\r\n    let httpParams = new HttpParams();\r\n\r\n    for (let param in params) {\r\n      httpParams = httpParams.append(param, params[param]);\r\n    }\r\n\r\n    return this.http\r\n      .get(`${this.API}/linhas`, {\r\n        params: httpParams,\r\n      })\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getClasses(params: any): Observable<Object> {\r\n    let httpParams = new HttpParams();\r\n\r\n    for (let param in params) {\r\n      httpParams = httpParams.append(param, params[param]);\r\n    }\r\n\r\n    return this.http\r\n      .get(`${this.API}/classes`, {\r\n        params: httpParams,\r\n      })\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getMateriais(params: any = []): Observable<Object | JsonResponse> {\r\n    let httpParams = new HttpParams();\r\n\r\n    for (let param in params) {\r\n      httpParams = httpParams.append(param, params[param]);\r\n    }\r\n\r\n    return this.http\r\n      .get(`${this.API}/materiais`, { params: httpParams })\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getPerfil(): Observable<Object> {\r\n    return this.http.get(`${this.API}/perfil`).pipe(take(1), retry(2));\r\n  }\r\n\r\n  getEscritorios(): Observable<Object> {\r\n    return this.http.get(`${this.API}/escritorios`).pipe(take(1), retry(2));\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n// ngx-bootstrap\r\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\r\n\r\n// ng-select\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\n// Counto\r\nimport { CountoModule } from 'angular2-counto';\r\n\r\n// PNotify\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\n\r\n// Modules\r\nimport { ComercialReenvioXmlRoutingModule } from './reenvio-xml-routing.module';\r\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\r\nimport { TemplatesModule } from 'src/app/shared/templates/templates.module';\r\n\r\n// Components\r\nimport { ComercialReenvioXmlListaComponent } from './lista/lista.component';\r\n\r\n@NgModule({\r\n  declarations: [ComercialReenvioXmlListaComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TooltipModule.forRoot(),\r\n    NgSelectModule,\r\n    CountoModule,\r\n    ComercialReenvioXmlRoutingModule,\r\n    SharedModule,\r\n    TemplatesModule\r\n  ],\r\n  providers: [PNotifyService]\r\n})\r\nexport class ComercialReenvioXmlModule {}\r\n"]}