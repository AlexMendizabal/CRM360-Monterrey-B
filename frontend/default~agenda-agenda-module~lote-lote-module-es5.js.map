{"version":3,"sources":["webpack:///node_modules/angular-calendar/date-adapters/date-fns/index.js","webpack:///node_modules/create-point-cb/dist/bundle.js","webpack:///node_modules/positioning/dist/entry.js","webpack:///node_modules/type-func/dist/bundle.js","webpack:///node_modules/dom-plane/dist/bundle.js","webpack:///node_modules/angular-draggable-droppable/fesm2015/angular-draggable-droppable.js","webpack:///node_modules/is-array/index.js","webpack:///node_modules/dom-set/dist/bundle.js","webpack:///node_modules/positioning/dist/positioning.js","webpack:///node_modules/@angular/common/locales/es-BO.js","webpack:///node_modules/calendar-utils/date-adapters/date-fns/index.js","webpack:///node_modules/animation-frame-polyfill/lib/animation-frame-polyfill.cjs.js","webpack:///node_modules/angular-calendar/fesm2015/angular-calendar.js","webpack:///node_modules/array-from/polyfill.js","webpack:///node_modules/angularx-flatpickr/fesm2015/angularx-flatpickr.js","webpack:///node_modules/calendar-utils/calendar-utils.js","webpack:///node_modules/dom-autoscroller/dist/bundle.js","webpack:///node_modules/array-from/index.js","webpack:///node_modules/dom-mousemove-dispatcher/dist/bundle.js","webpack:///node_modules/iselement/module/index.js","webpack:///node_modules/angular-resizable-element/fesm2015/angular-resizable-element.js","webpack:///node_modules/flatpickr/dist/flatpickr.js"],"names":["Object","defineProperty","exports","value","tslib_1","date_fns_1","date_fns_2","adapterFactory","__assign","addWeeks","addMonths","subDays","subWeeks","subMonths","getISOWeek","setDate","setMonth","setYear","getDate","getYear","typeFunc","createPointCB","object","options","allowUpdate","pointCB","event","window","target","srcElement","originalTarget","element","type","targetTouches","x","clientX","y","clientY","pageX","pageY","screenX","screenY","eventDoc","ownerDocument","document","doc","documentElement","body","scrollLeft","clientLeft","scrollTop","clientTop","module","getDef","f","d","boolean","func","def","_len","arguments","length","args","Array","_key","apply","integer","_len2","_key2","n","parseInt","string","_len3","_key3","_interopDefault","ex","createPointCb","createWindowRect","props","top","enumerable","left","right","innerWidth","bottom","innerHeight","width","height","create","rect","defineProperties","getClientRect","el","getBoundingClientRect","undefined","e","TypeError","pointInside","point","DraggableHelper","currentDrag","decorators","providedIn","ngInjectableDef","factory","DraggableHelper_Factory","token","DraggableScrollContainerDirective","elementRef","renderer","zone","activeLongPressDrag","longPressConfig","duration","delta","cancelledScroll","runOutsideAngular","listen","nativeElement","cancelable","preventDefault","setStyle","containerHasHorizontalScroll","scrollWidth","clientWidth","containerHasVerticalScroll","scrollHeight","clientHeight","selector","ctorParameters","propDecorators","DraggableDirective","draggableHelper","vcr","scrollContainer","dragAxis","dragSnapGrid","ghostDragEnabled","showOriginalElementWhileDragging","dragCursor","dragPointerDown","dragStart","ghostElementCreated","dragging","dragEnd","pointerDown$","pointerMove$","pointerUp$","eventListenerSubscriptions","destroy$","timeLongPress","timerBegin","timerEnd","checkEventListeners","pointerDragged$","pipe","canDrag","pointerDownEvent","stopPropagation","startScrollPosition","getScrollPosition","scrollContainerScroll$","observer","next","currentDrag$","cancelDrag$","run","dragComplete$","pointerMove","pointerMoveEvent","scroll","transformX","transformY","moveData","Math","round","scrollX","scrollY","assign","validateDrag","transform","dragStarted$","dragEnded$","subscribe","scroller","defaultView","margin","autoScroll","addClass","dragActiveClass","clone","cloneNode","ghostElementAppendTo","appendChild","parentNode","insertBefore","nextSibling","ghostElement","style","cursor","setElementStyles","position","willChange","pointerEvents","ghostElementTemplate","viewRef","createEmbeddedView","innerHTML","rootNodes","filter","node","Node","forEach","remove","indexOf","emit","parentElement","removeChild","dragEndData","dragEndData$","calledCount","dragCancelled","complete","destroy","removeClass","selectionStart$","previous","dropData","changes","unsubscribeEventListeners","hasEventListeners","keys","mousedown","onMouseDown","mouseup","onMouseUp","touchstart","onTouchStart","touchend","onTouchEnd","touchcancel","mouseenter","onMouseEnter","mouseleave","onMouseLeave","mousemove","mouseMoveEvent","hasContainerScrollbar","isDragActivated","Date","now","hasScrollbar","touchmove","touchMoveEvent","shouldBeginDrag","touches","enableScroll","changedTouches","setCursor","styles","key","pageYOffset","pageXOffset","moveScrollPosition","deltaScroll","abs","deltaX","deltaY","deltaTotal","disableScroll","isCoordinateWithinRectangle","DroppableDirective","dragEnter","dragLeave","dragOver","drop","currentDragSubscription","drag$","droppableElement","updateCache","deregisterScrollListener","currentDragDropData","overlaps$","scrollContainerRect","isWithinElement","overlapsChanged$","dragOverActive","overlapsNow","dragOverClass","didOverlap","unsubscribe","DragAndDropModule","declarations","isArray","str","prototype","toString","val","call","arrayFrom","isElement","_typeof","Symbol","iterator","obj","constructor","isElement$1","input","nodeType","select","querySelector","selectAll","slice","querySelectorAll","map","indexOfElement","elements","resolveElement","i","hasElement","domListOf","arr","Error","concatElementLists","lists","len","reduce","last","list","concat","pushElements","toAdd","push","addElements","removeElements","toRemove","index","splice","noThrow","Positioning","getAllStyles","getComputedStyle","getStyle","prop","isStaticPositioned","offsetParent","offsetParentEl","elPosition","parentOffset","offset","elBcr","viewportOffset","elOffset","offsetHeight","offsetWidth","positionElements","hostElement","targetElement","placement","appendToBody","_a","split","_b","placementPrimary","_c","placementSecondary","hostElPosition","targetElStyles","marginTop","parseFloat","marginBottom","marginLeft","marginRight","topPosition","leftPosition","targetElBCR","html","windowHeight","windowWidth","placementSeparator","positionService","baseClass","placementVals","allowedPlacements","classList","addClassesToTarget","targetPlacement","primary","secondary","classes","classname","add","placementToRemove","hasAuto","findIndex","find","search","testPlacement","isInViewport","_i","placementVals_1","addedClasses","v","require","u","plural","addDays","addHours","addMinutes","addSeconds","differenceInDays","differenceInMinutes","differenceInSeconds","endOfDay","endOfMonth","endOfWeek","getDay","getMonth","isSameDay","isSameMonth","isSameSecond","max","setHours","setMinutes","startOfDay","startOfMinute","startOfMonth","startOfWeek","getHours","getMinutes","prefix","requestAnimationFrame","limit","lastTime","callback","getTime","ttc","timer","setTimeout","bind","cancelAnimationFrame","clearTimeout","CalendarEventActionsComponent","trackByActionId","action","id","template","CalendarEventTitleComponent","String","CalendarTooltipWindowComponent","CalendarTooltipDirective","injector","componentFactoryResolver","viewContainerRef","delay","cancelTooltipDelay$","tooltipFactory","resolveComponentFactory","tooltipRef","contents","customTemplate","instance","changeDetectorRef","markForCheck","hide","delay$","show","createComponent","location","positionTooltip","hostView","previousPositions","detectChanges","children","Boolean","Number","Function","DateAdapter","CalendarView","validateEvents","events","warn","console","isInside","outer","inner","floor","ceil","roundToNearest","amount","precision","trackByEventId","trackByWeekDayHeaderDate","day","date","toISOString","trackByHourSegment","segment","trackByHour","hour","segments","trackByWeekAllDayEvent","weekEvent","trackByWeekTimeEvent","MINUTES_IN_HOUR","getPixelAmountInMinutes","hourSegments","hourSegmentHeight","getMinutesMoved","movedY","eventSnapSize","draggedInPixelsSnapSize","pixelAmountInMinutes","getMinimumEventHeightInMinutes","getDefaultEventEnd","dateAdapter","minimumMinutes","end","start","addDaysWithExclusions","days","excluded","daysCounter","daysToAdd","changeDays","result","isDraggedWithinPeriod","newStart","newEnd","period","shouldFireDroppedEvent","dropEvent","allDay","calendarId","getWeekViewPeriod","viewDate","weekStartsOn","daysInWeek","viewStart","viewEnd","isWithinThreshold","DRAG_THRESHOLD","CalendarPreviousViewDirective","excludeDays","viewDateChange","subFn","week","month","view","Day","Week","CalendarNextViewDirective","addFn","CalendarTodayDirective","CalendarAngularDateFormatter","locale","format","dateToFormat","showYear","getUTCFullYear","CalendarDateFormatter","CalendarDatePipe","dateFormatter","method","allowedMethods","getOwnPropertyNames","getPrototypeOf","iMethod","join","name","CalendarEventTitleFormatter","title","CalendarEventTitlePipe","calendarEventTitle","titleType","ClickDirective","elm","clickListenerDisabled","click","KeydownEnterDirective","keydown","keyCode","which","KeyboardEvent","CalendarUtils","CalendarA11y","i18nPlural","badgeTotal","other","allDayEventDescription","aria","a11yLabel","CalendarA11yPipe","calendarA11y","a11yParams","MOMENT","CalendarMomentDateFormatter","moment","CalendarNativeDateFormatter","Intl","DateTimeFormat","weekday","year","CalendarEventTimesChangedEventType","CalendarCommonModule_1","CalendarCommonModule","config","ngModule","providers","eventTitleFormatter","utils","a11y","imports","entryComponents","CalendarMonthViewComponent","cdr","activeDayIsOpen","tooltipPlacement","tooltipAppendToBody","tooltipDelay","beforeViewRender","dayClicked","eventClicked","columnHeaderClicked","eventTimesChanged","trackByRowOffset","totalDaysVisibleInWeek","trackByDate","refresh","refreshSubscription","refreshAll","refreshHeader","weekendDays","refreshBody","emitBeforeViewRender","activeDay","checkActiveDayIsOpen","isHighlighted","backgroundColor","color","droppedOn","draggedFrom","secondsDiff","Drop","columnHeaders","getWeekViewHeader","getMonthView","openDay","openRowIndex","header","CalendarMonthViewHeaderComponent","CalendarMonthCellComponent","highlightDay","unhighlightDay","host","collapseAnimation","overflow","CalendarOpenDayEventsComponent","isOpen","animations","CalendarMonthModule","CalendarDragHelper","dragContainerElement","draggableElement","startPosition","snapDraggedEvents","dragAlreadyMoved","newRect","CalendarResizeHelper","resizeContainerElement","minWidth","rectangle","CalendarWeekViewComponent","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","dayHeaderClicked","hourSegmentClicked","allDayEventResizes","Map","timeEventResizes","eventDragEnterByType","time","dragActive","trackByHourColumn","column","hours","trackById","row","eventsContainer","dayColumnWidth","getDayColumnWidth","resizeHelper","validateResize","timeEvent","resizeEvent","set","resizeStarted","adjustedEvents","tempEvents","lastResizeEvent","newEventDates","getTimeEventResizedDates","adjustedEvent","eventIndex","restoreOriginalEvents","getWeekView","get","Resize","allDayEventsContainer","allDayEvent","originalOffset","originalSpan","span","edge","edges","dayWidth","currentResize","diff","allDayEventResizingBeforeStart","daysDiff","eventRowContainer","lastDragEnterDate","dayEvent","dragHelper","size","hourColumns","linkedEvent","columnEvent","dragEvent","newEventTimes","getDragMovedEventTimes","originalEvent","dragEndEvent","useY","Drag","absolutePositionedEvents","dayStart","minute","dayEnd","segmentHeight","daysDragged","minutesMoved","previousView","adjustedEventsArray","has","columnIndex","hourIndex","segmentIndex","cssClass","existingColumnEvent","startsBeforeDay","endsAfterDay","clear","calendarEvent","minimumEventHeight","eventWithoutEnd","smallestResizes","CalendarWeekViewHeaderComponent","eventDropped","CalendarWeekViewEventComponent","CalendarWeekViewHourSegmentComponent","CalendarWeekViewCurrentTimeMarkerComponent","columnDate$","columnDate","marker$","hourHeightModifier","isVisible","currentValue","CalendarWeekModule","CalendarDayViewComponent","CalendarDayModule","CalendarModule_1","CalendarModule","isCallable","fn","toInteger","number","isNaN","isFinite","maxSafeInteger","pow","toLength","min","iteratorProp","getMethod","O","P","iteratorStep","done","from","items","C","mapFn","T","A","k","usingIterator","nextValue","arrayLike","kValue","FlatpickrDefaults","altFormat","altInput","altInputClass","allowInput","appendTo","ariaDateFormat","clickOpens","dateFormat","defaultHour","defaultMinute","disable","disableMobile","enable","enableTime","enableSeconds","formatDate","hourIncrement","inline","maxDate","minDate","minuteIncrement","mode","nextArrow","noCalendar","prevArrow","shorthandCurrentMonth","time24hr","utc","weekNumbers","wrap","plugins","convertModelValue","showMonths","FLATPICKR_CONTROL_VALUE_ACCESSOR","provide","useExisting","FlatpickrDirective","multi","defaults","flatpickrReady","flatpickrChange","flatpickrValueUpdate","flatpickrOpen","flatpickrClose","flatpickrMonthChange","flatpickrYearChange","flatpickrDayCreate","isDisabled","onChangeFn","onTouchedFn","defaultDate","initialValue","parseDate","getWeek","onChange","selectedDates","dateString","onOpen","onClose","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate","dayElement","time_24hr","setDisabledState","inputKey","convertedValue","to","setProperty","_input","removeAttribute","dates","l10n","rangeSeparator","inputChanged","USER_DEFAULTS","defaultsFactory","userDefaults","FlatpickrModule","useValue","useFactory","deps","t","s","p","hasOwnProperty","DAYS_OF_WEEK","DEFAULT_WEEKEND_DAYS","SUNDAY","SATURDAY","DAYS_IN_WEEK","HOURS_IN_DAY","SECONDS_IN_DAY","getExcludedSeconds","startDate","seconds","endDate","current","_loop_1","some","excludedDay","calculateExcludedSeconds","getWeekViewEventSpan","startOfWeekDate","totalDaysInView","begin","offsetSeconds","totalLength","secondsInView","getWeekViewEventOffset","isEventIsPeriod","periodStart","periodEnd","eventStart","eventEnd","getEventsInPeriod","getWeekDay","today","isPast","isToday","isFuture","isWeekend","_d","getDifferenceInDaysWithExclusions","date1","date2","getAllDayWeekEvents","eventsInPeriod","maxRange","eventsMapped","entry","startsBeforeWeek","endsAfterWeek","sort","itemA","itemB","startSecondsDiff","allDayEventRows","allocatedEvents","rowSpan_1","otherRowEvents","nextEvent","nextEventOffset","weekEvents","getWeekViewHourGrid","dayViewHourGrid","getDayViewHourGrid","weekDays","dayView","getDayView","eventWidth","getColumnCount","allEvents","prevOverlappingEvents","columnCount","iEvent","nextOverlappingEvents","getOverLappingWeekViewEvents","mappedEvents","overLappingEvents","otherEvent","_e","_f","_g","eventsInMonth","initialViewDays","previousDate","_loop_2","inMonth","isRowInMonth","rows","rowOffsets","previousEvent","previousEventTop","previousEventBottom","startOfView","sanitiseHours","sanitiseMinutes","endOfView","previousDayEvents","dayViewEvents","eventA","eventB","valueOf","eventOffset","getTimezoneOffset","startOffset","overlappingPreviousEvents","allDayEvents","minutes","segmentDuration","startOfViewDay","endOfViewDay","dateAdjustment","j","displayDate","isStart","EventValidationErrorMessage","log","isValid","isError","msg","NotArray","StartPropertyMissing","StartPropertyNotDate","EndPropertyNotDate","EndsBeforeStart","animationFramePolyfill","domSet","domPlane","mousemoveDispatcher","AutoScroller","self","maxSpeed","scrolling","scrollWhenOutside","dispatcher","down","addEventListener","syncMove","forceCleanAnimation","removeEventListener","onDown","onUp","onMouseOut","onMove","setScroll","cleanAnimation","hasWindow","windowAnimationFrame","temp","animationFrame","getTarget","getElementUnderPoint","underPoint","inside","scrollWindow","scrollTick","scrollx","scrolly","dispatch","scrollTo","AutoScrollerFactory","objectCreate","Temp","propertiesObject","__proto__","objectCreate$1","mouseEventProps","createDispatcher","defaultSettings","ctrlKey","shiftKey","altKey","metaKey","button","buttons","relatedTarget","region","MouseEvent","m1","initMove","data","evt","createMoveInit","setSpecial","dispatchEvent","createEvent","m2","settings","initMouseEvent","createEventObject","m3","dispatched","isNumberCloseTo","value1","value2","getNewBoundingRectangle","startingRect","newBoundingRect","getElementRect","ghostElementPositioning","translateX","translateY","transformProperties","property","includes","replace","offsetTop","offsetLeft","boundingRect","isWithinBoundingY","isWithinBoundingX","getResizeEdges","allowedEdges","cursorPrecision","elmPosition","DEFAULT_RESIZE_CURSORS","freeze","topLeft","topRight","bottomLeft","bottomRight","leftOrRight","topOrBottom","getResizeCursor","cursors","getEdgesDiff","initialRectangle","newRectangle","edgesDiff","RESIZE_ACTIVE_CLASS","RESIZE_LEFT_HOVER_CLASS","RESIZE_RIGHT_HOVER_CLASS","RESIZE_TOP_HOVER_CLASS","RESIZE_BOTTOM_HOVER_CLASS","RESIZE_GHOST_ELEMENT_CLASS","MOUSE_MOVE_THROTTLE_MS","ResizableDirective","platformId","resizeEdges","enableGhostResize","resizeSnapGrid","resizeCursors","resizeCursorPrecision","allowNegativeResizes","mouseMoveThrottleMS","resizeStart","resizing","resizeEnd","resizeEdges$","pointerEventListeners","PointerEventListeners","getInstance","mousedown$","pointerDown","mousemove$","mouseup$","pointerUp","removeGhostElement","clonedNode","getResizeCursors","legacyResizeEdgesEnabled","setElementClass","mousedrag","startCoords","getDiff","moveCoords","getSnapGrid","snapGrid","getGrid","coords","previousCoords","newCoords","previousGrid","newGrid","currentRect","unsubscribeMouseDown","unsubscribeTouchStart","unsubscribeMouseMove","unsubscribeTouchMove","unsubscribeMouseUp","unsubscribeTouchEnd","unsubscribeTouchCancel","ResizeHandleDirective","resizable","eventListeners","onMousemove","onMousedown","onMouseup","ResizableModule","global","HOOKS","_disable","_enable","animate","navigator","userAgent","closeOnSelect","conjunction","defaultSeconds","errorHandler","err","givenDate","week1","getFullYear","ignoredFocusElements","monthSelectorType","onDestroy","onKeyDown","onParseConfig","onPreCalendarPosition","positionElement","english","weekdays","shorthand","longhand","months","daysInMonth","firstDayOfWeek","ordinal","nth","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","hourAriaLabel","minuteAriaLabel","pad","int","bool","debounce","wait","immediate","timeout","context","arrayify","toggleClass","elem","className","createElement","tag","content","textContent","clearNode","firstChild","findParent","condition","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","pattern","setAttribute","getEventTarget","composedPath","path","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","G","H","J","K","RegExp","test","M","shortMonth","S","setSeconds","U","_","unixSeconds","W","weekNum","weekNumber","Y","setFullYear","Z","ISODate","h","l","m","unixMillSeconds","w","tokenRegex","formats","getSeconds","substring","createDateFormatter","frmt","overrideLocale","c","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","datestr","trim","matched","ops","matchIndex","regexStr","token_1","isBackSlash","escaped","match","exec","compareDates","isBetween","ts","ts1","ts2","DAY","source","args_1","DEBOUNCED_CHANGE_MS","FlatpickrInstance","instanceConfig","flatpickr","defaultConfig","_handlers","pluginElements","loadedPlugins","_bind","_setHoursFromDate","setHoursFromDate","_positionCalendar","positionCalendar","changeMonth","changeYear","close","_createElement","isEnabled","jumpToDate","open","redraw","toggle","setupHelperFunctions","getDaysInMonth","yr","currentMonth","currentYear","init","parseConfig","setupLocale","setupInputs","setupDates","isMobile","build","bindEvents","latestSelectedDateObj","updateValue","setCalendarWidth","showTimeInput","isSafari","triggerEvent","bindToInstance","calendarContainer","visibility","display","daysContainer","daysWidth","weekWrapper","removeProperty","updateTime","setDefaultTime","timeWrapper","prevValue","setHoursFromInputs","_debouncedChange","ampm2military","military2ampm","hourElement","minuteElement","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","setDefaultHours","minHr","minMinutes","maxHr","maxMinutes","onYearInput","handler","ev","onClick","triggerChange","setupMobile","debouncedResize","onResize","onMouseOver","ontouchstart","documentClick","capture","monthNav","onMonthNavClick","selectDate","timeContainer","selText","timeIncrement","jumpDate","jumpTo","oldYear","oldMonth","message","buildMonthSwitch","incrementNumInput","contains","inputElem","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","createDay","dayNumber","dateIsEnabled","$i","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","focus","getFirstAvailableDay","startMonth","endMonth","startIndex","endIndex","getNextAvailableDay","givenMonth","loopDelta","numMonthDays","focusOnDay","dayFocused","isInView","activeElement","startElem","buildMonthDays","firstOfMonth","prevMonthDays","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","monthsDropdownContainer","selected","buildMonth","container","monthNavFragment","monthElement","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","disabled","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","separator","hourInput","minuteInput","secondInput","getAttribute","weekdayContainer","updateWeekdays","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","triggerChangeEvent","toInitial","mobileInput","_initialDate","lastChild","_type","isCalendarElem","eventTarget_1","isCalendarElement","isInput","lostFocus","isIgnored","newYear","newYearNum","isNewYear","dateToCheck","array","parsed","allowKeydown","allowInlineKeydown","blur","isTimeObj","focusAndClose","delta_1","elems","charAt","toLowerCase","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","dayElem","timestamp","outOfRange","_positionElement","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","JSON","parse","stringify","dataset","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","l10ns","customPositionElement","calendarHeight","acc","child","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","distanceFromBottom","showOnTop","rightMost","centerMost","styleSheets","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","insertRule","msMaxTouchPoints","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","a","b","single","range","CALLBACKS","option","setSelectedDate","inputDate","rule","preloadedDate","nodeName","placeholder","_showTimeInput","required","inputType","step","mobileFormatStr","defaultValue","hooks","initEvent","getDateStr","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","newValue","isHourElem","isMinuteElem","_flatpickr","nodeList","nodes","HTMLElement","instances","error","HTMLCollection","NodeList","en","localize","setDefaults","jQuery","fp_incr"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACAA,YAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,aAAK,EAAE;AAAT,OAA7C;;AACA,UAAIC,OAAO,GAAG,mBAAO;AAAC;AAAA,YAAD,CAArB;;AACA,UAAIC,UAAU,GAAG,mBAAO;AAAC;AAAA,YAAD,CAAxB;;AACA,UAAIC,UAAU,GAAG,mBAAO;AAAC;AAAA,YAAD,CAAxB;;AACA,eAASC,cAAT,GAA0B;AACtB,eAAOH,OAAO,CAACI,QAAR,CAAiB,EAAjB,EAAqBH,UAAU,CAACE,cAAX,EAArB,EAAkD;AAAEE,kBAAQ,EAAEH,UAAU,CAACG,QAAvB;AACrDC,mBAAS,EAAEJ,UAAU,CAACI,SAD+B;AAErDC,iBAAO,EAAEL,UAAU,CAACK,OAFiC;AAGrDC,kBAAQ,EAAEN,UAAU,CAACM,QAHgC;AAIrDC,mBAAS,EAAEP,UAAU,CAACO,SAJ+B;AAKrDC,oBAAU,EAAER,UAAU,CAACQ,UAL8B;AAMrDC,iBAAO,EAAET,UAAU,CAACS,OANiC;AAOrDC,kBAAQ,EAAEV,UAAU,CAACU,QAPgC;AAQrDC,iBAAO,EAAEX,UAAU,CAACW,OARiC;AASrDC,iBAAO,EAAEZ,UAAU,CAACY,OATiC;AAUrDC,iBAAO,EAAEb,UAAU,CAACa;AAViC,SAAlD,CAAP;AAWH;;AACDjB,aAAO,CAACK,cAAR,GAAyBA,cAAzB,C,CACA;;;;;;;;;;;;;;;;;ACjBA,UAAIa,QAAQ,GAAG,mBAAO;AAAC;AAAA,YAAD,CAAtB;;AAEA,eAASC,aAAT,CAAuBC,MAAvB,EAA+BC,OAA/B,EAAwC;AAEpC;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEAA,eAAO,GAAGA,OAAO,IAAI,EAArB;AAEA,YAAIC,WAAW,GAAGJ,QAAQ,WAAR,CAAiBG,OAAO,CAACC,WAAzB,EAAsC,IAAtC,CAAlB;AAEA;;;;;;AAMA,eAAO,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AAE3BA,eAAK,GAAGA,KAAK,IAAIC,MAAM,CAACD,KAAxB,CAF2B,CAEI;;AAC/BJ,gBAAM,CAACM,MAAP,GAAgBF,KAAK,CAACE,MAAN,IAAgBF,KAAK,CAACG,UAAtB,IAAoCH,KAAK,CAACI,cAA1D;AACAR,gBAAM,CAACS,OAAP,GAAiB,IAAjB;AACAT,gBAAM,CAACU,IAAP,GAAcN,KAAK,CAACM,IAApB;;AAEA,cAAI,CAACR,WAAW,CAACE,KAAD,CAAhB,EAAyB;AACrB;AACH,WAT0B,CAW3B;AACA;;;AAEA,cAAIA,KAAK,CAACO,aAAV,EAAyB;AACrBX,kBAAM,CAACY,CAAP,GAAWR,KAAK,CAACO,aAAN,CAAoB,CAApB,EAAuBE,OAAlC;AACAb,kBAAM,CAACc,CAAP,GAAWV,KAAK,CAACO,aAAN,CAAoB,CAApB,EAAuBI,OAAlC;AACAf,kBAAM,CAACgB,KAAP,GAAeZ,KAAK,CAACO,aAAN,CAAoB,CAApB,EAAuBK,KAAtC;AACAhB,kBAAM,CAACiB,KAAP,GAAeb,KAAK,CAACO,aAAN,CAAoB,CAApB,EAAuBM,KAAtC;AACAjB,kBAAM,CAACkB,OAAP,GAAiBd,KAAK,CAACO,aAAN,CAAoB,CAApB,EAAuBO,OAAxC;AACAlB,kBAAM,CAACmB,OAAP,GAAiBf,KAAK,CAACO,aAAN,CAAoB,CAApB,EAAuBQ,OAAxC;AACH,WAPD,MAOO;AAEH;AACA;AACA;AACA;AAEA,gBAAIf,KAAK,CAACY,KAAN,KAAgB,IAAhB,IAAwBZ,KAAK,CAACS,OAAN,KAAkB,IAA9C,EAAoD;AAChD,kBAAIO,QAAQ,GAAGhB,KAAK,CAACE,MAAN,IAAgBF,KAAK,CAACE,MAAN,CAAae,aAA7B,IAA8CC,QAA7D;AACA,kBAAIC,GAAG,GAAGH,QAAQ,CAACI,eAAnB;AACA,kBAAIC,IAAI,GAAGL,QAAQ,CAACK,IAApB;AAEAzB,oBAAM,CAACgB,KAAP,GAAeZ,KAAK,CAACS,OAAN,IAAiBU,GAAG,IAAIA,GAAG,CAACG,UAAX,IAAyBD,IAAI,IAAIA,IAAI,CAACC,UAAtC,IAAoD,CAArE,KAA2EH,GAAG,IAAIA,GAAG,CAACI,UAAX,IAAyBF,IAAI,IAAIA,IAAI,CAACE,UAAtC,IAAoD,CAA/H,CAAf;AACA3B,oBAAM,CAACiB,KAAP,GAAeb,KAAK,CAACW,OAAN,IAAiBQ,GAAG,IAAIA,GAAG,CAACK,SAAX,IAAwBH,IAAI,IAAIA,IAAI,CAACG,SAArC,IAAkD,CAAnE,KAAyEL,GAAG,IAAIA,GAAG,CAACM,SAAX,IAAwBJ,IAAI,IAAIA,IAAI,CAACI,SAArC,IAAkD,CAA3H,CAAf;AACH,aAPD,MAOO;AACH7B,oBAAM,CAACgB,KAAP,GAAeZ,KAAK,CAACY,KAArB;AACAhB,oBAAM,CAACiB,KAAP,GAAeb,KAAK,CAACa,KAArB;AACH,aAjBE,CAmBH;AACA;AACA;AACA;;;AAEAjB,kBAAM,CAACY,CAAP,GAAWR,KAAK,CAACS,OAAjB;AACAb,kBAAM,CAACc,CAAP,GAAWV,KAAK,CAACW,OAAjB;AAEAf,kBAAM,CAACkB,OAAP,GAAiBd,KAAK,CAACc,OAAvB;AACAlB,kBAAM,CAACmB,OAAP,GAAiBf,KAAK,CAACe,OAAvB;AACH;;AAEDnB,gBAAM,CAACa,OAAP,GAAiBb,MAAM,CAACY,CAAxB;AACAZ,gBAAM,CAACe,OAAP,GAAiBf,MAAM,CAACc,CAAxB;AACH,SAtDD,CAtBoC,CA8EpC;AACH;AAED;;;;;;AAKAgB,YAAM,CAAClD,OAAP,GAAiBmB,aAAjB,C,CACA;;;;;;;;;;;;;;;;;AC3FA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,S,CACA;;;;;;;;;;;;;;;;;;ACCArB,YAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,aAAK,EAAE;AAAT,OAA7C;;AAEA,eAASkD,MAAT,CAAgBC,CAAhB,EAAmBC,CAAnB,EAAsB;AAClB,YAAI,OAAOD,CAAP,KAAa,WAAjB,EAA8B;AAC1B,iBAAO,OAAOC,CAAP,KAAa,WAAb,GAA2BD,CAA3B,GAA+BC,CAAtC;AACH;;AAED,eAAOD,CAAP;AACH;;AACD,eAASE,QAAT,CAAiBC,IAAjB,EAAuBC,GAAvB,EAA4B;AAExBD,YAAI,GAAGJ,MAAM,CAACI,IAAD,EAAOC,GAAP,CAAb;;AAEA,YAAI,OAAOD,IAAP,KAAgB,UAApB,EAAgC;AAC5B,iBAAO,SAASH,CAAT,GAAa;AAChB,iBAAK,IAAIK,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAGC,KAAK,CAACJ,IAAD,CAAzC,EAAiDK,IAAI,GAAG,CAA7D,EAAgEA,IAAI,GAAGL,IAAvE,EAA6EK,IAAI,EAAjF,EAAqF;AACjFF,kBAAI,CAACE,IAAD,CAAJ,GAAaJ,SAAS,CAACI,IAAD,CAAtB;AACH;;AAED,mBAAO,CAAC,CAACP,IAAI,CAACQ,KAAL,CAAW,IAAX,EAAiBH,IAAjB,CAAT;AACH,WAND;AAOH;;AAED,eAAO,CAAC,CAACL,IAAF,GAAS,YAAY;AACxB,iBAAO,IAAP;AACH,SAFM,GAEH,YAAY;AACZ,iBAAO,KAAP;AACH,SAJD;AAKH;;AAED,eAASS,OAAT,CAAiBT,IAAjB,EAAuBC,GAAvB,EAA4B;AAExBD,YAAI,GAAGJ,MAAM,CAACI,IAAD,EAAOC,GAAP,CAAb;;AAEA,YAAI,OAAOD,IAAP,KAAgB,UAApB,EAAgC;AAC5B,iBAAO,SAASH,CAAT,GAAa;AAChB,iBAAK,IAAIa,KAAK,GAAGP,SAAS,CAACC,MAAtB,EAA8BC,IAAI,GAAGC,KAAK,CAACI,KAAD,CAA1C,EAAmDC,KAAK,GAAG,CAAhE,EAAmEA,KAAK,GAAGD,KAA3E,EAAkFC,KAAK,EAAvF,EAA2F;AACvFN,kBAAI,CAACM,KAAD,CAAJ,GAAcR,SAAS,CAACQ,KAAD,CAAvB;AACH;;AAED,gBAAIC,CAAC,GAAGC,QAAQ,CAACb,IAAI,CAACQ,KAAL,CAAW,IAAX,EAAiBH,IAAjB,CAAD,EAAyB,EAAzB,CAAhB;AACA,mBAAOO,CAAC,IAAIA,CAAL,GAAS,CAAT,GAAaA,CAApB;AACH,WAPD;AAQH;;AAEDZ,YAAI,GAAGa,QAAQ,CAACb,IAAD,EAAO,EAAP,CAAf;AAEA,eAAOA,IAAI,IAAIA,IAAR,GAAe,YAAY;AAC9B,iBAAO,CAAP;AACH,SAFM,GAEH,YAAY;AACZ,iBAAOA,IAAP;AACH,SAJD;AAKH;;AAED,eAASc,MAAT,CAAgBd,IAAhB,EAAsBC,GAAtB,EAA2B;AAEvBD,YAAI,GAAGJ,MAAM,CAACI,IAAD,EAAOC,GAAP,CAAb;;AAEA,YAAI,OAAOD,IAAP,KAAgB,UAApB,EAAgC;AAC5B,iBAAO,SAASH,CAAT,GAAa;AAChB,iBAAK,IAAIkB,KAAK,GAAGZ,SAAS,CAACC,MAAtB,EAA8BC,IAAI,GAAGC,KAAK,CAACS,KAAD,CAA1C,EAAmDC,KAAK,GAAG,CAAhE,EAAmEA,KAAK,GAAGD,KAA3E,EAAkFC,KAAK,EAAvF,EAA2F;AACvFX,kBAAI,CAACW,KAAD,CAAJ,GAAcb,SAAS,CAACa,KAAD,CAAvB;AACH;;AAED,mBAAO,KAAKhB,IAAI,CAACQ,KAAL,CAAW,IAAX,EAAiBH,IAAjB,CAAZ;AACH,WAND;AAOH;;AAEDL,YAAI,GAAG,KAAKA,IAAZ;AAEA,eAAO,YAAY;AACf,iBAAOA,IAAP;AACH,SAFD;AAGH;;AAEDvD,aAAO,WAAP,GAAkBsD,QAAlB;AACAtD,aAAO,CAACgE,OAAR,GAAkBA,OAAlB;AACAhE,aAAO,CAACqE,MAAR,GAAiBA,MAAjB,C,CACA;;;;;;;;;;;;;;;;;AC9EAvE,YAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,aAAK,EAAE;AAAT,OAA7C;;AAEA,eAASuE,eAAT,CAA0BC,EAA1B,EAA8B;AAAE,eAAQA,EAAE,IAAK,OAAOA,EAAP,KAAc,QAArB,IAAkC,aAAaA,EAAhD,GAAsDA,EAAE,CAAC,SAAD,CAAxD,GAAsEA,EAA7E;AAAkF;;AAElH,UAAIC,aAAa,GAAGF,eAAe,CAAC,mBAAO;AAAC;AAAA,YAAD,CAAR,CAAnC;;AAEA,eAASG,gBAAT,GAA4B;AACxB,YAAIC,KAAK,GAAG;AACRC,aAAG,EAAE;AAAE5E,iBAAK,EAAE,CAAT;AAAY6E,sBAAU,EAAE;AAAxB,WADG;AAERC,cAAI,EAAE;AAAE9E,iBAAK,EAAE,CAAT;AAAY6E,sBAAU,EAAE;AAAxB,WAFE;AAGRE,eAAK,EAAE;AAAE/E,iBAAK,EAAEwB,MAAM,CAACwD,UAAhB;AAA4BH,sBAAU,EAAE;AAAxC,WAHC;AAIRI,gBAAM,EAAE;AAAEjF,iBAAK,EAAEwB,MAAM,CAAC0D,WAAhB;AAA6BL,sBAAU,EAAE;AAAzC,WAJA;AAKRM,eAAK,EAAE;AAAEnF,iBAAK,EAAEwB,MAAM,CAACwD,UAAhB;AAA4BH,sBAAU,EAAE;AAAxC,WALC;AAMRO,gBAAM,EAAE;AAAEpF,iBAAK,EAAEwB,MAAM,CAAC0D,WAAhB;AAA6BL,sBAAU,EAAE;AAAzC,WANA;AAOR9C,WAAC,EAAE;AAAE/B,iBAAK,EAAE,CAAT;AAAY6E,sBAAU,EAAE;AAAxB,WAPK;AAQR5C,WAAC,EAAE;AAAEjC,iBAAK,EAAE,CAAT;AAAY6E,sBAAU,EAAE;AAAxB;AARK,SAAZ;;AAWA,YAAIhF,MAAM,CAACwF,MAAX,EAAmB;AACf,iBAAOxF,MAAM,CAACwF,MAAP,CAAc,EAAd,EAAkBV,KAAlB,CAAP;AACH,SAFD,MAEO;AACH,cAAIW,IAAI,GAAG,EAAX;AACAzF,gBAAM,CAAC0F,gBAAP,CAAwBD,IAAxB,EAA8BX,KAA9B;AACA,iBAAOW,IAAP;AACH;AACJ;;AAED,eAASE,aAAT,CAAuBC,EAAvB,EAA2B;AACvB,YAAIA,EAAE,KAAKjE,MAAX,EAAmB;AACf,iBAAOkD,gBAAgB,EAAvB;AACH,SAFD,MAEO;AACH,cAAI;AACA,gBAAIY,IAAI,GAAGG,EAAE,CAACC,qBAAH,EAAX;;AACA,gBAAIJ,IAAI,CAACvD,CAAL,KAAW4D,SAAf,EAA0B;AACtBL,kBAAI,CAACvD,CAAL,GAASuD,IAAI,CAACR,IAAd;AACAQ,kBAAI,CAACrD,CAAL,GAASqD,IAAI,CAACV,GAAd;AACH;;AACD,mBAAOU,IAAP;AACH,WAPD,CAOE,OAAOM,CAAP,EAAU;AACR,kBAAM,IAAIC,SAAJ,CAAc,yCAAyCJ,EAAvD,CAAN;AACH;AACJ;AACJ;;AAED,eAASK,WAAT,CAAqBC,KAArB,EAA4BN,EAA5B,EAAgC;AAC5B,YAAIH,IAAI,GAAGE,aAAa,CAACC,EAAD,CAAxB;AACA,eAAOM,KAAK,CAAC9D,CAAN,GAAUqD,IAAI,CAACV,GAAf,IAAsBmB,KAAK,CAAC9D,CAAN,GAAUqD,IAAI,CAACL,MAArC,IAA+Cc,KAAK,CAAChE,CAAN,GAAUuD,IAAI,CAACR,IAA9D,IAAsEiB,KAAK,CAAChE,CAAN,GAAUuD,IAAI,CAACP,KAA5F;AACH;;AAEDhF,aAAO,CAACmB,aAAR,GAAwBuD,aAAxB;AACA1E,aAAO,CAACyF,aAAR,GAAwBA,aAAxB;AACAzF,aAAO,CAAC+F,WAAR,GAAsBA,WAAtB,C,CACA;;;;;;;;;;;;;;;;;ACtDA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAMA;;;;;;UAIME,e,GACF,2BAAc;AAAA;;AACV,aAAKC,WAAL,GAAmB,IAAI,4CAAJ,EAAnB;AACH,O;;AAELD,qBAAe,CAACE,UAAhB,GAA6B,CACzB;AAAErE,YAAI,EAAE,wDAAR;AAAoB8B,YAAI,EAAE,CAAC;AACfwC,oBAAU,EAAE;AADG,SAAD;AAA1B,OADyB,CAA7B;AAKA;;AAAmBH,qBAAe,CAACI,eAAhB,GAAkC,uEAAiB;AAAEC,eAAO,EAAE,SAASC,uBAAT,GAAmC;AAAE,iBAAO,IAAIN,eAAJ,EAAP;AAA+B,SAA/E;AAAiFO,aAAK,EAAEP,eAAxF;AAAyGG,kBAAU,EAAE;AAArH,OAAjB,CAAlC;AAEnB;;;;;AAIA;;;;;;;;;UAQMK,iC;AACF;;;;;;AAMA,mDAAYC,UAAZ,EAAwBC,QAAxB,EAAkCC,IAAlC,EAAwC;AAAA;;AACpC,eAAKF,UAAL,GAAkBA,UAAlB;AACA,eAAKC,QAAL,GAAgBA,QAAhB;AACA,eAAKC,IAAL,GAAYA,IAAZ;AACA;;;;AAGA,eAAKC,mBAAL,GAA2B,KAA3B;AACA;;;;;;AAKA,eAAKC,eAAL,GAAuB;AAAEC,oBAAQ,EAAE,GAAZ;AAAiBC,iBAAK,EAAE;AAAxB,WAAvB;AACA,eAAKC,eAAL,GAAuB,KAAvB;AACH;AACD;;;;;;;qCAGW;AAAA;;AACP,iBAAKL,IAAL,CAAUM,iBAAV;AAA6B;;;AAG7B,wBAAM;AACF,mBAAI,CAACP,QAAL,CAAcQ,MAAd,CAAqB,KAAI,CAACT,UAAL,CAAgBU,aAArC,EAAoD,WAApD;AAAkE;;;;AAIlE,wBAAC5F,KAAD,EAAW;AACP,oBAAI,KAAI,CAACyF,eAAL,IAAwBzF,KAAK,CAAC6F,UAAlC,EAA8C;AAC1C7F,uBAAK,CAAC8F,cAAN;AACH;AACJ,eARD;AASH,aAbD;AAcH;AACD;;;;;;;0CAIgB;AACZ,iBAAKL,eAAL,GAAuB,IAAvB;AACA,iBAAKN,QAAL,CAAcY,QAAd,CAAuB,KAAKb,UAAL,CAAgBU,aAAvC,EAAsD,UAAtD,EAAkE,QAAlE;AACH;AACD;;;;;;;yCAIe;AACX,iBAAKH,eAAL,GAAuB,KAAvB;AACA,iBAAKN,QAAL,CAAcY,QAAd,CAAuB,KAAKb,UAAL,CAAgBU,aAAvC,EAAsD,UAAtD,EAAkE,MAAlE;AACH;AACD;;;;;;;yCAIe;AACX;AACA,gBAAMI,4BAA4B,GAAG,KAAKd,UAAL,CAAgBU,aAAhB,CAA8BK,WAA9B,GACjC,KAAKf,UAAL,CAAgBU,aAAhB,CAA8BM,WADG,GAEjC,CAFJ;AAGA;;AACA,gBAAMC,0BAA0B,GAAG,KAAKjB,UAAL,CAAgBU,aAAhB,CAA8BQ,YAA9B,GAC/B,KAAKlB,UAAL,CAAgBU,aAAhB,CAA8BS,YADC,GAE/B,CAFJ;AAGA,mBAAOL,4BAA4B,IAAIG,0BAAvC;AACH;;;;;;AAELlB,uCAAiC,CAACN,UAAlC,GAA+C,CAC3C;AAAErE,YAAI,EAAE,uDAAR;AAAmB8B,YAAI,EAAE,CAAC;AACdkE,kBAAQ,EAAE;AADI,SAAD;AAAzB,OAD2C,CAA/C;AAKA;;AACArB,uCAAiC,CAACsB,cAAlC,GAAmD;AAAA,eAAM,CACrD;AAAEjG,cAAI,EAAE;AAAR,SADqD,EAErD;AAAEA,cAAI,EAAE;AAAR,SAFqD,EAGrD;AAAEA,cAAI,EAAE;AAAR,SAHqD,CAAN;AAAA,OAAnD;;AAKA2E,uCAAiC,CAACuB,cAAlC,GAAmD;AAC/CnB,2BAAmB,EAAE,CAAC;AAAE/E,cAAI,EAAE;AAAR,SAAD,CAD0B;AAE/CgF,uBAAe,EAAE,CAAC;AAAEhF,cAAI,EAAE;AAAR,SAAD;AAF8B,OAAnD;AAKA;;;;;UAIMmG,kB;AACF;;;;;;;;;;AAUA,oCAAYpG,OAAZ,EAAqB8E,QAArB,EAA+BuB,eAA/B,EAAgDtB,IAAhD,EAAsDuB,GAAtD,EAA2DC,eAA3D,EAA4E1F,QAA5E,EAAsF;AAAA;;AAClF,eAAKb,OAAL,GAAeA,OAAf;AACA,eAAK8E,QAAL,GAAgBA,QAAhB;AACA,eAAKuB,eAAL,GAAuBA,eAAvB;AACA,eAAKtB,IAAL,GAAYA,IAAZ;AACA,eAAKuB,GAAL,GAAWA,GAAX;AACA,eAAKC,eAAL,GAAuBA,eAAvB;AACA,eAAK1F,QAAL,GAAgBA,QAAhB;AACA;;;;AAGA,eAAK2F,QAAL,GAAgB;AAAErG,aAAC,EAAE,IAAL;AAAWE,aAAC,EAAE;AAAd,WAAhB;AACA;;;;AAGA,eAAKoG,YAAL,GAAoB,EAApB;AACA;;;;AAGA,eAAKC,gBAAL,GAAwB,IAAxB;AACA;;;;AAGA,eAAKC,gCAAL,GAAwC,KAAxC;AACA;;;;AAGA,eAAKC,UAAL,GAAkB,EAAlB;AACA;;;;AAGA,eAAKC,eAAL,GAAuB,IAAI,0DAAJ,EAAvB;AACA;;;;;;AAKA,eAAKC,SAAL,GAAiB,IAAI,0DAAJ,EAAjB;AACA;;;;AAGA,eAAKC,mBAAL,GAA2B,IAAI,0DAAJ,EAA3B;AACA;;;;AAGA,eAAKC,QAAL,GAAgB,IAAI,0DAAJ,EAAhB;AACA;;;;AAGA,eAAKC,OAAL,GAAe,IAAI,0DAAJ,EAAf;AACA;;;;AAGA,eAAKC,YAAL,GAAoB,IAAI,4CAAJ,EAApB;AACA;;;;AAGA,eAAKC,YAAL,GAAoB,IAAI,4CAAJ,EAApB;AACA;;;;AAGA,eAAKC,UAAL,GAAkB,IAAI,4CAAJ,EAAlB;AACA,eAAKC,0BAAL,GAAkC,EAAlC;AACA,eAAKC,QAAL,GAAgB,IAAI,4CAAJ,EAAhB;AACA,eAAKC,aAAL,GAAqB;AAAEC,sBAAU,EAAE,CAAd;AAAiBC,oBAAQ,EAAE;AAA3B,WAArB;AACH;AACD;;;;;;;qCAGW;AAAA;;AACP,iBAAKC,mBAAL;AACA;;AACA,gBAAMC,eAAe,GAAG,KAAKT,YAAL,CAAkBU,IAAlB,CAAuB;AAAQ;;;AAGvD;AAAA,qBAAM,MAAI,CAACC,OAAL,EAAN;AAAA,aAH+C,CAAvB,EAGA;AAAU;;;;AAIlC,sBAACC,gBAAD,EAAsB;AAClB;AACA;AACA,kBAAIA,gBAAgB,CAACnI,KAAjB,CAAuBoI,eAAvB,IAA0C,CAAC,MAAI,CAACxB,eAApD,EAAqE;AACjEuB,gCAAgB,CAACnI,KAAjB,CAAuBoI,eAAvB;AACH;AACD;;;AACA,kBAAMC,mBAAmB,GAAG,MAAI,CAACC,iBAAL,EAA5B;AACA;;;AACA,kBAAMC,sBAAsB,GAAG,IAAI,+CAAJ;AAAgB;;;;AAI/C,wBAAAC,QAAQ,EAAI;AACR;AACA,oBAAM5B,eAAe,GAAG,MAAI,CAACA,eAAL,GAClB,MAAI,CAACA,eAAL,CAAqB1B,UAArB,CAAgCU,aADd,GAElB,QAFN;AAGA,uBAAO,MAAI,CAACT,QAAL,CAAcQ,MAAd,CAAqBiB,eAArB,EAAsC,QAAtC;AAAiD;;;;AAIxD,0BAAAvC,CAAC;AAAA,yBAAImE,QAAQ,CAACC,IAAT,CAAcpE,CAAd,CAAJ;AAAA,iBAJM,CAAP;AAKH,eAd8B,EAc3B4D,IAd2B,CActB,iEAAUI,mBAAV,CAdsB,EAcU;AAAK;;;AAG9C;AAAA,uBAAM,MAAI,CAACC,iBAAL,EAAN;AAAA,eAHyC,CAdV,CAA/B;AAkBA;;AACA,kBAAMI,YAAY,GAAG,IAAI,4CAAJ,EAArB;AACA;;AACA,kBAAMC,WAAW,GAAG,IAAI,kDAAJ,EAApB;;AACA,oBAAI,CAACvD,IAAL,CAAUwD,GAAV;AAAe;;;AAGf,0BAAM;AACF,sBAAI,CAAC1B,eAAL,CAAqBuB,IAArB,CAA0B;AAAEjI,mBAAC,EAAE,CAAL;AAAQE,mBAAC,EAAE;AAAX,iBAA1B;AACH,eALD;AAMA;;;AACA,kBAAMmI,aAAa,GAAG,mDAAM,MAAI,CAACpB,UAAX,EAAuB,MAAI,CAACF,YAA5B,EAA0CoB,WAA1C,EAAuD,MAAI,CAAChB,QAA5D,EAAsEM,IAAtE,CAA2E,8DAA3E,CAAtB;AACA;;AACA,kBAAMa,WAAW,GAAG,2DAAc,CAC9B,MAAI,CAACtB,YADyB,EAE9Be,sBAF8B,CAAd,EAGjBN,IAHiB,CAGZ;AAAK;;;;AAIb,8BAAgC;AAAA;AAAA,oBAA9Bc,gBAA8B;AAAA,oBAAZC,MAAY;;AAC5B,uBAAO;AACHN,8BAAY,EAAZA,YADG;AAEHO,4BAAU,EAAEF,gBAAgB,CAACtI,OAAjB,GAA2B0H,gBAAgB,CAAC1H,OAFrD;AAGHyI,4BAAU,EAAEH,gBAAgB,CAACpI,OAAjB,GAA2BwH,gBAAgB,CAACxH,OAHrD;AAIHF,yBAAO,EAAEsI,gBAAgB,CAACtI,OAJvB;AAKHE,yBAAO,EAAEoI,gBAAgB,CAACpI,OALvB;AAMHW,4BAAU,EAAE0H,MAAM,CAACzF,IANhB;AAOH/B,2BAAS,EAAEwH,MAAM,CAAC3F;AAPf,iBAAP;AASH,eAdO,CAHY,EAiBf;AAAK;;;;AAIV,wBAAA8F,QAAQ,EAAI;AACR,oBAAI,MAAI,CAACrC,YAAL,CAAkBtG,CAAtB,EAAyB;AACrB2I,0BAAQ,CAACF,UAAT,GACIG,IAAI,CAACC,KAAL,CAAWF,QAAQ,CAACF,UAAT,GAAsB,MAAI,CAACnC,YAAL,CAAkBtG,CAAnD,IACI,MAAI,CAACsG,YAAL,CAAkBtG,CAF1B;AAGH;;AACD,oBAAI,MAAI,CAACsG,YAAL,CAAkBpG,CAAtB,EAAyB;AACrByI,0BAAQ,CAACD,UAAT,GACIE,IAAI,CAACC,KAAL,CAAWF,QAAQ,CAACD,UAAT,GAAsB,MAAI,CAACpC,YAAL,CAAkBpG,CAAnD,IACI,MAAI,CAACoG,YAAL,CAAkBpG,CAF1B;AAGH;;AACD,uBAAOyI,QAAP;AACH,eAhBI,CAjBe,EAiCf;AAAK;;;;AAIV,wBAAAA,QAAQ,EAAI;AACR,oBAAI,CAAC,MAAI,CAACtC,QAAL,CAAcrG,CAAnB,EAAsB;AAClB2I,0BAAQ,CAACF,UAAT,GAAsB,CAAtB;AACH;;AACD,oBAAI,CAAC,MAAI,CAACpC,QAAL,CAAcnG,CAAnB,EAAsB;AAClByI,0BAAQ,CAACD,UAAT,GAAsB,CAAtB;AACH;;AACD,uBAAOC,QAAP;AACH,eAZI,CAjCe,EA6Cf;AAAK;;;;AAIV,wBAAAA,QAAQ,EAAI;AACR;AACA,oBAAMG,OAAO,GAAGH,QAAQ,CAAC7H,UAAT,GAAsB+G,mBAAmB,CAAC9E,IAA1D;AACA;;AACA,oBAAMgG,OAAO,GAAGJ,QAAQ,CAAC3H,SAAT,GAAqB6G,mBAAmB,CAAChF,GAAzD;AACA,uBAAO/E,MAAM,CAACkL,MAAP,CAAc,EAAd,EAAkBL,QAAlB,EAA4B;AAAE3I,mBAAC,EAAE2I,QAAQ,CAACF,UAAT,GAAsBK,OAA3B;AAAoC5I,mBAAC,EAAEyI,QAAQ,CAACD,UAAT,GAAsBK;AAA7D,iBAA5B,CAAP;AACH,eAVI,CA7Ce,EAuDf;AAAQ;;;;AAIb;AAAA,oBAAG/I,CAAH,SAAGA,CAAH;AAAA,oBAAME,CAAN,SAAMA,CAAN;AAAA,oBAASuI,UAAT,SAASA,UAAT;AAAA,oBAAqBC,UAArB,SAAqBA,UAArB;AAAA,uBAAsC,CAAC,MAAI,CAACO,YAAN,IAClC,MAAI,CAACA,YAAL,CAAkB;AACdjJ,mBAAC,EAADA,CADc;AAEdE,mBAAC,EAADA,CAFc;AAGdgJ,2BAAS,EAAE;AAAElJ,qBAAC,EAAEyI,UAAL;AAAiBvI,qBAAC,EAAEwI;AAApB;AAHG,iBAAlB,CADJ;AAAA,eAJK,CAvDe,EAgEV,iEAAUL,aAAV,CAhEU,EAgEgB,8DAhEhB,CAApB;AAiEA;;AACA,kBAAMc,YAAY,GAAGb,WAAW,CAACb,IAAZ,CAAiB,4DAAK,CAAL,CAAjB,EAA0B,8DAA1B,CAArB;AACA;;AACA,kBAAM2B,UAAU,GAAGd,WAAW,CAACb,IAAZ,CAAiB,gEAAS,CAAT,CAAjB,EAA8B,8DAA9B,CAAnB;AACA0B,0BAAY,CAACE,SAAb;AAAwB;;;;AAIxB,+BAAgC;AAAA,oBAA7BpJ,OAA6B,SAA7BA,OAA6B;AAAA,oBAApBE,OAAoB,SAApBA,OAAoB;AAAA,oBAAXH,CAAW,SAAXA,CAAW;AAAA,oBAARE,CAAQ,SAARA,CAAQ;;AAC5B,sBAAI,CAAC0E,IAAL,CAAUwD,GAAV;AAAe;;;AAGf,4BAAM;AACF,wBAAI,CAACzB,SAAL,CAAesB,IAAf,CAAoB;AAAEE,+BAAW,EAAXA;AAAF,mBAApB;AACH,iBALD;;AAMA,sBAAI,CAACmB,QAAL,GAAgB,wDAAW,CACvB,MAAI,CAAClD,eAAL,GACM,MAAI,CAACA,eAAL,CAAqB1B,UAArB,CAAgCU,aADtC,GAEM,MAAI,CAAC1E,QAAL,CAAc6I,WAHG,CAAX,EAIb;AACCC,wBAAM,EAAE,EADT;;AAEC;;;AAGAC,4BALD,wBAKc;AACT,2BAAO,IAAP;AACH;AAPF,iBAJa,CAAhB;;AAaA,sBAAI,CAAC9E,QAAL,CAAc+E,QAAd,CAAuB,MAAI,CAAC7J,OAAL,CAAauF,aAApC,EAAmD,MAAI,CAACuE,eAAxD;;AACA,oBAAI,MAAI,CAACpD,gBAAT,EAA2B;AACvB;AACA,sBAAMhD,IAAI,GAAG,MAAI,CAAC1D,OAAL,CAAauF,aAAb,CAA2BzB,qBAA3B,EAAb;AACA;;;AACA,sBAAMiG,KAAK;AAAI;AAAkB,wBAAI,CAAC/J,OAAL,CAAauF,aAAb,CAA2ByE,SAA3B,CAAqC,IAArC,CAAjC;;AACA,sBAAI,CAAC,MAAI,CAACrD,gCAAV,EAA4C;AACxC,0BAAI,CAAC7B,QAAL,CAAcY,QAAd,CAAuB,MAAI,CAAC1F,OAAL,CAAauF,aAApC,EAAmD,YAAnD,EAAiE,QAAjE;AACH;;AACD,sBAAI,MAAI,CAAC0E,oBAAT,EAA+B;AAC3B,0BAAI,CAACA,oBAAL,CAA0BC,WAA1B,CAAsCH,KAAtC;AACH,mBAFD,MAGK;AACA;AAAkB,0BAAI,CAAC/J,OAAL,CAAauF,aAAb,CAA2B4E,UAA9C,CAA2DC,YAA3D,CAAwEL,KAAxE,EAA+E,MAAI,CAAC/J,OAAL,CAAauF,aAAb,CAA2B8E,WAA1G;AACH;;AACD,wBAAI,CAACC,YAAL,GAAoBP,KAApB;AACAlJ,0BAAQ,CAACG,IAAT,CAAcuJ,KAAd,CAAoBC,MAApB,GAA6B,MAAI,CAAC5D,UAAlC;;AACA,wBAAI,CAAC6D,gBAAL,CAAsBV,KAAtB,EAA6B;AACzBW,4BAAQ,EAAE,OADe;AAEzB1H,uBAAG,YAAKU,IAAI,CAACV,GAAV,OAFsB;AAGzBE,wBAAI,YAAKQ,IAAI,CAACR,IAAV,OAHqB;AAIzBK,yBAAK,YAAKG,IAAI,CAACH,KAAV,OAJoB;AAKzBC,0BAAM,YAAKE,IAAI,CAACF,MAAV,OALmB;AAMzBgH,0BAAM,EAAE,MAAI,CAAC5D,UANY;AAOzB+C,0BAAM,EAAE,GAPiB;AAQzBgB,8BAAU,EAAE,WARa;AASzBC,iCAAa,EAAE;AATU,mBAA7B;;AAWA,sBAAI,MAAI,CAACC,oBAAT,EAA+B;AAC3B;AACA,wBAAMC,OAAO,GAAG,MAAI,CAACxE,GAAL,CAASyE,kBAAT,CAA4B,MAAI,CAACF,oBAAjC,CAAhB;;AACAd,yBAAK,CAACiB,SAAN,GAAkB,EAAlB;AACAF,2BAAO,CAACG,SAAR,CACKC,MADL;AACa;;;;AAIb,8BAAAC,IAAI;AAAA,6BAAIA,IAAI,YAAYC,IAApB;AAAA,qBALJ,EAMKC,OANL;AAMc;;;;AAId,8BAAAF,IAAI,EAAI;AACJpB,2BAAK,CAACG,WAAN,CAAkBiB,IAAlB;AACH,qBAZD;AAaA5B,8BAAU,CAACC,SAAX;AAAsB;;;AAGtB,gCAAM;AACF,4BAAI,CAAClD,GAAL,CAASgF,MAAT,CAAgB,MAAI,CAAChF,GAAL,CAASiF,OAAT,CAAiBT,OAAjB,CAAhB;AACH,qBALD;AAMH;;AACD,wBAAI,CAAC/F,IAAL,CAAUwD,GAAV;AAAe;;;AAGf,8BAAM;AACF,0BAAI,CAACxB,mBAAL,CAAyByE,IAAzB,CAA8B;AAC1BpL,6BAAO,EAAEA,OAAO,GAAGD,CADO;AAE1BG,6BAAO,EAAEA,OAAO,GAAGD,CAFO;AAG1BL,6BAAO,EAAE+J;AAHiB,qBAA9B;AAKH,mBATD;;AAUAR,4BAAU,CAACC,SAAX;AAAsB;;;AAGtB,8BAAM;AACD;AAAkBO,yBAAK,CAAC0B,aAAzB,CAAyCC,WAAzC,CAAqD3B,KAArD;AACA,0BAAI,CAACO,YAAL,GAAoB,IAApB;;AACA,0BAAI,CAACxF,QAAL,CAAcY,QAAd,CAAuB,MAAI,CAAC1F,OAAL,CAAauF,aAApC,EAAmD,YAAnD,EAAiE,EAAjE;AACH,mBAPD;AAQH;;AACD,sBAAI,CAACc,eAAL,CAAqBhC,WAArB,CAAiC+D,IAAjC,CAAsCC,YAAtC;AACH,eAhGD;AAiGAkB,wBAAU,CACL3B,IADL,CACU;AAAU;;;;AAIpB,wBAAA+D,WAAW,EAAI;AACX;AACA,oBAAMC,YAAY,GAAGtD,WAAW,CAACV,IAAZ,CAAiB,8DAAjB,EAA0B,4DAAK,CAAL,CAA1B,EAAmC;AAAK;;;;AAI7D,0BAAAiE,WAAW;AAAA,yBAAK5N,MAAM,CAACkL,MAAP,CAAc,EAAd,EAAkBwC,WAAlB,EAA+B;AAAEG,iCAAa,EAAED,WAAW,GAAG;AAA/B,mBAA/B,CAAL;AAAA,iBAJ6C,CAAnC,CAArB;AAKAvD,2BAAW,CAACyD,QAAZ;AACA,uBAAOH,YAAP;AACH,eAbS,CADV,EAeKpC,SAfL;AAegB;;;;AAIhB,+BAA6B;AAAA,oBAA1BrJ,CAA0B,SAA1BA,CAA0B;AAAA,oBAAvBE,CAAuB,SAAvBA,CAAuB;AAAA,oBAApByL,aAAoB,SAApBA,aAAoB;;AACzB,sBAAI,CAACrC,QAAL,CAAcuC,OAAd;;AACA,sBAAI,CAACjH,IAAL,CAAUwD,GAAV;AAAe;;;AAGf,4BAAM;AACF,wBAAI,CAACtB,OAAL,CAAamB,IAAb,CAAkB;AAAEjI,qBAAC,EAADA,CAAF;AAAKE,qBAAC,EAADA,CAAL;AAAQyL,iCAAa,EAAbA;AAAR,mBAAlB;AACH,iBALD;;AAMA,sBAAI,CAAChH,QAAL,CAAcmH,WAAd,CAA0B,MAAI,CAACjM,OAAL,CAAauF,aAAvC,EAAsD,MAAI,CAACuE,eAA3D;;AACAzB,4BAAY,CAAC0D,QAAb;AACH,eA7BD;AA8BA;;AACA,kBAAMG,eAAe,GAAG,IAAI,+CAAJ;AAAgB;;;;AAIxC,wBAAA/D,QAAQ,EAAI;AACR,uBAAO,MAAI,CAACrD,QAAL,CAAcQ,MAAd,CAAqB,UAArB,EAAiC,aAAjC;AAAiD;;;;AAIxD,0BAAAtB,CAAC;AAAA,yBAAImE,QAAQ,CAACC,IAAT,CAAcpE,CAAd,CAAJ;AAAA,iBAJM,CAAP;AAKH,eAVuB,CAAxB,CA7OkB,CAwPlB;;AACAkI,6BAAe,CACVtE,IADL,CACU,iEAAU,mDAAMY,aAAN,EAAqBe,UAArB,CAAV,CADV,EAEKC,SAFL;AAEgB;;;;AAIhB,wBAAA7J,KAAK,EAAI;AACLA,qBAAK,CAAC8F,cAAN;AACH,eARD;AASA,qBAAOgD,WAAP;AACH,aAvQuB,CAHA,EA0QnB,8DA1QmB,CAAxB;AA2QA,+DAAMd,eAAe,CAACC,IAAhB,CAAqB,4DAAK,CAAL,CAArB,EAA8B;AAAK;;;;AAIzC,sBAAAxJ,KAAK;AAAA,qBAAI,GAAGA,KAAH,CAAJ;AAAA,aAJ+B,CAA9B,CAAN,EAIuBuJ,eAAe,CAACC,IAAhB,CAAqB,iEAArB,CAJvB,EAKKA,IALL,CAKU;AAAQ;;;;AAIlB,6BAAsB;AAAA;AAAA,kBAApBuE,QAAoB;AAAA,kBAAV/D,IAAU;;AAClB,kBAAI,CAAC+D,QAAL,EAAe;AACX,uBAAO,IAAP;AACH;;AACD,qBAAOA,QAAQ,CAAChM,CAAT,KAAeiI,IAAI,CAACjI,CAApB,IAAyBgM,QAAQ,CAAC9L,CAAT,KAAe+H,IAAI,CAAC/H,CAApD;AACH,aATS,CALV,EAcK;AAAK;;;;AAIV;AAAA;AAAA,kBAAE8L,QAAF;AAAA,kBAAY/D,IAAZ;;AAAA,qBAAsBA,IAAtB;AAAA,aAJK,CAdL,EAkB8B,iEAAU,CAAV,EAAa,4DAAb,CAlB9B,EAmBKoB,SAnBL;AAmBgB;;;;AAIhB,8BAAsE;AAAA,kBAAnErJ,CAAmE,UAAnEA,CAAmE;AAAA,kBAAhEE,CAAgE,UAAhEA,CAAgE;AAAA,kBAA7DgI,YAA6D,UAA7DA,YAA6D;AAAA,kBAA/CjI,OAA+C,UAA/CA,OAA+C;AAAA,kBAAtCE,OAAsC,UAAtCA,OAAsC;AAAA,kBAA7BsI,UAA6B,UAA7BA,UAA6B;AAAA,kBAAjBC,UAAiB,UAAjBA,UAAiB;;AAClE,oBAAI,CAAC9D,IAAL,CAAUwD,GAAV;AAAe;;;AAGf,0BAAM;AACF,sBAAI,CAACvB,QAAL,CAAcoB,IAAd,CAAmB;AAAEjI,mBAAC,EAADA,CAAF;AAAKE,mBAAC,EAADA;AAAL,iBAAnB;AACH,eALD;;AAMA,kBAAI,MAAI,CAACiK,YAAT,EAAuB;AACnB;AACA,oBAAMjB,SAAS,yBAAkBT,UAAlB,iBAAmCC,UAAnC,aAAf;;AACA,sBAAI,CAAC4B,gBAAL,CAAsB,MAAI,CAACH,YAA3B,EAAyC;AACrCjB,2BAAS,EAATA,SADqC;AAErC,uCAAqBA,SAFgB;AAGrC,mCAAiBA,SAHoB;AAIrC,oCAAkBA,SAJmB;AAKrC,kCAAgBA;AALqB,iBAAzC;AAOH;;AACDhB,0BAAY,CAACD,IAAb,CAAkB;AACdhI,uBAAO,EAAPA,OADc;AAEdE,uBAAO,EAAPA,OAFc;AAGd8L,wBAAQ,EAAE,MAAI,CAACA;AAHD,eAAlB;AAKH,aA9CD;AA+CH;AACD;;;;;;;sCAIYC,O,EAAS;AACjB,gBAAIA,OAAO,CAAC7F,QAAZ,EAAsB;AAClB,mBAAKkB,mBAAL;AACH;AACJ;AACD;;;;;;wCAGc;AACV,iBAAK4E,yBAAL;AACA,iBAAKpF,YAAL,CAAkB6E,QAAlB;AACA,iBAAK5E,YAAL,CAAkB4E,QAAlB;AACA,iBAAK3E,UAAL,CAAgB2E,QAAhB;AACA,iBAAKzE,QAAL,CAAcc,IAAd;AACH;AACD;;;;;;;gDAIsB;AAAA;;AAClB;AACA,gBAAMP,OAAO,GAAG,KAAKA,OAAL,EAAhB;AACA;;AACA,gBAAM0E,iBAAiB,GAAGtO,MAAM,CAACuO,IAAP,CAAY,KAAKnF,0BAAjB,EAA6CvF,MAA7C,GAAsD,CAAhF;;AACA,gBAAI+F,OAAO,IAAI,CAAC0E,iBAAhB,EAAmC;AAC/B,mBAAKxH,IAAL,CAAUM,iBAAV;AAA6B;;;AAG7B,0BAAM;AACF,sBAAI,CAACgC,0BAAL,CAAgCoF,SAAhC,GAA4C,MAAI,CAAC3H,QAAL,CAAcQ,MAAd,CAAqB,MAAI,CAACtF,OAAL,CAAauF,aAAlC,EAAiD,WAAjD;AAA+D;;;;AAI3G,0BAAC5F,KAAD,EAAW;AACP,wBAAI,CAAC+M,WAAL,CAAiB/M,KAAjB;AACH,iBAN2C,CAA5C;AAOA,sBAAI,CAAC0H,0BAAL,CAAgCsF,OAAhC,GAA0C,MAAI,CAAC7H,QAAL,CAAcQ,MAAd,CAAqB,UAArB,EAAiC,SAAjC;AAA6C;;;;AAIvF,0BAAC3F,KAAD,EAAW;AACP,wBAAI,CAACiN,SAAL,CAAejN,KAAf;AACH,iBANyC,CAA1C;AAOA,sBAAI,CAAC0H,0BAAL,CAAgCwF,UAAhC,GAA6C,MAAI,CAAC/H,QAAL,CAAcQ,MAAd,CAAqB,MAAI,CAACtF,OAAL,CAAauF,aAAlC,EAAiD,YAAjD;AAAgE;;;;AAI7G,0BAAC5F,KAAD,EAAW;AACP,wBAAI,CAACmN,YAAL,CAAkBnN,KAAlB;AACH,iBAN4C,CAA7C;AAOA,sBAAI,CAAC0H,0BAAL,CAAgC0F,QAAhC,GAA2C,MAAI,CAACjI,QAAL,CAAcQ,MAAd,CAAqB,UAArB,EAAiC,UAAjC;AAA8C;;;;AAIzF,0BAAC3F,KAAD,EAAW;AACP,wBAAI,CAACqN,UAAL,CAAgBrN,KAAhB;AACH,iBAN0C,CAA3C;AAOA,sBAAI,CAAC0H,0BAAL,CAAgC4F,WAAhC,GAA8C,MAAI,CAACnI,QAAL,CAAcQ,MAAd,CAAqB,UAArB,EAAiC,aAAjC;AAAiD;;;;AAI/F,0BAAC3F,KAAD,EAAW;AACP,wBAAI,CAACqN,UAAL,CAAgBrN,KAAhB;AACH,iBAN6C,CAA9C;AAOA,sBAAI,CAAC0H,0BAAL,CAAgC6F,UAAhC,GAA6C,MAAI,CAACpI,QAAL,CAAcQ,MAAd,CAAqB,MAAI,CAACtF,OAAL,CAAauF,aAAlC,EAAiD,YAAjD;AAAgE;;;AAG7G,4BAAM;AACF,wBAAI,CAAC4H,YAAL;AACH,iBAL4C,CAA7C;AAMA,sBAAI,CAAC9F,0BAAL,CAAgC+F,UAAhC,GAA6C,MAAI,CAACtI,QAAL,CAAcQ,MAAd,CAAqB,MAAI,CAACtF,OAAL,CAAauF,aAAlC,EAAiD,YAAjD;AAAgE;;;AAG7G,4BAAM;AACF,wBAAI,CAAC8H,YAAL;AACH,iBAL4C,CAA7C;AAMH,eAnDD;AAoDH,aArDD,MAsDK,IAAI,CAACxF,OAAD,IAAY0E,iBAAhB,EAAmC;AACpC,mBAAKD,yBAAL;AACH;AACJ;AACD;;;;;;;;sCAKY3M,K,EAAO;AAAA;;AACf,gBAAI,CAAC,KAAK0H,0BAAL,CAAgCiG,SAArC,EAAgD;AAC5C,mBAAKjG,0BAAL,CAAgCiG,SAAhC,GAA4C,KAAKxI,QAAL,CAAcQ,MAAd,CAAqB,UAArB,EAAiC,WAAjC;AAA+C;;;;AAI3F,wBAACiI,cAAD,EAAoB;AAChB,sBAAI,CAACpG,YAAL,CAAkBiB,IAAlB,CAAuB;AACnBzI,uBAAK,EAAE4N,cADY;AAEnBnN,yBAAO,EAAEmN,cAAc,CAACnN,OAFL;AAGnBE,yBAAO,EAAEiN,cAAc,CAACjN;AAHL,iBAAvB;AAKH,eAV2C,CAA5C;AAWH;;AACD,iBAAK4G,YAAL,CAAkBkB,IAAlB,CAAuB;AACnBzI,mBAAK,EAALA,KADmB;AAEnBS,qBAAO,EAAET,KAAK,CAACS,OAFI;AAGnBE,qBAAO,EAAEX,KAAK,CAACW;AAHI,aAAvB;AAKH;AACD;;;;;;;;oCAKUX,K,EAAO;AACb,gBAAI,KAAK0H,0BAAL,CAAgCiG,SAApC,EAA+C;AAC3C,mBAAKjG,0BAAL,CAAgCiG,SAAhC;AACA,qBAAO,KAAKjG,0BAAL,CAAgCiG,SAAvC;AACH;;AACD,iBAAKlG,UAAL,CAAgBgB,IAAhB,CAAqB;AACjBzI,mBAAK,EAALA,KADiB;AAEjBS,qBAAO,EAAET,KAAK,CAACS,OAFE;AAGjBE,qBAAO,EAAEX,KAAK,CAACW;AAHE,aAArB;AAKH;AACD;;;;;;;;uCAKaX,K,EAAO;AAAA;;AAChB,gBAAI,CAAC,KAAK4G,eAAV,EAA2B;AACvB,kBAAI;AACA5G,qBAAK,CAAC8F,cAAN;AACH,eAFD,CAGA,OAAOzB,CAAP,EAAU,CAAG;AAChB;AACD;;;AACA,gBAAIwJ,qBAAJ;AACA;;AACA,gBAAIxF,mBAAJ;AACA;;AACA,gBAAIyF,eAAJ;;AACA,gBAAI,KAAKlH,eAAL,IAAwB,KAAKA,eAAL,CAAqBvB,mBAAjD,EAAsE;AAClE,mBAAKuC,aAAL,CAAmBC,UAAnB,GAAgCkG,IAAI,CAACC,GAAL,EAAhC;AACAF,6BAAe,GAAG,KAAlB;AACAD,mCAAqB,GAAG,KAAKjH,eAAL,CAAqBqH,YAArB,EAAxB;AACA5F,iCAAmB,GAAG,KAAKC,iBAAL,EAAtB;AACH;;AACD,gBAAI,CAAC,KAAKZ,0BAAL,CAAgCwG,SAArC,EAAgD;AAC5C,mBAAKxG,0BAAL,CAAgCwG,SAAhC,GAA4C,KAAK/I,QAAL,CAAcQ,MAAd,CAAqB,UAArB,EAAiC,WAAjC;AAA+C;;;;AAI3F,wBAACwI,cAAD,EAAoB;AAChB,oBAAI,MAAI,CAACvH,eAAL,IACA,MAAI,CAACA,eAAL,CAAqBvB,mBADrB,IAEA,CAACyI,eAFD,IAGAD,qBAHJ,EAG2B;AACvBC,iCAAe,GAAG,MAAI,CAACM,eAAL,CAAqBpO,KAArB,EAA4BmO,cAA5B,EAA4C9F,mBAA5C,CAAlB;AACH;;AACD,oBAAI,CAAC,MAAI,CAACzB,eAAN,IACA,CAAC,MAAI,CAACA,eAAL,CAAqBvB,mBADtB,IAEA,CAACwI,qBAFD,IAGAC,eAHJ,EAGqB;AACjB,wBAAI,CAACtG,YAAL,CAAkBiB,IAAlB,CAAuB;AACnBzI,yBAAK,EAAEmO,cADY;AAEnB1N,2BAAO,EAAE0N,cAAc,CAAC5N,aAAf,CAA6B,CAA7B,EAAgCE,OAFtB;AAGnBE,2BAAO,EAAEwN,cAAc,CAAC5N,aAAf,CAA6B,CAA7B,EAAgCI;AAHtB,mBAAvB;AAKH;AACJ,eArB2C,CAA5C;AAsBH;;AACD,iBAAK4G,YAAL,CAAkBkB,IAAlB,CAAuB;AACnBzI,mBAAK,EAALA,KADmB;AAEnBS,qBAAO,EAAET,KAAK,CAACqO,OAAN,CAAc,CAAd,EAAiB5N,OAFP;AAGnBE,qBAAO,EAAEX,KAAK,CAACqO,OAAN,CAAc,CAAd,EAAiB1N;AAHP,aAAvB;AAKH;AACD;;;;;;;;qCAKWX,K,EAAO;AACd,gBAAI,KAAK0H,0BAAL,CAAgCwG,SAApC,EAA+C;AAC3C,mBAAKxG,0BAAL,CAAgCwG,SAAhC;AACA,qBAAO,KAAKxG,0BAAL,CAAgCwG,SAAvC;;AACA,kBAAI,KAAKtH,eAAL,IAAwB,KAAKA,eAAL,CAAqBvB,mBAAjD,EAAsE;AAClE,qBAAKuB,eAAL,CAAqB0H,YAArB;AACH;AACJ;;AACD,iBAAK7G,UAAL,CAAgBgB,IAAhB,CAAqB;AACjBzI,mBAAK,EAALA,KADiB;AAEjBS,qBAAO,EAAET,KAAK,CAACuO,cAAN,CAAqB,CAArB,EAAwB9N,OAFhB;AAGjBE,qBAAO,EAAEX,KAAK,CAACuO,cAAN,CAAqB,CAArB,EAAwB5N;AAHhB,aAArB;AAKH;AACD;;;;;;;yCAIe;AACX,iBAAK6N,SAAL,CAAe,KAAKvH,UAApB;AACH;AACD;;;;;;;yCAIe;AACX,iBAAKuH,SAAL,CAAe,EAAf;AACH;AACD;;;;;;;oCAIU;AACN,mBAAO,KAAK3H,QAAL,CAAcrG,CAAd,IAAmB,KAAKqG,QAAL,CAAcnG,CAAxC;AACH;AACD;;;;;;;;oCAKUjC,K,EAAO;AACb,gBAAI,CAAC,KAAKiJ,0BAAL,CAAgCiG,SAArC,EAAgD;AAC5C,mBAAKxI,QAAL,CAAcY,QAAd,CAAuB,KAAK1F,OAAL,CAAauF,aAApC,EAAmD,QAAnD,EAA6DnH,KAA7D;AACH;AACJ;AACD;;;;;;;sDAI4B;AAAA;;AACxBH,kBAAM,CAACuO,IAAP,CAAY,KAAKnF,0BAAjB,EAA6CgE,OAA7C;AAAsD;;;;AAItD,sBAAApL,IAAI,EAAI;AACF;AAAkB,oBAApB,CAA4BoH,0BAA5B,CAAuDpH,IAAvD;;AACA;AAAS;AAAkB,oBAApB,CAA4BoH,0BAA5B,CAAuDpH,IAAvD,CAAP;AACH,aAPD;AAQH;AACD;;;;;;;;;2CAMiBD,O,EAASoO,M,EAAQ;AAAA;;AAC9BnQ,kBAAM,CAACuO,IAAP,CAAY4B,MAAZ,EAAoB/C,OAApB;AAA6B;;;;AAI7B,sBAAAgD,GAAG,EAAI;AACH,oBAAI,CAACvJ,QAAL,CAAcY,QAAd,CAAuB1F,OAAvB,EAAgCqO,GAAhC,EAAqCD,MAAM,CAACC,GAAD,CAA3C;AACH,aAND;AAOH;AACD;;;;;;;8CAIoB;AAChB,gBAAI,KAAK9H,eAAT,EAA0B;AACtB,qBAAO;AACHvD,mBAAG,EAAE,KAAKuD,eAAL,CAAqB1B,UAArB,CAAgCU,aAAhC,CAA8CpE,SADhD;AAEH+B,oBAAI,EAAE,KAAKqD,eAAL,CAAqB1B,UAArB,CAAgCU,aAAhC,CAA8CtE;AAFjD,eAAP;AAIH,aALD,MAMK;AACD,qBAAO;AACH+B,mBAAG,EAAEpD,MAAM,CAAC0O,WAAP,IAAsBzN,QAAQ,CAACE,eAAT,CAAyBI,SADjD;AAEH+B,oBAAI,EAAEtD,MAAM,CAAC2O,WAAP,IAAsB1N,QAAQ,CAACE,eAAT,CAAyBE;AAFlD,eAAP;AAIH;AACJ;AACD;;;;;;;;;;0CAOgBtB,K,EAAOmO,c,EAAgB9F,mB,EAAqB;AACxD;AACA,gBAAMwG,kBAAkB,GAAG,KAAKvG,iBAAL,EAA3B;AACA;;AACA,gBAAMwG,WAAW,GAAG;AAChBzL,iBAAG,EAAE+F,IAAI,CAAC2F,GAAL,CAASF,kBAAkB,CAACxL,GAAnB,GAAyBgF,mBAAmB,CAAChF,GAAtD,CADW;AAEhBE,kBAAI,EAAE6F,IAAI,CAAC2F,GAAL,CAASF,kBAAkB,CAACtL,IAAnB,GAA0B8E,mBAAmB,CAAC9E,IAAvD;AAFU,aAApB;AAIA;;AACA,gBAAMyL,MAAM,GAAG5F,IAAI,CAAC2F,GAAL,CAASZ,cAAc,CAAC5N,aAAf,CAA6B,CAA7B,EAAgCE,OAAhC,GAA0CT,KAAK,CAACqO,OAAN,CAAc,CAAd,EAAiB5N,OAApE,IAA+EqO,WAAW,CAACvL,IAA1G;AACA;;AACA,gBAAM0L,MAAM,GAAG7F,IAAI,CAAC2F,GAAL,CAASZ,cAAc,CAAC5N,aAAf,CAA6B,CAA7B,EAAgCI,OAAhC,GAA0CX,KAAK,CAACqO,OAAN,CAAc,CAAd,EAAiB1N,OAApE,IAA+EmO,WAAW,CAACzL,GAA1G;AACA;;AACA,gBAAM6L,UAAU,GAAGF,MAAM,GAAGC,MAA5B;;AACA,gBAAIC,UAAU,GAAG,KAAKtI,eAAL,CAAqBtB,eAArB,CAAqCE,KAAlD,IACAsJ,WAAW,CAACzL,GAAZ,GAAkB,CADlB,IAEAyL,WAAW,CAACvL,IAAZ,GAAmB,CAFvB,EAE0B;AACtB,mBAAKqE,aAAL,CAAmBC,UAAnB,GAAgCkG,IAAI,CAACC,GAAL,EAAhC;AACH;;AACD,iBAAKpG,aAAL,CAAmBE,QAAnB,GAA8BiG,IAAI,CAACC,GAAL,EAA9B;AACA;;AACA,gBAAMzI,QAAQ,GAAG,KAAKqC,aAAL,CAAmBE,QAAnB,GAA8B,KAAKF,aAAL,CAAmBC,UAAlE;;AACA,gBAAItC,QAAQ,IAAI,KAAKqB,eAAL,CAAqBtB,eAArB,CAAqCC,QAArD,EAA+D;AAC3D,mBAAKqB,eAAL,CAAqBuI,aAArB;AACA,qBAAO,IAAP;AACH;;AACD,mBAAO,KAAP;AACH;;;;;;AAEL1I,wBAAkB,CAAC9B,UAAnB,GAAgC,CAC5B;AAAErE,YAAI,EAAE,uDAAR;AAAmB8B,YAAI,EAAE,CAAC;AACdkE,kBAAQ,EAAE;AADI,SAAD;AAAzB,OAD4B,CAAhC;AAKA;;AACAG,wBAAkB,CAACF,cAAnB,GAAoC;AAAA,eAAM,CACtC;AAAEjG,cAAI,EAAE;AAAR,SADsC,EAEtC;AAAEA,cAAI,EAAE;AAAR,SAFsC,EAGtC;AAAEA,cAAI,EAAEmE;AAAR,SAHsC,EAItC;AAAEnE,cAAI,EAAE;AAAR,SAJsC,EAKtC;AAAEA,cAAI,EAAE;AAAR,SALsC,EAMtC;AAAEA,cAAI,EAAE2E,iCAAR;AAA2CN,oBAAU,EAAE,CAAC;AAAErE,gBAAI,EAAE;AAAR,WAAD;AAAvD,SANsC,EAOtC;AAAEA,cAAI,EAAE8D,SAAR;AAAmBO,oBAAU,EAAE,CAAC;AAAErE,gBAAI,EAAE,oDAAR;AAAgB8B,gBAAI,EAAE,CAAC,wDAAD;AAAtB,WAAD;AAA/B,SAPsC,CAAN;AAAA,OAApC;;AASAqE,wBAAkB,CAACD,cAAnB,GAAoC;AAChCiG,gBAAQ,EAAE,CAAC;AAAEnM,cAAI,EAAE;AAAR,SAAD,CADsB;AAEhCuG,gBAAQ,EAAE,CAAC;AAAEvG,cAAI,EAAE;AAAR,SAAD,CAFsB;AAGhCwG,oBAAY,EAAE,CAAC;AAAExG,cAAI,EAAE;AAAR,SAAD,CAHkB;AAIhCyG,wBAAgB,EAAE,CAAC;AAAEzG,cAAI,EAAE;AAAR,SAAD,CAJc;AAKhC0G,wCAAgC,EAAE,CAAC;AAAE1G,cAAI,EAAE;AAAR,SAAD,CALF;AAMhCmJ,oBAAY,EAAE,CAAC;AAAEnJ,cAAI,EAAE;AAAR,SAAD,CANkB;AAOhC2G,kBAAU,EAAE,CAAC;AAAE3G,cAAI,EAAE;AAAR,SAAD,CAPoB;AAQhC6J,uBAAe,EAAE,CAAC;AAAE7J,cAAI,EAAE;AAAR,SAAD,CARe;AAShCgK,4BAAoB,EAAE,CAAC;AAAEhK,cAAI,EAAE;AAAR,SAAD,CATU;AAUhC4K,4BAAoB,EAAE,CAAC;AAAE5K,cAAI,EAAE;AAAR,SAAD,CAVU;AAWhC4G,uBAAe,EAAE,CAAC;AAAE5G,cAAI,EAAE;AAAR,SAAD,CAXe;AAYhC6G,iBAAS,EAAE,CAAC;AAAE7G,cAAI,EAAE;AAAR,SAAD,CAZqB;AAahC8G,2BAAmB,EAAE,CAAC;AAAE9G,cAAI,EAAE;AAAR,SAAD,CAbW;AAchC+G,gBAAQ,EAAE,CAAC;AAAE/G,cAAI,EAAE;AAAR,SAAD,CAdsB;AAehCgH,eAAO,EAAE,CAAC;AAAEhH,cAAI,EAAE;AAAR,SAAD;AAfuB,OAApC;AAkBA;;;;;AAIA;;;;;;;AAMA,eAAS8O,2BAAT,CAAqC3O,OAArC,EAA8CE,OAA9C,EAAuDoD,IAAvD,EAA6D;AACzD,eAAQtD,OAAO,IAAIsD,IAAI,CAACR,IAAhB,IACJ9C,OAAO,IAAIsD,IAAI,CAACP,KADZ,IAEJ7C,OAAO,IAAIoD,IAAI,CAACV,GAFZ,IAGJ1C,OAAO,IAAIoD,IAAI,CAACL,MAHpB;AAIH;;UACK2L,kB;AACF;;;;;;;AAOA,oCAAYhP,OAAZ,EAAqBqG,eAArB,EAAsCtB,IAAtC,EAA4CD,QAA5C,EAAsDyB,eAAtD,EAAuE;AAAA;;AACnE,eAAKvG,OAAL,GAAeA,OAAf;AACA,eAAKqG,eAAL,GAAuBA,eAAvB;AACA,eAAKtB,IAAL,GAAYA,IAAZ;AACA,eAAKD,QAAL,GAAgBA,QAAhB;AACA,eAAKyB,eAAL,GAAuBA,eAAvB;AACA;;;;AAGA,eAAK0I,SAAL,GAAiB,IAAI,0DAAJ,EAAjB;AACA;;;;AAGA,eAAKC,SAAL,GAAiB,IAAI,0DAAJ,EAAjB;AACA;;;;AAGA,eAAKC,QAAL,GAAgB,IAAI,0DAAJ,EAAhB;AACA;;;;AAGA,eAAKC,IAAL,GAAY,IAAI,0DAAJ,EAAZ,CArBmE,CAqBnC;AACnC;AACD;;;;;;;qCAGW;AAAA;;AACP,iBAAKC,uBAAL,GAA+B,KAAKhJ,eAAL,CAAqBhC,WAArB,CAAiCmF,SAAjC;AAA4C;;;;AAI3E,sBAAA8F,KAAK,EAAI;AACL,oBAAI,CAACxK,QAAL,CAAc+E,QAAd,CAAuB,MAAI,CAAC7J,OAAL,CAAauF,aAApC,EAAmD,MAAI,CAACuE,eAAxD;AACA;;;AACA,kBAAMyF,gBAAgB,GAAG;AACrBC,2BAAW,EAAE;AADQ,eAAzB;AAGA;;AACA,kBAAMC,wBAAwB,GAAG,MAAI,CAAC3K,QAAL,CAAcQ,MAAd,CAAqB,MAAI,CAACiB,eAAL,GAChD,MAAI,CAACA,eAAL,CAAqB1B,UAArB,CAAgCU,aADgB,GAEhD,QAF2B,EAEjB,QAFiB;AAEN;;;AAG3B,0BAAM;AACFgK,gCAAgB,CAACC,WAAjB,GAA+B,IAA/B;AACH,eAPgC,CAAjC;AAQA;;;AACA,kBAAIE,mBAAJ;AACA;;AACA,kBAAMC,SAAS,GAAGL,KAAK,CAAC1H,IAAN,CAAW;AAAK;;;;AAIlC,gCAAoC;AAAA,oBAAjCxH,OAAiC,UAAjCA,OAAiC;AAAA,oBAAxBE,OAAwB,UAAxBA,OAAwB;AAAA,oBAAf8L,QAAe,UAAfA,QAAe;AAChCsD,mCAAmB,GAAGtD,QAAtB;;AACA,oBAAImD,gBAAgB,CAACC,WAArB,EAAkC;AAC9BD,kCAAgB,CAAC7L,IAAjB,GAAwB,MAAI,CAAC1D,OAAL,CAAauF,aAAb,CAA2BzB,qBAA3B,EAAxB;;AACA,sBAAI,MAAI,CAACyC,eAAT,EAA0B;AACtBgJ,oCAAgB,CAACK,mBAAjB,GAAuC,MAAI,CAACrJ,eAAL,CAAqB1B,UAArB,CAAgCU,aAAhC,CAA8CzB,qBAA9C,EAAvC;AACH;;AACDyL,kCAAgB,CAACC,WAAjB,GAA+B,KAA/B;AACH;AACD;;;AACA,oBAAMK,eAAe,GAAGd,2BAA2B,CAAC3O,OAAD,EAAUE,OAAV;AAAoB;AAAkBiP,gCAAgB,CAAC7L,IAAvD,CAAnD;;AACA,oBAAI6L,gBAAgB,CAACK,mBAArB,EAA0C;AACtC,yBAAQC,eAAe,IACnBd,2BAA2B,CAAC3O,OAAD,EAAUE,OAAV;AAAoB;AAAkBiP,kCAAgB,CAACK,mBAAvD,CAD/B;AAEH,iBAHD,MAIK;AACD,yBAAOC,eAAP;AACH;AACJ,eAtB4B,CAAX,CAAlB;AAuBA;;AACA,kBAAMC,gBAAgB,GAAGH,SAAS,CAAC/H,IAAV,CAAe,6EAAf,CAAzB;AACA;;AACA,kBAAImI,cAAJ;AACAD,8BAAgB,CACXlI,IADL,CACU;AAAQ;;;;AAIlB,wBAAAoI,WAAW;AAAA,uBAAIA,WAAJ;AAAA,eAJD,CADV,EAMKxG,SANL;AAMgB;;;AAGhB,0BAAM;AACFuG,8BAAc,GAAG,IAAjB;;AACA,sBAAI,CAACjL,QAAL,CAAc+E,QAAd,CAAuB,MAAI,CAAC7J,OAAL,CAAauF,aAApC,EAAmD,MAAI,CAAC0K,aAAxD;;AACA,sBAAI,CAAClL,IAAL,CAAUwD,GAAV;AAAe;;;AAGf,4BAAM;AACF,wBAAI,CAAC0G,SAAL,CAAe7G,IAAf,CAAoB;AAChBgE,4BAAQ,EAAEsD;AADM,mBAApB;AAGH,iBAPD;AAQH,eApBD;AAqBAC,uBAAS,CAAC/H,IAAV,CAAe;AAAQ;;;;AAIvB,wBAAAoI,WAAW;AAAA,uBAAIA,WAAJ;AAAA,eAJI,CAAf,EAI8BxG,SAJ9B;AAIyC;;;AAGzC,0BAAM;AACF,sBAAI,CAACzE,IAAL,CAAUwD,GAAV;AAAe;;;AAGf,4BAAM;AACF,wBAAI,CAAC4G,QAAL,CAAc/G,IAAd,CAAmB;AACfgE,4BAAQ,EAAEsD;AADK,mBAAnB;AAGH,iBAPD;AAQH,eAhBD;AAiBAI,8BAAgB,CACXlI,IADL,CACU,iEADV,EACsB;AAAQ;;;;AAI9B;AAAA;AAAA,oBAAEsI,UAAF;AAAA,oBAAcF,WAAd;;AAAA,uBAA+BE,UAAU,IAAI,CAACF,WAA9C;AAAA,eAJsB,CADtB,EAMKxG,SANL;AAMgB;;;AAGhB,0BAAM;AACFuG,8BAAc,GAAG,KAAjB;;AACA,sBAAI,CAACjL,QAAL,CAAcmH,WAAd,CAA0B,MAAI,CAACjM,OAAL,CAAauF,aAAvC,EAAsD,MAAI,CAAC0K,aAA3D;;AACA,sBAAI,CAAClL,IAAL,CAAUwD,GAAV;AAAe;;;AAGf,4BAAM;AACF,wBAAI,CAAC2G,SAAL,CAAe9G,IAAf,CAAoB;AAChBgE,4BAAQ,EAAEsD;AADM,mBAApB;AAGH,iBAPD;AAQH,eApBD;AAqBAJ,mBAAK,CAAC9F,SAAN,CAAgB;AACZuC,wBAAQ;AAAG;;;AAGX,oCAAM;AACF0D,0CAAwB;;AACxB,wBAAI,CAAC3K,QAAL,CAAcmH,WAAd,CAA0B,MAAI,CAACjM,OAAL,CAAauF,aAAvC,EAAsD,MAAI,CAACuE,eAA3D;;AACA,sBAAIiG,cAAJ,EAAoB;AAChB,0BAAI,CAACjL,QAAL,CAAcmH,WAAd,CAA0B,MAAI,CAACjM,OAAL,CAAauF,aAAvC,EAAsD,MAAI,CAAC0K,aAA3D;;AACA,0BAAI,CAAClL,IAAL,CAAUwD,GAAV;AAAe;;;AAGf,gCAAM;AACF,4BAAI,CAAC6G,IAAL,CAAUhH,IAAV,CAAe;AACXgE,gCAAQ,EAAEsD;AADC,uBAAf;AAGH,qBAPD;AAQH;AACJ;AAlBW,eAAhB;AAoBH,aAhI8B,CAA/B;AAiIH;AACD;;;;;;wCAGc;AACV,gBAAI,KAAKL,uBAAT,EAAkC;AAC9B,mBAAKA,uBAAL,CAA6Bc,WAA7B;AACH;AACJ;;;;;;AAELnB,wBAAkB,CAAC1K,UAAnB,GAAgC,CAC5B;AAAErE,YAAI,EAAE,uDAAR;AAAmB8B,YAAI,EAAE,CAAC;AACdkE,kBAAQ,EAAE;AADI,SAAD;AAAzB,OAD4B,CAAhC;AAKA;;AACA+I,wBAAkB,CAAC9I,cAAnB,GAAoC;AAAA,eAAM,CACtC;AAAEjG,cAAI,EAAE;AAAR,SADsC,EAEtC;AAAEA,cAAI,EAAEmE;AAAR,SAFsC,EAGtC;AAAEnE,cAAI,EAAE;AAAR,SAHsC,EAItC;AAAEA,cAAI,EAAE;AAAR,SAJsC,EAKtC;AAAEA,cAAI,EAAE2E,iCAAR;AAA2CN,oBAAU,EAAE,CAAC;AAAErE,gBAAI,EAAE;AAAR,WAAD;AAAvD,SALsC,CAAN;AAAA,OAApC;;AAOA+O,wBAAkB,CAAC7I,cAAnB,GAAoC;AAChC8J,qBAAa,EAAE,CAAC;AAAEhQ,cAAI,EAAE;AAAR,SAAD,CADiB;AAEhC6J,uBAAe,EAAE,CAAC;AAAE7J,cAAI,EAAE;AAAR,SAAD,CAFe;AAGhCgP,iBAAS,EAAE,CAAC;AAAEhP,cAAI,EAAE;AAAR,SAAD,CAHqB;AAIhCiP,iBAAS,EAAE,CAAC;AAAEjP,cAAI,EAAE;AAAR,SAAD,CAJqB;AAKhCkP,gBAAQ,EAAE,CAAC;AAAElP,cAAI,EAAE;AAAR,SAAD,CALsB;AAMhCmP,YAAI,EAAE,CAAC;AAAEnP,cAAI,EAAE;AAAR,SAAD;AAN0B,OAApC;AASA;;;;;UAIMmQ,iB;;;;AAENA,uBAAiB,CAAC9L,UAAlB,GAA+B,CAC3B;AAAErE,YAAI,EAAE,sDAAR;AAAkB8B,YAAI,EAAE,CAAC;AACbsO,sBAAY,EAAE,CACVjK,kBADU,EAEV4I,kBAFU,EAGVpK,iCAHU,CADD;AAMbzG,iBAAO,EAAE,CACLiI,kBADK,EAEL4I,kBAFK,EAGLpK,iCAHK;AANI,SAAD;AAAxB,OAD2B,CAA/B;AAeA;;;;;AAKA;;;;AAOA;;;;;;;;;;;;;;;AC7lCA;;;AAIA,UAAI0L,OAAO,GAAGtO,KAAK,CAACsO,OAApB;AAEA;;;;AAIA,UAAIC,GAAG,GAAGtS,MAAM,CAACuS,SAAP,CAAiBC,QAA3B;AAEA;;;;;;;;;;;;;;;;;AAiBApP,YAAM,CAAClD,OAAP,GAAiBmS,OAAO,IAAI,UAAUI,GAAV,EAAe;AACzC,eAAO,CAAC,CAAEA,GAAH,IAAU,oBAAoBH,GAAG,CAACI,IAAJ,CAASD,GAAT,CAArC;AACD,OAFD;;;;;;;;;;;;;;;;;AC5BAzS,YAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,aAAK,EAAE;AAAT,OAA7C;;AAEA,eAASuE,eAAT,CAA0BC,EAA1B,EAA8B;AAAE,eAAQA,EAAE,IAAK,OAAOA,EAAP,KAAc,QAArB,IAAkC,aAAaA,EAAhD,GAAsDA,EAAE,CAAC,SAAD,CAAxD,GAAsEA,EAA7E;AAAkF;;AAElH,UAAIgO,SAAS,GAAGjO,eAAe,CAAC,mBAAO;AAAC;AAAA,YAAD,CAAR,CAA/B;;AACA,UAAI2N,OAAO,GAAG3N,eAAe,CAAC,mBAAO;AAAC;AAAA,YAAD,CAAR,CAA7B;;AACA,UAAIkO,SAAS,GAAGlO,eAAe,CAAC,mBAAO;AAAC;AAAA,YAAD,CAAR,CAA/B;;AAEA,UAAImO,OAAO,GAAG,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA3D,GAAsE,UAAUC,GAAV,EAAe;AAAE,eAAO,OAAOA,GAAd;AAAoB,OAA3G,GAA8G,UAAUA,GAAV,EAAe;AAAE,eAAOA,GAAG,IAAI,OAAOF,MAAP,KAAkB,UAAzB,IAAuCE,GAAG,CAACC,WAAJ,KAAoBH,MAA3D,GAAoE,QAApE,GAA+E,OAAOE,GAA7F;AAAmG,OAAhP;AAEA;;;;;;;;AAMA,UAAIE,WAAW,GAAG,SAAdA,WAAc,CAAUC,KAAV,EAAiB;AACjC,eAAOA,KAAK,IAAI,IAAT,IAAiB,CAAC,OAAOA,KAAP,KAAiB,WAAjB,GAA+B,WAA/B,GAA6CN,OAAO,CAACM,KAAD,CAArD,MAAkE,QAAnF,IAA+FA,KAAK,CAACC,QAAN,KAAmB,CAAlH,IAAuHP,OAAO,CAACM,KAAK,CAAC7G,KAAP,CAAP,KAAyB,QAAhJ,IAA4JuG,OAAO,CAACM,KAAK,CAACxQ,aAAP,CAAP,KAAiC,QAApM;AACD,OAFD;;AAIA,eAAS0Q,MAAT,CAAgBrL,QAAhB,EAAyB;AACrB,YAAG,OAAOA,QAAP,KAAoB,QAAvB,EAAgC;AAC5B,cAAG;AACC,mBAAOpF,QAAQ,CAAC0Q,aAAT,CAAuBtL,QAAvB,CAAP;AACH,WAFD,CAEC,OAAMjC,CAAN,EAAQ;AACL,kBAAMA,CAAN;AACH;AACJ,SAND,MAMM,IAAG6M,SAAS,CAAC5K,QAAD,CAAZ,EAAuB;AACzB,iBAAOA,QAAP;AACH;AACJ;;AAED,eAASuL,SAAT,CAAmBvL,QAAnB,EAA4B;AACxB,YAAG,OAAOA,QAAP,KAAoB,QAAvB,EAAgC;AAC5B,iBAAOjE,KAAK,CAACwO,SAAN,CAAgBiB,KAAhB,CAAsBvP,KAAtB,CACHrB,QAAQ,CAAC6Q,gBAAT,CAA0BzL,QAA1B,CADG,CAAP;AAGH,SAJD,MAIM,IAAGqK,OAAO,CAACrK,QAAD,CAAV,EAAqB;AACvB,iBAAOA,QAAQ,CAAC0L,GAAT,CAAaL,MAAb,CAAP;AACH,SAFK,MAEA,IAAG,YAAYrL,QAAf,EAAwB;AAC1B,iBAAO2K,SAAS,CAAC3K,QAAD,CAAT,CAAoB0L,GAApB,CAAwBL,MAAxB,CAAP;AACH;AACJ;;AAED,eAASM,cAAT,CAAwBC,QAAxB,EAAkC7R,OAAlC,EAA0C;AACtCA,eAAO,GAAG8R,cAAc,CAAC9R,OAAD,EAAU,IAAV,CAAxB;;AACA,YAAG,CAACmR,WAAW,CAACnR,OAAD,CAAf,EAA0B;AAAE,iBAAO,CAAC,CAAR;AAAY;;AACxC,aAAI,IAAI+R,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACF,QAAQ,CAAC/P,MAAxB,EAAgCiQ,CAAC,EAAjC,EAAoC;AAChC,cAAGF,QAAQ,CAACE,CAAD,CAAR,KAAgB/R,OAAnB,EAA2B;AACvB,mBAAO+R,CAAP;AACH;AACJ;;AACD,eAAO,CAAC,CAAR;AACH;;AAED,eAASC,UAAT,CAAoBH,QAApB,EAA8B7R,OAA9B,EAAsC;AAClC,eAAO,CAAC,CAAD,KAAO4R,cAAc,CAACC,QAAD,EAAW7R,OAAX,CAA5B;AACH;;AAED,eAASiS,SAAT,CAAmBC,GAAnB,EAAuB;AAEnB,YAAG,CAACA,GAAJ,EAAS;AAAE,iBAAO,EAAP;AAAY;;AAEvB,YAAG;AACC,cAAG,OAAOA,GAAP,KAAe,QAAlB,EAA2B;AACvB,mBAAOtB,SAAS,CAAC/P,QAAQ,CAAC6Q,gBAAT,CAA0BQ,GAA1B,CAAD,CAAhB;AACH,WAFD,MAEM,IAAG5B,OAAO,CAAC4B,GAAD,CAAV,EAAgB;AAClB,mBAAOA,GAAG,CAACP,GAAJ,CAAQG,cAAR,CAAP;AACH,WAFK,MAED;AACD,gBAAG,OAAOI,GAAG,CAACpQ,MAAX,KAAsB,WAAzB,EAAqC;AACjC,qBAAO,CAACgQ,cAAc,CAACI,GAAD,CAAf,CAAP;AACH;;AAED,mBAAOtB,SAAS,CAACsB,GAAD,EAAMJ,cAAN,CAAhB;AAEH;AACJ,SAbD,CAaC,OAAM9N,CAAN,EAAQ;AACL,gBAAM,IAAImO,KAAJ,CAAUnO,CAAV,CAAN;AACH;AAEJ;;AAED,eAASoO,kBAAT,GAA6B;AACzB,YAAIC,KAAK,GAAG,EAAZ;AAAA,YAAgBC,GAAG,GAAGzQ,SAAS,CAACC,MAAhC;;AACA,eAAQwQ,GAAG,EAAX;AAAgBD,eAAK,CAAEC,GAAF,CAAL,GAAezQ,SAAS,CAAEyQ,GAAF,CAAxB;AAAhB;;AAEA,eAAOD,KAAK,CAACE,MAAN,CAAa,UAAUC,IAAV,EAAgBC,IAAhB,EAAqB;AACrC,iBAAOA,IAAI,CAAC3Q,MAAL,GAAc0Q,IAAd,GAAqBA,IAAI,CAACE,MAAL,CAAYT,SAAS,CAACQ,IAAD,CAArB,CAA5B;AACH,SAFM,EAEJ,EAFI,CAAP;AAGH;;AAED,eAASE,YAAT,CAAsBd,QAAtB,EAAgCe,KAAhC,EAAsC;AAElC,aAAI,IAAIb,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACa,KAAK,CAAC9Q,MAArB,EAA6BiQ,CAAC,EAA9B,EAAiC;AAC7B,cAAG,CAACC,UAAU,CAACH,QAAD,EAAWe,KAAK,CAACb,CAAD,CAAhB,CAAd,EACI;AAAEF,oBAAQ,CAACgB,IAAT,CAAcD,KAAK,CAACb,CAAD,CAAnB;AAA0B;AACnC;;AAED,eAAOa,KAAP;AACH;;AAED,eAASE,WAAT,CAAqBjB,QAArB,EAA8B;AAC1B,YAAIe,KAAK,GAAG,EAAZ;AAAA,YAAgBN,GAAG,GAAGzQ,SAAS,CAACC,MAAV,GAAmB,CAAzC;;AACA,eAAQwQ,GAAG,KAAK,CAAhB;AAAoBM,eAAK,CAAEN,GAAF,CAAL,GAAezQ,SAAS,CAAEyQ,GAAG,GAAG,CAAR,CAAxB;AAApB;;AAEAM,aAAK,GAAGA,KAAK,CAACjB,GAAN,CAAUG,cAAV,CAAR;AACA,eAAOa,YAAY,CAACd,QAAD,EAAWe,KAAX,CAAnB;AACH;;AAED,eAASG,cAAT,CAAwBlB,QAAxB,EAAiC;AAC7B,YAAImB,QAAQ,GAAG,EAAf;AAAA,YAAmBV,GAAG,GAAGzQ,SAAS,CAACC,MAAV,GAAmB,CAA5C;;AACA,eAAQwQ,GAAG,KAAK,CAAhB;AAAoBU,kBAAQ,CAAEV,GAAF,CAAR,GAAkBzQ,SAAS,CAAEyQ,GAAG,GAAG,CAAR,CAA3B;AAApB;;AAEA,eAAOU,QAAQ,CAACrB,GAAT,CAAaG,cAAb,EAA6BS,MAA7B,CAAoC,UAAUC,IAAV,EAAgBxO,CAAhB,EAAkB;AAEzD,cAAIiP,KAAK,GAAGrB,cAAc,CAACC,QAAD,EAAW7N,CAAX,CAA1B;;AAEA,cAAGiP,KAAK,KAAK,CAAC,CAAd,EACI;AAAE,mBAAOT,IAAI,CAACE,MAAL,CAAYb,QAAQ,CAACqB,MAAT,CAAgBD,KAAhB,EAAuB,CAAvB,CAAZ,CAAP;AAAgD;;AACtD,iBAAOT,IAAP;AACH,SAPM,EAOJ,EAPI,CAAP;AAQH;;AAED,eAASV,cAAT,CAAwB9R,OAAxB,EAAiCmT,OAAjC,EAAyC;AACrC,YAAG,OAAOnT,OAAP,KAAmB,QAAtB,EAA+B;AAC3B,cAAG;AACC,mBAAOa,QAAQ,CAAC0Q,aAAT,CAAuBvR,OAAvB,CAAP;AACH,WAFD,CAEC,OAAMgE,CAAN,EAAQ;AACL,kBAAMA,CAAN;AACH;AAEJ;;AAED,YAAG,CAACmN,WAAW,CAACnR,OAAD,CAAZ,IAAyB,CAACmT,OAA7B,EAAqC;AACjC,gBAAM,IAAIlP,SAAJ,CAAejE,OAAO,GAAG,wBAAzB,CAAN;AACH;;AACD,eAAOA,OAAP;AACH;;AAED7B,aAAO,CAACyT,cAAR,GAAyBA,cAAzB;AACAzT,aAAO,CAAC6T,UAAR,GAAqBA,UAArB;AACA7T,aAAO,CAAC8T,SAAR,GAAoBA,SAApB;AACA9T,aAAO,CAACiU,kBAAR,GAA6BA,kBAA7B;AACAjU,aAAO,CAAC2U,WAAR,GAAsBA,WAAtB;AACA3U,aAAO,CAAC4U,cAAR,GAAyBA,cAAzB;AACA5U,aAAO,CAAC2T,cAAR,GAAyBA,cAAzB;AACA3T,aAAO,CAACmT,MAAR,GAAiBA,MAAjB;AACAnT,aAAO,CAACqT,SAAR,GAAoBA,SAApB,C,CACA;;;;;;;;;;;;;;;;;ACtJA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,S,CAAA;AACA;;;AACA,UAAI4B,WAAW;AAAG;AAAe,kBAAY;AACzC,iBAASA,WAAT,GAAuB,CACtB;;AACDA,mBAAW,CAAC5C,SAAZ,CAAsB6C,YAAtB,GAAqC,UAAUrT,OAAV,EAAmB;AAAE,iBAAOJ,MAAM,CAAC0T,gBAAP,CAAwBtT,OAAxB,CAAP;AAA0C,SAApG;;AACAoT,mBAAW,CAAC5C,SAAZ,CAAsB+C,QAAtB,GAAiC,UAAUvT,OAAV,EAAmBwT,IAAnB,EAAyB;AAAE,iBAAO,KAAKH,YAAL,CAAkBrT,OAAlB,EAA2BwT,IAA3B,CAAP;AAA0C,SAAtG;;AACAJ,mBAAW,CAAC5C,SAAZ,CAAsBiD,kBAAtB,GAA2C,UAAUzT,OAAV,EAAmB;AAC1D,iBAAO,CAAC,KAAKuT,QAAL,CAAcvT,OAAd,EAAuB,UAAvB,KAAsC,QAAvC,MAAqD,QAA5D;AACH,SAFD;;AAGAoT,mBAAW,CAAC5C,SAAZ,CAAsBkD,YAAtB,GAAqC,UAAU1T,OAAV,EAAmB;AACpD,cAAI2T,cAAc,GAAG3T,OAAO,CAAC0T,YAAR,IAAwB7S,QAAQ,CAACE,eAAtD;;AACA,iBAAO4S,cAAc,IAAIA,cAAc,KAAK9S,QAAQ,CAACE,eAA9C,IAAiE,KAAK0S,kBAAL,CAAwBE,cAAxB,CAAxE,EAAiH;AAC7GA,0BAAc,GAAGA,cAAc,CAACD,YAAhC;AACH;;AACD,iBAAOC,cAAc,IAAI9S,QAAQ,CAACE,eAAlC;AACH,SAND;;AAOAqS,mBAAW,CAAC5C,SAAZ,CAAsB9F,QAAtB,GAAiC,UAAU1K,OAAV,EAAmBgJ,KAAnB,EAA0B;AACvD,cAAIA,KAAK,KAAK,KAAK,CAAnB,EAAsB;AAAEA,iBAAK,GAAG,IAAR;AAAe;;AACvC,cAAI4K,UAAJ;AACA,cAAIC,YAAY,GAAG;AAAEtQ,iBAAK,EAAE,CAAT;AAAYC,kBAAM,EAAE,CAApB;AAAuBR,eAAG,EAAE,CAA5B;AAA+BK,kBAAM,EAAE,CAAvC;AAA0CH,gBAAI,EAAE,CAAhD;AAAmDC,iBAAK,EAAE;AAA1D,WAAnB;;AACA,cAAI,KAAKoQ,QAAL,CAAcvT,OAAd,EAAuB,UAAvB,MAAuC,OAA3C,EAAoD;AAChD4T,sBAAU,GAAG5T,OAAO,CAAC8D,qBAAR,EAAb;AACA8P,sBAAU,GAAG;AACT5Q,iBAAG,EAAE4Q,UAAU,CAAC5Q,GADP;AAETK,oBAAM,EAAEuQ,UAAU,CAACvQ,MAFV;AAGTH,kBAAI,EAAE0Q,UAAU,CAAC1Q,IAHR;AAITC,mBAAK,EAAEyQ,UAAU,CAACzQ,KAJT;AAKTK,oBAAM,EAAEoQ,UAAU,CAACpQ,MALV;AAMTD,mBAAK,EAAEqQ,UAAU,CAACrQ;AANT,aAAb;AAQH,WAVD,MAWK;AACD,gBAAIoQ,cAAc,GAAG,KAAKD,YAAL,CAAkB1T,OAAlB,CAArB;AACA4T,sBAAU,GAAG,KAAKE,MAAL,CAAY9T,OAAZ,EAAqB,KAArB,CAAb;;AACA,gBAAI2T,cAAc,KAAK9S,QAAQ,CAACE,eAAhC,EAAiD;AAC7C8S,0BAAY,GAAG,KAAKC,MAAL,CAAYH,cAAZ,EAA4B,KAA5B,CAAf;AACH;;AACDE,wBAAY,CAAC7Q,GAAb,IAAoB2Q,cAAc,CAACvS,SAAnC;AACAyS,wBAAY,CAAC3Q,IAAb,IAAqByQ,cAAc,CAACzS,UAApC;AACH;;AACD0S,oBAAU,CAAC5Q,GAAX,IAAkB6Q,YAAY,CAAC7Q,GAA/B;AACA4Q,oBAAU,CAACvQ,MAAX,IAAqBwQ,YAAY,CAAC7Q,GAAlC;AACA4Q,oBAAU,CAAC1Q,IAAX,IAAmB2Q,YAAY,CAAC3Q,IAAhC;AACA0Q,oBAAU,CAACzQ,KAAX,IAAoB0Q,YAAY,CAAC3Q,IAAjC;;AACA,cAAI8F,KAAJ,EAAW;AACP4K,sBAAU,CAAC5Q,GAAX,GAAiB+F,IAAI,CAACC,KAAL,CAAW4K,UAAU,CAAC5Q,GAAtB,CAAjB;AACA4Q,sBAAU,CAACvQ,MAAX,GAAoB0F,IAAI,CAACC,KAAL,CAAW4K,UAAU,CAACvQ,MAAtB,CAApB;AACAuQ,sBAAU,CAAC1Q,IAAX,GAAkB6F,IAAI,CAACC,KAAL,CAAW4K,UAAU,CAAC1Q,IAAtB,CAAlB;AACA0Q,sBAAU,CAACzQ,KAAX,GAAmB4F,IAAI,CAACC,KAAL,CAAW4K,UAAU,CAACzQ,KAAtB,CAAnB;AACH;;AACD,iBAAOyQ,UAAP;AACH,SAnCD;;AAoCAR,mBAAW,CAAC5C,SAAZ,CAAsBsD,MAAtB,GAA+B,UAAU9T,OAAV,EAAmBgJ,KAAnB,EAA0B;AACrD,cAAIA,KAAK,KAAK,KAAK,CAAnB,EAAsB;AAAEA,iBAAK,GAAG,IAAR;AAAe;;AACvC,cAAI+K,KAAK,GAAG/T,OAAO,CAAC8D,qBAAR,EAAZ;AACA,cAAIkQ,cAAc,GAAG;AACjBhR,eAAG,EAAEpD,MAAM,CAAC0O,WAAP,GAAqBzN,QAAQ,CAACE,eAAT,CAAyBK,SADlC;AAEjB8B,gBAAI,EAAEtD,MAAM,CAAC2O,WAAP,GAAqB1N,QAAQ,CAACE,eAAT,CAAyBG;AAFnC,WAArB;AAIA,cAAI+S,QAAQ,GAAG;AACXzQ,kBAAM,EAAEuQ,KAAK,CAACvQ,MAAN,IAAgBxD,OAAO,CAACkU,YADrB;AAEX3Q,iBAAK,EAAEwQ,KAAK,CAACxQ,KAAN,IAAevD,OAAO,CAACmU,WAFnB;AAGXnR,eAAG,EAAE+Q,KAAK,CAAC/Q,GAAN,GAAYgR,cAAc,CAAChR,GAHrB;AAIXK,kBAAM,EAAE0Q,KAAK,CAAC1Q,MAAN,GAAe2Q,cAAc,CAAChR,GAJ3B;AAKXE,gBAAI,EAAE6Q,KAAK,CAAC7Q,IAAN,GAAa8Q,cAAc,CAAC9Q,IALvB;AAMXC,iBAAK,EAAE4Q,KAAK,CAAC5Q,KAAN,GAAc6Q,cAAc,CAAC9Q;AANzB,WAAf;;AAQA,cAAI8F,KAAJ,EAAW;AACPiL,oBAAQ,CAACzQ,MAAT,GAAkBuF,IAAI,CAACC,KAAL,CAAWiL,QAAQ,CAACzQ,MAApB,CAAlB;AACAyQ,oBAAQ,CAAC1Q,KAAT,GAAiBwF,IAAI,CAACC,KAAL,CAAWiL,QAAQ,CAAC1Q,KAApB,CAAjB;AACA0Q,oBAAQ,CAACjR,GAAT,GAAe+F,IAAI,CAACC,KAAL,CAAWiL,QAAQ,CAACjR,GAApB,CAAf;AACAiR,oBAAQ,CAAC5Q,MAAT,GAAkB0F,IAAI,CAACC,KAAL,CAAWiL,QAAQ,CAAC5Q,MAApB,CAAlB;AACA4Q,oBAAQ,CAAC/Q,IAAT,GAAgB6F,IAAI,CAACC,KAAL,CAAWiL,QAAQ,CAAC/Q,IAApB,CAAhB;AACA+Q,oBAAQ,CAAC9Q,KAAT,GAAiB4F,IAAI,CAACC,KAAL,CAAWiL,QAAQ,CAAC9Q,KAApB,CAAjB;AACH;;AACD,iBAAO8Q,QAAP;AACH,SAxBD;AAyBA;;;;;AAGAb,mBAAW,CAAC5C,SAAZ,CAAsB4D,gBAAtB,GAAyC,UAAUC,WAAV,EAAuBC,aAAvB,EAAsCC,SAAtC,EAAiDC,YAAjD,EAA+D;AACpG,cAAIC,EAAE,GAAGF,SAAS,CAACG,KAAV,CAAgB,GAAhB,CAAT;AAAA,cAA+BC,EAAE,GAAGF,EAAE,CAAC,CAAD,CAAtC;AAAA,cAA2CG,gBAAgB,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,KAAhB,GAAwBA,EAAtF;AAAA,cAA0FE,EAAE,GAAGJ,EAAE,CAAC,CAAD,CAAjG;AAAA,cAAsGK,kBAAkB,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,QAAhB,GAA2BA,EAAtJ;;AACA,cAAIE,cAAc,GAAGP,YAAY,GAAG,KAAKV,MAAL,CAAYO,WAAZ,EAAyB,KAAzB,CAAH,GAAqC,KAAK3J,QAAL,CAAc2J,WAAd,EAA2B,KAA3B,CAAtE;AACA,cAAIW,cAAc,GAAG,KAAK3B,YAAL,CAAkBiB,aAAlB,CAArB;AACA,cAAIW,SAAS,GAAGC,UAAU,CAACF,cAAc,CAACC,SAAhB,CAA1B;AACA,cAAIE,YAAY,GAAGD,UAAU,CAACF,cAAc,CAACG,YAAhB,CAA7B;AACA,cAAIC,UAAU,GAAGF,UAAU,CAACF,cAAc,CAACI,UAAhB,CAA3B;AACA,cAAIC,WAAW,GAAGH,UAAU,CAACF,cAAc,CAACK,WAAhB,CAA5B;AACA,cAAIC,WAAW,GAAG,CAAlB;AACA,cAAIC,YAAY,GAAG,CAAnB;;AACA,kBAAQX,gBAAR;AACI,iBAAK,KAAL;AACIU,yBAAW,GAAIP,cAAc,CAAC/R,GAAf,IAAsBsR,aAAa,CAACJ,YAAd,GAA6Be,SAA7B,GAAyCE,YAA/D,CAAf;AACA;;AACJ,iBAAK,QAAL;AACIG,yBAAW,GAAIP,cAAc,CAAC/R,GAAf,GAAqB+R,cAAc,CAACvR,MAAnD;AACA;;AACJ,iBAAK,MAAL;AACI+R,0BAAY,GAAIR,cAAc,CAAC7R,IAAf,IAAuBoR,aAAa,CAACH,WAAd,GAA4BiB,UAA5B,GAAyCC,WAAhE,CAAhB;AACA;;AACJ,iBAAK,OAAL;AACIE,0BAAY,GAAIR,cAAc,CAAC7R,IAAf,GAAsB6R,cAAc,CAACxR,KAArD;AACA;AAZR;;AAcA,kBAAQuR,kBAAR;AACI,iBAAK,KAAL;AACIQ,yBAAW,GAAGP,cAAc,CAAC/R,GAA7B;AACA;;AACJ,iBAAK,QAAL;AACIsS,yBAAW,GAAGP,cAAc,CAAC/R,GAAf,GAAqB+R,cAAc,CAACvR,MAApC,GAA6C8Q,aAAa,CAACJ,YAAzE;AACA;;AACJ,iBAAK,MAAL;AACIqB,0BAAY,GAAGR,cAAc,CAAC7R,IAA9B;AACA;;AACJ,iBAAK,OAAL;AACIqS,0BAAY,GAAGR,cAAc,CAAC7R,IAAf,GAAsB6R,cAAc,CAACxR,KAArC,GAA6C+Q,aAAa,CAACH,WAA1E;AACA;;AACJ,iBAAK,QAAL;AACI,kBAAIS,gBAAgB,KAAK,KAArB,IAA8BA,gBAAgB,KAAK,QAAvD,EAAiE;AAC7DW,4BAAY,GAAIR,cAAc,CAAC7R,IAAf,GAAsB6R,cAAc,CAACxR,KAAf,GAAuB,CAA7C,GAAiD+Q,aAAa,CAACH,WAAd,GAA4B,CAA7F;AACH,eAFD,MAGK;AACDmB,2BAAW,GAAIP,cAAc,CAAC/R,GAAf,GAAqB+R,cAAc,CAACvR,MAAf,GAAwB,CAA7C,GAAiD8Q,aAAa,CAACJ,YAAd,GAA6B,CAA7F;AACH;;AACD;AApBR,WAxBoG,CA8CpG;AACA;;;AACAI,uBAAa,CAAC/J,KAAd,CAAoBlB,SAApB,GAAgC,eAAeN,IAAI,CAACC,KAAL,CAAWuM,YAAX,CAAf,GAA0C,MAA1C,GAAmDxM,IAAI,CAACC,KAAL,CAAWsM,WAAX,CAAnD,GAA6E,KAA7G,CAhDoG,CAiDpG;;AACA,cAAIE,WAAW,GAAGlB,aAAa,CAACxQ,qBAAd,EAAlB;AACA,cAAI2R,IAAI,GAAG5U,QAAQ,CAACE,eAApB;AACA,cAAI2U,YAAY,GAAG9V,MAAM,CAAC0D,WAAP,IAAsBmS,IAAI,CAACzP,YAA9C;AACA,cAAI2P,WAAW,GAAG/V,MAAM,CAACwD,UAAP,IAAqBqS,IAAI,CAAC5P,WAA5C;AACA,iBAAO2P,WAAW,CAACtS,IAAZ,IAAoB,CAApB,IAAyBsS,WAAW,CAACxS,GAAZ,IAAmB,CAA5C,IAAiDwS,WAAW,CAACrS,KAAZ,IAAqBwS,WAAtE,IACHH,WAAW,CAACnS,MAAZ,IAAsBqS,YAD1B;AAEH,SAxDD;;AAyDA,eAAOtC,WAAP;AACH,OAzIgC,EAAjC;;AA2IA,UAAIwC,kBAAkB,GAAG,KAAzB;AACA,UAAIC,eAAe,GAAG,IAAIzC,WAAJ,EAAtB;AACA;;;;;;;;;;;AAUO,eAASgB,gBAAT,CAA0BC,WAA1B,EAAuCC,aAAvC,EAAsDC,SAAtD,EAAiEC,YAAjE,EAA+EsB,SAA/E,EAA0F;AAC7F,YAAIC,aAAa,GAAG/T,KAAK,CAACsO,OAAN,CAAciE,SAAd,IAA2BA,SAA3B,GAAuCA,SAAS,CAACG,KAAV,CAAgBkB,kBAAhB,CAA3D;AACA,YAAII,iBAAiB,GAAG,CACpB,KADoB,EACb,QADa,EACH,MADG,EACK,OADL,EACc,UADd,EAC0B,WAD1B,EACuC,aADvC,EACsD,cADtD,EACsE,UADtE,EACkF,aADlF,EAEpB,WAFoB,EAEP,cAFO,CAAxB;AAIA,YAAIC,SAAS,GAAG3B,aAAa,CAAC2B,SAA9B;;AACA,YAAIC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAUC,eAAV,EAA2B;AAChD,cAAI1B,EAAE,GAAG0B,eAAe,CAACzB,KAAhB,CAAsB,GAAtB,CAAT;AAAA,cAAqC0B,OAAO,GAAG3B,EAAE,CAAC,CAAD,CAAjD;AAAA,cAAsD4B,SAAS,GAAG5B,EAAE,CAAC,CAAD,CAApE;;AACA,cAAI6B,OAAO,GAAG,EAAd;;AACA,cAAIR,SAAJ,EAAe;AACXQ,mBAAO,CAACzD,IAAR,CAAaiD,SAAS,GAAG,GAAZ,GAAkBM,OAA/B;;AACA,gBAAIC,SAAJ,EAAe;AACXC,qBAAO,CAACzD,IAAR,CAAaiD,SAAS,GAAG,GAAZ,GAAkBM,OAAlB,GAA4B,GAA5B,GAAkCC,SAA/C;AACH;;AACDC,mBAAO,CAACjL,OAAR,CAAgB,UAAUkL,SAAV,EAAqB;AAAEN,uBAAS,CAACO,GAAV,CAAcD,SAAd;AAA2B,aAAlE;AACH;;AACD,iBAAOD,OAAP;AACH,SAXD,CAP6F,CAmB7F;;;AACA,YAAIR,SAAJ,EAAe;AACXE,2BAAiB,CAAC3K,OAAlB,CAA0B,UAAUoL,iBAAV,EAA6B;AAAER,qBAAS,CAAC3K,MAAV,CAAiBwK,SAAS,GAAG,GAAZ,GAAkBW,iBAAnC;AAAwD,WAAjH;AACH,SAtB4F,CAuB7F;;;AACA,YAAIC,OAAO,GAAGX,aAAa,CAACY,SAAd,CAAwB,UAAUjG,GAAV,EAAe;AAAE,iBAAOA,GAAG,KAAK,MAAf;AAAwB,SAAjE,CAAd;;AACA,YAAIgG,OAAO,IAAI,CAAf,EAAkB;AACdV,2BAAiB,CAAC3K,OAAlB,CAA0B,UAAU4F,GAAV,EAAe;AACrC,gBAAI8E,aAAa,CAACa,IAAd,CAAmB,UAAUlG,GAAV,EAAe;AAAE,qBAAOA,GAAG,CAACmG,MAAJ,CAAW,MAAM5F,GAAjB,MAA0B,CAAC,CAAlC;AAAsC,aAA1E,KAA+E,IAAnF,EAAyF;AACrF8E,2BAAa,CAAC7C,MAAd,CAAqBwD,OAAO,EAA5B,EAAgC,CAAhC,EAAmCzF,GAAnC;AACH;AACJ,WAJD;AAKH,SA/B4F,CAgC7F;AACA;;;AACA,YAAI1G,KAAK,GAAG+J,aAAa,CAAC/J,KAA1B;AACAA,aAAK,CAACG,QAAN,GAAiB,UAAjB;AACAH,aAAK,CAACvH,GAAN,GAAY,GAAZ;AACAuH,aAAK,CAACrH,IAAN,GAAa,GAAb;AACAqH,aAAK,CAAC,aAAD,CAAL,GAAuB,WAAvB;AACA,YAAIuM,aAAJ;AACA,YAAIC,YAAY,GAAG,KAAnB;;AACA,aAAK,IAAIC,EAAE,GAAG,CAAT,EAAYC,eAAe,GAAGlB,aAAnC,EAAkDiB,EAAE,GAAGC,eAAe,CAACnV,MAAvE,EAA+EkV,EAAE,EAAjF,EAAqF;AACjFF,uBAAa,GAAGG,eAAe,CAACD,EAAD,CAA/B;AACA,cAAIE,YAAY,GAAGhB,kBAAkB,CAACY,aAAD,CAArC;;AACA,cAAIjB,eAAe,CAACzB,gBAAhB,CAAiCC,WAAjC,EAA8CC,aAA9C,EAA6DwC,aAA7D,EAA4EtC,YAA5E,CAAJ,EAA+F;AAC3FuC,wBAAY,GAAG,IAAf;AACA;AACH,WANgF,CAOjF;;;AACA,cAAIjB,SAAJ,EAAe;AACXoB,wBAAY,CAAC7L,OAAb,CAAqB,UAAUkL,SAAV,EAAqB;AAAEN,uBAAS,CAAC3K,MAAV,CAAiBiL,SAAjB;AAA8B,aAA1E;AACH;AACJ;;AACD,YAAI,CAACQ,YAAL,EAAmB;AACf;AACAD,uBAAa,GAAGf,aAAa,CAAC,CAAD,CAA7B;AACAG,4BAAkB,CAACY,aAAD,CAAlB;AACAjB,yBAAe,CAACzB,gBAAhB,CAAiCC,WAAjC,EAA8CC,aAA9C,EAA6DwC,aAA7D,EAA4EtC,YAA5E;AACH;;AACD,eAAOsC,aAAP;AACH,O,CACD;;;;;;;;;;;;;;;;ACtNA;AAAA;;;;;;;;;AAOA,OAAC,UAAUrS,OAAV,EAAmB;AAChB,YAAI,QAA8B,OAAOpD,MAAM,CAAClD,OAAd,KAA0B,QAA5D,EAAsE;AAClE,cAAIgZ,CAAC,GAAG1S,OAAO,CAAC,IAAD,EAAOtG,OAAP,CAAf;AACA,cAAIgZ,CAAC,KAAKpT,SAAV,EAAqB1C,MAAM,CAAClD,OAAP,GAAiBgZ,CAAjB;AACxB,SAHD,MAIK,IAAI,IAAJ,EAAgD;AACjD,2CAAwC,CAAC,mBAAD,EAAY,OAAZ,CAAxC,EAAgE,8BAAF,GAAE1S,OAAhE,EAAuE,mMAAvE,EAAuE,+FAAvE;AACH;AACJ,OARD,EAQG,UAAU2S,OAAV,EAAmBjZ,OAAnB,EAA4B;AAC3B;;AACAF,cAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,eAAK,EAAE;AAAT,SAA7C,EAF2B,CAG3B;AACA;;AACA,YAAIiZ,CAAC,GAAGtT,SAAR;;AACA,iBAASuT,MAAT,CAAgBhV,CAAhB,EAAmB;AACf,cAAIA,CAAC,KAAK,CAAV,EACI,OAAO,CAAP;AACJ,iBAAO,CAAP;AACH;;AACDnE,eAAO,WAAP,GAAkB,CACd,OADc,EAEd,CAAC,CAAC,OAAD,EAAU,OAAV,CAAD,EAAqBkZ,CAArB,EAAwBA,CAAxB,CAFc,EAGdA,CAHc,EAId,CACI,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,CADJ,EACyC,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,EAAyB,MAAzB,EAAiC,MAAjC,EAAyC,MAAzC,EAAiD,MAAjD,CADzC,EAEI,CAAC,SAAD,EAAY,OAAZ,EAAqB,QAArB,EAA+B,WAA/B,EAA4C,QAA5C,EAAsD,SAAtD,EAAiE,QAAjE,CAFJ,EAGI,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,CAHJ,CAJc,EASd,CACI,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,CADJ,EACyC,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,EAAyB,MAAzB,EAAiC,MAAjC,EAAyC,MAAzC,EAAiD,MAAjD,CADzC,EAEI,CAAC,SAAD,EAAY,OAAZ,EAAqB,QAArB,EAA+B,WAA/B,EAA4C,QAA5C,EAAsD,SAAtD,EAAiE,QAAjE,CAFJ,EAGI,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,CAHJ,CATc,EAcd,CACI,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,GAAzC,EAA8C,GAA9C,EAAmD,GAAnD,EAAwD,GAAxD,CADJ,EAEI,CACI,MADJ,EACY,MADZ,EACoB,MADpB,EAC4B,MAD5B,EACoC,MADpC,EAC4C,MAD5C,EACoD,MADpD,EAC4D,MAD5D,EACoE,MADpE,EAC4E,MAD5E,EACoF,MADpF,EAC4F,MAD5F,CAFJ,EAKI,CACI,OADJ,EACa,SADb,EACwB,OADxB,EACiC,OADjC,EAC0C,MAD1C,EACkD,OADlD,EAC2D,OAD3D,EACoE,QADpE,EAC8E,YAD9E,EAEI,SAFJ,EAEe,WAFf,EAE4B,WAF5B,CALJ,CAdc,EAwBdA,CAxBc,EAyBd,CAAC,CAAC,OAAD,EAAU,OAAV,CAAD,EAAqBA,CAArB,EAAwB,CAAC,iBAAD,EAAoB,mBAApB,CAAxB,CAzBc,EA0Bd,CA1Bc,EA2Bd,CAAC,CAAD,EAAI,CAAJ,CA3Bc,EA4Bd,CAAC,QAAD,EAAW,gBAAX,EAA6B,wBAA7B,EAAuD,8BAAvD,CA5Bc,EA6Bd,CAAC,OAAD,EAAU,UAAV,EAAsB,YAAtB,EAAoC,eAApC,CA7Bc,EA8Bd,CAAC,SAAD,EAAYA,CAAZ,EAAe,uBAAf,EAAwCA,CAAxC,CA9Bc,EA+Bd,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,GAAzC,EAA8C,GAA9C,EAAmD,KAAnD,EAA0D,GAA1D,CA/Bc,EAgCd,CAAC,WAAD,EAAc,SAAd,EAAyB,WAAzB,EAAsC,KAAtC,CAhCc,EAiCd,KAjCc,EAkCd,IAlCc,EAmCd,WAnCc,EAoCd;AACI,iBAAO,CAACA,CAAD,EAAI,GAAJ,CADX;AAEI,iBAAO,CAAC,IAAD,CAFX;AAGI,iBAAO,CAACA,CAAD,EAAI,IAAJ,CAHX;AAII,iBAAO,CAACA,CAAD,EAAI,GAAJ,CAJX;AAKI,iBAAO,CAACA,CAAD,EAAI,GAAJ,CALX;AAMI,iBAAO,CAAC,GAAD,CANX;AAOI,iBAAO,CAACA,CAAD,EAAI,GAAJ,CAPX;AAQI,iBAAO,CAACA,CAAD,EAAI,KAAJ,CARX;AASI,iBAAO,CAACA,CAAD,EAAI,GAAJ,CATX;AAUI,iBAAO,CAACA,CAAD,EAAI,GAAJ,CAVX;AAWI,iBAAO,CAACA,CAAD,EAAI,GAAJ,CAXX;AAYI,iBAAO,CAACA,CAAD,EAAI,GAAJ,CAZX;AAaI,iBAAO,CAACA,CAAD,EAAI,GAAJ,CAbX;AAcI,iBAAO,CAACA,CAAD,EAAI,GAAJ,CAdX;AAeI,iBAAO,CAACA,CAAD,EAAI,GAAJ,CAfX;AAgBI,iBAAO,CAACA,CAAD,EAAI,GAAJ,CAhBX;AAiBI,iBAAO,CAACA,CAAD,EAAI,GAAJ,CAjBX;AAkBI,iBAAO,CAACA,CAAD,EAAI,KAAJ,CAlBX;AAmBI,iBAAO,CAACA,CAAD,EAAI,IAAJ,CAnBX;AAoBI,iBAAO,CAACA,CAAD,EAAI,KAAJ,CApBX;AAqBI,iBAAO,CAACA,CAAD,EAAI,GAAJ,CArBX;AAsBI,iBAAO,CAACA,CAAD,EAAI,KAAJ,CAtBX;AAuBI,iBAAO,CAACA,CAAD,EAAI,GAAJ,CAvBX;AAwBI,iBAAO,EAxBX;AAyBI,iBAAO,CAACA,CAAD,EAAI,GAAJ,CAzBX;AA0BI,iBAAO;AA1BX,SApCc,EAgEd,KAhEc,EAiEdC,MAjEc,CAAlB;AAmEH,OAtFD,E,CAuFA;;;;;;;;;;;;;;;;;;AC7FArZ,YAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,aAAK,EAAE;AAAT,OAA7C;;AACA,UAAIE,UAAU,GAAG,mBAAO;AAAC;AAAA,YAAD,CAAxB;;AACA,eAASE,cAAT,GAA0B;AACtB,eAAO;AACH+Y,iBAAO,EAAEjZ,UAAU,CAACiZ,OADjB;AAEHC,kBAAQ,EAAElZ,UAAU,CAACkZ,QAFlB;AAGHC,oBAAU,EAAEnZ,UAAU,CAACmZ,UAHpB;AAIHC,oBAAU,EAAEpZ,UAAU,CAACoZ,UAJpB;AAKHC,0BAAgB,EAAErZ,UAAU,CAACqZ,gBAL1B;AAMHC,6BAAmB,EAAEtZ,UAAU,CAACsZ,mBAN7B;AAOHC,6BAAmB,EAAEvZ,UAAU,CAACuZ,mBAP7B;AAQHC,kBAAQ,EAAExZ,UAAU,CAACwZ,QARlB;AASHC,oBAAU,EAAEzZ,UAAU,CAACyZ,UATpB;AAUHC,mBAAS,EAAE1Z,UAAU,CAAC0Z,SAVnB;AAWHC,gBAAM,EAAE3Z,UAAU,CAAC2Z,MAXhB;AAYHC,kBAAQ,EAAE5Z,UAAU,CAAC4Z,QAZlB;AAaHC,mBAAS,EAAE7Z,UAAU,CAAC6Z,SAbnB;AAcHC,qBAAW,EAAE9Z,UAAU,CAAC8Z,WAdrB;AAeHC,sBAAY,EAAE/Z,UAAU,CAAC+Z,YAftB;AAgBHC,aAAG,EAAEha,UAAU,CAACga,GAhBb;AAiBHC,kBAAQ,EAAEja,UAAU,CAACia,QAjBlB;AAkBHC,oBAAU,EAAEla,UAAU,CAACka,UAlBpB;AAmBHC,oBAAU,EAAEna,UAAU,CAACma,UAnBpB;AAoBHC,uBAAa,EAAEpa,UAAU,CAACoa,aApBvB;AAqBHC,sBAAY,EAAEra,UAAU,CAACqa,YArBtB;AAsBHC,qBAAW,EAAEta,UAAU,CAACsa,WAtBrB;AAuBHC,kBAAQ,EAAEva,UAAU,CAACua,QAvBlB;AAwBHC,oBAAU,EAAExa,UAAU,CAACwa;AAxBpB,SAAP;AA0BH;;AACD3a,aAAO,CAACK,cAAR,GAAyBA,cAAzB,C,CACA;;;;;;;;;;;;;;;;;AC9BAP,YAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,aAAK,EAAE;AADoC,OAA7C;AAGA,UAAI2a,MAAM,GAAG,CAAC,QAAD,EAAW,KAAX,EAAkB,IAAlB,EAAwB,GAAxB,CAAb;;AAEA,UAAIC,qBAAqB,GAAG7a,OAAO,CAAC6a,qBAAR,GAAgC,YAAY;AAEtE,aAAK,IAAIjH,CAAC,GAAG,CAAR,EAAWkH,KAAK,GAAGF,MAAM,CAACjX,MAA/B,EAAuCiQ,CAAC,GAAGkH,KAAJ,IAAa,CAACrZ,MAAM,CAACoZ,qBAA5D,EAAmF,EAAEjH,CAArF,EAAwF;AACtFnS,gBAAM,CAACoZ,qBAAP,GAA+BpZ,MAAM,CAACmZ,MAAM,CAAChH,CAAD,CAAN,GAAY,uBAAb,CAArC;AACD;;AAED,YAAI,CAACnS,MAAM,CAACoZ,qBAAZ,EAAmC;AACjC,WAAC,YAAY;AACX,gBAAIE,QAAQ,GAAG,CAAf;;AAEAtZ,kBAAM,CAACoZ,qBAAP,GAA+B,UAAUG,QAAV,EAAoB;AACjD,kBAAIxL,GAAG,GAAG,IAAID,IAAJ,GAAW0L,OAAX,EAAV;AACA,kBAAIC,GAAG,GAAGtQ,IAAI,CAACuP,GAAL,CAAS,CAAT,EAAY,KAAK3K,GAAL,GAAWuL,QAAvB,CAAV;AACA,kBAAII,KAAK,GAAG1Z,MAAM,CAAC2Z,UAAP,CAAkB,YAAY;AACxC,uBAAOJ,QAAQ,CAACxL,GAAG,GAAG0L,GAAP,CAAf;AACD,eAFW,EAETA,GAFS,CAAZ;AAIAH,sBAAQ,GAAGvL,GAAG,GAAG0L,GAAjB;AAEA,qBAAOC,KAAP;AACD,aAVD;AAWD,WAdD;AAeD;;AAED,eAAO1Z,MAAM,CAACoZ,qBAAP,CAA6BQ,IAA7B,CAAkC5Z,MAAlC,CAAP;AACD,OAzB2D,EAA5D;;AA2BA,UAAI6Z,oBAAoB,GAAGtb,OAAO,CAACsb,oBAAR,GAA+B,YAAY;AAEpE,aAAK,IAAI1H,CAAC,GAAG,CAAR,EAAWkH,KAAK,GAAGF,MAAM,CAACjX,MAA/B,EAAuCiQ,CAAC,GAAGkH,KAAJ,IAAa,CAACrZ,MAAM,CAAC6Z,oBAA5D,EAAkF,EAAE1H,CAApF,EAAuF;AACrFnS,gBAAM,CAAC6Z,oBAAP,GAA8B7Z,MAAM,CAACmZ,MAAM,CAAChH,CAAD,CAAN,GAAY,sBAAb,CAAN,IAA8CnS,MAAM,CAACmZ,MAAM,CAAChH,CAAD,CAAN,GAAY,6BAAb,CAAlF;AACD;;AAED,YAAI,CAACnS,MAAM,CAAC6Z,oBAAZ,EAAkC;AAChC7Z,gBAAM,CAAC6Z,oBAAP,GAA8B,UAAUH,KAAV,EAAiB;AAC7C1Z,kBAAM,CAAC8Z,YAAP,CAAoBJ,KAApB;AACD,WAFD;AAGD;;AAED,eAAO1Z,MAAM,CAAC6Z,oBAAP,CAA4BD,IAA5B,CAAiC5Z,MAAjC,CAAP;AACD,OAbyD,EAA1D;;;;;;;;;;;;;;;;;AClCA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAYA,UAAI+Z,6BAA6B,GAC7B,yCAAc;AAAA;;AACV,aAAKC,eAAL,GAAuB,UAAC3G,KAAD,EAAQ4G,MAAR;AAAA,iBAAmBA,MAAM,CAACC,EAAP,GAAYD,MAAM,CAACC,EAAnB,GAAwBD,MAA3C;AAAA,SAAvB;AACH,OAHL;;AAKA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B5b,MAA1B,CAFO,CAAX,EAGG0b,6BAA6B,CAACnJ,SAHjC,EAG4C,OAH5C,EAGqD,KAAK,CAH1D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGmJ,6BAA6B,CAACnJ,SAHjC,EAG4C,gBAH5C,EAG8D,KAAK,CAHnE;AAIAmJ,mCAA6B,GAAG,yDAAW,CACvC,gEAAU;AACN1T,gBAAQ,EAAE,4BADJ;AAEN8T,gBAAQ;AAFF,OAAV,CADuC,CAAX,EAuC7BJ,6BAvC6B,CAAhC;;AAyCA,UAAIK,2BAA2B;AAAA;AAAA,OAA/B;;AAEA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B/b,MAA1B,CAFO,CAAX,EAGG+b,2BAA2B,CAACxJ,SAH/B,EAG0C,OAH1C,EAGmD,KAAK,CAHxD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGwJ,2BAA2B,CAACxJ,SAH/B,EAG0C,gBAH1C,EAG4D,KAAK,CAHjE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0ByJ,MAA1B,CAFO,CAAX,EAGGD,2BAA2B,CAACxJ,SAH/B,EAG0C,MAH1C,EAGkD,KAAK,CAHvD;AAIAwJ,iCAA2B,GAAG,yDAAW,CACrC,gEAAU;AACN/T,gBAAQ,EAAE,0BADJ;AAEN8T,gBAAQ;AAFF,OAAV,CADqC,CAAX,EAsB3BC,2BAtB2B,CAA9B;;AAwBA,UAAIE,8BAA8B;AAAA;AAAA,OAAlC;;AAEA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BD,MAA1B,CAFO,CAAX,EAGGC,8BAA8B,CAAC1J,SAHlC,EAG6C,UAH7C,EAGyD,KAAK,CAH9D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0ByJ,MAA1B,CAFO,CAAX,EAGGC,8BAA8B,CAAC1J,SAHlC,EAG6C,WAH7C,EAG0D,KAAK,CAH/D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGic,8BAA8B,CAAC1J,SAHlC,EAG6C,OAH7C,EAGsD,KAAK,CAH3D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG0J,8BAA8B,CAAC1J,SAHlC,EAG6C,gBAH7C,EAG+D,KAAK,CAHpE;AAIA0J,oCAA8B,GAAG,yDAAW,CACxC,gEAAU;AACNjU,gBAAQ,EAAE,6BADJ;AAEN8T,gBAAQ;AAFF,OAAV,CADwC,CAAX,EA0B9BG,8BA1B8B,CAAjC;;AA2BA,UAAIC,wBAAwB;AACxB,0CAAYtV,UAAZ,EAAwBuV,QAAxB,EAAkCtV,QAAlC,EAA4CuV,wBAA5C,EAAsEC,gBAAtE,EAAwFzZ,QAAxF,CAAiG;AAAjG,UACE;AAAA;;AACE,eAAKgE,UAAL,GAAkBA,UAAlB;AACA,eAAKuV,QAAL,GAAgBA,QAAhB;AACA,eAAKtV,QAAL,GAAgBA,QAAhB;AACA,eAAKwV,gBAAL,GAAwBA,gBAAxB;AACA,eAAKzZ,QAAL,GAAgBA,QAAhB;AACA,eAAK0T,SAAL,GAAiB,MAAjB,CANF,CAM2B;;AACzB,eAAKgG,KAAL,GAAa,IAAb,CAPF,CAOqB;;AACnB,eAAKC,mBAAL,GAA2B,IAAI,4CAAJ,EAA3B;AACA,eAAKC,cAAL,GAAsBJ,wBAAwB,CAACK,uBAAzB,CAAiDR,8BAAjD,CAAtB;AACH;;AAZuB;AAAA;AAAA,sCAaZ7N,OAbY,EAaH;AACjB,gBAAI,KAAKsO,UAAL,KACCtO,OAAO,CAACuO,QAAR,IAAoBvO,OAAO,CAACwO,cAA5B,IAA8CxO,OAAO,CAAC1M,KADvD,CAAJ,EACmE;AAC/D,mBAAKgb,UAAL,CAAgBG,QAAhB,CAAyBF,QAAzB,GAAoC,KAAKA,QAAzC;AACA,mBAAKD,UAAL,CAAgBG,QAAhB,CAAyBD,cAAzB,GAA0C,KAAKA,cAA/C;AACA,mBAAKF,UAAL,CAAgBG,QAAhB,CAAyBnb,KAAzB,GAAiC,KAAKA,KAAtC;AACA,mBAAKgb,UAAL,CAAgBI,iBAAhB,CAAkCC,YAAlC;AACH;AACJ;AArBuB;AAAA;AAAA,wCAsBV;AACV,iBAAKC,IAAL;AACH;AAxBuB;AAAA;AAAA,wCAyBV;AAAA;;AACV,gBAAMC,MAAM,GAAG,KAAKX,KAAL,KAAe,IAAf,GAAsB,gDAAG,KAAH,CAAtB,GAAkC,mDAAM,KAAKA,KAAX,CAAjD;AACAW,kBAAM,CAACtT,IAAP,CAAY,iEAAU,KAAK4S,mBAAf,CAAZ,EAAiDhR,SAAjD,CAA2D,YAAM;AAC7D,oBAAI,CAAC2R,IAAL;AACH,aAFD;AAGH;AA9BuB;AAAA;AAAA,uCA+BX;AACT,iBAAKF,IAAL;AACH;AAjCuB;AAAA;AAAA,iCAkCjB;AAAA;;AACH,gBAAI,CAAC,KAAKN,UAAN,IAAoB,KAAKC,QAA7B,EAAuC;AACnC,mBAAKD,UAAL,GAAkB,KAAKL,gBAAL,CAAsBc,eAAtB,CAAsC,KAAKX,cAA3C,EAA2D,CAA3D,EAA8D,KAAKL,QAAnE,EAA6E,EAA7E,CAAlB;AACA,mBAAKO,UAAL,CAAgBG,QAAhB,CAAyBF,QAAzB,GAAoC,KAAKA,QAAzC;AACA,mBAAKD,UAAL,CAAgBG,QAAhB,CAAyBD,cAAzB,GAA0C,KAAKA,cAA/C;AACA,mBAAKF,UAAL,CAAgBG,QAAhB,CAAyBnb,KAAzB,GAAiC,KAAKA,KAAtC;;AACA,kBAAI,KAAK6U,YAAT,EAAuB;AACnB,qBAAK3T,QAAL,CAAcG,IAAd,CAAmBkJ,WAAnB,CAA+B,KAAKyQ,UAAL,CAAgBU,QAAhB,CAAyB9V,aAAxD;AACH;;AACDyT,mCAAqB,CAAC,YAAM;AACxB,uBAAI,CAACsC,eAAL;AACH,eAFoB,CAArB;AAGH;AACJ;AA/CuB;AAAA;AAAA,iCAgDjB;AACH,gBAAI,KAAKX,UAAT,EAAqB;AACjB,mBAAKL,gBAAL,CAAsBhP,MAAtB,CAA6B,KAAKgP,gBAAL,CAAsB/O,OAAtB,CAA8B,KAAKoP,UAAL,CAAgBY,QAA9C,CAA7B;AACA,mBAAKZ,UAAL,GAAkB,IAAlB;AACH;;AACD,iBAAKH,mBAAL,CAAyBpS,IAAzB;AACH;AAtDuB;AAAA;AAAA,4CAuDgB;AAAA,gBAAxBoT,iBAAwB,uEAAJ,EAAI;;AACpC,gBAAI,KAAKb,UAAT,EAAqB;AACjB,mBAAKA,UAAL,CAAgBI,iBAAhB,CAAkCU,aAAlC;AACA,mBAAKd,UAAL,CAAgBG,QAAhB,CAAyBvG,SAAzB,GAAqC,qEAAiB,KAAK1P,UAAL,CAAgBU,aAAjC,EAAgD,KAAKoV,UAAL,CAAgBU,QAAhB,CAAyB9V,aAAzB,CAAuCmW,QAAvC,CAAgD,CAAhD,CAAhD,EAAoG,KAAKnH,SAAzG,EAAoH,KAAKC,YAAzH,CAArC,CAFiB,CAGjB;;AACA,kBAAIgH,iBAAiB,CAACjQ,OAAlB,CAA0B,KAAKoP,UAAL,CAAgBG,QAAhB,CAAyBvG,SAAnD,MAAkE,CAAC,CAAvE,EAA0E;AACtE,qBAAK+G,eAAL,8BACOE,iBADP,IAEI,KAAKb,UAAL,CAAgBG,QAAhB,CAAyBvG,SAF7B;AAIH;AACJ;AACJ;AAnEuB;;AAAA;AAAA,SAA5B;;AAqEA4F,8BAAwB,CAACjU,cAAzB,GAA0C;AAAA,eAAM,CAC5C;AAAEjG,cAAI,EAAE;AAAR,SAD4C,EAE5C;AAAEA,cAAI,EAAE;AAAR,SAF4C,EAG5C;AAAEA,cAAI,EAAE;AAAR,SAH4C,EAI5C;AAAEA,cAAI,EAAE;AAAR,SAJ4C,EAK5C;AAAEA,cAAI,EAAE;AAAR,SAL4C,EAM5C;AAAEA,cAAI,EAAE8D,SAAR;AAAmBO,oBAAU,EAAE,CAAC;AAAErE,gBAAI,EAAE,oDAAR;AAAgB8B,gBAAI,EAAE,CAAC,wDAAD;AAAtB,WAAD;AAA/B,SAN4C,CAAN;AAAA,OAA1C;;AAQA,+DAAW,CACP,4DAAM,oBAAN,CADO,EAEP,yDAAW,aAAX,EAA0BkY,MAA1B,CAFO,CAAX,EAGGE,wBAAwB,CAAC3J,SAH5B,EAGuC,UAHvC,EAGmD,KAAK,CAHxD;AAIA,+DAAW,CACP,4DAAM,kBAAN,CADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGkc,wBAAwB,CAAC3J,SAH5B,EAGuC,WAHvC,EAGoD,KAAK,CAHzD;AAIA,+DAAW,CACP,4DAAM,iBAAN,CADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG2J,wBAAwB,CAAC3J,SAH5B,EAGuC,gBAHvC,EAGyD,KAAK,CAH9D;AAIA,+DAAW,CACP,4DAAM,cAAN,CADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGkc,wBAAwB,CAAC3J,SAH5B,EAGuC,OAHvC,EAGgD,KAAK,CAHrD;AAIA,+DAAW,CACP,4DAAM,qBAAN,CADO,EAEP,yDAAW,aAAX,EAA0BmL,OAA1B,CAFO,CAAX,EAGGxB,wBAAwB,CAAC3J,SAH5B,EAGuC,cAHvC,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,4DAAM,cAAN,CADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGzB,wBAAwB,CAAC3J,SAH5B,EAGuC,OAHvC,EAGgD,KAAK,CAHrD;AAIA,+DAAW,CACP,mEAAa,YAAb,CADO,EAEP,yDAAW,aAAX,EAA0BqL,QAA1B,CAFO,EAGP,yDAAW,mBAAX,EAAgC,EAAhC,CAHO,EAIP,yDAAW,mBAAX,EAAgC,KAAK,CAArC,CAJO,CAAX,EAKG1B,wBAAwB,CAAC3J,SAL5B,EAKuC,aALvC,EAKsD,IALtD;AAMA,+DAAW,CACP,mEAAa,YAAb,CADO,EAEP,yDAAW,aAAX,EAA0BqL,QAA1B,CAFO,EAGP,yDAAW,mBAAX,EAAgC,EAAhC,CAHO,EAIP,yDAAW,mBAAX,EAAgC,KAAK,CAArC,CAJO,CAAX,EAKG1B,wBAAwB,CAAC3J,SAL5B,EAKuC,YALvC,EAKqD,IALrD;AAMA2J,8BAAwB,GAAG,yDAAW,CAClC,gEAAU;AACNlU,gBAAQ,EAAE;AADJ,OAAV,CADkC,EAIlC,sDAAQ,CAAR,EAAW,6DAAO,wDAAP,CAAX,CAJkC,EAKlC,yDAAW,mBAAX,EAAgC,CAAC,wDAAD,EAC5B,sDAD4B,EAE5B,uDAF4B,EAG5B,sEAH4B,EAI5B,8DAJ4B,EAIVhI,MAJU,CAAhC,CALkC,CAAX,EAUxBkc,wBAVwB,CAA3B;;UAYM2B,W;;;;AAGN,UAAIC,YAAJ;;AACA,OAAC,UAAUA,YAAV,EAAwB;AACrBA,oBAAY,CAAC,OAAD,CAAZ,GAAwB,OAAxB;AACAA,oBAAY,CAAC,MAAD,CAAZ,GAAuB,MAAvB;AACAA,oBAAY,CAAC,KAAD,CAAZ,GAAsB,KAAtB;AACH,OAJD,EAIGA,YAAY,KAAKA,YAAY,GAAG,EAApB,CAJf;;AAMA,UAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,MAAD,EAAY;AAC/B,YAAMC,IAAI,GAAG,SAAPA,IAAO;AAAA;;AAAA,6CAAIna,IAAJ;AAAIA,gBAAJ;AAAA;;AAAA,iBAAa,YAAAoa,OAAO,EAACD,IAAR,kBAAa,kBAAb,SAAoCna,IAApC,EAAb;AAAA,SAAb;;AACA,eAAO,sEAAiBka,MAAjB,EAAyBC,IAAzB,CAAP;AACH,OAHD;;AAIA,eAASE,QAAT,CAAkBC,KAAlB,EAAyBC,KAAzB,EAAgC;AAC5B,eAAQvT,IAAI,CAACwT,KAAL,CAAWF,KAAK,CAACnZ,IAAjB,KAA0B6F,IAAI,CAACyT,IAAL,CAAUF,KAAK,CAACpZ,IAAhB,CAA1B,IACJ6F,IAAI,CAACwT,KAAL,CAAWD,KAAK,CAACpZ,IAAjB,KAA0B6F,IAAI,CAACyT,IAAL,CAAUH,KAAK,CAAClZ,KAAhB,CADtB,IAEJ4F,IAAI,CAACwT,KAAL,CAAWF,KAAK,CAACnZ,IAAjB,KAA0B6F,IAAI,CAACyT,IAAL,CAAUF,KAAK,CAACnZ,KAAhB,CAFtB,IAGJ4F,IAAI,CAACwT,KAAL,CAAWD,KAAK,CAACnZ,KAAjB,KAA2B4F,IAAI,CAACyT,IAAL,CAAUH,KAAK,CAAClZ,KAAhB,CAHvB,IAIJ4F,IAAI,CAACwT,KAAL,CAAWF,KAAK,CAACrZ,GAAjB,KAAyB+F,IAAI,CAACyT,IAAL,CAAUF,KAAK,CAACtZ,GAAhB,CAJrB,IAKJ+F,IAAI,CAACwT,KAAL,CAAWD,KAAK,CAACtZ,GAAjB,KAAyB+F,IAAI,CAACyT,IAAL,CAAUH,KAAK,CAAChZ,MAAhB,CALrB,IAMJ0F,IAAI,CAACwT,KAAL,CAAWF,KAAK,CAACrZ,GAAjB,KAAyB+F,IAAI,CAACyT,IAAL,CAAUF,KAAK,CAACjZ,MAAhB,CANrB,IAOJ0F,IAAI,CAACwT,KAAL,CAAWD,KAAK,CAACjZ,MAAjB,KAA4B0F,IAAI,CAACyT,IAAL,CAAUH,KAAK,CAAChZ,MAAhB,CAPhC;AAQH;;AACD,eAASoZ,cAAT,CAAwBC,MAAxB,EAAgCC,SAAhC,EAA2C;AACvC,eAAO5T,IAAI,CAACC,KAAL,CAAW0T,MAAM,GAAGC,SAApB,IAAiCA,SAAxC;AACH;;AACD,UAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAC3J,KAAD,EAAQtT,KAAR;AAAA,eAAkBA,KAAK,CAACma,EAAN,GAAWna,KAAK,CAACma,EAAjB,GAAsBna,KAAxC;AAAA,OAAvB;;AACA,UAAMkd,wBAAwB,GAAG,SAA3BA,wBAA2B,CAAC5J,KAAD,EAAQ6J,GAAR;AAAA,eAAgBA,GAAG,CAACC,IAAJ,CAASC,WAAT,EAAhB;AAAA,OAAjC;;AACA,UAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAChK,KAAD,EAAQiK,OAAR;AAAA,eAAoBA,OAAO,CAACH,IAAR,CAAaC,WAAb,EAApB;AAAA,OAA3B;;AACA,UAAMG,WAAW,GAAG,SAAdA,WAAc,CAAClK,KAAD,EAAQmK,IAAR;AAAA,eAAiBA,IAAI,CAACC,QAAL,CAAc,CAAd,EAAiBN,IAAjB,CAAsBC,WAAtB,EAAjB;AAAA,OAApB;;AACA,UAAMM,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACrK,KAAD,EAAQsK,SAAR;AAAA,eAAuBA,SAAS,CAAC5d,KAAV,CAAgBma,EAAhB,GAAqByD,SAAS,CAAC5d,KAAV,CAAgBma,EAArC,GAA0CyD,SAAS,CAAC5d,KAA3E;AAAA,OAA/B;;AACA,UAAM6d,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACvK,KAAD,EAAQsK,SAAR;AAAA,eAAuBA,SAAS,CAAC5d,KAAV,CAAgBma,EAAhB,GAAqByD,SAAS,CAAC5d,KAAV,CAAgBma,EAArC,GAA0CyD,SAAS,CAAC5d,KAA3E;AAAA,OAA7B;;AACA,UAAM8d,eAAe,GAAG,EAAxB;;AACA,eAASC,uBAAT,CAAiCC,YAAjC,EAA+CC,iBAA/C,EAAkE;AAC9D,eAAOH,eAAe,IAAIE,YAAY,GAAGC,iBAAnB,CAAtB;AACH;;AACD,eAASC,eAAT,CAAyBC,MAAzB,EAAiCH,YAAjC,EAA+CC,iBAA/C,EAAkEG,aAAlE,EAAiF;AAC7E,YAAMC,uBAAuB,GAAGvB,cAAc,CAACqB,MAAD,EAASC,aAAa,IAAIH,iBAA1B,CAA9C;AACA,YAAMK,oBAAoB,GAAGP,uBAAuB,CAACC,YAAD,EAAeC,iBAAf,CAApD;AACA,eAAOI,uBAAuB,GAAGC,oBAAjC;AACH;;AACD,eAASC,8BAAT,CAAwCP,YAAxC,EAAsDC,iBAAtD,EAAyE;AACrE,eAAQF,uBAAuB,CAACC,YAAD,EAAeC,iBAAf,CAAvB,GAA2DA,iBAAnE;AACH;;AACD,eAASO,kBAAT,CAA4BC,WAA5B,EAAyCze,KAAzC,EAAgD0e,cAAhD,EAAgE;AAC5D,YAAI1e,KAAK,CAAC2e,GAAV,EAAe;AACX,iBAAO3e,KAAK,CAAC2e,GAAb;AACH,SAFD,MAGK;AACD,iBAAOF,WAAW,CAAC3G,UAAZ,CAAuB9X,KAAK,CAAC4e,KAA7B,EAAoCF,cAApC,CAAP;AACH;AACJ;;AACD,eAASG,qBAAT,CAA+BJ,WAA/B,EAA4CrB,IAA5C,EAAkD0B,IAAlD,EAAwDC,QAAxD,EAAkE;AAC9D,YAAIC,WAAW,GAAG,CAAlB;AACA,YAAIC,SAAS,GAAG,CAAhB;AACA,YAAMC,UAAU,GAAGJ,IAAI,GAAG,CAAP,GAAWL,WAAW,CAACxf,OAAvB,GAAiCwf,WAAW,CAAC7G,OAAhE;AACA,YAAIuH,MAAM,GAAG/B,IAAb;;AACA,eAAO6B,SAAS,IAAI7V,IAAI,CAAC2F,GAAL,CAAS+P,IAAT,CAApB,EAAoC;AAChCK,gBAAM,GAAGD,UAAU,CAAC9B,IAAD,EAAO4B,WAAP,CAAnB;AACA,cAAM7B,GAAG,GAAGsB,WAAW,CAACnG,MAAZ,CAAmB6G,MAAnB,CAAZ;;AACA,cAAIJ,QAAQ,CAACnT,OAAT,CAAiBuR,GAAjB,MAA0B,CAAC,CAA/B,EAAkC;AAC9B8B,qBAAS;AACZ;;AACDD,qBAAW;AACd;;AACD,eAAOG,MAAP;AACH;;AACD,eAASC,qBAAT,CAA+BC,QAA/B,EAAyCC,MAAzC,EAAiDC,MAAjD,EAAyD;AACrD,YAAMZ,GAAG,GAAGW,MAAM,IAAID,QAAtB;AACA,eAASE,MAAM,CAACX,KAAP,IAAgBS,QAAhB,IAA4BA,QAAQ,IAAIE,MAAM,CAACZ,GAAhD,IACHY,MAAM,CAACX,KAAP,IAAgBD,GAAhB,IAAuBA,GAAG,IAAIY,MAAM,CAACZ,GAD1C;AAEH;;AACD,eAASa,sBAAT,CAAgCC,SAAhC,EAA2CrC,IAA3C,EAAiDsC,MAAjD,EAAyDC,UAAzD,EAAqE;AACjE,eAAQF,SAAS,CAAChT,QAAV,IACJgT,SAAS,CAAChT,QAAV,CAAmBzM,KADf,KAEHyf,SAAS,CAAChT,QAAV,CAAmBkT,UAAnB,KAAkCA,UAAlC,IACIF,SAAS,CAAChT,QAAV,CAAmBzM,KAAnB,CAAyB0f,MAAzB,IAAmC,CAACA,MADxC,IAEI,CAACD,SAAS,CAAChT,QAAV,CAAmBzM,KAAnB,CAAyB0f,MAA1B,IAAoCA,MAJrC,CAAR;AAKH;;AACD,eAASE,iBAAT,CAA2BnB,WAA3B,EAAwCoB,QAAxC,EAAkDC,YAAlD,EAA2F;AAAA,YAA3Bf,QAA2B,uEAAhB,EAAgB;AAAA,YAAZgB,UAAY;AACvF,YAAIC,SAAS,GAAGD,UAAU,GACpBtB,WAAW,CAAC3F,UAAZ,CAAuB+G,QAAvB,CADoB,GAEpBpB,WAAW,CAACxF,WAAZ,CAAwB4G,QAAxB,EAAkC;AAAEC,sBAAY,EAAZA;AAAF,SAAlC,CAFN;AAGA,YAAMzH,SAAS,GAAGoG,WAAW,CAACpG,SAAZ,CAAsBwH,QAAtB,EAAgC;AAAEC,sBAAY,EAAZA;AAAF,SAAhC,CAAlB;;AACA,eAAOf,QAAQ,CAACnT,OAAT,CAAiB6S,WAAW,CAACnG,MAAZ,CAAmB0H,SAAnB,CAAjB,IAAkD,CAAC,CAAnD,IACHA,SAAS,GAAG3H,SADhB,EAC2B;AACvB2H,mBAAS,GAAGvB,WAAW,CAAC7G,OAAZ,CAAoBoI,SAApB,EAA+B,CAA/B,CAAZ;AACH;;AACD,YAAID,UAAJ,EAAgB;AACZ,cAAME,OAAO,GAAGxB,WAAW,CAACtG,QAAZ,CAAqB0G,qBAAqB,CAACJ,WAAD,EAAcuB,SAAd,EAAyBD,UAAU,GAAG,CAAtC,EAAyChB,QAAzC,CAA1C,CAAhB;AACA,iBAAO;AAAEiB,qBAAS,EAATA,SAAF;AAAaC,mBAAO,EAAPA;AAAb,WAAP;AACH,SAHD,MAIK;AACD,cAAIA,QAAO,GAAG5H,SAAd;;AACA,iBAAO0G,QAAQ,CAACnT,OAAT,CAAiB6S,WAAW,CAACnG,MAAZ,CAAmB2H,QAAnB,CAAjB,IAAgD,CAAC,CAAjD,IACHA,QAAO,GAAGD,SADd,EACyB;AACrBC,oBAAO,GAAGxB,WAAW,CAACxf,OAAZ,CAAoBghB,QAApB,EAA6B,CAA7B,CAAV;AACH;;AACD,iBAAO;AAAED,qBAAS,EAATA,SAAF;AAAaC,mBAAO,EAAPA;AAAb,WAAP;AACH;AACJ;;AACD,eAASC,iBAAT,SAAqC;AAAA,YAAR1f,CAAQ,UAARA,CAAQ;AAAA,YAALE,CAAK,UAALA,CAAK;AACjC,YAAMyf,cAAc,GAAG,CAAvB;AACA,eAAO/W,IAAI,CAAC2F,GAAL,CAASvO,CAAT,IAAc2f,cAAd,IAAgC/W,IAAI,CAAC2F,GAAL,CAASrO,CAAT,IAAcyf,cAArD;AACH;AAED;;;;;;;;;;;;;;AAYA,UAAIC,6BAA6B;AAC7B,+CAAY3B,WAAZ,EAAyB;AAAA;;AACrB,eAAKA,WAAL,GAAmBA,WAAnB;AACA;;;;AAGA,eAAK4B,WAAL,GAAmB,EAAnB;AACA;;;;AAGA,eAAKC,cAAL,GAAsB,IAAI,0DAAJ,EAAtB;AACH;AACD;;;;;AAZ6B;AAAA;AAAA,oCAenB;AACN,gBAAMC,KAAK,GAAG;AACVpD,iBAAG,EAAE,KAAKsB,WAAL,CAAiBxf,OADZ;AAEVuhB,kBAAI,EAAE,KAAK/B,WAAL,CAAiBvf,QAFb;AAGVuhB,mBAAK,EAAE,KAAKhC,WAAL,CAAiBtf;AAHd,cAIZ,KAAKuhB,IAJO,CAAd;;AAKA,gBAAI,KAAKA,IAAL,KAActE,YAAY,CAACuE,GAA/B,EAAoC;AAChC,mBAAKL,cAAL,CAAoBzU,IAApB,CAAyBgT,qBAAqB,CAAC,KAAKJ,WAAN,EAAmB,KAAKoB,QAAxB,EAAkC,CAAC,CAAnC,EAAsC,KAAKQ,WAA3C,CAA9C;AACH,aAFD,MAGK,IAAI,KAAKK,IAAL,KAActE,YAAY,CAACwE,IAA3B,IAAmC,KAAKb,UAA5C,EAAwD;AACzD,mBAAKO,cAAL,CAAoBzU,IAApB,CAAyBgT,qBAAqB,CAAC,KAAKJ,WAAN,EAAmB,KAAKoB,QAAxB,EAAkC,CAAC,KAAKE,UAAxC,EAAoD,KAAKM,WAAzD,CAA9C;AACH,aAFI,MAGA;AACD,mBAAKC,cAAL,CAAoBzU,IAApB,CAAyB0U,KAAK,CAAC,KAAKV,QAAN,EAAgB,CAAhB,CAA9B;AACH;AACJ;AA9B4B;;AAAA;AAAA,SAAjC;;AAgCAO,mCAA6B,CAAC7Z,cAA9B,GAA+C;AAAA,eAAM,CACjD;AAAEjG,cAAI,EAAE6b;AAAR,SADiD,CAAN;AAAA,OAA/C;;AAGA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B7B,MAA1B,CAFO,CAAX,EAGG8F,6BAA6B,CAACvP,SAHjC,EAG4C,MAH5C,EAGoD,KAAK,CAHzD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B9C,IAA1B,CAFO,CAAX,EAGGqS,6BAA6B,CAACvP,SAHjC,EAG4C,UAH5C,EAGwD,KAAK,CAH7D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BxO,KAA1B,CAFO,CAAX,EAGG+d,6BAA6B,CAACvP,SAHjC,EAG4C,aAH5C,EAG2D,KAAK,CAHhE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGmE,6BAA6B,CAACvP,SAHjC,EAG4C,YAH5C,EAG0D,KAAK,CAH/D;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0B,0DAA1B,CAFO,CAAX,EAGGuP,6BAA6B,CAACvP,SAHjC,EAG4C,gBAH5C,EAG8D,KAAK,CAHnE;AAIA,+DAAW,CACP,mEAAa,OAAb,CADO,EAEP,yDAAW,aAAX,EAA0BqL,QAA1B,CAFO,EAGP,yDAAW,mBAAX,EAAgC,EAAhC,CAHO,EAIP,yDAAW,mBAAX,EAAgC,KAAK,CAArC,CAJO,CAAX,EAKGkE,6BAA6B,CAACvP,SALjC,EAK4C,SAL5C,EAKuD,IALvD;AAMAuP,mCAA6B,GAAG,yDAAW,CACvC,gEAAU;AACN9Z,gBAAQ,EAAE;AADJ,OAAV,CADuC,EAIvC,yDAAW,mBAAX,EAAgC,CAAC6V,WAAD,CAAhC,CAJuC,CAAX,EAK7BiE,6BAL6B,CAAhC;AAOA;;;;;;;;;;;;;AAYA,UAAIS,yBAAyB;AACzB,2CAAYpC,WAAZ,EAAyB;AAAA;;AACrB,eAAKA,WAAL,GAAmBA,WAAnB;AACA;;;;AAGA,eAAK4B,WAAL,GAAmB,EAAnB;AACA;;;;AAGA,eAAKC,cAAL,GAAsB,IAAI,0DAAJ,EAAtB;AACH;AACD;;;;;AAZyB;AAAA;AAAA,oCAef;AACN,gBAAMQ,KAAK,GAAG;AACV3D,iBAAG,EAAE,KAAKsB,WAAL,CAAiB7G,OADZ;AAEV4I,kBAAI,EAAE,KAAK/B,WAAL,CAAiB1f,QAFb;AAGV0hB,mBAAK,EAAE,KAAKhC,WAAL,CAAiBzf;AAHd,cAIZ,KAAK0hB,IAJO,CAAd;;AAKA,gBAAI,KAAKA,IAAL,KAActE,YAAY,CAACuE,GAA/B,EAAoC;AAChC,mBAAKL,cAAL,CAAoBzU,IAApB,CAAyBgT,qBAAqB,CAAC,KAAKJ,WAAN,EAAmB,KAAKoB,QAAxB,EAAkC,CAAlC,EAAqC,KAAKQ,WAA1C,CAA9C;AACH,aAFD,MAGK,IAAI,KAAKK,IAAL,KAActE,YAAY,CAACwE,IAA3B,IAAmC,KAAKb,UAA5C,EAAwD;AACzD,mBAAKO,cAAL,CAAoBzU,IAApB,CAAyBgT,qBAAqB,CAAC,KAAKJ,WAAN,EAAmB,KAAKoB,QAAxB,EAAkC,KAAKE,UAAvC,EAAmD,KAAKM,WAAxD,CAA9C;AACH,aAFI,MAGA;AACD,mBAAKC,cAAL,CAAoBzU,IAApB,CAAyBiV,KAAK,CAAC,KAAKjB,QAAN,EAAgB,CAAhB,CAA9B;AACH;AACJ;AA9BwB;;AAAA;AAAA,SAA7B;;AAgCAgB,+BAAyB,CAACta,cAA1B,GAA2C;AAAA,eAAM,CAC7C;AAAEjG,cAAI,EAAE6b;AAAR,SAD6C,CAAN;AAAA,OAA3C;;AAGA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B7B,MAA1B,CAFO,CAAX,EAGGuG,yBAAyB,CAAChQ,SAH7B,EAGwC,MAHxC,EAGgD,KAAK,CAHrD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B9C,IAA1B,CAFO,CAAX,EAGG8S,yBAAyB,CAAChQ,SAH7B,EAGwC,UAHxC,EAGoD,KAAK,CAHzD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BxO,KAA1B,CAFO,CAAX,EAGGwe,yBAAyB,CAAChQ,SAH7B,EAGwC,aAHxC,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGG4E,yBAAyB,CAAChQ,SAH7B,EAGwC,YAHxC,EAGsD,KAAK,CAH3D;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0B,0DAA1B,CAFO,CAAX,EAGGgQ,yBAAyB,CAAChQ,SAH7B,EAGwC,gBAHxC,EAG0D,KAAK,CAH/D;AAIA,+DAAW,CACP,mEAAa,OAAb,CADO,EAEP,yDAAW,aAAX,EAA0BqL,QAA1B,CAFO,EAGP,yDAAW,mBAAX,EAAgC,EAAhC,CAHO,EAIP,yDAAW,mBAAX,EAAgC,KAAK,CAArC,CAJO,CAAX,EAKG2E,yBAAyB,CAAChQ,SAL7B,EAKwC,SALxC,EAKmD,IALnD;AAMAgQ,+BAAyB,GAAG,yDAAW,CACnC,gEAAU;AACNva,gBAAQ,EAAE;AADJ,OAAV,CADmC,EAInC,yDAAW,mBAAX,EAAgC,CAAC6V,WAAD,CAAhC,CAJmC,CAAX,EAKzB0E,yBALyB,CAA5B;AAOA;;;;;;;;;;;;AAWA,UAAIE,sBAAsB;AACtB,wCAAYtC,WAAZ,EAAyB;AAAA;;AACrB,eAAKA,WAAL,GAAmBA,WAAnB;AACA;;;;AAGA,eAAK6B,cAAL,GAAsB,IAAI,0DAAJ,EAAtB;AACH;AACD;;;;;AARsB;AAAA;AAAA,oCAWZ;AACN,iBAAKA,cAAL,CAAoBzU,IAApB,CAAyB,KAAK4S,WAAL,CAAiB3F,UAAjB,CAA4B,IAAI/K,IAAJ,EAA5B,CAAzB;AACH;AAbqB;;AAAA;AAAA,SAA1B;;AAeAgT,4BAAsB,CAACxa,cAAvB,GAAwC;AAAA,eAAM,CAC1C;AAAEjG,cAAI,EAAE6b;AAAR,SAD0C,CAAN;AAAA,OAAxC;;AAGA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BpO,IAA1B,CAFO,CAAX,EAGGgT,sBAAsB,CAAClQ,SAH1B,EAGqC,UAHrC,EAGiD,KAAK,CAHtD;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0B,0DAA1B,CAFO,CAAX,EAGGkQ,sBAAsB,CAAClQ,SAH1B,EAGqC,gBAHrC,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,mEAAa,OAAb,CADO,EAEP,yDAAW,aAAX,EAA0BqL,QAA1B,CAFO,EAGP,yDAAW,mBAAX,EAAgC,EAAhC,CAHO,EAIP,yDAAW,mBAAX,EAAgC,KAAK,CAArC,CAJO,CAAX,EAKG6E,sBAAsB,CAAClQ,SAL1B,EAKqC,SALrC,EAKgD,IALhD;AAMAkQ,4BAAsB,GAAG,yDAAW,CAChC,gEAAU;AACNza,gBAAQ,EAAE;AADJ,OAAV,CADgC,EAIhC,yDAAW,mBAAX,EAAgC,CAAC6V,WAAD,CAAhC,CAJgC,CAAX,EAKtB4E,sBALsB,CAAzB;AAOA;;;;AAGA,UAAIC,4BAA4B;AAC5B,8CAAYvC,WAAZ,EAAyB;AAAA;;AACrB,eAAKA,WAAL,GAAmBA,WAAnB;AACH;AACD;;;;;AAJ4B;AAAA;AAAA,wDAOY;AAAA,gBAAhBrB,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AACpC,mBAAO,mEAAW7D,IAAX,EAAiB,MAAjB,EAAyB6D,MAAzB,CAAP;AACH;AACD;;;;AAV4B;AAAA;AAAA,qDAaS;AAAA,gBAAhB7D,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AACjC,mBAAO,mEAAW7D,IAAX,EAAiB,GAAjB,EAAsB6D,MAAtB,CAAP;AACH;AACD;;;;AAhB4B;AAAA;AAAA,iDAmBK;AAAA,gBAAhB7D,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AAC7B,mBAAO,mEAAW7D,IAAX,EAAiB,QAAjB,EAA2B6D,MAA3B,CAAP;AACH;AACD;;;;AAtB4B;AAAA;AAAA,uDAyBW;AAAA,gBAAhB7D,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AACnC,mBAAO,mEAAW7D,IAAX,EAAiB,MAAjB,EAAyB6D,MAAzB,CAAP;AACH;AACD;;;;AA5B4B;AAAA;AAAA,0DA+Bc;AAAA,gBAAhB7D,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AACtC,mBAAO,mEAAW7D,IAAX,EAAiB,OAAjB,EAA0B6D,MAA1B,CAAP;AACH;AACD;;;;AAlC4B;AAAA;AAAA,gDAqC2C;AAAA,gBAAvD7D,IAAuD,UAAvDA,IAAuD;AAAA,gBAAjD6D,MAAiD,UAAjDA,MAAiD;AAAA,gBAAzCnB,YAAyC,UAAzCA,YAAyC;AAAA,gBAA3BO,WAA2B,UAA3BA,WAA2B;AAAA,gBAAdN,UAAc,UAAdA,UAAc;;AAAA,qCACpCH,iBAAiB,CAAC,KAAKnB,WAAN,EAAmBrB,IAAnB,EAAyB0C,YAAzB,EAAuCO,WAAvC,EAAoDN,UAApD,CADmB;AAAA,gBAC3DC,SAD2D,sBAC3DA,SAD2D;AAAA,gBAChDC,OADgD,sBAChDA,OADgD;;AAEnE,gBAAMiB,MAAM,GAAG,SAATA,MAAS,CAACC,YAAD,EAAeC,QAAf;AAAA,qBAA4B,mEAAWD,YAAX,EAAyB,WAAWC,QAAQ,GAAG,QAAH,GAAc,EAAjC,CAAzB,EAA+DH,MAA/D,CAA5B;AAAA,aAAf;;AACA,6BAAUC,MAAM,CAAClB,SAAD,EAAYA,SAAS,CAACqB,cAAV,OAA+BpB,OAAO,CAACoB,cAAR,EAA3C,CAAhB,gBAA0FH,MAAM,CAACjB,OAAD,EAAU,IAAV,CAAhG;AACH;AACD;;;;AA1C4B;AAAA;AAAA,+CA6CG;AAAA,gBAAhB7C,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AAC3B,mBAAO,mEAAW7D,IAAX,EAAiB,KAAjB,EAAwB6D,MAAxB,CAAP;AACH;AACD;;;;AAhD4B;AAAA;AAAA,8CAmDE;AAAA,gBAAhB7D,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AAC1B,mBAAO,mEAAW7D,IAAX,EAAiB,KAAjB,EAAwB6D,MAAxB,CAAP;AACH;AACD;;;;AAtD4B;AAAA;AAAA,+CAyDG;AAAA,gBAAhB7D,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AAC3B,mBAAO,mEAAW7D,IAAX,EAAiB,iBAAjB,EAAoC6D,MAApC,CAAP;AACH;AA3D2B;;AAAA;AAAA,SAAhC;;AA6DAD,kCAA4B,CAACza,cAA7B,GAA8C;AAAA,eAAM,CAChD;AAAEjG,cAAI,EAAE6b;AAAR,SADgD,CAAN;AAAA,OAA9C;;AAGA6E,kCAA4B,GAAG,yDAAW,CACtC,kEADsC,EAEtC,yDAAW,mBAAX,EAAgC,CAAC7E,WAAD,CAAhC,CAFsC,CAAX,EAG5B6E,4BAH4B,CAA/B;AAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,UAAIM,qBAAqB;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA,QAAuCN,4BAAvC,CAAzB;;AAEAM,2BAAqB,GAAG,yDAAW,CAC/B,kEAD+B,CAAX,EAErBA,qBAFqB,CAAxB;AAIA;;;;;;;;AAOA,UAAIC,gBAAgB;AAChB,kCAAYC,aAAZ,EAA2BP,MAA3B,EAAmC;AAAA;;AAC/B,eAAKO,aAAL,GAAqBA,aAArB;AACA,eAAKP,MAAL,GAAcA,MAAd;AACH;;AAJe;AAAA;AAAA,oCAKN7D,IALM,EAKAqE,MALA,EAK8E;AAAA,gBAAtER,MAAsE,uEAA7D,KAAKA,MAAwD;AAAA,gBAAhDnB,YAAgD,uEAAjC,CAAiC;AAAA,gBAA9BO,WAA8B,uEAAhB,EAAgB;AAAA,gBAAZN,UAAY;;AAC1F,gBAAI,OAAO,KAAKyB,aAAL,CAAmBC,MAAnB,CAAP,KAAsC,WAA1C,EAAuD;AACnD,kBAAMC,cAAc,GAAGpjB,MAAM,CAACqjB,mBAAP,CAA2BrjB,MAAM,CAACsjB,cAAP,CAAsBN,qBAAqB,CAACzQ,SAA5C,CAA3B,EAAmFtF,MAAnF,CAA0F,UAAAsW,OAAO;AAAA,uBAAIA,OAAO,KAAK,aAAhB;AAAA,eAAjG,CAAvB;AACA,oBAAM,IAAIrP,KAAJ,WAAaiP,MAAb,gEAAyEC,cAAc,CAACI,IAAf,CAAoB,IAApB,CAAzE,EAAN;AACH;;AACD,mBAAO,KAAKN,aAAL,CAAmBC,MAAnB,EAA2B;AAC9BrE,kBAAI,EAAJA,IAD8B;AAE9B6D,oBAAM,EAANA,MAF8B;AAG9BnB,0BAAY,EAAZA,YAH8B;AAI9BO,yBAAW,EAAXA,WAJ8B;AAK9BN,wBAAU,EAAVA;AAL8B,aAA3B,CAAP;AAOH;AAjBe;;AAAA;AAAA,SAApB;;AAmBAwB,sBAAgB,CAAChb,cAAjB,GAAkC;AAAA,eAAM,CACpC;AAAEjG,cAAI,EAAEghB;AAAR,SADoC,EAEpC;AAAEhhB,cAAI,EAAEga,MAAR;AAAgB3V,oBAAU,EAAE,CAAC;AAAErE,gBAAI,EAAE,oDAAR;AAAgB8B,gBAAI,EAAE,CAAC,uDAAD;AAAtB,WAAD;AAA5B,SAFoC,CAAN;AAAA,OAAlC;;AAIAmf,sBAAgB,GAAG,yDAAW,CAC1B,2DAAK;AACDQ,YAAI,EAAE;AADL,OAAL,CAD0B,EAI1B,sDAAQ,CAAR,EAAW,6DAAO,uDAAP,CAAX,CAJ0B,EAK1B,yDAAW,mBAAX,EAAgC,CAACT,qBAAD,EAAwBhH,MAAxB,CAAhC,CAL0B,CAAX,EAMhBiH,gBANgB,CAAnB;AAQA;;;;;;;;;;;;;;;;;;;;;;;;UAuBMS,2B;;;;;;;;AACF;;;gCAGMhiB,K,EAAOiiB,K,EAAO;AAChB,mBAAOjiB,KAAK,CAACiiB,KAAb;AACH;AACD;;;;;;uCAGajiB,K,EAAOiiB,K,EAAO;AACvB,mBAAOjiB,KAAK,CAACiiB,KAAb;AACH;AACD;;;;;;+BAGKjiB,K,EAAOiiB,K,EAAO;AACf,mBAAOjiB,KAAK,CAACiiB,KAAb;AACH;AACD;;;;;;sCAGYjiB,K,EAAOiiB,K,EAAO;AACtB,mBAAOjiB,KAAK,CAACiiB,KAAb;AACH;AACD;;;;;;8BAGIjiB,K,EAAOiiB,K,EAAO;AACd,mBAAOjiB,KAAK,CAACiiB,KAAb;AACH;AACD;;;;;;qCAGWjiB,K,EAAOiiB,K,EAAO;AACrB,mBAAOjiB,KAAK,CAACiiB,KAAb;AACH;;;;;;AAGL,UAAIC,sBAAsB;AACtB,wCAAYC,kBAAZ,EAAgC;AAAA;;AAC5B,eAAKA,kBAAL,GAA0BA,kBAA1B;AACH;;AAHqB;AAAA;AAAA,oCAIZF,KAJY,EAILG,SAJK,EAIMpiB,KAJN,EAIa;AAC/B,mBAAO,KAAKmiB,kBAAL,CAAwBC,SAAxB,EAAmCpiB,KAAnC,EAA0CiiB,KAA1C,CAAP;AACH;AANqB;;AAAA;AAAA,SAA1B;;AAQAC,4BAAsB,CAAC3b,cAAvB,GAAwC;AAAA,eAAM,CAC1C;AAAEjG,cAAI,EAAE0hB;AAAR,SAD0C,CAAN;AAAA,OAAxC;;AAGAE,4BAAsB,GAAG,yDAAW,CAChC,2DAAK;AACDH,YAAI,EAAE;AADL,OAAL,CADgC,EAIhC,yDAAW,mBAAX,EAAgC,CAACC,2BAAD,CAAhC,CAJgC,CAAX,EAKtBE,sBALsB,CAAzB;;AAOA,UAAIG,cAAc;AACd,gCAAYld,QAAZ,EAAsBmd,GAAtB,EAA2BphB,QAA3B,EAAqC;AAAA;;AACjC,eAAKiE,QAAL,GAAgBA,QAAhB;AACA,eAAKmd,GAAL,GAAWA,GAAX;AACA,eAAKphB,QAAL,GAAgBA,QAAhB;AACA,eAAKqhB,qBAAL,GAA6B,KAA7B;AACA,eAAKC,KAAL,GAAa,IAAI,0DAAJ,EAAb,CALiC,CAKA;;AACjC,eAAK7a,QAAL,GAAgB,IAAI,4CAAJ,EAAhB;AACH;;AARa;AAAA;AAAA,qCASH;AAAA;;AACP,gBAAI,CAAC,KAAK4a,qBAAV,EAAiC;AAC7B,mBAAK5c,MAAL,GACKsC,IADL,CACU,iEAAU,KAAKN,QAAf,CADV,EAEKkC,SAFL,CAEe,UAAA7J,KAAK,EAAI;AACpBA,qBAAK,CAACoI,eAAN;;AACA,uBAAI,CAACoa,KAAL,CAAW3W,IAAX,CAAgB7L,KAAhB;AACH,eALD;AAMH;AACJ;AAlBa;AAAA;AAAA,wCAmBA;AACV,iBAAK2H,QAAL,CAAcc,IAAd;AACH;AArBa;AAAA;AAAA,mCAsBL;AAAA;;AACL,mBAAO,IAAI,+CAAJ,CAAe,UAAAD,QAAQ,EAAI;AAC9B,qBAAO,OAAI,CAACrD,QAAL,CAAcQ,MAAd,CAAqB,OAAI,CAAC2c,GAAL,CAAS1c,aAA9B,EAA6C,OAA7C,EAAsD,UAAA5F,KAAK,EAAI;AAClEwI,wBAAQ,CAACC,IAAT,CAAczI,KAAd;AACH,eAFM,CAAP;AAGH,aAJM,CAAP;AAKH;AA5Ba;;AAAA;AAAA,SAAlB;;AA8BAqiB,oBAAc,CAAC9b,cAAf,GAAgC;AAAA,eAAM,CAClC;AAAEjG,cAAI,EAAE;AAAR,SADkC,EAElC;AAAEA,cAAI,EAAE;AAAR,SAFkC,EAGlC;AAAEA,cAAI,EAAE8D,SAAR;AAAmBO,oBAAU,EAAE,CAAC;AAAErE,gBAAI,EAAE,oDAAR;AAAgB8B,gBAAI,EAAE,CAAC,wDAAD;AAAtB,WAAD;AAA/B,SAHkC,CAAN;AAAA,OAAhC;;AAKA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B9D,MAA1B,CAFO,CAAX,EAGG+jB,cAAc,CAACxR,SAHlB,EAG6B,uBAH7B,EAGsD,KAAK,CAH3D;AAIA,+DAAW,CACP,6DAAO,UAAP,CADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGG+jB,cAAc,CAACxR,SAHlB,EAG6B,OAH7B,EAGsC,KAAK,CAH3C;AAIAwR,oBAAc,GAAG,yDAAW,CACxB,gEAAU;AACN/b,gBAAQ,EAAE;AADJ,OAAV,CADwB,EAIxB,sDAAQ,CAAR,EAAW,6DAAO,wDAAP,CAAX,CAJwB,EAKxB,yDAAW,mBAAX,EAAgC,CAAC,uDAAD,EAC5B,wDAD4B,EAChBhI,MADgB,CAAhC,CALwB,CAAX,EAOd+jB,cAPc,CAAjB;;AASA,UAAII,qBAAqB;AACrB,yCAAc;AAAA;;AACV,eAAKC,OAAL,GAAe,IAAI,0DAAJ,EAAf,CADU,CACyB;AACtC;;AAHoB;AAAA;AAAA,qCAIV1iB,KAJU,EAIH;AACd,gBAAIA,KAAK,CAAC2iB,OAAN,KAAkB,EAAlB,IAAwB3iB,KAAK,CAAC4iB,KAAN,KAAgB,EAAxC,IAA8C5iB,KAAK,CAAC0O,GAAN,KAAc,OAAhE,EAAyE;AACrE1O,mBAAK,CAAC8F,cAAN;AACA9F,mBAAK,CAACoI,eAAN;AACA,mBAAKsa,OAAL,CAAa7W,IAAb,CAAkB7L,KAAlB;AACH;AACJ;AAVoB;;AAAA;AAAA,SAAzB;;AAYA,+DAAW,CACP,6DAAO,iBAAP,CADO,EAEP,yDAAW,aAAX,EAA0B1B,MAA1B,CAFO,CAAX,EAGGmkB,qBAAqB,CAAC5R,SAHzB,EAGoC,SAHpC,EAG+C,KAAK,CAHpD;AAIA,+DAAW,CACP,mEAAa,SAAb,EAAwB,CAAC,QAAD,CAAxB,CADO,EAEP,yDAAW,aAAX,EAA0BqL,QAA1B,CAFO,EAGP,yDAAW,mBAAX,EAAgC,CAAC2G,aAAD,CAAhC,CAHO,EAIP,yDAAW,mBAAX,EAAgC,KAAK,CAArC,CAJO,CAAX,EAKGJ,qBAAqB,CAAC5R,SALzB,EAKoC,YALpC,EAKkD,IALlD;AAMA4R,2BAAqB,GAAG,yDAAW,CAC/B,gEAAU;AACNnc,gBAAQ,EAAE;AADJ,OAAV,CAD+B,CAAX,EAIrBmc,qBAJqB,CAAxB;;AAMA,UAAIK,aAAa;AACb,+BAAYrE,WAAZ,EAAyB;AAAA;;AACrB,eAAKA,WAAL,GAAmBA,WAAnB;AACH;;AAHY;AAAA;AAAA,uCAIArc,IAJA,EAIM;AACf,mBAAO,oEAAa,KAAKqc,WAAlB,EAA+Brc,IAA/B,CAAP;AACH;AANY;AAAA;AAAA,4CAOKA,IAPL,EAOW;AACpB,mBAAO,yEAAkB,KAAKqc,WAAvB,EAAoCrc,IAApC,CAAP;AACH;AATY;AAAA;AAAA,sCAUDA,IAVC,EAUK;AACd,mBAAO,mEAAY,KAAKqc,WAAjB,EAA8Brc,IAA9B,CAAP;AACH;AAZY;;AAAA;AAAA,SAAjB;;AAcA0gB,mBAAa,CAACvc,cAAd,GAA+B;AAAA,eAAM,CACjC;AAAEjG,cAAI,EAAE6b;AAAR,SADiC,CAAN;AAAA,OAA/B;;AAGA2G,mBAAa,GAAG,yDAAW,CACvB,kEADuB,EAEvB,yDAAW,mBAAX,EAAgC,CAAC3G,WAAD,CAAhC,CAFuB,CAAX,EAGb2G,aAHa,CAAhB;AAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,UAAIC,YAAY;AACZ,8BAAYC,UAAZ,EAAwB;AAAA;;AACpB,eAAKA,UAAL,GAAkBA,UAAlB;AACH;AACD;;;;;;AAJY;AAAA;AAAA,4CAQe;AAAA,gBAAf7F,GAAe,UAAfA,GAAe;AAAA,gBAAV8D,MAAU,UAAVA,MAAU;;AACvB,gBAAI9D,GAAG,CAAC8F,UAAJ,GAAiB,CAArB,EAAwB;AACpB,yCACF,mEAAW9F,GAAG,CAACC,IAAf,EAAqB,aAArB,EAAoC6D,MAApC,CADE,wBAEF,KAAK+B,UAAL,CAAgBtZ,SAAhB,CAA0ByT,GAAG,CAAC8F,UAA9B,EAA0C;AACpC,sBAAM,WAD8B;AAEpC,sBAAM,WAF8B;AAGpCC,qBAAK,EAAE;AAH6B,eAA1C,CAFE;AASH,aAVD,MAWK;AACD,+BAAU,mEAAW/F,GAAG,CAACC,IAAf,EAAqB,aAArB,EAAoC6D,MAApC,CAAV;AACH;AACJ;AACD;;;;;AAxBY;AAAA;AAAA,wDA4B4B;AAAA,gBAAhB7D,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AACpC,oEAC+B,mEAAW7D,IAAX,EAAiB,cAAjB,EAAiC6D,MAAjC,CAD/B;AAGH;AACD;;;;;AAjCY;AAAA;AAAA,qDAqCyB;AAAA,gBAAhB7D,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AACjC,6BAAU,mEAAW7D,IAAX,EAAiB,cAAjB,EAAiC6D,MAAjC,CAAV;AACH;AACD;;;;;AAxCY;AAAA;AAAA,mDA4CwB;AAAA,gBAAjBjhB,KAAiB,UAAjBA,KAAiB;AAAA,gBAAVihB,MAAU,UAAVA,MAAU;;AAChC,gBAAIjhB,KAAK,CAAC0f,MAAN,KAAiB,IAArB,EAA2B;AACvB,qBAAO,KAAKyD,sBAAL,CAA4B;AAAEnjB,qBAAK,EAALA,KAAF;AAASihB,sBAAM,EAANA;AAAT,eAA5B,CAAP;AACH;;AACD,gBAAMmC,IAAI,qBACV,mEAAWpjB,KAAK,CAAC4e,KAAjB,EAAwB,cAAxB,EAAwCqC,MAAxC,CADU,sBAEVjhB,KAAK,CAACiiB,KAFI,oBAEW,mEAAWjiB,KAAK,CAAC4e,KAAjB,EAAwB,SAAxB,EAAmCqC,MAAnC,CAFX,WAAV;;AAIA,gBAAIjhB,KAAK,CAAC2e,GAAV,EAAe;AACX,qBAAOyE,IAAI,iBAAU,mEAAWpjB,KAAK,CAAC2e,GAAjB,EAAsB,SAAtB,EAAiCsC,MAAjC,CAAV,CAAX;AACH;;AACD,mBAAOmC,IAAP;AACH;AACD;;;;;;AAzDY;AAAA;AAAA,yDA8D8B;AAAA,gBAAjBpjB,KAAiB,UAAjBA,KAAiB;AAAA,gBAAVihB,MAAU,UAAVA,MAAU;AACtC,gBAAMmC,IAAI,qBACVpjB,KAAK,CAACiiB,KADI,4DAEC,mEAAWjiB,KAAK,CAAC4e,KAAjB,EAAwB,iBAAxB,EAA2CqC,MAA3C,CAFD,WAAV;;AAIA,gBAAIjhB,KAAK,CAAC2e,GAAV,EAAe;AACX,qBAAQyE,IAAI,yBAAkB,mEAAWpjB,KAAK,CAAC2e,GAAjB,EAAsB,gBAAtB,EAAwCsC,MAAxC,CAAlB,CAAZ;AACH;;AACD,mBAAOmC,IAAI,mBAAX;AACH;AACD;;;;;AAxEY;AAAA;AAAA,oDA4EkB;AAAA,gBAAVlJ,MAAU,UAAVA,MAAU;AAC1B,mBAAOA,MAAM,CAACmJ,SAAd;AACH;AACD;;;;AA/EY;AAAA;AAAA,8CAkFQ;AAChB,mBAAO,CAAP;AACH;AACD;;;;AArFY;AAAA;AAAA,gDAwFU;AAClB,mBAAO,IAAP;AACH;AACD;;;;AA3FY;AAAA;AAAA,2CA8FK;AACb,mBAAO,IAAP;AACH;AACD;;;;AAjGY;AAAA;AAAA,gDAoGU;AAClB,mBAAO,IAAP;AACH;AACD;;;;AAvGY;AAAA;AAAA,+CA0GS;AACjB,mBAAO,IAAP;AACH;AA5GW;;AAAA;AAAA,SAAhB;;AA8GAN,kBAAY,CAACxc,cAAb,GAA8B;AAAA,eAAM,CAChC;AAAEjG,cAAI,EAAE;AAAR,SADgC,CAAN;AAAA,OAA9B;;AAGAyiB,kBAAY,GAAG,yDAAW,CACtB,kEADsB,EAEtB,yDAAW,mBAAX,EAAgC,CAAC,8DAAD,CAAhC,CAFsB,CAAX,EAGZA,YAHY,CAAf;AAKA;;;;;;;;AAOA,UAAIO,gBAAgB;AAChB,kCAAYC,YAAZ,EAA0BtC,MAA1B,EAAkC;AAAA;;AAC9B,eAAKsC,YAAL,GAAoBA,YAApB;AACA,eAAKtC,MAAL,GAAcA,MAAd;AACH;;AAJe;AAAA;AAAA,oCAKNuC,UALM,EAKM/B,MALN,EAKc;AAC1B+B,sBAAU,CAACvC,MAAX,GAAoBuC,UAAU,CAACvC,MAAX,IAAqB,KAAKA,MAA9C;;AACA,gBAAI,OAAO,KAAKsC,YAAL,CAAkB9B,MAAlB,CAAP,KAAqC,WAAzC,EAAsD;AAClD,kBAAMC,cAAc,GAAGpjB,MAAM,CAACqjB,mBAAP,CAA2BrjB,MAAM,CAACsjB,cAAP,CAAsBmB,YAAY,CAAClS,SAAnC,CAA3B,EAA0EtF,MAA1E,CAAiF,UAAAsW,OAAO;AAAA,uBAAIA,OAAO,KAAK,aAAhB;AAAA,eAAxF,CAAvB;AACA,oBAAM,IAAIrP,KAAJ,WAAaiP,MAAb,6DAAsEC,cAAc,CAACI,IAAf,CAAoB,IAApB,CAAtE,EAAN;AACH;;AACD,mBAAO,KAAKyB,YAAL,CAAkB9B,MAAlB,EAA0B+B,UAA1B,CAAP;AACH;AAZe;;AAAA;AAAA,SAApB;;AAcAF,sBAAgB,CAAC/c,cAAjB,GAAkC;AAAA,eAAM,CACpC;AAAEjG,cAAI,EAAEyiB;AAAR,SADoC,EAEpC;AAAEziB,cAAI,EAAEga,MAAR;AAAgB3V,oBAAU,EAAE,CAAC;AAAErE,gBAAI,EAAE,oDAAR;AAAgB8B,gBAAI,EAAE,CAAC,uDAAD;AAAtB,WAAD;AAA5B,SAFoC,CAAN;AAAA,OAAlC;;AAIAkhB,sBAAgB,GAAG,yDAAW,CAC1B,2DAAK;AACDvB,YAAI,EAAE;AADL,OAAL,CAD0B,EAI1B,sDAAQ,CAAR,EAAW,6DAAO,uDAAP,CAAX,CAJ0B,EAK1B,yDAAW,mBAAX,EAAgC,CAACgB,YAAD,EAAezI,MAAf,CAAhC,CAL0B,CAAX,EAMhBgJ,gBANgB,CAAnB;AAQA,UAAMG,MAAM,GAAG,IAAI,4DAAJ,CAAmB,QAAnB,CAAf;AACA;;;;;;;;;;;;;;;;;AAgBA,UAAIC,2BAA2B;AAC3B;;;AAGA,6CAAYC,MAAZ,EAAoBlF,WAApB,EAAiC;AAAA;;AAC7B,eAAKkF,MAAL,GAAcA,MAAd;AACA,eAAKlF,WAAL,GAAmBA,WAAnB;AACH;AACD;;;;;AAR2B;AAAA;AAAA,wDAWa;AAAA,gBAAhBrB,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AACpC,mBAAO,KAAK0C,MAAL,CAAYvG,IAAZ,EACF6D,MADE,CACKA,MADL,EAEFC,MAFE,CAEK,MAFL,CAAP;AAGH;AACD;;;;AAhB2B;AAAA;AAAA,qDAmBU;AAAA,gBAAhB9D,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AACjC,mBAAO,KAAK0C,MAAL,CAAYvG,IAAZ,EACF6D,MADE,CACKA,MADL,EAEFC,MAFE,CAEK,GAFL,CAAP;AAGH;AACD;;;;AAxB2B;AAAA;AAAA,iDA2BM;AAAA,gBAAhB9D,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AAC7B,mBAAO,KAAK0C,MAAL,CAAYvG,IAAZ,EACF6D,MADE,CACKA,MADL,EAEFC,MAFE,CAEK,WAFL,CAAP;AAGH;AACD;;;;AAhC2B;AAAA;AAAA,uDAmCY;AAAA,gBAAhB9D,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AACnC,mBAAO,KAAK0C,MAAL,CAAYvG,IAAZ,EACF6D,MADE,CACKA,MADL,EAEFC,MAFE,CAEK,MAFL,CAAP;AAGH;AACD;;;;AAxC2B;AAAA;AAAA,0DA2Ce;AAAA,gBAAhB9D,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AACtC,mBAAO,KAAK0C,MAAL,CAAYvG,IAAZ,EACF6D,MADE,CACKA,MADL,EAEFC,MAFE,CAEK,OAFL,CAAP;AAGH;AACD;;;;AAhD2B;AAAA;AAAA,gDAmD4C;AAAA;;AAAA,gBAAvD9D,IAAuD,UAAvDA,IAAuD;AAAA,gBAAjD6D,MAAiD,UAAjDA,MAAiD;AAAA,gBAAzCnB,YAAyC,UAAzCA,YAAyC;AAAA,gBAA3BO,WAA2B,UAA3BA,WAA2B;AAAA,gBAAdN,UAAc,UAAdA,UAAc;;AAAA,sCACpCH,iBAAiB,CAAC,KAAKnB,WAAN,EAAmBrB,IAAnB,EAAyB0C,YAAzB,EAAuCO,WAAvC,EAAoDN,UAApD,CADmB;AAAA,gBAC3DC,SAD2D,uBAC3DA,SAD2D;AAAA,gBAChDC,OADgD,uBAChDA,OADgD;;AAEnE,gBAAMiB,MAAM,GAAG,SAATA,MAAS,CAACC,YAAD,EAAeC,QAAf;AAAA,qBAA4B,OAAI,CAACuC,MAAL,CAAYxC,YAAZ,EACtCF,MADsC,CAC/BA,MAD+B,EAEtCC,MAFsC,CAE/B,WAAWE,QAAQ,GAAG,QAAH,GAAc,EAAjC,CAF+B,CAA5B;AAAA,aAAf;;AAGA,6BAAUF,MAAM,CAAClB,SAAD,EAAYA,SAAS,CAACqB,cAAV,OAA+BpB,OAAO,CAACoB,cAAR,EAA3C,CAAhB,gBAA0FH,MAAM,CAACjB,OAAD,EAAU,IAAV,CAAhG;AACH;AACD;;;;AA1D2B;AAAA;AAAA,+CA6DI;AAAA,gBAAhB7C,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AAC3B,mBAAO,KAAK0C,MAAL,CAAYvG,IAAZ,EACF6D,MADE,CACKA,MADL,EAEFC,MAFE,CAEK,IAFL,CAAP;AAGH;AACD;;;;AAlE2B;AAAA;AAAA,8CAqEG;AAAA,gBAAhB9D,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AAC1B,mBAAO,KAAK0C,MAAL,CAAYvG,IAAZ,EACF6D,MADE,CACKA,MADL,EAEFC,MAFE,CAEK,IAFL,CAAP;AAGH;AACD;;;;AA1E2B;AAAA;AAAA,+CA6EI;AAAA,gBAAhB9D,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AAC3B,mBAAO,KAAK0C,MAAL,CAAYvG,IAAZ,EACF6D,MADE,CACKA,MADL,EAEFC,MAFE,CAEK,oBAFL,CAAP;AAGH;AAjF0B;;AAAA;AAAA,SAA/B;;AAmFAwC,iCAA2B,CAACnd,cAA5B,GAA6C;AAAA,eAAM,CAC/C;AAAEjG,cAAI,EAAE8D,SAAR;AAAmBO,oBAAU,EAAE,CAAC;AAAErE,gBAAI,EAAE,oDAAR;AAAgB8B,gBAAI,EAAE,CAACqhB,MAAD;AAAtB,WAAD;AAA/B,SAD+C,EAE/C;AAAEnjB,cAAI,EAAE6b;AAAR,SAF+C,CAAN;AAAA,OAA7C;;AAIAuH,iCAA2B,GAAG,yDAAW,CACrC,kEADqC,EAErC,sDAAQ,CAAR,EAAW,6DAAOD,MAAP,CAAX,CAFqC,EAGrC,yDAAW,mBAAX,EAAgC,CAACnlB,MAAD,EAAS6d,WAAT,CAAhC,CAHqC,CAAX,EAI3BuH,2BAJ2B,CAA9B;AAMA;;;;;;AAKA,UAAIE,2BAA2B;AAC3B,6CAAYnF,WAAZ,EAAyB;AAAA;;AACrB,eAAKA,WAAL,GAAmBA,WAAnB;AACH;AACD;;;;;AAJ2B;AAAA;AAAA,wDAOa;AAAA,gBAAhBrB,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AACpC,mBAAO,IAAI4C,IAAI,CAACC,cAAT,CAAwB7C,MAAxB,EAAgC;AAAE8C,qBAAO,EAAE;AAAX,aAAhC,EAAqD7C,MAArD,CAA4D9D,IAA5D,CAAP;AACH;AACD;;;;AAV2B;AAAA;AAAA,qDAaU;AAAA,gBAAhBA,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AACjC,mBAAO,IAAI4C,IAAI,CAACC,cAAT,CAAwB7C,MAAxB,EAAgC;AAAE9D,iBAAG,EAAE;AAAP,aAAhC,EAAoD+D,MAApD,CAA2D9D,IAA3D,CAAP;AACH;AACD;;;;AAhB2B;AAAA;AAAA,iDAmBM;AAAA,gBAAhBA,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AAC7B,mBAAO,IAAI4C,IAAI,CAACC,cAAT,CAAwB7C,MAAxB,EAAgC;AACnC+C,kBAAI,EAAE,SAD6B;AAEnCvD,mBAAK,EAAE;AAF4B,aAAhC,EAGJS,MAHI,CAGG9D,IAHH,CAAP;AAIH;AACD;;;;AAzB2B;AAAA;AAAA,uDA4BY;AAAA,gBAAhBA,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AACnC,mBAAO,IAAI4C,IAAI,CAACC,cAAT,CAAwB7C,MAAxB,EAAgC;AAAE8C,qBAAO,EAAE;AAAX,aAAhC,EAAqD7C,MAArD,CAA4D9D,IAA5D,CAAP;AACH;AACD;;;;AA/B2B;AAAA;AAAA,0DAkCe;AAAA,gBAAhBA,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AACtC,mBAAO,IAAI4C,IAAI,CAACC,cAAT,CAAwB7C,MAAxB,EAAgC;AACnC9D,iBAAG,EAAE,SAD8B;AAEnCsD,mBAAK,EAAE;AAF4B,aAAhC,EAGJS,MAHI,CAGG9D,IAHH,CAAP;AAIH;AACD;;;;AAxC2B;AAAA;AAAA,gDA2C4C;AAAA,gBAAvDA,IAAuD,UAAvDA,IAAuD;AAAA,gBAAjD6D,MAAiD,UAAjDA,MAAiD;AAAA,gBAAzCnB,YAAyC,UAAzCA,YAAyC;AAAA,gBAA3BO,WAA2B,UAA3BA,WAA2B;AAAA,gBAAdN,UAAc,UAAdA,UAAc;;AAAA,sCACpCH,iBAAiB,CAAC,KAAKnB,WAAN,EAAmBrB,IAAnB,EAAyB0C,YAAzB,EAAuCO,WAAvC,EAAoDN,UAApD,CADmB;AAAA,gBAC3DC,SAD2D,uBAC3DA,SAD2D;AAAA,gBAChDC,OADgD,uBAChDA,OADgD;;AAEnE,gBAAMiB,MAAM,GAAG,SAATA,MAAS,CAACC,YAAD,EAAeC,QAAf;AAAA,qBAA4B,IAAIyC,IAAI,CAACC,cAAT,CAAwB7C,MAAxB,EAAgC;AACvE9D,mBAAG,EAAE,SADkE;AAEvEsD,qBAAK,EAAE,OAFgE;AAGvEuD,oBAAI,EAAE5C,QAAQ,GAAG,SAAH,GAAehd;AAH0C,eAAhC,EAIxC8c,MAJwC,CAIjCC,YAJiC,CAA5B;AAAA,aAAf;;AAKA,6BAAUD,MAAM,CAAClB,SAAD,EAAYA,SAAS,CAACqB,cAAV,OAA+BpB,OAAO,CAACoB,cAAR,EAA3C,CAAhB,gBAA0FH,MAAM,CAACjB,OAAD,EAAU,IAAV,CAAhG;AACH;AACD;;;;AApD2B;AAAA;AAAA,+CAuDI;AAAA,gBAAhB7C,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AAC3B,mBAAO,IAAI4C,IAAI,CAACC,cAAT,CAAwB7C,MAAxB,EAAgC;AAAExD,kBAAI,EAAE;AAAR,aAAhC,EAAqDyD,MAArD,CAA4D9D,IAA5D,CAAP;AACH;AACD;;;;AA1D2B;AAAA;AAAA,8CA6DG;AAAA,gBAAhBA,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AAC1B,mBAAO,IAAI4C,IAAI,CAACC,cAAT,CAAwB7C,MAAxB,EAAgC;AAAExD,kBAAI,EAAE;AAAR,aAAhC,EAAqDyD,MAArD,CAA4D9D,IAA5D,CAAP;AACH;AACD;;;;AAhE2B;AAAA;AAAA,+CAmEI;AAAA,gBAAhBA,IAAgB,UAAhBA,IAAgB;AAAA,gBAAV6D,MAAU,UAAVA,MAAU;AAC3B,mBAAO,IAAI4C,IAAI,CAACC,cAAT,CAAwB7C,MAAxB,EAAgC;AACnC9D,iBAAG,EAAE,SAD8B;AAEnCsD,mBAAK,EAAE,MAF4B;AAGnCuD,kBAAI,EAAE,SAH6B;AAInCD,qBAAO,EAAE;AAJ0B,aAAhC,EAKJ7C,MALI,CAKG9D,IALH,CAAP;AAMH;AA1E0B;;AAAA;AAAA,SAA/B;;AA4EAwG,iCAA2B,CAACrd,cAA5B,GAA6C;AAAA,eAAM,CAC/C;AAAEjG,cAAI,EAAE6b;AAAR,SAD+C,CAAN;AAAA,OAA7C;;AAGAyH,iCAA2B,GAAG,yDAAW,CACrC,kEADqC,EAErC,yDAAW,mBAAX,EAAgC,CAACzH,WAAD,CAAhC,CAFqC,CAAX,EAG3ByH,2BAH2B,CAA9B;AAKA,UAAIK,kCAAJ;;AACA,OAAC,UAAUA,kCAAV,EAA8C;AAC3CA,0CAAkC,CAAC,MAAD,CAAlC,GAA6C,MAA7C;AACAA,0CAAkC,CAAC,MAAD,CAAlC,GAA6C,MAA7C;AACAA,0CAAkC,CAAC,QAAD,CAAlC,GAA+C,QAA/C;AACH,OAJD,EAIGA,kCAAkC,KAAKA,kCAAkC,GAAG,EAA1C,CAJrC;;AAMA,UAAIC,sBAAJ;AACA;;;;;;;;;;;;;;;;;AAgBA,UAAIC,oBAAoB,GAAGD,sBAAsB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,kCAC9BzF,WAD8B,EACJ;AAAA,gBAAb2F,MAAa,uEAAJ,EAAI;AACrC,mBAAO;AACHC,sBAAQ,EAAEH,sBADP;AAEHI,uBAAS,EAAE,CACP7F,WADO,EAEP2F,MAAM,CAACG,mBAAP,IAA8BvC,2BAFvB,EAGPoC,MAAM,CAAC5C,aAAP,IAAwBF,qBAHjB,EAIP8C,MAAM,CAACI,KAAP,IAAgB1B,aAJT,EAKPsB,MAAM,CAACK,IAAP,IAAe1B,YALR;AAFR,aAAP;AAUH;AAZ4C;;AAAA;AAAA,SAAjD;;AAcAoB,0BAAoB,GAAGD,sBAAsB,GAAG,yDAAW,CACvD,+DAAS;AACLxT,oBAAY,EAAE,CACVsJ,6BADU,EAEVK,2BAFU,EAGVE,8BAHU,EAIVC,wBAJU,EAKV4F,6BALU,EAMVS,yBANU,EAOVE,sBAPU,EAQVQ,gBARU,EASVW,sBATU,EAUVoB,gBAVU,EAWVjB,cAXU,EAYVI,qBAZU,CADT;AAeLiC,eAAO,EAAE,CAAC,4DAAD,CAfJ;AAgBLlmB,eAAO,EAAE,CACLwb,6BADK,EAELK,2BAFK,EAGLE,8BAHK,EAILC,wBAJK,EAKL4F,6BALK,EAMLS,yBANK,EAOLE,sBAPK,EAQLQ,gBARK,EASLW,sBATK,EAULoB,gBAVK,EAWLjB,cAXK,EAYLI,qBAZK,CAhBJ;AA8BL6B,iBAAS,EAAE,CAAC,8DAAD,CA9BN;AA+BLK,uBAAe,EAAE,CAACpK,8BAAD;AA/BZ,OAAT,CADuD,CAAX,EAkC7C4J,oBAlC6C,CAAhD;AAoCA;;;;;;;;;;;AAUA,UAAIS,0BAA0B;AAC1B;;;AAGA,4CAAYC,GAAZ,EAAiBL,KAAjB,EAAwBvD,MAAxB,EAAgCxC,WAAhC,EAA6C;AAAA;;AAAA;;AACzC,eAAKoG,GAAL,GAAWA,GAAX;AACA,eAAKL,KAAL,GAAaA,KAAb;AACA,eAAK/F,WAAL,GAAmBA,WAAnB;AACA;;;;;AAIA,eAAKnC,MAAL,GAAc,EAAd;AACA;;;;AAGA,eAAK+D,WAAL,GAAmB,EAAnB;AACA;;;;AAGA,eAAKyE,eAAL,GAAuB,KAAvB;AACA;;;;AAGA,eAAKC,gBAAL,GAAwB,MAAxB;AACA;;;;AAGA,eAAKC,mBAAL,GAA2B,IAA3B;AACA;;;;;AAIA,eAAKC,YAAL,GAAoB,IAApB;AACA;;;;;AAIA,eAAKC,gBAAL,GAAwB,IAAI,0DAAJ,EAAxB;AACA;;;;AAGA,eAAKC,UAAL,GAAkB,IAAI,0DAAJ,EAAlB;AACA;;;;AAGA,eAAKC,YAAL,GAAoB,IAAI,0DAAJ,EAApB;AACA;;;;AAGA,eAAKC,mBAAL,GAA2B,IAAI,0DAAJ,EAA3B;AACA;;;;AAGA,eAAKC,iBAAL,GAAyB,IAAI,0DAAJ,EAAzB;AACA;;;;AAGA,eAAKC,gBAAL,GAAwB,UAACjS,KAAD,EAAQa,MAAR;AAAA,mBAAmB,OAAI,CAACuM,IAAL,CAAU5B,IAAV,CACtChN,KADsC,CAChCqC,MADgC,EACxB,OAAI,CAACuM,IAAL,CAAU8E,sBADc,EAEtCxT,GAFsC,CAElC,UAAAmL,GAAG;AAAA,qBAAIA,GAAG,CAACC,IAAJ,CAASC,WAAT,EAAJ;AAAA,aAF+B,EAGtCyE,IAHsC,CAGjC,GAHiC,CAAnB;AAAA,WAAxB;AAIA;;;;;AAGA,eAAK2D,WAAL,GAAmB,UAACnS,KAAD,EAAQ6J,GAAR;AAAA,mBAAgBA,GAAG,CAACC,IAAJ,CAASC,WAAT,EAAhB;AAAA,WAAnB;;AACA,eAAK4D,MAAL,GAAcA,MAAd;AACH;AACD;;;;;AApE0B;AAAA;AAAA,qCAuEf;AAAA;;AACP,gBAAI,KAAKyE,OAAT,EAAkB;AACd,mBAAKC,mBAAL,GAA2B,KAAKD,OAAL,CAAa7b,SAAb,CAAuB,YAAM;AACpD,uBAAI,CAAC+b,UAAL;;AACA,uBAAI,CAACf,GAAL,CAASxJ,YAAT;AACH,eAH0B,CAA3B;AAIH;AACJ;AACD;;;;AA/E0B;AAAA;AAAA,sCAkFd3O,OAlFc,EAkFL;AACjB,gBAAMmZ,aAAa,GAAGnZ,OAAO,CAACmT,QAAR,IAAoBnT,OAAO,CAAC2T,WAA5B,IAA2C3T,OAAO,CAACoZ,WAAzE;AACA,gBAAMC,WAAW,GAAGrZ,OAAO,CAACmT,QAAR,IAChBnT,OAAO,CAAC4P,MADQ,IAEhB5P,OAAO,CAAC2T,WAFQ,IAGhB3T,OAAO,CAACoZ,WAHZ;;AAIA,gBAAID,aAAJ,EAAmB;AACf,mBAAKA,aAAL;AACH;;AACD,gBAAInZ,OAAO,CAAC4P,MAAZ,EAAoB;AAChBD,4BAAc,CAAC,KAAKC,MAAN,CAAd;AACH;;AACD,gBAAIyJ,WAAJ,EAAiB;AACb,mBAAKA,WAAL;AACH;;AACD,gBAAIF,aAAa,IAAIE,WAArB,EAAkC;AAC9B,mBAAKC,oBAAL;AACH;;AACD,gBAAItZ,OAAO,CAACoY,eAAR,IACApY,OAAO,CAACmT,QADR,IAEAnT,OAAO,CAAC4P,MAFR,IAGA5P,OAAO,CAAC2T,WAHR,IAIA3T,OAAO,CAACuZ,SAJZ,EAIuB;AACnB,mBAAKC,oBAAL;AACH;AACJ;AACD;;;;AA5G0B;AAAA;AAAA,wCA+GZ;AACV,gBAAI,KAAKP,mBAAT,EAA8B;AAC1B,mBAAKA,mBAAL,CAAyBnV,WAAzB;AACH;AACJ;AACD;;;;AApH0B;AAAA;AAAA,6CAuHPxQ,KAvHO,EAuHAmmB,aAvHA,EAuHe;AACrC,iBAAKzF,IAAL,CAAU5B,IAAV,CAAepT,OAAf,CAAuB,UAAAyR,GAAG,EAAI;AAC1B,kBAAIgJ,aAAa,IAAIhJ,GAAG,CAACb,MAAJ,CAAW1Q,OAAX,CAAmB5L,KAAnB,IAA4B,CAAC,CAAlD,EAAqD;AACjDmd,mBAAG,CAACiJ,eAAJ,GACKpmB,KAAK,CAACqmB,KAAN,IAAermB,KAAK,CAACqmB,KAAN,CAAY3P,SAA5B,IAA0C,SAD9C;AAEH,eAHD,MAIK;AACD,uBAAOyG,GAAG,CAACiJ,eAAX;AACH;AACJ,aARD;AASH;AACD;;;;AAlI0B;AAAA;AAAA,uCAqIbE,SArIa,EAqIFtmB,KArIE,EAqIKumB,WArIL,EAqIkB;AACxC,gBAAID,SAAS,KAAKC,WAAlB,EAA+B;AAC3B,kBAAMvC,IAAI,GAAG,KAAKvF,WAAL,CAAiBhf,OAAjB,CAAyB6mB,SAAS,CAAClJ,IAAnC,CAAb;AACA,kBAAMqD,KAAK,GAAG,KAAKhC,WAAL,CAAiBlG,QAAjB,CAA0B+N,SAAS,CAAClJ,IAApC,CAAd;AACA,kBAAMA,IAAI,GAAG,KAAKqB,WAAL,CAAiBjf,OAAjB,CAAyB8mB,SAAS,CAAClJ,IAAnC,CAAb;AACA,kBAAMiC,QAAQ,GAAG,KAAKZ,WAAL,CAAiBpf,OAAjB,CAAyB,KAAKof,WAAL,CAAiBnf,QAAjB,CAA0B,KAAKmf,WAAL,CAAiBlf,OAAjB,CAAyBS,KAAK,CAAC4e,KAA/B,EAAsCoF,IAAtC,CAA1B,EAAuEvD,KAAvE,CAAzB,EAAwGrD,IAAxG,CAAjB;AACA,kBAAIkC,MAAJ;;AACA,kBAAItf,KAAK,CAAC2e,GAAV,EAAe;AACX,oBAAM6H,WAAW,GAAG,KAAK/H,WAAL,CAAiBvG,mBAAjB,CAAqCmH,QAArC,EAA+Crf,KAAK,CAAC4e,KAArD,CAApB;AACAU,sBAAM,GAAG,KAAKb,WAAL,CAAiB1G,UAAjB,CAA4B/X,KAAK,CAAC2e,GAAlC,EAAuC6H,WAAvC,CAAT;AACH;;AACD,mBAAKlB,iBAAL,CAAuBzZ,IAAvB,CAA4B;AACxB7L,qBAAK,EAALA,KADwB;AAExBqf,wBAAQ,EAARA,QAFwB;AAGxBC,sBAAM,EAANA,MAHwB;AAIxBnC,mBAAG,EAAEmJ,SAJmB;AAKxBhmB,oBAAI,EAAE2jB,kCAAkC,CAACwC;AALjB,eAA5B;AAOH;AACJ;AAxJyB;AAAA;AAAA,0CAyJV;AACZ,iBAAKC,aAAL,GAAqB,KAAKlC,KAAL,CAAWmC,iBAAX,CAA6B;AAC9C9G,sBAAQ,EAAE,KAAKA,QAD+B;AAE9CC,0BAAY,EAAE,KAAKA,YAF2B;AAG9Cf,sBAAQ,EAAE,KAAKsB,WAH+B;AAI9CyF,yBAAW,EAAE,KAAKA;AAJ4B,aAA7B,CAArB;AAMH;AAhKyB;AAAA;AAAA,wCAiKZ;AACV,iBAAKpF,IAAL,GAAY,KAAK8D,KAAL,CAAWoC,YAAX,CAAwB;AAChCtK,oBAAM,EAAE,KAAKA,MADmB;AAEhCuD,sBAAQ,EAAE,KAAKA,QAFiB;AAGhCC,0BAAY,EAAE,KAAKA,YAHa;AAIhCf,sBAAQ,EAAE,KAAKsB,WAJiB;AAKhCyF,yBAAW,EAAE,KAAKA;AALc,aAAxB,CAAZ;AAOH;AAzKyB;AAAA;AAAA,iDA0KH;AAAA;;AACnB,gBAAI,KAAKhB,eAAL,KAAyB,IAA7B,EAAmC;AAC/B,kBAAMmB,SAAS,GAAG,KAAKA,SAAL,IAAkB,KAAKpG,QAAzC;AACA,mBAAKgH,OAAL,GAAe,KAAKnG,IAAL,CAAU5B,IAAV,CAAe7H,IAAf,CAAoB,UAAAkG,GAAG;AAAA,uBAAI,OAAI,CAACsB,WAAL,CAAiBjG,SAAjB,CAA2B2E,GAAG,CAACC,IAA/B,EAAqC6I,SAArC,CAAJ;AAAA,eAAvB,CAAf;AACA,kBAAM3S,KAAK,GAAG,KAAKoN,IAAL,CAAU5B,IAAV,CAAelT,OAAf,CAAuB,KAAKib,OAA5B,CAAd;AACA,mBAAKC,YAAL,GACI1d,IAAI,CAACwT,KAAL,CAAWtJ,KAAK,GAAG,KAAKoN,IAAL,CAAU8E,sBAA7B,IACI,KAAK9E,IAAL,CAAU8E,sBAFlB;AAGH,aAPD,MAQK;AACD,mBAAKsB,YAAL,GAAoB,IAApB;AACA,mBAAKD,OAAL,GAAe,IAAf;AACH;AACJ;AAvLyB;AAAA;AAAA,uCAwLb;AACT,iBAAKhB,aAAL;AACA,iBAAKE,WAAL;AACA,iBAAKC,oBAAL;AACA,iBAAKE,oBAAL;AACH;AA7LyB;AAAA;AAAA,iDA8LH;AACnB,gBAAI,KAAKQ,aAAL,IAAsB,KAAKhG,IAA/B,EAAqC;AACjC,mBAAKwE,gBAAL,CAAsBrZ,IAAtB,CAA2B;AACvBkb,sBAAM,EAAE,KAAKL,aADU;AAEvBrlB,oBAAI,EAAE,KAAKqf,IAAL,CAAU5B,IAFO;AAGvBS,sBAAM,EAAE,KAAKmB,IAAL,CAAUnB;AAHK,eAA3B;AAKH;AACJ;AAtMyB;;AAAA;AAAA,SAA9B;;AAwMAqF,gCAA0B,CAACre,cAA3B,GAA4C;AAAA,eAAM,CAC9C;AAAEjG,cAAI,EAAE;AAAR,SAD8C,EAE9C;AAAEA,cAAI,EAAEwiB;AAAR,SAF8C,EAG9C;AAAExiB,cAAI,EAAEga,MAAR;AAAgB3V,oBAAU,EAAE,CAAC;AAAErE,gBAAI,EAAE,oDAAR;AAAgB8B,gBAAI,EAAE,CAAC,uDAAD;AAAtB,WAAD;AAA5B,SAH8C,EAI9C;AAAE9B,cAAI,EAAE6b;AAAR,SAJ8C,CAAN;AAAA,OAA5C;;AAMA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BpO,IAA1B,CAFO,CAAX,EAGG6W,0BAA0B,CAAC/T,SAH9B,EAGyC,UAHzC,EAGqD,KAAK,CAH1D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BxO,KAA1B,CAFO,CAAX,EAGGuiB,0BAA0B,CAAC/T,SAH9B,EAGyC,QAHzC,EAGmD,KAAK,CAHxD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BxO,KAA1B,CAFO,CAAX,EAGGuiB,0BAA0B,CAAC/T,SAH9B,EAGyC,aAHzC,EAGwD,KAAK,CAH7D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BmL,OAA1B,CAFO,CAAX,EAGG4I,0BAA0B,CAAC/T,SAH9B,EAGyC,iBAHzC,EAG4D,KAAK,CAHjE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B9C,IAA1B,CAFO,CAAX,EAGG6W,0BAA0B,CAAC/T,SAH9B,EAGyC,WAHzC,EAGsD,KAAK,CAH3D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,4CAA1B,CAFO,CAAX,EAGG+T,0BAA0B,CAAC/T,SAH9B,EAGyC,SAHzC,EAGoD,KAAK,CAHzD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0ByJ,MAA1B,CAFO,CAAX,EAGGsK,0BAA0B,CAAC/T,SAH9B,EAGyC,QAHzC,EAGmD,KAAK,CAHxD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGsmB,0BAA0B,CAAC/T,SAH9B,EAGyC,kBAHzC,EAG6D,KAAK,CAHlE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG+T,0BAA0B,CAAC/T,SAH9B,EAGyC,iBAHzC,EAG4D,KAAK,CAHjE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BmL,OAA1B,CAFO,CAAX,EAGG4I,0BAA0B,CAAC/T,SAH9B,EAGyC,qBAHzC,EAGgE,KAAK,CAHrE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGG2I,0BAA0B,CAAC/T,SAH9B,EAGyC,cAHzC,EAGyD,KAAK,CAH9D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGG2I,0BAA0B,CAAC/T,SAH9B,EAGyC,cAHzC,EAGyD,KAAK,CAH9D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG+T,0BAA0B,CAAC/T,SAH9B,EAGyC,gBAHzC,EAG2D,KAAK,CAHhE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG+T,0BAA0B,CAAC/T,SAH9B,EAGyC,cAHzC,EAGyD,KAAK,CAH9D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG+T,0BAA0B,CAAC/T,SAH9B,EAGyC,uBAHzC,EAGkE,KAAK,CAHvE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG+T,0BAA0B,CAAC/T,SAH9B,EAGyC,oBAHzC,EAG+D,KAAK,CAHpE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG+T,0BAA0B,CAAC/T,SAH9B,EAGyC,sBAHzC,EAGiE,KAAK,CAHtE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BxO,KAA1B,CAFO,CAAX,EAGGuiB,0BAA0B,CAAC/T,SAH9B,EAGyC,aAHzC,EAGwD,KAAK,CAH7D;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGsmB,0BAA0B,CAAC/T,SAH9B,EAGyC,kBAHzC,EAG6D,KAAK,CAHlE;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGsmB,0BAA0B,CAAC/T,SAH9B,EAGyC,YAHzC,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGsmB,0BAA0B,CAAC/T,SAH9B,EAGyC,cAHzC,EAGyD,KAAK,CAH9D;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGsmB,0BAA0B,CAAC/T,SAH9B,EAGyC,qBAHzC,EAGgE,KAAK,CAHrE;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGsmB,0BAA0B,CAAC/T,SAH9B,EAGyC,mBAHzC,EAG8D,KAAK,CAHnE;AAIA+T,gCAA0B,GAAG,yDAAW,CACpC,gEAAU;AACNte,gBAAQ,EAAE,yBADJ;AAEN8T,gBAAQ;AAFF,OAAV,CADoC,EAyFpC,sDAAQ,CAAR,EAAW,6DAAO,uDAAP,CAAX,CAzFoC,EA0FpC,yDAAW,mBAAX,EAAgC,CAAC,+DAAD,EAC5B0I,aAD4B,EACbxI,MADa,EACL6B,WADK,CAAhC,CA1FoC,CAAX,EA4F1ByI,0BA5F0B,CAA7B;;AA8FA,UAAIoC,gCAAgC,GAChC,4CAAc;AAAA;;AACV,aAAK3B,mBAAL,GAA2B,IAAI,0DAAJ,EAA3B;AACA,aAAKnI,wBAAL,GAAgCA,wBAAhC;AACH,OAJL;;AAMA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B7a,KAA1B,CAFO,CAAX,EAGG2kB,gCAAgC,CAACnW,SAHpC,EAG+C,MAH/C,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0ByJ,MAA1B,CAFO,CAAX,EAGG0M,gCAAgC,CAACnW,SAHpC,EAG+C,QAH/C,EAGyD,KAAK,CAH9D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGmW,gCAAgC,CAACnW,SAHpC,EAG+C,gBAH/C,EAGiE,KAAK,CAHtE;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGG0oB,gCAAgC,CAACnW,SAHpC,EAG+C,qBAH/C,EAGsE,KAAK,CAH3E;AAIAmW,sCAAgC,GAAG,yDAAW,CAC1C,gEAAU;AACN1gB,gBAAQ,EAAE,gCADJ;AAEN8T,gBAAQ;AAFF,OAAV,CAD0C,CAAX,EA2ChC4M,gCA3CgC,CAAnC;;AA6CA,UAAIC,0BAA0B,GAC1B,sCAAc;AAAA;;AACV,aAAKC,YAAL,GAAoB,IAAI,0DAAJ,EAApB;AACA,aAAKC,cAAL,GAAsB,IAAI,0DAAJ,EAAtB;AACA,aAAK/B,YAAL,GAAoB,IAAI,0DAAJ,EAApB;AACA,aAAKnI,cAAL,GAAsBA,cAAtB;AACA,aAAKxT,YAAL,GAAoByW,iBAApB;AACH,OAPL;;AASA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B5hB,MAA1B,CAFO,CAAX,EAGG2oB,0BAA0B,CAACpW,SAH9B,EAGyC,KAHzC,EAGgD,KAAK,CAHrD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGG2oB,0BAA0B,CAACpW,SAH9B,EAGyC,SAHzC,EAGoD,KAAK,CAHzD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0ByJ,MAA1B,CAFO,CAAX,EAGG2M,0BAA0B,CAACpW,SAH9B,EAGyC,QAHzC,EAGmD,KAAK,CAHxD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGG2oB,0BAA0B,CAACpW,SAH9B,EAGyC,kBAHzC,EAG6D,KAAK,CAHlE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BmL,OAA1B,CAFO,CAAX,EAGGiL,0BAA0B,CAACpW,SAH9B,EAGyC,qBAHzC,EAGgE,KAAK,CAHrE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGoW,0BAA0B,CAACpW,SAH9B,EAGyC,gBAHzC,EAG2D,KAAK,CAHhE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGoW,0BAA0B,CAACpW,SAH9B,EAGyC,iBAHzC,EAG4D,KAAK,CAHjE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGgL,0BAA0B,CAACpW,SAH9B,EAGyC,cAHzC,EAGyD,KAAK,CAH9D;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0B,0DAA1B,CAFO,CAAX,EAGGoW,0BAA0B,CAACpW,SAH9B,EAGyC,cAHzC,EAGyD,KAAK,CAH9D;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0B,0DAA1B,CAFO,CAAX,EAGGoW,0BAA0B,CAACpW,SAH9B,EAGyC,gBAHzC,EAG2D,KAAK,CAHhE;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGG2oB,0BAA0B,CAACpW,SAH9B,EAGyC,cAHzC,EAGyD,KAAK,CAH9D;AAIAoW,gCAA0B,GAAG,yDAAW,CACpC,gEAAU;AACN3gB,gBAAQ,EAAE,yBADJ;AAEN8T,gBAAQ,y1FAFF;AA+ENgN,YAAI,EAAE;AACF,mBAAO,uBADL;AAEF,8BAAoB,YAFlB;AAGF,+BAAqB,aAHnB;AAIF,gCAAsB,cAJpB;AAKF,iCAAuB,eALrB;AAMF,kCAAwB,aANtB;AAOF,mCAAyB,cAPvB;AAQF,oCAA0B,uBARxB;AASF,8BAAoB,iBATlB;AAUF,yCAA+B;AAV7B;AA/EA,OAAV,CADoC,CAAX,EA6F1BH,0BA7F0B,CAA7B;AA+FA,UAAMI,iBAAiB,GAAG,oEAAQ,UAAR,EAAoB,CAC1C,kEAAM,MAAN,EAAc,kEAAM;AAChBxjB,cAAM,EAAE,CADQ;AAEhByjB,gBAAQ,EAAE,QAFM;AAGhB,uBAAe,CAHC;AAIhB,0BAAkB;AAJF,OAAN,CAAd,CAD0C,EAO1C,kEAAM,GAAN,EAAW,kEAAM;AACbzjB,cAAM,EAAE,GADK;AAEbyjB,gBAAQ,EAAE,QAFG;AAGb,uBAAe,GAHF;AAIb,0BAAkB;AAJL,OAAN,CAAX,CAP0C,EAa1C,uEAAW,WAAX,EAAwB,oEAAQ,gBAAR,CAAxB,CAb0C,EAc1C,uEAAW,WAAX,EAAwB,oEAAQ,eAAR,CAAxB,CAd0C,CAApB,CAA1B;;AAgBA,UAAIC,8BAA8B,GAC9B,0CAAc;AAAA;;AACV,aAAKC,MAAL,GAAc,KAAd;AACA,aAAKpC,YAAL,GAAoB,IAAI,0DAAJ,EAApB;AACA,aAAKnI,cAAL,GAAsBA,cAAtB;AACA,aAAKxT,YAAL,GAAoByW,iBAApB;AACH,OANL;;AAQA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B5F,MAA1B,CAFO,CAAX,EAGGiN,8BAA8B,CAAC1W,SAHlC,EAG6C,QAH7C,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BmL,OAA1B,CAFO,CAAX,EAGGuL,8BAA8B,CAAC1W,SAHlC,EAG6C,QAH7C,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BxO,KAA1B,CAFO,CAAX,EAGGklB,8BAA8B,CAAC1W,SAHlC,EAG6C,QAH7C,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG0W,8BAA8B,CAAC1W,SAHlC,EAG6C,gBAH7C,EAG+D,KAAK,CAHpE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG0W,8BAA8B,CAAC1W,SAHlC,EAG6C,oBAH7C,EAGmE,KAAK,CAHxE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG0W,8BAA8B,CAAC1W,SAHlC,EAG6C,sBAH7C,EAGqE,KAAK,CAH1E;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B9C,IAA1B,CAFO,CAAX,EAGGwZ,8BAA8B,CAAC1W,SAHlC,EAG6C,MAH7C,EAGqD,KAAK,CAH1D;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGipB,8BAA8B,CAAC1W,SAHlC,EAG6C,cAH7C,EAG6D,KAAK,CAHlE;AAIA0W,oCAA8B,GAAG,yDAAW,CACxC,gEAAU;AACNjhB,gBAAQ,EAAE,8BADJ;AAEN8T,gBAAQ,8hFAFF;AAsFNqN,kBAAU,EAAE,CAACJ,iBAAD;AAtFN,OAAV,CADwC,CAAX,EAyF9BE,8BAzF8B,CAAjC;;AA2FA,UAAIG,mBAAmB;AAAA;AAAA,OAAvB;;AAEAA,yBAAmB,GAAG,yDAAW,CAC7B,+DAAS;AACLhD,eAAO,EAAE,CAAC,4DAAD,EAAe,6EAAf,EAAkCP,oBAAlC,CADJ;AAELzT,oBAAY,EAAE,CACVkU,0BADU,EAEVqC,0BAFU,EAGVM,8BAHU,EAIVP,gCAJU,CAFT;AAQLxoB,eAAO,EAAE,CACL,6EADK,EAELomB,0BAFK,EAGLqC,0BAHK,EAILM,8BAJK,EAKLP,gCALK;AARJ,OAAT,CAD6B,CAAX,EAiBnBU,mBAjBmB,CAAtB;;UAmBMC,kB;AACF,oCAAYC,oBAAZ,EAAkCC,gBAAlC,EAAoD;AAAA;;AAChD,eAAKD,oBAAL,GAA4BA,oBAA5B;AACA,eAAKE,aAAL,GAAqBD,gBAAgB,CAAC1jB,qBAAjB,EAArB;AACH;;;;+CACsE;AAAA,gBAAxD3D,CAAwD,UAAxDA,CAAwD;AAAA,gBAArDE,CAAqD,UAArDA,CAAqD;AAAA,gBAAlDqnB,iBAAkD,UAAlDA,iBAAkD;AAAA,gBAA/BC,gBAA+B,UAA/BA,gBAA+B;AAAA,gBAAbte,SAAa,UAAbA,SAAa;;AACnE,gBAAIqe,iBAAJ,EAAuB;AACnB,kBAAME,OAAO,GAAG3pB,MAAM,CAACkL,MAAP,CAAc,EAAd,EAAkB,KAAKse,aAAvB,EAAsC;AAClDvkB,oBAAI,EAAE,KAAKukB,aAAL,CAAmBvkB,IAAnB,GAA0BmG,SAAS,CAAClJ,CADQ;AAElDgD,qBAAK,EAAE,KAAKskB,aAAL,CAAmBtkB,KAAnB,GAA2BkG,SAAS,CAAClJ,CAFM;AAGlD6C,mBAAG,EAAE,KAAKykB,aAAL,CAAmBzkB,GAAnB,GAAyBqG,SAAS,CAAChJ,CAHU;AAIlDgD,sBAAM,EAAE,KAAKokB,aAAL,CAAmBpkB,MAAnB,GAA4BgG,SAAS,CAAChJ;AAJI,eAAtC,CAAhB;AAMA,qBAAQ,CAACwf,iBAAiB,CAAC;AAAE1f,iBAAC,EAADA,CAAF;AAAKE,iBAAC,EAADA;AAAL,eAAD,CAAjB,IAA+BsnB,gBAAhC,KACJvL,QAAQ,CAAC,KAAKmL,oBAAL,CAA0BzjB,qBAA1B,EAAD,EAAoD8jB,OAApD,CADZ;AAEH,aATD,MAUK;AACD,qBAAO/H,iBAAiB,CAAC;AAAE1f,iBAAC,EAADA,CAAF;AAAKE,iBAAC,EAADA;AAAL,eAAD,CAAjB,IAA+BsnB,gBAAtC;AACH;AACJ;;;;;;UAGCE,oB;AACF,sCAAYC,sBAAZ,EAAoCC,QAApC,EAA8C;AAAA;;AAC1C,eAAKD,sBAAL,GAA8BA,sBAA9B;AACA,eAAKC,QAAL,GAAgBA,QAAhB;AACH;;;;iDAC6B;AAAA,gBAAbC,SAAa,UAAbA,SAAa;;AAC1B,gBAAI,KAAKD,QAAL,IACAhf,IAAI,CAACyT,IAAL,CAAUwL,SAAS,CAACzkB,KAApB,IAA6BwF,IAAI,CAACyT,IAAL,CAAU,KAAKuL,QAAf,CADjC,EAC2D;AACvD,qBAAO,KAAP;AACH;;AACD,mBAAO3L,QAAQ,CAAC,KAAK0L,sBAAL,CAA4BhkB,qBAA5B,EAAD,EAAsDkkB,SAAtD,CAAf;AACH;;;;;AAGL;;;;;;;;;;;;AAUA,UAAIC,yBAAyB;AACzB;;;AAGA,2CAAYzD,GAAZ,EAAiBL,KAAjB,EAAwBvD,MAAxB,EAAgCxC,WAAhC,EAA6C;AAAA;;AACzC,eAAKoG,GAAL,GAAWA,GAAX;AACA,eAAKL,KAAL,GAAaA,KAAb;AACA,eAAK/F,WAAL,GAAmBA,WAAnB;AACA;;;;;AAIA,eAAKnC,MAAL,GAAc,EAAd;AACA;;;;AAGA,eAAK+D,WAAL,GAAmB,EAAnB;AACA;;;;AAGA,eAAK0E,gBAAL,GAAwB,MAAxB;AACA;;;;AAGA,eAAKC,mBAAL,GAA2B,IAA3B;AACA;;;;;AAIA,eAAKC,YAAL,GAAoB,IAApB;AACA;;;;;AAIA,eAAKjI,SAAL,GAAiB,MAAjB;AACA;;;;AAGA,eAAK+K,iBAAL,GAAyB,IAAzB;AACA;;;;AAGA,eAAK/J,YAAL,GAAoB,CAApB;AACA;;;;AAGA,eAAKC,iBAAL,GAAyB,EAAzB;AACA;;;;AAGA,eAAKsK,YAAL,GAAoB,CAApB;AACA;;;;AAGA,eAAKC,cAAL,GAAsB,CAAtB;AACA;;;;AAGA,eAAKC,UAAL,GAAkB,EAAlB;AACA;;;;AAGA,eAAKC,YAAL,GAAoB,EAApB;AACA;;;;AAGA,eAAKC,gBAAL,GAAwB,IAAI,0DAAJ,EAAxB;AACA;;;;AAGA,eAAKvD,YAAL,GAAoB,IAAI,0DAAJ,EAApB;AACA;;;;AAGA,eAAKE,iBAAL,GAAyB,IAAI,0DAAJ,EAAzB;AACA;;;;;AAIA,eAAKJ,gBAAL,GAAwB,IAAI,0DAAJ,EAAxB;AACA;;;;AAGA,eAAK0D,kBAAL,GAA0B,IAAI,0DAAJ,EAA1B;AACA;;;;AAGA,eAAKC,kBAAL,GAA0B,IAAIC,GAAJ,EAA1B;AACA;;;;AAGA,eAAKC,gBAAL,GAAwB,IAAID,GAAJ,EAAxB;AACA;;;;AAGA,eAAKE,oBAAL,GAA4B;AACxBtJ,kBAAM,EAAE,CADgB;AAExBuJ,gBAAI,EAAE;AAFkB,WAA5B;AAIA;;;;AAGA,eAAKC,UAAL,GAAkB,KAAlB;AACA;;;;AAGA,eAAKlB,gBAAL,GAAwB,KAAxB;AACA;;;;AAGA,eAAKrI,UAAL,GAAkBvO,MAAM,CAAC,+BAAD,CAAxB;AACA;;;;AAGA,eAAK8L,wBAAL,GAAgCA,wBAAhC;AACA;;;;AAGA,eAAKI,kBAAL,GAA0BA,kBAA1B;AACA;;;;AAGA,eAAKE,WAAL,GAAmBA,WAAnB;AACA;;;;AAGA,eAAKG,sBAAL,GAA8BA,sBAA9B;AACA;;;;AAGA,eAAKE,oBAAL,GAA4BA,oBAA5B;AACA;;;;AAGA,eAAKsL,iBAAL,GAAyB,UAAC7V,KAAD,EAAQ8V,MAAR;AAAA,mBAAmBA,MAAM,CAACC,KAAP,CAAa,CAAb,IAAkBD,MAAM,CAACC,KAAP,CAAa,CAAb,EAAgB3L,QAAhB,CAAyB,CAAzB,EAA4BN,IAA5B,CAAiCC,WAAjC,EAAlB,GAAmE+L,MAAtF;AAAA,WAAzB;AACA;;;;;AAGA,eAAKE,SAAL,GAAiB,UAAChW,KAAD,EAAQiW,GAAR;AAAA,mBAAgBA,GAAG,CAACpP,EAApB;AAAA,WAAjB;;AACA,eAAK8G,MAAL,GAAcA,MAAd;AACH;AACD;;;;;AA7IyB;AAAA;AAAA,qCAgJd;AAAA;;AACP,gBAAI,KAAKyE,OAAT,EAAkB;AACd,mBAAKC,mBAAL,GAA2B,KAAKD,OAAL,CAAa7b,SAAb,CAAuB,YAAM;AACpD,uBAAI,CAAC+b,UAAL;;AACA,uBAAI,CAACf,GAAL,CAASxJ,YAAT;AACH,eAH0B,CAA3B;AAIH;AACJ;AACD;;;;AAxJyB;AAAA;AAAA,sCA2Jb3O,OA3Ja,EA2JJ;AACjB,gBAAMmZ,aAAa,GAAGnZ,OAAO,CAACmT,QAAR,IAClBnT,OAAO,CAAC2T,WADU,IAElB3T,OAAO,CAACoZ,WAFU,IAGlBpZ,OAAO,CAACqT,UAHU,IAIlBrT,OAAO,CAACoT,YAJZ;AAKA,gBAAMiG,WAAW,GAAGrZ,OAAO,CAACmT,QAAR,IAChBnT,OAAO,CAAC6b,YADQ,IAEhB7b,OAAO,CAAC8b,cAFQ,IAGhB9b,OAAO,CAAC+b,UAHQ,IAIhB/b,OAAO,CAACgc,YAJQ,IAKhBhc,OAAO,CAACsR,YALQ,IAMhBtR,OAAO,CAACoT,YANQ,IAOhBpT,OAAO,CAACoZ,WAPQ,IAQhBpZ,OAAO,CAAC2T,WARQ,IAShB3T,OAAO,CAACuR,iBATQ,IAUhBvR,OAAO,CAAC4P,MAVQ,IAWhB5P,OAAO,CAACqT,UAXZ;;AAYA,gBAAI8F,aAAJ,EAAmB;AACf,mBAAKA,aAAL;AACH;;AACD,gBAAInZ,OAAO,CAAC4P,MAAZ,EAAoB;AAChBD,4BAAc,CAAC,KAAKC,MAAN,CAAd;AACH;;AACD,gBAAIyJ,WAAJ,EAAiB;AACb,mBAAKA,WAAL;AACH;;AACD,gBAAIF,aAAa,IAAIE,WAArB,EAAkC;AAC9B,mBAAKC,oBAAL;AACH;AACJ;AACD;;;;AA1LyB;AAAA;AAAA,wCA6LX;AACV,gBAAI,KAAKL,mBAAT,EAA8B;AAC1B,mBAAKA,mBAAL,CAAyBnV,WAAzB;AACH;AACJ;AAjMwB;AAAA;AAAA,wCAkMXgZ,eAlMW,EAkMMpB,QAlMN,EAkMgB;AACrC,iBAAKqB,cAAL,GAAsB,KAAKC,iBAAL,CAAuBF,eAAvB,CAAtB;AACA,gBAAMG,YAAY,GAAG,IAAIzB,oBAAJ,CAAyBsB,eAAzB,EAA0CpB,QAA1C,CAArB;;AACA,iBAAKwB,cAAL,GAAsB;AAAA,kBAAGvB,SAAH,UAAGA,SAAH;AAAA,qBAAmBsB,YAAY,CAACC,cAAb,CAA4B;AAAEvB,yBAAS,EAATA;AAAF,eAA5B,CAAnB;AAAA,aAAtB;;AACA,iBAAKxD,GAAL,CAASxJ,YAAT;AACH;AACD;;;;AAxMyB;AAAA;AAAA,iDA2MFmO,eA3ME,EA2MeK,SA3Mf,EA2M0BC,WA3M1B,EA2MuC;AAC5D,iBAAKf,gBAAL,CAAsBgB,GAAtB,CAA0BF,SAAS,CAAC7pB,KAApC,EAA2C8pB,WAA3C;AACA,iBAAKE,aAAL,CAAmBR,eAAnB;AACH;AACD;;;;AA/MyB;AAAA;AAAA,4CAkNPK,SAlNO,EAkNIC,WAlNJ,EAkNiB;AAAA;;AACtC,iBAAKf,gBAAL,CAAsBgB,GAAtB,CAA0BF,SAAS,CAAC7pB,KAApC,EAA2C8pB,WAA3C;AACA,gBAAMG,cAAc,GAAG,IAAInB,GAAJ,EAAvB;;AACA,gBAAMoB,UAAU,sBAAO,KAAK5N,MAAZ,CAAhB;;AACA,iBAAKyM,gBAAL,CAAsBrd,OAAtB,CAA8B,UAACye,eAAD,EAAkBnqB,KAAlB,EAA4B;AACtD,kBAAMoqB,aAAa,GAAG,OAAI,CAACC,wBAAL,CAA8BrqB,KAA9B,EAAqCmqB,eAArC,CAAtB;;AACA,kBAAMG,aAAa,GAAGhsB,MAAM,CAACkL,MAAP,CAAc,EAAd,EAAkBxJ,KAAlB,EAAyBoqB,aAAzB,CAAtB;AACAH,4BAAc,CAACF,GAAf,CAAmBO,aAAnB,EAAkCtqB,KAAlC;AACA,kBAAMuqB,UAAU,GAAGL,UAAU,CAACte,OAAX,CAAmB5L,KAAnB,CAAnB;AACAkqB,wBAAU,CAACK,UAAD,CAAV,GAAyBD,aAAzB;AACH,aAND;AAOA,iBAAKE,qBAAL,CAA2BN,UAA3B,EAAuCD,cAAvC;AACH;AACD;;;;AA/NyB;AAAA;AAAA,+CAkOJJ,SAlOI,EAkOO;AAC5B,iBAAKnJ,IAAL,GAAY,KAAK+J,WAAL,CAAiB,KAAKnO,MAAtB,CAAZ;AACA,gBAAM6N,eAAe,GAAG,KAAKpB,gBAAL,CAAsB2B,GAAtB,CAA0Bb,SAAS,CAAC7pB,KAApC,CAAxB;;AACA,gBAAImqB,eAAJ,EAAqB;AACjB,mBAAKpB,gBAAL,WAA6Bc,SAAS,CAAC7pB,KAAvC;AACA,kBAAMoqB,aAAa,GAAG,KAAKC,wBAAL,CAA8BR,SAAS,CAAC7pB,KAAxC,EAA+CmqB,eAA/C,CAAtB;AACA,mBAAK7E,iBAAL,CAAuBzZ,IAAvB,CAA4B;AACxBwT,wBAAQ,EAAE+K,aAAa,CAACxL,KADA;AAExBU,sBAAM,EAAE8K,aAAa,CAACzL,GAFE;AAGxB3e,qBAAK,EAAE6pB,SAAS,CAAC7pB,KAHO;AAIxBM,oBAAI,EAAE2jB,kCAAkC,CAAC0G;AAJjB,eAA5B;AAMH;AACJ;AACD;;;;AAhPyB;AAAA;AAAA,mDAmPAC,qBAnPA,EAmPuBC,WAnPvB,EAmPoCf,WAnPpC,EAmPiD;AACtE,iBAAKjB,kBAAL,CAAwBkB,GAAxB,CAA4Bc,WAA5B,EAAyC;AACrCC,4BAAc,EAAED,WAAW,CAAC1W,MADS;AAErC4W,0BAAY,EAAEF,WAAW,CAACG,IAFW;AAGrCC,kBAAI,EAAE,OAAOnB,WAAW,CAACoB,KAAZ,CAAkB3nB,IAAzB,KAAkC,WAAlC,GAAgD,MAAhD,GAAyD;AAH1B,aAAzC;AAKA,iBAAKymB,aAAL,CAAmBY,qBAAnB,EAA0C,KAAKlB,iBAAL,CAAuBkB,qBAAvB,CAA1C;AACH;AACD;;;;AA3PyB;AAAA;AAAA,8CA8PLC,WA9PK,EA8PQf,WA9PR,EA8PqBqB,QA9PrB,EA8P+B;AACpD,gBAAMC,aAAa,GAAG,KAAKvC,kBAAL,CAAwB6B,GAAxB,CAA4BG,WAA5B,CAAtB;;AACA,gBAAI,OAAOf,WAAW,CAACoB,KAAZ,CAAkB3nB,IAAzB,KAAkC,WAAtC,EAAmD;AAC/C,kBAAM8nB,IAAI,GAAGjiB,IAAI,CAACC,KAAL,CAAW,CAACygB,WAAW,CAACoB,KAAZ,CAAkB3nB,IAAnB,GAA0B4nB,QAArC,CAAb;AACAN,yBAAW,CAAC1W,MAAZ,GAAqBiX,aAAa,CAACN,cAAd,GAA+BO,IAApD;AACAR,yBAAW,CAACG,IAAZ,GAAmBI,aAAa,CAACL,YAAd,GAA6BM,IAAhD;AACH,aAJD,MAKK,IAAI,OAAOvB,WAAW,CAACoB,KAAZ,CAAkB1nB,KAAzB,KAAmC,WAAvC,EAAoD;AACrD,kBAAM6nB,KAAI,GAAGjiB,IAAI,CAACC,KAAL,CAAW,CAACygB,WAAW,CAACoB,KAAZ,CAAkB1nB,KAAnB,GAA2B2nB,QAAtC,CAAb;;AACAN,yBAAW,CAACG,IAAZ,GAAmBI,aAAa,CAACL,YAAd,GAA6BM,KAAhD;AACH;AACJ;AACD;;;;AA1QyB;AAAA;AAAA,iDA6QFR,WA7QE,EA6QW;AAChC,gBAAMO,aAAa,GAAG,KAAKvC,kBAAL,CAAwB6B,GAAxB,CAA4BG,WAA5B,CAAtB;;AACA,gBAAIO,aAAJ,EAAmB;AACf,kBAAME,8BAA8B,GAAGF,aAAa,CAACH,IAAd,KAAuB,MAA9D;AACA,kBAAIM,QAAJ;;AACA,kBAAID,8BAAJ,EAAoC;AAChCC,wBAAQ,GAAGV,WAAW,CAAC1W,MAAZ,GAAqBiX,aAAa,CAACN,cAA9C;AACH,eAFD,MAGK;AACDS,wBAAQ,GAAGV,WAAW,CAACG,IAAZ,GAAmBI,aAAa,CAACL,YAA5C;AACH;;AACDF,yBAAW,CAAC1W,MAAZ,GAAqBiX,aAAa,CAACN,cAAnC;AACAD,yBAAW,CAACG,IAAZ,GAAmBI,aAAa,CAACL,YAAjC;AACA,kBAAI1L,QAAQ,GAAGwL,WAAW,CAAC7qB,KAAZ,CAAkB4e,KAAjC;AACA,kBAAIU,MAAM,GAAGuL,WAAW,CAAC7qB,KAAZ,CAAkB2e,GAAlB,IAAyBkM,WAAW,CAAC7qB,KAAZ,CAAkB4e,KAAxD;;AACA,kBAAI0M,8BAAJ,EAAoC;AAChCjM,wBAAQ,GAAGR,qBAAqB,CAAC,KAAKJ,WAAN,EAAmBY,QAAnB,EAA6BkM,QAA7B,EAAuC,KAAKlL,WAA5C,CAAhC;AACH,eAFD,MAGK;AACDf,sBAAM,GAAGT,qBAAqB,CAAC,KAAKJ,WAAN,EAAmBa,MAAnB,EAA2BiM,QAA3B,EAAqC,KAAKlL,WAA1C,CAA9B;AACH;;AACD,mBAAKiF,iBAAL,CAAuBzZ,IAAvB,CAA4B;AACxBwT,wBAAQ,EAARA,QADwB;AAExBC,sBAAM,EAANA,MAFwB;AAGxBtf,qBAAK,EAAE6qB,WAAW,CAAC7qB,KAHK;AAIxBM,oBAAI,EAAE2jB,kCAAkC,CAAC0G;AAJjB,eAA5B;AAMA,mBAAK9B,kBAAL,WAA+BgC,WAA/B;AACH;AACJ;AACD;;;;AA3SyB;AAAA;AAAA,4CA8SPW,iBA9SO,EA8SY;AACjC,mBAAOpiB,IAAI,CAACwT,KAAL,CAAW4O,iBAAiB,CAAChX,WAAlB,GAAgC,KAAKsK,IAAL,CAAU3c,MAArD,CAAP;AACH;AACD;;;;AAjTyB;AAAA;AAAA,wCAoTXib,IApTW,EAoTL;AAChB,iBAAKqO,iBAAL,GAAyBrO,IAAzB;AACH;AACD;;;;AAvTyB;AAAA;AAAA,uCA0TZqC,SA1TY,EA0TDrC,IA1TC,EA0TKsC,MA1TL,EA0Ta;AAClC,gBAAIF,sBAAsB,CAACC,SAAD,EAAYrC,IAAZ,EAAkBsC,MAAlB,EAA0B,KAAKC,UAA/B,CAAtB,IACA,KAAK8L,iBAAL,CAAuBhS,OAAvB,OAAqC2D,IAAI,CAAC3D,OAAL,EADzC,EACyD;AACrD,mBAAK6L,iBAAL,CAAuBzZ,IAAvB,CAA4B;AACxBvL,oBAAI,EAAE2jB,kCAAkC,CAACwC,IADjB;AAExBzmB,qBAAK,EAAEyf,SAAS,CAAChT,QAAV,CAAmBzM,KAFF;AAGxBqf,wBAAQ,EAAEjC,IAHc;AAIxBsC,sBAAM,EAANA;AAJwB,eAA5B;AAMH;AACJ;AACD;;;;AArUyB;AAAA;AAAA,oCAwUfpf,IAxUe,EAwUT;AACZ,iBAAK0oB,oBAAL,CAA0B1oB,IAA1B;AACH;AACD;;;;AA3UyB;AAAA;AAAA,oCA8UfA,IA9Ue,EA8UT;AACZ,iBAAK0oB,oBAAL,CAA0B1oB,IAA1B;AACH;AACD;;;;AAjVyB;AAAA;AAAA,sCAoVbkpB,eApVa,EAoVIxpB,KApVJ,EAoVW0rB,QApVX,EAoVqB;AAAA;;AAC1C,iBAAKjC,cAAL,GAAsB,KAAKC,iBAAL,CAAuBF,eAAvB,CAAtB;AACA,gBAAMmC,UAAU,GAAG,IAAIhE,kBAAJ,CAAuB6B,eAAvB,EAAwCxpB,KAAxC,CAAnB;;AACA,iBAAKyJ,YAAL,GAAoB;AAAA,kBAAGjJ,CAAH,UAAGA,CAAH;AAAA,kBAAME,CAAN,UAAMA,CAAN;AAAA,kBAASgJ,SAAT,UAASA,SAAT;AAAA,qBAAyB,OAAI,CAACmf,kBAAL,CAAwB+C,IAAxB,KAAiC,CAAjC,IACzC,OAAI,CAAC7C,gBAAL,CAAsB6C,IAAtB,KAA+B,CADU,IAEzCD,UAAU,CAACliB,YAAX,CAAwB;AACpBjJ,iBAAC,EAADA,CADoB;AAEpBE,iBAAC,EAADA,CAFoB;AAGpBqnB,iCAAiB,EAAE,OAAI,CAACA,iBAHJ;AAIpBC,gCAAgB,EAAE,OAAI,CAACA,gBAJH;AAKpBte,yBAAS,EAATA;AALoB,eAAxB,CAFgB;AAAA,aAApB;;AASA,iBAAKwf,UAAL,GAAkB,IAAlB;AACA,iBAAKlB,gBAAL,GAAwB,KAAxB;AACA,iBAAKgB,oBAAL,GAA4B;AACxBtJ,oBAAM,EAAE,CADgB;AAExBuJ,kBAAI,EAAE;AAFkB,aAA5B;;AAIA,gBAAI,CAAC,KAAKlB,iBAAN,IAA2B2D,QAA/B,EAAyC;AACrC,mBAAKhL,IAAL,CAAUmL,WAAV,CAAsBngB,OAAtB,CAA8B,UAAA0d,MAAM,EAAI;AACpC,oBAAM0C,WAAW,GAAG1C,MAAM,CAAC9M,MAAP,CAAcrF,IAAd,CAAmB,UAAA8U,WAAW;AAAA,yBAAIA,WAAW,CAAC/rB,KAAZ,KAAsB0rB,QAAQ,CAAC1rB,KAA/B,IAAwC+rB,WAAW,KAAKL,QAA5D;AAAA,iBAA9B,CAApB,CADoC,CAEpC;;AACA,oBAAII,WAAJ,EAAiB;AACbA,6BAAW,CAACloB,KAAZ,GAAoB,CAApB;AACAkoB,6BAAW,CAACjoB,MAAZ,GAAqB,CAArB;AACH;AACJ,eAPD;AAQH;;AACD,iBAAKghB,GAAL,CAASxJ,YAAT;AACH;AACD;;;;AAlXyB;AAAA;AAAA,mCAqXhBqQ,QArXgB,EAqXNM,SArXM,EAqXK;AAC1B,gBAAI,KAAKjE,iBAAT,EAA4B;AACxB,kBAAMkE,aAAa,GAAG,KAAKC,sBAAL,CAA4BR,QAA5B,EAAsCM,SAAtC,EAAiD,KAAKvC,cAAtD,EAAsE,IAAtE,CAAtB;AACA,kBAAM0C,aAAa,GAAGT,QAAQ,CAAC1rB,KAA/B;AACA,kBAAMsqB,aAAa,GAAGhsB,MAAM,CAACkL,MAAP,CAAc,EAAd,EAAkB2iB,aAAlB,EAAiCF,aAAjC,CAAtB;AACA,kBAAM/B,UAAU,GAAG,KAAK5N,MAAL,CAAYtK,GAAZ,CAAgB,UAAAhS,KAAK,EAAI;AACxC,oBAAIA,KAAK,KAAKmsB,aAAd,EAA6B;AACzB,yBAAO7B,aAAP;AACH;;AACD,uBAAOtqB,KAAP;AACH,eALkB,CAAnB;AAMA,mBAAKwqB,qBAAL,CAA2BN,UAA3B,EAAuC,IAAIpB,GAAJ,CAAQ,CAAC,CAACwB,aAAD,EAAgB6B,aAAhB,CAAD,CAAR,CAAvC;AACH;;AACD,iBAAKnE,gBAAL,GAAwB,IAAxB;AACH;AACD;;;;AApYyB;AAAA;AAAA,gDAuYH;AAClB,iBAAKA,gBAAL,GAAwB,IAAxB;AACH;AACD;;;;AA1YyB;AAAA;AAAA,oCA6YfpK,SA7Ye,EA6YJwO,YA7YI,EA6YUjB,QA7YV,EA6YkC;AAAA,gBAAdkB,IAAc,uEAAP,KAAO;AACvD,iBAAK3L,IAAL,GAAY,KAAK+J,WAAL,CAAiB,KAAKnO,MAAtB,CAAZ;AACA,iBAAK4M,UAAL,GAAkB,KAAlB;;AAFuD,wCAGhC,KAAKgD,sBAAL,CAA4BtO,SAA5B,EAAuCwO,YAAvC,EAAqDjB,QAArD,EAA+DkB,IAA/D,CAHgC;AAAA,gBAG/CzN,KAH+C,yBAG/CA,KAH+C;AAAA,gBAGxCD,GAHwC,yBAGxCA,GAHwC;;AAIvD,gBAAI,KAAKqK,oBAAL,CAA0BqD,IAAI,GAAG,MAAH,GAAY,QAA1C,IAAsD,CAAtD,IACAjN,qBAAqB,CAACR,KAAD,EAAQD,GAAR,EAAa,KAAK+B,IAAL,CAAUnB,MAAvB,CADzB,EACyD;AACrD,mBAAK+F,iBAAL,CAAuBzZ,IAAvB,CAA4B;AACxBwT,wBAAQ,EAAET,KADc;AAExBU,sBAAM,EAAEX,GAFgB;AAGxB3e,qBAAK,EAAE4d,SAAS,CAAC5d,KAHO;AAIxBM,oBAAI,EAAE2jB,kCAAkC,CAACqI,IAJjB;AAKxB5M,sBAAM,EAAE,CAAC2M;AALe,eAA5B;AAOH;AACJ;AA3ZwB;AAAA;AAAA,0CA4ZT;AACZ,iBAAKvN,IAAL,GAAY,KAAK0F,KAAL,CAAWmC,iBAAX,CAA6BroB,MAAM,CAACkL,MAAP,CAAc;AAAEqW,sBAAQ,EAAE,KAAKA,QAAjB;AAA2BC,0BAAY,EAAE,KAAKA,YAA9C;AAA4Df,sBAAQ,EAAE,KAAKsB,WAA3E;AAAwFyF,yBAAW,EAAE,KAAKA;AAA1G,aAAd,EAAuIlG,iBAAiB,CAAC,KAAKnB,WAAN,EAAmB,KAAKoB,QAAxB,EAAkC,KAAKC,YAAvC,EAAqD,KAAKO,WAA1D,EAAuE,KAAKN,UAA5E,CAAxJ,CAA7B,CAAZ;AACH;AA9ZwB;AAAA;AAAA,wCA+ZX;AACV,iBAAKW,IAAL,GAAY,KAAK+J,WAAL,CAAiB,KAAKnO,MAAtB,CAAZ;AACH;AAjawB;AAAA;AAAA,uCAkaZ;AACT,iBAAKuJ,aAAL;AACA,iBAAKE,WAAL;AACA,iBAAKC,oBAAL;AACH;AAtawB;AAAA;AAAA,iDAuaF;AACnB,gBAAI,KAAKlH,IAAL,IAAa,KAAK4B,IAAtB,EAA4B;AACxB,mBAAKwE,gBAAL,CAAsBrZ,IAAtB,CAA2BvN,MAAM,CAACkL,MAAP,CAAc;AAAEud,sBAAM,EAAE,KAAKjI;AAAf,eAAd,EAAqC,KAAK4B,IAA1C,CAA3B;AACH;AACJ;AA3awB;AAAA;AAAA,sCA4abpE,MA5aa,EA4aL;AAChB,mBAAO,KAAKkI,KAAL,CAAWiG,WAAX,CAAuBnsB,MAAM,CAACkL,MAAP,CAAc;AAAE8S,oBAAM,EAANA,MAAF;AAAUuD,sBAAQ,EAAE,KAAKA,QAAzB;AAAmCC,0BAAY,EAAE,KAAKA,YAAtD;AAAoEf,sBAAQ,EAAE,KAAKsB,WAAnF;AAAgGrD,uBAAS,EAAE,KAAKA,SAAhH;AAA2HuP,sCAAwB,EAAE,IAArJ;AAA2JvO,0BAAY,EAAE,KAAKA,YAA9K;AAA4LwO,sBAAQ,EAAE;AAC1O/O,oBAAI,EAAE,KAAK8K,YAD+N;AAE1OkE,sBAAM,EAAE,KAAKjE;AAF6N,eAAtM;AAGrCkE,oBAAM,EAAE;AACPjP,oBAAI,EAAE,KAAKgL,UADJ;AAEPgE,sBAAM,EAAE,KAAK/D;AAFN,eAH6B;AAMrCiE,2BAAa,EAAE,KAAK1O,iBANiB;AAME6H,yBAAW,EAAE,KAAKA;AANpB,aAAd,EAMiDlG,iBAAiB,CAAC,KAAKnB,WAAN,EAAmB,KAAKoB,QAAxB,EAAkC,KAAKC,YAAvC,EAAqD,KAAKO,WAA1D,EAAuE,KAAKN,UAA5E,CANlE,CAAvB,CAAP;AAOH;AApbwB;AAAA;AAAA,iDAqbFnC,SArbE,EAqbSwO,YArbT,EAqbuBjB,QArbvB,EAqbiCkB,IArbjC,EAqbuC;AAC5D,gBAAMO,WAAW,GAAG9P,cAAc,CAACsP,YAAY,CAAC5rB,CAAd,EAAiB2qB,QAAjB,CAAd,GAA2CA,QAA/D;AACA,gBAAM0B,YAAY,GAAGR,IAAI,GACnBnO,eAAe,CAACkO,YAAY,CAAC1rB,CAAd,EAAiB,KAAKsd,YAAtB,EAAoC,KAAKC,iBAAzC,EAA4D,KAAKG,aAAjE,CADI,GAEnB,CAFN;AAGA,gBAAMQ,KAAK,GAAG,KAAKH,WAAL,CAAiB3G,UAAjB,CAA4B+G,qBAAqB,CAAC,KAAKJ,WAAN,EAAmBb,SAAS,CAAC5d,KAAV,CAAgB4e,KAAnC,EAA0CgO,WAA1C,EAAuD,KAAKvM,WAA5D,CAAjD,EAA2HwM,YAA3H,CAAd;AACA,gBAAIlO,GAAJ;;AACA,gBAAIf,SAAS,CAAC5d,KAAV,CAAgB2e,GAApB,EAAyB;AACrBA,iBAAG,GAAG,KAAKF,WAAL,CAAiB3G,UAAjB,CAA4B+G,qBAAqB,CAAC,KAAKJ,WAAN,EAAmBb,SAAS,CAAC5d,KAAV,CAAgB2e,GAAnC,EAAwCiO,WAAxC,EAAqD,KAAKvM,WAA1D,CAAjD,EAAyHwM,YAAzH,CAAN;AACH;;AACD,mBAAO;AAAEjO,mBAAK,EAALA,KAAF;AAASD,iBAAG,EAAHA;AAAT,aAAP;AACH;AAhcwB;AAAA;AAAA,gDAicHuL,UAjcG,EAicSD,cAjcT,EAicyB;AAC9C,gBAAM6C,YAAY,GAAG,KAAKpM,IAA1B;AACA,iBAAKA,IAAL,GAAY,KAAK+J,WAAL,CAAiBP,UAAjB,CAAZ;AACA,gBAAM6C,mBAAmB,GAAG7C,UAAU,CAAC3e,MAAX,CAAkB,UAAAvL,KAAK;AAAA,qBAAIiqB,cAAc,CAAC+C,GAAf,CAAmBhtB,KAAnB,CAAJ;AAAA,aAAvB,CAA5B;AACA,iBAAK0gB,IAAL,CAAUmL,WAAV,CAAsBngB,OAAtB,CAA8B,UAAC0d,MAAD,EAAS6D,WAAT,EAAyB;AACnDH,0BAAY,CAACjB,WAAb,CAAyBoB,WAAzB,EAAsC5D,KAAtC,CAA4C3d,OAA5C,CAAoD,UAAC+R,IAAD,EAAOyP,SAAP,EAAqB;AACrEzP,oBAAI,CAACC,QAAL,CAAchS,OAAd,CAAsB,UAAC6R,OAAD,EAAU4P,YAAV,EAA2B;AAC7C/D,wBAAM,CAACC,KAAP,CAAa6D,SAAb,EAAwBxP,QAAxB,CAAiCyP,YAAjC,EAA+CC,QAA/C,GACI7P,OAAO,CAAC6P,QADZ;AAEH,iBAHD;AAIH,eALD;AAMAL,iCAAmB,CAACrhB,OAApB,CAA4B,UAAA4e,aAAa,EAAI;AACzC,oBAAM6B,aAAa,GAAGlC,cAAc,CAACS,GAAf,CAAmBJ,aAAnB,CAAtB;AACA,oBAAM+C,mBAAmB,GAAGjE,MAAM,CAAC9M,MAAP,CAAcrF,IAAd,CAAmB,UAAA8U,WAAW;AAAA,yBAAIA,WAAW,CAAC/rB,KAAZ,KAAsBsqB,aAA1B;AAAA,iBAA9B,CAA5B;;AACA,oBAAI+C,mBAAJ,EAAyB;AACrB;AACAA,qCAAmB,CAACrtB,KAApB,GAA4BmsB,aAA5B;AACH,iBAHD,MAIK;AACD;AACA/C,wBAAM,CAAC9M,MAAP,CAAcpJ,IAAd,CAAmB;AACflT,yBAAK,EAAEmsB,aADQ;AAEf5oB,wBAAI,EAAE,CAFS;AAGfF,uBAAG,EAAE,CAHU;AAIfQ,0BAAM,EAAE,CAJO;AAKfD,yBAAK,EAAE,CALQ;AAMf0pB,mCAAe,EAAE,KANF;AAOfC,gCAAY,EAAE;AAPC,mBAAnB;AASH;AACJ,eAnBD;AAoBH,aA3BD;AA4BAtD,0BAAc,CAACuD,KAAf;AACH;AAlewB;AAAA;AAAA,mDAmeAC,aAneA,EAmee3D,WAnef,EAme4B;AACjD,gBAAM4D,kBAAkB,GAAGnP,8BAA8B,CAAC,KAAKP,YAAN,EAAoB,KAAKC,iBAAzB,CAAzD;AACA,gBAAMmM,aAAa,GAAG;AAClBxL,mBAAK,EAAE6O,aAAa,CAAC7O,KADH;AAElBD,iBAAG,EAAEH,kBAAkB,CAAC,KAAKC,WAAN,EAAmBgP,aAAnB,EAAkCC,kBAAlC;AAFL,aAAtB;AAIM,gBAAE/O,GAAF,GAAU8O,aAAV,CAAE9O,GAAF;AAAA,gBAAyBgP,eAAzB,GAA2C,qDAAOF,aAAP,EAAsB,CAAC,KAAD,CAAtB,CAA3C;AACN,gBAAMG,eAAe,GAAG;AACpBhP,mBAAK,EAAE,KAAKH,WAAL,CAAiB3G,UAAjB,CAA4BsS,aAAa,CAACzL,GAA1C,EAA+C+O,kBAAkB,GAAG,CAAC,CAArE,CADa;AAEpB/O,iBAAG,EAAEH,kBAAkB,CAAC,KAAKC,WAAN,EAAmBkP,eAAnB,EAAoCD,kBAApC;AAFH,aAAxB;;AAIA,gBAAI,OAAO5D,WAAW,CAACoB,KAAZ,CAAkB3nB,IAAzB,KAAkC,WAAtC,EAAmD;AAC/C,kBAAMgoB,QAAQ,GAAGniB,IAAI,CAACC,KAAL,CAAW,CAACygB,WAAW,CAACoB,KAAZ,CAAkB3nB,IAAnB,GAA0B,KAAKkmB,cAA1C,CAAjB;AACA,kBAAMpK,QAAQ,GAAGR,qBAAqB,CAAC,KAAKJ,WAAN,EAAmB2L,aAAa,CAACxL,KAAjC,EAAwC2M,QAAxC,EAAkD,KAAKlL,WAAvD,CAAtC;;AACA,kBAAIhB,QAAQ,GAAGuO,eAAe,CAAChP,KAA/B,EAAsC;AAClCwL,6BAAa,CAACxL,KAAd,GAAsBS,QAAtB;AACH,eAFD,MAGK;AACD+K,6BAAa,CAACxL,KAAd,GAAsBgP,eAAe,CAAChP,KAAtC;AACH;AACJ,aATD,MAUK,IAAI,OAAOkL,WAAW,CAACoB,KAAZ,CAAkB1nB,KAAzB,KAAmC,WAAvC,EAAoD;AACrD,kBAAM+nB,SAAQ,GAAGniB,IAAI,CAACC,KAAL,CAAW,CAACygB,WAAW,CAACoB,KAAZ,CAAkB1nB,KAAnB,GAA2B,KAAKimB,cAA3C,CAAjB;;AACA,kBAAMnK,MAAM,GAAGT,qBAAqB,CAAC,KAAKJ,WAAN,EAAmB2L,aAAa,CAACzL,GAAjC,EAAsC4M,SAAtC,EAAgD,KAAKlL,WAArD,CAApC;;AACA,kBAAIf,MAAM,GAAGsO,eAAe,CAACjP,GAA7B,EAAkC;AAC9ByL,6BAAa,CAACzL,GAAd,GAAoBW,MAApB;AACH,eAFD,MAGK;AACD8K,6BAAa,CAACzL,GAAd,GAAoBiP,eAAe,CAACjP,GAApC;AACH;AACJ;;AACD,gBAAI,OAAOmL,WAAW,CAACoB,KAAZ,CAAkB7nB,GAAzB,KAAiC,WAArC,EAAkD;AAC9C,kBAAMwpB,YAAY,GAAG3O,eAAe,CAAC4L,WAAW,CAACoB,KAAZ,CAAkB7nB,GAAnB,EAAwB,KAAK2a,YAA7B,EAA2C,KAAKC,iBAAhD,EAAmE,KAAKG,aAAxE,CAApC;;AACA,kBAAMiB,SAAQ,GAAG,KAAKZ,WAAL,CAAiB3G,UAAjB,CAA4BsS,aAAa,CAACxL,KAA1C,EAAiDiO,YAAjD,CAAjB;;AACA,kBAAIxN,SAAQ,GAAGuO,eAAe,CAAChP,KAA/B,EAAsC;AAClCwL,6BAAa,CAACxL,KAAd,GAAsBS,SAAtB;AACH,eAFD,MAGK;AACD+K,6BAAa,CAACxL,KAAd,GAAsBgP,eAAe,CAAChP,KAAtC;AACH;AACJ,aATD,MAUK,IAAI,OAAOkL,WAAW,CAACoB,KAAZ,CAAkBxnB,MAAzB,KAAoC,WAAxC,EAAqD;AACtD,kBAAMmpB,aAAY,GAAG3O,eAAe,CAAC4L,WAAW,CAACoB,KAAZ,CAAkBxnB,MAAnB,EAA2B,KAAKsa,YAAhC,EAA8C,KAAKC,iBAAnD,EAAsE,KAAKG,aAA3E,CAApC;;AACA,kBAAMkB,OAAM,GAAG,KAAKb,WAAL,CAAiB3G,UAAjB,CAA4BsS,aAAa,CAACzL,GAA1C,EAA+CkO,aAA/C,CAAf;;AACA,kBAAIvN,OAAM,GAAGsO,eAAe,CAACjP,GAA7B,EAAkC;AAC9ByL,6BAAa,CAACzL,GAAd,GAAoBW,OAApB;AACH,eAFD,MAGK;AACD8K,6BAAa,CAACzL,GAAd,GAAoBiP,eAAe,CAACjP,GAApC;AACH;AACJ;;AACD,mBAAOyL,aAAP;AACH;AAvhBwB;;AAAA;AAAA,SAA7B;;AAyhBA9B,+BAAyB,CAAC/hB,cAA1B,GAA2C;AAAA,eAAM,CAC7C;AAAEjG,cAAI,EAAE;AAAR,SAD6C,EAE7C;AAAEA,cAAI,EAAEwiB;AAAR,SAF6C,EAG7C;AAAExiB,cAAI,EAAEga,MAAR;AAAgB3V,oBAAU,EAAE,CAAC;AAAErE,gBAAI,EAAE,oDAAR;AAAgB8B,gBAAI,EAAE,CAAC,uDAAD;AAAtB,WAAD;AAA5B,SAH6C,EAI7C;AAAE9B,cAAI,EAAE6b;AAAR,SAJ6C,CAAN;AAAA,OAA3C;;AAMA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BpO,IAA1B,CAFO,CAAX,EAGGua,yBAAyB,CAACzX,SAH7B,EAGwC,UAHxC,EAGoD,KAAK,CAHzD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BxO,KAA1B,CAFO,CAAX,EAGGimB,yBAAyB,CAACzX,SAH7B,EAGwC,QAHxC,EAGkD,KAAK,CAHvD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BxO,KAA1B,CAFO,CAAX,EAGGimB,yBAAyB,CAACzX,SAH7B,EAGwC,aAHxC,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,4CAA1B,CAFO,CAAX,EAGGyX,yBAAyB,CAACzX,SAH7B,EAGwC,SAHxC,EAGmD,KAAK,CAHxD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0ByJ,MAA1B,CAFO,CAAX,EAGGgO,yBAAyB,CAACzX,SAH7B,EAGwC,QAHxC,EAGkD,KAAK,CAHvD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGgqB,yBAAyB,CAACzX,SAH7B,EAGwC,kBAHxC,EAG4D,KAAK,CAHjE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGyX,yBAAyB,CAACzX,SAH7B,EAGwC,iBAHxC,EAG2D,KAAK,CAHhE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BmL,OAA1B,CAFO,CAAX,EAGGsM,yBAAyB,CAACzX,SAH7B,EAGwC,qBAHxC,EAG+D,KAAK,CAHpE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGqM,yBAAyB,CAACzX,SAH7B,EAGwC,cAHxC,EAGwD,KAAK,CAH7D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGqM,yBAAyB,CAACzX,SAH7B,EAGwC,cAHxC,EAGwD,KAAK,CAH7D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGyX,yBAAyB,CAACzX,SAH7B,EAGwC,gBAHxC,EAG0D,KAAK,CAH/D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGyX,yBAAyB,CAACzX,SAH7B,EAGwC,eAHxC,EAGyD,KAAK,CAH9D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGyX,yBAAyB,CAACzX,SAH7B,EAGwC,oBAHxC,EAG8D,KAAK,CAHnE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGyX,yBAAyB,CAACzX,SAH7B,EAGwC,sBAHxC,EAGgE,KAAK,CAHrE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0ByJ,MAA1B,CAFO,CAAX,EAGGgO,yBAAyB,CAACzX,SAH7B,EAGwC,WAHxC,EAGqD,KAAK,CAH1D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BxO,KAA1B,CAFO,CAAX,EAGGimB,yBAAyB,CAACzX,SAH7B,EAGwC,aAHxC,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BmL,OAA1B,CAFO,CAAX,EAGGsM,yBAAyB,CAACzX,SAH7B,EAGwC,mBAHxC,EAG6D,KAAK,CAHlE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGqM,yBAAyB,CAACzX,SAH7B,EAGwC,cAHxC,EAGwD,KAAK,CAH7D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGqM,yBAAyB,CAACzX,SAH7B,EAGwC,mBAHxC,EAG6D,KAAK,CAHlE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGqM,yBAAyB,CAACzX,SAH7B,EAGwC,cAHxC,EAGwD,KAAK,CAH7D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGqM,yBAAyB,CAACzX,SAH7B,EAGwC,gBAHxC,EAG0D,KAAK,CAH/D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGqM,yBAAyB,CAACzX,SAH7B,EAGwC,YAHxC,EAGsD,KAAK,CAH3D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGqM,yBAAyB,CAACzX,SAH7B,EAGwC,cAHxC,EAGwD,KAAK,CAH7D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGyX,yBAAyB,CAACzX,SAH7B,EAGwC,qBAHxC,EAG+D,KAAK,CAHpE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGqM,yBAAyB,CAACzX,SAH7B,EAGwC,eAHxC,EAGyD,KAAK,CAH9D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGyX,yBAAyB,CAACzX,SAH7B,EAGwC,2BAHxC,EAGqE,KAAK,CAH1E;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGqM,yBAAyB,CAACzX,SAH7B,EAGwC,YAHxC,EAGsD,KAAK,CAH3D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGyX,yBAAyB,CAACzX,SAH7B,EAGwC,2BAHxC,EAGqE,KAAK,CAH1E;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGgqB,yBAAyB,CAACzX,SAH7B,EAGwC,kBAHxC,EAG4D,KAAK,CAHjE;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGgqB,yBAAyB,CAACzX,SAH7B,EAGwC,cAHxC,EAGwD,KAAK,CAH7D;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGgqB,yBAAyB,CAACzX,SAH7B,EAGwC,mBAHxC,EAG6D,KAAK,CAHlE;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGgqB,yBAAyB,CAACzX,SAH7B,EAGwC,kBAHxC,EAG4D,KAAK,CAHjE;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGgqB,yBAAyB,CAACzX,SAH7B,EAGwC,oBAHxC,EAG8D,KAAK,CAHnE;AAIAyX,+BAAyB,GAAG,yDAAW,CACnC,gEAAU;AACNhiB,gBAAQ,EAAE,wBADJ;AAEN8T,gBAAQ;AAFF,OAAV,CADmC,EAmUnC,sDAAQ,CAAR,EAAW,6DAAO,uDAAP,CAAX,CAnUmC,EAoUnC,yDAAW,mBAAX,EAAgC,CAAC,+DAAD,EAC5B0I,aAD4B,EACbxI,MADa,EACL6B,WADK,CAAhC,CApUmC,CAAX,EAsUzBmM,yBAtUyB,CAA5B;;AAwUA,UAAIuF,+BAA+B,GAC/B,2CAAc;AAAA;;AACV,aAAKlF,gBAAL,GAAwB,IAAI,0DAAJ,EAAxB;AACA,aAAKmF,YAAL,GAAoB,IAAI,0DAAJ,EAApB;AACA,aAAKxe,SAAL,GAAiB,IAAI,0DAAJ,EAAjB;AACA,aAAK4N,wBAAL,GAAgCA,wBAAhC;AACH,OANL;;AAQA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B7a,KAA1B,CAFO,CAAX,EAGGwrB,+BAA+B,CAAChd,SAHnC,EAG8C,MAH9C,EAGsD,KAAK,CAH3D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0ByJ,MAA1B,CAFO,CAAX,EAGGuT,+BAA+B,CAAChd,SAHnC,EAG8C,QAH9C,EAGwD,KAAK,CAH7D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGgd,+BAA+B,CAAChd,SAHnC,EAG8C,gBAH9C,EAGgE,KAAK,CAHrE;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGuvB,+BAA+B,CAAChd,SAHnC,EAG8C,kBAH9C,EAGkE,KAAK,CAHvE;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGuvB,+BAA+B,CAAChd,SAHnC,EAG8C,cAH9C,EAG8D,KAAK,CAHnE;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGuvB,+BAA+B,CAAChd,SAHnC,EAG8C,WAH9C,EAG2D,KAAK,CAHhE;AAIAgd,qCAA+B,GAAG,yDAAW,CACzC,gEAAU;AACNvnB,gBAAQ,EAAE,+BADJ;AAEN8T,gBAAQ;AAFF,OAAV,CADyC,CAAX,EAyD/ByT,+BAzD+B,CAAlC;;AA2DA,UAAIE,8BAA8B,GAC9B,0CAAc;AAAA;;AACV,aAAK3I,YAAL,GAAoB,IAAI,0DAAJ,EAApB;AACH,OAHL;;AAKA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B9K,MAA1B,CAFO,CAAX,EAGGyT,8BAA8B,CAACld,SAHlC,EAG6C,QAH7C,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGyvB,8BAA8B,CAACld,SAHlC,EAG6C,WAH7C,EAG0D,KAAK,CAH/D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGyvB,8BAA8B,CAACld,SAHlC,EAG6C,kBAH7C,EAGiE,KAAK,CAHtE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BmL,OAA1B,CAFO,CAAX,EAGG+R,8BAA8B,CAACld,SAHlC,EAG6C,qBAH7C,EAGoE,KAAK,CAHzE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BmL,OAA1B,CAFO,CAAX,EAGG+R,8BAA8B,CAACld,SAHlC,EAG6C,iBAH7C,EAGgE,KAAK,CAHrE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGG8R,8BAA8B,CAACld,SAHlC,EAG6C,cAH7C,EAG6D,KAAK,CAHlE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGkd,8BAA8B,CAACld,SAHlC,EAG6C,gBAH7C,EAG+D,KAAK,CAHpE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGkd,8BAA8B,CAACld,SAHlC,EAG6C,oBAH7C,EAGmE,KAAK,CAHxE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGkd,8BAA8B,CAACld,SAHlC,EAG6C,sBAH7C,EAGqE,KAAK,CAH1E;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGkd,8BAA8B,CAACld,SAHlC,EAG6C,iBAH7C,EAGgE,KAAK,CAHrE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGyvB,8BAA8B,CAACld,SAHlC,EAG6C,QAH7C,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGG8R,8BAA8B,CAACld,SAHlC,EAG6C,YAH7C,EAG2D,KAAK,CAHhE;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGyvB,8BAA8B,CAACld,SAHlC,EAG6C,cAH7C,EAG6D,KAAK,CAHlE;AAIAkd,oCAA8B,GAAG,yDAAW,CACxC,gEAAU;AACNznB,gBAAQ,EAAE,8BADJ;AAEN8T,gBAAQ;AAFF,OAAV,CADwC,CAAX,EA2E9B2T,8BA3E8B,CAAjC;;AA6EA,UAAIC,oCAAoC;AAAA;AAAA,OAAxC;;AAEA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B1vB,MAA1B,CAFO,CAAX,EAGG0vB,oCAAoC,CAACnd,SAHxC,EAGmD,SAHnD,EAG8D,KAAK,CAHnE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGG+R,oCAAoC,CAACnd,SAHxC,EAGmD,eAHnD,EAGoE,KAAK,CAHzE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0ByJ,MAA1B,CAFO,CAAX,EAGG0T,oCAAoC,CAACnd,SAHxC,EAGmD,QAHnD,EAG6D,KAAK,CAHlE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BmL,OAA1B,CAFO,CAAX,EAGGgS,oCAAoC,CAACnd,SAHxC,EAGmD,aAHnD,EAGkE,KAAK,CAHvE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGG+R,oCAAoC,CAACnd,SAHxC,EAGmD,YAHnD,EAGiE,KAAK,CAHtE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGmd,oCAAoC,CAACnd,SAHxC,EAGmD,gBAHnD,EAGqE,KAAK,CAH1E;AAIAmd,0CAAoC,GAAG,yDAAW,CAC9C,gEAAU;AACN1nB,gBAAQ,EAAE,qCADJ;AAEN8T,gBAAQ;AAFF,OAAV,CAD8C,CAAX,EAiDpC4T,oCAjDoC,CAAvC;;AAmDA,UAAIC,0CAA0C;AAC1C,4DAAYxP,WAAZ,EAAyB;AAAA;;AAAA;;AACrB,eAAKA,WAAL,GAAmBA,WAAnB;AACA,eAAKyP,WAAL,GAAmB,IAAI,oDAAJ,CAAoB,KAAKC,UAAzB,CAAnB;AACA,eAAKC,OAAL,GAAe,sDAAS,KAAK,IAAd,EAAoBnmB,IAApB,CAAyB,iEAAU,CAAV,CAAzB,EAAuC,mEAAY,KAAKimB,WAAjB,CAAvC,EAAsE,2DAAI,UAAAC,UAAU,EAAI;AACnG,gBAAMrV,UAAU,GAAG,OAAI,CAAC2F,WAAL,CAAiB5F,UAAjB,CAA4B,OAAI,CAAC4F,WAAL,CAAiB7F,QAAjB,CAA0BuV,UAA1B,EAAsC,OAAI,CAAC5F,YAA3C,CAA5B,EAAsF,OAAI,CAACC,cAA3F,CAAnB;;AACA,gBAAMrQ,QAAQ,GAAG,OAAI,CAACsG,WAAL,CAAiB5F,UAAjB,CAA4B,OAAI,CAAC4F,WAAL,CAAiB7F,QAAjB,CAA0BuV,UAA1B,EAAsC,OAAI,CAAC1F,UAA3C,CAA5B,EAAoF,OAAI,CAACC,YAAzF,CAAjB;;AACA,gBAAM2F,kBAAkB,GAAI,OAAI,CAACrQ,YAAL,GAAoB,OAAI,CAACC,iBAA1B,GAA+C,EAA1E;AACA,gBAAMjQ,GAAG,GAAG,IAAID,IAAJ,EAAZ;AACA,mBAAO;AACHugB,uBAAS,EAAE,OAAI,CAAC7P,WAAL,CAAiBjG,SAAjB,CAA2B2V,UAA3B,EAAuCngB,GAAvC,KACPA,GAAG,IAAI8K,UADA,IAEP9K,GAAG,IAAImK,QAHR;AAIH9U,iBAAG,EAAE,OAAI,CAACob,WAAL,CAAiBxG,mBAAjB,CAAqCjK,GAArC,EAA0C8K,UAA1C,IACDuV;AALD,aAAP;AAOH,WAZoF,CAAtE,CAAf;AAaH;;AAjByC;AAAA;AAAA,sCAkB9B3hB,OAlB8B,EAkBrB;AACjB,gBAAIA,OAAO,CAACyhB,UAAZ,EAAwB;AACpB,mBAAKD,WAAL,CAAiBzlB,IAAjB,CAAsBiE,OAAO,CAACyhB,UAAR,CAAmBI,YAAzC;AACH;AACJ;AAtByC;;AAAA;AAAA,SAA9C;;AAwBAN,gDAA0C,CAAC1nB,cAA3C,GAA4D;AAAA,eAAM,CAC9D;AAAEjG,cAAI,EAAE6b;AAAR,SAD8D,CAAN;AAAA,OAA5D;;AAGA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BpO,IAA1B,CAFO,CAAX,EAGGkgB,0CAA0C,CAACpd,SAH9C,EAGyD,YAHzD,EAGuE,KAAK,CAH5E;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGgS,0CAA0C,CAACpd,SAH9C,EAGyD,cAHzD,EAGyE,KAAK,CAH9E;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGgS,0CAA0C,CAACpd,SAH9C,EAGyD,gBAHzD,EAG2E,KAAK,CAHhF;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGgS,0CAA0C,CAACpd,SAH9C,EAGyD,YAHzD,EAGuE,KAAK,CAH5E;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGgS,0CAA0C,CAACpd,SAH9C,EAGyD,cAHzD,EAGyE,KAAK,CAH9E;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGgS,0CAA0C,CAACpd,SAH9C,EAGyD,cAHzD,EAGyE,KAAK,CAH9E;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGgS,0CAA0C,CAACpd,SAH9C,EAGyD,mBAHzD,EAG8E,KAAK,CAHnF;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGGod,0CAA0C,CAACpd,SAH9C,EAGyD,gBAHzD,EAG2E,KAAK,CAHhF;AAIAod,gDAA0C,GAAG,yDAAW,CACpD,gEAAU;AACN3nB,gBAAQ,EAAE,4CADJ;AAEN8T,gBAAQ;AAFF,OAAV,CADoD,EAmCpD,yDAAW,mBAAX,EAAgC,CAAC+B,WAAD,CAAhC,CAnCoD,CAAX,EAoC1C8R,0CApC0C,CAA7C;;AAsCA,UAAIO,kBAAkB;AAAA;AAAA,OAAtB;;AAEAA,wBAAkB,GAAG,yDAAW,CAC5B,+DAAS;AACL9J,eAAO,EAAE,CACL,4DADK,EAEL,yEAFK,EAGL,6EAHK,EAILP,oBAJK,CADJ;AAOLzT,oBAAY,EAAE,CACV4X,yBADU,EAEVuF,+BAFU,EAGVE,8BAHU,EAIVC,oCAJU,EAKVC,0CALU,CAPT;AAcLzvB,eAAO,EAAE,CACL,yEADK,EAEL,6EAFK,EAGL8pB,yBAHK,EAILuF,+BAJK,EAKLE,8BALK,EAMLC,oCANK,EAOLC,0CAPK;AAdJ,OAAT,CAD4B,CAAX,EAyBlBO,kBAzBkB,CAArB;AA2BA;;;;;;;;;;;AAUA,UAAIC,wBAAwB;AACxB;;;;;;;;;;AAUA,0CAAc;AAAA;;AACV;;;;AAIA,aAAKnS,MAAL,GAAc,EAAd;AACA;;;;AAGA,aAAK0B,YAAL,GAAoB,CAApB;AACA;;;;AAGA,aAAKC,iBAAL,GAAyB,EAAzB;AACA;;;;AAGA,aAAKsK,YAAL,GAAoB,CAApB;AACA;;;;AAGA,aAAKC,cAAL,GAAsB,CAAtB;AACA;;;;AAGA,aAAKC,UAAL,GAAkB,EAAlB;AACA;;;;AAGA,aAAKC,YAAL,GAAoB,EAApB;AACA;;;;AAGA,aAAK3D,gBAAL,GAAwB,MAAxB;AACA;;;;AAGA,aAAKC,mBAAL,GAA2B,IAA3B;AACA;;;;;AAIA,aAAKC,YAAL,GAAoB,IAApB;AACA;;;;AAGA,aAAK8C,iBAAL,GAAyB,IAAzB;AACA;;;;AAGA,aAAK3C,YAAL,GAAoB,IAAI,0DAAJ,EAApB;AACA;;;;AAGA,aAAKwD,kBAAL,GAA0B,IAAI,0DAAJ,EAA1B;AACA;;;;AAGA,aAAKtD,iBAAL,GAAyB,IAAI,0DAAJ,EAAzB;AACA;;;;;AAIA,aAAKJ,gBAAL,GAAwB,IAAI,0DAAJ,EAAxB;AACH,OA3EL;;AA6EA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BnX,IAA1B,CAFO,CAAX,EAGG0gB,wBAAwB,CAAC5d,SAH5B,EAGuC,UAHvC,EAGmD,KAAK,CAHxD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BxO,KAA1B,CAFO,CAAX,EAGGosB,wBAAwB,CAAC5d,SAH5B,EAGuC,QAHvC,EAGiD,KAAK,CAHtD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGwS,wBAAwB,CAAC5d,SAH5B,EAGuC,cAHvC,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGwS,wBAAwB,CAAC5d,SAH5B,EAGuC,mBAHvC,EAG4D,KAAK,CAHjE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGwS,wBAAwB,CAAC5d,SAH5B,EAGuC,cAHvC,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGwS,wBAAwB,CAAC5d,SAH5B,EAGuC,gBAHvC,EAGyD,KAAK,CAH9D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGwS,wBAAwB,CAAC5d,SAH5B,EAGuC,YAHvC,EAGqD,KAAK,CAH1D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGwS,wBAAwB,CAAC5d,SAH5B,EAGuC,cAHvC,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,4CAA1B,CAFO,CAAX,EAGG4d,wBAAwB,CAAC5d,SAH5B,EAGuC,SAHvC,EAGkD,KAAK,CAHvD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0ByJ,MAA1B,CAFO,CAAX,EAGGmU,wBAAwB,CAAC5d,SAH5B,EAGuC,QAHvC,EAGiD,KAAK,CAHtD;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGwS,wBAAwB,CAAC5d,SAH5B,EAGuC,eAHvC,EAGwD,KAAK,CAH7D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGmwB,wBAAwB,CAAC5d,SAH5B,EAGuC,kBAHvC,EAG2D,KAAK,CAHhE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG4d,wBAAwB,CAAC5d,SAH5B,EAGuC,iBAHvC,EAG0D,KAAK,CAH/D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BmL,OAA1B,CAFO,CAAX,EAGGyS,wBAAwB,CAAC5d,SAH5B,EAGuC,qBAHvC,EAG8D,KAAK,CAHnE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BoL,MAA1B,CAFO,CAAX,EAGGwS,wBAAwB,CAAC5d,SAH5B,EAGuC,cAHvC,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG4d,wBAAwB,CAAC5d,SAH5B,EAGuC,qBAHvC,EAG8D,KAAK,CAHnE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG4d,wBAAwB,CAAC5d,SAH5B,EAGuC,eAHvC,EAGwD,KAAK,CAH7D;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG4d,wBAAwB,CAAC5d,SAH5B,EAGuC,oBAHvC,EAG6D,KAAK,CAHlE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG4d,wBAAwB,CAAC5d,SAH5B,EAGuC,sBAHvC,EAG+D,KAAK,CAHpE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0BmL,OAA1B,CAFO,CAAX,EAGGyS,wBAAwB,CAAC5d,SAH5B,EAGuC,mBAHvC,EAG4D,KAAK,CAHjE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG4d,wBAAwB,CAAC5d,SAH5B,EAGuC,2BAHvC,EAGoE,KAAK,CAHzE;AAIA,+DAAW,CACP,6DADO,EAEP,yDAAW,aAAX,EAA0B,yDAA1B,CAFO,CAAX,EAGG4d,wBAAwB,CAAC5d,SAH5B,EAGuC,2BAHvC,EAGoE,KAAK,CAHzE;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGmwB,wBAAwB,CAAC5d,SAH5B,EAGuC,cAHvC,EAGuD,KAAK,CAH5D;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGmwB,wBAAwB,CAAC5d,SAH5B,EAGuC,oBAHvC,EAG6D,KAAK,CAHlE;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGmwB,wBAAwB,CAAC5d,SAH5B,EAGuC,mBAHvC,EAG4D,KAAK,CAHjE;AAIA,+DAAW,CACP,8DADO,EAEP,yDAAW,aAAX,EAA0BvS,MAA1B,CAFO,CAAX,EAGGmwB,wBAAwB,CAAC5d,SAH5B,EAGuC,kBAHvC,EAG2D,KAAK,CAHhE;AAIA4d,8BAAwB,GAAG,yDAAW,CAClC,gEAAU;AACNnoB,gBAAQ,EAAE,uBADJ;AAEN8T,gBAAQ;AAFF,OAAV,CADkC,CAAX,EAoCxBqU,wBApCwB,CAA3B;;AAsCA,UAAIC,iBAAiB;AAAA;AAAA,OAArB;;AAEAA,uBAAiB,GAAG,yDAAW,CAC3B,+DAAS;AACLhK,eAAO,EAAE,CAAC,4DAAD,EAAeP,oBAAf,EAAqCqK,kBAArC,CADJ;AAEL9d,oBAAY,EAAE,CAAC+d,wBAAD,CAFT;AAGLjwB,eAAO,EAAE,CAACiwB,wBAAD;AAHJ,OAAT,CAD2B,CAAX,EAMjBC,iBANiB,CAApB;AAQA,UAAIC,gBAAJ;AACA;;;;;;;;;;;;;;;;AAeA,UAAIC,cAAc,GAAGD,gBAAgB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,kCAClBlQ,WADkB,EACQ;AAAA,gBAAb2F,MAAa,uEAAJ,EAAI;AACrC,mBAAO;AACHC,sBAAQ,EAAEsK,gBADP;AAEHrK,uBAAS,EAAE,CACP7F,WADO,EAEP2F,MAAM,CAACG,mBAAP,IAA8BvC,2BAFvB,EAGPoC,MAAM,CAAC5C,aAAP,IAAwBF,qBAHjB,EAIP8C,MAAM,CAACI,KAAP,IAAgB1B,aAJT,EAKPsB,MAAM,CAACK,IAAP,IAAe1B,YALR;AAFR,aAAP;AAUH;AAZgC;;AAAA;AAAA,SAArC;;AAcA6L,oBAAc,GAAGD,gBAAgB,GAAG,yDAAW,CAC3C,+DAAS;AACLjK,eAAO,EAAE,CACLP,oBADK,EAELuD,mBAFK,EAGL8G,kBAHK,EAILE,iBAJK,CADJ;AAOLlwB,eAAO,EAAE,CACL2lB,oBADK,EAELuD,mBAFK,EAGL8G,kBAHK,EAILE,iBAJK;AAPJ,OAAT,CAD2C,CAAX,EAejCE,cAfiC,CAApC;AAiBA;;;;AAIA;;;AAKA;;;;;;;;;;;;;;;ACh2HA;AACA;AACAltB,YAAM,CAAClD,OAAP,GAAkB,YAAW;AAC3B,YAAIqwB,UAAU,GAAG,SAAbA,UAAa,CAASC,EAAT,EAAa;AAC5B,iBAAO,OAAOA,EAAP,KAAc,UAArB;AACD,SAFD;;AAGA,YAAIC,SAAS,GAAG,SAAZA,SAAY,CAAUtwB,KAAV,EAAiB;AAC/B,cAAIuwB,MAAM,GAAG/S,MAAM,CAACxd,KAAD,CAAnB;;AACA,cAAIwwB,KAAK,CAACD,MAAD,CAAT,EAAmB;AAAE,mBAAO,CAAP;AAAW;;AAChC,cAAIA,MAAM,KAAK,CAAX,IAAgB,CAACE,QAAQ,CAACF,MAAD,CAA7B,EAAuC;AAAE,mBAAOA,MAAP;AAAgB;;AACzD,iBAAO,CAACA,MAAM,GAAG,CAAT,GAAa,CAAb,GAAiB,CAAC,CAAnB,IAAwB5lB,IAAI,CAACwT,KAAL,CAAWxT,IAAI,CAAC2F,GAAL,CAASigB,MAAT,CAAX,CAA/B;AACD,SALD;;AAMA,YAAIG,cAAc,GAAG/lB,IAAI,CAACgmB,GAAL,CAAS,CAAT,EAAY,EAAZ,IAAkB,CAAvC;;AACA,YAAIC,QAAQ,GAAG,SAAXA,QAAW,CAAU5wB,KAAV,EAAiB;AAC9B,cAAIkU,GAAG,GAAGoc,SAAS,CAACtwB,KAAD,CAAnB;AACA,iBAAO2K,IAAI,CAACkmB,GAAL,CAASlmB,IAAI,CAACuP,GAAL,CAAShG,GAAT,EAAc,CAAd,CAAT,EAA2Bwc,cAA3B,CAAP;AACD,SAHD;;AAIA,YAAII,YAAY,GAAG,SAAfA,YAAe,CAAS9wB,KAAT,EAAgB;AACjC,cAAGA,KAAK,IAAI,IAAZ,EAAkB;AAChB,gBAAG,CAAC,QAAD,EAAU,QAAV,EAAmB,SAAnB,EAA6B,QAA7B,EAAuCmN,OAAvC,CAA+C,OAAOnN,KAAtD,IAA+D,CAAC,CAAnE,EAAqE;AACnE,qBAAO2S,MAAM,CAACC,QAAd;AACD,aAFD,MAEO,IACJ,OAAOD,MAAP,KAAkB,WAAnB,IACC,cAAcA,MADf,IAECA,MAAM,CAACC,QAAP,IAAmB5S,KAHf,EAIL;AACA,qBAAO2S,MAAM,CAACC,QAAd;AACD,aANM,CAOP;AAPO,iBAQF,IAAI,gBAAgB5S,KAApB,EAA2B;AAC9B,uBAAO,YAAP;AACD;AACF;AACF,SAhBD;;AAiBA,YAAI+wB,SAAS,GAAG,SAAZA,SAAY,CAASC,CAAT,EAAYC,CAAZ,EAAe;AAC7B;AACA,cAAID,CAAC,IAAI,IAAL,IAAaC,CAAC,IAAI,IAAtB,EAA4B;AAC1B;AACA,gBAAI3tB,IAAI,GAAG0tB,CAAC,CAACC,CAAD,CAAZ,CAF0B,CAG1B;AACA;;AACA,gBAAG3tB,IAAI,IAAI,IAAX,EAAiB;AACf,qBAAO,KAAK,CAAZ;AACD,aAPyB,CAQ1B;;;AACA,gBAAI,CAAC8sB,UAAU,CAAC9sB,IAAD,CAAf,EAAuB;AACrB,oBAAM,IAAIuC,SAAJ,CAAcvC,IAAI,GAAG,oBAArB,CAAN;AACD;;AACD,mBAAOA,IAAP;AACD;AACF,SAhBD;;AAiBA,YAAI4tB,YAAY,GAAG,SAAfA,YAAe,CAASte,QAAT,EAAmB;AACpC;AACA;AACA,cAAI8N,MAAM,GAAG9N,QAAQ,CAAC5I,IAAT,EAAb,CAHoC,CAIpC;AACA;;AACA,cAAImnB,IAAI,GAAG5T,OAAO,CAACmD,MAAM,CAACyQ,IAAR,CAAlB,CANoC,CAOpC;;AACA,cAAGA,IAAH,EAAS;AACP,mBAAO,KAAP;AACD,WAVmC,CAWpC;;;AACA,iBAAOzQ,MAAP;AACD,SAbD,CAjD2B,CAgE3B;;;AACA,eAAO,SAAS0Q,IAAT,CAAcC;AAAM;AAApB,UAA4C;AACjD,uBADiD,CAGjD;;AACA,cAAIC,CAAC,GAAG,IAAR,CAJiD,CAMjD;;AACA,cAAIC,KAAK,GAAG9tB,SAAS,CAACC,MAAV,GAAmB,CAAnB,GAAuBD,SAAS,CAAC,CAAD,CAAhC,GAAsC,KAAK,CAAvD;AAEA,cAAI+tB,CAAJ;;AACA,cAAI,OAAOD,KAAP,KAAiB,WAArB,EAAkC;AAChC;AACA;AACA,gBAAI,CAACnB,UAAU,CAACmB,KAAD,CAAf,EAAwB;AACtB,oBAAM,IAAI1rB,SAAJ,CACJ,mEADI,CAAN;AAGD,aAP+B,CAShC;AACA;;;AACA,gBAAIpC,SAAS,CAACC,MAAV,GAAmB,CAAvB,EAA0B;AACxB8tB,eAAC,GAAG/tB,SAAS,CAAC,CAAD,CAAb;AACD,aAb+B,CAchC;;AACD;;AAED,cAAIguB,CAAJ,EAAOC,CAAP,CA3BiD,CA6BjD;AACA;;AACA,cAAIC,aAAa,GAAGZ,SAAS,CAACM,KAAD,EAAQP,YAAY,CAACO,KAAD,CAApB,CAA7B,CA/BiD,CAiCjD;;AACA,cAAIM,aAAa,KAAK,KAAK,CAA3B,EAA8B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACAF,aAAC,GAAGrB,UAAU,CAACkB,CAAD,CAAV,GAAgBzxB,MAAM,CAAC,IAAIyxB,CAAJ,EAAD,CAAtB,GAAkC,EAAtC,CAR4B,CAU5B;;AACA,gBAAI1e,QAAQ,GAAG+e,aAAa,CAACpf,IAAd,CAAmB8e,KAAnB,CAAf,CAX4B,CAa5B;;AACA,gBAAIze,QAAQ,IAAI,IAAhB,EAAsB;AACpB,oBAAM,IAAI/M,SAAJ,CACJ,sDADI,CAAN;AAGD,aAlB2B,CAoB5B;;;AACA6rB,aAAC,GAAG,CAAJ,CArB4B,CAuB5B;;AACA,gBAAI1nB,IAAJ,EAAU4nB,SAAV;;AACA,mBAAO,IAAP,EAAa;AACX;AACA;AACA;AACA5nB,kBAAI,GAAGknB,YAAY,CAACte,QAAD,CAAnB,CAJW,CAMX;;AACA,kBAAI,CAAC5I,IAAL,EAAW;AAET;AACA;AACAynB,iBAAC,CAAC/tB,MAAF,GAAWguB,CAAX,CAJS,CAMT;;AACA,uBAAOD,CAAP;AACD,eAfU,CAgBX;AACA;;;AACAG,uBAAS,GAAG5nB,IAAI,CAAChK,KAAjB,CAlBW,CAoBX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,kBAAIuxB,KAAJ,EAAW;AACTE,iBAAC,CAACC,CAAD,CAAD,GAAOH,KAAK,CAAChf,IAAN,CAAWif,CAAX,EAAcI,SAAd,EAAyBF,CAAzB,CAAP;AACD,eAFD,MAGK;AACHD,iBAAC,CAACC,CAAD,CAAD,GAAOE,SAAP;AACD,eAnCU,CAoCX;;;AACAF,eAAC;AACF,aA/D2B,CAgE5B;AACA;;AACD,WAlED,MAkEO;AAEL;AACA,gBAAIG,SAAS,GAAGhyB,MAAM,CAACwxB,KAAD,CAAtB,CAHK,CAKL;;AACA,gBAAIA,KAAK,IAAI,IAAb,EAAmB;AACjB,oBAAM,IAAIxrB,SAAJ,CACJ,kEADI,CAAN;AAGD,aAVI,CAYL;AACA;;;AACA,gBAAIqO,GAAG,GAAG0c,QAAQ,CAACiB,SAAS,CAACnuB,MAAX,CAAlB,CAdK,CAgBL;AACA;AACA;AACA;AACA;;AACA+tB,aAAC,GAAGrB,UAAU,CAACkB,CAAD,CAAV,GAAgBzxB,MAAM,CAAC,IAAIyxB,CAAJ,CAAMpd,GAAN,CAAD,CAAtB,GAAqC,IAAItQ,KAAJ,CAAUsQ,GAAV,CAAzC,CArBK,CAuBL;;AACAwd,aAAC,GAAG,CAAJ,CAxBK,CAyBL;;AACA,gBAAII,MAAJ;;AACA,mBAAOJ,CAAC,GAAGxd,GAAX,EAAgB;AACd4d,oBAAM,GAAGD,SAAS,CAACH,CAAD,CAAlB;;AACA,kBAAIH,KAAJ,EAAW;AACTE,iBAAC,CAACC,CAAD,CAAD,GAAOH,KAAK,CAAChf,IAAN,CAAWif,CAAX,EAAcM,MAAd,EAAsBJ,CAAtB,CAAP;AACD,eAFD,MAGK;AACHD,iBAAC,CAACC,CAAD,CAAD,GAAOI,MAAP;AACD;;AACDJ,eAAC;AACF,aApCI,CAqCL;AACA;;;AACAD,aAAC,CAAC/tB,MAAF,GAAWwQ,GAAX,CAvCK,CAwCL;AACD;;AACD,iBAAOud,CAAP;AACD,SA/ID;AAgJD,OAjNgB,EAAjB;;;;;;;;;;;;;;;;;ACFA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAIA;;;;;;UAIMM,iB,GACF,6BAAc;AAAA;;AACV;;;AAGA,aAAKC,SAAL,GAAiB,QAAjB;AACA;;;;AAGA,aAAKC,QAAL,GAAgB,KAAhB;AACA;;;;;AAIA,aAAKC,aAAL,GAAqB,EAArB;AACA;;;;AAGA,aAAKC,UAAL,GAAkB,KAAlB;AACA;;;;AAGA,aAAKC,QAAL,GAAgBzsB,SAAhB;AACA;;;;AAGA,aAAK0sB,cAAL,GAAsB,QAAtB;AACA;;;;;AAIA,aAAKC,UAAL,GAAkB,IAAlB;AACA;;;;;AAIA,aAAKC,UAAL,GAAkB,OAAlB;AACA;;;;AAGA,aAAKC,WAAL,GAAmB,EAAnB;AACA;;;;AAGA,aAAKC,aAAL,GAAqB,CAArB;AACA;;;;AAGA,aAAKC,OAAL,GAAe,EAAf;AACA;;;;;AAIA,aAAKC,aAAL,GAAqB,KAArB;AACA;;;;AAGA,aAAKC,MAAL,GAAc,EAAd;AACA;;;;AAGA,aAAKC,UAAL,GAAkB,KAAlB;AACA;;;;AAGA,aAAKC,aAAL,GAAqB,KAArB;AACA;;;;AAGA,aAAKC,UAAL,GAAkBptB,SAAlB;AACA;;;;AAGA,aAAKqtB,aAAL,GAAqB,CAArB;AACA;;;;AAGA,aAAKC,MAAL,GAAc,KAAd;AACA;;;;AAGA,aAAKC,OAAL,GAAevtB,SAAf;AACA;;;;AAGA,aAAKwtB,OAAL,GAAextB,SAAf;AACA;;;;AAGA,aAAKytB,eAAL,GAAuB,CAAvB;AACA;;;;AAGA,aAAKC,IAAL,GAAY,QAAZ;AACA;;;;AAGA,aAAKC,SAAL,GAAiB,GAAjB;AACA;;;;AAGA,aAAKC,UAAL,GAAkB,KAAlB;AACA;;;;AAGA,aAAKhkB,GAAL,GAAW,IAAID,IAAJ,EAAX;AACA;;;;AAGA,aAAKkkB,SAAL,GAAiB,GAAjB;AACA;;;;AAGA,aAAKC,qBAAL,GAA6B,KAA7B;AACA;;;;AAGA,yBAAc,KAAd;AACA;;;;AAGA,aAAKC,QAAL,GAAgB,KAAhB;AACA;;;;;AAIA,aAAKC,GAAL,GAAW,KAAX;AACA;;;;AAGA,aAAKC,WAAL,GAAmB,KAAnB;AACA;;;;AAGA,aAAKC,IAAL,GAAY,KAAZ;AACA;;;;AAGA,aAAKC,OAAL,GAAe,EAAf;AACA;;;;AAGA,aAAKtR,MAAL,GAAc,SAAd;AACA;;;;AAGA,aAAKuR,iBAAL,GAAyB,KAAzB;AACA;;;;AAGA,aAAKC,UAAL,GAAkB,CAAlB;AACH,O;;AAELjC,uBAAiB,CAAC7rB,UAAlB,GAA+B,CAC3B;AAAErE,YAAI,EAAE;AAAR,OAD2B,CAA/B;AAIA;;;;;AAIA;AAAM;AAAiBoyB,sCAAgC,GAAG;AACtDC,eAAO,EAAE,gEAD6C;AAEtDC,mBAAW,EAAE,iEAAW;AAAA,iBAAMC,kBAAN;AAAA,SAAX,CAFyC;AAGtD;AACAC,aAAK,EAAE;AAJ+C,OAA1D;;UAMMD,kB;AACF;;;;;AAKA,oCAAYvQ,GAAZ,EAAiByQ,QAAjB,EAA2B5tB,QAA3B,EAAqC;AAAA;;AACjC,eAAKmd,GAAL,GAAWA,GAAX;AACA,eAAKyQ,QAAL,GAAgBA,QAAhB;AACA,eAAK5tB,QAAL,GAAgBA,QAAhB;AACA;;;;AAGA,eAAK6tB,cAAL,GAAsB,IAAI,0DAAJ,EAAtB;AACA;;;;AAGA,eAAKC,eAAL,GAAuB,IAAI,0DAAJ,EAAvB;AACA;;;;AAGA,eAAKC,oBAAL,GAA4B,IAAI,0DAAJ,EAA5B;AACA;;;;AAGA,eAAKC,aAAL,GAAqB,IAAI,0DAAJ,EAArB;AACA;;;;AAGA,eAAKC,cAAL,GAAsB,IAAI,0DAAJ,EAAtB;AACA;;;;AAGA,eAAKC,oBAAL,GAA4B,IAAI,0DAAJ,EAA5B;AACA;;;;AAGA,eAAKC,mBAAL,GAA2B,IAAI,0DAAJ,EAA3B;AACA;;;;AAGA,eAAKC,kBAAL,GAA0B,IAAI,0DAAJ,EAA1B;AACA,eAAKC,UAAL,GAAkB,KAAlB;;AACA,eAAKC,UAAL,GAAkB,YAAM,CAAG,CAA3B;;AACA,eAAKC,WAAL,GAAmB,YAAM,CAAG,CAA5B;AACH;AACD;;;;;;;4CAGkB;AAAA;;AACd;AAAM;AAAiB7zB,mBAAO,GAAG;AAC7B4wB,uBAAS,EAAE,KAAKA,SADa;AAE7BC,sBAAQ,EAAE,KAAKA,QAFc;AAG7BC,2BAAa,EAAE,KAAKA,aAHS;AAI7BC,wBAAU,EAAE,KAAKA,UAJY;AAK7BC,sBAAQ,EAAE,KAAKA,QALc;AAM7BC,4BAAc,EAAE,KAAKA,cANQ;AAO7BC,wBAAU,EAAE,KAAKA,UAPY;AAQ7BC,wBAAU,EAAE,KAAKA,UARY;AAS7BC,yBAAW,EAAE,KAAKA,WATW;AAU7BC,2BAAa,EAAE,KAAKA,aAVS;AAW7BC,qBAAO,EAAE,KAAKA,OAXe;AAY7BC,2BAAa,EAAE,KAAKA,aAZS;AAa7BC,oBAAM,EAAE,KAAKA,MAbgB;AAc7BC,wBAAU,EAAE,KAAKA,UAdY;AAe7BC,2BAAa,EAAE,KAAKA,aAfS;AAgB7BC,wBAAU,EAAE,KAAKA,UAhBY;AAiB7BC,2BAAa,EAAE,KAAKA,aAjBS;AAkB7BkC,yBAAW,EAAE,KAAKC,YAlBW;AAmB7BlC,oBAAM,EAAE,KAAKA,MAnBgB;AAoB7BC,qBAAO,EAAE,KAAKA,OApBe;AAqB7BC,qBAAO,EAAE,KAAKA,OArBe;AAsB7BC,6BAAe,EAAE,KAAKA,eAtBO;AAuB7BC,kBAAI,EAAE,KAAKA,IAvBkB;AAwB7BC,uBAAS,EAAE,KAAKA,SAxBa;AAyB7BC,wBAAU,EAAE,KAAKA,UAzBY;AA0B7BhkB,iBAAG,EAAE,KAAKA,GA1BmB;AA2B7B6lB,uBAAS,EAAE,KAAKA,SA3Ba;AA4B7B5B,uBAAS,EAAE,KAAKA,SA5Ba;AA6B7BC,mCAAqB,EAAE,KAAKA,qBA7BC;AA8B7BO,wBAAU,EAAE,KAAKA,UA9BY;AA+B7B,wBAAQ,cA/BqB;AAgC7BN,sBAAQ,EAAE,KAAKA,QAhCc;AAiC7BE,yBAAW,EAAE,KAAKA,WAjCW;AAkC7ByB,qBAAO,EAAE,KAAKA,OAlCe;AAmC7BxB,kBAAI,EAAE,KAAKA,IAnCkB;AAoC7BC,qBAAO,EAAE,KAAKA,OApCe;AAqC7BtR,oBAAM,EAAE,KAAKA,MArCgB;AAsC7B8S,sBAAQ,EAAE,kBAACC,aAAD,EAAgBC,UAAhB,EAA4B9Y,QAA5B,EAAyC;AAC/C,uBAAI,CAAC8X,eAAL,CAAqBpnB,IAArB,CAA0B;AAAEmoB,+BAAa,EAAbA,aAAF;AAAiBC,4BAAU,EAAVA,UAAjB;AAA6B9Y,0BAAQ,EAARA;AAA7B,iBAA1B;AACH,eAxC4B;AAyC7B+Y,oBAAM,EAAE,gBAACF,aAAD,EAAgBC,UAAhB,EAA4B9Y,QAA5B,EAAyC;AAC7C,uBAAI,CAACgY,aAAL,CAAmBtnB,IAAnB,CAAwB;AAAEmoB,+BAAa,EAAbA,aAAF;AAAiBC,4BAAU,EAAVA,UAAjB;AAA6B9Y,0BAAQ,EAARA;AAA7B,iBAAxB;AACH,eA3C4B;AA4C7BgZ,qBAAO,EAAE,iBAACH,aAAD,EAAgBC,UAAhB,EAA4B9Y,QAA5B,EAAyC;AAC9C,uBAAI,CAACiY,cAAL,CAAoBvnB,IAApB,CAAyB;AAAEmoB,+BAAa,EAAbA,aAAF;AAAiBC,4BAAU,EAAVA,UAAjB;AAA6B9Y,0BAAQ,EAARA;AAA7B,iBAAzB;AACH,eA9C4B;AA+C7BiZ,2BAAa,EAAE,uBAACJ,aAAD,EAAgBC,UAAhB,EAA4B9Y,QAA5B,EAAyC;AACpD,uBAAI,CAACkY,oBAAL,CAA0BxnB,IAA1B,CAA+B;AAAEmoB,+BAAa,EAAbA,aAAF;AAAiBC,4BAAU,EAAVA,UAAjB;AAA6B9Y,0BAAQ,EAARA;AAA7B,iBAA/B;AACH,eAjD4B;AAkD7BkZ,0BAAY,EAAE,sBAACL,aAAD,EAAgBC,UAAhB,EAA4B9Y,QAA5B,EAAyC;AACnD,uBAAI,CAACmY,mBAAL,CAAyBznB,IAAzB,CAA8B;AAAEmoB,+BAAa,EAAbA,aAAF;AAAiBC,4BAAU,EAAVA,UAAjB;AAA6B9Y,0BAAQ,EAARA;AAA7B,iBAA9B;AACH,eApD4B;AAqD7BmZ,qBAAO,EAAE,iBAACN,aAAD,EAAgBC,UAAhB,EAA4B9Y,QAA5B,EAAyC;AAC9C,uBAAI,CAAC6X,cAAL,CAAoBnnB,IAApB,CAAyB;AAAEmoB,+BAAa,EAAbA,aAAF;AAAiBC,4BAAU,EAAVA,UAAjB;AAA6B9Y,0BAAQ,EAARA;AAA7B,iBAAzB;AACH,eAvD4B;AAwD7BoZ,2BAAa,EAAE,uBAACP,aAAD,EAAgBC,UAAhB,EAA4B9Y,QAA5B,EAAyC;AACpD,uBAAI,CAAC+X,oBAAL,CAA0BrnB,IAA1B,CAA+B;AAAEmoB,+BAAa,EAAbA,aAAF;AAAiBC,4BAAU,EAAVA,UAAjB;AAA6B9Y,0BAAQ,EAARA;AAA7B,iBAA/B;AACH,eA1D4B;AA2D7BqZ,yBAAW,EAAE,qBAACR,aAAD,EAAgBC,UAAhB,EAA4B9Y,QAA5B,EAAsCsZ,UAAtC,EAAqD;AAC9D,uBAAI,CAAClB,kBAAL,CAAwB1nB,IAAxB,CAA6B;AACzBmoB,+BAAa,EAAbA,aADyB;AAEzBC,4BAAU,EAAVA,UAFyB;AAGzB9Y,0BAAQ,EAARA,QAHyB;AAIzBsZ,4BAAU,EAAVA;AAJyB,iBAA7B;AAMH;AAlE4B,aAAjC;AAoEAn2B,kBAAM,CAACuO,IAAP,CAAYhN,OAAZ,EAAqB6L,OAArB,CAA6B,UAAAgD,GAAG,EAAI;AAChC,kBAAI,OAAO7O,OAAO,CAAC6O,GAAD,CAAd,KAAwB,WAA5B,EAAyC;AACrC7O,uBAAO,CAAC6O,GAAD,CAAP;AAAgB;AAAkB,uBAAI,CAACqkB,QAAxB,CAAmCrkB,GAAnC,CAAf;AACH;AACJ,aAJD;AAKA7O,mBAAO,CAAC60B,SAAR,GAAoB70B,OAAO,CAACsyB,QAA5B;AACA,iBAAKhX,QAAL;AAAgB;AAAkB,6DAAU,KAAKmH,GAAL,CAAS1c,aAAnB,EAAkC/F,OAAlC,CAAlC;AACA,iBAAK80B,gBAAL,CAAsB,KAAKnB,UAA3B;AACH;AACD;;;;;;;sCAIY9mB,O,EAAS;AAAA;;AACjB,gBAAI,KAAKyO,QAAT,EAAmB;AACf7c,oBAAM,CAACuO,IAAP,CAAYH,OAAZ,EAAqBhB,OAArB,CAA6B,UAAAkpB,QAAQ,EAAI;AACrC,uBAAI,CAACzZ,QAAL,CAAc4O,GAAd;AAAkB;AAAkB6K,wBAApC;AAAgD;AAAkB,uBAAnB,CAA0BA,QAA1B,CAA/C;AACH,eAFD;AAGH;AACJ;AACD;;;;;;wCAGc;AACV,iBAAKzZ,QAAL,CAAc9O,OAAd;AACH;AACD;;;;;;;qCAIW5N,K,EAAO;AACd;AAAI;AAAiBo2B,0BAAc,GAAGp2B,KAAtC;;AACA,gBAAI,KAAK+zB,iBAAL,IAA0B,KAAKV,IAAL,KAAc,OAAxC,IAAmDrzB,KAAvD,EAA8D;AAC1Do2B,4BAAc,GAAG,CAACp2B,KAAK,CAACoxB,IAAP,EAAapxB,KAAK,CAACq2B,EAAnB,CAAjB;AACH;;AACD,gBAAI,KAAK3Z,QAAT,EAAmB;AACf,mBAAKA,QAAL,CAAc9b,OAAd,CAAsBw1B,cAAtB;AACH,aAFD,MAGK;AACD;AACA,mBAAKjB,YAAL,GAAoBiB,cAApB;AACH;AACJ;AACD;;;;;;;2CAIiB/F,E,EAAI;AACjB,iBAAK2E,UAAL,GAAkB3E,EAAlB;AACH;AACD;;;;;;;4CAIkBA,E,EAAI;AAClB,iBAAK4E,WAAL,GAAmB5E,EAAnB;AACH;AACD;;;;;;;2CAIiB0E,U,EAAY;AACzB,iBAAKA,UAAL,GAAkBA,UAAlB;;AACA,gBAAI,KAAKrY,QAAT,EAAmB;AACf,kBAAI,KAAKqY,UAAT,EAAqB;AACjB,qBAAKruB,QAAL,CAAc4vB,WAAd,CAA0B,KAAK5Z,QAAL,CAAc6Z,MAAxC,EAAgD,UAAhD,EAA4D,UAA5D;AACH,eAFD,MAGK;AACD,qBAAK7vB,QAAL,CAAc8vB,eAAd,CAA8B,KAAK9Z,QAAL,CAAc6Z,MAA5C,EAAoD,UAApD;AACH;AACJ;AACJ;AACD;;;;;;yCAGe;AAAA;;AACX;AAAM;AAAiBv2B,iBAAK,GAAG,KAAK6jB,GAAL,CAAS1c,aAAT,CAAuBnH,KAAtD;;AACA,gBAAI,KAAK+zB,iBAAL,IAA0B,OAAO/zB,KAAP,KAAiB,QAA/C,EAAyD;AACrD,sBAAQ,KAAKqzB,IAAb;AACI,qBAAK,UAAL;AACI;AAAM;AAAiBoD,uBAAK,GAAGz2B,KAAK,CAC/BsW,KAD0B,CACpB,IADoB,EAE1B/C,GAF0B,CAEtB,UAAApB,GAAG;AAAA,2BAAI,OAAI,CAACuK,QAAL,CAAc0Y,SAAd,CAAwBjjB,GAAxB,EAA6B,OAAI,CAACuK,QAAL,CAAciJ,MAAd,CAAqB4M,UAAlD,EAA8D,CAAC,OAAI,CAAC7V,QAAL,CAAciJ,MAAd,CAAqBkN,UAApF,CAAJ;AAAA,mBAFmB,CAA/B;AAGA,uBAAKmC,UAAL,CAAgByB,KAAhB;AACA;;AACJ,qBAAK,OAAL;AAAA,yCACuBz2B,KAAK,CACnBsW,KADc,CACR,KAAKoG,QAAL,CAAcga,IAAd,CAAmBC,cADX,EAEdpjB,GAFc,CAEV,UAAApB,GAAG;AAAA,2BAAI,OAAI,CAACuK,QAAL,CAAc0Y,SAAd,CAAwBjjB,GAAxB,EAA6B,OAAI,CAACuK,QAAL,CAAciJ,MAAd,CAAqB4M,UAAlD,EAA8D,CAAC,OAAI,CAAC7V,QAAL,CAAciJ,MAAd,CAAqBkN,UAApF,CAAJ;AAAA,mBAFO,CADvB;AAAA;AAAA,sBACWzB,IADX;AAAA,sBACiBiF,EADjB;;AAII,uBAAKrB,UAAL,CAAgB;AAAE5D,wBAAI,EAAJA,IAAF;AAAQiF,sBAAE,EAAFA;AAAR,mBAAhB;AACA;;AACJ,qBAAK,QAAL;AACA;AACI,uBAAKrB,UAAL,CAAgB,KAAKtY,QAAL,CAAc0Y,SAAd,CAAwBp1B,KAAxB,EAA+B,KAAK0c,QAAL,CAAciJ,MAAd,CAAqB4M,UAApD,EAAgE,CAAC,KAAK7V,QAAL,CAAciJ,MAAd,CAAqBkN,UAAtF,CAAhB;AAfR;AAiBH,aAlBD,MAmBK;AACD,mBAAKmC,UAAL,CAAgBh1B,KAAhB;AACH;AACJ;;;;;;AAELo0B,wBAAkB,CAACluB,UAAnB,GAAgC,CAC5B;AAAErE,YAAI,EAAE,uDAAR;AAAmB8B,YAAI,EAAE,CAAC;AACdkE,kBAAQ,EAAE,gBADI;AAEdge,mBAAS,EAAE,CAACoO,gCAAD,CAFG;AAGdtL,cAAI,EAAE;AACF;AACA,sBAAU;AAFR;AAHQ,SAAD;AAAzB,OAD4B,CAAhC;AAUA;;AACAyL,wBAAkB,CAACtsB,cAAnB,GAAoC;AAAA,eAAM,CACtC;AAAEjG,cAAI,EAAE;AAAR,SADsC,EAEtC;AAAEA,cAAI,EAAEkwB;AAAR,SAFsC,EAGtC;AAAElwB,cAAI,EAAE;AAAR,SAHsC,CAAN;AAAA,OAApC;;AAKAuyB,wBAAkB,CAACrsB,cAAnB,GAAoC;AAChCiqB,iBAAS,EAAE,CAAC;AAAEnwB,cAAI,EAAE;AAAR,SAAD,CADqB;AAEhCowB,gBAAQ,EAAE,CAAC;AAAEpwB,cAAI,EAAE;AAAR,SAAD,CAFsB;AAGhCqwB,qBAAa,EAAE,CAAC;AAAErwB,cAAI,EAAE;AAAR,SAAD,CAHiB;AAIhCswB,kBAAU,EAAE,CAAC;AAAEtwB,cAAI,EAAE;AAAR,SAAD,CAJoB;AAKhCuwB,gBAAQ,EAAE,CAAC;AAAEvwB,cAAI,EAAE;AAAR,SAAD,CALsB;AAMhCwwB,sBAAc,EAAE,CAAC;AAAExwB,cAAI,EAAE;AAAR,SAAD,CANgB;AAOhCywB,kBAAU,EAAE,CAAC;AAAEzwB,cAAI,EAAE;AAAR,SAAD,CAPoB;AAQhC0wB,kBAAU,EAAE,CAAC;AAAE1wB,cAAI,EAAE;AAAR,SAAD,CARoB;AAShC2wB,mBAAW,EAAE,CAAC;AAAE3wB,cAAI,EAAE;AAAR,SAAD,CATmB;AAUhC4wB,qBAAa,EAAE,CAAC;AAAE5wB,cAAI,EAAE;AAAR,SAAD,CAViB;AAWhC6wB,eAAO,EAAE,CAAC;AAAE7wB,cAAI,EAAE;AAAR,SAAD,CAXuB;AAYhC8wB,qBAAa,EAAE,CAAC;AAAE9wB,cAAI,EAAE;AAAR,SAAD,CAZiB;AAahC+wB,cAAM,EAAE,CAAC;AAAE/wB,cAAI,EAAE;AAAR,SAAD,CAbwB;AAchCgxB,kBAAU,EAAE,CAAC;AAAEhxB,cAAI,EAAE;AAAR,SAAD,CAdoB;AAehCixB,qBAAa,EAAE,CAAC;AAAEjxB,cAAI,EAAE;AAAR,SAAD,CAfiB;AAgBhCkxB,kBAAU,EAAE,CAAC;AAAElxB,cAAI,EAAE;AAAR,SAAD,CAhBoB;AAiBhCmxB,qBAAa,EAAE,CAAC;AAAEnxB,cAAI,EAAE;AAAR,SAAD,CAjBiB;AAkBhCoxB,cAAM,EAAE,CAAC;AAAEpxB,cAAI,EAAE;AAAR,SAAD,CAlBwB;AAmBhCqxB,eAAO,EAAE,CAAC;AAAErxB,cAAI,EAAE;AAAR,SAAD,CAnBuB;AAoBhCsxB,eAAO,EAAE,CAAC;AAAEtxB,cAAI,EAAE;AAAR,SAAD,CApBuB;AAqBhCuxB,uBAAe,EAAE,CAAC;AAAEvxB,cAAI,EAAE;AAAR,SAAD,CArBe;AAsBhCwxB,YAAI,EAAE,CAAC;AAAExxB,cAAI,EAAE;AAAR,SAAD,CAtB0B;AAuBhCyxB,iBAAS,EAAE,CAAC;AAAEzxB,cAAI,EAAE;AAAR,SAAD,CAvBqB;AAwBhC0xB,kBAAU,EAAE,CAAC;AAAE1xB,cAAI,EAAE;AAAR,SAAD,CAxBoB;AAyBhC0N,WAAG,EAAE,CAAC;AAAE1N,cAAI,EAAE;AAAR,SAAD,CAzB2B;AA0BhCuzB,iBAAS,EAAE,CAAC;AAAEvzB,cAAI,EAAE;AAAR,SAAD,CA1BqB;AA2BhC2xB,iBAAS,EAAE,CAAC;AAAE3xB,cAAI,EAAE;AAAR,SAAD,CA3BqB;AA4BhC4xB,6BAAqB,EAAE,CAAC;AAAE5xB,cAAI,EAAE;AAAR,SAAD,CA5BS;AA6BhCmyB,kBAAU,EAAE,CAAC;AAAEnyB,cAAI,EAAE;AAAR,SAAD,CA7BoB;AA8BhC,kBAAQ,CAAC;AAAEA,cAAI,EAAE;AAAR,SAAD,CA9BwB;AA+BhC6xB,gBAAQ,EAAE,CAAC;AAAE7xB,cAAI,EAAE;AAAR,SAAD,CA/BsB;AAgChC+xB,mBAAW,EAAE,CAAC;AAAE/xB,cAAI,EAAE;AAAR,SAAD,CAhCmB;AAiChCwzB,eAAO,EAAE,CAAC;AAAExzB,cAAI,EAAE;AAAR,SAAD,CAjCuB;AAkChCgyB,YAAI,EAAE,CAAC;AAAEhyB,cAAI,EAAE;AAAR,SAAD,CAlC0B;AAmChCiyB,eAAO,EAAE,CAAC;AAAEjyB,cAAI,EAAE;AAAR,SAAD,CAnCuB;AAoChC2gB,cAAM,EAAE,CAAC;AAAE3gB,cAAI,EAAE;AAAR,SAAD,CApCwB;AAqChCkyB,yBAAiB,EAAE,CAAC;AAAElyB,cAAI,EAAE;AAAR,SAAD,CArCa;AAsChC0yB,sBAAc,EAAE,CAAC;AAAE1yB,cAAI,EAAE;AAAR,SAAD,CAtCgB;AAuChC2yB,uBAAe,EAAE,CAAC;AAAE3yB,cAAI,EAAE;AAAR,SAAD,CAvCe;AAwChC4yB,4BAAoB,EAAE,CAAC;AAAE5yB,cAAI,EAAE;AAAR,SAAD,CAxCU;AAyChC6yB,qBAAa,EAAE,CAAC;AAAE7yB,cAAI,EAAE;AAAR,SAAD,CAzCiB;AA0ChC8yB,sBAAc,EAAE,CAAC;AAAE9yB,cAAI,EAAE;AAAR,SAAD,CA1CgB;AA2ChC+yB,4BAAoB,EAAE,CAAC;AAAE/yB,cAAI,EAAE;AAAR,SAAD,CA3CU;AA4ChCgzB,2BAAmB,EAAE,CAAC;AAAEhzB,cAAI,EAAE;AAAR,SAAD,CA5CW;AA6ChCizB,0BAAkB,EAAE,CAAC;AAAEjzB,cAAI,EAAE;AAAR,SAAD,CA7CY;AA8ChC+0B,oBAAY,EAAE,CAAC;AAAE/0B,cAAI,EAAE,0DAAR;AAAsB8B,cAAI,EAAE,CAAC,OAAD;AAA5B,SAAD;AA9CkB,OAApC;AAiDA;;;;;AAIA;AAAM;AAAiBkzB,mBAAa,GAAG,IAAI,4DAAJ,CAAmB,oBAAnB,CAAvC;AACA;;;;;AAIA,eAASC,eAAT,CAAyBC,YAAzB,EAAuC;AACnC;AAAM;AAAiBzC,gBAAQ,GAAG,IAAIvC,iBAAJ,EAAlC;AACAlyB,cAAM,CAACkL,MAAP,CAAcupB,QAAd,EAAwByC,YAAxB;AACA,eAAOzC,QAAP;AACH;;UACK0C,e;;;;;;;;AACF;;;;oCAIkC;AAAA,gBAAnBD,YAAmB,uEAAJ,EAAI;AAC9B,mBAAO;AACHnR,sBAAQ,EAAEoR,eADP;AAEHnR,uBAAS,EAAE,CACP;AACIqO,uBAAO,EAAE2C,aADb;AAEII,wBAAQ,EAAEF;AAFd,eADO,EAKP;AACI7C,uBAAO,EAAEnC,iBADb;AAEImF,0BAAU,EAAEJ,eAFhB;AAGIK,oBAAI,EAAE,CAACN,aAAD;AAHV,eALO;AAFR,aAAP;AAcH;;;;;;AAELG,qBAAe,CAAC9wB,UAAhB,GAA6B,CACzB;AAAErE,YAAI,EAAE,sDAAR;AAAkB8B,YAAI,EAAE,CAAC;AACbsO,sBAAY,EAAE,CAACmiB,kBAAD,CADD;AAEbr0B,iBAAO,EAAE,CAACq0B,kBAAD;AAFI,SAAD;AAAxB,OADyB,CAA7B;AAOA;;;;;AAKA;;;;AAOA;;;;;;;;;;;;;;;;;AClgBA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAI/zB,QAAQ,GAAI,SAAI,IAAI,SAAI,CAACA,QAAd,IAA2B,YAAY;AAClDA,gBAAQ,GAAGR,MAAM,CAACkL,MAAP,IAAiB,UAASqsB,CAAT,EAAY;AACpC,eAAK,IAAIC,CAAJ,EAAO1jB,CAAC,GAAG,CAAX,EAAczP,CAAC,GAAGT,SAAS,CAACC,MAAjC,EAAyCiQ,CAAC,GAAGzP,CAA7C,EAAgDyP,CAAC,EAAjD,EAAqD;AACjD0jB,aAAC,GAAG5zB,SAAS,CAACkQ,CAAD,CAAb;;AACA,iBAAK,IAAI2jB,CAAT,IAAcD,CAAd;AAAiB,kBAAIx3B,MAAM,CAACuS,SAAP,CAAiBmlB,cAAjB,CAAgChlB,IAAhC,CAAqC8kB,CAArC,EAAwCC,CAAxC,CAAJ,EACbF,CAAC,CAACE,CAAD,CAAD,GAAOD,CAAC,CAACC,CAAD,CAAR;AADJ;AAEH;;AACD,iBAAOF,CAAP;AACH,SAPD;;AAQA,eAAO/2B,QAAQ,CAACyD,KAAT,CAAe,IAAf,EAAqBL,SAArB,CAAP;AACH,OAVD;;AAWO,UAAI+zB,YAAJ;;AACP,OAAC,UAAUA,YAAV,EAAwB;AACrBA,oBAAY,CAACA,YAAY,CAAC,QAAD,CAAZ,GAAyB,CAA1B,CAAZ,GAA2C,QAA3C;AACAA,oBAAY,CAACA,YAAY,CAAC,QAAD,CAAZ,GAAyB,CAA1B,CAAZ,GAA2C,QAA3C;AACAA,oBAAY,CAACA,YAAY,CAAC,SAAD,CAAZ,GAA0B,CAA3B,CAAZ,GAA4C,SAA5C;AACAA,oBAAY,CAACA,YAAY,CAAC,WAAD,CAAZ,GAA4B,CAA7B,CAAZ,GAA8C,WAA9C;AACAA,oBAAY,CAACA,YAAY,CAAC,UAAD,CAAZ,GAA2B,CAA5B,CAAZ,GAA6C,UAA7C;AACAA,oBAAY,CAACA,YAAY,CAAC,QAAD,CAAZ,GAAyB,CAA1B,CAAZ,GAA2C,QAA3C;AACAA,oBAAY,CAACA,YAAY,CAAC,UAAD,CAAZ,GAA2B,CAA5B,CAAZ,GAA6C,UAA7C;AACH,OARD,EAQGA,YAAY,KAAKA,YAAY,GAAG,EAApB,CARf;;AASA,UAAIC,oBAAoB,GAAG,CACvBD,YAAY,CAACE,MADU,EAEvBF,YAAY,CAACG,QAFU,CAA3B;AAIA,UAAIC,YAAY,GAAG,CAAnB;AACA,UAAIC,YAAY,GAAG,EAAnB;AACA,UAAIxY,eAAe,GAAG,EAAtB;AACO,UAAIyY,cAAc,GAAG,KAAK,EAAL,GAAU,EAA/B;;AACP,eAASC,kBAAT,CAA4B/X,WAA5B,EAAyC3J,EAAzC,EAA6C;AACzC,YAAI2hB,SAAS,GAAG3hB,EAAE,CAAC2hB,SAAnB;AAAA,YAA8BC,OAAO,GAAG5hB,EAAE,CAAC4hB,OAA3C;AAAA,YAAoD3X,QAAQ,GAAGjK,EAAE,CAACiK,QAAlE;AAAA,YAA4E/B,SAAS,GAAGlI,EAAE,CAACkI,SAA3F;;AACA,YAAI+B,QAAQ,CAAC5c,MAAT,GAAkB,CAAtB,EAAyB;AACrB,iBAAO,CAAP;AACH;;AACD,YAAI4V,UAAU,GAAG0G,WAAW,CAAC1G,UAA7B;AAAA,YAAyCO,MAAM,GAAGmG,WAAW,CAACnG,MAA9D;AAAA,YAAsEV,OAAO,GAAG6G,WAAW,CAAC7G,OAA5F;AACA,YAAI+e,OAAO,GAAG5e,UAAU,CAAC0e,SAAD,EAAYC,OAAO,GAAG,CAAtB,CAAxB;AACA,YAAIlK,QAAQ,GAAGlU,MAAM,CAACme,SAAD,CAArB;AACA,YAAI/J,MAAM,GAAGpU,MAAM,CAACqe,OAAD,CAAnB;AACA,YAAIxX,MAAM,GAAG,CAAb,CATyC,CASzB;;AAChB,YAAIyX,OAAO,GAAGH,SAAd;;AACA,YAAII,OAAO,GAAG,SAAVA,OAAU,GAAY;AACtB,cAAI1Z,GAAG,GAAG7E,MAAM,CAACse,OAAD,CAAhB;;AACA,cAAI7X,QAAQ,CAAC+X,IAAT,CAAc,UAAUC,WAAV,EAAuB;AAAE,mBAAOA,WAAW,KAAK5Z,GAAvB;AAA6B,WAApE,CAAJ,EAA2E;AACvEgC,kBAAM,IAAI6X,wBAAwB,CAACvY,WAAD,EAAc;AAC5C+N,sBAAQ,EAAEA,QADkC;AAE5CE,oBAAM,EAAEA,MAFoC;AAG5CvP,iBAAG,EAAEA,GAHuC;AAI5CH,uBAAS,EAAEA,SAJiC;AAK5CyZ,uBAAS,EAAEA,SALiC;AAM5CE,qBAAO,EAAEA;AANmC,aAAd,CAAlC;AAQH;;AACDC,iBAAO,GAAGhf,OAAO,CAACgf,OAAD,EAAU,CAAV,CAAjB;AACH,SAbD;;AAcA,eAAOA,OAAO,GAAGD,OAAjB,EAA0B;AACtBE,iBAAO;AACV;;AACD,eAAO1X,MAAP;AACH;;AACD,eAAS6X,wBAAT,CAAkCvY,WAAlC,EAA+C3J,EAA/C,EAAmD;AAC/C,YAAIkI,SAAS,GAAGlI,EAAE,CAACkI,SAAnB;AAAA,YAA8BG,GAAG,GAAGrI,EAAE,CAACqI,GAAvC;AAAA,YAA4CqP,QAAQ,GAAG1X,EAAE,CAAC0X,QAA1D;AAAA,YAAoEE,MAAM,GAAG5X,EAAE,CAAC4X,MAAhF;AAAA,YAAwF+J,SAAS,GAAG3hB,EAAE,CAAC2hB,SAAvG;AAAA,YAAkHE,OAAO,GAAG7hB,EAAE,CAAC6hB,OAA/H;AACA,YAAIze,mBAAmB,GAAGuG,WAAW,CAACvG,mBAAtC;AAAA,YAA2DC,QAAQ,GAAGsG,WAAW,CAACtG,QAAlF;AAAA,YAA4FW,UAAU,GAAG2F,WAAW,CAAC3F,UAArH;;AACA,YAAIkE,SAAS,KAAK,SAAlB,EAA6B;AACzB,cAAIG,GAAG,KAAKqP,QAAZ,EAAsB;AAClB,mBAAOtU,mBAAmB,CAACC,QAAQ,CAACse,SAAD,CAAT,EAAsBA,SAAtB,CAAnB,GAAsD,CAA7D;AACH,WAFD,MAGK,IAAItZ,GAAG,KAAKuP,MAAZ,EAAoB;AACrB,mBAAOxU,mBAAmB,CAACye,OAAD,EAAU7d,UAAU,CAAC6d,OAAD,CAApB,CAAnB,GAAoD,CAA3D;AACH;AACJ;;AACD,eAAOJ,cAAP;AACH;;AACD,eAASU,oBAAT,CAA8BxY,WAA9B,EAA2C3J,EAA3C,EAA+C;AAC3C,YAAI9U,KAAK,GAAG8U,EAAE,CAAC9U,KAAf;AAAA,YAAsBmU,MAAM,GAAGW,EAAE,CAACX,MAAlC;AAAA,YAA0C+iB,eAAe,GAAGpiB,EAAE,CAACoiB,eAA/D;AAAA,YAAgFnY,QAAQ,GAAGjK,EAAE,CAACiK,QAA9F;AAAA,YAAwG/B,SAAS,GAAGlI,EAAE,CAACkI,SAAvH;AAAA,YAAkIma,eAAe,GAAGriB,EAAE,CAACqiB,eAAvJ;AACA,YAAIxe,GAAG,GAAG8F,WAAW,CAAC9F,GAAtB;AAAA,YAA2BT,mBAAmB,GAAGuG,WAAW,CAACvG,mBAA7D;AAAA,YAAkFN,OAAO,GAAG6G,WAAW,CAAC7G,OAAxG;AAAA,YAAiHO,QAAQ,GAAGsG,WAAW,CAACtG,QAAxI;AAAA,YAAkJH,gBAAgB,GAAGyG,WAAW,CAACzG,gBAAjL;AACA,YAAIgT,IAAI,GAAGuL,cAAX;AACA,YAAIa,KAAK,GAAGze,GAAG,CAAC,CAAC3Y,KAAK,CAAC4e,KAAP,EAAcsY,eAAd,CAAD,CAAf;;AACA,YAAIl3B,KAAK,CAAC2e,GAAV,EAAe;AACX,kBAAQ3B,SAAR;AACI,iBAAK,SAAL;AACIgO,kBAAI,GAAG9S,mBAAmB,CAAClY,KAAK,CAAC2e,GAAP,EAAYyY,KAAZ,CAA1B;AACA;;AACJ;AACIpM,kBAAI,GACAhT,gBAAgB,CAACJ,OAAO,CAACO,QAAQ,CAACnY,KAAK,CAAC2e,GAAP,CAAT,EAAsB,CAAtB,CAAR,EAAkCyY,KAAlC,CAAhB,GACIb,cAFR;AAGA;AARR;AAUH;;AACD,YAAIc,aAAa,GAAGljB,MAAM,GAAGoiB,cAA7B;AACA,YAAIe,WAAW,GAAGD,aAAa,GAAGrM,IAAlC,CAlB2C,CAmB3C;AACA;;AACA,YAAIuM,aAAa,GAAGJ,eAAe,GAAGZ,cAAtC;;AACA,YAAIe,WAAW,GAAGC,aAAlB,EAAiC;AAC7BvM,cAAI,GAAGuM,aAAa,GAAGF,aAAvB;AACH;;AACDrM,YAAI,IAAIwL,kBAAkB,CAAC/X,WAAD,EAAc;AACpCgY,mBAAS,EAAEW,KADyB;AAEpCV,iBAAO,EAAE1L,IAF2B;AAGpCjM,kBAAQ,EAAEA,QAH0B;AAIpC/B,mBAAS,EAAEA;AAJyB,SAAd,CAA1B;AAMA,eAAOgO,IAAI,GAAGuL,cAAd;AACH;;AACD,eAASiB,sBAAT,CAAgC/Y,WAAhC,EAA6C3J,EAA7C,EAAiD;AAC7C,YAAI9U,KAAK,GAAG8U,EAAE,CAAC9U,KAAf;AAAA,YAAsBk3B,eAAe,GAAGpiB,EAAE,CAACmE,WAA3C;AAAA,YAAwD8F,QAAQ,GAAGjK,EAAE,CAACiK,QAAtE;AAAA,YAAgF/B,SAAS,GAAGlI,EAAE,CAACkI,SAA/F;AACA,YAAIhF,gBAAgB,GAAGyG,WAAW,CAACzG,gBAAnC;AAAA,YAAqDc,UAAU,GAAG2F,WAAW,CAAC3F,UAA9E;AAAA,YAA0FZ,mBAAmB,GAAGuG,WAAW,CAACvG,mBAA5H;;AACA,YAAIlY,KAAK,CAAC4e,KAAN,GAAcsY,eAAlB,EAAmC;AAC/B,iBAAO,CAAP;AACH;;AACD,YAAI/iB,MAAM,GAAG,CAAb;;AACA,gBAAQ6I,SAAR;AACI,eAAK,MAAL;AACI7I,kBAAM,GACF6D,gBAAgB,CAACc,UAAU,CAAC9Y,KAAK,CAAC4e,KAAP,CAAX,EAA0BsY,eAA1B,CAAhB,GACIX,cAFR;AAGA;;AACJ,eAAK,SAAL;AACIpiB,kBAAM,GAAG+D,mBAAmB,CAAClY,KAAK,CAAC4e,KAAP,EAAcsY,eAAd,CAA5B;AACA;AARR;;AAUA/iB,cAAM,IAAIqiB,kBAAkB,CAAC/X,WAAD,EAAc;AACtCgY,mBAAS,EAAES,eAD2B;AAEtCR,iBAAO,EAAEviB,MAF6B;AAGtC4K,kBAAQ,EAAEA,QAH4B;AAItC/B,mBAAS,EAAEA;AAJ2B,SAAd,CAA5B;AAMA,eAAO5T,IAAI,CAAC2F,GAAL,CAASoF,MAAM,GAAGoiB,cAAlB,CAAP;AACH;;AACD,eAASkB,eAAT,CAAyBhZ,WAAzB,EAAsC3J,EAAtC,EAA0C;AACtC,YAAI9U,KAAK,GAAG8U,EAAE,CAAC9U,KAAf;AAAA,YAAsB03B,WAAW,GAAG5iB,EAAE,CAAC4iB,WAAvC;AAAA,YAAoDC,SAAS,GAAG7iB,EAAE,CAAC6iB,SAAnE;AACA,YAAIjf,YAAY,GAAG+F,WAAW,CAAC/F,YAA/B;AACA,YAAIkf,UAAU,GAAG53B,KAAK,CAAC4e,KAAvB;AACA,YAAIiZ,QAAQ,GAAG73B,KAAK,CAAC2e,GAAN,IAAa3e,KAAK,CAAC4e,KAAlC;;AACA,YAAIgZ,UAAU,GAAGF,WAAb,IAA4BE,UAAU,GAAGD,SAA7C,EAAwD;AACpD,iBAAO,IAAP;AACH;;AACD,YAAIE,QAAQ,GAAGH,WAAX,IAA0BG,QAAQ,GAAGF,SAAzC,EAAoD;AAChD,iBAAO,IAAP;AACH;;AACD,YAAIC,UAAU,GAAGF,WAAb,IAA4BG,QAAQ,GAAGF,SAA3C,EAAsD;AAClD,iBAAO,IAAP;AACH;;AACD,YAAIjf,YAAY,CAACkf,UAAD,EAAaF,WAAb,CAAZ,IACAhf,YAAY,CAACkf,UAAD,EAAaD,SAAb,CADhB,EACyC;AACrC,iBAAO,IAAP;AACH;;AACD,YAAIjf,YAAY,CAACmf,QAAD,EAAWH,WAAX,CAAZ,IACAhf,YAAY,CAACmf,QAAD,EAAWF,SAAX,CADhB,EACuC;AACnC,iBAAO,IAAP;AACH;;AACD,eAAO,KAAP;AACH;;AACM,eAASG,iBAAT,CAA2BrZ,WAA3B,EAAwC3J,EAAxC,EAA4C;AAC/C,YAAIwH,MAAM,GAAGxH,EAAE,CAACwH,MAAhB;AAAA,YAAwBob,WAAW,GAAG5iB,EAAE,CAAC4iB,WAAzC;AAAA,YAAsDC,SAAS,GAAG7iB,EAAE,CAAC6iB,SAArE;AACA,eAAOrb,MAAM,CAAC/Q,MAAP,CAAc,UAAUvL,KAAV,EAAiB;AAClC,iBAAOy3B,eAAe,CAAChZ,WAAD,EAAc;AAAEze,iBAAK,EAAEA,KAAT;AAAgB03B,uBAAW,EAAEA,WAA7B;AAA0CC,qBAAS,EAAEA;AAArD,WAAd,CAAtB;AACH,SAFM,CAAP;AAGH;;AACD,eAASI,UAAT,CAAoBtZ,WAApB,EAAiC3J,EAAjC,EAAqC;AACjC,YAAIsI,IAAI,GAAGtI,EAAE,CAACsI,IAAd;AAAA,YAAoBpI,EAAE,GAAGF,EAAE,CAACgR,WAA5B;AAAA,YAAyCA,WAAW,GAAG9Q,EAAE,KAAK,KAAK,CAAZ,GAAgBkhB,oBAAhB,GAAuClhB,EAA9F;AACA,YAAI8D,UAAU,GAAG2F,WAAW,CAAC3F,UAA7B;AAAA,YAAyCN,SAAS,GAAGiG,WAAW,CAACjG,SAAjE;AAAA,YAA4EF,MAAM,GAAGmG,WAAW,CAACnG,MAAjG;AACA,YAAI0f,KAAK,GAAGlf,UAAU,CAAC,IAAI/K,IAAJ,EAAD,CAAtB;AACA,YAAIoP,GAAG,GAAG7E,MAAM,CAAC8E,IAAD,CAAhB;AACA,eAAO;AACHA,cAAI,EAAEA,IADH;AAEHD,aAAG,EAAEA,GAFF;AAGH8a,gBAAM,EAAE7a,IAAI,GAAG4a,KAHZ;AAIHE,iBAAO,EAAE1f,SAAS,CAAC4E,IAAD,EAAO4a,KAAP,CAJf;AAKHG,kBAAQ,EAAE/a,IAAI,GAAG4a,KALd;AAMHI,mBAAS,EAAEtS,WAAW,CAACla,OAAZ,CAAoBuR,GAApB,IAA2B,CAAC;AANpC,SAAP;AAQH;;AACM,eAASwJ,iBAAT,CAA2BlI,WAA3B,EAAwC3J,EAAxC,EAA4C;AAC/C,YAAI+K,QAAQ,GAAG/K,EAAE,CAAC+K,QAAlB;AAAA,YAA4BC,YAAY,GAAGhL,EAAE,CAACgL,YAA9C;AAAA,YAA4D9K,EAAE,GAAGF,EAAE,CAACiK,QAApE;AAAA,YAA8EA,QAAQ,GAAG/J,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA9G;AAAA,YAAkH8Q,WAAW,GAAGhR,EAAE,CAACgR,WAAnI;AAAA,YAAgJ5Q,EAAE,GAAGJ,EAAE,CAACkL,SAAxJ;AAAA,YAAmKA,SAAS,GAAG9K,EAAE,KAAK,KAAK,CAAZ,GAAgBuJ,WAAW,CAACxF,WAAZ,CAAwB4G,QAAxB,EAAkC;AAAEC,sBAAY,EAAEA;AAAhB,SAAlC,CAAhB,GAAoF5K,EAAnQ;AAAA,YAAuQmjB,EAAE,GAAGvjB,EAAE,CAACmL,OAA/Q;AAAA,YAAwRA,OAAO,GAAGoY,EAAE,KAAK,KAAK,CAAZ,GAAgB5Z,WAAW,CAAC7G,OAAZ,CAAoBoI,SAApB,EAA+BqW,YAA/B,CAAhB,GAA+DgC,EAAjW;AACA,YAAIzgB,OAAO,GAAG6G,WAAW,CAAC7G,OAA1B;AAAA,YAAmCU,MAAM,GAAGmG,WAAW,CAACnG,MAAxD;AACA,YAAIwG,IAAI,GAAG,EAAX;AACA,YAAI1B,IAAI,GAAG4C,SAAX;;AACA,eAAO5C,IAAI,GAAG6C,OAAd,EAAuB;AACnB,cAAI,CAAClB,QAAQ,CAAC+X,IAAT,CAAc,UAAUzyB,CAAV,EAAa;AAAE,mBAAOiU,MAAM,CAAC8E,IAAD,CAAN,KAAiB/Y,CAAxB;AAA4B,WAAzD,CAAL,EAAiE;AAC7Dya,gBAAI,CAAC5L,IAAL,CAAU6kB,UAAU,CAACtZ,WAAD,EAAc;AAAErB,kBAAI,EAAEA,IAAR;AAAc0I,yBAAW,EAAEA;AAA3B,aAAd,CAApB;AACH;;AACD1I,cAAI,GAAGxF,OAAO,CAACwF,IAAD,EAAO,CAAP,CAAd;AACH;;AACD,eAAO0B,IAAP;AACH;;AACM,eAASwZ,iCAAT,CAA2C7Z,WAA3C,EAAwD3J,EAAxD,EAA4D;AAC/D,YAAIyjB,KAAK,GAAGzjB,EAAE,CAACyjB,KAAf;AAAA,YAAsBC,KAAK,GAAG1jB,EAAE,CAAC0jB,KAAjC;AAAA,YAAwCzZ,QAAQ,GAAGjK,EAAE,CAACiK,QAAtD;AACA,YAAI3B,IAAI,GAAGmb,KAAX;AACA,YAAIlN,IAAI,GAAG,CAAX;;AACA,eAAOjO,IAAI,GAAGob,KAAd,EAAqB;AACjB,cAAIzZ,QAAQ,CAACnT,OAAT,CAAiB6S,WAAW,CAACnG,MAAZ,CAAmB8E,IAAnB,CAAjB,MAA+C,CAAC,CAApD,EAAuD;AACnDiO,gBAAI;AACP;;AACDjO,cAAI,GAAGqB,WAAW,CAAC7G,OAAZ,CAAoBwF,IAApB,EAA0B,CAA1B,CAAP;AACH;;AACD,eAAOiO,IAAP;AACH;;AACD,eAASoN,mBAAT,CAA6Bha,WAA7B,EAA0C3J,EAA1C,EAA8C;AAC1C,YAAIwH,MAAM,GAAGxH,EAAE,CAACwH,MAAhB;AAAA,YAAwByC,QAAQ,GAAGjK,EAAE,CAACiK,QAAtC;AAAA,YAAgD/B,SAAS,GAAGlI,EAAE,CAACkI,SAA/D;AAAA,YAA0EuP,wBAAwB,GAAGzX,EAAE,CAACyX,wBAAxG;AAAA,YAAkIvM,SAAS,GAAGlL,EAAE,CAACkL,SAAjJ;AAAA,YAA4JC,OAAO,GAAGnL,EAAE,CAACmL,OAAzK;AAAA,YAAkLyY,cAAc,GAAG5jB,EAAE,CAAC4jB,cAAtM;AACA,YAAIxgB,mBAAmB,GAAGuG,WAAW,CAACvG,mBAAtC;AAAA,YAA2DF,gBAAgB,GAAGyG,WAAW,CAACzG,gBAA1F;AACA,YAAI2gB,QAAQ,GAAGL,iCAAiC,CAAC7Z,WAAD,EAAc;AAC1D8Z,eAAK,EAAEvY,SADmD;AAE1DwY,eAAK,EAAEvY,OAFmD;AAG1DlB,kBAAQ,EAAEA;AAHgD,SAAd,CAAhD;AAKA,YAAIoY,eAAe,GAAGnf,gBAAgB,CAACiI,OAAD,EAAUD,SAAV,CAAhB,GAAuC,CAA7D;AACA,YAAI4Y,YAAY,GAAGF,cAAc,CAC5BntB,MADc,CACP,UAAUvL,KAAV,EAAiB;AAAE,iBAAOA,KAAK,CAAC0f,MAAb;AAAsB,SADlC,EAEd1N,GAFc,CAEV,UAAUhS,KAAV,EAAiB;AACtB,cAAImU,MAAM,GAAGqjB,sBAAsB,CAAC/Y,WAAD,EAAc;AAC7Cze,iBAAK,EAAEA,KADsC;AAE7CiZ,uBAAW,EAAE+G,SAFgC;AAG7CjB,oBAAQ,EAAEA,QAHmC;AAI7C/B,qBAAS,EAAEA;AAJkC,WAAd,CAAnC;AAMA,cAAIgO,IAAI,GAAGiM,oBAAoB,CAACxY,WAAD,EAAc;AACzCze,iBAAK,EAAEA,KADkC;AAEzCmU,kBAAM,EAAEA,MAFiC;AAGzC+iB,2BAAe,EAAElX,SAHwB;AAIzCjB,oBAAQ,EAAEA,QAJ+B;AAKzC/B,qBAAS,EAAEA,SAL8B;AAMzCma,2BAAe,EAAEA;AANwB,WAAd,CAA/B;AAQA,iBAAO;AAAEn3B,iBAAK,EAAEA,KAAT;AAAgBmU,kBAAM,EAAEA,MAAxB;AAAgC6W,gBAAI,EAAEA;AAAtC,WAAP;AACH,SAlBkB,EAmBdzf,MAnBc,CAmBP,UAAUlH,CAAV,EAAa;AAAE,iBAAOA,CAAC,CAAC8P,MAAF,GAAWwkB,QAAlB;AAA6B,SAnBrC,EAoBdptB,MApBc,CAoBP,UAAUlH,CAAV,EAAa;AAAE,iBAAOA,CAAC,CAAC2mB,IAAF,GAAS,CAAhB;AAAoB,SApB5B,EAqBdhZ,GArBc,CAqBV,UAAU6mB,KAAV,EAAiB;AAAE,iBAAQ;AAChC74B,iBAAK,EAAE64B,KAAK,CAAC74B,KADmB;AAEhCmU,kBAAM,EAAE0kB,KAAK,CAAC1kB,MAFkB;AAGhC6W,gBAAI,EAAE6N,KAAK,CAAC7N,IAHoB;AAIhC8N,4BAAgB,EAAED,KAAK,CAAC74B,KAAN,CAAY4e,KAAZ,GAAoBoB,SAJN;AAKhC+Y,yBAAa,EAAE,CAACF,KAAK,CAAC74B,KAAN,CAAY2e,GAAZ,IAAmBka,KAAK,CAAC74B,KAAN,CAAY4e,KAAhC,IAAyCqB;AALxB,WAAR;AAMvB,SA3Bc,EA4Bd+Y,IA5Bc,CA4BT,UAAUC,KAAV,EAAiBC,KAAjB,EAAwB;AAC9B,cAAIC,gBAAgB,GAAGjhB,mBAAmB,CAAC+gB,KAAK,CAACj5B,KAAN,CAAY4e,KAAb,EAAoBsa,KAAK,CAACl5B,KAAN,CAAY4e,KAAhC,CAA1C;;AACA,cAAIua,gBAAgB,KAAK,CAAzB,EAA4B;AACxB,mBAAOjhB,mBAAmB,CAACghB,KAAK,CAACl5B,KAAN,CAAY2e,GAAZ,IAAmBua,KAAK,CAACl5B,KAAN,CAAY4e,KAAhC,EAAuCqa,KAAK,CAACj5B,KAAN,CAAY2e,GAAZ,IAAmBsa,KAAK,CAACj5B,KAAN,CAAY4e,KAAtE,CAA1B;AACH;;AACD,iBAAOua,gBAAP;AACH,SAlCkB,CAAnB;AAmCA,YAAIC,eAAe,GAAG,EAAtB;AACA,YAAIC,eAAe,GAAG,EAAtB;AACAT,oBAAY,CAACltB,OAAb,CAAqB,UAAU1L,KAAV,EAAiBsT,KAAjB,EAAwB;AACzC,cAAI+lB,eAAe,CAACztB,OAAhB,CAAwB5L,KAAxB,MAAmC,CAAC,CAAxC,EAA2C;AACvCq5B,2BAAe,CAACnmB,IAAhB,CAAqBlT,KAArB;AACA,gBAAIs5B,SAAS,GAAGt5B,KAAK,CAACgrB,IAAN,GAAahrB,KAAK,CAACmU,MAAnC;AACA,gBAAIolB,cAAc,GAAGX,YAAY,CAC5B9mB,KADgB,CACVwB,KAAK,GAAG,CADE,EAEhB/H,MAFgB,CAET,UAAUiuB,SAAV,EAAqB;AAC7B,kBAAIA,SAAS,CAACrlB,MAAV,IAAoBmlB,SAApB,IACAA,SAAS,GAAGE,SAAS,CAACxO,IAAtB,IAA8BmM,eAD9B,IAEAkC,eAAe,CAACztB,OAAhB,CAAwB4tB,SAAxB,MAAuC,CAAC,CAF5C,EAE+C;AAC3C,oBAAIC,eAAe,GAAGD,SAAS,CAACrlB,MAAV,GAAmBmlB,SAAzC;;AACA,oBAAI,CAAC/M,wBAAL,EAA+B;AAC3BiN,2BAAS,CAACrlB,MAAV,GAAmBslB,eAAnB;AACH;;AACDH,yBAAS,IAAIE,SAAS,CAACxO,IAAV,GAAiByO,eAA9B;AACAJ,+BAAe,CAACnmB,IAAhB,CAAqBsmB,SAArB;AACA,uBAAO,IAAP;AACH;AACJ,aAdoB,CAArB;AAeA,gBAAIE,UAAU,GAAG,CAAC15B,KAAD,EAAQ+S,MAAR,CAAewmB,cAAf,CAAjB;AACA,gBAAIpf,EAAE,GAAGuf,UAAU,CACdnuB,MADI,CACG,UAAUqS,SAAV,EAAqB;AAAE,qBAAOA,SAAS,CAAC5d,KAAV,CAAgBma,EAAvB;AAA4B,aADtD,EAEJnI,GAFI,CAEA,UAAU4L,SAAV,EAAqB;AAAE,qBAAOA,SAAS,CAAC5d,KAAV,CAAgBma,EAAvB;AAA4B,aAFnD,EAGJ2H,IAHI,CAGC,GAHD,CAAT;AAIAsX,2BAAe,CAAClmB,IAAhB,CAAqBpU,QAAQ,CAAC;AAAEyqB,iBAAG,EAAEmQ;AAAP,aAAD,EAAuBvf,EAAE,GAAG;AAAEA,gBAAE,EAAEA;AAAN,aAAH,GAAgB,EAAzC,CAA7B;AACH;AACJ,SA1BD;AA2BA,eAAOif,eAAP;AACH;;AACD,eAASO,mBAAT,CAA6Blb,WAA7B,EAA0C3J,EAA1C,EAA8C;AAC1C,YAAIwH,MAAM,GAAGxH,EAAE,CAACwH,MAAhB;AAAA,YAAwBuD,QAAQ,GAAG/K,EAAE,CAAC+K,QAAtC;AAAA,YAAgD7B,YAAY,GAAGlJ,EAAE,CAACkJ,YAAlE;AAAA,YAAgFwO,QAAQ,GAAG1X,EAAE,CAAC0X,QAA9F;AAAA,YAAwGE,MAAM,GAAG5X,EAAE,CAAC4X,MAApH;AAAA,YAA4H5M,YAAY,GAAGhL,EAAE,CAACgL,YAA9I;AAAA,YAA4Jf,QAAQ,GAAGjK,EAAE,CAACiK,QAA1K;AAAA,YAAoL+G,WAAW,GAAGhR,EAAE,CAACgR,WAArM;AAAA,YAAkN6G,aAAa,GAAG7X,EAAE,CAAC6X,aAArO;AAAA,YAAoP3M,SAAS,GAAGlL,EAAE,CAACkL,SAAnQ;AAAA,YAA8QC,OAAO,GAAGnL,EAAE,CAACmL,OAA3R;AACA,YAAI2Z,eAAe,GAAGC,kBAAkB,CAACpb,WAAD,EAAc;AAClDoB,kBAAQ,EAAEA,QADwC;AAElD7B,sBAAY,EAAEA,YAFoC;AAGlDwO,kBAAQ,EAAEA,QAHwC;AAIlDE,gBAAM,EAAEA;AAJ0C,SAAd,CAAxC;AAMA,YAAIoN,QAAQ,GAAGnT,iBAAiB,CAAClI,WAAD,EAAc;AAC1CoB,kBAAQ,EAAEA,QADgC;AAE1CC,sBAAY,EAAEA,YAF4B;AAG1Cf,kBAAQ,EAAEA,QAHgC;AAI1C+G,qBAAW,EAAEA,WAJ6B;AAK1C9F,mBAAS,EAAEA,SAL+B;AAM1CC,iBAAO,EAAEA;AANiC,SAAd,CAAhC;AAQA,YAAIrH,QAAQ,GAAG6F,WAAW,CAAC7F,QAA3B;AAAA,YAAqCC,UAAU,GAAG4F,WAAW,CAAC5F,UAA9D;AAAA,YAA0EK,QAAQ,GAAGuF,WAAW,CAACvF,QAAjG;AAAA,YAA2GC,UAAU,GAAGsF,WAAW,CAACtF,UAApI;AACA,eAAO2gB,QAAQ,CAAC9nB,GAAT,CAAa,UAAUmL,GAAV,EAAe;AAC/B,cAAI4c,OAAO,GAAGC,UAAU,CAACvb,WAAD,EAAc;AAClCnC,kBAAM,EAAEA,MAD0B;AAElCuD,oBAAQ,EAAE1C,GAAG,CAACC,IAFoB;AAGlCY,wBAAY,EAAEA,YAHoB;AAIlCwO,oBAAQ,EAAEA,QAJwB;AAKlCE,kBAAM,EAAEA,MAL0B;AAMlCC,yBAAa,EAAEA,aANmB;AAOlCsN,sBAAU,EAAE;AAPsB,WAAd,CAAxB;AASA,cAAI5Q,KAAK,GAAGuQ,eAAe,CAAC5nB,GAAhB,CAAoB,UAAUyL,IAAV,EAAgB;AAC5C,gBAAIC,QAAQ,GAAGD,IAAI,CAACC,QAAL,CAAc1L,GAAd,CAAkB,UAAUuL,OAAV,EAAmB;AAChD,kBAAIH,IAAI,GAAGvE,UAAU,CAACD,QAAQ,CAACuE,GAAG,CAACC,IAAL,EAAWlE,QAAQ,CAACqE,OAAO,CAACH,IAAT,CAAnB,CAAT,EAA6CjE,UAAU,CAACoE,OAAO,CAACH,IAAT,CAAvD,CAArB;AACA,qBAAOte,QAAQ,CAAC,EAAD,EAAKye,OAAL,EAAc;AAAEH,oBAAI,EAAEA;AAAR,eAAd,CAAf;AACH,aAHc,CAAf;AAIA,mBAAOte,QAAQ,CAAC,EAAD,EAAK2e,IAAL,EAAW;AAAEC,sBAAQ,EAAEA;AAAZ,aAAX,CAAf;AACH,WANW,CAAZ;;AAOA,mBAASwc,cAAT,CAAwBC,SAAxB,EAAmCC,qBAAnC,EAA0D;AACtD,gBAAIC,WAAW,GAAGjxB,IAAI,CAACuP,GAAL,CAASpW,KAAT,CAAe6G,IAAf,EAAqBgxB,qBAAqB,CAACpoB,GAAtB,CAA0B,UAAUsoB,MAAV,EAAkB;AAAE,qBAAOA,MAAM,CAAC/2B,IAAP,GAAc,CAArB;AAAyB,aAAvE,CAArB,CAAlB;AACA,gBAAIg3B,qBAAqB,GAAGJ,SAAS,CAChC5uB,MADuB,CAChB,UAAU+uB,MAAV,EAAkB;AAAE,qBAAOA,MAAM,CAAC/2B,IAAP,IAAe82B,WAAtB;AAAoC,aADxC,EAEvB9uB,MAFuB,CAEhB,UAAU+uB,MAAV,EAAkB;AAC1B,qBAAQE,4BAA4B,CAACJ,qBAAD,EAAwBE,MAAM,CAACj3B,GAA/B,EAAoCi3B,MAAM,CAACj3B,GAAP,GAAai3B,MAAM,CAACz2B,MAAxD,CAA5B,CAA4F1B,MAA5F,GAAqG,CAA7G;AACH,aAJ2B,CAA5B;;AAKA,gBAAIo4B,qBAAqB,CAACp4B,MAAtB,GAA+B,CAAnC,EAAsC;AAClC,qBAAO+3B,cAAc,CAACC,SAAD,EAAYI,qBAAZ,CAArB;AACH,aAFD,MAGK;AACD,qBAAOF,WAAP;AACH;AACJ;;AACD,cAAII,YAAY,GAAGV,OAAO,CAACzd,MAAR,CAAetK,GAAf,CAAmB,UAAUhS,KAAV,EAAiB;AACnD,gBAAIq6B,WAAW,GAAGH,cAAc,CAACH,OAAO,CAACzd,MAAT,EAAiBke,4BAA4B,CAACT,OAAO,CAACzd,MAAT,EAAiBtc,KAAK,CAACqD,GAAvB,EAA4BrD,KAAK,CAACqD,GAAN,GAAYrD,KAAK,CAAC6D,MAA9C,CAA7C,CAAhC;AACA,gBAAID,KAAK,GAAG,MAAMy2B,WAAlB;AACA,mBAAOv7B,QAAQ,CAAC,EAAD,EAAKkB,KAAL,EAAY;AAAEuD,kBAAI,EAAEvD,KAAK,CAACuD,IAAN,GAAaK,KAArB;AAA4BA,mBAAK,EAAEA;AAAnC,aAAZ,CAAf;AACH,WAJkB,CAAnB;AAKA,iBAAO;AACHylB,iBAAK,EAAEA,KADJ;AAEHjM,gBAAI,EAAED,GAAG,CAACC,IAFP;AAGHd,kBAAM,EAAEme,YAAY,CAACzoB,GAAb,CAAiB,UAAUhS,KAAV,EAAiB;AACtC,kBAAI06B,iBAAiB,GAAGF,4BAA4B,CAACC,YAAY,CAAClvB,MAAb,CAAoB,UAAUovB,UAAV,EAAsB;AAAE,uBAAOA,UAAU,CAACp3B,IAAX,GAAkBvD,KAAK,CAACuD,IAA/B;AAAsC,eAAlF,CAAD,EAAsFvD,KAAK,CAACqD,GAA5F,EAAiGrD,KAAK,CAACqD,GAAN,GAAYrD,KAAK,CAAC6D,MAAnH,CAApD;;AACA,kBAAI62B,iBAAiB,CAACv4B,MAAlB,GAA2B,CAA/B,EAAkC;AAC9B,uBAAOrD,QAAQ,CAAC,EAAD,EAAKkB,KAAL,EAAY;AAAE4D,uBAAK,EAAEwF,IAAI,CAACkmB,GAAL,CAAS/sB,KAAT,CAAe6G,IAAf,EAAqBsxB,iBAAiB,CAAC1oB,GAAlB,CAAsB,UAAU2oB,UAAV,EAAsB;AAAE,2BAAOA,UAAU,CAACp3B,IAAlB;AAAyB,mBAAvE,CAArB,IAAiGvD,KAAK,CAACuD;AAAhH,iBAAZ,CAAf;AACH;;AACD,qBAAOvD,KAAP;AACH,aANO;AAHL,WAAP;AAWH,SA/CM,CAAP;AAgDH;;AACM,eAASyqB,WAAT,CAAqBhM,WAArB,EAAkC3J,EAAlC,EAAsC;AACzC,YAAIE,EAAE,GAAGF,EAAE,CAACwH,MAAZ;AAAA,YAAoBA,MAAM,GAAGtH,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAAlD;AAAA,YAAsD6K,QAAQ,GAAG/K,EAAE,CAAC+K,QAApE;AAAA,YAA8EC,YAAY,GAAGhL,EAAE,CAACgL,YAAhG;AAAA,YAA8G5K,EAAE,GAAGJ,EAAE,CAACiK,QAAtH;AAAA,YAAgIA,QAAQ,GAAG7J,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAAhK;AAAA,YAAoKmjB,EAAE,GAAGvjB,EAAE,CAACkI,SAA5K;AAAA,YAAuLA,SAAS,GAAGqb,EAAE,KAAK,KAAK,CAAZ,GAAgB,MAAhB,GAAyBA,EAA5N;AAAA,YAAgOuC,EAAE,GAAG9lB,EAAE,CAACyX,wBAAxO;AAAA,YAAkQA,wBAAwB,GAAGqO,EAAE,KAAK,KAAK,CAAZ,GAAgB,KAAhB,GAAwBA,EAArT;AAAA,YAAyT5c,YAAY,GAAGlJ,EAAE,CAACkJ,YAA3U;AAAA,YAAyVwO,QAAQ,GAAG1X,EAAE,CAAC0X,QAAvW;AAAA,YAAiXE,MAAM,GAAG5X,EAAE,CAAC4X,MAA7X;AAAA,YAAqY5G,WAAW,GAAGhR,EAAE,CAACgR,WAAtZ;AAAA,YAAma6G,aAAa,GAAG7X,EAAE,CAAC6X,aAAtb;AAAA,YAAqckO,EAAE,GAAG/lB,EAAE,CAACkL,SAA7c;AAAA,YAAwdA,SAAS,GAAG6a,EAAE,KAAK,KAAK,CAAZ,GAAgBpc,WAAW,CAACxF,WAAZ,CAAwB4G,QAAxB,EAAkC;AAAEC,sBAAY,EAAEA;AAAhB,SAAlC,CAAhB,GAAoF+a,EAAxjB;AAAA,YAA4jBC,EAAE,GAAGhmB,EAAE,CAACmL,OAApkB;AAAA,YAA6kBA,OAAO,GAAG6a,EAAE,KAAK,KAAK,CAAZ,GAAgBrc,WAAW,CAACpG,SAAZ,CAAsBwH,QAAtB,EAAgC;AAAEC,sBAAY,EAAEA;AAAhB,SAAhC,CAAhB,GAAkFgb,EAAzqB;;AACA,YAAI,CAACxe,MAAL,EAAa;AACTA,gBAAM,GAAG,EAAT;AACH;;AACD,YAAIxD,UAAU,GAAG2F,WAAW,CAAC3F,UAA7B;AAAA,YAAyCX,QAAQ,GAAGsG,WAAW,CAACtG,QAAhE;AACA6H,iBAAS,GAAGlH,UAAU,CAACkH,SAAD,CAAtB;AACAC,eAAO,GAAG9H,QAAQ,CAAC8H,OAAD,CAAlB;AACA,YAAIyY,cAAc,GAAGZ,iBAAiB,CAACrZ,WAAD,EAAc;AAChDnC,gBAAM,EAAEA,MADwC;AAEhDob,qBAAW,EAAE1X,SAFmC;AAGhD2X,mBAAS,EAAE1X;AAHqC,SAAd,CAAtC;AAKA,YAAI8G,MAAM,GAAGJ,iBAAiB,CAAClI,WAAD,EAAc;AACxCoB,kBAAQ,EAAEA,QAD8B;AAExCC,sBAAY,EAAEA,YAF0B;AAGxCf,kBAAQ,EAAEA,QAH8B;AAIxC+G,qBAAW,EAAEA,WAJ2B;AAKxC9F,mBAAS,EAAEA,SAL6B;AAMxCC,iBAAO,EAAEA;AAN+B,SAAd,CAA9B;AAQA,eAAO;AACHmZ,yBAAe,EAAEX,mBAAmB,CAACha,WAAD,EAAc;AAC9CnC,kBAAM,EAAEA,MADsC;AAE9CyC,oBAAQ,EAAEA,QAFoC;AAG9C/B,qBAAS,EAAEA,SAHmC;AAI9CuP,oCAAwB,EAAEA,wBAJoB;AAK9CvM,qBAAS,EAAEA,SALmC;AAM9CC,mBAAO,EAAEA,OANqC;AAO9CyY,0BAAc,EAAEA;AAP8B,WAAd,CADjC;AAUHnZ,gBAAM,EAAE;AACJjD,kBAAM,EAAEoc,cADJ;AAEJ9Z,iBAAK,EAAEmI,MAAM,CAAC,CAAD,CAAN,CAAU3J,IAFb;AAGJuB,eAAG,EAAExG,QAAQ,CAAC4O,MAAM,CAACA,MAAM,CAAC5kB,MAAP,GAAgB,CAAjB,CAAN,CAA0Bib,IAA3B;AAHT,WAVL;AAeHyO,qBAAW,EAAE8N,mBAAmB,CAAClb,WAAD,EAAc;AAC1CnC,kBAAM,EAAEA,MADkC;AAE1CuD,oBAAQ,EAAEA,QAFgC;AAG1C7B,wBAAY,EAAEA,YAH4B;AAI1CwO,oBAAQ,EAAEA,QAJgC;AAK1CE,kBAAM,EAAEA,MALkC;AAM1C5M,wBAAY,EAAEA,YAN4B;AAO1Cf,oBAAQ,EAAEA,QAPgC;AAQ1C+G,uBAAW,EAAEA,WAR6B;AAS1C6G,yBAAa,EAAEA,aAT2B;AAU1C3M,qBAAS,EAAEA,SAV+B;AAW1CC,mBAAO,EAAEA;AAXiC,WAAd;AAf7B,SAAP;AA6BH;;AACM,eAAS2G,YAAT,CAAsBnI,WAAtB,EAAmC3J,EAAnC,EAAuC;AAC1C,YAAIE,EAAE,GAAGF,EAAE,CAACwH,MAAZ;AAAA,YAAoBA,MAAM,GAAGtH,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAAlD;AAAA,YAAsD6K,QAAQ,GAAG/K,EAAE,CAAC+K,QAApE;AAAA,YAA8EC,YAAY,GAAGhL,EAAE,CAACgL,YAAhG;AAAA,YAA8G5K,EAAE,GAAGJ,EAAE,CAACiK,QAAtH;AAAA,YAAgIA,QAAQ,GAAG7J,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAAhK;AAAA,YAAoKmjB,EAAE,GAAGvjB,EAAE,CAACkL,SAA5K;AAAA,YAAuLA,SAAS,GAAGqY,EAAE,KAAK,KAAK,CAAZ,GAAgB5Z,WAAW,CAACzF,YAAZ,CAAyB6G,QAAzB,CAAhB,GAAqDwY,EAAxP;AAAA,YAA4PuC,EAAE,GAAG9lB,EAAE,CAACmL,OAApQ;AAAA,YAA6QA,OAAO,GAAG2a,EAAE,KAAK,KAAK,CAAZ,GAAgBnc,WAAW,CAACrG,UAAZ,CAAuByH,QAAvB,CAAhB,GAAmD+a,EAA1U;AAAA,YAA8U9U,WAAW,GAAGhR,EAAE,CAACgR,WAA/V;;AACA,YAAI,CAACxJ,MAAL,EAAa;AACTA,gBAAM,GAAG,EAAT;AACH;;AACD,YAAIrD,WAAW,GAAGwF,WAAW,CAACxF,WAA9B;AAAA,YAA2CZ,SAAS,GAAGoG,WAAW,CAACpG,SAAnE;AAAA,YAA8EL,gBAAgB,GAAGyG,WAAW,CAACzG,gBAA7G;AAAA,YAA+Hc,UAAU,GAAG2F,WAAW,CAAC3F,UAAxJ;AAAA,YAAoKjB,QAAQ,GAAG4G,WAAW,CAAC5G,QAA3L;AAAA,YAAqMM,QAAQ,GAAGsG,WAAW,CAACtG,QAA5N;AAAA,YAAsOM,WAAW,GAAGgG,WAAW,CAAChG,WAAhQ;AAAA,YAA6QH,MAAM,GAAGmG,WAAW,CAACnG,MAAlS;AAAA,YAA0SC,QAAQ,GAAGkG,WAAW,CAAClG,QAAjU;AACA,YAAIqG,KAAK,GAAG3F,WAAW,CAAC+G,SAAD,EAAY;AAAEF,sBAAY,EAAEA;AAAhB,SAAZ,CAAvB;AACA,YAAInB,GAAG,GAAGtG,SAAS,CAAC4H,OAAD,EAAU;AAAEH,sBAAY,EAAEA;AAAhB,SAAV,CAAnB;AACA,YAAIib,aAAa,GAAGjD,iBAAiB,CAACrZ,WAAD,EAAc;AAC/CnC,gBAAM,EAAEA,MADuC;AAE/Cob,qBAAW,EAAE9Y,KAFkC;AAG/C+Y,mBAAS,EAAEhZ;AAHoC,SAAd,CAArC;AAKA,YAAIqc,eAAe,GAAG,EAAtB;AACA,YAAIC,YAAJ;;AACA,YAAIC,OAAO,GAAG,SAAVA,OAAU,CAAU9oB,CAAV,EAAa;AACvB;AACA,cAAIgL,IAAJ;;AACA,cAAI6d,YAAJ,EAAkB;AACd7d,gBAAI,GAAGtE,UAAU,CAACjB,QAAQ,CAACojB,YAAD,EAAe3E,YAAf,CAAT,CAAjB;;AACA,gBAAI2E,YAAY,CAACxhB,OAAb,OAA2B2D,IAAI,CAAC3D,OAAL,EAA/B,EAA+C;AAC3C;;AACA;AACA2D,kBAAI,GAAGtE,UAAU,CAACjB,QAAQ,CAACojB,YAAD,EAAe3E,YAAY,GAAG,CAA9B,CAAT,CAAjB;AACH;;AACD2E,wBAAY,GAAG7d,IAAf;AACH,WARD,MASK;AACDA,gBAAI,GAAG6d,YAAY,GAAGrc,KAAtB;AACH;;AACD,cAAI,CAACG,QAAQ,CAAC+X,IAAT,CAAc,UAAUzyB,CAAV,EAAa;AAAE,mBAAOiU,MAAM,CAAC8E,IAAD,CAAN,KAAiB/Y,CAAxB;AAA4B,WAAzD,CAAL,EAAiE;AAC7D,gBAAI8Y,GAAG,GAAG4a,UAAU,CAACtZ,WAAD,EAAc;AAC9BrB,kBAAI,EAAEA,IADwB;AAE9B0I,yBAAW,EAAEA;AAFiB,aAAd,CAApB;AAIA,gBAAI4S,cAAc,GAAGZ,iBAAiB,CAACrZ,WAAD,EAAc;AAChDnC,oBAAM,EAAEye,aADwC;AAEhDrD,yBAAW,EAAE5e,UAAU,CAACsE,IAAD,CAFyB;AAGhDua,uBAAS,EAAExf,QAAQ,CAACiF,IAAD;AAH6B,aAAd,CAAtC;AAKAD,eAAG,CAACge,OAAJ,GAAc1iB,WAAW,CAAC2E,IAAD,EAAOyC,QAAP,CAAzB;AACA1C,eAAG,CAACb,MAAJ,GAAaoc,cAAb;AACAvb,eAAG,CAAC8F,UAAJ,GAAiByV,cAAc,CAACv2B,MAAhC;AACA64B,2BAAe,CAAC9nB,IAAhB,CAAqBiK,GAArB;AACH;AACJ,SA9BD;;AA+BA,aAAK,IAAI/K,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4F,gBAAgB,CAAC2G,GAAD,EAAMC,KAAN,CAAhB,GAA+B,CAAnD,EAAsDxM,CAAC,EAAvD,EAA2D;AACvD8oB,iBAAO,CAAC9oB,CAAD,CAAP;AACH;;AACD,YAAI0M,IAAI,GAAG,EAAX;AACA,YAAI0G,sBAAsB,GAAG6Q,YAAY,GAAGtX,QAAQ,CAAC5c,MAArD;;AACA,YAAIqjB,sBAAsB,GAAG6Q,YAA7B,EAA2C;AACvC,eAAK,IAAIjkB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4oB,eAAe,CAAC74B,MAApC,EAA4CiQ,CAAC,IAAIoT,sBAAjD,EAAyE;AACrE,gBAAI+D,GAAG,GAAGyR,eAAe,CAAClpB,KAAhB,CAAsBM,CAAtB,EAAyBA,CAAC,GAAGoT,sBAA7B,CAAV;AACA,gBAAI4V,YAAY,GAAG7R,GAAG,CAACuN,IAAJ,CAAS,UAAU3Z,GAAV,EAAe;AAAE,qBAAO5E,QAAQ,CAAC4E,GAAG,CAACC,IAAL,CAAR,KAAuB7E,QAAQ,CAACsH,QAAD,CAAtC;AAAmD,aAA7E,CAAnB;;AACA,gBAAIub,YAAJ,EAAkB;AACdtc,kBAAI,GAAGA,IAAI,CAAC/L,MAAL,CAAYwW,GAAZ,CAAP;AACH;AACJ;AACJ,SARD,MASK;AACDzK,cAAI,GAAGkc,eAAP;AACH;;AACD,YAAIK,IAAI,GAAGjyB,IAAI,CAACwT,KAAL,CAAWkC,IAAI,CAAC3c,MAAL,GAAcqjB,sBAAzB,CAAX;AACA,YAAI8V,UAAU,GAAG,EAAjB;;AACA,aAAK,IAAIlpB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGipB,IAApB,EAA0BjpB,CAAC,EAA3B,EAA+B;AAC3BkpB,oBAAU,CAACpoB,IAAX,CAAgBd,CAAC,GAAGoT,sBAApB;AACH;;AACD,eAAO;AACH8V,oBAAU,EAAEA,UADT;AAEH9V,gCAAsB,EAAEA,sBAFrB;AAGH1G,cAAI,EAAEA,IAHH;AAIHS,gBAAM,EAAE;AACJX,iBAAK,EAAEE,IAAI,CAAC,CAAD,CAAJ,CAAQ1B,IADX;AAEJuB,eAAG,EAAExG,QAAQ,CAAC2G,IAAI,CAACA,IAAI,CAAC3c,MAAL,GAAc,CAAf,CAAJ,CAAsBib,IAAvB,CAFT;AAGJd,kBAAM,EAAEye;AAHJ;AAJL,SAAP;AAUH;;AACD,eAASP,4BAAT,CAAsCle,MAAtC,EAA8CjZ,GAA9C,EAAmDK,MAAnD,EAA2D;AACvD,eAAO4Y,MAAM,CAAC/Q,MAAP,CAAc,UAAUgwB,aAAV,EAAyB;AAC1C,cAAIC,gBAAgB,GAAGD,aAAa,CAACl4B,GAArC;AACA,cAAIo4B,mBAAmB,GAAGF,aAAa,CAACl4B,GAAd,GAAoBk4B,aAAa,CAAC13B,MAA5D;;AACA,cAAIR,GAAG,GAAGo4B,mBAAN,IAA6BA,mBAAmB,GAAG/3B,MAAvD,EAA+D;AAC3D,mBAAO,IAAP;AACH,WAFD,MAGK,IAAIL,GAAG,GAAGm4B,gBAAN,IAA0BA,gBAAgB,GAAG93B,MAAjD,EAAyD;AAC1D,mBAAO,IAAP;AACH,WAFI,MAGA,IAAI83B,gBAAgB,IAAIn4B,GAApB,IAA2BK,MAAM,IAAI+3B,mBAAzC,EAA8D;AAC/D,mBAAO,IAAP;AACH;;AACD,iBAAO,KAAP;AACH,SAbM,CAAP;AAcH;;AACD,eAASzB,UAAT,CAAoBvb,WAApB,EAAiC3J,EAAjC,EAAqC;AACjC,YAAIwH,MAAM,GAAGxH,EAAE,CAACwH,MAAhB;AAAA,YAAwBuD,QAAQ,GAAG/K,EAAE,CAAC+K,QAAtC;AAAA,YAAgD7B,YAAY,GAAGlJ,EAAE,CAACkJ,YAAlE;AAAA,YAAgFwO,QAAQ,GAAG1X,EAAE,CAAC0X,QAA9F;AAAA,YAAwGE,MAAM,GAAG5X,EAAE,CAAC4X,MAApH;AAAA,YAA4HuN,UAAU,GAAGnlB,EAAE,CAACmlB,UAA5I;AAAA,YAAwJtN,aAAa,GAAG7X,EAAE,CAAC6X,aAA3K;AACA,YAAI9T,UAAU,GAAG4F,WAAW,CAAC5F,UAA7B;AAAA,YAAyCD,QAAQ,GAAG6F,WAAW,CAAC7F,QAAhE;AAAA,YAA0EE,UAAU,GAAG2F,WAAW,CAAC3F,UAAnG;AAAA,YAA+GC,aAAa,GAAG0F,WAAW,CAAC1F,aAA3I;AAAA,YAA0JZ,QAAQ,GAAGsG,WAAW,CAACtG,QAAjL;AAAA,YAA2LF,mBAAmB,GAAGwG,WAAW,CAACxG,mBAA7N;AACA,YAAIyjB,WAAW,GAAG7iB,UAAU,CAACD,QAAQ,CAACE,UAAU,CAAC+G,QAAD,CAAX,EAAuB8b,aAAa,CAACnP,QAAQ,CAAC/O,IAAV,CAApC,CAAT,EAA+Dme,eAAe,CAACpP,QAAQ,CAACC,MAAV,CAA9E,CAA5B;AACA,YAAIoP,SAAS,GAAGhjB,UAAU,CAACD,QAAQ,CAACG,aAAa,CAACZ,QAAQ,CAAC0H,QAAD,CAAT,CAAd,EAAoC8b,aAAa,CAACjP,MAAM,CAACjP,IAAR,CAAjD,CAAT,EAA0Eme,eAAe,CAAClP,MAAM,CAACD,MAAR,CAAzF,CAA1B;AACA,YAAIqP,iBAAiB,GAAG,EAAxB;AACA,YAAIpD,cAAc,GAAGZ,iBAAiB,CAACrZ,WAAD,EAAc;AAChDnC,gBAAM,EAAEA,MAAM,CAAC/Q,MAAP,CAAc,UAAUvL,KAAV,EAAiB;AAAE,mBAAO,CAACA,KAAK,CAAC0f,MAAd;AAAuB,WAAxD,CADwC;AAEhDgY,qBAAW,EAAEgE,WAFmC;AAGhD/D,mBAAS,EAAEkE;AAHqC,SAAd,CAAtC;AAKA,YAAIE,aAAa,GAAGrD,cAAc,CAC7BM,IADe,CACV,UAAUgD,MAAV,EAAkBC,MAAlB,EAA0B;AAChC,iBAAOD,MAAM,CAACpd,KAAP,CAAasd,OAAb,KAAyBD,MAAM,CAACrd,KAAP,CAAasd,OAAb,EAAhC;AACH,SAHmB,EAIflqB,GAJe,CAIX,UAAUhS,KAAV,EAAiB;AACtB,cAAI43B,UAAU,GAAG53B,KAAK,CAAC4e,KAAvB;AACA,cAAIiZ,QAAQ,GAAG73B,KAAK,CAAC2e,GAAN,IAAaiZ,UAA5B;AACA,cAAItK,eAAe,GAAGsK,UAAU,GAAG8D,WAAnC;AACA,cAAInO,YAAY,GAAGsK,QAAQ,GAAGgE,SAA9B;AACA,cAAIxN,kBAAkB,GAAIrQ,YAAY,GAAG2O,aAAhB,GAAiC7O,eAA1D;AACA,cAAIza,GAAG,GAAG,CAAV;;AACA,cAAIu0B,UAAU,GAAG8D,WAAjB,EAA8B;AAC1B;AACA,gBAAIS,WAAW,GAAGvE,UAAU,CAACwE,iBAAX,EAAlB;AACA,gBAAIC,WAAW,GAAGX,WAAW,CAACU,iBAAZ,EAAlB;AACA,gBAAI/Q,IAAI,GAAGgR,WAAW,GAAGF,WAAzB;AACA94B,eAAG,IAAI4U,mBAAmB,CAAC2f,UAAD,EAAa8D,WAAb,CAAnB,GAA+CrQ,IAAtD;AACH;;AACDhoB,aAAG,IAAIgrB,kBAAP;AACA,cAAIoI,SAAS,GAAGnJ,eAAe,GAAGoO,WAAH,GAAiB9D,UAAhD;AACA,cAAIjB,OAAO,GAAGpJ,YAAY,GAAGsO,SAAH,GAAehE,QAAzC;AACA,cAAIh0B,MAAM,GAAGoU,mBAAmB,CAAC0e,OAAD,EAAUF,SAAV,CAAhC;;AACA,cAAI,CAACz2B,KAAK,CAAC2e,GAAX,EAAgB;AACZ9a,kBAAM,GAAG8oB,aAAT;AACH,WAFD,MAGK;AACD9oB,kBAAM,IAAIwqB,kBAAV;AACH;;AACD,cAAI3qB,MAAM,GAAGL,GAAG,GAAGQ,MAAnB;AACA,cAAIy4B,yBAAyB,GAAG9B,4BAA4B,CAACsB,iBAAD,EAAoBz4B,GAApB,EAAyBK,MAAzB,CAA5D;AACA,cAAIH,IAAI,GAAG,CAAX;;AACA,iBAAO+4B,yBAAyB,CAACxF,IAA1B,CAA+B,UAAUyE,aAAV,EAAyB;AAAE,mBAAOA,aAAa,CAACh4B,IAAd,KAAuBA,IAA9B;AAAqC,WAA/F,CAAP,EAAyG;AACrGA,gBAAI,IAAI02B,UAAR;AACH;;AACD,cAAIvO,QAAQ,GAAG;AACX1rB,iBAAK,EAAEA,KADI;AAEX6D,kBAAM,EAAEA,MAFG;AAGXD,iBAAK,EAAEq2B,UAHI;AAIX52B,eAAG,EAAEA,GAJM;AAKXE,gBAAI,EAAEA,IALK;AAMX+pB,2BAAe,EAAEA,eANN;AAOXC,wBAAY,EAAEA;AAPH,WAAf;AASAuO,2BAAiB,CAAC5oB,IAAlB,CAAuBwY,QAAvB;AACA,iBAAOA,QAAP;AACH,SA7CmB,CAApB;AA8CA,YAAI9nB,KAAK,GAAGwF,IAAI,CAACuP,GAAL,CAASpW,KAAT,CAAe6G,IAAf,EAAqB2yB,aAAa,CAAC/pB,GAAd,CAAkB,UAAUhS,KAAV,EAAiB;AAAE,iBAAOA,KAAK,CAACuD,IAAN,GAAavD,KAAK,CAAC4D,KAA1B;AAAkC,SAAvE,CAArB,CAAZ;AACA,YAAI24B,YAAY,GAAGzE,iBAAiB,CAACrZ,WAAD,EAAc;AAC9CnC,gBAAM,EAAEA,MAAM,CAAC/Q,MAAP,CAAc,UAAUvL,KAAV,EAAiB;AAAE,mBAAOA,KAAK,CAAC0f,MAAb;AAAsB,WAAvD,CADsC;AAE9CgY,qBAAW,EAAE5e,UAAU,CAAC4iB,WAAD,CAFuB;AAG9C/D,mBAAS,EAAExf,QAAQ,CAAC0jB,SAAD;AAH2B,SAAd,CAApC;AAKA,eAAO;AACHvf,gBAAM,EAAEyf,aADL;AAEHn4B,eAAK,EAAEA,KAFJ;AAGH24B,sBAAY,EAAEA,YAHX;AAIHhd,gBAAM,EAAE;AACJjD,kBAAM,EAAEoc,cADJ;AAEJ9Z,iBAAK,EAAE8c,WAFH;AAGJ/c,eAAG,EAAEkd;AAHD;AAJL,SAAP;AAUH;;AACD,eAASF,aAAT,CAAuBtS,KAAvB,EAA8B;AAC1B,eAAOjgB,IAAI,CAACuP,GAAL,CAASvP,IAAI,CAACkmB,GAAL,CAAS,EAAT,EAAajG,KAAb,CAAT,EAA8B,CAA9B,CAAP;AACH;;AACD,eAASuS,eAAT,CAAyBY,OAAzB,EAAkC;AAC9B,eAAOpzB,IAAI,CAACuP,GAAL,CAASvP,IAAI,CAACkmB,GAAL,CAAS,EAAT,EAAakN,OAAb,CAAT,EAAgC,CAAhC,CAAP;AACH;;AACD,eAAS3C,kBAAT,CAA4Bpb,WAA5B,EAAyC3J,EAAzC,EAA6C;AACzC,YAAI+K,QAAQ,GAAG/K,EAAE,CAAC+K,QAAlB;AAAA,YAA4B7B,YAAY,GAAGlJ,EAAE,CAACkJ,YAA9C;AAAA,YAA4DwO,QAAQ,GAAG1X,EAAE,CAAC0X,QAA1E;AAAA,YAAoFE,MAAM,GAAG5X,EAAE,CAAC4X,MAAhG;AACA,YAAI7T,UAAU,GAAG4F,WAAW,CAAC5F,UAA7B;AAAA,YAAyCD,QAAQ,GAAG6F,WAAW,CAAC7F,QAAhE;AAAA,YAA0EE,UAAU,GAAG2F,WAAW,CAAC3F,UAAnG;AAAA,YAA+GC,aAAa,GAAG0F,WAAW,CAAC1F,aAA3I;AAAA,YAA0JZ,QAAQ,GAAGsG,WAAW,CAACtG,QAAjL;AAAA,YAA2LL,UAAU,GAAG2G,WAAW,CAAC3G,UAApN;AAAA,YAAgOD,QAAQ,GAAG4G,WAAW,CAAC5G,QAAvP;AAAA,YAAiQD,OAAO,GAAG6G,WAAW,CAAC7G,OAAvR;AACA,YAAIyR,KAAK,GAAG,EAAZ;AACA,YAAIqS,WAAW,GAAG7iB,UAAU,CAACD,QAAQ,CAACE,UAAU,CAAC+G,QAAD,CAAX,EAAuB8b,aAAa,CAACnP,QAAQ,CAAC/O,IAAV,CAApC,CAAT,EAA+Dme,eAAe,CAACpP,QAAQ,CAACC,MAAV,CAA9E,CAA5B;AACA,YAAIoP,SAAS,GAAGhjB,UAAU,CAACD,QAAQ,CAACG,aAAa,CAACZ,QAAQ,CAAC0H,QAAD,CAAT,CAAd,EAAoC8b,aAAa,CAACjP,MAAM,CAACjP,IAAR,CAAjD,CAAT,EAA0Eme,eAAe,CAAClP,MAAM,CAACD,MAAR,CAAzF,CAA1B;AACA,YAAIgQ,eAAe,GAAG3e,eAAe,GAAGE,YAAxC;AACA,YAAI0e,cAAc,GAAG5jB,UAAU,CAAC+G,QAAD,CAA/B;AACA,YAAI8c,YAAY,GAAGxkB,QAAQ,CAAC0H,QAAD,CAA3B;;AACA,YAAI+c,cAAc,GAAG,wBAAU/6B,CAAV,EAAa;AAAE,iBAAOA,CAAP;AAAW,SAA/C,CATyC,CAUzC;;;AACA,YAAI66B,cAAc,CAACN,iBAAf,OAAuCO,YAAY,CAACP,iBAAb,EAA3C,EAA6E;AACzEM,wBAAc,GAAG9kB,OAAO,CAAC8kB,cAAD,EAAiB,CAAjB,CAAxB;AACAhB,qBAAW,GAAG9jB,OAAO,CAAC8jB,WAAD,EAAc,CAAd,CAArB;AACAG,mBAAS,GAAGjkB,OAAO,CAACikB,SAAD,EAAY,CAAZ,CAAnB;;AACAe,wBAAc,GAAG,wBAAU/6B,CAAV,EAAa;AAAE,mBAAO+V,OAAO,CAAC/V,CAAD,EAAI,CAAC,CAAL,CAAd;AAAwB,WAAxD;AACH;;AACD,aAAK,IAAIuQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkkB,YAApB,EAAkClkB,CAAC,EAAnC,EAAuC;AACnC,cAAIsL,QAAQ,GAAG,EAAf;;AACA,eAAK,IAAImf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7e,YAApB,EAAkC6e,CAAC,EAAnC,EAAuC;AACnC,gBAAIzf,IAAI,GAAGtF,UAAU,CAACD,QAAQ,CAAC6kB,cAAD,EAAiBtqB,CAAjB,CAAT,EAA8ByqB,CAAC,GAAGJ,eAAlC,CAArB;;AACA,gBAAIrf,IAAI,IAAIse,WAAR,IAAuBte,IAAI,GAAGye,SAAlC,EAA6C;AACzCne,sBAAQ,CAACxK,IAAT,CAAc;AACVkK,oBAAI,EAAEwf,cAAc,CAACxf,IAAD,CADV;AAEV0f,2BAAW,EAAE1f,IAFH;AAGV2f,uBAAO,EAAEF,CAAC,KAAK;AAHL,eAAd;AAKH;AACJ;;AACD,cAAInf,QAAQ,CAACvb,MAAT,GAAkB,CAAtB,EAAyB;AACrBknB,iBAAK,CAACnW,IAAN,CAAW;AAAEwK,sBAAQ,EAAEA;AAAZ,aAAX;AACH;AACJ;;AACD,eAAO2L,KAAP;AACH;;AACM,UAAI2T,2BAAJ;;AACP,OAAC,UAAUA,2BAAV,EAAuC;AACpCA,mCAA2B,CAAC,UAAD,CAA3B,GAA0C,yBAA1C;AACAA,mCAA2B,CAAC,sBAAD,CAA3B,GAAsD,uCAAtD;AACAA,mCAA2B,CAAC,sBAAD,CAA3B,GAAsD,kGAAtD;AACAA,mCAA2B,CAAC,oBAAD,CAA3B,GAAoD,8FAApD;AACAA,mCAA2B,CAAC,iBAAD,CAA3B,GAAiD,+CAAjD;AACH,OAND,EAMGA,2BAA2B,KAAKA,2BAA2B,GAAG,EAAnC,CAN9B;;AAOO,eAAS3gB,cAAT,CAAwBC,MAAxB,EAAgC2gB,GAAhC,EAAqC;AACxC,YAAIC,OAAO,GAAG,IAAd;;AACA,iBAASC,OAAT,CAAiBC,GAAjB,EAAsBp9B,KAAtB,EAA6B;AACzBi9B,aAAG,CAACG,GAAD,EAAMp9B,KAAN,CAAH;AACAk9B,iBAAO,GAAG,KAAV;AACH;;AACD,YAAI,CAAC76B,KAAK,CAACsO,OAAN,CAAc2L,MAAd,CAAL,EAA4B;AACxB2gB,aAAG,CAACD,2BAA2B,CAACK,QAA7B,EAAuC/gB,MAAvC,CAAH;AACA,iBAAO,KAAP;AACH;;AACDA,cAAM,CAAC5Q,OAAP,CAAe,UAAU1L,KAAV,EAAiB;AAC5B,cAAI,CAACA,KAAK,CAAC4e,KAAX,EAAkB;AACdue,mBAAO,CAACH,2BAA2B,CAACM,oBAA7B,EAAmDt9B,KAAnD,CAAP;AACH,WAFD,MAGK,IAAI,EAAEA,KAAK,CAAC4e,KAAN,YAAuB7Q,IAAzB,CAAJ,EAAoC;AACrCovB,mBAAO,CAACH,2BAA2B,CAACO,oBAA7B,EAAmDv9B,KAAnD,CAAP;AACH;;AACD,cAAIA,KAAK,CAAC2e,GAAV,EAAe;AACX,gBAAI,EAAE3e,KAAK,CAAC2e,GAAN,YAAqB5Q,IAAvB,CAAJ,EAAkC;AAC9BovB,qBAAO,CAACH,2BAA2B,CAACQ,kBAA7B,EAAiDx9B,KAAjD,CAAP;AACH;;AACD,gBAAIA,KAAK,CAAC4e,KAAN,GAAc5e,KAAK,CAAC2e,GAAxB,EAA6B;AACzBwe,qBAAO,CAACH,2BAA2B,CAACS,eAA7B,EAA8Cz9B,KAA9C,CAAP;AACH;AACJ;AACJ,SAfD;AAgBA,eAAOk9B,OAAP;AACH,O,CACD;;;;;;;;;;;;;;;;;;AC3nBA,eAASl6B,eAAT,CAA0BC,EAA1B,EAA8B;AAAE,eAAQA,EAAE,IAAK,OAAOA,EAAP,KAAc,QAArB,IAAkC,aAAaA,EAAhD,GAAsDA,EAAE,CAAC,SAAD,CAAxD,GAAsEA,EAA7E;AAAkF;;AAElH,UAAIvD,QAAQ,GAAG,mBAAO;AAAC;AAAA,YAAD,CAAtB;;AACA,UAAIg+B,sBAAsB,GAAG,mBAAO;AAAC;AAAA,YAAD,CAApC;;AACA,UAAIC,MAAM,GAAG,mBAAO;AAAC;AAAA,YAAD,CAApB;;AACA,UAAIC,QAAQ,GAAG,mBAAO;AAAC;AAAA,YAAD,CAAtB;;AACA,UAAIC,mBAAmB,GAAG76B,eAAe,CAAC,mBAAO;AAAC;AAAA,YAAD,CAAR,CAAzC;;AAEA,eAAS86B,YAAT,CAAsB5rB,QAAtB,EAAgCrS,OAAhC,EAAwC;AACpC,YAAKA,OAAO,KAAK,KAAK,CAAtB,EAA0BA,OAAO,GAAG,EAAV;AAE1B,YAAIk+B,IAAI,GAAG,IAAX;AACA,YAAIC,QAAQ,GAAG,CAAf;AAAA,YAAkBC,SAAS,GAAG,KAA9B;AAEA,aAAKj0B,MAAL,GAAcnK,OAAO,CAACmK,MAAR,IAAkB,CAAC,CAAjC,CANoC,CAOpC;;AACA,aAAKk0B,iBAAL,GAAyBr+B,OAAO,CAACq+B,iBAAR,IAA6B,KAAtD;AAEA,YAAI15B,KAAK,GAAG,EAAZ;AAAA,YACIzE,OAAO,GAAG69B,QAAQ,CAACj+B,aAAT,CAAuB6E,KAAvB,CADd;AAAA,YAEI25B,UAAU,GAAGN,mBAAmB,EAFpC;AAAA,YAGIO,IAAI,GAAG,KAHX;AAKAn+B,cAAM,CAACo+B,gBAAP,CAAwB,WAAxB,EAAqCt+B,OAArC,EAA8C,KAA9C;AACAE,cAAM,CAACo+B,gBAAP,CAAwB,WAAxB,EAAqCt+B,OAArC,EAA8C,KAA9C;;AAEA,YAAG,CAACkvB,KAAK,CAACpvB,OAAO,CAACm+B,QAAT,CAAT,EAA4B;AACxBA,kBAAQ,GAAGn+B,OAAO,CAACm+B,QAAnB;AACH;;AAED,aAAK/zB,UAAL,GAAkBvK,QAAQ,WAAR,CAAiBG,OAAO,CAACoK,UAAzB,CAAlB;AACA,aAAKq0B,QAAL,GAAgB5+B,QAAQ,WAAR,CAAiBG,OAAO,CAACy+B,QAAzB,EAAmC,KAAnC,CAAhB;;AAEA,aAAKjyB,OAAL,GAAe,UAASkyB,mBAAT,EAA8B;AACzCt+B,gBAAM,CAACu+B,mBAAP,CAA2B,WAA3B,EAAwCz+B,OAAxC,EAAiD,KAAjD;AACAE,gBAAM,CAACu+B,mBAAP,CAA2B,WAA3B,EAAwCz+B,OAAxC,EAAiD,KAAjD;AACAE,gBAAM,CAACu+B,mBAAP,CAA2B,WAA3B,EAAwCC,MAAxC,EAAgD,KAAhD;AACAx+B,gBAAM,CAACu+B,mBAAP,CAA2B,YAA3B,EAAyCC,MAAzC,EAAiD,KAAjD;AACAx+B,gBAAM,CAACu+B,mBAAP,CAA2B,SAA3B,EAAsCE,IAAtC,EAA4C,KAA5C;AACAz+B,gBAAM,CAACu+B,mBAAP,CAA2B,UAA3B,EAAuCE,IAAvC,EAA6C,KAA7C;AACAz+B,gBAAM,CAACu+B,mBAAP,CAA2B,WAA3B,EAAwCE,IAAxC,EAA8C,KAA9C;AACAz+B,gBAAM,CAACu+B,mBAAP,CAA2B,YAA3B,EAAyCG,UAAzC,EAAqD,KAArD;AAEA1+B,gBAAM,CAACu+B,mBAAP,CAA2B,WAA3B,EAAwCI,MAAxC,EAAgD,KAAhD;AACA3+B,gBAAM,CAACu+B,mBAAP,CAA2B,WAA3B,EAAwCI,MAAxC,EAAgD,KAAhD;AAEA3+B,gBAAM,CAACu+B,mBAAP,CAA2B,QAA3B,EAAqCK,SAArC,EAAgD,IAAhD;AACA3sB,kBAAQ,GAAG,EAAX;;AACA,cAAGqsB,mBAAH,EAAuB;AACrBO,0BAAc;AACf;AACJ,SAlBD;;AAoBA,aAAKjoB,GAAL,GAAW,YAAU;AACjB,cAAIxW,OAAO,GAAG,EAAd;AAAA,cAAkBsS,GAAG,GAAGzQ,SAAS,CAACC,MAAlC;;AACA,iBAAQwQ,GAAG,EAAX;AAAgBtS,mBAAO,CAAEsS,GAAF,CAAP,GAAiBzQ,SAAS,CAAEyQ,GAAF,CAA1B;AAAhB;;AAEAgrB,gBAAM,CAACxqB,WAAP,CAAmB5Q,KAAnB,CAAyB,KAAK,CAA9B,EAAiC,CAAE2P,QAAF,EAAaa,MAAb,CAAqB1S,OAArB,CAAjC;AACA,iBAAO,IAAP;AACH,SAND;;AAQA,aAAKsL,MAAL,GAAc,YAAU;AACpB,cAAItL,OAAO,GAAG,EAAd;AAAA,cAAkBsS,GAAG,GAAGzQ,SAAS,CAACC,MAAlC;;AACA,iBAAQwQ,GAAG,EAAX;AAAgBtS,mBAAO,CAAEsS,GAAF,CAAP,GAAiBzQ,SAAS,CAAEyQ,GAAF,CAA1B;AAAhB;;AAEA,iBAAOgrB,MAAM,CAACvqB,cAAP,CAAsB7Q,KAAtB,CAA4B,KAAK,CAAjC,EAAoC,CAAE2P,QAAF,EAAaa,MAAb,CAAqB1S,OAArB,CAApC,CAAP;AACH,SALD;;AAOA,YAAI0+B,SAAS,GAAG,IAAhB;AAAA,YAAsBC,oBAAtB;;AAEA,YAAG1gC,MAAM,CAACuS,SAAP,CAAiBC,QAAjB,CAA0BE,IAA1B,CAA+BkB,QAA/B,MAA6C,gBAAhD,EAAiE;AAC7DA,kBAAQ,GAAG,CAACA,QAAD,CAAX;AACH;;AAEA,mBAAS+sB,IAAT,EAAc;AACX/sB,kBAAQ,GAAG,EAAX;AACA+sB,cAAI,CAACvzB,OAAL,CAAa,UAASrL,OAAT,EAAiB;AAC1B,gBAAGA,OAAO,KAAKJ,MAAf,EAAsB;AAClB8+B,uBAAS,GAAG9+B,MAAZ;AACH,aAFD,MAEK;AACD89B,kBAAI,CAAClnB,GAAL,CAASxW,OAAT;AACH;AACJ,WAND;AAOH,SATA,EASC6R,QATD,CAAD;;AAWA5T,cAAM,CAAC0F,gBAAP,CAAwB,IAAxB,EAA8B;AAC1Bo6B,cAAI,EAAE;AACF1T,eAAG,EAAE,eAAU;AAAE,qBAAO0T,IAAP;AAAc;AAD7B,WADoB;AAI1BJ,kBAAQ,EAAE;AACNtT,eAAG,EAAE,eAAU;AAAE,qBAAOsT,QAAP;AAAkB;AAD7B,WAJgB;AAO1Bx5B,eAAK,EAAE;AACHkmB,eAAG,EAAE,eAAU;AAAE,qBAAOlmB,KAAP;AAAe;AAD7B,WAPmB;AAU1By5B,mBAAS,EAAE;AACPvT,eAAG,EAAE,eAAU;AAAE,qBAAOuT,SAAP;AAAmB;AAD7B;AAVe,SAA9B;AAeA,YAAIt7B,CAAC,GAAG,CAAR;AAAA,YAAWi0B,OAAO,GAAG,IAArB;AAAA,YAA2BsI,cAA3B;AAEAj/B,cAAM,CAACo+B,gBAAP,CAAwB,WAAxB,EAAqCI,MAArC,EAA6C,KAA7C;AACAx+B,cAAM,CAACo+B,gBAAP,CAAwB,YAAxB,EAAsCI,MAAtC,EAA8C,KAA9C;AACAx+B,cAAM,CAACo+B,gBAAP,CAAwB,SAAxB,EAAmCK,IAAnC,EAAyC,KAAzC;AACAz+B,cAAM,CAACo+B,gBAAP,CAAwB,UAAxB,EAAoCK,IAApC,EAA0C,KAA1C;AAEA;;;;;;;AAMAz+B,cAAM,CAACo+B,gBAAP,CAAwB,WAAxB,EAAqCK,IAArC,EAA2C,KAA3C;AAEAz+B,cAAM,CAACo+B,gBAAP,CAAwB,WAAxB,EAAqCO,MAArC,EAA6C,KAA7C;AACA3+B,cAAM,CAACo+B,gBAAP,CAAwB,WAAxB,EAAqCO,MAArC,EAA6C,KAA7C;AAEA3+B,cAAM,CAACo+B,gBAAP,CAAwB,YAAxB,EAAsCM,UAAtC,EAAkD,KAAlD;AAEA1+B,cAAM,CAACo+B,gBAAP,CAAwB,QAAxB,EAAkCQ,SAAlC,EAA6C,IAA7C;;AAEA,iBAASA,SAAT,CAAmBx6B,CAAnB,EAAqB;AAEjB,eAAI,IAAI+N,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACF,QAAQ,CAAC/P,MAAxB,EAAgCiQ,CAAC,EAAjC,EAAoC;AAChC,gBAAGF,QAAQ,CAACE,CAAD,CAAR,KAAgB/N,CAAC,CAACnE,MAArB,EAA4B;AACxB+9B,uBAAS,GAAG,IAAZ;AACA;AACH;AACJ;;AAED,cAAGA,SAAH,EAAa;AACTP,kCAAsB,CAACrkB,qBAAvB,CAA6C,YAAW;AAAE,qBAAO4kB,SAAS,GAAG,KAAnB;AAA2B,aAArF;AACH;AACJ;;AAED,iBAASQ,MAAT,GAAiB;AACbL,cAAI,GAAG,IAAP;AACH;;AAED,iBAASM,IAAT,GAAe;AACXN,cAAI,GAAG,KAAP;AACAU,wBAAc;AACjB;;AACD,iBAASA,cAAT,GAAyB;AACvBpB,gCAAsB,CAAC5jB,oBAAvB,CAA4ColB,cAA5C;AACAxB,gCAAsB,CAAC5jB,oBAAvB,CAA4CklB,oBAA5C;AACD;;AACD,iBAASL,UAAT,GAAqB;AACjBP,cAAI,GAAG,KAAP;AACH;;AAED,iBAASe,SAAT,CAAmBj/B,MAAnB,EAA0B;AACtB,cAAG,CAACA,MAAJ,EAAW;AACP,mBAAO,IAAP;AACH;;AAED,cAAG02B,OAAO,KAAK12B,MAAf,EAAsB;AAClB,mBAAOA,MAAP;AACH;;AAED,cAAGy9B,MAAM,CAACtrB,UAAP,CAAkBH,QAAlB,EAA4BhS,MAA5B,CAAH,EAAuC;AACnC,mBAAOA,MAAP;AACH;;AAED,iBAAMA,MAAM,GAAGA,MAAM,CAACsK,UAAtB,EAAiC;AAC7B,gBAAGmzB,MAAM,CAACtrB,UAAP,CAAkBH,QAAlB,EAA4BhS,MAA5B,CAAH,EAAuC;AACnC,qBAAOA,MAAP;AACH;AACJ;;AAED,iBAAO,IAAP;AACH;;AAED,iBAASk/B,oBAAT,GAA+B;AAC3B,cAAIC,UAAU,GAAG,IAAjB;;AAEA,eAAI,IAAIjtB,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACF,QAAQ,CAAC/P,MAAxB,EAAgCiQ,CAAC,EAAjC,EAAoC;AAChC,gBAAGktB,MAAM,CAAC96B,KAAD,EAAQ0N,QAAQ,CAACE,CAAD,CAAhB,CAAT,EAA8B;AAC1BitB,wBAAU,GAAGntB,QAAQ,CAACE,CAAD,CAArB;AACH;AACJ;;AAED,iBAAOitB,UAAP;AACH;;AAGD,iBAAST,MAAT,CAAgB5+B,KAAhB,EAAsB;AAElB,cAAG,CAAC+9B,IAAI,CAAC9zB,UAAL,EAAJ,EAAuB;AAAE;AAAS;;AAElC,cAAGjK,KAAK,CAAC,YAAD,CAAR,EAAuB;AAAE;AAAS;;AAElC,cAAIE,MAAM,GAAGF,KAAK,CAACE,MAAnB;AAAA,cAA2BmB,IAAI,GAAGH,QAAQ,CAACG,IAA3C;;AAEA,cAAGu1B,OAAO,IAAI,CAAC0I,MAAM,CAAC96B,KAAD,EAAQoyB,OAAR,CAArB,EAAsC;AAClC,gBAAG,CAACmH,IAAI,CAACG,iBAAT,EAA2B;AACvBtH,qBAAO,GAAG,IAAV;AACH;AACJ;;AAED,cAAG12B,MAAM,IAAIA,MAAM,CAACsK,UAAP,KAAsBnJ,IAAnC,EAAwC;AACpC;AACAnB,kBAAM,GAAGk/B,oBAAoB,EAA7B;AACH,WAHD,MAGK;AACDl/B,kBAAM,GAAGi/B,SAAS,CAACj/B,MAAD,CAAlB;;AAEA,gBAAG,CAACA,MAAJ,EAAW;AACPA,oBAAM,GAAGk/B,oBAAoB,EAA7B;AACH;AACJ;;AAGD,cAAGl/B,MAAM,IAAIA,MAAM,KAAK02B,OAAxB,EAAgC;AAC5BA,mBAAO,GAAG12B,MAAV;AACH;;AAED,cAAG6+B,SAAH,EAAa;AACTrB,kCAAsB,CAAC5jB,oBAAvB,CAA4CklB,oBAA5C;AACAA,gCAAoB,GAAGtB,sBAAsB,CAACrkB,qBAAvB,CAA6CkmB,YAA7C,CAAvB;AACH;;AAGD,cAAG,CAAC3I,OAAJ,EAAY;AACR;AACH;;AAED8G,gCAAsB,CAAC5jB,oBAAvB,CAA4ColB,cAA5C;AACAA,wBAAc,GAAGxB,sBAAsB,CAACrkB,qBAAvB,CAA6CmmB,UAA7C,CAAjB;AACH;;AAED,iBAASD,YAAT,GAAuB;AACnBt1B,oBAAU,CAAC80B,SAAD,CAAV;AAEArB,gCAAsB,CAAC5jB,oBAAvB,CAA4CklB,oBAA5C;AACAA,8BAAoB,GAAGtB,sBAAsB,CAACrkB,qBAAvB,CAA6CkmB,YAA7C,CAAvB;AACH;;AAED,iBAASC,UAAT,GAAqB;AAEjB,cAAG,CAAC5I,OAAJ,EAAY;AACR;AACH;;AAED3sB,oBAAU,CAAC2sB,OAAD,CAAV;AAEA8G,gCAAsB,CAAC5jB,oBAAvB,CAA4ColB,cAA5C;AACAA,wBAAc,GAAGxB,sBAAsB,CAACrkB,qBAAvB,CAA6CmmB,UAA7C,CAAjB;AAEH;;AAGD,iBAASv1B,UAAT,CAAoB/F,EAApB,EAAuB;AACnB,cAAIH,IAAI,GAAG65B,QAAQ,CAAC35B,aAAT,CAAuBC,EAAvB,CAAX;AAAA,cAAuCu7B,OAAvC;AAAA,cAAgDC,OAAhD;;AAEA,cAAGl7B,KAAK,CAAChE,CAAN,GAAUuD,IAAI,CAACR,IAAL,GAAYw6B,IAAI,CAAC/zB,MAA9B,EAAqC;AACjCy1B,mBAAO,GAAGr2B,IAAI,CAACwT,KAAL,CACNxT,IAAI,CAACuP,GAAL,CAAS,CAAC,CAAV,EAAa,CAACnU,KAAK,CAAChE,CAAN,GAAUuD,IAAI,CAACR,IAAhB,IAAwBw6B,IAAI,CAAC/zB,MAA7B,GAAsC,CAAnD,IAAwD+zB,IAAI,CAACC,QADvD,CAAV;AAGH,WAJD,MAIM,IAAGx5B,KAAK,CAAChE,CAAN,GAAUuD,IAAI,CAACP,KAAL,GAAau6B,IAAI,CAAC/zB,MAA/B,EAAsC;AACxCy1B,mBAAO,GAAGr2B,IAAI,CAACyT,IAAL,CACNzT,IAAI,CAACkmB,GAAL,CAAS,CAAT,EAAY,CAAC9qB,KAAK,CAAChE,CAAN,GAAUuD,IAAI,CAACP,KAAhB,IAAyBu6B,IAAI,CAAC/zB,MAA9B,GAAuC,CAAnD,IAAwD+zB,IAAI,CAACC,QADvD,CAAV;AAGH,WAJK,MAID;AACDyB,mBAAO,GAAG,CAAV;AACH;;AAED,cAAGj7B,KAAK,CAAC9D,CAAN,GAAUqD,IAAI,CAACV,GAAL,GAAW06B,IAAI,CAAC/zB,MAA7B,EAAoC;AAChC01B,mBAAO,GAAGt2B,IAAI,CAACwT,KAAL,CACNxT,IAAI,CAACuP,GAAL,CAAS,CAAC,CAAV,EAAa,CAACnU,KAAK,CAAC9D,CAAN,GAAUqD,IAAI,CAACV,GAAhB,IAAuB06B,IAAI,CAAC/zB,MAA5B,GAAqC,CAAlD,IAAuD+zB,IAAI,CAACC,QADtD,CAAV;AAGH,WAJD,MAIM,IAAGx5B,KAAK,CAAC9D,CAAN,GAAUqD,IAAI,CAACL,MAAL,GAAcq6B,IAAI,CAAC/zB,MAAhC,EAAuC;AACzC01B,mBAAO,GAAGt2B,IAAI,CAACyT,IAAL,CACNzT,IAAI,CAACkmB,GAAL,CAAS,CAAT,EAAY,CAAC9qB,KAAK,CAAC9D,CAAN,GAAUqD,IAAI,CAACL,MAAhB,IAA0Bq6B,IAAI,CAAC/zB,MAA/B,GAAwC,CAApD,IAAyD+zB,IAAI,CAACC,QADxD,CAAV;AAGH,WAJK,MAID;AACD0B,mBAAO,GAAG,CAAV;AACH;;AAED,cAAG3B,IAAI,CAACO,QAAL,EAAH,EAAmB;AACf;;;;;;AAMAH,sBAAU,CAACwB,QAAX,CAAoBz7B,EAApB,EAAwB;AACpBtD,mBAAK,EAAE4D,KAAK,CAAC5D,KAAN,GAAc6+B,OADD;AAEpB5+B,mBAAK,EAAE2D,KAAK,CAAC3D,KAAN,GAAc6+B,OAFD;AAGpBj/B,qBAAO,EAAE+D,KAAK,CAAChE,CAAN,GAAUi/B,OAHC;AAIpB9+B,qBAAO,EAAE6D,KAAK,CAAC9D,CAAN,GAAUg/B;AAJC,aAAxB;AAMH;;AAED9lB,oBAAU,CAAC,YAAW;AAElB,gBAAG8lB,OAAH,EAAW;AACPn2B,qBAAO,CAACrF,EAAD,EAAKw7B,OAAL,CAAP;AACH;;AAED,gBAAGD,OAAH,EAAW;AACPn2B,qBAAO,CAACpF,EAAD,EAAKu7B,OAAL,CAAP;AACH;AAEJ,WAVS,CAAV;AAWH;;AAED,iBAASl2B,OAAT,CAAiBrF,EAAjB,EAAqB6Y,MAArB,EAA4B;AACxB,cAAG7Y,EAAE,KAAKjE,MAAV,EAAiB;AACbA,kBAAM,CAAC2/B,QAAP,CAAgB17B,EAAE,CAAC0K,WAAnB,EAAgC1K,EAAE,CAACyK,WAAH,GAAiBoO,MAAjD;AACH,WAFD,MAEK;AACD7Y,cAAE,CAAC1C,SAAH,IAAgBub,MAAhB;AACH;AACJ;;AAED,iBAASzT,OAAT,CAAiBpF,EAAjB,EAAqB6Y,MAArB,EAA4B;AACxB,cAAG7Y,EAAE,KAAKjE,MAAV,EAAiB;AACbA,kBAAM,CAAC2/B,QAAP,CAAgB17B,EAAE,CAAC0K,WAAH,GAAiBmO,MAAjC,EAAyC7Y,EAAE,CAACyK,WAA5C;AACH,WAFD,MAEK;AACDzK,cAAE,CAAC5C,UAAH,IAAiByb,MAAjB;AACH;AACJ;AAEJ;;AAED,eAAS8iB,mBAAT,CAA6Bx/B,OAA7B,EAAsCR,OAAtC,EAA8C;AAC1C,eAAO,IAAIi+B,YAAJ,CAAiBz9B,OAAjB,EAA0BR,OAA1B,CAAP;AACH;;AAED,eAASy/B,MAAT,CAAgB96B,KAAhB,EAAuBN,EAAvB,EAA2BH,IAA3B,EAAgC;AAC5B,YAAG,CAACA,IAAJ,EAAS;AACL,iBAAO65B,QAAQ,CAACr5B,WAAT,CAAqBC,KAArB,EAA4BN,EAA5B,CAAP;AACH,SAFD,MAEK;AACD,iBAAQM,KAAK,CAAC9D,CAAN,GAAUqD,IAAI,CAACV,GAAf,IAAsBmB,KAAK,CAAC9D,CAAN,GAAUqD,IAAI,CAACL,MAArC,IACAc,KAAK,CAAChE,CAAN,GAAUuD,IAAI,CAACR,IADf,IACuBiB,KAAK,CAAChE,CAAN,GAAUuD,IAAI,CAACP,KAD9C;AAEH;AACJ;AAED;;;;;;AAKA9B,YAAM,CAAClD,OAAP,GAAiBqhC,mBAAjB,C,CACA;;;;;;;;;;;;;;;AC1VAn+B,YAAM,CAAClD,OAAP,GAAkB,OAAO6D,KAAK,CAACwtB,IAAb,KAAsB,UAAtB,GAChBxtB,KAAK,CAACwtB,IADU,GAEhB,mBAAO;AAAC;AAAA,YAAD,CAFT;;;;;;;;;;;;;;;;ACEA,UAAIiQ,YAAY,GAAG,KAAK,CAAxB;;AACA,UAAI,OAAOxhC,MAAM,CAACwF,MAAd,IAAwB,UAA5B,EAAwC;AACtCg8B,oBAAY,GAAG,UAAU17B,SAAV,EAAqB;AAClC,cAAI27B,IAAI,GAAG,SAASA,IAAT,GAAgB,CAAE,CAA7B;;AACA,iBAAO,UAAUlvB,SAAV,EAAqBmvB,gBAArB,EAAuC;AAC5C,gBAAInvB,SAAS,KAAKvS,MAAM,CAACuS,SAAD,CAApB,IAAmCA,SAAS,KAAK,IAArD,EAA2D;AACzD,oBAAMvM,SAAS,CAAC,qCAAD,CAAf;AACD;;AACDy7B,gBAAI,CAAClvB,SAAL,GAAiBA,SAAS,IAAI,EAA9B;AACA,gBAAIsO,MAAM,GAAG,IAAI4gB,IAAJ,EAAb;AACAA,gBAAI,CAAClvB,SAAL,GAAiB,IAAjB;;AACA,gBAAImvB,gBAAgB,KAAK57B,SAAzB,EAAoC;AAClC9F,oBAAM,CAAC0F,gBAAP,CAAwBmb,MAAxB,EAAgC6gB,gBAAhC;AACD,aAT2C,CAW5C;;;AACA,gBAAInvB,SAAS,KAAK,IAAlB,EAAwB;AACtBsO,oBAAM,CAAC8gB,SAAP,GAAmB,IAAnB;AACD;;AACD,mBAAO9gB,MAAP;AACD,WAhBD;AAiBD,SAnBc,EAAf;AAoBD,OArBD,MAqBO;AACL2gB,oBAAY,GAAGxhC,MAAM,CAACwF,MAAtB;AACD;;AAED,UAAIo8B,cAAc,GAAGJ,YAArB;AAEA,UAAIK,eAAe,GAAG,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,EAAgC,SAAhC,EAA2C,SAA3C,EAAsD,SAAtD,EAAiE,SAAjE,EAA4E,WAA5E,EAAyF,WAAzF,EAAsG,SAAtG,EAAiH,SAAjH,EAA4H,OAA5H,EAAqI,OAArI,EAA8I,QAA9I,EAAwJ,eAAxJ,EAAyK,SAAzK,EAAoL,SAApL,EAA+L,UAA/L,EAA2M,OAA3M,EAAoN,GAApN,EAAyN,GAAzN,CAAtB;;AAEA,eAASC,gBAAT,CAA0B//B,OAA1B,EAAmC;AAE/B,YAAIggC,eAAe,GAAG;AAClBv/B,iBAAO,EAAE,CADS;AAElBC,iBAAO,EAAE,CAFS;AAGlBN,iBAAO,EAAE,CAHS;AAIlBE,iBAAO,EAAE,CAJS;AAKlB2/B,iBAAO,EAAE,KALS;AAMlBC,kBAAQ,EAAE,KANQ;AAOlBC,gBAAM,EAAE,KAPU;AAQlBC,iBAAO,EAAE,KARS;AASlBC,gBAAM,EAAE,CATU;AAUlBC,iBAAO,EAAE,CAVS;AAWlBC,uBAAa,EAAE,IAXG;AAYlBC,gBAAM,EAAE;AAZU,SAAtB;;AAeA,YAAIxgC,OAAO,KAAK+D,SAAhB,EAA2B;AACvB/D,iBAAO,CAACg+B,gBAAR,CAAyB,WAAzB,EAAsCO,MAAtC;AACH;;AAED,iBAASA,MAAT,CAAgBv6B,CAAhB,EAAmB;AACf,eAAK,IAAI+N,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+tB,eAAe,CAACh+B,MAApC,EAA4CiQ,CAAC,EAA7C,EAAiD;AAC7CiuB,2BAAe,CAACF,eAAe,CAAC/tB,CAAD,CAAhB,CAAf,GAAsC/N,CAAC,CAAC87B,eAAe,CAAC/tB,CAAD,CAAhB,CAAvC;AACH;AACJ;;AAED,YAAIutB,QAAQ,GAAG,YAAY;AACvB,cAAImB,UAAJ,EAAgB;AACZ,mBAAO,SAASC,EAAT,CAAY1gC,OAAZ,EAAqB2gC,QAArB,EAA+BC,IAA/B,EAAqC;AACxC,kBAAIC,GAAG,GAAG,IAAIJ,UAAJ,CAAe,WAAf,EAA4BK,cAAc,CAACd,eAAD,EAAkBW,QAAlB,CAA1C,CAAV,CADwC,CAGxC;;AACAI,wBAAU,CAACF,GAAD,EAAMD,IAAN,CAAV;AAEA,qBAAO5gC,OAAO,CAACghC,aAAR,CAAsBH,GAAtB,CAAP;AACH,aAPD;AAQH,WATD,MASO,IAAI,OAAOhgC,QAAQ,CAACogC,WAAhB,KAAgC,UAApC,EAAgD;AACnD,mBAAO,SAASC,EAAT,CAAYlhC,OAAZ,EAAqB2gC,QAArB,EAA+BC,IAA/B,EAAqC;AACxC,kBAAIO,QAAQ,GAAGL,cAAc,CAACd,eAAD,EAAkBW,QAAlB,CAA7B;AACA,kBAAIE,GAAG,GAAGhgC,QAAQ,CAACogC,WAAT,CAAqB,aAArB,CAAV;AAEAJ,iBAAG,CAACO,cAAJ,CAAmB,WAAnB,EAAgC,IAAhC,EAAsC;AACtC,kBADA,EACM;AACNxhC,oBAFA,EAEQ;AACR,eAHA,EAGG;AACHuhC,sBAAQ,CAAC1gC,OAJT,EAIkB;AAClB0gC,sBAAQ,CAACzgC,OALT,EAKkB;AAClBygC,sBAAQ,CAAC/gC,OANT,EAMkB;AAClB+gC,sBAAQ,CAAC7gC,OAPT,EAOkB;AAClB6gC,sBAAQ,CAAClB,OART,EAQkB;AAClBkB,sBAAQ,CAAChB,MATT,EASiB;AACjBgB,sBAAQ,CAACjB,QAVT,EAUmB;AACnBiB,sBAAQ,CAACf,OAXT,EAWkB;AAClBe,sBAAQ,CAACd,MAZT,EAYiB;AACjBc,sBAAQ,CAACZ,aAbT,CAauB;AAbvB,gBAJwC,CAoBxC;;AACAQ,wBAAU,CAACF,GAAD,EAAMD,IAAN,CAAV;AAEA,qBAAO5gC,OAAO,CAACghC,aAAR,CAAsBH,GAAtB,CAAP;AACH,aAxBD;AAyBH,WA1BM,MA0BA,IAAI,OAAOhgC,QAAQ,CAACwgC,iBAAhB,KAAsC,UAA1C,EAAsD;AACzD,mBAAO,SAASC,EAAT,CAAYthC,OAAZ,EAAqB2gC,QAArB,EAA+BC,IAA/B,EAAqC;AACxC,kBAAIC,GAAG,GAAGhgC,QAAQ,CAACwgC,iBAAT,EAAV;AACA,kBAAIF,QAAQ,GAAGL,cAAc,CAACd,eAAD,EAAkBW,QAAlB,CAA7B;;AACA,mBAAK,IAAIjf,IAAT,IAAiByf,QAAjB,EAA2B;AACvBN,mBAAG,CAACnf,IAAD,CAAH,GAAYyf,QAAQ,CAACzf,IAAD,CAApB;AACH,eALuC,CAOxC;;;AACAqf,wBAAU,CAACF,GAAD,EAAMD,IAAN,CAAV;AAEA,qBAAO5gC,OAAO,CAACghC,aAAR,CAAsBH,GAAtB,CAAP;AACH,aAXD;AAYH;AACJ,SAlDc,EAAf;;AAoDA,iBAAS70B,OAAT,GAAmB;AACf,cAAIhM,OAAJ,EAAaA,OAAO,CAACm+B,mBAAR,CAA4B,WAA5B,EAAyCI,MAAzC,EAAiD,KAAjD;AACbyB,yBAAe,GAAG,IAAlB;AACH;;AAED,eAAO;AACHh0B,iBAAO,EAAEA,OADN;AAEHszB,kBAAQ,EAAEA;AAFP,SAAP;AAIH;;AAED,eAASwB,cAAT,CAAwBd,eAAxB,EAAyCW,QAAzC,EAAmD;AAC/CA,gBAAQ,GAAGA,QAAQ,IAAI,EAAvB;AACA,YAAIQ,QAAQ,GAAGtB,cAAc,CAACG,eAAD,CAA7B;;AACA,aAAK,IAAIjuB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+tB,eAAe,CAACh+B,MAApC,EAA4CiQ,CAAC,EAA7C,EAAiD;AAC7C,cAAI4uB,QAAQ,CAACb,eAAe,CAAC/tB,CAAD,CAAhB,CAAR,KAAiChO,SAArC,EAAgDo9B,QAAQ,CAACrB,eAAe,CAAC/tB,CAAD,CAAhB,CAAR,GAA+B4uB,QAAQ,CAACb,eAAe,CAAC/tB,CAAD,CAAhB,CAAvC;AACnD;;AAED,eAAOovB,QAAP;AACH;;AAED,eAASJ,UAAT,CAAoB/8B,CAApB,EAAuB48B,IAAvB,EAA6B;AACzBzkB,eAAO,CAACygB,GAAR,CAAY,OAAZ,EAAqBgE,IAArB;AACA58B,SAAC,CAAC48B,IAAF,GAASA,IAAI,IAAI,EAAjB;AACA58B,SAAC,CAACu9B,UAAF,GAAe,WAAf;AACH;AAED;;;;;AAIAlgC,YAAM,CAAClD,OAAP,GAAiB4hC,gBAAjB,C,CACA;;;;;;;;;;;;;;;;;AC/IA;;AAAA,UAAIjvB,OAAO,GAAG,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA3D,GAAsE,UAAUC,GAAV,EAAe;AAAE,eAAO,OAAOA,GAAd;AAAoB,OAA3G,GAA8G,UAAUA,GAAV,EAAe;AAAE,eAAOA,GAAG,IAAI,OAAOF,MAAP,KAAkB,UAAzB,IAAuCE,GAAG,CAACC,WAAJ,KAAoBH,MAA3D,GAAoE,QAApE,GAA+E,OAAOE,GAA7F;AAAmG,OAAhP;AAEA;;;;;;;AAMe;;;AAAA;AACb,eAAOG,KAAK,IAAI,IAAT,IAAiB,CAAC,OAAOA,KAAP,KAAiB,WAAjB,GAA+B,WAA/B,GAA6CN,OAAO,CAACM,KAAD,CAArD,MAAkE,QAAnF,IAA+FA,KAAK,CAACC,QAAN,KAAmB,CAAlH,IAAuHP,OAAO,CAACM,KAAK,CAAC7G,KAAP,CAAP,KAAyB,QAAhJ,IAA4JuG,OAAO,CAACM,KAAK,CAACxQ,aAAP,CAAP,KAAiC,QAApM;OADa;;;;;;;;;;;;;;;;;ACRf;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAKA;;;;;AAIA;;;;;;;;AAMA,eAAS4gC,eAAT,CAAyBC,MAAzB,EAAiCC,MAAjC,EAAwD;AAAA,YAAf/kB,SAAe,uEAAH,CAAG;;AACpD;AACA,YAAMqO,IAAI,GAAGjiB,IAAI,CAAC2F,GAAL,CAAS+yB,MAAM,GAAGC,MAAlB,CAAb;AACA,eAAO1W,IAAI,GAAGrO,SAAd;AACH;AACD;;;;;;;;;AAOA,eAASglB,uBAAT,CAAiCC,YAAjC,EAA+C/W,KAA/C,EAAsDzqB,OAAtD,EAA+DE,OAA/D,EAAwE;AACpE;AACA,YAAMuhC,eAAe,GAAG;AACpB7+B,aAAG,EAAE4+B,YAAY,CAAC5+B,GADE;AAEpBK,gBAAM,EAAEu+B,YAAY,CAACv+B,MAFD;AAGpBH,cAAI,EAAE0+B,YAAY,CAAC1+B,IAHC;AAIpBC,eAAK,EAAEy+B,YAAY,CAACz+B;AAJA,SAAxB;;AAMA,YAAI0nB,KAAK,CAAC7nB,GAAV,EAAe;AACX6+B,yBAAe,CAAC7+B,GAAhB,IAAuB1C,OAAvB;AACH;;AACD,YAAIuqB,KAAK,CAACxnB,MAAV,EAAkB;AACdw+B,yBAAe,CAACx+B,MAAhB,IAA0B/C,OAA1B;AACH;;AACD,YAAIuqB,KAAK,CAAC3nB,IAAV,EAAgB;AACZ2+B,yBAAe,CAAC3+B,IAAhB,IAAwB9C,OAAxB;AACH;;AACD,YAAIyqB,KAAK,CAAC1nB,KAAV,EAAiB;AACb0+B,yBAAe,CAAC1+B,KAAhB,IAAyB/C,OAAzB;AACH;;AACDyhC,uBAAe,CAACr+B,MAAhB,GAAyBq+B,eAAe,CAACx+B,MAAhB,GAAyBw+B,eAAe,CAAC7+B,GAAlE;AACA6+B,uBAAe,CAACt+B,KAAhB,GAAwBs+B,eAAe,CAAC1+B,KAAhB,GAAwB0+B,eAAe,CAAC3+B,IAAhE;AACA,eAAO2+B,eAAP;AACH;AACD;;;;;;;AAKA,eAASC,cAAT,CAAwB9hC,OAAxB,EAAiC+hC,uBAAjC,EAA0D;AACtD;AACA,YAAIC,UAAU,GAAG,CAAjB;AACA;;AACA,YAAIC,UAAU,GAAG,CAAjB;AACA;;AACA,YAAM13B,KAAK,GAAGvK,OAAO,CAACuF,aAAR,CAAsBgF,KAApC;AACA;;AACA,YAAM23B,mBAAmB,GAAG,CACxB,WADwB,EAExB,eAFwB,EAGxB,gBAHwB,EAIxB,cAJwB,CAA5B;AAMA;;AACA,YAAM74B,SAAS,GAAG64B,mBAAmB,CAChCvwB,GADa,CACT,UAAAwwB,QAAQ;AAAA,iBAAI53B,KAAK,CAAC43B,QAAD,CAAT;AAAA,SADC,EAEbvrB,IAFa,CAER,UAAAxY,KAAK;AAAA,iBAAI,CAAC,CAACA,KAAN;AAAA,SAFG,CAAlB;;AAGA,YAAIiL,SAAS,IAAIA,SAAS,CAAC+4B,QAAV,CAAmB,WAAnB,CAAjB,EAAkD;AAC9CJ,oBAAU,GAAG34B,SAAS,CAACg5B,OAAV,CAAkB,iCAAlB,EAAqD,IAArD,CAAb;AACAJ,oBAAU,GAAG54B,SAAS,CAACg5B,OAAV,CAAkB,iCAAlB,EAAqD,IAArD,CAAb;AACH;;AACD,YAAIN,uBAAuB,KAAK,UAAhC,EAA4C;AACxC,iBAAO;AACHv+B,kBAAM,EAAExD,OAAO,CAACuF,aAAR,CAAsB2O,YAD3B;AAEH3Q,iBAAK,EAAEvD,OAAO,CAACuF,aAAR,CAAsB4O,WAF1B;AAGHnR,eAAG,EAAEhD,OAAO,CAACuF,aAAR,CAAsB+8B,SAAtB,GAAkCL,UAHpC;AAIH5+B,kBAAM,EAAErD,OAAO,CAACuF,aAAR,CAAsB2O,YAAtB,GACJlU,OAAO,CAACuF,aAAR,CAAsB+8B,SADlB,GAEJL,UAND;AAOH/+B,gBAAI,EAAElD,OAAO,CAACuF,aAAR,CAAsBg9B,UAAtB,GAAmCP,UAPtC;AAQH7+B,iBAAK,EAAEnD,OAAO,CAACuF,aAAR,CAAsB4O,WAAtB,GACHnU,OAAO,CAACuF,aAAR,CAAsBg9B,UADnB,GAEHP;AAVD,WAAP;AAYH,SAbD,MAcK;AACD;AACA,cAAMQ,YAAY,GAAGxiC,OAAO,CAACuF,aAAR,CAAsBzB,qBAAtB,EAArB;AACA,iBAAO;AACHN,kBAAM,EAAEg/B,YAAY,CAACh/B,MADlB;AAEHD,iBAAK,EAAEi/B,YAAY,CAACj/B,KAFjB;AAGHP,eAAG,EAAEw/B,YAAY,CAACx/B,GAAb,GAAmBi/B,UAHrB;AAIH5+B,kBAAM,EAAEm/B,YAAY,CAACn/B,MAAb,GAAsB4+B,UAJ3B;AAKH/+B,gBAAI,EAAEs/B,YAAY,CAACt/B,IAAb,GAAoB8+B,UALvB;AAMH7+B,iBAAK,EAAEq/B,YAAY,CAACr/B,KAAb,GAAqB6+B,UANzB;AAOH7gC,qBAAS,EAAEnB,OAAO,CAACuF,aAAR,CAAsBpE,SAP9B;AAQHF,sBAAU,EAAEjB,OAAO,CAACuF,aAAR,CAAsBtE;AAR/B,WAAP;AAUH;AACJ;AACD;;;;;;AAIA,eAASwhC,iBAAT,SAA8C;AAAA,YAAjBniC,OAAiB,UAAjBA,OAAiB;AAAA,YAARoD,IAAQ,UAARA,IAAQ;AAC1C,eAAOpD,OAAO,IAAIoD,IAAI,CAACV,GAAhB,IAAuB1C,OAAO,IAAIoD,IAAI,CAACL,MAA9C;AACH;AACD;;;;;;AAIA,eAASq/B,iBAAT,SAA8C;AAAA,YAAjBtiC,OAAiB,UAAjBA,OAAiB;AAAA,YAARsD,IAAQ,UAARA,IAAQ;AAC1C,eAAOtD,OAAO,IAAIsD,IAAI,CAACR,IAAhB,IAAwB9C,OAAO,IAAIsD,IAAI,CAACP,KAA/C;AACH;AACD;;;;;;AAIA,eAASw/B,cAAT,SAAkF;AAAA,YAAxDviC,OAAwD,UAAxDA,OAAwD;AAAA,YAA/CE,OAA+C,UAA/CA,OAA+C;AAAA,YAAtC2hB,GAAsC,UAAtCA,GAAsC;AAAA,YAAjC2gB,YAAiC,UAAjCA,YAAiC;AAAA,YAAnBC,eAAmB,UAAnBA,eAAmB;;AAC9E;AACA,YAAMC,WAAW,GAAG7gB,GAAG,CAAC1c,aAAJ,CAAkBzB,qBAAlB,EAApB;AACA;;AACA,YAAM+mB,KAAK,GAAG,EAAd;;AACA,YAAI+X,YAAY,CAAC1/B,IAAb,IACAs+B,eAAe,CAACphC,OAAD,EAAU0iC,WAAW,CAAC5/B,IAAtB,EAA4B2/B,eAA5B,CADf,IAEAJ,iBAAiB,CAAC;AAAEniC,iBAAO,EAAPA,OAAF;AAAWoD,cAAI,EAAEo/B;AAAjB,SAAD,CAFrB,EAEuD;AACnDjY,eAAK,CAAC3nB,IAAN,GAAa,IAAb;AACH;;AACD,YAAI0/B,YAAY,CAACz/B,KAAb,IACAq+B,eAAe,CAACphC,OAAD,EAAU0iC,WAAW,CAAC3/B,KAAtB,EAA6B0/B,eAA7B,CADf,IAEAJ,iBAAiB,CAAC;AAAEniC,iBAAO,EAAPA,OAAF;AAAWoD,cAAI,EAAEo/B;AAAjB,SAAD,CAFrB,EAEuD;AACnDjY,eAAK,CAAC1nB,KAAN,GAAc,IAAd;AACH;;AACD,YAAIy/B,YAAY,CAAC5/B,GAAb,IACAw+B,eAAe,CAAClhC,OAAD,EAAUwiC,WAAW,CAAC9/B,GAAtB,EAA2B6/B,eAA3B,CADf,IAEAH,iBAAiB,CAAC;AAAEtiC,iBAAO,EAAPA,OAAF;AAAWsD,cAAI,EAAEo/B;AAAjB,SAAD,CAFrB,EAEuD;AACnDjY,eAAK,CAAC7nB,GAAN,GAAY,IAAZ;AACH;;AACD,YAAI4/B,YAAY,CAACv/B,MAAb,IACAm+B,eAAe,CAAClhC,OAAD,EAAUwiC,WAAW,CAACz/B,MAAtB,EAA8Bw/B,eAA9B,CADf,IAEAH,iBAAiB,CAAC;AAAEtiC,iBAAO,EAAPA,OAAF;AAAWsD,cAAI,EAAEo/B;AAAjB,SAAD,CAFrB,EAEuD;AACnDjY,eAAK,CAACxnB,MAAN,GAAe,IAAf;AACH;;AACD,eAAOwnB,KAAP;AACH;AACD;;;AACA,UAAMkY,sBAAsB,GAAG9kC,MAAM,CAAC+kC,MAAP,CAAc;AACzCC,eAAO,EAAE,WADgC;AAEzCC,gBAAQ,EAAE,WAF+B;AAGzCC,kBAAU,EAAE,WAH6B;AAIzCC,mBAAW,EAAE,WAJ4B;AAKzCC,mBAAW,EAAE,YAL4B;AAMzCC,mBAAW,EAAE;AAN4B,OAAd,CAA/B;AAQA;;;;;;AAKA,eAASC,eAAT,CAAyB1Y,KAAzB,EAAgC2Y,OAAhC,EAAyC;AACrC,YAAI3Y,KAAK,CAAC3nB,IAAN,IAAc2nB,KAAK,CAAC7nB,GAAxB,EAA6B;AACzB,iBAAOwgC,OAAO,CAACP,OAAf;AACH,SAFD,MAGK,IAAIpY,KAAK,CAAC1nB,KAAN,IAAe0nB,KAAK,CAAC7nB,GAAzB,EAA8B;AAC/B,iBAAOwgC,OAAO,CAACN,QAAf;AACH,SAFI,MAGA,IAAIrY,KAAK,CAAC3nB,IAAN,IAAc2nB,KAAK,CAACxnB,MAAxB,EAAgC;AACjC,iBAAOmgC,OAAO,CAACL,UAAf;AACH,SAFI,MAGA,IAAItY,KAAK,CAAC1nB,KAAN,IAAe0nB,KAAK,CAACxnB,MAAzB,EAAiC;AAClC,iBAAOmgC,OAAO,CAACJ,WAAf;AACH,SAFI,MAGA,IAAIvY,KAAK,CAAC3nB,IAAN,IAAc2nB,KAAK,CAAC1nB,KAAxB,EAA+B;AAChC,iBAAOqgC,OAAO,CAACH,WAAf;AACH,SAFI,MAGA,IAAIxY,KAAK,CAAC7nB,GAAN,IAAa6nB,KAAK,CAACxnB,MAAvB,EAA+B;AAChC,iBAAOmgC,OAAO,CAACF,WAAf;AACH,SAFI,MAGA;AACD,iBAAO,EAAP;AACH;AACJ;AACD;;;;;;AAIA,eAASG,YAAT,SAAiE;AAAA,YAAzC5Y,KAAyC,UAAzCA,KAAyC;AAAA,YAAlC6Y,gBAAkC,UAAlCA,gBAAkC;AAAA,YAAhBC,YAAgB,UAAhBA,YAAgB;;AAC7D;AACA,YAAMC,SAAS,GAAG,EAAlB;AACA3lC,cAAM,CAACuO,IAAP,CAAYqe,KAAZ,EAAmBxf,OAAnB,CAA2B,UAAAuf,IAAI,EAAI;AAC/BgZ,mBAAS,CAAChZ,IAAD,CAAT,GAAkB,CAAC+Y,YAAY,CAAC/Y,IAAD,CAAZ,IAAsB,CAAvB,KAA6B8Y,gBAAgB,CAAC9Y,IAAD,CAAhB,IAA0B,CAAvD,CAAlB;AACH,SAFD;AAGA,eAAOgZ,SAAP;AACH;AACD;;;AACA,UAAMC,mBAAmB,GAAG,eAA5B;AACA;;AACA,UAAMC,uBAAuB,GAAG,mBAAhC;AACA;;AACA,UAAMC,wBAAwB,GAAG,oBAAjC;AACA;;AACA,UAAMC,sBAAsB,GAAG,kBAA/B;AACA;;AACA,UAAMC,yBAAyB,GAAG,qBAAlC;AACA;;AACA,UAAMC,0BAA0B,GAAG,sBAAnC;AACA;;AACA,UAAMC,sBAAsB,GAAG,EAA/B;AACA;;;;;;;;;;;;UAWMC,kB;AACF;;;;;;;AAOA,oCAAYC,UAAZ,EAAwBv/B,QAAxB,EAAkCmd,GAAlC,EAAuCld,IAAvC,EAA6C;AAAA;;AACzC,eAAKs/B,UAAL,GAAkBA,UAAlB;AACA,eAAKv/B,QAAL,GAAgBA,QAAhB;AACA,eAAKmd,GAAL,GAAWA,GAAX;AACA,eAAKld,IAAL,GAAYA,IAAZ;AACA;;;;;AAIA,eAAKu/B,WAAL,GAAmB,EAAnB;AACA;;;;AAGA,eAAKC,iBAAL,GAAyB,KAAzB;AACA;;;;;;AAKA,eAAKC,cAAL,GAAsB,EAAtB;AACA;;;;AAGA,eAAKC,aAAL,GAAqB1B,sBAArB;AACA;;;;;AAIA,eAAK2B,qBAAL,GAA6B,CAA7B;AACA;;;;AAGA,eAAK3C,uBAAL,GAA+B,OAA/B;AACA;;;;AAGA,eAAK4C,oBAAL,GAA4B,KAA5B;AACA;;;;AAGA,eAAKC,mBAAL,GAA2BT,sBAA3B;AACA;;;;AAGA,eAAKU,WAAL,GAAmB,IAAI,0DAAJ,EAAnB;AACA;;;;AAGA,eAAKC,QAAL,GAAgB,IAAI,0DAAJ,EAAhB;AACA;;;;AAGA,eAAKC,SAAL,GAAiB,IAAI,0DAAJ,EAAjB;AACA;;;;AAGA,eAAKp4B,OAAL,GAAe,IAAI,4CAAJ,EAAf;AACA;;;;AAGA,eAAKF,SAAL,GAAiB,IAAI,4CAAJ,EAAjB;AACA;;;;AAGA,eAAKa,SAAL,GAAiB,IAAI,4CAAJ,EAAjB;AACA,eAAKhG,QAAL,GAAgB,IAAI,4CAAJ,EAAhB;AACA,eAAK09B,YAAL,GAAoB,IAAI,4CAAJ,EAApB;AACA,eAAKC,qBAAL,GAA6BC,qBAAqB,CAACC,WAAtB,CAAkCrgC,QAAlC,EAA4CC,IAA5C,CAA7B;AACH;AACD;;;;;;;;qCAIW;AAAA;;AACP;AACA,gBAAMqgC,UAAU,GAAG,mDAAM,KAAKH,qBAAL,CAA2BI,WAAjC,EAA8C,KAAK54B,SAAnD,CAAnB;AACA;;AACA,gBAAM64B,UAAU,GAAG,mDAAM,KAAKL,qBAAL,CAA2Bx8B,WAAjC,EAA8C,KAAK6E,SAAnD,EAA8D1F,IAA9D,CAAmE,2DAAI,kBAAe;AAAA,kBAAZjI,KAAY,UAAZA,KAAY;;AACrG,kBAAIorB,aAAJ,EAAmB;AACfprB,qBAAK,CAAC8F,cAAN;AACH;AACJ,aAJqF,CAAnE,EAIf,8DAJe,CAAnB;AAKA;;AACA,gBAAM8/B,QAAQ,GAAG,mDAAM,KAAKN,qBAAL,CAA2BO,SAAjC,EAA4C,KAAK74B,OAAjD,CAAjB;AACA;;AACA,gBAAIoe,aAAJ;AACA;;AACA,gBAAM0a,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAC7B,kBAAI1a,aAAa,IAAIA,aAAa,CAAC2a,UAAnC,EAA+C;AAC3C,uBAAI,CAACzjB,GAAL,CAAS1c,aAAT,CAAuBkG,aAAvB,CAAqCC,WAArC,CAAiDqf,aAAa,CAAC2a,UAA/D;;AACA,uBAAI,CAAC5gC,QAAL,CAAcY,QAAd,CAAuB,OAAI,CAACuc,GAAL,CAAS1c,aAAhC,EAA+C,YAA/C,EAA6D,SAA7D;AACH;AACJ,aALD;AAMA;;;AACA,gBAAMogC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC3B,qBAAO1nC,MAAM,CAACkL,MAAP,CAAc,EAAd,EAAkB45B,sBAAlB,EAA0C,OAAI,CAAC0B,aAA/C,CAAP;AACH,aAFD;;AAGA,iBAAKO,YAAL,CACKp9B,IADL,CACU,iEAAU,KAAK08B,WAAf,CADV,EACuC,2DAAI,YAAM;AAC7C,qBAAQ,OAAI,CAACA,WAAL,IACJrmC,MAAM,CAACuO,IAAP,CAAY,OAAI,CAAC83B,WAAjB,EAA8B7N,IAA9B,CAAmC,UAAA7L,IAAI;AAAA,uBAAI,CAAC,CAAC,OAAI,CAAC0Z,WAAL,CAAiB1Z,IAAjB,CAAN;AAAA,eAAvC,CADJ;AAEH,aAHsC,CADvC,EAII,iEAAU,UAAAgb,wBAAwB;AAAA,qBAAIA,wBAAwB,GAAGN,UAAH,GAAgB,0CAA5C;AAAA,aAAlC,CAJJ,EAI0F,iEAAU,KAAKV,mBAAf,CAJ1F,EAI+H,iEAAU,KAAKt9B,QAAf,CAJ/H,EAKKkC,SALL,CAKe,kBAA0B;AAAA,kBAAvBpJ,OAAuB,UAAvBA,OAAuB;AAAA,kBAAdE,OAAc,UAAdA,OAAc;;AACrC;AACA,kBAAMgkC,WAAW,GAAG3B,cAAc,CAAC;AAC/BviC,uBAAO,EAAPA,OAD+B;AAE/BE,uBAAO,EAAPA,OAF+B;AAG/B2hB,mBAAG,EAAE,OAAI,CAACA,GAHqB;AAI/B2gB,4BAAY,EAAE,OAAI,CAAC0B,WAJY;AAK/BzB,+BAAe,EAAE,OAAI,CAAC6B;AALS,eAAD,CAAlC;AAOA;;AACA,kBAAMD,aAAa,GAAGkB,gBAAgB,EAAtC;;AACA,kBAAI,CAAC5a,aAAL,EAAoB;AAChB;AACA,oBAAMvgB,MAAM,GAAG+4B,eAAe,CAACe,WAAD,EAAcG,aAAd,CAA9B;;AACA,uBAAI,CAAC3/B,QAAL,CAAcY,QAAd,CAAuB,OAAI,CAACuc,GAAL,CAAS1c,aAAhC,EAA+C,QAA/C,EAAyDiF,MAAzD;AACH;;AACD,qBAAI,CAACq7B,eAAL,CAAqB,OAAI,CAAC5jB,GAA1B,EAA+B6hB,uBAA/B,EAAwDQ,WAAW,CAACphC,IAAZ,KAAqB,IAA7E;;AACA,qBAAI,CAAC2iC,eAAL,CAAqB,OAAI,CAAC5jB,GAA1B,EAA+B8hB,wBAA/B,EAAyDO,WAAW,CAACnhC,KAAZ,KAAsB,IAA/E;;AACA,qBAAI,CAAC0iC,eAAL,CAAqB,OAAI,CAAC5jB,GAA1B,EAA+B+hB,sBAA/B,EAAuDM,WAAW,CAACthC,GAAZ,KAAoB,IAA3E;;AACA,qBAAI,CAAC6iC,eAAL,CAAqB,OAAI,CAAC5jB,GAA1B,EAA+BgiB,yBAA/B,EAA0DK,WAAW,CAACjhC,MAAZ,KAAuB,IAAjF;AACH,aAzBD;AA0BA;;AACA,gBAAMyiC,SAAS,GAAGV,UAAU,CACvBx9B,IADa,CACR,gEAAS,UAAAm+B,WAAW,EAAI;AAC9B;;;;AAIA,uBAASC,OAAT,CAAiBC,UAAjB,EAA6B;AACzB,uBAAO;AACH7lC,yBAAO,EAAE6lC,UAAU,CAAC7lC,OAAX,GAAqB2lC,WAAW,CAAC3lC,OADvC;AAEHE,yBAAO,EAAE2lC,UAAU,CAAC3lC,OAAX,GAAqBylC,WAAW,CAACzlC;AAFvC,iBAAP;AAIH;AACD;;;AACA,kBAAM4lC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtB;AACA,oBAAMC,QAAQ,GAAG;AAAEhmC,mBAAC,EAAE,CAAL;AAAQE,mBAAC,EAAE;AAAX,iBAAjB;;AACA,oBAAI0qB,aAAJ,EAAmB;AACf,sBAAI,OAAI,CAACyZ,cAAL,CAAoBthC,IAApB,IAA4B6nB,aAAa,CAACF,KAAd,CAAoB3nB,IAApD,EAA0D;AACtDijC,4BAAQ,CAAChmC,CAAT,GAAa,CAAC,OAAI,CAACqkC,cAAL,CAAoBthC,IAAlC;AACH,mBAFD,MAGK,IAAI,OAAI,CAACshC,cAAL,CAAoBrhC,KAApB,IACL4nB,aAAa,CAACF,KAAd,CAAoB1nB,KADnB,EAC0B;AAC3BgjC,4BAAQ,CAAChmC,CAAT,GAAa,CAAC,OAAI,CAACqkC,cAAL,CAAoBrhC,KAAlC;AACH;;AACD,sBAAI,OAAI,CAACqhC,cAAL,CAAoBxhC,GAApB,IAA2B+nB,aAAa,CAACF,KAAd,CAAoB7nB,GAAnD,EAAwD;AACpDmjC,4BAAQ,CAAC9lC,CAAT,GAAa,CAAC,OAAI,CAACmkC,cAAL,CAAoBxhC,GAAlC;AACH,mBAFD,MAGK,IAAI,OAAI,CAACwhC,cAAL,CAAoBnhC,MAApB,IACL0nB,aAAa,CAACF,KAAd,CAAoBxnB,MADnB,EAC2B;AAC5B8iC,4BAAQ,CAAC9lC,CAAT,GAAa,CAAC,OAAI,CAACmkC,cAAL,CAAoBnhC,MAAlC;AACH;AACJ;;AACD,uBAAO8iC,QAAP;AACH,eApBD;AAqBA;;;;;;;AAKA,uBAASC,OAAT,CAAiBC,MAAjB,EAAyBF,QAAzB,EAAmC;AAC/B,uBAAO;AACHhmC,mBAAC,EAAE4I,IAAI,CAACyT,IAAL,CAAU6pB,MAAM,CAACjmC,OAAP,GAAiB+lC,QAAQ,CAAChmC,CAApC,CADA;AAEHE,mBAAC,EAAE0I,IAAI,CAACyT,IAAL,CAAU6pB,MAAM,CAAC/lC,OAAP,GAAiB6lC,QAAQ,CAAC9lC,CAApC;AAFA,iBAAP;AAIH;;AACD,qBAAO;AAAE;AAAkB,mEAAMilC,UAAU,CAAC19B,IAAX,CAAgB,4DAAK,CAAL,CAAhB,EAAyBA,IAAzB,CAA8B,2DAAI,UAAAy+B,MAAM;AAAA,yBAAI,GAAGA,MAAH,CAAJ;AAAA,iBAAV,CAA9B,CAAN,EAAgEf,UAAU,CAAC19B,IAAX,CAAgB,iEAAhB,CAAhE,CAApB,CACFA,IADE,CACG,2DAAI,kBAAiC;AAAA;AAAA,sBAA/B0+B,cAA+B;AAAA,sBAAfC,SAAe;;AAC3C,yBAAO,CACHD,cAAc,GAAGN,OAAO,CAACM,cAAD,CAAV,GAA6BA,cADxC,EAEHN,OAAO,CAACO,SAAD,CAFJ,CAAP;AAIH,iBALS,CADH,EAOF3+B,IAPE,CAOG,8DAAO,kBAAiC;AAAA;AAAA,sBAA/B0+B,cAA+B;AAAA,sBAAfC,SAAe;;AAC9C,sBAAI,CAACD,cAAL,EAAqB;AACjB,2BAAO,IAAP;AACH;AACD;;;AACA,sBAAMH,QAAQ,GAAGD,WAAW,EAA5B;AACA;;AACA,sBAAMM,YAAY,GAAGJ,OAAO,CAACE,cAAD,EAAiBH,QAAjB,CAA5B;AACA;;AACA,sBAAMM,OAAO,GAAGL,OAAO,CAACG,SAAD,EAAYJ,QAAZ,CAAvB;AACA,yBAAQK,YAAY,CAACrmC,CAAb,KAAmBsmC,OAAO,CAACtmC,CAA3B,IAAgCqmC,YAAY,CAACnmC,CAAb,KAAmBomC,OAAO,CAACpmC,CAAnE;AACH,iBAXS,CAPH,EAmBFuH,IAnBE,CAmBG,2DAAI,kBAAmB;AAAA;AAAA,sBAAf2+B,SAAe;;AAC7B;AACA,sBAAMJ,QAAQ,GAAGD,WAAW,EAA5B;AACA,yBAAO;AACH9lC,2BAAO,EAAE2I,IAAI,CAACC,KAAL,CAAWu9B,SAAS,CAACnmC,OAAV,GAAoB+lC,QAAQ,CAAChmC,CAAxC,IAA6CgmC,QAAQ,CAAChmC,CAD5D;AAEHG,2BAAO,EAAEyI,IAAI,CAACC,KAAL,CAAWu9B,SAAS,CAACjmC,OAAV,GAAoB6lC,QAAQ,CAAC9lC,CAAxC,IAA6C8lC,QAAQ,CAAC9lC;AAF5D,mBAAP;AAIH,iBAPS,CAnBH,EA2BFuH,IA3BE,CA2BG,iEAAU,mDAAM29B,QAAN,EAAgBH,UAAhB,CAAV,CA3BH;AAAP;AA4BH,aAxES,CADQ,EA0Ebx9B,IA1Ea,CA0ER,8DAAO;AAAA,qBAAM,CAAC,CAACmjB,aAAR;AAAA,aAAP,CA1EQ,CAAlB;AA2EA+a,qBAAS,CACJl+B,IADL,CACU,2DAAI,kBAA0B;AAAA,kBAAvBxH,OAAuB,UAAvBA,OAAuB;AAAA,kBAAdE,OAAc,UAAdA,OAAc;AACpC,qBAAOqhC,uBAAuB;AAAE;AAAkB5W,2BAAnB,CAAmC6W,YAApC;AAAmD;AAAkB7W,2BAAnB,CAAmCF,KAArF,EAA4FzqB,OAA5F,EAAqGE,OAArG,CAA9B;AACH,aAFS,CADV,EAIKsH,IAJL,CAIU,8DAAO,UAACi6B,eAAD,EAAqB;AAClC,qBAAQ,OAAI,CAAC8C,oBAAL,IACJ,CAAC,EAAE9C,eAAe,CAACr+B,MAAhB,IACCq+B,eAAe,CAACt+B,KADjB,IAECs+B,eAAe,CAACr+B,MAAhB,GAAyB,CAF1B,IAGCq+B,eAAe,CAACt+B,KAAhB,GAAwB,CAH3B,CADL;AAKH,aANS,CAJV,EAWKqE,IAXL,CAWU,8DAAO,UAACi6B,eAAD,EAAqB;AAClC,qBAAO,OAAI,CAACtY,cAAL,GACD,OAAI,CAACA,cAAL,CAAoB;AAClBvB,yBAAS,EAAE6Z,eADO;AAElBhX,qBAAK,EAAE4Y,YAAY,CAAC;AAChB5Y,uBAAK;AAAG;AAAkBE,+BAAnB,CAAmCF,KAD1B;AAEhB6Y,kCAAgB;AAAG;AAAkB3Y,+BAAnB,CAAmC6W,YAFrC;AAGhB+B,8BAAY,EAAE9B;AAHE,iBAAD;AAFD,eAApB,CADC,GASD,IATN;AAUH,aAXS,CAXV,EAsBI,iEAAU,KAAKv6B,QAAf,CAtBJ,EAuBKkC,SAvBL,CAuBe,UAACq4B,eAAD,EAAqB;AAChC,kBAAI9W,aAAa,IAAIA,aAAa,CAAC2a,UAAnC,EAA+C;AAC3C,uBAAI,CAAC5gC,QAAL,CAAcY,QAAd,CAAuBqlB,aAAa,CAAC2a,UAArC,EAAiD,QAAjD,YAA8D7D,eAAe,CAACr+B,MAA9E;;AACA,uBAAI,CAACsB,QAAL,CAAcY,QAAd,CAAuBqlB,aAAa,CAAC2a,UAArC,EAAiD,OAAjD,YAA6D7D,eAAe,CAACt+B,KAA7E;;AACA,uBAAI,CAACuB,QAAL,CAAcY,QAAd,CAAuBqlB,aAAa,CAAC2a,UAArC,EAAiD,KAAjD,YAA2D7D,eAAe,CAAC7+B,GAA3E;;AACA,uBAAI,CAAC8B,QAAL,CAAcY,QAAd,CAAuBqlB,aAAa,CAAC2a,UAArC,EAAiD,MAAjD,YAA4D7D,eAAe,CAAC3+B,IAA5E;AACH;;AACD,qBAAI,CAAC6B,IAAL,CAAUwD,GAAV,CAAc,YAAM;AAChB,uBAAI,CAACu8B,QAAL,CAAct5B,IAAd,CAAmB;AACfqf,uBAAK,EAAE4Y,YAAY,CAAC;AAChB5Y,yBAAK;AAAG;AAAkBE,iCAAnB,CAAmCF,KAD1B;AAEhB6Y,oCAAgB;AAAG;AAAkB3Y,iCAAnB,CAAmC6W,YAFrC;AAGhB+B,gCAAY,EAAE9B;AAHE,mBAAD,CADJ;AAMf7Z,2BAAS,EAAE6Z;AANI,iBAAnB;AAQH,eATD;;AAUC;AAAkB9W,2BAAnB,CAAmC2b,WAAnC,GAAiD7E,eAAjD;AACH,aAzCD;AA0CAuD,sBAAU,CACLx9B,IADL,CACU,2DAAI,kBAAiC;AAAA,kBAA9BxH,OAA8B,UAA9BA,OAA8B;AAAA,kBAArBE,OAAqB,UAArBA,OAAqB;AAAA,kBAAZuqB,KAAY,UAAZA,KAAY;AAC3C,qBAAQA,KAAK,IACT8X,cAAc,CAAC;AACXviC,uBAAO,EAAPA,OADW;AAEXE,uBAAO,EAAPA,OAFW;AAGX2hB,mBAAG,EAAE,OAAI,CAACA,GAHC;AAIX2gB,4BAAY,EAAE,OAAI,CAAC0B,WAJR;AAKXzB,+BAAe,EAAE,OAAI,CAAC6B;AALX,eAAD,CADlB;AAQH,aATS,CADV,EAWK98B,IAXL,CAWU,8DAAO,UAACijB,KAAD,EAAW;AACxB,qBAAO5sB,MAAM,CAACuO,IAAP,CAAYqe,KAAZ,EAAmB/oB,MAAnB,GAA4B,CAAnC;AACH,aAFS,CAXV,EAaI,iEAAU,KAAKwF,QAAf,CAbJ,EAcKkC,SAdL,CAce,UAACqhB,KAAD,EAAW;AACtB,kBAAIE,aAAJ,EAAmB;AACf0a,kCAAkB;AACrB;AACD;;;AACA,kBAAM7D,YAAY,GAAGE,cAAc,CAAC,OAAI,CAAC7f,GAAN,EAAW,OAAI,CAAC8f,uBAAhB,CAAnC;AACAhX,2BAAa,GAAG;AACZF,qBAAK,EAALA,KADY;AAEZ+W,4BAAY,EAAZA,YAFY;AAGZ8E,2BAAW,EAAE9E;AAHD,eAAhB;AAKA;;AACA,kBAAM6C,aAAa,GAAGkB,gBAAgB,EAAtC;AACA;;AACA,kBAAMn7B,MAAM,GAAG+4B,eAAe,CAACxY,aAAa,CAACF,KAAf,EAAsB4Z,aAAtB,CAA9B;;AACA,qBAAI,CAAC3/B,QAAL,CAAcY,QAAd,CAAuB7E,QAAQ,CAACG,IAAhC,EAAsC,QAAtC,EAAgDwJ,MAAhD;;AACA,qBAAI,CAACq7B,eAAL,CAAqB,OAAI,CAAC5jB,GAA1B,EAA+B4hB,mBAA/B,EAAoD,IAApD;;AACA,kBAAI,OAAI,CAACU,iBAAT,EAA4B;AACxBxZ,6BAAa,CAAC2a,UAAd,GAA2B,OAAI,CAACzjB,GAAL,CAAS1c,aAAT,CAAuByE,SAAvB,CAAiC,IAAjC,CAA3B;;AACA,uBAAI,CAACiY,GAAL,CAAS1c,aAAT,CAAuBkG,aAAvB,CAAqCvB,WAArC,CAAiD6gB,aAAa,CAAC2a,UAA/D;;AACA,uBAAI,CAAC5gC,QAAL,CAAcY,QAAd,CAAuB,OAAI,CAACuc,GAAL,CAAS1c,aAAhC,EAA+C,YAA/C,EAA6D,QAA7D;;AACA,uBAAI,CAACT,QAAL,CAAcY,QAAd,CAAuBqlB,aAAa,CAAC2a,UAArC,EAAiD,UAAjD,EAA6D,OAAI,CAAC3D,uBAAlE;;AACA,uBAAI,CAACj9B,QAAL,CAAcY,QAAd,CAAuBqlB,aAAa,CAAC2a,UAArC,EAAiD,MAAjD,YAA4D3a,aAAa,CAAC6W,YAAd,CAA2B1+B,IAAvF;;AACA,uBAAI,CAAC4B,QAAL,CAAcY,QAAd,CAAuBqlB,aAAa,CAAC2a,UAArC,EAAiD,KAAjD,YAA2D3a,aAAa,CAAC6W,YAAd,CAA2B5+B,GAAtF;;AACA,uBAAI,CAAC8B,QAAL,CAAcY,QAAd,CAAuBqlB,aAAa,CAAC2a,UAArC,EAAiD,QAAjD,YAA8D3a,aAAa,CAAC6W,YAAd,CAA2Bp+B,MAAzF;;AACA,uBAAI,CAACsB,QAAL,CAAcY,QAAd,CAAuBqlB,aAAa,CAAC2a,UAArC,EAAiD,OAAjD,YAA6D3a,aAAa,CAAC6W,YAAd,CAA2Br+B,KAAxF;;AACA,uBAAI,CAACuB,QAAL,CAAcY,QAAd,CAAuBqlB,aAAa,CAAC2a,UAArC,EAAiD,QAAjD,EAA2DnC,eAAe,CAACxY,aAAa,CAACF,KAAf,EAAsB4Z,aAAtB,CAA1E;;AACA,uBAAI,CAAC3/B,QAAL,CAAc+E,QAAd,CAAuBkhB,aAAa,CAAC2a,UAArC,EAAiDxB,0BAAjD;;AACC;AAAkBnZ,6BAAa,CAAC2a,UAAjC,CAA8CvkC,SAA9C;AAA2D;AAAkB4pB,6BAAa,CAAC6W,YAAd,CACxEzgC,SADL;;AAEC;AAAkB4pB,6BAAa,CAAC2a,UAAjC,CAA8CzkC,UAA9C;AAA4D;AAAkB8pB,6BAAa,CAAC6W,YAAd,CACzE3gC,UADL;AAEH;;AACD,qBAAI,CAAC8D,IAAL,CAAUwD,GAAV,CAAc,YAAM;AAChB,uBAAI,CAACs8B,WAAL,CAAiBr5B,IAAjB,CAAsB;AAClBqf,uBAAK,EAAE4Y,YAAY,CAAC;AAChB5Y,yBAAK,EAALA,KADgB;AAEhB6Y,oCAAgB,EAAE9B,YAFF;AAGhB+B,gCAAY,EAAE/B;AAHE,mBAAD,CADD;AAMlB5Z,2BAAS,EAAE2Z,uBAAuB,CAACC,YAAD,EAAe,EAAf,EAAmB,CAAnB,EAAsB,CAAtB;AANhB,iBAAtB;AAQH,eATD;AAUH,aAzDD;AA0DA2D,oBAAQ,CAAC39B,IAAT,CAAc,iEAAU,KAAKN,QAAf,CAAd,EAAwCkC,SAAxC,CAAkD,YAAM;AACpD,kBAAIuhB,aAAJ,EAAmB;AACf,uBAAI,CAACjmB,QAAL,CAAcmH,WAAd,CAA0B,OAAI,CAACgW,GAAL,CAAS1c,aAAnC,EAAkDs+B,mBAAlD;;AACA,uBAAI,CAAC/+B,QAAL,CAAcY,QAAd,CAAuB7E,QAAQ,CAACG,IAAhC,EAAsC,QAAtC,EAAgD,EAAhD;;AACA,uBAAI,CAAC8D,QAAL,CAAcY,QAAd,CAAuB,OAAI,CAACuc,GAAL,CAAS1c,aAAhC,EAA+C,QAA/C,EAAyD,EAAzD;;AACA,uBAAI,CAACR,IAAL,CAAUwD,GAAV,CAAc,YAAM;AAChB,yBAAI,CAACw8B,SAAL,CAAev5B,IAAf,CAAoB;AAChBqf,yBAAK,EAAE4Y,YAAY,CAAC;AAChB5Y,2BAAK;AAAG;AAAkBE,mCAAnB,CAAmCF,KAD1B;AAEhB6Y,sCAAgB;AAAG;AAAkB3Y,mCAAnB,CAAmC6W,YAFrC;AAGhB+B,kCAAY;AAAG;AAAkB5Y,mCAAnB,CAAmC2b;AAHjC,qBAAD,CADH;AAMhB1e,6BAAS;AAAG;AAAkB+C,iCAAnB,CAAmC2b;AAN9B,mBAApB;AAQH,iBATD;;AAUAjB,kCAAkB;AAClB1a,6BAAa,GAAG,IAAhB;AACH;AACJ,aAlBD;AAmBH;AACD;;;;;;;;sCAKY1e,O,EAAS;AACjB,gBAAIA,OAAO,CAACi4B,WAAZ,EAAyB;AACrB,mBAAKU,YAAL,CAAkB58B,IAAlB,CAAuB,KAAKk8B,WAA5B;AACH;AACJ;AACD;;;;;;;wCAIc;AACV;AACA,gBAAI,0EAAkB,KAAKD,UAAvB,CAAJ,EAAwC;AACpC,mBAAKv/B,QAAL,CAAcY,QAAd,CAAuB7E,QAAQ,CAACG,IAAhC,EAAsC,QAAtC,EAAgD,EAAhD;AACH;;AACD,iBAAKyL,SAAL,CAAeV,QAAf;AACA,iBAAKY,OAAL,CAAaZ,QAAb;AACA,iBAAKuB,SAAL,CAAevB,QAAf;AACA,iBAAKi5B,YAAL,CAAkBj5B,QAAlB;AACA,iBAAKzE,QAAL,CAAcc,IAAd;AACH;AACD;;;;;;;;;;0CAOgB6Z,G,EAAKP,I,EAAMlL,G,EAAK;AAC5B,gBAAIA,GAAJ,EAAS;AACL,mBAAK1R,QAAL,CAAc+E,QAAd,CAAuBoY,GAAG,CAAC1c,aAA3B,EAA0Cmc,IAA1C;AACH,aAFD,MAGK;AACD,mBAAK5c,QAAL,CAAcmH,WAAd,CAA0BgW,GAAG,CAAC1c,aAA9B,EAA6Cmc,IAA7C;AACH;AACJ;;;;;;AAEL0iB,wBAAkB,CAAC9/B,UAAnB,GAAgC,CAC5B;AAAErE,YAAI,EAAE,uDAAR;AAAmB8B,YAAI,EAAE,CAAC;AACdkE,kBAAQ,EAAE;AADI,SAAD;AAAzB,OAD4B,CAAhC;AAKA;;AACAm+B,wBAAkB,CAACl+B,cAAnB,GAAoC;AAAA,eAAM,CACtC;AAAEjG,cAAI,EAAE8D,SAAR;AAAmBO,oBAAU,EAAE,CAAC;AAAErE,gBAAI,EAAE,oDAAR;AAAgB8B,gBAAI,EAAE,CAAC,yDAAD;AAAtB,WAAD;AAA/B,SADsC,EAEtC;AAAE9B,cAAI,EAAE;AAAR,SAFsC,EAGtC;AAAEA,cAAI,EAAE;AAAR,SAHsC,EAItC;AAAEA,cAAI,EAAE;AAAR,SAJsC,CAAN;AAAA,OAApC;;AAMAmkC,wBAAkB,CAACj+B,cAAnB,GAAoC;AAChCojB,sBAAc,EAAE,CAAC;AAAEtpB,cAAI,EAAE;AAAR,SAAD,CADgB;AAEhCqkC,mBAAW,EAAE,CAAC;AAAErkC,cAAI,EAAE;AAAR,SAAD,CAFmB;AAGhCskC,yBAAiB,EAAE,CAAC;AAAEtkC,cAAI,EAAE;AAAR,SAAD,CAHa;AAIhCukC,sBAAc,EAAE,CAAC;AAAEvkC,cAAI,EAAE;AAAR,SAAD,CAJgB;AAKhCwkC,qBAAa,EAAE,CAAC;AAAExkC,cAAI,EAAE;AAAR,SAAD,CALiB;AAMhCykC,6BAAqB,EAAE,CAAC;AAAEzkC,cAAI,EAAE;AAAR,SAAD,CANS;AAOhC8hC,+BAAuB,EAAE,CAAC;AAAE9hC,cAAI,EAAE;AAAR,SAAD,CAPO;AAQhC0kC,4BAAoB,EAAE,CAAC;AAAE1kC,cAAI,EAAE;AAAR,SAAD,CARU;AAShC2kC,2BAAmB,EAAE,CAAC;AAAE3kC,cAAI,EAAE;AAAR,SAAD,CATW;AAUhC4kC,mBAAW,EAAE,CAAC;AAAE5kC,cAAI,EAAE;AAAR,SAAD,CAVmB;AAWhC6kC,gBAAQ,EAAE,CAAC;AAAE7kC,cAAI,EAAE;AAAR,SAAD,CAXsB;AAYhC8kC,iBAAS,EAAE,CAAC;AAAE9kC,cAAI,EAAE;AAAR,SAAD;AAZqB,OAApC;;UAcMilC,qB;;;AACF;;AACA;;;;;sCAKmBpgC,Q,EAAUC,I,EAAM;AAC/B,gBAAI,CAACmgC,qBAAqB,CAACpqB,QAA3B,EAAqC;AACjCoqB,mCAAqB,CAACpqB,QAAtB,GAAiC,IAAIoqB,qBAAJ,CAA0BpgC,QAA1B,EAAoCC,IAApC,CAAjC;AACH;;AACD,mBAAOmgC,qBAAqB,CAACpqB,QAA7B;AACH;AACD;;;;;;;AAIA,uCAAYhW,QAAZ,EAAsBC,IAAtB,EAA4B;AAAA;;AACxB,eAAKsgC,WAAL,GAAmB,IAAI,+CAAJ,CAAe,UAACl9B,QAAD,EAAc;AAC5C;AACA,gBAAIw+B,oBAAJ;AACA;;AACA,gBAAIC,qBAAJ;AACA7hC,gBAAI,CAACM,iBAAL,CAAuB,YAAM;AACzBshC,kCAAoB,GAAG7hC,QAAQ,CAACQ,MAAT,CAAgB,UAAhB,EAA4B,WAA5B,EAAyC,UAAC3F,KAAD,EAAW;AACvEwI,wBAAQ,CAACC,IAAT,CAAc;AACVhI,yBAAO,EAAET,KAAK,CAACS,OADL;AAEVE,yBAAO,EAAEX,KAAK,CAACW,OAFL;AAGVX,uBAAK,EAALA;AAHU,iBAAd;AAKH,eANsB,CAAvB;AAOAinC,mCAAqB,GAAG9hC,QAAQ,CAACQ,MAAT,CAAgB,UAAhB,EAA4B,YAA5B,EAA0C,UAAC3F,KAAD,EAAW;AACzEwI,wBAAQ,CAACC,IAAT,CAAc;AACVhI,yBAAO,EAAET,KAAK,CAACqO,OAAN,CAAc,CAAd,EAAiB5N,OADhB;AAEVE,yBAAO,EAAEX,KAAK,CAACqO,OAAN,CAAc,CAAd,EAAiB1N,OAFhB;AAGVX,uBAAK,EAALA;AAHU,iBAAd;AAKH,eANuB,CAAxB;AAOH,aAfD;AAgBA,mBAAO,YAAM;AACTgnC,kCAAoB;AACpBC,mCAAqB;AACxB,aAHD;AAIH,WAzBkB,EAyBhBh/B,IAzBgB,CAyBX,8DAzBW,CAAnB;AA0BA,eAAKa,WAAL,GAAmB,IAAI,+CAAJ,CAAe,UAACN,QAAD,EAAc;AAC5C;AACA,gBAAI0+B,oBAAJ;AACA;;AACA,gBAAIC,oBAAJ;AACA/hC,gBAAI,CAACM,iBAAL,CAAuB,YAAM;AACzBwhC,kCAAoB,GAAG/hC,QAAQ,CAACQ,MAAT,CAAgB,UAAhB,EAA4B,WAA5B,EAAyC,UAAC3F,KAAD,EAAW;AACvEwI,wBAAQ,CAACC,IAAT,CAAc;AACVhI,yBAAO,EAAET,KAAK,CAACS,OADL;AAEVE,yBAAO,EAAEX,KAAK,CAACW,OAFL;AAGVX,uBAAK,EAALA;AAHU,iBAAd;AAKH,eANsB,CAAvB;AAOAmnC,kCAAoB,GAAGhiC,QAAQ,CAACQ,MAAT,CAAgB,UAAhB,EAA4B,WAA5B,EAAyC,UAAC3F,KAAD,EAAW;AACvEwI,wBAAQ,CAACC,IAAT,CAAc;AACVhI,yBAAO,EAAET,KAAK,CAACO,aAAN,CAAoB,CAApB,EAAuBE,OADtB;AAEVE,yBAAO,EAAEX,KAAK,CAACO,aAAN,CAAoB,CAApB,EAAuBI,OAFtB;AAGVX,uBAAK,EAALA;AAHU,iBAAd;AAKH,eANsB,CAAvB;AAOH,aAfD;AAgBA,mBAAO,YAAM;AACTknC,kCAAoB;AACpBC,kCAAoB;AACvB,aAHD;AAIH,WAzBkB,EAyBhBl/B,IAzBgB,CAyBX,8DAzBW,CAAnB;AA0BA,eAAK49B,SAAL,GAAiB,IAAI,+CAAJ,CAAe,UAACr9B,QAAD,EAAc;AAC1C;AACA,gBAAI4+B,kBAAJ;AACA;;AACA,gBAAIC,mBAAJ;AACA;;AACA,gBAAIC,sBAAJ;AACAliC,gBAAI,CAACM,iBAAL,CAAuB,YAAM;AACzB0hC,gCAAkB,GAAGjiC,QAAQ,CAACQ,MAAT,CAAgB,UAAhB,EAA4B,SAA5B,EAAuC,UAAC3F,KAAD,EAAW;AACnEwI,wBAAQ,CAACC,IAAT,CAAc;AACVhI,yBAAO,EAAET,KAAK,CAACS,OADL;AAEVE,yBAAO,EAAEX,KAAK,CAACW,OAFL;AAGVX,uBAAK,EAALA;AAHU,iBAAd;AAKH,eANoB,CAArB;AAOAqnC,iCAAmB,GAAGliC,QAAQ,CAACQ,MAAT,CAAgB,UAAhB,EAA4B,UAA5B,EAAwC,UAAC3F,KAAD,EAAW;AACrEwI,wBAAQ,CAACC,IAAT,CAAc;AACVhI,yBAAO,EAAET,KAAK,CAACuO,cAAN,CAAqB,CAArB,EAAwB9N,OADvB;AAEVE,yBAAO,EAAEX,KAAK,CAACuO,cAAN,CAAqB,CAArB,EAAwB5N,OAFvB;AAGVX,uBAAK,EAALA;AAHU,iBAAd;AAKH,eANqB,CAAtB;AAOAsnC,oCAAsB,GAAGniC,QAAQ,CAACQ,MAAT,CAAgB,UAAhB,EAA4B,aAA5B,EAA2C,UAAC3F,KAAD,EAAW;AAC3EwI,wBAAQ,CAACC,IAAT,CAAc;AACVhI,yBAAO,EAAET,KAAK,CAACuO,cAAN,CAAqB,CAArB,EAAwB9N,OADvB;AAEVE,yBAAO,EAAEX,KAAK,CAACuO,cAAN,CAAqB,CAArB,EAAwB5N,OAFvB;AAGVX,uBAAK,EAALA;AAHU,iBAAd;AAKH,eANwB,CAAzB;AAOH,aAtBD;AAuBA,mBAAO,YAAM;AACTonC,gCAAkB;AAClBC,iCAAmB;AACnBC,oCAAsB;AACzB,aAJD;AAKH,WAnCgB,EAmCdr/B,IAnCc,CAmCT,8DAnCS,CAAjB;AAoCH;;;;AAGL;;;;;AAIA;;;;;;;;;;;;;UAWMs/B,qB;AACF;;;;;;AAMA,uCAAYpiC,QAAZ,EAAsB9E,OAAtB,EAA+B+E,IAA/B,EAAqCoiC,SAArC,EAAgD;AAAA;;AAC5C,eAAKriC,QAAL,GAAgBA,QAAhB;AACA,eAAK9E,OAAL,GAAeA,OAAf;AACA,eAAK+E,IAAL,GAAYA,IAAZ;AACA,eAAKoiC,SAAL,GAAiBA,SAAjB;AACA;;;;AAGA,eAAK7C,WAAL,GAAmB,EAAnB;AACA,eAAK8C,cAAL,GAAsB,EAAtB;AACH;AACD;;;;;;;wCAGc;AACV,iBAAK96B,yBAAL;AACH;AACD;;;;;;;;;;sCAOY3M,K,EAAOS,O,EAASE,O,EAAS;AAAA;;AACjCX,iBAAK,CAAC8F,cAAN;AACA,iBAAKV,IAAL,CAAUM,iBAAV,CAA4B,YAAM;AAC9B,kBAAI,CAAC,OAAI,CAAC+hC,cAAL,CAAoBv5B,SAAzB,EAAoC;AAChC,uBAAI,CAACu5B,cAAL,CAAoBv5B,SAApB,GAAgC,OAAI,CAAC/I,QAAL,CAAcQ,MAAd,CAAqB,OAAI,CAACtF,OAAL,CAAauF,aAAlC,EAAiD,WAAjD,EAA8D,UAACuI,cAAD,EAAoB;AAC9G,yBAAI,CAACu5B,WAAL,CAAiBv5B,cAAjB,EAAiCA,cAAc,CAAC5N,aAAf,CAA6B,CAA7B,EAAgCE,OAAjE,EAA0E0N,cAAc,CAAC5N,aAAf,CAA6B,CAA7B,EAAgCI,OAA1G;AACH,iBAF+B,CAAhC;AAGH;;AACD,kBAAI,CAAC,OAAI,CAAC8mC,cAAL,CAAoB95B,SAAzB,EAAoC;AAChC,uBAAI,CAAC85B,cAAL,CAAoB95B,SAApB,GAAgC,OAAI,CAACxI,QAAL,CAAcQ,MAAd,CAAqB,OAAI,CAACtF,OAAL,CAAauF,aAAlC,EAAiD,WAAjD,EAA8D,UAACgI,cAAD,EAAoB;AAC9G,yBAAI,CAAC85B,WAAL,CAAiB95B,cAAjB,EAAiCA,cAAc,CAACnN,OAAhD,EAAyDmN,cAAc,CAACjN,OAAxE;AACH,iBAF+B,CAAhC;AAGH;;AACD,qBAAI,CAAC6mC,SAAL,CAAe16B,SAAf,CAAyBrE,IAAzB,CAA8B;AAC1BhI,uBAAO,EAAPA,OAD0B;AAE1BE,uBAAO,EAAPA,OAF0B;AAG1BuqB,qBAAK,EAAE,OAAI,CAACyZ;AAHc,eAA9B;AAKH,aAhBD;AAiBH;AACD;;;;;;;;;oCAMUlkC,O,EAASE,O,EAAS;AAAA;;AACxB,iBAAKyE,IAAL,CAAUM,iBAAV,CAA4B,YAAM;AAC9B,qBAAI,CAACiH,yBAAL;;AACA,qBAAI,CAAC66B,SAAL,CAAex6B,OAAf,CAAuBvE,IAAvB,CAA4B;AACxBhI,uBAAO,EAAPA,OADwB;AAExBE,uBAAO,EAAPA,OAFwB;AAGxBuqB,qBAAK,EAAE,OAAI,CAACyZ;AAHY,eAA5B;AAKH,aAPD;AAQH;AACD;;;;;;;;;;sCAOY3kC,K,EAAOS,O,EAASE,O,EAAS;AACjC,iBAAK6mC,SAAL,CAAe75B,SAAf,CAAyBlF,IAAzB,CAA8B;AAC1BhI,qBAAO,EAAPA,OAD0B;AAE1BE,qBAAO,EAAPA,OAF0B;AAG1BuqB,mBAAK,EAAE,KAAKyZ,WAHc;AAI1B3kC,mBAAK,EAALA;AAJ0B,aAA9B;AAMH;AACD;;;;;;;sDAI4B;AAAA;;AACxB1B,kBAAM,CAACuO,IAAP,CAAY,KAAK46B,cAAjB,EAAiC/7B,OAAjC,CAAyC,UAAApL,IAAI,EAAI;AAC3C;AAAkB,qBAApB,CAA4BmnC,cAA5B,CAA2CnnC,IAA3C;;AACA,qBAAO,OAAI,CAACmnC,cAAL,CAAoBnnC,IAApB,CAAP;AACH,aAHD;AAIH;;;;;;AAELinC,2BAAqB,CAAC5iC,UAAtB,GAAmC,CAC/B;AAAErE,YAAI,EAAE,uDAAR;AAAmB8B,YAAI,EAAE,CAAC;AACdkE,kBAAQ,EAAE;AADI,SAAD;AAAzB,OAD+B,CAAnC;AAKA;;AACAihC,2BAAqB,CAAChhC,cAAtB,GAAuC;AAAA,eAAM,CACzC;AAAEjG,cAAI,EAAE;AAAR,SADyC,EAEzC;AAAEA,cAAI,EAAE;AAAR,SAFyC,EAGzC;AAAEA,cAAI,EAAE;AAAR,SAHyC,EAIzC;AAAEA,cAAI,EAAEmkC;AAAR,SAJyC,CAAN;AAAA,OAAvC;;AAMA8C,2BAAqB,CAAC/gC,cAAtB,GAAuC;AACnCm+B,mBAAW,EAAE,CAAC;AAAErkC,cAAI,EAAE;AAAR,SAAD,CADsB;AAEnCqnC,mBAAW,EAAE,CAAC;AAAErnC,cAAI,EAAE,0DAAR;AAAsB8B,cAAI,EAAE,CAAC,YAAD,EAAe,CACzC,QADyC,EAEzC,2BAFyC,EAGzC,2BAHyC,CAAf;AAA5B,SAAD,EAIM;AAAE9B,cAAI,EAAE,0DAAR;AAAsB8B,cAAI,EAAE,CAAC,WAAD,EAAc,CAAC,QAAD,EAAW,gBAAX,EAA6B,gBAA7B,CAAd;AAA5B,SAJN,CAFsB;AAOnCwlC,iBAAS,EAAE,CAAC;AAAEtnC,cAAI,EAAE,0DAAR;AAAsB8B,cAAI,EAAE,CAAC,UAAD,EAAa,CACrC,kCADqC,EAErC,kCAFqC,CAAb;AAA5B,SAAD,EAGQ;AAAE9B,cAAI,EAAE,0DAAR;AAAsB8B,cAAI,EAAE,CAAC,aAAD,EAAgB,CAC/C,kCAD+C,EAE/C,kCAF+C,CAAhB;AAA5B,SAHR,EAMQ;AAAE9B,cAAI,EAAE,0DAAR;AAAsB8B,cAAI,EAAE,CAAC,SAAD,EAAY,CAAC,gBAAD,EAAmB,gBAAnB,CAAZ;AAA5B,SANR;AAPwB,OAAvC;AAgBA;;;;;UAIMylC,e;;;;AAENA,qBAAe,CAACljC,UAAhB,GAA6B,CACzB;AAAErE,YAAI,EAAE,sDAAR;AAAkB8B,YAAI,EAAE,CAAC;AACbsO,sBAAY,EAAE,CAAC+zB,kBAAD,EAAqB8C,qBAArB,CADD;AAEb/oC,iBAAO,EAAE,CAACimC,kBAAD,EAAqB8C,qBAArB;AAFI,SAAD;AAAxB,OADyB,CAA7B;AAOA;;;;;AAKA;;;;AAOA;;;;;;;;;;;;;;;AC13BA;AACC,iBAAUO,MAAV,EAAkBhjC,OAAlB,EAA2B;AACxB,eAA+DpD,MAAM,CAAClD,OAAP,GAAiBsG,OAAO,EAAvF,GACA,SADA;AAGH,OAJA,EAIC,IAJD,EAIO,YAAY;AAAE;AAElB;;;;;;;;;;;;;AAeA,YAAIhG,OAAQ,GAAG,oBAAW;AACtBA,iBAAQ,GAAGR,MAAM,CAACkL,MAAP,IAAiB,SAAS1K,QAAT,CAAkB+2B,CAAlB,EAAqB;AAC7C,iBAAK,IAAIC,CAAJ,EAAO1jB,CAAC,GAAG,CAAX,EAAczP,CAAC,GAAGT,SAAS,CAACC,MAAjC,EAAyCiQ,CAAC,GAAGzP,CAA7C,EAAgDyP,CAAC,EAAjD,EAAqD;AACjD0jB,eAAC,GAAG5zB,SAAS,CAACkQ,CAAD,CAAb;;AACA,mBAAK,IAAI2jB,CAAT,IAAcD,CAAd;AAAiB,oBAAIx3B,MAAM,CAACuS,SAAP,CAAiBmlB,cAAjB,CAAgChlB,IAAhC,CAAqC8kB,CAArC,EAAwCC,CAAxC,CAAJ,EAAgDF,CAAC,CAACE,CAAD,CAAD,GAAOD,CAAC,CAACC,CAAD,CAAR;AAAjE;AACH;;AACD,mBAAOF,CAAP;AACH,WAND;;AAOA,iBAAO/2B,OAAQ,CAACyD,KAAT,CAAe,IAAf,EAAqBL,SAArB,CAAP;AACH,SATD;;AAWA,YAAI6lC,KAAK,GAAG,CACR,UADQ,EAER,SAFQ,EAGR,aAHQ,EAIR,WAJQ,EAKR,WALQ,EAMR,eANQ,EAOR,QAPQ,EAQR,eARQ,EASR,SATQ,EAUR,eAVQ,EAWR,cAXQ,EAYR,uBAZQ,CAAZ;AAcA,YAAIhV,QAAQ,GAAG;AACXiV,kBAAQ,EAAE,EADC;AAEXC,iBAAO,EAAE,EAFE;AAGXrX,oBAAU,EAAE,KAHD;AAIXH,mBAAS,EAAE,QAJA;AAKXC,kBAAQ,EAAE,KALC;AAMXC,uBAAa,EAAE,oBANJ;AAOXuX,iBAAO,EAAE,OAAOjoC,MAAP,KAAkB,QAAlB,IACLA,MAAM,CAACkoC,SAAP,CAAiBC,SAAjB,CAA2Bx8B,OAA3B,CAAmC,MAAnC,MAA+C,CAAC,CARzC;AASXklB,wBAAc,EAAE,QATL;AAUXC,oBAAU,EAAE,IAVD;AAWXsX,uBAAa,EAAE,IAXJ;AAYXC,qBAAW,EAAE,IAZF;AAaXtX,oBAAU,EAAE,OAbD;AAcXC,qBAAW,EAAE,EAdF;AAeXC,uBAAa,EAAE,CAfJ;AAgBXqX,wBAAc,EAAE,CAhBL;AAiBXpX,iBAAO,EAAE,EAjBE;AAkBXC,uBAAa,EAAE,KAlBJ;AAmBXC,gBAAM,EAAE,EAnBG;AAoBXE,uBAAa,EAAE,KApBJ;AAqBXD,oBAAU,EAAE,KArBD;AAsBXkX,sBAAY,EAAE,sBAAUC,GAAV,EAAe;AACzB,mBAAO,OAAOjsB,OAAP,KAAmB,WAAnB,IAAkCA,OAAO,CAACD,IAAR,CAAaksB,GAAb,CAAzC;AACH,WAxBU;AAyBX3U,iBAAO,EAAE,iBAAU4U,SAAV,EAAqB;AAC1B,gBAAItrB,IAAI,GAAG,IAAIrP,IAAJ,CAAS26B,SAAS,CAACjvB,OAAV,EAAT,CAAX;AACA2D,gBAAI,CAACxE,QAAL,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAF0B,CAG1B;;AACAwE,gBAAI,CAAC/d,OAAL,CAAa+d,IAAI,CAAC5d,OAAL,KAAiB,CAAjB,GAAsB,CAAC4d,IAAI,CAAC9E,MAAL,KAAgB,CAAjB,IAAsB,CAAzD,EAJ0B,CAK1B;;AACA,gBAAIqwB,KAAK,GAAG,IAAI56B,IAAJ,CAASqP,IAAI,CAACwrB,WAAL,EAAT,EAA6B,CAA7B,EAAgC,CAAhC,CAAZ,CAN0B,CAO1B;;AACA,mBAAQ,IACJx/B,IAAI,CAACC,KAAL,CAAW,CAAC,CAAC+T,IAAI,CAAC3D,OAAL,KAAiBkvB,KAAK,CAAClvB,OAAN,EAAlB,IAAqC,QAArC,GACR,CADQ,GAEP,CAACkvB,KAAK,CAACrwB,MAAN,KAAiB,CAAlB,IAAuB,CAFjB,IAGP,CAHJ,CADJ;AAKH,WAtCU;AAuCXmZ,uBAAa,EAAE,CAvCJ;AAwCXoX,8BAAoB,EAAE,EAxCX;AAyCXnX,gBAAM,EAAE,KAzCG;AA0CXzQ,gBAAM,EAAE,SA1CG;AA2CX4Q,yBAAe,EAAE,CA3CN;AA4CXC,cAAI,EAAE,QA5CK;AA6CXgX,2BAAiB,EAAE,UA7CR;AA8CX/W,mBAAS,EAAE,wOA9CA;AA+CXC,oBAAU,EAAE,KA/CD;AAgDXhkB,aAAG,EAAE,IAAID,IAAJ,EAhDM;AAiDXgmB,kBAAQ,EAAE,EAjDC;AAkDXI,iBAAO,EAAE,EAlDE;AAmDXK,qBAAW,EAAE,EAnDF;AAoDXuU,mBAAS,EAAE,EApDA;AAqDXC,mBAAS,EAAE,EArDA;AAsDX5U,uBAAa,EAAE,EAtDJ;AAuDXF,gBAAM,EAAE,EAvDG;AAwDX+U,uBAAa,EAAE,EAxDJ;AAyDX3U,iBAAO,EAAE,EAzDE;AA0DXC,uBAAa,EAAE,EA1DJ;AA2DXF,sBAAY,EAAE,EA3DH;AA4DX6U,+BAAqB,EAAE,EA5DZ;AA6DX3W,iBAAO,EAAE,EA7DE;AA8DXxnB,kBAAQ,EAAE,MA9DC;AA+DXo+B,yBAAe,EAAE/kC,SA/DN;AAgEX6tB,mBAAS,EAAE,sOAhEA;AAiEXC,+BAAqB,EAAE,KAjEZ;AAkEXO,oBAAU,EAAE,CAlED;AAmEX,oBAAQ,KAnEG;AAoEXiC,mBAAS,EAAE,KApEA;AAqEXrC,qBAAW,EAAE,KArEF;AAsEXC,cAAI,EAAE;AAtEK,SAAf;AAyEA,YAAI8W,OAAO,GAAG;AACVC,kBAAQ,EAAE;AACNC,qBAAS,EAAE,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,CADL;AAENC,oBAAQ,EAAE,CACN,QADM,EAEN,QAFM,EAGN,SAHM,EAIN,WAJM,EAKN,UALM,EAMN,QANM,EAON,UAPM;AAFJ,WADA;AAaVC,gBAAM,EAAE;AACJF,qBAAS,EAAE,CACP,KADO,EAEP,KAFO,EAGP,KAHO,EAIP,KAJO,EAKP,KALO,EAMP,KANO,EAOP,KAPO,EAQP,KARO,EASP,KATO,EAUP,KAVO,EAWP,KAXO,EAYP,KAZO,CADP;AAeJC,oBAAQ,EAAE,CACN,SADM,EAEN,UAFM,EAGN,OAHM,EAIN,OAJM,EAKN,KALM,EAMN,MANM,EAON,MAPM,EAQN,QARM,EASN,WATM,EAUN,SAVM,EAWN,UAXM,EAYN,UAZM;AAfN,WAbE;AA2CVE,qBAAW,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,EAAyC,EAAzC,EAA6C,EAA7C,CA3CH;AA4CVC,wBAAc,EAAE,CA5CN;AA6CVC,iBAAO,EAAE,iBAAUC,GAAV,EAAe;AACpB,gBAAI9T,CAAC,GAAG8T,GAAG,GAAG,GAAd;AACA,gBAAI9T,CAAC,GAAG,CAAJ,IAASA,CAAC,GAAG,EAAjB,EACI,OAAO,IAAP;;AACJ,oBAAQA,CAAC,GAAG,EAAZ;AACI,mBAAK,CAAL;AACI,uBAAO,IAAP;;AACJ,mBAAK,CAAL;AACI,uBAAO,IAAP;;AACJ,mBAAK,CAAL;AACI,uBAAO,IAAP;;AACJ;AACI,uBAAO,IAAP;AARR;AAUH,WA3DS;AA4DVV,wBAAc,EAAE,MA5DN;AA6DVyU,0BAAgB,EAAE,IA7DR;AA8DVC,qBAAW,EAAE,qBA9DH;AA+DVC,qBAAW,EAAE,iBA/DH;AAgEVC,cAAI,EAAE,CAAC,IAAD,EAAO,IAAP,CAhEI;AAiEVC,uBAAa,EAAE,MAjEL;AAkEVC,uBAAa,EAAE,MAlEL;AAmEVC,yBAAe,EAAE,QAnEP;AAoEVzV,mBAAS,EAAE;AApED,SAAd;;AAuEA,YAAI0V,GAAG,GAAG,SAANA,GAAM,CAAUpb,MAAV,EAAkB;AAAE,iBAAO,CAAC,MAAMA,MAAP,EAAeld,KAAf,CAAqB,CAAC,CAAtB,CAAP;AAAkC,SAAhE;;AACA,YAAIu4B,IAAG,GAAG,SAANA,IAAM,CAAUC,IAAV,EAAgB;AAAE,iBAAQA,IAAI,KAAK,IAAT,GAAgB,CAAhB,GAAoB,CAA5B;AAAiC,SAA7D;AACA;;;AACA,iBAASC,QAAT,CAAkBxoC,IAAlB,EAAwByoC,IAAxB,EAA8BC,SAA9B,EAAyC;AACrC,cAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;AAAEA,qBAAS,GAAG,KAAZ;AAAoB;;AAChD,cAAIC,OAAJ;AACA,iBAAO,YAAY;AACf,gBAAIC,OAAO,GAAG,IAAd;AAAA,gBAAoBvoC,IAAI,GAAGF,SAA3B;AACAwoC,mBAAO,KAAK,IAAZ,IAAoB3wB,YAAY,CAAC2wB,OAAD,CAAhC;AACAA,mBAAO,GAAGzqC,MAAM,CAAC2Z,UAAP,CAAkB,YAAY;AACpC8wB,qBAAO,GAAG,IAAV;AACA,kBAAI,CAACD,SAAL,EACI1oC,IAAI,CAACQ,KAAL,CAAWooC,OAAX,EAAoBvoC,IAApB;AACP,aAJS,EAIPooC,IAJO,CAAV;AAKA,gBAAIC,SAAS,IAAI,CAACC,OAAlB,EACI3oC,IAAI,CAACQ,KAAL,CAAWooC,OAAX,EAAoBvoC,IAApB;AACP,WAVD;AAWH;;AACD,YAAIwoC,QAAQ,GAAG,SAAXA,QAAW,CAAUt5B,GAAV,EAAe;AAC1B,iBAAOA,GAAG,YAAYjP,KAAf,GAAuBiP,GAAvB,GAA6B,CAACA,GAAD,CAApC;AACH,SAFD;;AAIA,iBAASu5B,WAAT,CAAqBC,IAArB,EAA2BC,SAA3B,EAAsCT,IAAtC,EAA4C;AACxC,cAAIA,IAAI,KAAK,IAAb,EACI,OAAOQ,IAAI,CAACx0B,SAAL,CAAeO,GAAf,CAAmBk0B,SAAnB,CAAP;AACJD,cAAI,CAACx0B,SAAL,CAAe3K,MAAf,CAAsBo/B,SAAtB;AACH;;AACD,iBAASC,aAAT,CAAuBC,GAAvB,EAA4BF,SAA5B,EAAuCG,OAAvC,EAAgD;AAC5C,cAAI7mC,CAAC,GAAGpE,MAAM,CAACiB,QAAP,CAAgB8pC,aAAhB,CAA8BC,GAA9B,CAAR;AACAF,mBAAS,GAAGA,SAAS,IAAI,EAAzB;AACAG,iBAAO,GAAGA,OAAO,IAAI,EAArB;AACA7mC,WAAC,CAAC0mC,SAAF,GAAcA,SAAd;AACA,cAAIG,OAAO,KAAK9mC,SAAhB,EACIC,CAAC,CAAC8mC,WAAF,GAAgBD,OAAhB;AACJ,iBAAO7mC,CAAP;AACH;;AACD,iBAAS+mC,SAAT,CAAmB5/B,IAAnB,EAAyB;AACrB,iBAAOA,IAAI,CAAC6/B,UAAZ;AACI7/B,gBAAI,CAACO,WAAL,CAAiBP,IAAI,CAAC6/B,UAAtB;AADJ;AAEH;;AACD,iBAASC,UAAT,CAAoB9/B,IAApB,EAA0B+/B,SAA1B,EAAqC;AACjC,cAAIA,SAAS,CAAC//B,IAAD,CAAb,EACI,OAAOA,IAAP,CADJ,KAEK,IAAIA,IAAI,CAAChB,UAAT,EACD,OAAO8gC,UAAU,CAAC9/B,IAAI,CAAChB,UAAN,EAAkB+gC,SAAlB,CAAjB;AACJ,iBAAOnnC,SAAP,CALiC,CAKf;AACrB;;AACD,iBAASonC,iBAAT,CAA2BC,cAA3B,EAA2CC,IAA3C,EAAiD;AAC7C,cAAIC,OAAO,GAAGX,aAAa,CAAC,KAAD,EAAQ,iBAAR,CAA3B;AAAA,cAAuDY,QAAQ,GAAGZ,aAAa,CAAC,OAAD,EAAU,cAAcS,cAAxB,CAA/E;AAAA,cAAwHI,OAAO,GAAGb,aAAa,CAAC,MAAD,EAAS,SAAT,CAA/I;AAAA,cAAoKc,SAAS,GAAGd,aAAa,CAAC,MAAD,EAAS,WAAT,CAA7L;;AACA,cAAI7C,SAAS,CAACC,SAAV,CAAoBx8B,OAApB,CAA4B,UAA5B,MAA4C,CAAC,CAAjD,EAAoD;AAChDggC,oBAAQ,CAACtrC,IAAT,GAAgB,QAAhB;AACH,WAFD,MAGK;AACDsrC,oBAAQ,CAACtrC,IAAT,GAAgB,MAAhB;AACAsrC,oBAAQ,CAACG,OAAT,GAAmB,MAAnB;AACH;;AACD,cAAIL,IAAI,KAAKtnC,SAAb,EACI,KAAK,IAAIsK,GAAT,IAAgBg9B,IAAhB;AACIE,oBAAQ,CAACI,YAAT,CAAsBt9B,GAAtB,EAA2Bg9B,IAAI,CAACh9B,GAAD,CAA/B;AADJ;AAEJi9B,iBAAO,CAACphC,WAAR,CAAoBqhC,QAApB;AACAD,iBAAO,CAACphC,WAAR,CAAoBshC,OAApB;AACAF,iBAAO,CAACphC,WAAR,CAAoBuhC,SAApB;AACA,iBAAOH,OAAP;AACH;;AACD,iBAASM,cAAT,CAAwBjsC,KAAxB,EAA+B;AAC3B,cAAI,OAAOA,KAAK,CAACksC,YAAb,KAA8B,UAAlC,EAA8C;AAC1C,gBAAIC,IAAI,GAAGnsC,KAAK,CAACksC,YAAN,EAAX;AACA,mBAAOC,IAAI,CAAC,CAAD,CAAX;AACH;;AACD,iBAAOnsC,KAAK,CAACE,MAAb;AACH;;AAED,YAAIksC,SAAS,GAAG,SAAZA,SAAY,GAAY;AAAE,iBAAOhoC,SAAP;AAAmB,SAAjD;;AACA,YAAIioC,UAAU,GAAG,SAAbA,UAAa,CAAUC,WAAV,EAAuBhD,SAAvB,EAAkCroB,MAAlC,EAA0C;AAAE,iBAAOA,MAAM,CAACuoB,MAAP,CAAcF,SAAS,GAAG,WAAH,GAAiB,UAAxC,EAAoDgD,WAApD,CAAP;AAA0E,SAAvI;;AACA,YAAIC,SAAS,GAAG;AACZC,WAAC,EAAEJ,SADS;AAEZK,WAAC,EAAE,WAAUC,OAAV,EAAmBC,SAAnB,EAA8B1rB,MAA9B,EAAsC;AACrCyrB,mBAAO,CAACptC,QAAR,CAAiB2hB,MAAM,CAACuoB,MAAP,CAAcD,QAAd,CAAuB39B,OAAvB,CAA+B+gC,SAA/B,CAAjB;AACH,WAJW;AAKZC,WAAC,EAAE,WAAUF,OAAV,EAAmBjvB,IAAnB,EAAyB;AACxBivB,mBAAO,CAAC9zB,QAAR,CAAiBrD,UAAU,CAACkI,IAAD,CAA3B;AACH,WAPW;AAQZovB,WAAC,EAAE,WAAUH,OAAV,EAAmBjvB,IAAnB,EAAyB;AACxBivB,mBAAO,CAAC9zB,QAAR,CAAiBrD,UAAU,CAACkI,IAAD,CAA3B;AACH,WAVW;AAWZqvB,WAAC,EAAE,WAAUJ,OAAV,EAAmBvvB,GAAnB,EAAwB;AACvBuvB,mBAAO,CAACrtC,OAAR,CAAgBkW,UAAU,CAAC4H,GAAD,CAA1B;AACH,WAbW;AAcZ4vB,WAAC,EAAE,WAAUL,OAAV,EAAmB1C,IAAnB,EAAyB/oB,MAAzB,EAAiC;AAChCyrB,mBAAO,CAAC9zB,QAAR,CAAkB8zB,OAAO,CAACxzB,QAAR,KAAqB,EAAtB,GACb,KAAKmxB,IAAG,CAAC,IAAI2C,MAAJ,CAAW/rB,MAAM,CAAC+oB,IAAP,CAAY,CAAZ,CAAX,EAA2B,GAA3B,EAAgCiD,IAAhC,CAAqCjD,IAArC,CAAD,CADZ;AAEH,WAjBW;AAkBZkD,WAAC,EAAE,WAAUR,OAAV,EAAmBS,UAAnB,EAA+BlsB,MAA/B,EAAuC;AACtCyrB,mBAAO,CAACptC,QAAR,CAAiB2hB,MAAM,CAACuoB,MAAP,CAAcF,SAAd,CAAwB19B,OAAxB,CAAgCuhC,UAAhC,CAAjB;AACH,WApBW;AAqBZC,WAAC,EAAE,WAAUV,OAAV,EAAmBhW,OAAnB,EAA4B;AAC3BgW,mBAAO,CAACW,UAAR,CAAmB93B,UAAU,CAACmhB,OAAD,CAA7B;AACH,WAvBW;AAwBZ4W,WAAC,EAAE,WAAUC,CAAV,EAAaC,WAAb,EAA0B;AAAE,mBAAO,IAAIz/B,IAAJ,CAASwH,UAAU,CAACi4B,WAAD,CAAV,GAA0B,IAAnC,CAAP;AAAkD,WAxBrE;AAyBZC,WAAC,EAAE,WAAUf,OAAV,EAAmBgB,OAAnB,EAA4BzsB,MAA5B,EAAoC;AACnC,gBAAI0sB,UAAU,GAAG/qC,QAAQ,CAAC8qC,OAAD,CAAzB;AACA,gBAAItwB,IAAI,GAAG,IAAIrP,IAAJ,CAAS2+B,OAAO,CAAC9D,WAAR,EAAT,EAAgC,CAAhC,EAAmC,IAAI,CAAC+E,UAAU,GAAG,CAAd,IAAmB,CAA1D,EAA6D,CAA7D,EAAgE,CAAhE,EAAmE,CAAnE,EAAsE,CAAtE,CAAX;AACAvwB,gBAAI,CAAC/d,OAAL,CAAa+d,IAAI,CAAC5d,OAAL,KAAiB4d,IAAI,CAAC9E,MAAL,EAAjB,GAAiC2I,MAAM,CAACyoB,cAArD;AACA,mBAAOtsB,IAAP;AACH,WA9BW;AA+BZwwB,WAAC,EAAE,WAAUlB,OAAV,EAAmB1oB,IAAnB,EAAyB;AACxB0oB,mBAAO,CAACmB,WAAR,CAAoBt4B,UAAU,CAACyO,IAAD,CAA9B;AACH,WAjCW;AAkCZ8pB,WAAC,EAAE,WAAUP,CAAV,EAAaQ,OAAb,EAAsB;AAAE,mBAAO,IAAIhgC,IAAJ,CAASggC,OAAT,CAAP;AAA2B,WAlC1C;AAmCZlsC,WAAC,EAAE,WAAU6qC,OAAV,EAAmBvvB,GAAnB,EAAwB;AACvBuvB,mBAAO,CAACrtC,OAAR,CAAgBkW,UAAU,CAAC4H,GAAD,CAA1B;AACH,WArCW;AAsCZ6wB,WAAC,EAAE,WAAUtB,OAAV,EAAmBjvB,IAAnB,EAAyB;AACxBivB,mBAAO,CAAC9zB,QAAR,CAAiBrD,UAAU,CAACkI,IAAD,CAA3B;AACH,WAxCW;AAyCZrL,WAAC,EAAE,WAAUs6B,OAAV,EAAmBlQ,OAAnB,EAA4B;AAC3BkQ,mBAAO,CAAC7zB,UAAR,CAAmBtD,UAAU,CAACinB,OAAD,CAA7B;AACH,WA3CW;AA4CZK,WAAC,EAAE,WAAU6P,OAAV,EAAmBvvB,GAAnB,EAAwB;AACvBuvB,mBAAO,CAACrtC,OAAR,CAAgBkW,UAAU,CAAC4H,GAAD,CAA1B;AACH,WA9CW;AA+CZ8wB,WAAC,EAAE7B,SA/CS;AAgDZ8B,WAAC,EAAE,WAAUxB,OAAV,EAAmBjsB,KAAnB,EAA0B;AACzBisB,mBAAO,CAACptC,QAAR,CAAiBiW,UAAU,CAACkL,KAAD,CAAV,GAAoB,CAArC;AACH,WAlDW;AAmDZ9d,WAAC,EAAE,WAAU+pC,OAAV,EAAmBjsB,KAAnB,EAA0B;AACzBisB,mBAAO,CAACptC,QAAR,CAAiBiW,UAAU,CAACkL,KAAD,CAAV,GAAoB,CAArC;AACH,WArDW;AAsDZqV,WAAC,EAAE,WAAU4W,OAAV,EAAmBhW,OAAnB,EAA4B;AAC3BgW,mBAAO,CAACW,UAAR,CAAmB93B,UAAU,CAACmhB,OAAD,CAA7B;AACH,WAxDW;AAyDZhf,WAAC,EAAE,WAAU61B,CAAV,EAAaY,eAAb,EAA8B;AAC7B,mBAAO,IAAIpgC,IAAJ,CAASwH,UAAU,CAAC44B,eAAD,CAAnB,CAAP;AACH,WA3DW;AA4DZC,WAAC,EAAEhC,SA5DS;AA6DZ1rC,WAAC,EAAE,WAAUgsC,OAAV,EAAmB1oB,IAAnB,EAAyB;AACxB0oB,mBAAO,CAACmB,WAAR,CAAoB,OAAOt4B,UAAU,CAACyO,IAAD,CAArC;AACH;AA/DW,SAAhB;AAiEA,YAAIqqB,UAAU,GAAG;AACb7B,WAAC,EAAE,QADU;AAEbC,WAAC,EAAE,QAFU;AAGbG,WAAC,EAAE,cAHU;AAIbC,WAAC,EAAE,cAJU;AAKbC,WAAC,EAAE,kBALU;AAMbC,WAAC,EAAE,EANU;AAObG,WAAC,EAAE,QAPU;AAQbE,WAAC,EAAE,cARU;AASbE,WAAC,EAAE,MATU;AAUbG,WAAC,EAAE,cAVU;AAWbG,WAAC,EAAE,UAXU;AAYbE,WAAC,EAAE,MAZU;AAabjsC,WAAC,EAAE,cAbU;AAcbmsC,WAAC,EAAE,cAdU;AAeb57B,WAAC,EAAE,cAfU;AAgBbyqB,WAAC,EAAE,cAhBU;AAiBboR,WAAC,EAAE,QAjBU;AAkBbC,WAAC,EAAE,cAlBU;AAmBbvrC,WAAC,EAAE,cAnBU;AAoBbmzB,WAAC,EAAE,cApBU;AAqBbpe,WAAC,EAAE,MArBU;AAsBb02B,WAAC,EAAE,cAtBU;AAuBb1tC,WAAC,EAAE;AAvBU,SAAjB;AAyBA,YAAI4tC,OAAO,GAAG;AACV;AACAR,WAAC,EAAE,WAAU1wB,IAAV,EAAgB;AAAE,mBAAOA,IAAI,CAACC,WAAL,EAAP;AAA4B,WAFvC;AAGV;AACAmvB,WAAC,EAAE,WAAUpvB,IAAV,EAAgB6D,MAAhB,EAAwBphB,OAAxB,EAAiC;AAChC,mBAAOohB,MAAM,CAACooB,QAAP,CAAgBC,SAAhB,CAA0BgF,OAAO,CAACF,CAAR,CAAUhxB,IAAV,EAAgB6D,MAAhB,EAAwBphB,OAAxB,CAA1B,CAAP;AACH,WANS;AAOV;AACA4sC,WAAC,EAAE,WAAUrvB,IAAV,EAAgB6D,MAAhB,EAAwBphB,OAAxB,EAAiC;AAChC,mBAAOwsC,UAAU,CAACiC,OAAO,CAAC3rC,CAAR,CAAUya,IAAV,EAAgB6D,MAAhB,EAAwBphB,OAAxB,IAAmC,CAApC,EAAuC,KAAvC,EAA8CohB,MAA9C,CAAjB;AACH,WAVS;AAWV;AACA2rB,WAAC,EAAE,WAAUxvB,IAAV,EAAgB6D,MAAhB,EAAwBphB,OAAxB,EAAiC;AAChC,mBAAOuqC,GAAG,CAACkE,OAAO,CAACN,CAAR,CAAU5wB,IAAV,EAAgB6D,MAAhB,EAAwBphB,OAAxB,CAAD,CAAV;AACH,WAdS;AAeV;AACAgtC,WAAC,EAAE,WAAUzvB,IAAV,EAAgB;AAAE,mBAAOgtB,GAAG,CAAChtB,IAAI,CAAClE,QAAL,EAAD,CAAV;AAA8B,WAhBzC;AAiBV;AACA4zB,WAAC,EAAE,WAAU1vB,IAAV,EAAgB6D,MAAhB,EAAwB;AACvB,mBAAOA,MAAM,CAAC0oB,OAAP,KAAmBvlC,SAAnB,GACDgZ,IAAI,CAAC5d,OAAL,KAAiByhB,MAAM,CAAC0oB,OAAP,CAAevsB,IAAI,CAAC5d,OAAL,EAAf,CADhB,GAED4d,IAAI,CAAC5d,OAAL,EAFN;AAGH,WAtBS;AAuBV;AACAutC,WAAC,EAAE,WAAU3vB,IAAV,EAAgB6D,MAAhB,EAAwB;AAAE,mBAAOA,MAAM,CAAC+oB,IAAP,CAAYK,IAAG,CAACjtB,IAAI,CAAClE,QAAL,KAAkB,EAAnB,CAAf,CAAP;AAAgD,WAxBnE;AAyBV;AACAg0B,WAAC,EAAE,WAAU9vB,IAAV,EAAgB6D,MAAhB,EAAwB;AACvB,mBAAOorB,UAAU,CAACjvB,IAAI,CAAC7E,QAAL,EAAD,EAAkB,IAAlB,EAAwB0I,MAAxB,CAAjB;AACH,WA5BS;AA6BV;AACAmsB,WAAC,EAAE,WAAUhwB,IAAV,EAAgB;AAAE,mBAAOgtB,GAAG,CAAChtB,IAAI,CAACmxB,UAAL,EAAD,CAAV;AAAgC,WA9B3C;AA+BV;AACAjB,WAAC,EAAE,WAAUlwB,IAAV,EAAgB;AAAE,mBAAOA,IAAI,CAAC3D,OAAL,KAAiB,IAAxB;AAA+B,WAhC1C;AAiCVg0B,WAAC,EAAE,WAAUrwB,IAAV,EAAgBmwB,CAAhB,EAAmB1tC,OAAnB,EAA4B;AAC3B,mBAAOA,OAAO,CAACi0B,OAAR,CAAgB1W,IAAhB,CAAP;AACH,WAnCS;AAoCV;AACAwwB,WAAC,EAAE,WAAUxwB,IAAV,EAAgB;AAAE,mBAAOA,IAAI,CAACwrB,WAAL,EAAP;AAA4B,WArCvC;AAsCV;AACA/mC,WAAC,EAAE,WAAUub,IAAV,EAAgB;AAAE,mBAAOgtB,GAAG,CAAChtB,IAAI,CAAC5d,OAAL,EAAD,CAAV;AAA6B,WAvCxC;AAwCV;AACAwuC,WAAC,EAAE,WAAU5wB,IAAV,EAAgB;AAAE,mBAAQA,IAAI,CAAClE,QAAL,KAAkB,EAAlB,GAAuBkE,IAAI,CAAClE,QAAL,KAAkB,EAAzC,GAA8C,EAAtD;AAA4D,WAzCvE;AA0CV;AACA9G,WAAC,EAAE,WAAUgL,IAAV,EAAgB;AAAE,mBAAOgtB,GAAG,CAAChtB,IAAI,CAACjE,UAAL,EAAD,CAAV;AAAgC,WA3C3C;AA4CV;AACA0jB,WAAC,EAAE,WAAUzf,IAAV,EAAgB;AAAE,mBAAOA,IAAI,CAAC5d,OAAL,EAAP;AAAwB,WA7CnC;AA8CV;AACAyuC,WAAC,EAAE,WAAU7wB,IAAV,EAAgB6D,MAAhB,EAAwB;AACvB,mBAAOA,MAAM,CAACooB,QAAP,CAAgBE,QAAhB,CAAyBnsB,IAAI,CAAC9E,MAAL,EAAzB,CAAP;AACH,WAjDS;AAkDV;AACA41B,WAAC,EAAE,WAAU9wB,IAAV,EAAgB;AAAE,mBAAOgtB,GAAG,CAAChtB,IAAI,CAAC7E,QAAL,KAAkB,CAAnB,CAAV;AAAkC,WAnD7C;AAoDV;AACA5V,WAAC,EAAE,WAAUya,IAAV,EAAgB;AAAE,mBAAOA,IAAI,CAAC7E,QAAL,KAAkB,CAAzB;AAA6B,WArDxC;AAsDV;AACAud,WAAC,EAAE,WAAU1Y,IAAV,EAAgB;AAAE,mBAAOA,IAAI,CAACmxB,UAAL,EAAP;AAA2B,WAvDtC;AAwDV;AACA72B,WAAC,EAAE,WAAU0F,IAAV,EAAgB;AAAE,mBAAOA,IAAI,CAAC3D,OAAL,EAAP;AAAwB,WAzDnC;AA0DV;AACA20B,WAAC,EAAE,WAAUhxB,IAAV,EAAgB;AAAE,mBAAOA,IAAI,CAAC9E,MAAL,EAAP;AAAuB,WA3DlC;AA4DV;AACA5X,WAAC,EAAE,WAAU0c,IAAV,EAAgB;AAAE,mBAAO9C,MAAM,CAAC8C,IAAI,CAACwrB,WAAL,EAAD,CAAN,CAA2B4F,SAA3B,CAAqC,CAArC,CAAP;AAAiD;AA7D5D,SAAd;;AAgEA,YAAIC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAU35B,EAAV,EAAc;AACpC,cAAIE,EAAE,GAAGF,EAAE,CAACsP,MAAZ;AAAA,cAAoBA,MAAM,GAAGpP,EAAE,KAAK,KAAK,CAAZ,GAAgB+d,QAAhB,GAA2B/d,EAAxD;AAAA,cAA4DE,EAAE,GAAGJ,EAAE,CAACqgB,IAApE;AAAA,cAA0EA,IAAI,GAAGjgB,EAAE,KAAK,KAAK,CAAZ,GAAgBk0B,OAAhB,GAA0Bl0B,EAA3G;AACA,iBAAO,UAAUw3B,OAAV,EAAmBgC,IAAnB,EAAyBC,cAAzB,EAAyC;AAC5C,gBAAI1tB,MAAM,GAAG0tB,cAAc,IAAIxZ,IAA/B;;AACA,gBAAI/Q,MAAM,CAACoN,UAAP,KAAsBptB,SAA1B,EAAqC;AACjC,qBAAOggB,MAAM,CAACoN,UAAP,CAAkBkb,OAAlB,EAA2BgC,IAA3B,EAAiCztB,MAAjC,CAAP;AACH;;AACD,mBAAOytB,IAAI,CACN35B,KADE,CACI,EADJ,EAEF/C,GAFE,CAEE,UAAU48B,CAAV,EAAax8B,CAAb,EAAgBG,GAAhB,EAAqB;AAC1B,qBAAO+7B,OAAO,CAACM,CAAD,CAAP,IAAcr8B,GAAG,CAACH,CAAC,GAAG,CAAL,CAAH,KAAe,IAA7B,GACDk8B,OAAO,CAACM,CAAD,CAAP,CAAWlC,OAAX,EAAoBzrB,MAApB,EAA4BmD,MAA5B,CADC,GAEDwqB,CAAC,KAAK,IAAN,GACIA,CADJ,GAEI,EAJV;AAKH,aARM,EASF9sB,IATE,CASG,EATH,CAAP;AAUH,WAfD;AAgBH,SAlBD;;AAmBA,YAAI+sB,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAU/5B,EAAV,EAAc;AACjC,cAAIE,EAAE,GAAGF,EAAE,CAACsP,MAAZ;AAAA,cAAoBA,MAAM,GAAGpP,EAAE,KAAK,KAAK,CAAZ,GAAgB+d,QAAhB,GAA2B/d,EAAxD;AAAA,cAA4DE,EAAE,GAAGJ,EAAE,CAACqgB,IAApE;AAAA,cAA0EA,IAAI,GAAGjgB,EAAE,KAAK,KAAK,CAAZ,GAAgBk0B,OAAhB,GAA0Bl0B,EAA3G;AACA,iBAAO,UAAUkI,IAAV,EAAgB0xB,WAAhB,EAA6BC,QAA7B,EAAuCC,YAAvC,EAAqD;AACxD,gBAAI5xB,IAAI,KAAK,CAAT,IAAc,CAACA,IAAnB,EACI,OAAOhZ,SAAP;AACJ,gBAAI6c,MAAM,GAAG+tB,YAAY,IAAI7Z,IAA7B;AACA,gBAAI8Z,UAAJ;AACA,gBAAIC,QAAQ,GAAG9xB,IAAf;AACA,gBAAIA,IAAI,YAAYrP,IAApB,EACIkhC,UAAU,GAAG,IAAIlhC,IAAJ,CAASqP,IAAI,CAAC3D,OAAL,EAAT,CAAb,CADJ,KAEK,IAAI,OAAO2D,IAAP,KAAgB,QAAhB,IACLA,IAAI,CAAC+xB,OAAL,KAAiB/qC,SADhB,CAC0B;AAD1B,cAGD;AACA6qC,wBAAU,GAAG,IAAIlhC,IAAJ,CAASqP,IAAT,CAAb,CAJC,KAKA,IAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AAC/B;AACA,kBAAI8D,MAAM,GAAG4tB,WAAW,IAAI,CAAC1qB,MAAM,IAAI2O,QAAX,EAAqB/B,UAAjD;AACA,kBAAIoe,OAAO,GAAG90B,MAAM,CAAC8C,IAAD,CAAN,CAAaiyB,IAAb,EAAd;;AACA,kBAAID,OAAO,KAAK,OAAhB,EAAyB;AACrBH,0BAAU,GAAG,IAAIlhC,IAAJ,EAAb;AACAghC,wBAAQ,GAAG,IAAX;AACH,eAHD,MAIK,IAAI,KAAK9B,IAAL,CAAUmC,OAAV,KACL,OAAOnC,IAAP,CAAYmC,OAAZ,CADC,CACoB;AADpB,gBAGDH,UAAU,GAAG,IAAIlhC,IAAJ,CAASqP,IAAT,CAAb,CAHC,KAIA,IAAIgH,MAAM,IAAIA,MAAM,CAACyP,SAArB,EACDob,UAAU,GAAG7qB,MAAM,CAACyP,SAAP,CAAiBzW,IAAjB,EAAuB8D,MAAvB,CAAb,CADC,KAEA;AACD+tB,0BAAU,GACN,CAAC7qB,MAAD,IAAW,CAACA,MAAM,CAAC4N,UAAnB,GACM,IAAIjkB,IAAJ,CAAS,IAAIA,IAAJ,GAAW66B,WAAX,EAAT,EAAmC,CAAnC,EAAsC,CAAtC,EAAyC,CAAzC,EAA4C,CAA5C,EAA+C,CAA/C,EAAkD,CAAlD,CADN,GAEM,IAAI76B,IAAJ,CAAS,IAAIA,IAAJ,GAAW6K,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,CAAT,CAHV;AAIA,oBAAI02B,OAAO,GAAG,KAAK,CAAnB;AAAA,oBAAsBC,GAAG,GAAG,EAA5B;;AACA,qBAAK,IAAIn9B,CAAC,GAAG,CAAR,EAAWo9B,UAAU,GAAG,CAAxB,EAA2BC,QAAQ,GAAG,EAA3C,EAA+Cr9B,CAAC,GAAG8O,MAAM,CAAC/e,MAA1D,EAAkEiQ,CAAC,EAAnE,EAAuE;AACnE,sBAAIs9B,OAAO,GAAGxuB,MAAM,CAAC9O,CAAD,CAApB;AACA,sBAAIu9B,WAAW,GAAGD,OAAO,KAAK,IAA9B;AACA,sBAAIE,OAAO,GAAG1uB,MAAM,CAAC9O,CAAC,GAAG,CAAL,CAAN,KAAkB,IAAlB,IAA0Bu9B,WAAxC;;AACA,sBAAItB,UAAU,CAACqB,OAAD,CAAV,IAAuB,CAACE,OAA5B,EAAqC;AACjCH,4BAAQ,IAAIpB,UAAU,CAACqB,OAAD,CAAtB;AACA,wBAAIG,KAAK,GAAG,IAAI7C,MAAJ,CAAWyC,QAAX,EAAqBK,IAArB,CAA0B1yB,IAA1B,CAAZ;;AACA,wBAAIyyB,KAAK,KAAKP,OAAO,GAAG,IAAf,CAAT,EAA+B;AAC3BC,yBAAG,CAACG,OAAO,KAAK,GAAZ,GAAkB,MAAlB,GAA2B,SAA5B,CAAH,CAA0C;AACtC5gB,0BAAE,EAAEyd,SAAS,CAACmD,OAAD,CADyB;AAEtC3+B,2BAAG,EAAE8+B,KAAK,CAAC,EAAEL,UAAH;AAF4B,uBAA1C;AAIH;AACJ,mBATD,MAUK,IAAI,CAACG,WAAL,EACDF,QAAQ,IAAI,GAAZ,CAf+D,CAe9C;;;AACrBF,qBAAG,CAAC7jC,OAAJ,CAAY,UAAUoJ,EAAV,EAAc;AACtB,wBAAIga,EAAE,GAAGha,EAAE,CAACga,EAAZ;AAAA,wBAAgB/d,GAAG,GAAG+D,EAAE,CAAC/D,GAAzB;AACA,2BAAQk+B,UAAU,GAAGngB,EAAE,CAACmgB,UAAD,EAAal+B,GAAb,EAAkBkQ,MAAlB,CAAF,IAA+BguB,UAApD;AACH,mBAHD;AAIH;;AACDA,0BAAU,GAAGK,OAAO,GAAGL,UAAH,GAAgB7qC,SAApC;AACH;AACJ;AACD;;AACA,gBAAI,EAAE6qC,UAAU,YAAYlhC,IAAtB,IAA8B,CAACkhB,KAAK,CAACggB,UAAU,CAACx1B,OAAX,EAAD,CAAtC,CAAJ,EAAmE;AAC/D2K,oBAAM,CAACokB,YAAP,CAAoB,IAAIh2B,KAAJ,CAAU,4BAA4B08B,QAAtC,CAApB;AACA,qBAAO9qC,SAAP;AACH;;AACD,gBAAI2qC,QAAQ,KAAK,IAAjB,EACIE,UAAU,CAACr2B,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B;AACJ,mBAAOq2B,UAAP;AACH,WAjED;AAkEH,SApED;AAqEA;;;;;AAGA,iBAASc,YAAT,CAAsBxX,KAAtB,EAA6BC,KAA7B,EAAoCuW,QAApC,EAA8C;AAC1C,cAAIA,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AAAEA,oBAAQ,GAAG,IAAX;AAAkB;;AAC7C,cAAIA,QAAQ,KAAK,KAAjB,EAAwB;AACpB,mBAAQ,IAAIhhC,IAAJ,CAASwqB,KAAK,CAAC9e,OAAN,EAAT,EAA0Bb,QAA1B,CAAmC,CAAnC,EAAsC,CAAtC,EAAyC,CAAzC,EAA4C,CAA5C,IACJ,IAAI7K,IAAJ,CAASyqB,KAAK,CAAC/e,OAAN,EAAT,EAA0Bb,QAA1B,CAAmC,CAAnC,EAAsC,CAAtC,EAAyC,CAAzC,EAA4C,CAA5C,CADJ;AAEH;;AACD,iBAAO2f,KAAK,CAAC9e,OAAN,KAAkB+e,KAAK,CAAC/e,OAAN,EAAzB;AACH;;AACD,YAAIu2B,SAAS,GAAG,SAAZA,SAAY,CAAUC,EAAV,EAAcC,GAAd,EAAmBC,GAAnB,EAAwB;AACpC,iBAAOF,EAAE,GAAG7mC,IAAI,CAACkmB,GAAL,CAAS4gB,GAAT,EAAcC,GAAd,CAAL,IAA2BF,EAAE,GAAG7mC,IAAI,CAACuP,GAAL,CAASu3B,GAAT,EAAcC,GAAd,CAAvC;AACH,SAFD;;AAGA,YAAI5qC,QAAQ,GAAG;AACX6qC,aAAG,EAAE;AADM,SAAf;;AAIA,YAAI,OAAO9xC,MAAM,CAACkL,MAAd,KAAyB,UAA7B,EAAyC;AACrClL,gBAAM,CAACkL,MAAP,GAAgB,UAAUtJ,MAAV,EAAkB;AAC9B,gBAAIkC,IAAI,GAAG,EAAX;;AACA,iBAAK,IAAIiV,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGnV,SAAS,CAACC,MAAhC,EAAwCkV,EAAE,EAA1C,EAA8C;AAC1CjV,kBAAI,CAACiV,EAAE,GAAG,CAAN,CAAJ,GAAenV,SAAS,CAACmV,EAAD,CAAxB;AACH;;AACD,gBAAI,CAACnX,MAAL,EAAa;AACT,oBAAMoE,SAAS,CAAC,4CAAD,CAAf;AACH;;AACD,gBAAIuyB,OAAO,GAAG,SAAVA,OAAU,CAAUwZ,MAAV,EAAkB;AAC5B,kBAAIA,MAAJ,EAAY;AACR/xC,sBAAM,CAACuO,IAAP,CAAYwjC,MAAZ,EAAoB3kC,OAApB,CAA4B,UAAUgD,GAAV,EAAe;AAAE,yBAAQxO,MAAM,CAACwO,GAAD,CAAN,GAAc2hC,MAAM,CAAC3hC,GAAD,CAA5B;AAAqC,iBAAlF;AACH;AACJ,aAJD;;AAKA,iBAAK,IAAIoG,EAAE,GAAG,CAAT,EAAYw7B,MAAM,GAAGluC,IAA1B,EAAgC0S,EAAE,GAAGw7B,MAAM,CAACnuC,MAA5C,EAAoD2S,EAAE,EAAtD,EAA0D;AACtD,kBAAIu7B,MAAM,GAAGC,MAAM,CAACx7B,EAAD,CAAnB;;AACA+hB,qBAAO,CAACwZ,MAAD,CAAP;AACH;;AACD,mBAAOnwC,MAAP;AACH,WAlBD;AAmBH;;AAED,YAAIqwC,mBAAmB,GAAG,GAA1B;;AACA,iBAASC,iBAAT,CAA2BnwC,OAA3B,EAAoCowC,cAApC,EAAoD;AAChD,cAAI1S,IAAI,GAAG;AACP3Z,kBAAM,EAAEtlB,OAAQ,CAAC,EAAD,EAAKi0B,QAAL,EAAe2d,SAAS,CAACC,aAAzB,CADT;AAEPxb,gBAAI,EAAEiU;AAFC,WAAX;AAIArL,cAAI,CAAClK,SAAL,GAAiBgb,gBAAgB,CAAC;AAAEzqB,kBAAM,EAAE2Z,IAAI,CAAC3Z,MAAf;AAAuB+Q,gBAAI,EAAE4I,IAAI,CAAC5I;AAAlC,WAAD,CAAjC;AACA4I,cAAI,CAAC6S,SAAL,GAAiB,EAAjB;AACA7S,cAAI,CAAC8S,cAAL,GAAsB,EAAtB;AACA9S,cAAI,CAAC+S,aAAL,GAAqB,EAArB;AACA/S,cAAI,CAACgT,KAAL,GAAal3B,IAAb;AACAkkB,cAAI,CAACiT,iBAAL,GAAyBC,gBAAzB;AACAlT,cAAI,CAACmT,iBAAL,GAAyBC,gBAAzB;AACApT,cAAI,CAACqT,WAAL,GAAmBA,WAAnB;AACArT,cAAI,CAACsT,UAAL,GAAkBA,UAAlB;AACAtT,cAAI,CAACvQ,KAAL,GAAaA,KAAb;AACAuQ,cAAI,CAACuT,KAAL,GAAaA,KAAb;AACAvT,cAAI,CAACwT,cAAL,GAAsBvG,aAAtB;AACAjN,cAAI,CAAC1xB,OAAL,GAAeA,OAAf;AACA0xB,cAAI,CAACyT,SAAL,GAAiBA,SAAjB;AACAzT,cAAI,CAAC0T,UAAL,GAAkBA,UAAlB;AACA1T,cAAI,CAAC2T,IAAL,GAAYA,IAAZ;AACA3T,cAAI,CAAC4T,MAAL,GAAcA,MAAd;AACA5T,cAAI,CAAChU,GAAL,GAAWA,GAAX;AACAgU,cAAI,CAAC1+B,OAAL,GAAeA,OAAf;AACA0+B,cAAI,CAAC6T,MAAL,GAAcA,MAAd;;AACA,mBAASC,oBAAT,GAAgC;AAC5B9T,gBAAI,CAACvZ,KAAL,GAAa;AACTstB,4BAAc,EAAE,wBAAUrxB,KAAV,EAAiBsxB,EAAjB,EAAqB;AACjC,oBAAItxB,KAAK,KAAK,KAAK,CAAnB,EAAsB;AAAEA,uBAAK,GAAGsd,IAAI,CAACiU,YAAb;AAA4B;;AACpD,oBAAID,EAAE,KAAK,KAAK,CAAhB,EAAmB;AAAEA,oBAAE,GAAGhU,IAAI,CAACkU,WAAV;AAAwB;;AAC7C,oBAAIxxB,KAAK,KAAK,CAAV,KAAiBsxB,EAAE,GAAG,CAAL,KAAW,CAAX,IAAgBA,EAAE,GAAG,GAAL,KAAa,CAA9B,IAAoCA,EAAE,GAAG,GAAL,KAAa,CAAjE,CAAJ,EACI,OAAO,EAAP;AACJ,uBAAOhU,IAAI,CAAC5I,IAAL,CAAUsU,WAAV,CAAsBhpB,KAAtB,CAAP;AACH;AAPQ,aAAb;AASH;;AACD,mBAASyxB,IAAT,GAAgB;AACZnU,gBAAI,CAAC19B,OAAL,GAAe09B,IAAI,CAACtsB,KAAL,GAAapR,OAA5B;AACA09B,gBAAI,CAACvW,MAAL,GAAc,KAAd;AACA2qB,uBAAW;AACXC,uBAAW;AACXC,uBAAW;AACXC,sBAAU;AACVT,gCAAoB;AACpB,gBAAI,CAAC9T,IAAI,CAACwU,QAAV,EACIC,KAAK;AACTC,sBAAU;;AACV,gBAAI1U,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAnB,IAA6B47B,IAAI,CAAC3Z,MAAL,CAAY4N,UAA7C,EAAyD;AACrD,kBAAI+L,IAAI,CAAC3Z,MAAL,CAAYkN,UAAhB,EAA4B;AACxB2f,gCAAgB,CAAClT,IAAI,CAAC3Z,MAAL,CAAY4N,UAAZ,GACX+L,IAAI,CAAC2U,qBAAL,IAA8B3U,IAAI,CAAC3Z,MAAL,CAAYwN,OAD/B,GAEXxtB,SAFU,CAAhB;AAGH;;AACDuuC,yBAAW,CAAC,KAAD,CAAX;AACH;;AACDC,4BAAgB;AAChB7U,gBAAI,CAAC8U,aAAL,GACI9U,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAnB,GAA4B,CAA5B,IAAiC47B,IAAI,CAAC3Z,MAAL,CAAY4N,UADjD;AAEA,gBAAI8gB,QAAQ,GAAG,iCAAiC7F,IAAjC,CAAsC9E,SAAS,CAACC,SAAhD,CAAf;AACA;;;;;;;AAQA,gBAAI,CAACrK,IAAI,CAACwU,QAAN,IAAkBO,QAAtB,EAAgC;AAC5B3B,8BAAgB;AACnB;;AACD4B,wBAAY,CAAC,SAAD,CAAZ;AACH;;AACD,mBAASC,cAAT,CAAwBlkB,EAAxB,EAA4B;AACxB,mBAAOA,EAAE,CAACjV,IAAH,CAAQkkB,IAAR,CAAP;AACH;;AACD,mBAAS6U,gBAAT,GAA4B;AACxB,gBAAIxuB,MAAM,GAAG2Z,IAAI,CAAC3Z,MAAlB;AACA,gBAAIA,MAAM,CAACiO,WAAP,KAAuB,KAAvB,IAAgCjO,MAAM,CAACqO,UAAP,KAAsB,CAA1D,EACI,OADJ,KAEK,IAAIrO,MAAM,CAAC4N,UAAP,KAAsB,IAA1B,EAAgC;AACjC/xB,oBAAM,CAACoZ,qBAAP,CAA6B,YAAY;AACrC,oBAAI0kB,IAAI,CAACkV,iBAAL,KAA2B7uC,SAA/B,EAA0C;AACtC25B,sBAAI,CAACkV,iBAAL,CAAuBroC,KAAvB,CAA6BsoC,UAA7B,GAA0C,QAA1C;AACAnV,sBAAI,CAACkV,iBAAL,CAAuBroC,KAAvB,CAA6BuoC,OAA7B,GAAuC,OAAvC;AACH;;AACD,oBAAIpV,IAAI,CAACqV,aAAL,KAAuBhvC,SAA3B,EAAsC;AAClC,sBAAIivC,SAAS,GAAG,CAACtV,IAAI,CAACjf,IAAL,CAAUtK,WAAV,GAAwB,CAAzB,IAA8B4P,MAAM,CAACqO,UAArD;AACAsL,sBAAI,CAACqV,aAAL,CAAmBxoC,KAAnB,CAAyBhH,KAAzB,GAAiCyvC,SAAS,GAAG,IAA7C;AACAtV,sBAAI,CAACkV,iBAAL,CAAuBroC,KAAvB,CAA6BhH,KAA7B,GACIyvC,SAAS,IACJtV,IAAI,CAACuV,WAAL,KAAqBlvC,SAArB,GACK25B,IAAI,CAACuV,WAAL,CAAiB9+B,WADtB,GAEK,CAHD,CAAT,GAII,IALR;AAMAupB,sBAAI,CAACkV,iBAAL,CAAuBroC,KAAvB,CAA6B2oC,cAA7B,CAA4C,YAA5C;AACAxV,sBAAI,CAACkV,iBAAL,CAAuBroC,KAAvB,CAA6B2oC,cAA7B,CAA4C,SAA5C;AACH;AACJ,eAjBD;AAkBH;AACJ;AACD;;;;;AAGA,mBAASC,UAAT,CAAoBnvC,CAApB,EAAuB;AACnB,gBAAI05B,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAnB,KAA8B,CAAlC,EAAqC;AACjCsxC,4BAAc;AACjB;;AACD,gBAAIpvC,CAAC,KAAKD,SAAN,IAAmBC,CAAC,CAAC/D,IAAF,KAAW,MAAlC,EAA0C;AACtCozC,yBAAW,CAACrvC,CAAD,CAAX;AACH;;AACD,gBAAIsvC,SAAS,GAAG5V,IAAI,CAAC/I,MAAL,CAAYv2B,KAA5B;AACAm1C,8BAAkB;AAClBjB,uBAAW;;AACX,gBAAI5U,IAAI,CAAC/I,MAAL,CAAYv2B,KAAZ,KAAsBk1C,SAA1B,EAAqC;AACjC5V,kBAAI,CAAC8V,gBAAL;AACH;AACJ;;AACD,mBAASC,aAAT,CAAuBr2B,IAAvB,EAA6BusB,IAA7B,EAAmC;AAC/B,mBAAQvsB,IAAI,GAAG,EAAR,GAAc,KAAK4sB,IAAG,CAACL,IAAI,KAAKjM,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAe,CAAf,CAAV,CAA7B;AACH;;AACD,mBAAS+J,aAAT,CAAuBt2B,IAAvB,EAA6B;AACzB,oBAAQA,IAAI,GAAG,EAAf;AACI,mBAAK,CAAL;AACA,mBAAK,EAAL;AACI,uBAAO,EAAP;;AACJ;AACI,uBAAOA,IAAI,GAAG,EAAd;AALR;AAOH;AACD;;;;;AAGA,mBAASm2B,kBAAT,GAA8B;AAC1B,gBAAI7V,IAAI,CAACiW,WAAL,KAAqB5vC,SAArB,IAAkC25B,IAAI,CAACkW,aAAL,KAAuB7vC,SAA7D,EACI;AACJ,gBAAIilB,KAAK,GAAG,CAACzmB,QAAQ,CAACm7B,IAAI,CAACiW,WAAL,CAAiBv1C,KAAjB,CAAuBqT,KAAvB,CAA6B,CAAC,CAA9B,CAAD,EAAmC,EAAnC,CAAR,IAAkD,CAAnD,IAAwD,EAApE;AAAA,gBAAwE0qB,OAAO,GAAG,CAAC55B,QAAQ,CAACm7B,IAAI,CAACkW,aAAL,CAAmBx1C,KAApB,EAA2B,EAA3B,CAAR,IAA0C,CAA3C,IAAgD,EAAlI;AAAA,gBAAsIi4B,OAAO,GAAGqH,IAAI,CAACmW,aAAL,KAAuB9vC,SAAvB,GAC1I,CAACxB,QAAQ,CAACm7B,IAAI,CAACmW,aAAL,CAAmBz1C,KAApB,EAA2B,EAA3B,CAAR,IAA0C,CAA3C,IAAgD,EAD0F,GAE1I,CAFN;;AAGA,gBAAIs/B,IAAI,CAACiM,IAAL,KAAc5lC,SAAlB,EAA6B;AACzBilB,mBAAK,GAAGyqB,aAAa,CAACzqB,KAAD,EAAQ0U,IAAI,CAACiM,IAAL,CAAUmB,WAAlB,CAArB;AACH;;AACD,gBAAIgJ,aAAa,GAAGpW,IAAI,CAAC3Z,MAAL,CAAYgwB,OAAZ,KAAwBhwC,SAAxB,IACf25B,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,IACGmM,IAAI,CAACsW,cADR,IAEGtW,IAAI,CAAC2U,qBAFR,IAGG3C,YAAY,CAAChS,IAAI,CAAC2U,qBAAN,EAA6B3U,IAAI,CAAC3Z,MAAL,CAAYwN,OAAzC,EAAkD,IAAlD,CAAZ,KACI,CALZ;AAMA,gBAAI0iB,aAAa,GAAGvW,IAAI,CAAC3Z,MAAL,CAAYmwB,OAAZ,KAAwBnwC,SAAxB,IACf25B,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,IACGoM,IAAI,CAACyW,cADR,IAEGzW,IAAI,CAAC2U,qBAFR,IAGG3C,YAAY,CAAChS,IAAI,CAAC2U,qBAAN,EAA6B3U,IAAI,CAAC3Z,MAAL,CAAYuN,OAAzC,EAAkD,IAAlD,CAAZ,KACI,CALZ;;AAMA,gBAAI2iB,aAAJ,EAAmB;AACf,kBAAIC,OAAO,GAAGxW,IAAI,CAAC3Z,MAAL,CAAYmwB,OAAZ,KAAwBnwC,SAAxB,GACR25B,IAAI,CAAC3Z,MAAL,CAAYmwB,OADJ,GAERxW,IAAI,CAAC3Z,MAAL,CAAYuN,OAFlB;AAGAtI,mBAAK,GAAGjgB,IAAI,CAACkmB,GAAL,CAASjG,KAAT,EAAgBkrB,OAAO,CAACr7B,QAAR,EAAhB,CAAR;AACA,kBAAImQ,KAAK,KAAKkrB,OAAO,CAACr7B,QAAR,EAAd,EACIsjB,OAAO,GAAGpzB,IAAI,CAACkmB,GAAL,CAASkN,OAAT,EAAkB+X,OAAO,CAACp7B,UAAR,EAAlB,CAAV;AACJ,kBAAIqjB,OAAO,KAAK+X,OAAO,CAACp7B,UAAR,EAAhB,EACIud,OAAO,GAAGttB,IAAI,CAACkmB,GAAL,CAASoH,OAAT,EAAkB6d,OAAO,CAAChG,UAAR,EAAlB,CAAV;AACP;;AACD,gBAAI4F,aAAJ,EAAmB;AACf,kBAAIC,OAAO,GAAGrW,IAAI,CAAC3Z,MAAL,CAAYgwB,OAAZ,KAAwBhwC,SAAxB,GACR25B,IAAI,CAAC3Z,MAAL,CAAYgwB,OADJ,GAERrW,IAAI,CAAC3Z,MAAL,CAAYwN,OAFlB;AAGAvI,mBAAK,GAAGjgB,IAAI,CAACuP,GAAL,CAAS0Q,KAAT,EAAgB+qB,OAAO,CAACl7B,QAAR,EAAhB,CAAR;AACA,kBAAImQ,KAAK,KAAK+qB,OAAO,CAACl7B,QAAR,EAAd,EACIsjB,OAAO,GAAGpzB,IAAI,CAACuP,GAAL,CAAS6jB,OAAT,EAAkB4X,OAAO,CAACj7B,UAAR,EAAlB,CAAV;AACJ,kBAAIqjB,OAAO,KAAK4X,OAAO,CAACj7B,UAAR,EAAhB,EACIud,OAAO,GAAGttB,IAAI,CAACuP,GAAL,CAAS+d,OAAT,EAAkB0d,OAAO,CAAC7F,UAAR,EAAlB,CAAV;AACP;;AACD31B,oBAAQ,CAACyQ,KAAD,EAAQmT,OAAR,EAAiB9F,OAAjB,CAAR;AACH;AACD;;;;;AAGA,mBAASua,gBAAT,CAA0BvE,OAA1B,EAAmC;AAC/B,gBAAItvB,IAAI,GAAGsvB,OAAO,IAAI3O,IAAI,CAAC2U,qBAA3B;AACA,gBAAIt1B,IAAJ,EACIxE,QAAQ,CAACwE,IAAI,CAAClE,QAAL,EAAD,EAAkBkE,IAAI,CAACjE,UAAL,EAAlB,EAAqCiE,IAAI,CAACmxB,UAAL,EAArC,CAAR;AACP;;AACD,mBAASkG,eAAT,GAA2B;AACvB,gBAAIprB,KAAK,GAAG0U,IAAI,CAAC3Z,MAAL,CAAY6M,WAAxB;AACA,gBAAIuL,OAAO,GAAGuB,IAAI,CAAC3Z,MAAL,CAAY8M,aAA1B;AACA,gBAAIwF,OAAO,GAAGqH,IAAI,CAAC3Z,MAAL,CAAYmkB,cAA1B;;AACA,gBAAIxK,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,KAAwBxtB,SAA5B,EAAuC;AACnC,kBAAIswC,KAAK,GAAG3W,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoB1Y,QAApB,EAAZ;AACA,kBAAIy7B,UAAU,GAAG5W,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoBzY,UAApB,EAAjB;AACAkQ,mBAAK,GAAGjgB,IAAI,CAACuP,GAAL,CAAS0Q,KAAT,EAAgBqrB,KAAhB,CAAR;AACA,kBAAIrrB,KAAK,KAAKqrB,KAAd,EACIlY,OAAO,GAAGpzB,IAAI,CAACuP,GAAL,CAASg8B,UAAT,EAAqBnY,OAArB,CAAV;AACJ,kBAAInT,KAAK,KAAKqrB,KAAV,IAAmBlY,OAAO,KAAKmY,UAAnC,EACIje,OAAO,GAAGqH,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoB2c,UAApB,EAAV;AACP;;AACD,gBAAIxQ,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,KAAwBvtB,SAA5B,EAAuC;AACnC,kBAAIwwC,KAAK,GAAG7W,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoBzY,QAApB,EAAZ;AACA,kBAAI27B,UAAU,GAAG9W,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoBxY,UAApB,EAAjB;AACAkQ,mBAAK,GAAGjgB,IAAI,CAACkmB,GAAL,CAASjG,KAAT,EAAgBurB,KAAhB,CAAR;AACA,kBAAIvrB,KAAK,KAAKurB,KAAd,EACIpY,OAAO,GAAGpzB,IAAI,CAACkmB,GAAL,CAASulB,UAAT,EAAqBrY,OAArB,CAAV;AACJ,kBAAInT,KAAK,KAAKurB,KAAV,IAAmBpY,OAAO,KAAKqY,UAAnC,EACIne,OAAO,GAAGqH,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoB4c,UAApB,EAAV;AACP;;AACD31B,oBAAQ,CAACyQ,KAAD,EAAQmT,OAAR,EAAiB9F,OAAjB,CAAR;AACH;AACD;;;;;;;;;;;AASA,mBAAS9d,QAAT,CAAkByQ,KAAlB,EAAyBmT,OAAzB,EAAkC9F,OAAlC,EAA2C;AACvC,gBAAIqH,IAAI,CAAC2U,qBAAL,KAA+BtuC,SAAnC,EAA8C;AAC1C25B,kBAAI,CAAC2U,qBAAL,CAA2B95B,QAA3B,CAAoCyQ,KAAK,GAAG,EAA5C,EAAgDmT,OAAhD,EAAyD9F,OAAO,IAAI,CAApE,EAAuE,CAAvE;AACH;;AACD,gBAAI,CAACqH,IAAI,CAACiW,WAAN,IAAqB,CAACjW,IAAI,CAACkW,aAA3B,IAA4ClW,IAAI,CAACwU,QAArD,EACI;AACJxU,gBAAI,CAACiW,WAAL,CAAiBv1C,KAAjB,GAAyB2rC,GAAG,CAAC,CAACrM,IAAI,CAAC3Z,MAAL,CAAYsQ,SAAb,GACtB,CAAC,KAAKrL,KAAN,IAAe,EAAhB,GAAsB,KAAKghB,IAAG,CAAChhB,KAAK,GAAG,EAAR,KAAe,CAAhB,CADP,GAEvBA,KAFsB,CAA5B;AAGA0U,gBAAI,CAACkW,aAAL,CAAmBx1C,KAAnB,GAA2B2rC,GAAG,CAAC5N,OAAD,CAA9B;AACA,gBAAIuB,IAAI,CAACiM,IAAL,KAAc5lC,SAAlB,EACI25B,IAAI,CAACiM,IAAL,CAAUmB,WAAV,GAAwBpN,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAeK,IAAG,CAAChhB,KAAK,IAAI,EAAV,CAAlB,CAAxB;AACJ,gBAAI0U,IAAI,CAACmW,aAAL,KAAuB9vC,SAA3B,EACI25B,IAAI,CAACmW,aAAL,CAAmBz1C,KAAnB,GAA2B2rC,GAAG,CAAC1T,OAAD,CAA9B;AACP;AACD;;;;;;AAIA,mBAASoe,WAAT,CAAqB90C,KAArB,EAA4B;AACxB,gBAAIgkB,IAAI,GAAGphB,QAAQ,CAAC5C,KAAK,CAACE,MAAN,CAAazB,KAAd,CAAR,IAAgCuB,KAAK,CAACwF,KAAN,IAAe,CAA/C,CAAX;;AACA,gBAAIwe,IAAI,GAAG,IAAP,GAAc,CAAd,IACChkB,KAAK,CAAC0O,GAAN,KAAc,OAAd,IAAyB,CAAC,QAAQu+B,IAAR,CAAajpB,IAAI,CAAClT,QAAL,EAAb,CAD/B,EAC+D;AAC3DugC,wBAAU,CAACrtB,IAAD,CAAV;AACH;AACJ;AACD;;;;;;;;AAMA,mBAASnK,IAAT,CAAcxZ,OAAd,EAAuBL,KAAvB,EAA8B+0C,OAA9B,EAAuCl1C,OAAvC,EAAgD;AAC5C,gBAAIG,KAAK,YAAYqC,KAArB,EACI,OAAOrC,KAAK,CAAC0L,OAAN,CAAc,UAAUspC,EAAV,EAAc;AAAE,qBAAOn7B,IAAI,CAACxZ,OAAD,EAAU20C,EAAV,EAAcD,OAAd,EAAuBl1C,OAAvB,CAAX;AAA6C,aAA3E,CAAP;AACJ,gBAAIQ,OAAO,YAAYgC,KAAvB,EACI,OAAOhC,OAAO,CAACqL,OAAR,CAAgB,UAAUxH,EAAV,EAAc;AAAE,qBAAO2V,IAAI,CAAC3V,EAAD,EAAKlE,KAAL,EAAY+0C,OAAZ,EAAqBl1C,OAArB,CAAX;AAA2C,aAA3E,CAAP;AACJQ,mBAAO,CAACg+B,gBAAR,CAAyBr+B,KAAzB,EAAgC+0C,OAAhC,EAAyCl1C,OAAzC;;AACAk+B,gBAAI,CAAC6S,SAAL,CAAe19B,IAAf,CAAoB;AAChB7S,qBAAO,EAAEA,OADO;AAEhBL,mBAAK,EAAEA,KAFS;AAGhB+0C,qBAAO,EAAEA,OAHO;AAIhBl1C,qBAAO,EAAEA;AAJO,aAApB;AAMH;AACD;;;;;;;;;AAOA,mBAASo1C,OAAT,CAAiBF,OAAjB,EAA0B;AACtB,mBAAO,UAAU7T,GAAV,EAAe;AAClBA,iBAAG,CAACte,KAAJ,KAAc,CAAd,IAAmBmyB,OAAO,CAAC7T,GAAD,CAA1B;AACH,aAFD;AAGH;;AACD,mBAASgU,aAAT,GAAyB;AACrBnC,wBAAY,CAAC,UAAD,CAAZ;AACH;AACD;;;;;AAGA,mBAASN,UAAT,GAAsB;AAClB,gBAAI1U,IAAI,CAAC3Z,MAAL,CAAYkO,IAAhB,EAAsB;AAClB,eAAC,MAAD,EAAS,OAAT,EAAkB,QAAlB,EAA4B,OAA5B,EAAqC5mB,OAArC,CAA6C,UAAUw1B,GAAV,EAAe;AACxD7+B,qBAAK,CAACwO,SAAN,CAAgBnF,OAAhB,CAAwBsF,IAAxB,CAA6B+sB,IAAI,CAAC19B,OAAL,CAAa0R,gBAAb,CAA8B,WAAWmvB,GAAX,GAAiB,GAA/C,CAA7B,EAAkF,UAAUh9B,EAAV,EAAc;AAC5F,yBAAO2V,IAAI,CAAC3V,EAAD,EAAK,OAAL,EAAc65B,IAAI,CAACmD,GAAD,CAAlB,CAAX;AACH,iBAFD;AAGH,eAJD;AAKH;;AACD,gBAAInD,IAAI,CAACwU,QAAT,EAAmB;AACf4C,yBAAW;AACX;AACH;;AACD,gBAAIC,eAAe,GAAG7K,QAAQ,CAAC8K,QAAD,EAAW,EAAX,CAA9B;AACAtX,gBAAI,CAAC8V,gBAAL,GAAwBtJ,QAAQ,CAAC2K,aAAD,EAAgB3E,mBAAhB,CAAhC;AACA,gBAAIxS,IAAI,CAACqV,aAAL,IAAsB,CAAC,oBAAoBnG,IAApB,CAAyB9E,SAAS,CAACC,SAAnC,CAA3B,EACIvuB,IAAI,CAACkkB,IAAI,CAACqV,aAAN,EAAqB,WAArB,EAAkC,UAAU/uC,CAAV,EAAa;AAC/C,kBAAI05B,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,OAAzB,EACIwjB,WAAW,CAACjxC,CAAC,CAACnE,MAAH,CAAX;AACP,aAHG,CAAJ;AAIJ2Z,gBAAI,CAAC5Z,MAAM,CAACiB,QAAP,CAAgBG,IAAjB,EAAuB,SAAvB,EAAkC2nC,SAAlC,CAAJ;AACA,gBAAI,CAACjL,IAAI,CAAC3Z,MAAL,CAAYsN,MAAb,IAAuB,CAACqM,IAAI,CAAC3Z,MAAL,UAA5B,EACIvK,IAAI,CAAC5Z,MAAD,EAAS,QAAT,EAAmBm1C,eAAnB,CAAJ;AACJ,gBAAIn1C,MAAM,CAACs1C,YAAP,KAAwBnxC,SAA5B,EACIyV,IAAI,CAAC5Z,MAAM,CAACiB,QAAR,EAAkB,YAAlB,EAAgCs0C,aAAhC,CAAJ,CADJ,KAGI37B,IAAI,CAAC5Z,MAAM,CAACiB,QAAR,EAAkB,WAAlB,EAA+B+zC,OAAO,CAACO,aAAD,CAAtC,CAAJ;AACJ37B,gBAAI,CAAC5Z,MAAM,CAACiB,QAAR,EAAkB,OAAlB,EAA2Bs0C,aAA3B,EAA0C;AAAEC,qBAAO,EAAE;AAAX,aAA1C,CAAJ;;AACA,gBAAI1X,IAAI,CAAC3Z,MAAL,CAAY2M,UAAZ,KAA2B,IAA/B,EAAqC;AACjClX,kBAAI,CAACkkB,IAAI,CAAC/I,MAAN,EAAc,OAAd,EAAuB+I,IAAI,CAAC2T,IAA5B,CAAJ;AACA73B,kBAAI,CAACkkB,IAAI,CAAC/I,MAAN,EAAc,WAAd,EAA2BigB,OAAO,CAAClX,IAAI,CAAC2T,IAAN,CAAlC,CAAJ;AACH;;AACD,gBAAI3T,IAAI,CAACqV,aAAL,KAAuBhvC,SAA3B,EAAsC;AAClCyV,kBAAI,CAACkkB,IAAI,CAAC2X,QAAN,EAAgB,WAAhB,EAA6BT,OAAO,CAACU,eAAD,CAApC,CAAJ;AACA97B,kBAAI,CAACkkB,IAAI,CAAC2X,QAAN,EAAgB,CAAC,OAAD,EAAU,WAAV,CAAhB,EAAwCZ,WAAxC,CAAJ;AACAj7B,kBAAI,CAACkkB,IAAI,CAACqV,aAAN,EAAqB,WAArB,EAAkC6B,OAAO,CAACW,UAAD,CAAzC,CAAJ;AACH;;AACD,gBAAI7X,IAAI,CAAC8X,aAAL,KAAuBzxC,SAAvB,IACA25B,IAAI,CAACkW,aAAL,KAAuB7vC,SADvB,IAEA25B,IAAI,CAACiW,WAAL,KAAqB5vC,SAFzB,EAEoC;AAChC,kBAAI0xC,OAAO,GAAG,SAAVA,OAAU,CAAUzxC,CAAV,EAAa;AACvB,uBAAOA,CAAC,CAACnE,MAAF,CAASyR,MAAT,EAAP;AACH,eAFD;;AAGAkI,kBAAI,CAACkkB,IAAI,CAAC8X,aAAN,EAAqB,CAAC,WAAD,CAArB,EAAoCrC,UAApC,CAAJ;AACA35B,kBAAI,CAACkkB,IAAI,CAAC8X,aAAN,EAAqB,MAArB,EAA6BrC,UAA7B,EAAyC;AAAEiC,uBAAO,EAAE;AAAX,eAAzC,CAAJ;AACA57B,kBAAI,CAACkkB,IAAI,CAAC8X,aAAN,EAAqB,WAArB,EAAkCZ,OAAO,CAACc,aAAD,CAAzC,CAAJ;AACAl8B,kBAAI,CAAC,CAACkkB,IAAI,CAACiW,WAAN,EAAmBjW,IAAI,CAACkW,aAAxB,CAAD,EAAyC,CAAC,OAAD,EAAU,OAAV,CAAzC,EAA6D6B,OAA7D,CAAJ;AACA,kBAAI/X,IAAI,CAACmW,aAAL,KAAuB9vC,SAA3B,EACIyV,IAAI,CAACkkB,IAAI,CAACmW,aAAN,EAAqB,OAArB,EAA8B,YAAY;AAAE,uBAAOnW,IAAI,CAACmW,aAAL,IAAsBnW,IAAI,CAACmW,aAAL,CAAmBviC,MAAnB,EAA7B;AAA2D,eAAvG,CAAJ;;AACJ,kBAAIosB,IAAI,CAACiM,IAAL,KAAc5lC,SAAlB,EAA6B;AACzByV,oBAAI,CAACkkB,IAAI,CAACiM,IAAN,EAAY,WAAZ,EAAyBiL,OAAO,CAAC,UAAU5wC,CAAV,EAAa;AAC9CmvC,4BAAU,CAACnvC,CAAD,CAAV;AACA6wC,+BAAa;AAChB,iBAHmC,CAAhC,CAAJ;AAIH;AACJ;AACJ;AACD;;;;;;;AAKA,mBAASzD,UAAT,CAAoBuE,QAApB,EAA8Bd,aAA9B,EAA6C;AACzC,gBAAIe,MAAM,GAAGD,QAAQ,KAAK5xC,SAAb,GACP25B,IAAI,CAAClK,SAAL,CAAemiB,QAAf,CADO,GAEPjY,IAAI,CAAC2U,qBAAL,KACG3U,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,IAAuBmM,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,GAAsBmM,IAAI,CAAC/vB,GAAlD,GACK+vB,IAAI,CAAC3Z,MAAL,CAAYwN,OADjB,GAEKmM,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,IAAuBoM,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,GAAsBoM,IAAI,CAAC/vB,GAAlD,GACI+vB,IAAI,CAAC3Z,MAAL,CAAYuN,OADhB,GAEIoM,IAAI,CAAC/vB,GALjB,CAFN;AAQA,gBAAIkoC,OAAO,GAAGnY,IAAI,CAACkU,WAAnB;AACA,gBAAIkE,QAAQ,GAAGpY,IAAI,CAACiU,YAApB;;AACA,gBAAI;AACA,kBAAIiE,MAAM,KAAK7xC,SAAf,EAA0B;AACtB25B,oBAAI,CAACkU,WAAL,GAAmBgE,MAAM,CAACrN,WAAP,EAAnB;AACA7K,oBAAI,CAACiU,YAAL,GAAoBiE,MAAM,CAAC19B,QAAP,EAApB;AACH;AACJ,aALD,CAMA,OAAOlU,CAAP,EAAU;AACN;AACAA,eAAC,CAAC+xC,OAAF,GAAY,4BAA4BH,MAAxC;AACAlY,kBAAI,CAAC3Z,MAAL,CAAYokB,YAAZ,CAAyBnkC,CAAzB;AACH;;AACD,gBAAI6wC,aAAa,IAAInX,IAAI,CAACkU,WAAL,KAAqBiE,OAA1C,EAAmD;AAC/CnD,0BAAY,CAAC,cAAD,CAAZ;AACAsD,8BAAgB;AACnB;;AACD,gBAAInB,aAAa,KACZnX,IAAI,CAACkU,WAAL,KAAqBiE,OAArB,IAAgCnY,IAAI,CAACiU,YAAL,KAAsBmE,QAD1C,CAAjB,EACsE;AAClEpD,0BAAY,CAAC,eAAD,CAAZ;AACH;;AACDhV,gBAAI,CAAC4T,MAAL;AACH;AACD;;;;;;AAIA,mBAASoE,aAAT,CAAuB1xC,CAAvB,EAA0B;AACtB,gBAAI,CAACA,CAAC,CAACnE,MAAF,CAAS6qC,SAAT,CAAmBn/B,OAAnB,CAA2B,OAA3B,CAAL,EACI0qC,iBAAiB,CAACjyC,CAAD,EAAIA,CAAC,CAACnE,MAAF,CAASoW,SAAT,CAAmBigC,QAAnB,CAA4B,SAA5B,IAAyC,CAAzC,GAA6C,CAAC,CAAlD,CAAjB;AACP;AACD;;;;;;;;;;;AASA,mBAASD,iBAAT,CAA2BjyC,CAA3B,EAA8BmB,KAA9B,EAAqCgxC,SAArC,EAAgD;AAC5C,gBAAIt2C,MAAM,GAAGmE,CAAC,IAAIA,CAAC,CAACnE,MAApB;AACA,gBAAIuR,KAAK,GAAG+kC,SAAS,IAChBt2C,MAAM,IAAIA,MAAM,CAACsK,UAAjB,IAA+BtK,MAAM,CAACsK,UAAP,CAAkB6gC,UADtD;AAEA,gBAAIrrC,KAAK,GAAGshC,WAAW,CAAC,WAAD,CAAvB;AACAthC,iBAAK,CAACwF,KAAN,GAAcA,KAAd;AACAiM,iBAAK,IAAIA,KAAK,CAAC4vB,aAAN,CAAoBrhC,KAApB,CAAT;AACH;;AACD,mBAASwyC,KAAT,GAAiB;AACb,gBAAIiE,QAAQ,GAAGx2C,MAAM,CAACiB,QAAP,CAAgBw1C,sBAAhB,EAAf;AACA3Y,gBAAI,CAACkV,iBAAL,GAAyBjI,aAAa,CAAC,KAAD,EAAQ,oBAAR,CAAtC;AACAjN,gBAAI,CAACkV,iBAAL,CAAuB0D,QAAvB,GAAkC,CAAC,CAAnC;;AACA,gBAAI,CAAC5Y,IAAI,CAAC3Z,MAAL,CAAY4N,UAAjB,EAA6B;AACzBykB,sBAAQ,CAAClsC,WAAT,CAAqBqsC,aAAa,EAAlC;AACA7Y,kBAAI,CAAC8Y,cAAL,GAAsB7L,aAAa,CAAC,KAAD,EAAQ,0BAAR,CAAnC;;AACA,kBAAIjN,IAAI,CAAC3Z,MAAL,CAAYiO,WAAhB,EAA6B;AACzB,oBAAIvd,EAAE,GAAGgiC,UAAU,EAAnB;AAAA,oBAAuBxD,WAAW,GAAGx+B,EAAE,CAACw+B,WAAxC;AAAA,oBAAqDjhB,WAAW,GAAGvd,EAAE,CAACud,WAAtE;;AACA0L,oBAAI,CAAC8Y,cAAL,CAAoBtsC,WAApB,CAAgC+oC,WAAhC;AACAvV,oBAAI,CAAC1L,WAAL,GAAmBA,WAAnB;AACA0L,oBAAI,CAACuV,WAAL,GAAmBA,WAAnB;AACH;;AACDvV,kBAAI,CAACgZ,UAAL,GAAkB/L,aAAa,CAAC,KAAD,EAAQ,sBAAR,CAA/B;AACAjN,kBAAI,CAACgZ,UAAL,CAAgBxsC,WAAhB,CAA4BysC,aAAa,EAAzC;;AACA,kBAAI,CAACjZ,IAAI,CAACqV,aAAV,EAAyB;AACrBrV,oBAAI,CAACqV,aAAL,GAAqBpI,aAAa,CAAC,KAAD,EAAQ,gBAAR,CAAlC;AACAjN,oBAAI,CAACqV,aAAL,CAAmBuD,QAAnB,GAA8B,CAAC,CAA/B;AACH;;AACDM,uBAAS;AACTlZ,kBAAI,CAACgZ,UAAL,CAAgBxsC,WAAhB,CAA4BwzB,IAAI,CAACqV,aAAjC;AACArV,kBAAI,CAAC8Y,cAAL,CAAoBtsC,WAApB,CAAgCwzB,IAAI,CAACgZ,UAArC;AACAN,sBAAQ,CAAClsC,WAAT,CAAqBwzB,IAAI,CAAC8Y,cAA1B;AACH;;AACD,gBAAI9Y,IAAI,CAAC3Z,MAAL,CAAYkN,UAAhB,EAA4B;AACxBmlB,sBAAQ,CAAClsC,WAAT,CAAqB2sC,SAAS,EAA9B;AACH;;AACDrM,uBAAW,CAAC9M,IAAI,CAACkV,iBAAN,EAAyB,WAAzB,EAAsClV,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,OAA3D,CAAX;AACA+Y,uBAAW,CAAC9M,IAAI,CAACkV,iBAAN,EAAyB,SAAzB,EAAoClV,IAAI,CAAC3Z,MAAL,CAAY8jB,OAAZ,KAAwB,IAA5D,CAAX;AACA2C,uBAAW,CAAC9M,IAAI,CAACkV,iBAAN,EAAyB,YAAzB,EAAuClV,IAAI,CAAC3Z,MAAL,CAAYqO,UAAZ,GAAyB,CAAhE,CAAX;AACAsL,gBAAI,CAACkV,iBAAL,CAAuB1oC,WAAvB,CAAmCksC,QAAnC;AACA,gBAAIU,YAAY,GAAGpZ,IAAI,CAAC3Z,MAAL,CAAYyM,QAAZ,KAAyBzsB,SAAzB,IACf25B,IAAI,CAAC3Z,MAAL,CAAYyM,QAAZ,CAAqBnf,QAArB,KAAkCtN,SADtC;;AAEA,gBAAI25B,IAAI,CAAC3Z,MAAL,CAAYsN,MAAZ,IAAsBqM,IAAI,CAAC3Z,MAAL,UAA1B,EAA8C;AAC1C2Z,kBAAI,CAACkV,iBAAL,CAAuB38B,SAAvB,CAAiCO,GAAjC,CAAqCknB,IAAI,CAAC3Z,MAAL,CAAYsN,MAAZ,GAAqB,QAArB,GAAgC,QAArE;;AACA,kBAAIqM,IAAI,CAAC3Z,MAAL,CAAYsN,MAAhB,EAAwB;AACpB,oBAAI,CAACylB,YAAD,IAAiBpZ,IAAI,CAAC19B,OAAL,CAAamK,UAAlC,EACIuzB,IAAI,CAAC19B,OAAL,CAAamK,UAAb,CAAwBC,YAAxB,CAAqCszB,IAAI,CAACkV,iBAA1C,EAA6DlV,IAAI,CAAC/I,MAAL,CAAYtqB,WAAzE,EADJ,KAEK,IAAIqzB,IAAI,CAAC3Z,MAAL,CAAYyM,QAAZ,KAAyBzsB,SAA7B,EACD25B,IAAI,CAAC3Z,MAAL,CAAYyM,QAAZ,CAAqBtmB,WAArB,CAAiCwzB,IAAI,CAACkV,iBAAtC;AACP;;AACD,kBAAIlV,IAAI,CAAC3Z,MAAL,UAAJ,EAAwB;AACpB,oBAAIunB,OAAO,GAAGX,aAAa,CAAC,KAAD,EAAQ,mBAAR,CAA3B;AACA,oBAAIjN,IAAI,CAAC19B,OAAL,CAAamK,UAAjB,EACIuzB,IAAI,CAAC19B,OAAL,CAAamK,UAAb,CAAwBC,YAAxB,CAAqCkhC,OAArC,EAA8C5N,IAAI,CAAC19B,OAAnD;AACJsrC,uBAAO,CAACphC,WAAR,CAAoBwzB,IAAI,CAAC19B,OAAzB;AACA,oBAAI09B,IAAI,CAACrN,QAAT,EACIib,OAAO,CAACphC,WAAR,CAAoBwzB,IAAI,CAACrN,QAAzB;AACJib,uBAAO,CAACphC,WAAR,CAAoBwzB,IAAI,CAACkV,iBAAzB;AACH;AACJ;;AACD,gBAAI,CAAClV,IAAI,CAAC3Z,MAAL,UAAD,IAAuB,CAAC2Z,IAAI,CAAC3Z,MAAL,CAAYsN,MAAxC,EACI,CAACqM,IAAI,CAAC3Z,MAAL,CAAYyM,QAAZ,KAAyBzsB,SAAzB,GACK25B,IAAI,CAAC3Z,MAAL,CAAYyM,QADjB,GAEK5wB,MAAM,CAACiB,QAAP,CAAgBG,IAFtB,EAE4BkJ,WAF5B,CAEwCwzB,IAAI,CAACkV,iBAF7C;AAGP;;AACD,mBAASmE,SAAT,CAAmBrM,SAAnB,EAA8B3tB,IAA9B,EAAoCi6B,SAApC,EAA+CjlC,CAA/C,EAAkD;AAC9C,gBAAIklC,aAAa,GAAG9F,SAAS,CAACp0B,IAAD,EAAO,IAAP,CAA7B;AAAA,gBAA2CqX,UAAU,GAAGuW,aAAa,CAAC,MAAD,EAAS,mBAAmBD,SAA5B,EAAuC3tB,IAAI,CAAC5d,OAAL,GAAesR,QAAf,EAAvC,CAArE;AACA2jB,sBAAU,CAACiY,OAAX,GAAqBtvB,IAArB;AACAqX,sBAAU,CAAC8iB,EAAX,GAAgBnlC,CAAhB;AACAqiB,sBAAU,CAACuX,YAAX,CAAwB,YAAxB,EAAsCjO,IAAI,CAACvM,UAAL,CAAgBpU,IAAhB,EAAsB2gB,IAAI,CAAC3Z,MAAL,CAAY0M,cAAlC,CAAtC;;AACA,gBAAIia,SAAS,CAACn/B,OAAV,CAAkB,QAAlB,MAAgC,CAAC,CAAjC,IACAmkC,YAAY,CAAC3yB,IAAD,EAAO2gB,IAAI,CAAC/vB,GAAZ,CAAZ,KAAiC,CADrC,EACwC;AACpC+vB,kBAAI,CAACyZ,aAAL,GAAqB/iB,UAArB;AACAA,wBAAU,CAACne,SAAX,CAAqBO,GAArB,CAAyB,OAAzB;AACA4d,wBAAU,CAACuX,YAAX,CAAwB,cAAxB,EAAwC,MAAxC;AACH;;AACD,gBAAIsL,aAAJ,EAAmB;AACf7iB,wBAAU,CAACkiB,QAAX,GAAsB,CAAC,CAAvB;;AACA,kBAAIc,cAAc,CAACr6B,IAAD,CAAlB,EAA0B;AACtBqX,0BAAU,CAACne,SAAX,CAAqBO,GAArB,CAAyB,UAAzB;AACAknB,oBAAI,CAAC2Z,gBAAL,GAAwBjjB,UAAxB;;AACA,oBAAIsJ,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,OAAzB,EAAkC;AAC9B+Y,6BAAW,CAACpW,UAAD,EAAa,YAAb,EAA2BsJ,IAAI,CAAC/J,aAAL,CAAmB,CAAnB,KAClC+b,YAAY,CAAC3yB,IAAD,EAAO2gB,IAAI,CAAC/J,aAAL,CAAmB,CAAnB,CAAP,EAA8B,IAA9B,CAAZ,KAAoD,CAD7C,CAAX;AAEA6W,6BAAW,CAACpW,UAAD,EAAa,UAAb,EAAyBsJ,IAAI,CAAC/J,aAAL,CAAmB,CAAnB,KAChC+b,YAAY,CAAC3yB,IAAD,EAAO2gB,IAAI,CAAC/J,aAAL,CAAmB,CAAnB,CAAP,EAA8B,IAA9B,CAAZ,KAAoD,CAD7C,CAAX;AAEA,sBAAI+W,SAAS,KAAK,cAAlB,EACItW,UAAU,CAACne,SAAX,CAAqBO,GAArB,CAAyB,SAAzB;AACP;AACJ;AACJ,aAdD,MAeK;AACD4d,wBAAU,CAACne,SAAX,CAAqBO,GAArB,CAAyB,oBAAzB;AACH;;AACD,gBAAIknB,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,OAAzB,EAAkC;AAC9B,kBAAI6lB,aAAa,CAACv6B,IAAD,CAAb,IAAuB,CAACq6B,cAAc,CAACr6B,IAAD,CAA1C,EACIqX,UAAU,CAACne,SAAX,CAAqBO,GAArB,CAAyB,SAAzB;AACP;;AACD,gBAAIknB,IAAI,CAAC1L,WAAL,IACA0L,IAAI,CAAC3Z,MAAL,CAAYqO,UAAZ,KAA2B,CAD3B,IAEAsY,SAAS,KAAK,cAFd,IAGAsM,SAAS,GAAG,CAAZ,KAAkB,CAHtB,EAGyB;AACrBtZ,kBAAI,CAAC1L,WAAL,CAAiBulB,kBAAjB,CAAoC,WAApC,EAAiD,iCAAiC7Z,IAAI,CAAC3Z,MAAL,CAAY0P,OAAZ,CAAoB1W,IAApB,CAAjC,GAA6D,SAA9G;AACH;;AACD21B,wBAAY,CAAC,aAAD,EAAgBte,UAAhB,CAAZ;AACA,mBAAOA,UAAP;AACH;;AACD,mBAASojB,cAAT,CAAwBC,UAAxB,EAAoC;AAChCA,sBAAU,CAACC,KAAX;AACA,gBAAIha,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,OAAzB,EACIwjB,WAAW,CAACwC,UAAD,CAAX;AACP;;AACD,mBAASE,oBAAT,CAA8BxyC,KAA9B,EAAqC;AACjC,gBAAIyyC,UAAU,GAAGzyC,KAAK,GAAG,CAAR,GAAY,CAAZ,GAAgBu4B,IAAI,CAAC3Z,MAAL,CAAYqO,UAAZ,GAAyB,CAA1D;AACA,gBAAIylB,QAAQ,GAAG1yC,KAAK,GAAG,CAAR,GAAYu4B,IAAI,CAAC3Z,MAAL,CAAYqO,UAAxB,GAAqC,CAAC,CAArD;;AACA,iBAAK,IAAIyb,CAAC,GAAG+J,UAAb,EAAyB/J,CAAC,IAAIgK,QAA9B,EAAwChK,CAAC,IAAI1oC,KAA7C,EAAoD;AAChD,kBAAIib,KAAK,GAAGsd,IAAI,CAACqV,aAAL,CAAmBr3B,QAAnB,CAA4BmyB,CAA5B,CAAZ;AACA,kBAAIiK,UAAU,GAAG3yC,KAAK,GAAG,CAAR,GAAY,CAAZ,GAAgBib,KAAK,CAAC1E,QAAN,CAAe5Z,MAAf,GAAwB,CAAzD;AACA,kBAAIi2C,QAAQ,GAAG5yC,KAAK,GAAG,CAAR,GAAYib,KAAK,CAAC1E,QAAN,CAAe5Z,MAA3B,GAAoC,CAAC,CAApD;;AACA,mBAAK,IAAIiQ,CAAC,GAAG+lC,UAAb,EAAyB/lC,CAAC,IAAIgmC,QAA9B,EAAwChmC,CAAC,IAAI5M,KAA7C,EAAoD;AAChD,oBAAIopC,CAAC,GAAGnuB,KAAK,CAAC1E,QAAN,CAAe3J,CAAf,CAAR;AACA,oBAAIw8B,CAAC,CAAC7D,SAAF,CAAYn/B,OAAZ,CAAoB,QAApB,MAAkC,CAAC,CAAnC,IAAwC4lC,SAAS,CAAC5C,CAAC,CAAClC,OAAH,CAArD,EACI,OAAOkC,CAAP;AACP;AACJ;;AACD,mBAAOxqC,SAAP;AACH;;AACD,mBAASi0C,mBAAT,CAA6BzhB,OAA7B,EAAsCpxB,KAAtC,EAA6C;AACzC,gBAAI8yC,UAAU,GAAG1hB,OAAO,CAACmU,SAAR,CAAkBn/B,OAAlB,CAA0B,OAA1B,MAAuC,CAAC,CAAxC,GACXgrB,OAAO,CAAC8V,OAAR,CAAgBn0B,QAAhB,EADW,GAEXwlB,IAAI,CAACiU,YAFX;AAGA,gBAAIkG,QAAQ,GAAG1yC,KAAK,GAAG,CAAR,GAAYu4B,IAAI,CAAC3Z,MAAL,CAAYqO,UAAxB,GAAqC,CAAC,CAArD;AACA,gBAAI8lB,SAAS,GAAG/yC,KAAK,GAAG,CAAR,GAAY,CAAZ,GAAgB,CAAC,CAAjC;;AACA,iBAAK,IAAI0oC,CAAC,GAAGoK,UAAU,GAAGva,IAAI,CAACiU,YAA/B,EAA6C9D,CAAC,IAAIgK,QAAlD,EAA4DhK,CAAC,IAAIqK,SAAjE,EAA4E;AACxE,kBAAI93B,KAAK,GAAGsd,IAAI,CAACqV,aAAL,CAAmBr3B,QAAnB,CAA4BmyB,CAA5B,CAAZ;AACA,kBAAIiK,UAAU,GAAGG,UAAU,GAAGva,IAAI,CAACiU,YAAlB,KAAmC9D,CAAnC,GACXtX,OAAO,CAAC2gB,EAAR,GAAa/xC,KADF,GAEXA,KAAK,GAAG,CAAR,GACIib,KAAK,CAAC1E,QAAN,CAAe5Z,MAAf,GAAwB,CAD5B,GAEI,CAJV;AAKA,kBAAIq2C,YAAY,GAAG/3B,KAAK,CAAC1E,QAAN,CAAe5Z,MAAlC;;AACA,mBAAK,IAAIiQ,CAAC,GAAG+lC,UAAb,EAAyB/lC,CAAC,IAAI,CAAL,IAAUA,CAAC,GAAGomC,YAAd,IAA8BpmC,CAAC,KAAK5M,KAAK,GAAG,CAAR,GAAYgzC,YAAZ,GAA2B,CAAC,CAAjC,CAAxD,EAA6FpmC,CAAC,IAAImmC,SAAlG,EAA6G;AACzG,oBAAI3J,CAAC,GAAGnuB,KAAK,CAAC1E,QAAN,CAAe3J,CAAf,CAAR;AACA,oBAAIw8B,CAAC,CAAC7D,SAAF,CAAYn/B,OAAZ,CAAoB,QAApB,MAAkC,CAAC,CAAnC,IACA4lC,SAAS,CAAC5C,CAAC,CAAClC,OAAH,CADT,IAEAtjC,IAAI,CAAC2F,GAAL,CAAS6nB,OAAO,CAAC2gB,EAAR,GAAanlC,CAAtB,KAA4BhJ,IAAI,CAAC2F,GAAL,CAASvJ,KAAT,CAFhC,EAGI,OAAOqyC,cAAc,CAACjJ,CAAD,CAArB;AACP;AACJ;;AACD7Q,gBAAI,CAACqT,WAAL,CAAiBmH,SAAjB;AACAE,sBAAU,CAACT,oBAAoB,CAACO,SAAD,CAArB,EAAkC,CAAlC,CAAV;AACA,mBAAOn0C,SAAP;AACH;;AACD,mBAASq0C,UAAT,CAAoB7hB,OAApB,EAA6BziB,MAA7B,EAAqC;AACjC,gBAAIukC,UAAU,GAAGC,QAAQ,CAACz3C,QAAQ,CAAC03C,aAAT,IAA0B13C,QAAQ,CAACG,IAApC,CAAzB;AACA,gBAAIw3C,SAAS,GAAGjiB,OAAO,KAAKxyB,SAAZ,GACVwyB,OADU,GAEV8hB,UAAU,GACNx3C,QAAQ,CAAC03C,aADH,GAEN7a,IAAI,CAAC2Z,gBAAL,KAA0BtzC,SAA1B,IAAuCu0C,QAAQ,CAAC5a,IAAI,CAAC2Z,gBAAN,CAA/C,GACI3Z,IAAI,CAAC2Z,gBADT,GAEI3Z,IAAI,CAACyZ,aAAL,KAAuBpzC,SAAvB,IAAoCu0C,QAAQ,CAAC5a,IAAI,CAACyZ,aAAN,CAA5C,GACIzZ,IAAI,CAACyZ,aADT,GAEIQ,oBAAoB,CAAC7jC,MAAM,GAAG,CAAT,GAAa,CAAb,GAAiB,CAAC,CAAnB,CARtC;AASA,gBAAI0kC,SAAS,KAAKz0C,SAAlB,EACI,OAAO25B,IAAI,CAAC/I,MAAL,CAAY+iB,KAAZ,EAAP;AACJ,gBAAI,CAACW,UAAL,EACI,OAAOb,cAAc,CAACgB,SAAD,CAArB;AACJR,+BAAmB,CAACQ,SAAD,EAAY1kC,MAAZ,CAAnB;AACH;;AACD,mBAAS2kC,cAAT,CAAwB90B,IAAxB,EAA8BvD,KAA9B,EAAqC;AACjC,gBAAIs4B,YAAY,GAAG,CAAC,IAAIhrC,IAAJ,CAASiW,IAAT,EAAevD,KAAf,EAAsB,CAAtB,EAAyBnI,MAAzB,KAAoCylB,IAAI,CAAC5I,IAAL,CAAUuU,cAA9C,GAA+D,CAAhE,IAAqE,CAAxF;AACA,gBAAIsP,aAAa,GAAGjb,IAAI,CAACvZ,KAAL,CAAWstB,cAAX,CAA0B,CAACrxB,KAAK,GAAG,CAAR,GAAY,EAAb,IAAmB,EAA7C,CAApB;AACA,gBAAIgpB,WAAW,GAAG1L,IAAI,CAACvZ,KAAL,CAAWstB,cAAX,CAA0BrxB,KAA1B,CAAlB;AAAA,gBAAoD3B,IAAI,GAAG7e,MAAM,CAACiB,QAAP,CAAgBw1C,sBAAhB,EAA3D;AAAA,gBAAqGuC,YAAY,GAAGlb,IAAI,CAAC3Z,MAAL,CAAYqO,UAAZ,GAAyB,CAA7I;AAAA,gBAAgJymB,iBAAiB,GAAGD,YAAY,GAAG,qBAAH,GAA2B,cAA3M;AAAA,gBAA2NE,iBAAiB,GAAGF,YAAY,GAAG,qBAAH,GAA2B,cAAtR;AACA,gBAAI5B,SAAS,GAAG2B,aAAa,GAAG,CAAhB,GAAoBD,YAApC;AAAA,gBAAkDK,QAAQ,GAAG,CAA7D,CAJiC,CAKjC;;AACA,mBAAO/B,SAAS,IAAI2B,aAApB,EAAmC3B,SAAS,IAAI+B,QAAQ,EAAxD,EAA4D;AACxDt6B,kBAAI,CAACvU,WAAL,CAAiB6sC,SAAS,CAAC8B,iBAAD,EAAoB,IAAInrC,IAAJ,CAASiW,IAAT,EAAevD,KAAK,GAAG,CAAvB,EAA0B42B,SAA1B,CAApB,EAA0DA,SAA1D,EAAqE+B,QAArE,CAA1B;AACH,aARgC,CASjC;;;AACA,iBAAK/B,SAAS,GAAG,CAAjB,EAAoBA,SAAS,IAAI5N,WAAjC,EAA8C4N,SAAS,IAAI+B,QAAQ,EAAnE,EAAuE;AACnEt6B,kBAAI,CAACvU,WAAL,CAAiB6sC,SAAS,CAAC,EAAD,EAAK,IAAIrpC,IAAJ,CAASiW,IAAT,EAAevD,KAAf,EAAsB42B,SAAtB,CAAL,EAAuCA,SAAvC,EAAkD+B,QAAlD,CAA1B;AACH,aAZgC,CAajC;;;AACA,iBAAK,IAAIC,MAAM,GAAG5P,WAAW,GAAG,CAAhC,EAAmC4P,MAAM,IAAI,KAAKN,YAAf,KAC9Bhb,IAAI,CAAC3Z,MAAL,CAAYqO,UAAZ,KAA2B,CAA3B,IAAgC2mB,QAAQ,GAAG,CAAX,KAAiB,CADnB,CAAnC,EAC0DC,MAAM,IAAID,QAAQ,EAD5E,EACgF;AAC5Et6B,kBAAI,CAACvU,WAAL,CAAiB6sC,SAAS,CAAC+B,iBAAD,EAAoB,IAAIprC,IAAJ,CAASiW,IAAT,EAAevD,KAAK,GAAG,CAAvB,EAA0B44B,MAAM,GAAG5P,WAAnC,CAApB,EAAqE4P,MAArE,EAA6ED,QAA7E,CAA1B;AACH,aAjBgC,CAkBjC;;;AACA,gBAAIE,YAAY,GAAGtO,aAAa,CAAC,KAAD,EAAQ,cAAR,CAAhC;AACAsO,wBAAY,CAAC/uC,WAAb,CAAyBuU,IAAzB;AACA,mBAAOw6B,YAAP;AACH;;AACD,mBAASrC,SAAT,GAAqB;AACjB,gBAAIlZ,IAAI,CAACqV,aAAL,KAAuBhvC,SAA3B,EAAsC;AAClC;AACH;;AACDgnC,qBAAS,CAACrN,IAAI,CAACqV,aAAN,CAAT,CAJiB,CAKjB;;AACA,gBAAIrV,IAAI,CAAC1L,WAAT,EACI+Y,SAAS,CAACrN,IAAI,CAAC1L,WAAN,CAAT;AACJ,gBAAIknB,IAAI,GAAGr4C,QAAQ,CAACw1C,sBAAT,EAAX;;AACA,iBAAK,IAAItkC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2rB,IAAI,CAAC3Z,MAAL,CAAYqO,UAAhC,EAA4CrgB,CAAC,EAA7C,EAAiD;AAC7C,kBAAIvQ,CAAC,GAAG,IAAIkM,IAAJ,CAASgwB,IAAI,CAACkU,WAAd,EAA2BlU,IAAI,CAACiU,YAAhC,EAA8C,CAA9C,CAAR;AACAnwC,eAAC,CAACvC,QAAF,CAAWy+B,IAAI,CAACiU,YAAL,GAAoB5/B,CAA/B;AACAmnC,kBAAI,CAAChvC,WAAL,CAAiBuuC,cAAc,CAACj3C,CAAC,CAAC+mC,WAAF,EAAD,EAAkB/mC,CAAC,CAAC0W,QAAF,EAAlB,CAA/B;AACH;;AACDwlB,gBAAI,CAACqV,aAAL,CAAmB7oC,WAAnB,CAA+BgvC,IAA/B;AACAxb,gBAAI,CAACjf,IAAL,GAAYif,IAAI,CAACqV,aAAL,CAAmB/H,UAA/B;;AACA,gBAAItN,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,OAArB,IAAgCiM,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAnB,KAA8B,CAAlE,EAAqE;AACjEmzC,yBAAW;AACd;AACJ;;AACD,mBAASe,gBAAT,GAA4B;AACxB,gBAAItY,IAAI,CAAC3Z,MAAL,CAAYqO,UAAZ,GAAyB,CAAzB,IACAsL,IAAI,CAAC3Z,MAAL,CAAY0kB,iBAAZ,KAAkC,UADtC,EAEI;;AACJ,gBAAI0Q,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAU/4B,KAAV,EAAiB;AACpC,kBAAIsd,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,KAAwBxtB,SAAxB,IACA25B,IAAI,CAACkU,WAAL,KAAqBlU,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoBgX,WAApB,EADrB,IAEAnoB,KAAK,GAAGsd,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoBrZ,QAApB,EAFZ,EAE4C;AACxC,uBAAO,KAAP;AACH;;AACD,qBAAO,EAAEwlB,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,KAAwBvtB,SAAxB,IACL25B,IAAI,CAACkU,WAAL,KAAqBlU,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoBiX,WAApB,EADhB,IAELnoB,KAAK,GAAGsd,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoBpZ,QAApB,EAFL,CAAP;AAGH,aATD;;AAUAwlB,gBAAI,CAAC0b,uBAAL,CAA6B9C,QAA7B,GAAwC,CAAC,CAAzC;AACA5Y,gBAAI,CAAC0b,uBAAL,CAA6BpuC,SAA7B,GAAyC,EAAzC;;AACA,iBAAK,IAAI+G,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AACzB,kBAAI,CAAConC,gBAAgB,CAACpnC,CAAD,CAArB,EACI;AACJ,kBAAIqO,KAAK,GAAGuqB,aAAa,CAAC,QAAD,EAAW,+BAAX,CAAzB;AACAvqB,mBAAK,CAAChiB,KAAN,GAAc,IAAIsP,IAAJ,CAASgwB,IAAI,CAACkU,WAAd,EAA2B7/B,CAA3B,EAA8BmG,QAA9B,GAAyCzH,QAAzC,EAAd;AACA2P,mBAAK,CAAC0qB,WAAN,GAAoBkB,UAAU,CAACj6B,CAAD,EAAI2rB,IAAI,CAAC3Z,MAAL,CAAY8N,qBAAhB,EAAuC6L,IAAI,CAAC5I,IAA5C,CAA9B;AACA1U,mBAAK,CAACk2B,QAAN,GAAiB,CAAC,CAAlB;;AACA,kBAAI5Y,IAAI,CAACiU,YAAL,KAAsB5/B,CAA1B,EAA6B;AACzBqO,qBAAK,CAACi5B,QAAN,GAAiB,IAAjB;AACH;;AACD3b,kBAAI,CAAC0b,uBAAL,CAA6BlvC,WAA7B,CAAyCkW,KAAzC;AACH;AACJ;;AACD,mBAASk5B,UAAT,GAAsB;AAClB,gBAAIC,SAAS,GAAG5O,aAAa,CAAC,KAAD,EAAQ,iBAAR,CAA7B;AACA,gBAAI6O,gBAAgB,GAAG55C,MAAM,CAACiB,QAAP,CAAgBw1C,sBAAhB,EAAvB;AACA,gBAAIoD,YAAJ;;AACA,gBAAI/b,IAAI,CAAC3Z,MAAL,CAAYqO,UAAZ,GAAyB,CAAzB,IACAsL,IAAI,CAAC3Z,MAAL,CAAY0kB,iBAAZ,KAAkC,QADtC,EACgD;AAC5CgR,0BAAY,GAAG9O,aAAa,CAAC,MAAD,EAAS,WAAT,CAA5B;AACH,aAHD,MAIK;AACDjN,kBAAI,CAAC0b,uBAAL,GAA+BzO,aAAa,CAAC,QAAD,EAAW,gCAAX,CAA5C;AACAnxB,kBAAI,CAACkkB,IAAI,CAAC0b,uBAAN,EAA+B,QAA/B,EAAyC,UAAUp1C,CAAV,EAAa;AACtD,oBAAInE,MAAM,GAAGmE,CAAC,CAACnE,MAAf;AACA,oBAAI65C,aAAa,GAAGn3C,QAAQ,CAAC1C,MAAM,CAACzB,KAAR,EAAe,EAAf,CAA5B;AACAs/B,oBAAI,CAACqT,WAAL,CAAiB2I,aAAa,GAAGhc,IAAI,CAACiU,YAAtC;AACAe,4BAAY,CAAC,eAAD,CAAZ;AACH,eALG,CAAJ;AAMAsD,8BAAgB;AAChByD,0BAAY,GAAG/b,IAAI,CAAC0b,uBAApB;AACH;;AACD,gBAAIO,SAAS,GAAGxO,iBAAiB,CAAC,UAAD,EAAa;AAAEyO,sBAAQ,EAAE;AAAZ,aAAb,CAAjC;AACA,gBAAIC,WAAW,GAAGF,SAAS,CAACG,oBAAV,CAA+B,OAA/B,EAAwC,CAAxC,CAAlB;AACAD,uBAAW,CAAClO,YAAZ,CAAyB,YAAzB,EAAuCjO,IAAI,CAAC5I,IAAL,CAAU8U,aAAjD;;AACA,gBAAIlM,IAAI,CAAC3Z,MAAL,CAAYwN,OAAhB,EAAyB;AACrBsoB,yBAAW,CAAClO,YAAZ,CAAyB,KAAzB,EAAgCjO,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoBgX,WAApB,GAAkC93B,QAAlC,EAAhC;AACH;;AACD,gBAAIitB,IAAI,CAAC3Z,MAAL,CAAYuN,OAAhB,EAAyB;AACrBuoB,yBAAW,CAAClO,YAAZ,CAAyB,KAAzB,EAAgCjO,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoBiX,WAApB,GAAkC93B,QAAlC,EAAhC;AACAopC,yBAAW,CAACE,QAAZ,GACI,CAAC,CAACrc,IAAI,CAAC3Z,MAAL,CAAYwN,OAAd,IACImM,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoBgX,WAApB,OAAsC7K,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoBiX,WAApB,EAF9C;AAGH;;AACD,gBAAIoJ,YAAY,GAAGhH,aAAa,CAAC,KAAD,EAAQ,yBAAR,CAAhC;AACAgH,wBAAY,CAACznC,WAAb,CAAyBuvC,YAAzB;AACA9H,wBAAY,CAACznC,WAAb,CAAyByvC,SAAzB;AACAH,4BAAgB,CAACtvC,WAAjB,CAA6BynC,YAA7B;AACA4H,qBAAS,CAACrvC,WAAV,CAAsBsvC,gBAAtB;AACA,mBAAO;AACHD,uBAAS,EAAEA,SADR;AAEHM,yBAAW,EAAEA,WAFV;AAGHJ,0BAAY,EAAEA;AAHX,aAAP;AAKH;;AACD,mBAASO,WAAT,GAAuB;AACnBjP,qBAAS,CAACrN,IAAI,CAAC2X,QAAN,CAAT;AACA3X,gBAAI,CAAC2X,QAAL,CAAcnrC,WAAd,CAA0BwzB,IAAI,CAACuc,YAA/B;;AACA,gBAAIvc,IAAI,CAAC3Z,MAAL,CAAYqO,UAAhB,EAA4B;AACxBsL,kBAAI,CAACwc,YAAL,GAAoB,EAApB;AACAxc,kBAAI,CAACyc,aAAL,GAAqB,EAArB;AACH;;AACD,iBAAK,IAAItM,CAAC,GAAGnQ,IAAI,CAAC3Z,MAAL,CAAYqO,UAAzB,EAAqCyb,CAAC,EAAtC,GAA2C;AACvC,kBAAIztB,KAAK,GAAGk5B,UAAU,EAAtB;AACA5b,kBAAI,CAACwc,YAAL,CAAkBrnC,IAAlB,CAAuBuN,KAAK,CAACy5B,WAA7B;AACAnc,kBAAI,CAACyc,aAAL,CAAmBtnC,IAAnB,CAAwBuN,KAAK,CAACq5B,YAA9B;AACA/b,kBAAI,CAAC2X,QAAL,CAAcnrC,WAAd,CAA0BkW,KAAK,CAACm5B,SAAhC;AACH;;AACD7b,gBAAI,CAAC2X,QAAL,CAAcnrC,WAAd,CAA0BwzB,IAAI,CAAC0c,YAA/B;AACH;;AACD,mBAAS7D,aAAT,GAAyB;AACrB7Y,gBAAI,CAAC2X,QAAL,GAAgB1K,aAAa,CAAC,KAAD,EAAQ,kBAAR,CAA7B;AACAjN,gBAAI,CAACwc,YAAL,GAAoB,EAApB;AACAxc,gBAAI,CAACyc,aAAL,GAAqB,EAArB;AACAzc,gBAAI,CAACuc,YAAL,GAAoBtP,aAAa,CAAC,MAAD,EAAS,sBAAT,CAAjC;AACAjN,gBAAI,CAACuc,YAAL,CAAkBjvC,SAAlB,GAA8B0yB,IAAI,CAAC3Z,MAAL,CAAY6N,SAA1C;AACA8L,gBAAI,CAAC0c,YAAL,GAAoBzP,aAAa,CAAC,MAAD,EAAS,sBAAT,CAAjC;AACAjN,gBAAI,CAAC0c,YAAL,CAAkBpvC,SAAlB,GAA8B0yB,IAAI,CAAC3Z,MAAL,CAAY2N,SAA1C;AACAsoB,uBAAW;AACX/7C,kBAAM,CAACC,cAAP,CAAsBw/B,IAAtB,EAA4B,qBAA5B,EAAmD;AAC/CrT,iBAAG,EAAE,eAAY;AAAE,uBAAOqT,IAAI,CAAC2c,oBAAZ;AAAmC,eADP;AAE/C3wB,iBAAG,EAAE,aAAUugB,IAAV,EAAgB;AACjB,oBAAIvM,IAAI,CAAC2c,oBAAL,KAA8BpQ,IAAlC,EAAwC;AACpCO,6BAAW,CAAC9M,IAAI,CAACuc,YAAN,EAAoB,oBAApB,EAA0ChQ,IAA1C,CAAX;AACAvM,sBAAI,CAAC2c,oBAAL,GAA4BpQ,IAA5B;AACH;AACJ;AAP8C,aAAnD;AASAhsC,kBAAM,CAACC,cAAP,CAAsBw/B,IAAtB,EAA4B,qBAA5B,EAAmD;AAC/CrT,iBAAG,EAAE,eAAY;AAAE,uBAAOqT,IAAI,CAAC4c,oBAAZ;AAAmC,eADP;AAE/C5wB,iBAAG,EAAE,aAAUugB,IAAV,EAAgB;AACjB,oBAAIvM,IAAI,CAAC4c,oBAAL,KAA8BrQ,IAAlC,EAAwC;AACpCO,6BAAW,CAAC9M,IAAI,CAAC0c,YAAN,EAAoB,oBAApB,EAA0CnQ,IAA1C,CAAX;AACAvM,sBAAI,CAAC4c,oBAAL,GAA4BrQ,IAA5B;AACH;AACJ;AAP8C,aAAnD;AASAvM,gBAAI,CAAC6c,kBAAL,GAA0B7c,IAAI,CAACwc,YAAL,CAAkB,CAAlB,CAA1B;AACAM,wCAA4B;AAC5B,mBAAO9c,IAAI,CAAC2X,QAAZ;AACH;;AACD,mBAASwB,SAAT,GAAqB;AACjBnZ,gBAAI,CAACkV,iBAAL,CAAuB38B,SAAvB,CAAiCO,GAAjC,CAAqC,SAArC;AACA,gBAAIknB,IAAI,CAAC3Z,MAAL,CAAY4N,UAAhB,EACI+L,IAAI,CAACkV,iBAAL,CAAuB38B,SAAvB,CAAiCO,GAAjC,CAAqC,YAArC;AACJknB,gBAAI,CAAC8X,aAAL,GAAqB7K,aAAa,CAAC,KAAD,EAAQ,gBAAR,CAAlC;AACAjN,gBAAI,CAAC8X,aAAL,CAAmBc,QAAnB,GAA8B,CAAC,CAA/B;AACA,gBAAImE,SAAS,GAAG9P,aAAa,CAAC,MAAD,EAAS,0BAAT,EAAqC,GAArC,CAA7B;AACA,gBAAI+P,SAAS,GAAGvP,iBAAiB,CAAC,gBAAD,EAAmB;AAChD,4BAAczN,IAAI,CAAC5I,IAAL,CAAU+U;AADwB,aAAnB,CAAjC;AAGAnM,gBAAI,CAACiW,WAAL,GAAmB+G,SAAS,CAACZ,oBAAV,CAA+B,OAA/B,EAAwC,CAAxC,CAAnB;AACA,gBAAIa,WAAW,GAAGxP,iBAAiB,CAAC,kBAAD,EAAqB;AACpD,4BAAczN,IAAI,CAAC5I,IAAL,CAAUgV;AAD4B,aAArB,CAAnC;AAGApM,gBAAI,CAACkW,aAAL,GAAqB+G,WAAW,CAACb,oBAAZ,CAAiC,OAAjC,EAA0C,CAA1C,CAArB;AACApc,gBAAI,CAACiW,WAAL,CAAiB2C,QAAjB,GAA4B5Y,IAAI,CAACkW,aAAL,CAAmB0C,QAAnB,GAA8B,CAAC,CAA3D;AACA5Y,gBAAI,CAACiW,WAAL,CAAiBv1C,KAAjB,GAAyB2rC,GAAG,CAACrM,IAAI,CAAC2U,qBAAL,GACvB3U,IAAI,CAAC2U,qBAAL,CAA2Bx5B,QAA3B,EADuB,GAEvB6kB,IAAI,CAAC3Z,MAAL,CAAYsQ,SAAZ,GACIqJ,IAAI,CAAC3Z,MAAL,CAAY6M,WADhB,GAEI8iB,aAAa,CAAChW,IAAI,CAAC3Z,MAAL,CAAY6M,WAAb,CAJK,CAA5B;AAKA8M,gBAAI,CAACkW,aAAL,CAAmBx1C,KAAnB,GAA2B2rC,GAAG,CAACrM,IAAI,CAAC2U,qBAAL,GACzB3U,IAAI,CAAC2U,qBAAL,CAA2Bv5B,UAA3B,EADyB,GAEzB4kB,IAAI,CAAC3Z,MAAL,CAAY8M,aAFY,CAA9B;AAGA6M,gBAAI,CAACiW,WAAL,CAAiBhI,YAAjB,CAA8B,MAA9B,EAAsCjO,IAAI,CAAC3Z,MAAL,CAAYqN,aAAZ,CAA0B3gB,QAA1B,EAAtC;AACAitB,gBAAI,CAACkW,aAAL,CAAmBjI,YAAnB,CAAgC,MAAhC,EAAwCjO,IAAI,CAAC3Z,MAAL,CAAYyN,eAAZ,CAA4B/gB,QAA5B,EAAxC;AACAitB,gBAAI,CAACiW,WAAL,CAAiBhI,YAAjB,CAA8B,KAA9B,EAAqCjO,IAAI,CAAC3Z,MAAL,CAAYsQ,SAAZ,GAAwB,GAAxB,GAA8B,GAAnE;AACAqJ,gBAAI,CAACiW,WAAL,CAAiBhI,YAAjB,CAA8B,KAA9B,EAAqCjO,IAAI,CAAC3Z,MAAL,CAAYsQ,SAAZ,GAAwB,IAAxB,GAA+B,IAApE;AACAqJ,gBAAI,CAACkW,aAAL,CAAmBjI,YAAnB,CAAgC,KAAhC,EAAuC,GAAvC;AACAjO,gBAAI,CAACkW,aAAL,CAAmBjI,YAAnB,CAAgC,KAAhC,EAAuC,IAAvC;AACAjO,gBAAI,CAAC8X,aAAL,CAAmBtrC,WAAnB,CAA+BwwC,SAA/B;AACAhd,gBAAI,CAAC8X,aAAL,CAAmBtrC,WAAnB,CAA+BuwC,SAA/B;AACA/c,gBAAI,CAAC8X,aAAL,CAAmBtrC,WAAnB,CAA+BywC,WAA/B;AACA,gBAAIjd,IAAI,CAAC3Z,MAAL,CAAYsQ,SAAhB,EACIqJ,IAAI,CAAC8X,aAAL,CAAmBv/B,SAAnB,CAA6BO,GAA7B,CAAiC,UAAjC;;AACJ,gBAAIknB,IAAI,CAAC3Z,MAAL,CAAYmN,aAAhB,EAA+B;AAC3BwM,kBAAI,CAAC8X,aAAL,CAAmBv/B,SAAnB,CAA6BO,GAA7B,CAAiC,YAAjC;AACA,kBAAIokC,WAAW,GAAGzP,iBAAiB,CAAC,kBAAD,CAAnC;AACAzN,kBAAI,CAACmW,aAAL,GAAqB+G,WAAW,CAACd,oBAAZ,CAAiC,OAAjC,EAA0C,CAA1C,CAArB;AACApc,kBAAI,CAACmW,aAAL,CAAmBz1C,KAAnB,GAA2B2rC,GAAG,CAACrM,IAAI,CAAC2U,qBAAL,GACzB3U,IAAI,CAAC2U,qBAAL,CAA2BnE,UAA3B,EADyB,GAEzBxQ,IAAI,CAAC3Z,MAAL,CAAYmkB,cAFY,CAA9B;AAGAxK,kBAAI,CAACmW,aAAL,CAAmBlI,YAAnB,CAAgC,MAAhC,EAAwCjO,IAAI,CAACkW,aAAL,CAAmBiH,YAAnB,CAAgC,MAAhC,CAAxC;AACAnd,kBAAI,CAACmW,aAAL,CAAmBlI,YAAnB,CAAgC,KAAhC,EAAuC,GAAvC;AACAjO,kBAAI,CAACmW,aAAL,CAAmBlI,YAAnB,CAAgC,KAAhC,EAAuC,IAAvC;AACAjO,kBAAI,CAAC8X,aAAL,CAAmBtrC,WAAnB,CAA+BygC,aAAa,CAAC,MAAD,EAAS,0BAAT,EAAqC,GAArC,CAA5C;AACAjN,kBAAI,CAAC8X,aAAL,CAAmBtrC,WAAnB,CAA+B0wC,WAA/B;AACH;;AACD,gBAAI,CAACld,IAAI,CAAC3Z,MAAL,CAAYsQ,SAAjB,EAA4B;AACxB;AACAqJ,kBAAI,CAACiM,IAAL,GAAYgB,aAAa,CAAC,MAAD,EAAS,iBAAT,EAA4BjN,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAeK,IAAG,CAAC,CAACtM,IAAI,CAAC2U,qBAAL,GACnE3U,IAAI,CAACiW,WAAL,CAAiBv1C,KADkD,GAEnEs/B,IAAI,CAAC3Z,MAAL,CAAY6M,WAFsD,IAEvC,EAFsC,CAAlB,CAA5B,CAAzB;AAGA8M,kBAAI,CAACiM,IAAL,CAAU/nB,KAAV,GAAkB8b,IAAI,CAAC5I,IAAL,CAAU4U,WAA5B;AACAhM,kBAAI,CAACiM,IAAL,CAAU2M,QAAV,GAAqB,CAAC,CAAtB;AACA5Y,kBAAI,CAAC8X,aAAL,CAAmBtrC,WAAnB,CAA+BwzB,IAAI,CAACiM,IAApC;AACH;;AACD,mBAAOjM,IAAI,CAAC8X,aAAZ;AACH;;AACD,mBAASmB,aAAT,GAAyB;AACrB,gBAAI,CAACjZ,IAAI,CAACod,gBAAV,EACIpd,IAAI,CAACod,gBAAL,GAAwBnQ,aAAa,CAAC,KAAD,EAAQ,oBAAR,CAArC,CADJ,KAGII,SAAS,CAACrN,IAAI,CAACod,gBAAN,CAAT;;AACJ,iBAAK,IAAI/oC,CAAC,GAAG2rB,IAAI,CAAC3Z,MAAL,CAAYqO,UAAzB,EAAqCrgB,CAAC,EAAtC,GAA2C;AACvC,kBAAIwnC,SAAS,GAAG5O,aAAa,CAAC,KAAD,EAAQ,4BAAR,CAA7B;AACAjN,kBAAI,CAACod,gBAAL,CAAsB5wC,WAAtB,CAAkCqvC,SAAlC;AACH;;AACDwB,0BAAc;AACd,mBAAOrd,IAAI,CAACod,gBAAZ;AACH;;AACD,mBAASC,cAAT,GAA0B;AACtB,gBAAI,CAACrd,IAAI,CAACod,gBAAV,EAA4B;AACxB;AACH;;AACD,gBAAIzR,cAAc,GAAG3L,IAAI,CAAC5I,IAAL,CAAUuU,cAA/B;AACA,gBAAIL,QAAQ,GAAGtL,IAAI,CAAC5I,IAAL,CAAUkU,QAAV,CAAmBC,SAAnB,CAA6Bx3B,KAA7B,EAAf;;AACA,gBAAI43B,cAAc,GAAG,CAAjB,IAAsBA,cAAc,GAAGL,QAAQ,CAAClnC,MAApD,EAA4D;AACxDknC,sBAAQ,GAAGA,QAAQ,CAAC91B,MAAT,CAAgBm2B,cAAhB,EAAgCL,QAAQ,CAAClnC,MAAzC,EAAiD4Q,MAAjD,CAAwDs2B,QAAQ,CAAC91B,MAAT,CAAgB,CAAhB,EAAmBm2B,cAAnB,CAAxD,CAAX;AACH;;AACD,iBAAK,IAAIt3B,CAAC,GAAG2rB,IAAI,CAAC3Z,MAAL,CAAYqO,UAAzB,EAAqCrgB,CAAC,EAAtC,GAA2C;AACvC2rB,kBAAI,CAACod,gBAAL,CAAsBp/B,QAAtB,CAA+B3J,CAA/B,EAAkC/G,SAAlC,GAA8C,uDAAuDg+B,QAAQ,CAACvnB,IAAT,CAAc,yCAAd,CAAvD,GAAkH,yBAAhK;AACH;AACJ;AACD;;;AACA,mBAASg1B,UAAT,GAAsB;AAClB/Y,gBAAI,CAACkV,iBAAL,CAAuB38B,SAAvB,CAAiCO,GAAjC,CAAqC,UAArC;AACA,gBAAIy8B,WAAW,GAAGtI,aAAa,CAAC,KAAD,EAAQ,uBAAR,CAA/B;AACAsI,uBAAW,CAAC/oC,WAAZ,CAAwBygC,aAAa,CAAC,MAAD,EAAS,mBAAT,EAA8BjN,IAAI,CAAC5I,IAAL,CAAU0U,gBAAxC,CAArC;AACA,gBAAIxX,WAAW,GAAG2Y,aAAa,CAAC,KAAD,EAAQ,iBAAR,CAA/B;AACAsI,uBAAW,CAAC/oC,WAAZ,CAAwB8nB,WAAxB;AACA,mBAAO;AACHihB,yBAAW,EAAEA,WADV;AAEHjhB,yBAAW,EAAEA;AAFV,aAAP;AAIH;;AACD,mBAAS+e,WAAT,CAAqB3yC,KAArB,EAA4B48C,QAA5B,EAAsC;AAClC,gBAAIA,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AAAEA,sBAAQ,GAAG,IAAX;AAAkB;;AAC7C,gBAAI71C,KAAK,GAAG61C,QAAQ,GAAG58C,KAAH,GAAWA,KAAK,GAAGs/B,IAAI,CAACiU,YAA5C;AACA,gBAAKxsC,KAAK,GAAG,CAAR,IAAau4B,IAAI,CAACud,mBAAL,KAA6B,IAA3C,IACC91C,KAAK,GAAG,CAAR,IAAau4B,IAAI,CAACwd,mBAAL,KAA6B,IAD/C,EAEI;AACJxd,gBAAI,CAACiU,YAAL,IAAqBxsC,KAArB;;AACA,gBAAIu4B,IAAI,CAACiU,YAAL,GAAoB,CAApB,IAAyBjU,IAAI,CAACiU,YAAL,GAAoB,EAAjD,EAAqD;AACjDjU,kBAAI,CAACkU,WAAL,IAAoBlU,IAAI,CAACiU,YAAL,GAAoB,EAApB,GAAyB,CAAzB,GAA6B,CAAC,CAAlD;AACAjU,kBAAI,CAACiU,YAAL,GAAoB,CAACjU,IAAI,CAACiU,YAAL,GAAoB,EAArB,IAA2B,EAA/C;AACAe,0BAAY,CAAC,cAAD,CAAZ;AACAsD,8BAAgB;AACnB;;AACDY,qBAAS;AACTlE,wBAAY,CAAC,eAAD,CAAZ;AACA8H,wCAA4B;AAC/B;;AACD,mBAASrtB,KAAT,CAAeguB,kBAAf,EAAmCC,SAAnC,EAA8C;AAC1C,gBAAID,kBAAkB,KAAK,KAAK,CAAhC,EAAmC;AAAEA,gCAAkB,GAAG,IAArB;AAA4B;;AACjE,gBAAIC,SAAS,KAAK,KAAK,CAAvB,EAA0B;AAAEA,uBAAS,GAAG,IAAZ;AAAmB;;AAC/C1d,gBAAI,CAACtsB,KAAL,CAAWhT,KAAX,GAAmB,EAAnB;AACA,gBAAIs/B,IAAI,CAACrN,QAAL,KAAkBtsB,SAAtB,EACI25B,IAAI,CAACrN,QAAL,CAAcjyB,KAAd,GAAsB,EAAtB;AACJ,gBAAIs/B,IAAI,CAAC2d,WAAL,KAAqBt3C,SAAzB,EACI25B,IAAI,CAAC2d,WAAL,CAAiBj9C,KAAjB,GAAyB,EAAzB;AACJs/B,gBAAI,CAAC/J,aAAL,GAAqB,EAArB;AACA+J,gBAAI,CAAC2U,qBAAL,GAA6BtuC,SAA7B;;AACA,gBAAIq3C,SAAS,KAAK,IAAlB,EAAwB;AACpB1d,kBAAI,CAACkU,WAAL,GAAmBlU,IAAI,CAAC4d,YAAL,CAAkB/S,WAAlB,EAAnB;AACA7K,kBAAI,CAACiU,YAAL,GAAoBjU,IAAI,CAAC4d,YAAL,CAAkBpjC,QAAlB,EAApB;AACH;;AACDwlB,gBAAI,CAAC8U,aAAL,GAAqB,KAArB;;AACA,gBAAI9U,IAAI,CAAC3Z,MAAL,CAAYkN,UAAZ,KAA2B,IAA/B,EAAqC;AACjCmjB,6BAAe;AAClB;;AACD1W,gBAAI,CAAC4T,MAAL;AACA,gBAAI6J,kBAAJ,EACI;AACAzI,0BAAY,CAAC,UAAD,CAAZ;AACP;;AACD,mBAASzB,KAAT,GAAiB;AACbvT,gBAAI,CAACvW,MAAL,GAAc,KAAd;;AACA,gBAAI,CAACuW,IAAI,CAACwU,QAAV,EAAoB;AAChB,kBAAIxU,IAAI,CAACkV,iBAAL,KAA2B7uC,SAA/B,EAA0C;AACtC25B,oBAAI,CAACkV,iBAAL,CAAuB38B,SAAvB,CAAiC3K,MAAjC,CAAwC,MAAxC;AACH;;AACD,kBAAIoyB,IAAI,CAAC/I,MAAL,KAAgB5wB,SAApB,EAA+B;AAC3B25B,oBAAI,CAAC/I,MAAL,CAAY1e,SAAZ,CAAsB3K,MAAtB,CAA6B,QAA7B;AACH;AACJ;;AACDonC,wBAAY,CAAC,SAAD,CAAZ;AACH;;AACD,mBAAS1mC,OAAT,GAAmB;AACf,gBAAI0xB,IAAI,CAAC3Z,MAAL,KAAgBhgB,SAApB,EACI2uC,YAAY,CAAC,WAAD,CAAZ;;AACJ,iBAAK,IAAI3gC,CAAC,GAAG2rB,IAAI,CAAC6S,SAAL,CAAezuC,MAA5B,EAAoCiQ,CAAC,EAArC,GAA0C;AACtC,kBAAI47B,CAAC,GAAGjQ,IAAI,CAAC6S,SAAL,CAAex+B,CAAf,CAAR;AACA47B,eAAC,CAAC3tC,OAAF,CAAUm+B,mBAAV,CAA8BwP,CAAC,CAAChuC,KAAhC,EAAuCguC,CAAC,CAAC+G,OAAzC,EAAkD/G,CAAC,CAACnuC,OAApD;AACH;;AACDk+B,gBAAI,CAAC6S,SAAL,GAAiB,EAAjB;;AACA,gBAAI7S,IAAI,CAAC2d,WAAT,EAAsB;AAClB,kBAAI3d,IAAI,CAAC2d,WAAL,CAAiBlxC,UAArB,EACIuzB,IAAI,CAAC2d,WAAL,CAAiBlxC,UAAjB,CAA4BuB,WAA5B,CAAwCgyB,IAAI,CAAC2d,WAA7C;AACJ3d,kBAAI,CAAC2d,WAAL,GAAmBt3C,SAAnB;AACH,aAJD,MAKK,IAAI25B,IAAI,CAACkV,iBAAL,IAA0BlV,IAAI,CAACkV,iBAAL,CAAuBzoC,UAArD,EAAiE;AAClE,kBAAIuzB,IAAI,CAAC3Z,MAAL,cAAsB2Z,IAAI,CAACkV,iBAAL,CAAuBzoC,UAAjD,EAA6D;AACzD,oBAAImhC,OAAO,GAAG5N,IAAI,CAACkV,iBAAL,CAAuBzoC,UAArC;AACAmhC,uBAAO,CAACiQ,SAAR,IAAqBjQ,OAAO,CAAC5/B,WAAR,CAAoB4/B,OAAO,CAACiQ,SAA5B,CAArB;;AACA,oBAAIjQ,OAAO,CAACnhC,UAAZ,EAAwB;AACpB,yBAAOmhC,OAAO,CAACN,UAAf;AACIM,2BAAO,CAACnhC,UAAR,CAAmBC,YAAnB,CAAgCkhC,OAAO,CAACN,UAAxC,EAAoDM,OAApD;AADJ;;AAEAA,yBAAO,CAACnhC,UAAR,CAAmBuB,WAAnB,CAA+B4/B,OAA/B;AACH;AACJ,eARD,MAUI5N,IAAI,CAACkV,iBAAL,CAAuBzoC,UAAvB,CAAkCuB,WAAlC,CAA8CgyB,IAAI,CAACkV,iBAAnD;AACP;;AACD,gBAAIlV,IAAI,CAACrN,QAAT,EAAmB;AACfqN,kBAAI,CAACtsB,KAAL,CAAWnR,IAAX,GAAkB,MAAlB;AACA,kBAAIy9B,IAAI,CAACrN,QAAL,CAAclmB,UAAlB,EACIuzB,IAAI,CAACrN,QAAL,CAAclmB,UAAd,CAAyBuB,WAAzB,CAAqCgyB,IAAI,CAACrN,QAA1C;AACJ,qBAAOqN,IAAI,CAACrN,QAAZ;AACH;;AACD,gBAAIqN,IAAI,CAACtsB,KAAT,EAAgB;AACZssB,kBAAI,CAACtsB,KAAL,CAAWnR,IAAX,GAAkBy9B,IAAI,CAACtsB,KAAL,CAAWoqC,KAA7B;AACA9d,kBAAI,CAACtsB,KAAL,CAAW6E,SAAX,CAAqB3K,MAArB,CAA4B,iBAA5B;AACAoyB,kBAAI,CAACtsB,KAAL,CAAWwjB,eAAX,CAA2B,UAA3B;AACA8I,kBAAI,CAACtsB,KAAL,CAAWhT,KAAX,GAAmB,EAAnB;AACH;;AACD,aACI,gBADJ,EAEI,uBAFJ,EAGI,qBAHJ,EAII,qBAJJ,EAKI,sBALJ,EAMI,sBANJ,EAOI,UAPJ,EAQI,QARJ,EASI,kBATJ,EAUI,gBAVJ,EAWI,gBAXJ,EAYI,MAZJ,EAaI,eAbJ,EAcI,QAdJ,EAeI,kBAfJ,EAgBI,gBAhBJ,EAiBI,YAjBJ,EAkBI,UAlBJ,EAmBI,eAnBJ,EAoBI,mBApBJ,EAqBI,kBArBJ,EAsBI,cAtBJ,EAuBI,cAvBJ,EAwBI,yBAxBJ,EAyBI,qBAzBJ,EA0BI,oBA1BJ,EA2BI,wBA3BJ,EA4BI,kBA5BJ,EA6BI,QA7BJ,EA8BEiN,OA9BF,CA8BU,UAAUykB,CAAV,EAAa;AACnB,kBAAI;AACA,uBAAO4N,IAAI,CAAC5N,CAAD,CAAX;AACH,eAFD,CAGA,OAAOod,CAAP,EAAU,CAAG;AAChB,aAnCD;AAoCH;;AACD,mBAASuO,cAAT,CAAwBhR,IAAxB,EAA8B;AAC1B,gBAAI/M,IAAI,CAAC3Z,MAAL,CAAYyM,QAAZ,IAAwBkN,IAAI,CAAC3Z,MAAL,CAAYyM,QAAZ,CAAqB0lB,QAArB,CAA8BzL,IAA9B,CAA5B,EACI,OAAO,IAAP;AACJ,mBAAO/M,IAAI,CAACkV,iBAAL,CAAuBsD,QAAvB,CAAgCzL,IAAhC,CAAP;AACH;;AACD,mBAAS0K,aAAT,CAAuBnxC,CAAvB,EAA0B;AACtB,gBAAI05B,IAAI,CAACvW,MAAL,IAAe,CAACuW,IAAI,CAAC3Z,MAAL,CAAYsN,MAAhC,EAAwC;AACpC,kBAAIqqB,aAAa,GAAG9P,cAAc,CAAC5nC,CAAD,CAAlC;AACA,kBAAI23C,iBAAiB,GAAGF,cAAc,CAACC,aAAD,CAAtC;AACA,kBAAIE,OAAO,GAAGF,aAAa,KAAKhe,IAAI,CAACtsB,KAAvB,IACVsqC,aAAa,KAAKhe,IAAI,CAACrN,QADb,IAEVqN,IAAI,CAAC19B,OAAL,CAAak2C,QAAb,CAAsBwF,aAAtB,CAFU,IAGV;AACA;AACC13C,eAAC,CAAC8nC,IAAF,IACG9nC,CAAC,CAAC8nC,IAAF,CAAOvgC,OADV,KAEI,CAACvH,CAAC,CAAC8nC,IAAF,CAAOvgC,OAAP,CAAemyB,IAAI,CAACtsB,KAApB,CAAD,IACG,CAACpN,CAAC,CAAC8nC,IAAF,CAAOvgC,OAAP,CAAemyB,IAAI,CAACrN,QAApB,CAHR,CALL;AASA,kBAAIwrB,SAAS,GAAG73C,CAAC,CAAC/D,IAAF,KAAW,MAAX,GACV27C,OAAO,IACL53C,CAAC,CAACu8B,aADJ,IAEE,CAACkb,cAAc,CAACz3C,CAAC,CAACu8B,aAAH,CAHP,GAIV,CAACqb,OAAD,IACE,CAACD,iBADH,IAEE,CAACF,cAAc,CAACz3C,CAAC,CAACu8B,aAAH,CANvB;AAOA,kBAAIub,SAAS,GAAG,CAACpe,IAAI,CAAC3Z,MAAL,CAAYykB,oBAAZ,CAAiC/R,IAAjC,CAAsC,UAAUgU,IAAV,EAAgB;AACnE,uBAAOA,IAAI,CAACyL,QAAL,CAAcwF,aAAd,CAAP;AACH,eAFgB,CAAjB;;AAGA,kBAAIG,SAAS,IAAIC,SAAjB,EAA4B;AACxB,oBAAIpe,IAAI,CAAC8X,aAAL,KAAuBzxC,SAAvB,IACA25B,IAAI,CAACkW,aAAL,KAAuB7vC,SADvB,IAEA25B,IAAI,CAACiW,WAAL,KAAqB5vC,SAFzB,EAEoC;AAChCovC,4BAAU;AACb;;AACDzV,oBAAI,CAACuT,KAAL;;AACA,oBAAIvT,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,OAArB,IAAgCiM,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAnB,KAA8B,CAAlE,EAAqE;AACjE47B,sBAAI,CAACvQ,KAAL,CAAW,KAAX;AACAuQ,sBAAI,CAAC4T,MAAL;AACH;AACJ;AACJ;AACJ;;AACD,mBAASN,UAAT,CAAoB+K,OAApB,EAA6B;AACzB,gBAAI,CAACA,OAAD,IACCre,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,IAAuBwqB,OAAO,GAAGre,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoBgX,WAApB,EADlC,IAEC7K,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,IAAuByqB,OAAO,GAAGre,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoBiX,WAApB,EAFtC,EAGI;AACJ,gBAAIyT,UAAU,GAAGD,OAAjB;AAAA,gBAA0BE,SAAS,GAAGve,IAAI,CAACkU,WAAL,KAAqBoK,UAA3D;AACAte,gBAAI,CAACkU,WAAL,GAAmBoK,UAAU,IAAIte,IAAI,CAACkU,WAAtC;;AACA,gBAAIlU,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,IACAoM,IAAI,CAACkU,WAAL,KAAqBlU,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoBiX,WAApB,EADzB,EAC4D;AACxD7K,kBAAI,CAACiU,YAAL,GAAoB5oC,IAAI,CAACkmB,GAAL,CAASyO,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoBpZ,QAApB,EAAT,EAAyCwlB,IAAI,CAACiU,YAA9C,CAApB;AACH,aAHD,MAIK,IAAIjU,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,IACLmM,IAAI,CAACkU,WAAL,KAAqBlU,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoBgX,WAApB,EADpB,EACuD;AACxD7K,kBAAI,CAACiU,YAAL,GAAoB5oC,IAAI,CAACuP,GAAL,CAASolB,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoBrZ,QAApB,EAAT,EAAyCwlB,IAAI,CAACiU,YAA9C,CAApB;AACH;;AACD,gBAAIsK,SAAJ,EAAe;AACXve,kBAAI,CAAC4T,MAAL;AACAoB,0BAAY,CAAC,cAAD,CAAZ;AACAsD,8BAAgB;AACnB;AACJ;;AACD,mBAAS7E,SAAT,CAAmBp0B,IAAnB,EAAyB2xB,QAAzB,EAAmC;AAC/B,gBAAIA,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AAAEA,sBAAQ,GAAG,IAAX;AAAkB;;AAC7C,gBAAIwN,WAAW,GAAGxe,IAAI,CAAClK,SAAL,CAAezW,IAAf,EAAqBhZ,SAArB,EAAgC2qC,QAAhC,CAAlB,CAF+B,CAE8B;;AAC7D,gBAAKhR,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,IACD2qB,WADC,IAEDxM,YAAY,CAACwM,WAAD,EAAcxe,IAAI,CAAC3Z,MAAL,CAAYwN,OAA1B,EAAmCmd,QAAQ,KAAK3qC,SAAb,GAAyB2qC,QAAzB,GAAoC,CAAChR,IAAI,CAACsW,cAA7E,CAAZ,GAA2G,CAF3G,IAGCtW,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,IACG4qB,WADH,IAEGxM,YAAY,CAACwM,WAAD,EAAcxe,IAAI,CAAC3Z,MAAL,CAAYuN,OAA1B,EAAmCod,QAAQ,KAAK3qC,SAAb,GAAyB2qC,QAAzB,GAAoC,CAAChR,IAAI,CAACyW,cAA7E,CAAZ,GAA2G,CALnH,EAMI,OAAO,KAAP;AACJ,gBAAIzW,IAAI,CAAC3Z,MAAL,CAAYiN,MAAZ,CAAmBlvB,MAAnB,KAA8B,CAA9B,IAAmC47B,IAAI,CAAC3Z,MAAL,CAAY+M,OAAZ,CAAoBhvB,MAApB,KAA+B,CAAtE,EACI,OAAO,IAAP;AACJ,gBAAIo6C,WAAW,KAAKn4C,SAApB,EACI,OAAO,KAAP;AACJ,gBAAIkmC,IAAI,GAAGvM,IAAI,CAAC3Z,MAAL,CAAYiN,MAAZ,CAAmBlvB,MAAnB,GAA4B,CAAvC;AAAA,gBAA0Cq6C,KAAK,GAAGlS,IAAI,GAAGvM,IAAI,CAAC3Z,MAAL,CAAYiN,MAAf,GAAwB0M,IAAI,CAAC3Z,MAAL,CAAY+M,OAA1F;;AACA,iBAAK,IAAI/e,CAAC,GAAG,CAAR,EAAWvQ,CAAC,GAAG,KAAK,CAAzB,EAA4BuQ,CAAC,GAAGoqC,KAAK,CAACr6C,MAAtC,EAA8CiQ,CAAC,EAA/C,EAAmD;AAC/CvQ,eAAC,GAAG26C,KAAK,CAACpqC,CAAD,CAAT;AACA,kBAAI,OAAOvQ,CAAP,KAAa,UAAb,IACAA,CAAC,CAAC06C,WAAD,CADL,CACmB;AADnB,gBAGI,OAAOjS,IAAP,CAHJ,KAIK,IAAIzoC,CAAC,YAAYkM,IAAb,IACLwuC,WAAW,KAAKn4C,SADX,IAELvC,CAAC,CAAC4X,OAAF,OAAgB8iC,WAAW,CAAC9iC,OAAZ,EAFf,EAGD;AACA,uBAAO6wB,IAAP,CAJC,KAKA,IAAI,OAAOzoC,CAAP,KAAa,QAAb,IAAyB06C,WAAW,KAAKn4C,SAA7C,EAAwD;AACzD;AACA,oBAAIq4C,MAAM,GAAG1e,IAAI,CAAClK,SAAL,CAAehyB,CAAf,EAAkBuC,SAAlB,EAA6B,IAA7B,CAAb;AACA,uBAAOq4C,MAAM,IAAIA,MAAM,CAAChjC,OAAP,OAAqB8iC,WAAW,CAAC9iC,OAAZ,EAA/B,GACD6wB,IADC,GAED,CAACA,IAFP;AAGH,eANI,MAOA,KACL;AACA,qBAAOzoC,CAAP,KAAa,QAAb,IACI06C,WAAW,KAAKn4C,SADpB,IAEIvC,CAAC,CAACguB,IAFN,IAGIhuB,CAAC,CAACizB,EAHN,IAIIynB,WAAW,CAAC9iC,OAAZ,MAAyB5X,CAAC,CAACguB,IAAF,CAAOpW,OAAP,EAJ7B,IAKI8iC,WAAW,CAAC9iC,OAAZ,MAAyB5X,CAAC,CAACizB,EAAF,CAAKrb,OAAL,EAPxB,EAQD,OAAO6wB,IAAP;AACP;;AACD,mBAAO,CAACA,IAAR;AACH;;AACD,mBAASqO,QAAT,CAAkB7N,IAAlB,EAAwB;AACpB,gBAAI/M,IAAI,CAACqV,aAAL,KAAuBhvC,SAA3B,EACI,OAAQ0mC,IAAI,CAACC,SAAL,CAAen/B,OAAf,CAAuB,QAAvB,MAAqC,CAAC,CAAtC,IACJmyB,IAAI,CAACqV,aAAL,CAAmBmD,QAAnB,CAA4BzL,IAA5B,CADJ;AAEJ,mBAAO,KAAP;AACH;;AACD,mBAAS9B,SAAT,CAAmB3kC,CAAnB,EAAsB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAI43C,OAAO,GAAG53C,CAAC,CAACnE,MAAF,KAAa69B,IAAI,CAAC/I,MAAhC;AACA,gBAAIpE,UAAU,GAAGmN,IAAI,CAAC3Z,MAAL,CAAYwM,UAA7B;AACA,gBAAI8rB,YAAY,GAAG3e,IAAI,CAACvW,MAAL,KAAgB,CAACoJ,UAAD,IAAe,CAACqrB,OAAhC,CAAnB;AACA,gBAAIU,kBAAkB,GAAG5e,IAAI,CAAC3Z,MAAL,CAAYsN,MAAZ,IAAsBuqB,OAAtB,IAAiC,CAACrrB,UAA3D;;AACA,gBAAIvsB,CAAC,CAACse,OAAF,KAAc,EAAd,IAAoBs5B,OAAxB,EAAiC;AAC7B,kBAAIrrB,UAAJ,EAAgB;AACZmN,oBAAI,CAAC1+B,OAAL,CAAa0+B,IAAI,CAAC/I,MAAL,CAAYv2B,KAAzB,EAAgC,IAAhC,EAAsC4F,CAAC,CAACnE,MAAF,KAAa69B,IAAI,CAACrN,QAAlB,GAChCqN,IAAI,CAAC3Z,MAAL,CAAYqM,SADoB,GAEhCsN,IAAI,CAAC3Z,MAAL,CAAY4M,UAFlB;AAGA,uBAAO3sB,CAAC,CAACnE,MAAF,CAAS08C,IAAT,EAAP;AACH,eALD,MAMK;AACD7e,oBAAI,CAAC2T,IAAL;AACH;AACJ,aAVD,MAWK,IAAIoK,cAAc,CAACz3C,CAAC,CAACnE,MAAH,CAAd,IACLw8C,YADK,IAELC,kBAFC,EAEmB;AACpB,kBAAIE,SAAS,GAAG,CAAC,CAAC9e,IAAI,CAAC8X,aAAP,IACZ9X,IAAI,CAAC8X,aAAL,CAAmBU,QAAnB,CAA4BlyC,CAAC,CAACnE,MAA9B,CADJ;;AAEA,sBAAQmE,CAAC,CAACse,OAAV;AACI,qBAAK,EAAL;AACI,sBAAIk6B,SAAJ,EAAe;AACXx4C,qBAAC,CAACyB,cAAF;AACA0tC,8BAAU;AACVsJ,iCAAa;AAChB,mBAJD,MAMIlH,UAAU,CAACvxC,CAAD,CAAV;;AACJ;;AACJ,qBAAK,EAAL;AAAS;AACLA,mBAAC,CAACyB,cAAF;AACAg3C,+BAAa;AACb;;AACJ,qBAAK,CAAL;AACA,qBAAK,EAAL;AACI,sBAAIb,OAAO,IAAI,CAACle,IAAI,CAAC3Z,MAAL,CAAYwM,UAA5B,EAAwC;AACpCvsB,qBAAC,CAACyB,cAAF;AACAi4B,wBAAI,CAACvQ,KAAL;AACH;;AACD;;AACJ,qBAAK,EAAL;AACA,qBAAK,EAAL;AACI,sBAAI,CAACqvB,SAAD,IAAc,CAACZ,OAAnB,EAA4B;AACxB53C,qBAAC,CAACyB,cAAF;;AACA,wBAAIi4B,IAAI,CAACqV,aAAL,KAAuBhvC,SAAvB,KACCwsB,UAAU,KAAK,KAAf,IACI1vB,QAAQ,CAAC03C,aAAT,IAA0BD,QAAQ,CAACz3C,QAAQ,CAAC03C,aAAV,CAFvC,CAAJ,EAEuE;AACnE,0BAAImE,OAAO,GAAG14C,CAAC,CAACse,OAAF,KAAc,EAAd,GAAmB,CAAnB,GAAuB,CAAC,CAAtC;AACA,0BAAI,CAACte,CAAC,CAACi8B,OAAP,EACImY,UAAU,CAACr0C,SAAD,EAAY24C,OAAZ,CAAV,CADJ,KAEK;AACD14C,yBAAC,CAAC+D,eAAF;AACAgpC,mCAAW,CAAC2L,OAAD,CAAX;AACAtE,kCAAU,CAACT,oBAAoB,CAAC,CAAD,CAArB,EAA0B,CAA1B,CAAV;AACH;AACJ;AACJ,mBAdD,MAeK,IAAIja,IAAI,CAACiW,WAAT,EACDjW,IAAI,CAACiW,WAAL,CAAiB+D,KAAjB;;AACJ;;AACJ,qBAAK,EAAL;AACA,qBAAK,EAAL;AACI1zC,mBAAC,CAACyB,cAAF;AACA,sBAAIN,KAAK,GAAGnB,CAAC,CAACse,OAAF,KAAc,EAAd,GAAmB,CAAnB,GAAuB,CAAC,CAApC;;AACA,sBAAKob,IAAI,CAACqV,aAAL,IAAsB/uC,CAAC,CAACnE,MAAF,CAASq3C,EAAT,KAAgBnzC,SAAvC,IACAC,CAAC,CAACnE,MAAF,KAAa69B,IAAI,CAACtsB,KADlB,IAEApN,CAAC,CAACnE,MAAF,KAAa69B,IAAI,CAACrN,QAFtB,EAEgC;AAC5B,wBAAIrsB,CAAC,CAACi8B,OAAN,EAAe;AACXj8B,uBAAC,CAAC+D,eAAF;AACAipC,gCAAU,CAACtT,IAAI,CAACkU,WAAL,GAAmBzsC,KAApB,CAAV;AACAizC,gCAAU,CAACT,oBAAoB,CAAC,CAAD,CAArB,EAA0B,CAA1B,CAAV;AACH,qBAJD,MAKK,IAAI,CAAC6E,SAAL,EACDpE,UAAU,CAACr0C,SAAD,EAAYoB,KAAK,GAAG,CAApB,CAAV;AACP,mBAVD,MAWK,IAAInB,CAAC,CAACnE,MAAF,KAAa69B,IAAI,CAAC6c,kBAAtB,EAA0C;AAC3CvJ,8BAAU,CAACtT,IAAI,CAACkU,WAAL,GAAmBzsC,KAApB,CAAV;AACH,mBAFI,MAGA,IAAIu4B,IAAI,CAAC3Z,MAAL,CAAYkN,UAAhB,EAA4B;AAC7B,wBAAI,CAACurB,SAAD,IAAc9e,IAAI,CAACiW,WAAvB,EACIjW,IAAI,CAACiW,WAAL,CAAiB+D,KAAjB;AACJvE,8BAAU,CAACnvC,CAAD,CAAV;;AACA05B,wBAAI,CAAC8V,gBAAL;AACH;;AACD;;AACJ,qBAAK,CAAL;AACI,sBAAIgJ,SAAJ,EAAe;AACX,wBAAIG,KAAK,GAAG,CACRjf,IAAI,CAACiW,WADG,EAERjW,IAAI,CAACkW,aAFG,EAGRlW,IAAI,CAACmW,aAHG,EAIRnW,IAAI,CAACiM,IAJG,EAMPj3B,MANO,CAMAgrB,IAAI,CAAC8S,cANL,EAOPtlC,MAPO,CAOA,UAAU/K,CAAV,EAAa;AAAE,6BAAOA,CAAP;AAAW,qBAP1B,CAAZ;AAQA,wBAAI4R,CAAC,GAAG4qC,KAAK,CAACpxC,OAAN,CAAcvH,CAAC,CAACnE,MAAhB,CAAR;;AACA,wBAAIkS,CAAC,KAAK,CAAC,CAAX,EAAc;AACV,0BAAIlS,MAAM,GAAG88C,KAAK,CAAC5qC,CAAC,IAAI/N,CAAC,CAACk8B,QAAF,GAAa,CAAC,CAAd,GAAkB,CAAtB,CAAF,CAAlB;AACAl8B,uBAAC,CAACyB,cAAF;;AACA,uBAAC5F,MAAM,IAAI69B,IAAI,CAAC/I,MAAhB,EAAwB+iB,KAAxB;AACH;AACJ,mBAfD,MAgBK,IAAI,CAACha,IAAI,CAAC3Z,MAAL,CAAY4N,UAAb,IACL+L,IAAI,CAACqV,aADA,IAELrV,IAAI,CAACqV,aAAL,CAAmBmD,QAAnB,CAA4BlyC,CAAC,CAACnE,MAA9B,CAFK,IAGLmE,CAAC,CAACk8B,QAHD,EAGW;AACZl8B,qBAAC,CAACyB,cAAF;;AACAi4B,wBAAI,CAAC/I,MAAL,CAAY+iB,KAAZ;AACH;;AACD;;AACJ;AACI;AA5FR;AA8FH;;AACD,gBAAIha,IAAI,CAACiM,IAAL,KAAc5lC,SAAd,IAA2BC,CAAC,CAACnE,MAAF,KAAa69B,IAAI,CAACiM,IAAjD,EAAuD;AACnD,sBAAQ3lC,CAAC,CAACqK,GAAV;AACI,qBAAKqvB,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAe,CAAf,EAAkBiT,MAAlB,CAAyB,CAAzB,CAAL;AACA,qBAAKlf,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAe,CAAf,EAAkBiT,MAAlB,CAAyB,CAAzB,EAA4BC,WAA5B,EAAL;AACInf,sBAAI,CAACiM,IAAL,CAAUmB,WAAV,GAAwBpN,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAe,CAAf,CAAxB;AACA4J,oCAAkB;AAClBjB,6BAAW;AACX;;AACJ,qBAAK5U,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAe,CAAf,EAAkBiT,MAAlB,CAAyB,CAAzB,CAAL;AACA,qBAAKlf,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAe,CAAf,EAAkBiT,MAAlB,CAAyB,CAAzB,EAA4BC,WAA5B,EAAL;AACInf,sBAAI,CAACiM,IAAL,CAAUmB,WAAV,GAAwBpN,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAe,CAAf,CAAxB;AACA4J,oCAAkB;AAClBjB,6BAAW;AACX;AAZR;AAcH;;AACD,gBAAIsJ,OAAO,IAAIH,cAAc,CAACz3C,CAAC,CAACnE,MAAH,CAA7B,EAAyC;AACrC6yC,0BAAY,CAAC,WAAD,EAAc1uC,CAAd,CAAZ;AACH;AACJ;;AACD,mBAASixC,WAAT,CAAqBxK,IAArB,EAA2B;AACvB,gBAAI/M,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAnB,KAA8B,CAA9B,IACC2oC,IAAI,KACA,CAACA,IAAI,CAACx0B,SAAL,CAAeigC,QAAf,CAAwB,eAAxB,CAAD,IACGzL,IAAI,CAACx0B,SAAL,CAAeigC,QAAf,CAAwB,oBAAxB,CAFH,CADT,EAII;AACJ,gBAAI4G,SAAS,GAAGrS,IAAI,GACdA,IAAI,CAAC4B,OAAL,CAAajzB,OAAb,EADc,GAEdskB,IAAI,CAACjf,IAAL,CAAUs+B,iBAAV,CAA4B1Q,OAA5B,CAAoCjzB,OAApC,EAFN;AAAA,gBAEqD4jC,WAAW,GAAGtf,IAAI,CAAClK,SAAL,CAAekK,IAAI,CAAC/J,aAAL,CAAmB,CAAnB,CAAf,EAAsC5vB,SAAtC,EAAiD,IAAjD,EAAuDqV,OAAvD,EAFnE;AAAA,gBAEqI6jC,cAAc,GAAGl0C,IAAI,CAACkmB,GAAL,CAAS6tB,SAAT,EAAoBpf,IAAI,CAAC/J,aAAL,CAAmB,CAAnB,EAAsBva,OAAtB,EAApB,CAFtJ;AAAA,gBAE4M8jC,YAAY,GAAGn0C,IAAI,CAACuP,GAAL,CAASwkC,SAAT,EAAoBpf,IAAI,CAAC/J,aAAL,CAAmB,CAAnB,EAAsBva,OAAtB,EAApB,CAF3N;AAGA,gBAAI+jC,gBAAgB,GAAG,KAAvB;AACA,gBAAIC,QAAQ,GAAG,CAAf;AAAA,gBAAkB9kB,QAAQ,GAAG,CAA7B;;AACA,iBAAK,IAAI9C,CAAC,GAAGynB,cAAb,EAA6BznB,CAAC,GAAG0nB,YAAjC,EAA+C1nB,CAAC,IAAItwB,QAAQ,CAAC6qC,GAA7D,EAAkE;AAC9D,kBAAI,CAACoB,SAAS,CAAC,IAAIzjC,IAAJ,CAAS8nB,CAAT,CAAD,EAAc,IAAd,CAAd,EAAmC;AAC/B2nB,gCAAgB,GACZA,gBAAgB,IAAK3nB,CAAC,GAAGynB,cAAJ,IAAsBznB,CAAC,GAAG0nB,YADnD;AAEA,oBAAI1nB,CAAC,GAAGwnB,WAAJ,KAAoB,CAACI,QAAD,IAAa5nB,CAAC,GAAG4nB,QAArC,CAAJ,EACIA,QAAQ,GAAG5nB,CAAX,CADJ,KAEK,IAAIA,CAAC,GAAGwnB,WAAJ,KAAoB,CAAC1kB,QAAD,IAAa9C,CAAC,GAAG8C,QAArC,CAAJ,EACDA,QAAQ,GAAG9C,CAAX;AACP;AACJ;;AACD,iBAAK,IAAIqY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnQ,IAAI,CAAC3Z,MAAL,CAAYqO,UAAhC,EAA4Cyb,CAAC,EAA7C,EAAiD;AAC7C,kBAAIztB,KAAK,GAAGsd,IAAI,CAACqV,aAAL,CAAmBr3B,QAAnB,CAA4BmyB,CAA5B,CAAZ;;AACA,kBAAIrX,OAAO,GAAG,SAAVA,OAAU,CAAUzkB,CAAV,EAAa67B,CAAb,EAAgB;AAC1B,oBAAIyP,OAAO,GAAGj9B,KAAK,CAAC1E,QAAN,CAAe3J,CAAf,CAAd;AAAA,oBAAiCgL,IAAI,GAAGsgC,OAAO,CAAChR,OAAhD;AACA,oBAAIiR,SAAS,GAAGvgC,IAAI,CAAC3D,OAAL,EAAhB;AACA,oBAAImkC,UAAU,GAAIH,QAAQ,GAAG,CAAX,IAAgBE,SAAS,GAAGF,QAA7B,IACZ9kB,QAAQ,GAAG,CAAX,IAAgBglB,SAAS,GAAGhlB,QADjC;;AAEA,oBAAIilB,UAAJ,EAAgB;AACZF,yBAAO,CAACpnC,SAAR,CAAkBO,GAAlB,CAAsB,YAAtB;AACA,mBAAC,SAAD,EAAY,YAAZ,EAA0B,UAA1B,EAAsCnL,OAAtC,CAA8C,UAAUkjC,CAAV,EAAa;AACvD8O,2BAAO,CAACpnC,SAAR,CAAkB3K,MAAlB,CAAyBijC,CAAzB;AACH,mBAFD;AAGA,yBAAO,UAAP;AACH,iBAND,MAOK,IAAI4O,gBAAgB,IAAI,CAACI,UAAzB,EACD,OAAO,UAAP;;AACJ,iBAAC,YAAD,EAAe,SAAf,EAA0B,UAA1B,EAAsC,YAAtC,EAAoDlyC,OAApD,CAA4D,UAAUkjC,CAAV,EAAa;AACrE8O,yBAAO,CAACpnC,SAAR,CAAkB3K,MAAlB,CAAyBijC,CAAzB;AACH,iBAFD;;AAGA,oBAAI9D,IAAI,KAAK1mC,SAAb,EAAwB;AACpB0mC,sBAAI,CAACx0B,SAAL,CAAeO,GAAf,CAAmBsmC,SAAS,IAAIpf,IAAI,CAAC/J,aAAL,CAAmB,CAAnB,EAAsBva,OAAtB,EAAb,GACb,YADa,GAEb,UAFN;AAGA,sBAAI4jC,WAAW,GAAGF,SAAd,IAA2BQ,SAAS,KAAKN,WAA7C,EACIK,OAAO,CAACpnC,SAAR,CAAkBO,GAAlB,CAAsB,YAAtB,EADJ,KAEK,IAAIwmC,WAAW,GAAGF,SAAd,IAA2BQ,SAAS,KAAKN,WAA7C,EACDK,OAAO,CAACpnC,SAAR,CAAkBO,GAAlB,CAAsB,UAAtB;AACJ,sBAAI8mC,SAAS,IAAIF,QAAb,KACC9kB,QAAQ,KAAK,CAAb,IAAkBglB,SAAS,IAAIhlB,QADhC,KAEAqX,SAAS,CAAC2N,SAAD,EAAYN,WAAZ,EAAyBF,SAAzB,CAFb,EAGIO,OAAO,CAACpnC,SAAR,CAAkBO,GAAlB,CAAsB,SAAtB;AACP;AACJ,eA9BD;;AA+BA,mBAAK,IAAIzE,CAAC,GAAG,CAAR,EAAW67B,CAAC,GAAGxtB,KAAK,CAAC1E,QAAN,CAAe5Z,MAAnC,EAA2CiQ,CAAC,GAAG67B,CAA/C,EAAkD77B,CAAC,EAAnD,EAAuD;AACnDykB,uBAAO,CAACzkB,CAAD,EAAI67B,CAAJ,CAAP;AACH;AACJ;AACJ;;AACD,mBAASoH,QAAT,GAAoB;AAChB,gBAAItX,IAAI,CAACvW,MAAL,IAAe,CAACuW,IAAI,CAAC3Z,MAAL,UAAhB,IAAsC,CAAC2Z,IAAI,CAAC3Z,MAAL,CAAYsN,MAAvD,EACIyf,gBAAgB;AACvB;;AACD,mBAASsC,cAAT,GAA0B;AACtB1V,gBAAI,CAAC1+B,OAAL,CAAa0+B,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,KAAwBxtB,SAAxB,GACP,IAAI2J,IAAJ,CAASgwB,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoBnY,OAApB,EAAT,CADO,GAEP,IAAI1L,IAAJ,EAFN,EAEkB,IAFlB;AAGA0mC,2BAAe;AACf9B,uBAAW;AACd;;AACD,mBAASjB,IAAT,CAAcrtC,CAAd,EAAiB8kC,eAAjB,EAAkC;AAC9B,gBAAIA,eAAe,KAAK,KAAK,CAA7B,EAAgC;AAAEA,6BAAe,GAAGpL,IAAI,CAAC8f,gBAAvB;AAA0C;;AAC5E,gBAAI9f,IAAI,CAACwU,QAAL,KAAkB,IAAtB,EAA4B;AACxB,kBAAIluC,CAAJ,EAAO;AACHA,iBAAC,CAACyB,cAAF;AACAzB,iBAAC,CAACnE,MAAF,IAAYmE,CAAC,CAACnE,MAAF,CAAS08C,IAAT,EAAZ;AACH;;AACD,kBAAI7e,IAAI,CAAC2d,WAAL,KAAqBt3C,SAAzB,EAAoC;AAChC25B,oBAAI,CAAC2d,WAAL,CAAiB3D,KAAjB;AACAha,oBAAI,CAAC2d,WAAL,CAAiBl5B,KAAjB;AACH;;AACDuwB,0BAAY,CAAC,QAAD,CAAZ;AACA;AACH;;AACD,gBAAIhV,IAAI,CAAC/I,MAAL,CAAYolB,QAAZ,IAAwBrc,IAAI,CAAC3Z,MAAL,CAAYsN,MAAxC,EACI;AACJ,gBAAIosB,OAAO,GAAG/f,IAAI,CAACvW,MAAnB;AACAuW,gBAAI,CAACvW,MAAL,GAAc,IAAd;;AACA,gBAAI,CAACs2B,OAAL,EAAc;AACV/f,kBAAI,CAACkV,iBAAL,CAAuB38B,SAAvB,CAAiCO,GAAjC,CAAqC,MAArC;;AACAknB,kBAAI,CAAC/I,MAAL,CAAY1e,SAAZ,CAAsBO,GAAtB,CAA0B,QAA1B;;AACAk8B,0BAAY,CAAC,QAAD,CAAZ;AACA5B,8BAAgB,CAAChI,eAAD,CAAhB;AACH;;AACD,gBAAIpL,IAAI,CAAC3Z,MAAL,CAAYkN,UAAZ,KAA2B,IAA3B,IAAmCyM,IAAI,CAAC3Z,MAAL,CAAY4N,UAAZ,KAA2B,IAAlE,EAAwE;AACpE,kBAAI+L,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAnB,KAA8B,CAAlC,EAAqC;AACjCsxC,8BAAc;AACjB;;AACD,kBAAI1V,IAAI,CAAC3Z,MAAL,CAAYwM,UAAZ,KAA2B,KAA3B,KACCvsB,CAAC,KAAKD,SAAN,IACG,CAAC25B,IAAI,CAAC8X,aAAL,CAAmBU,QAAnB,CAA4BlyC,CAAC,CAACu8B,aAA9B,CAFL,CAAJ,EAEwD;AACpDhnB,0BAAU,CAAC,YAAY;AAAE,yBAAOmkB,IAAI,CAACiW,WAAL,CAAiBriC,MAAjB,EAAP;AAAmC,iBAAlD,EAAoD,EAApD,CAAV;AACH;AACJ;AACJ;;AACD,mBAASosC,gBAAT,CAA0Bz9C,IAA1B,EAAgC;AAC5B,mBAAO,UAAU8c,IAAV,EAAgB;AACnB,kBAAIsvB,OAAO,GAAI3O,IAAI,CAAC3Z,MAAL,CAAY,MAAM9jB,IAAN,GAAa,MAAzB,IAAmCy9B,IAAI,CAAClK,SAAL,CAAezW,IAAf,EAAqB2gB,IAAI,CAAC3Z,MAAL,CAAY4M,UAAjC,CAAlD;AACA,kBAAIgtB,cAAc,GAAGjgB,IAAI,CAAC3Z,MAAL,CAAY,OAAO9jB,IAAI,KAAK,KAAT,GAAiB,KAAjB,GAAyB,KAAhC,IAAyC,MAArD,CAArB;;AACA,kBAAIosC,OAAO,KAAKtoC,SAAhB,EAA2B;AACvB25B,oBAAI,CAACz9B,IAAI,KAAK,KAAT,GAAiB,gBAAjB,GAAoC,gBAArC,CAAJ,GACIosC,OAAO,CAACxzB,QAAR,KAAqB,CAArB,IACIwzB,OAAO,CAACvzB,UAAR,KAAuB,CAD3B,IAEIuzB,OAAO,CAAC6B,UAAR,KAAuB,CAH/B;AAIH;;AACD,kBAAIxQ,IAAI,CAAC/J,aAAT,EAAwB;AACpB+J,oBAAI,CAAC/J,aAAL,GAAqB+J,IAAI,CAAC/J,aAAL,CAAmBzoB,MAAnB,CAA0B,UAAU1J,CAAV,EAAa;AAAE,yBAAO2vC,SAAS,CAAC3vC,CAAD,CAAhB;AAAsB,iBAA/D,CAArB;AACA,oBAAI,CAACk8B,IAAI,CAAC/J,aAAL,CAAmB7xB,MAApB,IAA8B7B,IAAI,KAAK,KAA3C,EACI2wC,gBAAgB,CAACvE,OAAD,CAAhB;AACJiG,2BAAW;AACd;;AACD,kBAAI5U,IAAI,CAACqV,aAAT,EAAwB;AACpBzB,sBAAM;AACN,oBAAIjF,OAAO,KAAKtoC,SAAhB,EACI25B,IAAI,CAAC6c,kBAAL,CAAwBt6C,IAAxB,IAAgCosC,OAAO,CAAC9D,WAAR,GAAsB93B,QAAtB,EAAhC,CADJ,KAGIitB,IAAI,CAAC6c,kBAAL,CAAwB3lB,eAAxB,CAAwC30B,IAAxC;AACJy9B,oBAAI,CAAC6c,kBAAL,CAAwBR,QAAxB,GACI,CAAC,CAAC4D,cAAF,IACItR,OAAO,KAAKtoC,SADhB,IAEI45C,cAAc,CAACpV,WAAf,OAAiC8D,OAAO,CAAC9D,WAAR,EAHzC;AAIH;AACJ,aA1BD;AA2BH;;AACD,mBAASuJ,WAAT,GAAuB;AACnB,gBAAI8L,QAAQ,GAAG,CACX,MADW,EAEX,aAFW,EAGX,YAHW,EAIX,YAJW,EAKX,WALW,EAMX,YANW,EAOX,YAPW,EAQX,UARW,EASX,uBATW,EAUX,QAVW,EAWX,QAXW,EAYX,eAZW,EAaX,eAbW,CAAf;;AAeA,gBAAIC,UAAU,GAAGp/C,OAAQ,CAAC,EAAD,EAAK2xC,cAAL,EAAqB0N,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeh+C,OAAO,CAACi+C,OAAR,IAAmB,EAAlC,CAAX,CAArB,CAAzB;;AACA,gBAAIhQ,OAAO,GAAG,EAAd;AACAvQ,gBAAI,CAAC3Z,MAAL,CAAYyP,SAAZ,GAAwBqqB,UAAU,CAACrqB,SAAnC;AACAkK,gBAAI,CAAC3Z,MAAL,CAAYoN,UAAZ,GAAyB0sB,UAAU,CAAC1sB,UAApC;AACAlzB,kBAAM,CAACC,cAAP,CAAsBw/B,IAAI,CAAC3Z,MAA3B,EAAmC,QAAnC,EAA6C;AACzCsG,iBAAG,EAAE,eAAY;AAAE,uBAAOqT,IAAI,CAAC3Z,MAAL,CAAY6jB,OAAnB;AAA6B,eADP;AAEzCle,iBAAG,EAAE,aAAUmL,KAAV,EAAiB;AAClB6I,oBAAI,CAAC3Z,MAAL,CAAY6jB,OAAZ,GAAsBsW,cAAc,CAACrpB,KAAD,CAApC;AACH;AAJwC,aAA7C;AAMA52B,kBAAM,CAACC,cAAP,CAAsBw/B,IAAI,CAAC3Z,MAA3B,EAAmC,SAAnC,EAA8C;AAC1CsG,iBAAG,EAAE,eAAY;AAAE,uBAAOqT,IAAI,CAAC3Z,MAAL,CAAY4jB,QAAnB;AAA8B,eADP;AAE1Cje,iBAAG,EAAE,aAAUmL,KAAV,EAAiB;AAClB6I,oBAAI,CAAC3Z,MAAL,CAAY4jB,QAAZ,GAAuBuW,cAAc,CAACrpB,KAAD,CAArC;AACH;AAJyC,aAA9C;AAMA,gBAAIspB,QAAQ,GAAGN,UAAU,CAACpsB,IAAX,KAAoB,MAAnC;;AACA,gBAAI,CAACosB,UAAU,CAACltB,UAAZ,KAA2BktB,UAAU,CAAC5sB,UAAX,IAAyBktB,QAApD,CAAJ,EAAmE;AAC/D,kBAAIC,iBAAiB,GAAG/N,SAAS,CAACC,aAAV,CAAwB3f,UAAxB,IAAsC+B,QAAQ,CAAC/B,UAAvE;AACAsd,qBAAO,CAACtd,UAAR,GACIktB,UAAU,CAAClsB,UAAX,IAAyBwsB,QAAzB,GACM,SAASN,UAAU,CAAC3sB,aAAX,GAA2B,IAA3B,GAAkC,EAA3C,CADN,GAEMktB,iBAAiB,GAAG,MAApB,IAA8BP,UAAU,CAAC3sB,aAAX,GAA2B,IAA3B,GAAkC,EAAhE,CAHV;AAIH;;AACD,gBAAI2sB,UAAU,CAACxtB,QAAX,KACCwtB,UAAU,CAAC5sB,UAAX,IAAyBktB,QAD1B,KAEA,CAACN,UAAU,CAACztB,SAFhB,EAE2B;AACvB,kBAAIiuB,gBAAgB,GAAGhO,SAAS,CAACC,aAAV,CAAwBlgB,SAAxB,IAAqCsC,QAAQ,CAACtC,SAArE;AACA6d,qBAAO,CAAC7d,SAAR,GACIytB,UAAU,CAAClsB,UAAX,IAAyBwsB,QAAzB,GACM,SAASN,UAAU,CAAC3sB,aAAX,GAA2B,MAA3B,GAAoC,IAA7C,CADN,GAEMmtB,gBAAgB,IAAI,UAAUR,UAAU,CAAC3sB,aAAX,GAA2B,IAA3B,GAAkC,EAA5C,IAAkD,IAAtD,CAH1B;AAIH;;AACD,gBAAI,CAAC2sB,UAAU,CAACvtB,aAAhB,EAA+B;AAC3BoN,kBAAI,CAAC3Z,MAAL,CAAYuM,aAAZ,GACIoN,IAAI,CAACtsB,KAAL,CAAWs5B,SAAX,GAAuB,GAAvB,GAA6BhN,IAAI,CAAC3Z,MAAL,CAAYuM,aAD7C;AAEH;;AACDryB,kBAAM,CAACC,cAAP,CAAsBw/B,IAAI,CAAC3Z,MAA3B,EAAmC,SAAnC,EAA8C;AAC1CsG,iBAAG,EAAE,eAAY;AAAE,uBAAOqT,IAAI,CAAC3Z,MAAL,CAAYu6B,QAAnB;AAA8B,eADP;AAE1C50B,iBAAG,EAAEg0B,gBAAgB,CAAC,KAAD;AAFqB,aAA9C;AAIAz/C,kBAAM,CAACC,cAAP,CAAsBw/B,IAAI,CAAC3Z,MAA3B,EAAmC,SAAnC,EAA8C;AAC1CsG,iBAAG,EAAE,eAAY;AAAE,uBAAOqT,IAAI,CAAC3Z,MAAL,CAAYw6B,QAAnB;AAA8B,eADP;AAE1C70B,iBAAG,EAAEg0B,gBAAgB,CAAC,KAAD;AAFqB,aAA9C;;AAIA,gBAAIc,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAUv+C,IAAV,EAAgB;AAAE,qBAAO,UAAUyQ,GAAV,EAAe;AAC3DgtB,oBAAI,CAAC3Z,MAAL,CAAY9jB,IAAI,KAAK,KAAT,GAAiB,UAAjB,GAA8B,UAA1C,IAAwDy9B,IAAI,CAAClK,SAAL,CAAe9iB,GAAf,EAAoB,OAApB,CAAxD;AACH,eAFwC;AAErC,aAFJ;;AAGAzS,kBAAM,CAACC,cAAP,CAAsBw/B,IAAI,CAAC3Z,MAA3B,EAAmC,SAAnC,EAA8C;AAC1CsG,iBAAG,EAAE,eAAY;AAAE,uBAAOqT,IAAI,CAAC3Z,MAAL,CAAY06B,QAAnB;AAA8B,eADP;AAE1C/0B,iBAAG,EAAE80B,gBAAgB,CAAC,KAAD;AAFqB,aAA9C;AAIAvgD,kBAAM,CAACC,cAAP,CAAsBw/B,IAAI,CAAC3Z,MAA3B,EAAmC,SAAnC,EAA8C;AAC1CsG,iBAAG,EAAE,eAAY;AAAE,uBAAOqT,IAAI,CAAC3Z,MAAL,CAAY26B,QAAnB;AAA8B,eADP;AAE1Ch1B,iBAAG,EAAE80B,gBAAgB,CAAC,KAAD;AAFqB,aAA9C;;AAIA,gBAAIX,UAAU,CAACpsB,IAAX,KAAoB,MAAxB,EAAgC;AAC5BiM,kBAAI,CAAC3Z,MAAL,CAAY4N,UAAZ,GAAyB,IAAzB;AACA+L,kBAAI,CAAC3Z,MAAL,CAAYkN,UAAZ,GAAyB,IAAzB;AACH;;AACDhzB,kBAAM,CAACkL,MAAP,CAAcu0B,IAAI,CAAC3Z,MAAnB,EAA2BkqB,OAA3B,EAAoC4P,UAApC;;AACA,iBAAK,IAAI9rC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6rC,QAAQ,CAAC97C,MAA7B,EAAqCiQ,CAAC,EAAtC;AACI2rB,kBAAI,CAAC3Z,MAAL,CAAY65B,QAAQ,CAAC7rC,CAAD,CAApB,IACI2rB,IAAI,CAAC3Z,MAAL,CAAY65B,QAAQ,CAAC7rC,CAAD,CAApB,MAA6B,IAA7B,IACI2rB,IAAI,CAAC3Z,MAAL,CAAY65B,QAAQ,CAAC7rC,CAAD,CAApB,MAA6B,MAFrC;AADJ;;AAIA21B,iBAAK,CAACx8B,MAAN,CAAa,UAAUyzC,IAAV,EAAgB;AAAE,qBAAOjhB,IAAI,CAAC3Z,MAAL,CAAY46B,IAAZ,MAAsB56C,SAA7B;AAAyC,aAAxE,EAA0EsH,OAA1E,CAAkF,UAAUszC,IAAV,EAAgB;AAC9FjhB,kBAAI,CAAC3Z,MAAL,CAAY46B,IAAZ,IAAoBpU,QAAQ,CAAC7M,IAAI,CAAC3Z,MAAL,CAAY46B,IAAZ,KAAqB,EAAtB,CAAR,CAAkChtC,GAAlC,CAAsCghC,cAAtC,CAApB;AACH,aAFD;AAGAjV,gBAAI,CAACwU,QAAL,GACI,CAACxU,IAAI,CAAC3Z,MAAL,CAAYgN,aAAb,IACI,CAAC2M,IAAI,CAAC3Z,MAAL,CAAYsN,MADjB,IAEIqM,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,QAFzB,IAGI,CAACiM,IAAI,CAAC3Z,MAAL,CAAY+M,OAAZ,CAAoBhvB,MAHzB,IAII,CAAC47B,IAAI,CAAC3Z,MAAL,CAAYiN,MAAZ,CAAmBlvB,MAJxB,IAKI,CAAC47B,IAAI,CAAC3Z,MAAL,CAAYiO,WALjB,IAMI,iEAAiE4a,IAAjE,CAAsE9E,SAAS,CAACC,SAAhF,CAPR;;AAQA,iBAAK,IAAIh2B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2rB,IAAI,CAAC3Z,MAAL,CAAYmO,OAAZ,CAAoBpwB,MAAxC,EAAgDiQ,CAAC,EAAjD,EAAqD;AACjD,kBAAI6sC,UAAU,GAAGlhB,IAAI,CAAC3Z,MAAL,CAAYmO,OAAZ,CAAoBngB,CAApB,EAAuB2rB,IAAvB,KAAgC,EAAjD;;AACA,mBAAK,IAAIrvB,GAAT,IAAgBuwC,UAAhB,EAA4B;AACxB,oBAAIlX,KAAK,CAACn8B,OAAN,CAAc8C,GAAd,IAAqB,CAAC,CAA1B,EAA6B;AACzBqvB,sBAAI,CAAC3Z,MAAL,CAAY1V,GAAZ,IAAmBk8B,QAAQ,CAACqU,UAAU,CAACvwC,GAAD,CAAX,CAAR,CACdsD,GADc,CACVghC,cADU,EAEdjgC,MAFc,CAEPgrB,IAAI,CAAC3Z,MAAL,CAAY1V,GAAZ,CAFO,CAAnB;AAGH,iBAJD,MAKK,IAAI,OAAOwvC,UAAU,CAACxvC,GAAD,CAAjB,KAA2B,WAA/B,EACDqvB,IAAI,CAAC3Z,MAAL,CAAY1V,GAAZ,IAAmBuwC,UAAU,CAACvwC,GAAD,CAA7B;AACP;AACJ;;AACDqkC,wBAAY,CAAC,eAAD,CAAZ;AACH;;AACD,mBAASX,WAAT,GAAuB;AACnB,gBAAI,OAAOrU,IAAI,CAAC3Z,MAAL,CAAYnD,MAAnB,KAA8B,QAA9B,IACA,OAAOyvB,SAAS,CAACwO,KAAV,CAAgBnhB,IAAI,CAAC3Z,MAAL,CAAYnD,MAA5B,CAAP,KAA+C,WADnD,EAEI8c,IAAI,CAAC3Z,MAAL,CAAYokB,YAAZ,CAAyB,IAAIh2B,KAAJ,CAAU,+BAA+BurB,IAAI,CAAC3Z,MAAL,CAAYnD,MAArD,CAAzB;AACJ8c,gBAAI,CAAC5I,IAAL,GAAYr2B,OAAQ,CAAC,EAAD,EAAK4xC,SAAS,CAACwO,KAAV,CAAgB,SAAhB,CAAL,EAAkC,OAAOnhB,IAAI,CAAC3Z,MAAL,CAAYnD,MAAnB,KAA8B,QAA9B,GAChD8c,IAAI,CAAC3Z,MAAL,CAAYnD,MADoC,GAEhD8c,IAAI,CAAC3Z,MAAL,CAAYnD,MAAZ,KAAuB,SAAvB,GACIyvB,SAAS,CAACwO,KAAV,CAAgBnhB,IAAI,CAAC3Z,MAAL,CAAYnD,MAA5B,CADJ,GAEI7c,SAJU,CAApB;AAKAiqC,sBAAU,CAACtB,CAAX,GAAe,MAAMhP,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAe,CAAf,CAAN,GAA0B,GAA1B,GAAgCjM,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAe,CAAf,CAAhC,GAAoD,GAApD,GAA0DjM,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAe,CAAf,EAAkBkT,WAAlB,EAA1D,GAA4F,GAA5F,GAAkGnf,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAe,CAAf,EAAkBkT,WAAlB,EAAlG,GAAoI,GAAnJ;;AACA,gBAAIgB,UAAU,GAAGp/C,OAAQ,CAAC,EAAD,EAAK2xC,cAAL,EAAqB0N,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeh+C,OAAO,CAACi+C,OAAR,IAAmB,EAAlC,CAAX,CAArB,CAAzB;;AACA,gBAAIJ,UAAU,CAACxpB,SAAX,KAAyBtwB,SAAzB,IACAssC,SAAS,CAACC,aAAV,CAAwBjc,SAAxB,KAAsCtwB,SAD1C,EACqD;AACjD25B,kBAAI,CAAC3Z,MAAL,CAAYsQ,SAAZ,GAAwBqJ,IAAI,CAAC5I,IAAL,CAAUT,SAAlC;AACH;;AACDqJ,gBAAI,CAACvM,UAAL,GAAkBid,mBAAmB,CAAC1Q,IAAD,CAArC;AACAA,gBAAI,CAAClK,SAAL,GAAiBgb,gBAAgB,CAAC;AAAEzqB,oBAAM,EAAE2Z,IAAI,CAAC3Z,MAAf;AAAuB+Q,kBAAI,EAAE4I,IAAI,CAAC5I;AAAlC,aAAD,CAAjC;AACH;;AACD,mBAASgc,gBAAT,CAA0BgO,qBAA1B,EAAiD;AAC7C,gBAAIphB,IAAI,CAACkV,iBAAL,KAA2B7uC,SAA/B,EACI;AACJ2uC,wBAAY,CAAC,uBAAD,CAAZ;AACA,gBAAI5J,eAAe,GAAGgW,qBAAqB,IAAIphB,IAAI,CAAC8f,gBAApD;AACA,gBAAIuB,cAAc,GAAG/8C,KAAK,CAACwO,SAAN,CAAgB+B,MAAhB,CAAuB5B,IAAvB,CAA4B+sB,IAAI,CAACkV,iBAAL,CAAuBl3B,QAAnD,EAA8D,UAAUsjC,GAAV,EAAeC,KAAf,EAAsB;AAAE,qBAAOD,GAAG,GAAGC,KAAK,CAAC/qC,YAAnB;AAAkC,aAAxH,EAA2H,CAA3H,CAArB;AAAA,gBAAoJgrC,aAAa,GAAGxhB,IAAI,CAACkV,iBAAL,CAAuBz+B,WAA3L;AAAA,gBAAwMgrC,SAAS,GAAGzhB,IAAI,CAAC3Z,MAAL,CAAYrZ,QAAZ,CAAqBgK,KAArB,CAA2B,GAA3B,CAApN;AAAA,gBAAqP0qC,iBAAiB,GAAGD,SAAS,CAAC,CAAD,CAAlR;AAAA,gBAAuRE,mBAAmB,GAAGF,SAAS,CAACr9C,MAAV,GAAmB,CAAnB,GAAuBq9C,SAAS,CAAC,CAAD,CAAhC,GAAsC,IAAnV;AAAA,gBAAyVG,WAAW,GAAGxW,eAAe,CAAChlC,qBAAhB,EAAvW;AAAA,gBAAgZy7C,kBAAkB,GAAG3/C,MAAM,CAAC0D,WAAP,GAAqBg8C,WAAW,CAACj8C,MAAtc;AAAA,gBAA8cm8C,SAAS,GAAGJ,iBAAiB,KAAK,OAAtB,IACrdA,iBAAiB,KAAK,OAAtB,IACGG,kBAAkB,GAAGR,cADxB,IAEGO,WAAW,CAACt8C,GAAZ,GAAkB+7C,cAH1B;AAIA,gBAAI/7C,GAAG,GAAGpD,MAAM,CAAC0O,WAAP,GACNgxC,WAAW,CAACt8C,GADN,IAEL,CAACw8C,SAAD,GAAa1W,eAAe,CAAC50B,YAAhB,GAA+B,CAA5C,GAAgD,CAAC6qC,cAAD,GAAkB,CAF7D,CAAV;AAGAvU,uBAAW,CAAC9M,IAAI,CAACkV,iBAAN,EAAyB,UAAzB,EAAqC,CAAC4M,SAAtC,CAAX;AACAhV,uBAAW,CAAC9M,IAAI,CAACkV,iBAAN,EAAyB,aAAzB,EAAwC4M,SAAxC,CAAX;AACA,gBAAI9hB,IAAI,CAAC3Z,MAAL,CAAYsN,MAAhB,EACI;AACJ,gBAAInuB,IAAI,GAAGtD,MAAM,CAAC2O,WAAP,GACP+wC,WAAW,CAACp8C,IADL,IAENm8C,mBAAmB,IAAI,IAAvB,IAA+BA,mBAAmB,KAAK,QAAvD,GACK,CAACH,aAAa,GAAGI,WAAW,CAAC/7C,KAA7B,IAAsC,CAD3C,GAEK,CAJC,CAAX;AAKA,gBAAIJ,KAAK,GAAGvD,MAAM,CAACiB,QAAP,CAAgBG,IAAhB,CAAqBmT,WAArB,IAAoCvU,MAAM,CAAC2O,WAAP,GAAqB+wC,WAAW,CAACn8C,KAArE,CAAZ;AACA,gBAAIs8C,SAAS,GAAGv8C,IAAI,GAAGg8C,aAAP,GAAuBt/C,MAAM,CAACiB,QAAP,CAAgBG,IAAhB,CAAqBmT,WAA5D;AACA,gBAAIurC,UAAU,GAAGv8C,KAAK,GAAG+7C,aAAR,GAAwBt/C,MAAM,CAACiB,QAAP,CAAgBG,IAAhB,CAAqBmT,WAA9D;AACAq2B,uBAAW,CAAC9M,IAAI,CAACkV,iBAAN,EAAyB,WAAzB,EAAsC6M,SAAtC,CAAX;AACA,gBAAI/hB,IAAI,CAAC3Z,MAAL,UAAJ,EACI;AACJ2Z,gBAAI,CAACkV,iBAAL,CAAuBroC,KAAvB,CAA6BvH,GAA7B,GAAmCA,GAAG,GAAG,IAAzC;;AACA,gBAAI,CAACy8C,SAAL,EAAgB;AACZ/hB,kBAAI,CAACkV,iBAAL,CAAuBroC,KAAvB,CAA6BrH,IAA7B,GAAoCA,IAAI,GAAG,IAA3C;AACAw6B,kBAAI,CAACkV,iBAAL,CAAuBroC,KAAvB,CAA6BpH,KAA7B,GAAqC,MAArC;AACH,aAHD,MAIK,IAAI,CAACu8C,UAAL,EAAiB;AAClBhiB,kBAAI,CAACkV,iBAAL,CAAuBroC,KAAvB,CAA6BrH,IAA7B,GAAoC,MAApC;AACAw6B,kBAAI,CAACkV,iBAAL,CAAuBroC,KAAvB,CAA6BpH,KAA7B,GAAqCA,KAAK,GAAG,IAA7C;AACH,aAHI,MAIA;AACD,kBAAIrC,GAAG,GAAGD,QAAQ,CAAC8+C,WAAT,CAAqB,CAArB,CAAV,CADC,CAED;;AACA,kBAAI7+C,GAAG,KAAKiD,SAAZ,EACI;AACJ,kBAAI67C,SAAS,GAAGhgD,MAAM,CAACiB,QAAP,CAAgBG,IAAhB,CAAqBmT,WAArC;AACA,kBAAI0rC,UAAU,GAAG92C,IAAI,CAACuP,GAAL,CAAS,CAAT,EAAYsnC,SAAS,GAAG,CAAZ,GAAgBV,aAAa,GAAG,CAA5C,CAAjB;AACA,kBAAIY,YAAY,GAAG,uCAAnB;AACA,kBAAIC,WAAW,GAAG,sCAAlB;AACA,kBAAIC,WAAW,GAAGl/C,GAAG,CAACm/C,QAAJ,CAAan+C,MAA/B;AACA,kBAAIo+C,WAAW,GAAG,WAAWZ,WAAW,CAACp8C,IAAvB,GAA8B,iBAAhD;AACAsnC,yBAAW,CAAC9M,IAAI,CAACkV,iBAAN,EAAyB,WAAzB,EAAsC,KAAtC,CAAX;AACApI,yBAAW,CAAC9M,IAAI,CAACkV,iBAAN,EAAyB,YAAzB,EAAuC,IAAvC,CAAX;AACA9xC,iBAAG,CAACq/C,UAAJ,CAAeL,YAAY,GAAG,GAAf,GAAqBC,WAArB,GAAmCG,WAAlD,EAA+DF,WAA/D;AACAtiB,kBAAI,CAACkV,iBAAL,CAAuBroC,KAAvB,CAA6BrH,IAA7B,GAAoC28C,UAAU,GAAG,IAAjD;AACAniB,kBAAI,CAACkV,iBAAL,CAAuBroC,KAAvB,CAA6BpH,KAA7B,GAAqC,MAArC;AACH;AACJ;;AACD,mBAASmuC,MAAT,GAAkB;AACd,gBAAI5T,IAAI,CAAC3Z,MAAL,CAAY4N,UAAZ,IAA0B+L,IAAI,CAACwU,QAAnC,EACI;AACJsI,wCAA4B;AAC5B5D,qBAAS;AACZ;;AACD,mBAAS6F,aAAT,GAAyB;AACrB/e,gBAAI,CAAC/I,MAAL,CAAY+iB,KAAZ;;AACA,gBAAI93C,MAAM,CAACkoC,SAAP,CAAiBC,SAAjB,CAA2Bx8B,OAA3B,CAAmC,MAAnC,MAA+C,CAAC,CAAhD,IACAu8B,SAAS,CAACsY,gBAAV,KAA+Br8C,SADnC,EAC8C;AAC1C;AACAwV,wBAAU,CAACmkB,IAAI,CAACuT,KAAN,EAAa,CAAb,CAAV;AACH,aAJD,MAKK;AACDvT,kBAAI,CAACuT,KAAL;AACH;AACJ;;AACD,mBAASsE,UAAT,CAAoBvxC,CAApB,EAAuB;AACnBA,aAAC,CAACyB,cAAF;AACAzB,aAAC,CAAC+D,eAAF;;AACA,gBAAIs4C,YAAY,GAAG,SAAfA,YAAe,CAAUvjC,GAAV,EAAe;AAC9B,qBAAOA,GAAG,CAAC7G,SAAJ,IACH6G,GAAG,CAAC7G,SAAJ,CAAcigC,QAAd,CAAuB,eAAvB,CADG,IAEH,CAACp5B,GAAG,CAAC7G,SAAJ,CAAcigC,QAAd,CAAuB,oBAAvB,CAFE,IAGH,CAACp5B,GAAG,CAAC7G,SAAJ,CAAcigC,QAAd,CAAuB,YAAvB,CAHL;AAIH,aALD;;AAMA,gBAAI1gB,CAAC,GAAGyV,UAAU,CAACjnC,CAAC,CAACnE,MAAH,EAAWwgD,YAAX,CAAlB;AACA,gBAAI7qB,CAAC,KAAKzxB,SAAV,EACI;AACJ,gBAAIlE,MAAM,GAAG21B,CAAb;AACA,gBAAI8qB,YAAY,GAAI5iB,IAAI,CAAC2U,qBAAL,GAA6B,IAAI3kC,IAAJ,CAAS7N,MAAM,CAACwsC,OAAP,CAAejzB,OAAf,EAAT,CAAjD;AACA,gBAAImnC,iBAAiB,GAAG,CAACD,YAAY,CAACpoC,QAAb,KAA0BwlB,IAAI,CAACiU,YAA/B,IACrB2O,YAAY,CAACpoC,QAAb,KACIwlB,IAAI,CAACiU,YAAL,GAAoBjU,IAAI,CAAC3Z,MAAL,CAAYqO,UAAhC,GAA6C,CAF7B,KAGpBsL,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,OAHzB;AAIAiM,gBAAI,CAAC2Z,gBAAL,GAAwBx3C,MAAxB;AACA,gBAAI69B,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,QAAzB,EACIiM,IAAI,CAAC/J,aAAL,GAAqB,CAAC2sB,YAAD,CAArB,CADJ,KAEK,IAAI5iB,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,UAAzB,EAAqC;AACtC,kBAAI+uB,aAAa,GAAGpJ,cAAc,CAACkJ,YAAD,CAAlC;AACA,kBAAIE,aAAJ,EACI9iB,IAAI,CAAC/J,aAAL,CAAmBzgB,MAAnB,CAA0B3Q,QAAQ,CAACi+C,aAAD,CAAlC,EAAmD,CAAnD,EADJ,KAGI9iB,IAAI,CAAC/J,aAAL,CAAmB9gB,IAAnB,CAAwBytC,YAAxB;AACP,aANI,MAOA,IAAI5iB,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,OAAzB,EAAkC;AACnC,kBAAIiM,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAnB,KAA8B,CAAlC,EAAqC;AACjC47B,oBAAI,CAACvQ,KAAL,CAAW,KAAX,EAAkB,KAAlB;AACH;;AACDuQ,kBAAI,CAAC2U,qBAAL,GAA6BiO,YAA7B;AACA5iB,kBAAI,CAAC/J,aAAL,CAAmB9gB,IAAnB,CAAwBytC,YAAxB,EALmC,CAMnC;;AACA,kBAAI5Q,YAAY,CAAC4Q,YAAD,EAAe5iB,IAAI,CAAC/J,aAAL,CAAmB,CAAnB,CAAf,EAAsC,IAAtC,CAAZ,KAA4D,CAAhE,EACI+J,IAAI,CAAC/J,aAAL,CAAmBgF,IAAnB,CAAwB,UAAU8nB,CAAV,EAAaC,CAAb,EAAgB;AAAE,uBAAOD,CAAC,CAACrnC,OAAF,KAAcsnC,CAAC,CAACtnC,OAAF,EAArB;AAAmC,eAA7E;AACP;AACDm6B,8BAAkB;;AAClB,gBAAIgN,iBAAJ,EAAuB;AACnB,kBAAItE,SAAS,GAAGve,IAAI,CAACkU,WAAL,KAAqB0O,YAAY,CAAC/X,WAAb,EAArC;AACA7K,kBAAI,CAACkU,WAAL,GAAmB0O,YAAY,CAAC/X,WAAb,EAAnB;AACA7K,kBAAI,CAACiU,YAAL,GAAoB2O,YAAY,CAACpoC,QAAb,EAApB;;AACA,kBAAI+jC,SAAJ,EAAe;AACXvJ,4BAAY,CAAC,cAAD,CAAZ;AACAsD,gCAAgB;AACnB;;AACDtD,0BAAY,CAAC,eAAD,CAAZ;AACH;;AACD8H,wCAA4B;AAC5B5D,qBAAS;AACTtE,uBAAW;AACX,gBAAI5U,IAAI,CAAC3Z,MAAL,CAAYkN,UAAhB,EACI1X,UAAU,CAAC,YAAY;AAAE,qBAAQmkB,IAAI,CAAC8U,aAAL,GAAqB,IAA7B;AAAqC,aAApD,EAAsD,EAAtD,CAAV,CArDe,CAsDnB;;AACA,gBAAI,CAAC+N,iBAAD,IACA7iB,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,OADrB,IAEAiM,IAAI,CAAC3Z,MAAL,CAAYqO,UAAZ,KAA2B,CAF/B,EAGIolB,cAAc,CAAC33C,MAAD,CAAd,CAHJ,KAIK,IAAI69B,IAAI,CAAC2Z,gBAAL,KAA0BtzC,SAA1B,IACL25B,IAAI,CAACiW,WAAL,KAAqB5vC,SADpB,EAC+B;AAChC25B,kBAAI,CAAC2Z,gBAAL,IAAyB3Z,IAAI,CAAC2Z,gBAAL,CAAsBK,KAAtB,EAAzB;AACH;AACD,gBAAIha,IAAI,CAACiW,WAAL,KAAqB5vC,SAAzB,EACI25B,IAAI,CAACiW,WAAL,KAAqB5vC,SAArB,IAAkC25B,IAAI,CAACiW,WAAL,CAAiB+D,KAAjB,EAAlC;;AACJ,gBAAIha,IAAI,CAAC3Z,MAAL,CAAYikB,aAAhB,EAA+B;AAC3B,kBAAI2Y,MAAM,GAAGjjB,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,QAArB,IAAiC,CAACiM,IAAI,CAAC3Z,MAAL,CAAYkN,UAA3D;AACA,kBAAI2vB,KAAK,GAAGljB,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,OAArB,IACRiM,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAnB,KAA8B,CADtB,IAER,CAAC47B,IAAI,CAAC3Z,MAAL,CAAYkN,UAFjB;;AAGA,kBAAI0vB,MAAM,IAAIC,KAAd,EAAqB;AACjBnE,6BAAa;AAChB;AACJ;;AACD5H,yBAAa;AAChB;;AACD,cAAIgM,SAAS,GAAG;AACZjgC,kBAAM,EAAE,CAACmxB,WAAD,EAAcgJ,cAAd,CADI;AAEZ3oB,sBAAU,EAAE,CAAC4nB,WAAD,EAAczH,gBAAd,EAAgCoE,aAAhC,CAFA;AAGZplB,mBAAO,EAAE,CAAC6f,UAAD,CAHG;AAIZ9f,mBAAO,EAAE,CAAC8f,UAAD;AAJG,WAAhB;;AAMA,mBAAS1nB,GAAT,CAAao3B,MAAb,EAAqB1iD,KAArB,EAA4B;AACxB,gBAAI0iD,MAAM,KAAK,IAAX,IAAmB,OAAOA,MAAP,KAAkB,QAAzC,EAAmD;AAC/C7iD,oBAAM,CAACkL,MAAP,CAAcu0B,IAAI,CAAC3Z,MAAnB,EAA2B+8B,MAA3B;;AACA,mBAAK,IAAIzyC,GAAT,IAAgByyC,MAAhB,EAAwB;AACpB,oBAAID,SAAS,CAACxyC,GAAD,CAAT,KAAmBtK,SAAvB,EACI88C,SAAS,CAACxyC,GAAD,CAAT,CAAehD,OAAf,CAAuB,UAAUlL,CAAV,EAAa;AAAE,yBAAOA,CAAC,EAAR;AAAa,iBAAnD;AACP;AACJ,aAND,MAOK;AACDu9B,kBAAI,CAAC3Z,MAAL,CAAY+8B,MAAZ,IAAsB1iD,KAAtB;AACA,kBAAIyiD,SAAS,CAACC,MAAD,CAAT,KAAsB/8C,SAA1B,EACI88C,SAAS,CAACC,MAAD,CAAT,CAAkBz1C,OAAlB,CAA0B,UAAUlL,CAAV,EAAa;AAAE,uBAAOA,CAAC,EAAR;AAAa,eAAtD,EADJ,KAEK,IAAIunC,KAAK,CAACn8B,OAAN,CAAcu1C,MAAd,IAAwB,CAAC,CAA7B,EACDpjB,IAAI,CAAC3Z,MAAL,CAAY+8B,MAAZ,IAAsBvW,QAAQ,CAACnsC,KAAD,CAA9B;AACP;;AACDs/B,gBAAI,CAAC4T,MAAL;AACAgB,uBAAW,CAAC,KAAD,CAAX;AACH;;AACD,mBAASyO,eAAT,CAAyBC,SAAzB,EAAoCngC,MAApC,EAA4C;AACxC,gBAAIgU,KAAK,GAAG,EAAZ;AACA,gBAAImsB,SAAS,YAAYh/C,KAAzB,EACI6yB,KAAK,GAAGmsB,SAAS,CAACrvC,GAAV,CAAc,UAAUnQ,CAAV,EAAa;AAAE,qBAAOk8B,IAAI,CAAClK,SAAL,CAAehyB,CAAf,EAAkBqf,MAAlB,CAAP;AAAmC,aAAhE,CAAR,CADJ,KAEK,IAAImgC,SAAS,YAAYtzC,IAArB,IAA6B,OAAOszC,SAAP,KAAqB,QAAtD,EACDnsB,KAAK,GAAG,CAAC6I,IAAI,CAAClK,SAAL,CAAewtB,SAAf,EAA0BngC,MAA1B,CAAD,CAAR,CADC,KAEA,IAAI,OAAOmgC,SAAP,KAAqB,QAAzB,EAAmC;AACpC,sBAAQtjB,IAAI,CAAC3Z,MAAL,CAAY0N,IAApB;AACI,qBAAK,QAAL;AACA,qBAAK,MAAL;AACIoD,uBAAK,GAAG,CAAC6I,IAAI,CAAClK,SAAL,CAAewtB,SAAf,EAA0BngC,MAA1B,CAAD,CAAR;AACA;;AACJ,qBAAK,UAAL;AACIgU,uBAAK,GAAGmsB,SAAS,CACZtsC,KADG,CACGgpB,IAAI,CAAC3Z,MAAL,CAAYkkB,WADf,EAEHt2B,GAFG,CAEC,UAAUoL,IAAV,EAAgB;AAAE,2BAAO2gB,IAAI,CAAClK,SAAL,CAAezW,IAAf,EAAqB8D,MAArB,CAAP;AAAsC,mBAFzD,CAAR;AAGA;;AACJ,qBAAK,OAAL;AACIgU,uBAAK,GAAGmsB,SAAS,CACZtsC,KADG,CACGgpB,IAAI,CAAC5I,IAAL,CAAUC,cADb,EAEHpjB,GAFG,CAEC,UAAUoL,IAAV,EAAgB;AAAE,2BAAO2gB,IAAI,CAAClK,SAAL,CAAezW,IAAf,EAAqB8D,MAArB,CAAP;AAAsC,mBAFzD,CAAR;AAGA;;AACJ;AACI;AAhBR;AAkBH,aAnBI,MAqBD6c,IAAI,CAAC3Z,MAAL,CAAYokB,YAAZ,CAAyB,IAAIh2B,KAAJ,CAAU,4BAA4B2rC,IAAI,CAACE,SAAL,CAAegD,SAAf,CAAtC,CAAzB;AACJtjB,gBAAI,CAAC/J,aAAL,GAAqBkB,KAAK,CAAC3pB,MAAN,CAAa,UAAU1J,CAAV,EAAa;AAAE,qBAAOA,CAAC,YAAYkM,IAAb,IAAqByjC,SAAS,CAAC3vC,CAAD,EAAI,KAAJ,CAArC;AAAkD,aAA9E,CAArB;AACA,gBAAIk8B,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,OAAzB,EACIiM,IAAI,CAAC/J,aAAL,CAAmBgF,IAAnB,CAAwB,UAAU8nB,CAAV,EAAaC,CAAb,EAAgB;AAAE,qBAAOD,CAAC,CAACrnC,OAAF,KAAcsnC,CAAC,CAACtnC,OAAF,EAArB;AAAmC,aAA7E;AACP;;AACD,mBAASpa,OAAT,CAAiB+d,IAAjB,EAAuB83B,aAAvB,EAAsCh0B,MAAtC,EAA8C;AAC1C,gBAAIg0B,aAAa,KAAK,KAAK,CAA3B,EAA8B;AAAEA,2BAAa,GAAG,KAAhB;AAAwB;;AACxD,gBAAIh0B,MAAM,KAAK,KAAK,CAApB,EAAuB;AAAEA,oBAAM,GAAG6c,IAAI,CAAC3Z,MAAL,CAAY4M,UAArB;AAAkC;;AAC3D,gBAAK5T,IAAI,KAAK,CAAT,IAAc,CAACA,IAAhB,IAA0BA,IAAI,YAAY/a,KAAhB,IAAyB+a,IAAI,CAACjb,MAAL,KAAgB,CAAvE,EACI,OAAO47B,IAAI,CAACvQ,KAAL,CAAW0nB,aAAX,CAAP;AACJkM,2BAAe,CAAChkC,IAAD,EAAO8D,MAAP,CAAf;AACA6c,gBAAI,CAAC8U,aAAL,GAAqB9U,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAnB,GAA4B,CAAjD;AACA47B,gBAAI,CAAC2U,qBAAL,GACI3U,IAAI,CAAC/J,aAAL,CAAmB+J,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAnB,GAA4B,CAA/C,CADJ;AAEA47B,gBAAI,CAAC4T,MAAL;AACAF,sBAAU;AACVR,4BAAgB;;AAChB,gBAAIlT,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAnB,KAA8B,CAAlC,EAAqC;AACjC47B,kBAAI,CAACvQ,KAAL,CAAW,KAAX;AACH;;AACDmlB,uBAAW,CAACuC,aAAD,CAAX;AACA,gBAAIA,aAAJ,EACInC,YAAY,CAAC,UAAD,CAAZ;AACP;;AACD,mBAASwL,cAAT,CAAwBhsC,GAAxB,EAA6B;AACzB,mBAAOA,GAAG,CACLT,KADE,GAEFE,GAFE,CAEE,UAAUsvC,IAAV,EAAgB;AACrB,kBAAI,OAAOA,IAAP,KAAgB,QAAhB,IACA,OAAOA,IAAP,KAAgB,QADhB,IAEAA,IAAI,YAAYvzC,IAFpB,EAE0B;AACtB,uBAAOgwB,IAAI,CAAClK,SAAL,CAAeytB,IAAf,EAAqBl9C,SAArB,EAAgC,IAAhC,CAAP;AACH,eAJD,MAKK,IAAIk9C,IAAI,IACT,OAAOA,IAAP,KAAgB,QADX,IAELA,IAAI,CAACzxB,IAFA,IAGLyxB,IAAI,CAACxsB,EAHJ,EAID,OAAO;AACHjF,oBAAI,EAAEkO,IAAI,CAAClK,SAAL,CAAeytB,IAAI,CAACzxB,IAApB,EAA0BzrB,SAA1B,CADH;AAEH0wB,kBAAE,EAAEiJ,IAAI,CAAClK,SAAL,CAAeytB,IAAI,CAACxsB,EAApB,EAAwB1wB,SAAxB;AAFD,eAAP;;AAIJ,qBAAOk9C,IAAP;AACH,aAjBM,EAkBF/1C,MAlBE,CAkBK,UAAU/K,CAAV,EAAa;AAAE,qBAAOA,CAAP;AAAW,aAlB/B,CAAP,CADyB,CAmBgB;AAC5C;;AACD,mBAAS8xC,UAAT,GAAsB;AAClBvU,gBAAI,CAAC/J,aAAL,GAAqB,EAArB;AACA+J,gBAAI,CAAC/vB,GAAL,GAAW+vB,IAAI,CAAClK,SAAL,CAAekK,IAAI,CAAC3Z,MAAL,CAAYpW,GAA3B,KAAmC,IAAID,IAAJ,EAA9C,CAFkB,CAGlB;;AACA,gBAAIwzC,aAAa,GAAGxjB,IAAI,CAAC3Z,MAAL,CAAYuP,WAAZ,KACf,CAACoK,IAAI,CAACtsB,KAAL,CAAW+vC,QAAX,KAAwB,OAAxB,IACEzjB,IAAI,CAACtsB,KAAL,CAAW+vC,QAAX,KAAwB,UAD3B,KAEGzjB,IAAI,CAACtsB,KAAL,CAAWgwC,WAFd,IAGG1jB,IAAI,CAACtsB,KAAL,CAAWhT,KAAX,KAAqBs/B,IAAI,CAACtsB,KAAL,CAAWgwC,WAHnC,GAIK,IAJL,GAKK1jB,IAAI,CAACtsB,KAAL,CAAWhT,KAND,CAApB;AAOA,gBAAI8iD,aAAJ,EACIH,eAAe,CAACG,aAAD,EAAgBxjB,IAAI,CAAC3Z,MAAL,CAAY4M,UAA5B,CAAf;AACJ+M,gBAAI,CAAC4d,YAAL,GACI5d,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAnB,GAA4B,CAA5B,GACM47B,IAAI,CAAC/J,aAAL,CAAmB,CAAnB,CADN,GAEM+J,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,IACEmM,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoBnY,OAApB,KAAgCskB,IAAI,CAAC/vB,GAAL,CAASyL,OAAT,EADlC,GAEIskB,IAAI,CAAC3Z,MAAL,CAAYwN,OAFhB,GAGImM,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,IACEoM,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoBlY,OAApB,KAAgCskB,IAAI,CAAC/vB,GAAL,CAASyL,OAAT,EADlC,GAEIskB,IAAI,CAAC3Z,MAAL,CAAYuN,OAFhB,GAGIoM,IAAI,CAAC/vB,GATvB;AAUA+vB,gBAAI,CAACkU,WAAL,GAAmBlU,IAAI,CAAC4d,YAAL,CAAkB/S,WAAlB,EAAnB;AACA7K,gBAAI,CAACiU,YAAL,GAAoBjU,IAAI,CAAC4d,YAAL,CAAkBpjC,QAAlB,EAApB;AACA,gBAAIwlB,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAnB,GAA4B,CAAhC,EACI47B,IAAI,CAAC2U,qBAAL,GAA6B3U,IAAI,CAAC/J,aAAL,CAAmB,CAAnB,CAA7B;AACJ,gBAAI+J,IAAI,CAAC3Z,MAAL,CAAYgwB,OAAZ,KAAwBhwC,SAA5B,EACI25B,IAAI,CAAC3Z,MAAL,CAAYgwB,OAAZ,GAAsBrW,IAAI,CAAClK,SAAL,CAAekK,IAAI,CAAC3Z,MAAL,CAAYgwB,OAA3B,EAAoC,KAApC,CAAtB;AACJ,gBAAIrW,IAAI,CAAC3Z,MAAL,CAAYmwB,OAAZ,KAAwBnwC,SAA5B,EACI25B,IAAI,CAAC3Z,MAAL,CAAYmwB,OAAZ,GAAsBxW,IAAI,CAAClK,SAAL,CAAekK,IAAI,CAAC3Z,MAAL,CAAYmwB,OAA3B,EAAoC,KAApC,CAAtB;AACJxW,gBAAI,CAACsW,cAAL,GACI,CAAC,CAACtW,IAAI,CAAC3Z,MAAL,CAAYwN,OAAd,KACKmM,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoB1Y,QAApB,KAAiC,CAAjC,IACG6kB,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoBzY,UAApB,KAAmC,CADtC,IAEG4kB,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoB2c,UAApB,KAAmC,CAH3C,CADJ;AAKAxQ,gBAAI,CAACyW,cAAL,GACI,CAAC,CAACzW,IAAI,CAAC3Z,MAAL,CAAYuN,OAAd,KACKoM,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoBzY,QAApB,KAAiC,CAAjC,IACG6kB,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoBxY,UAApB,KAAmC,CADtC,IAEG4kB,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoB4c,UAApB,KAAmC,CAH3C,CADJ;AAKAjwC,kBAAM,CAACC,cAAP,CAAsBw/B,IAAtB,EAA4B,eAA5B,EAA6C;AACzCrT,iBAAG,EAAE,eAAY;AAAE,uBAAOqT,IAAI,CAAC2jB,cAAZ;AAA6B,eADP;AAEzC33B,iBAAG,EAAE,aAAUugB,IAAV,EAAgB;AACjBvM,oBAAI,CAAC2jB,cAAL,GAAsBpX,IAAtB;AACA,oBAAIvM,IAAI,CAACkV,iBAAT,EACIpI,WAAW,CAAC9M,IAAI,CAACkV,iBAAN,EAAyB,eAAzB,EAA0C3I,IAA1C,CAAX;AACJvM,oBAAI,CAACvW,MAAL,IAAe2pB,gBAAgB,EAA/B;AACH;AAPwC,aAA7C;AASH;;AACD,mBAASkB,WAAT,GAAuB;AACnBtU,gBAAI,CAACtsB,KAAL,GAAassB,IAAI,CAAC3Z,MAAL,CAAYkO,IAAZ,GACPjyB,OAAO,CAACuR,aAAR,CAAsB,cAAtB,CADO,GAEPvR,OAFN;AAGA;;AACA,gBAAI,CAAC09B,IAAI,CAACtsB,KAAV,EAAiB;AACbssB,kBAAI,CAAC3Z,MAAL,CAAYokB,YAAZ,CAAyB,IAAIh2B,KAAJ,CAAU,iCAAV,CAAzB;AACA;AACH,aARkB,CASnB;;;AACAurB,gBAAI,CAACtsB,KAAL,CAAWoqC,KAAX,GAAmB9d,IAAI,CAACtsB,KAAL,CAAWnR,IAA9B;AACAy9B,gBAAI,CAACtsB,KAAL,CAAWnR,IAAX,GAAkB,MAAlB;AACAy9B,gBAAI,CAACtsB,KAAL,CAAW6E,SAAX,CAAqBO,GAArB,CAAyB,iBAAzB;AACAknB,gBAAI,CAAC/I,MAAL,GAAc+I,IAAI,CAACtsB,KAAnB;;AACA,gBAAIssB,IAAI,CAAC3Z,MAAL,CAAYsM,QAAhB,EAA0B;AACtB;AACAqN,kBAAI,CAACrN,QAAL,GAAgBsa,aAAa,CAACjN,IAAI,CAACtsB,KAAL,CAAW+vC,QAAZ,EAAsBzjB,IAAI,CAAC3Z,MAAL,CAAYuM,aAAlC,CAA7B;AACAoN,kBAAI,CAAC/I,MAAL,GAAc+I,IAAI,CAACrN,QAAnB;AACAqN,kBAAI,CAACrN,QAAL,CAAc+wB,WAAd,GAA4B1jB,IAAI,CAACtsB,KAAL,CAAWgwC,WAAvC;AACA1jB,kBAAI,CAACrN,QAAL,CAAc0pB,QAAd,GAAyBrc,IAAI,CAACtsB,KAAL,CAAW2oC,QAApC;AACArc,kBAAI,CAACrN,QAAL,CAAcixB,QAAd,GAAyB5jB,IAAI,CAACtsB,KAAL,CAAWkwC,QAApC;AACA5jB,kBAAI,CAACrN,QAAL,CAAcimB,QAAd,GAAyB5Y,IAAI,CAACtsB,KAAL,CAAWklC,QAApC;AACA5Y,kBAAI,CAACrN,QAAL,CAAcpwB,IAAd,GAAqB,MAArB;AACAy9B,kBAAI,CAACtsB,KAAL,CAAWu6B,YAAX,CAAwB,MAAxB,EAAgC,QAAhC;AACA,kBAAI,CAACjO,IAAI,CAAC3Z,MAAL,UAAD,IAAuB2Z,IAAI,CAACtsB,KAAL,CAAWjH,UAAtC,EACIuzB,IAAI,CAACtsB,KAAL,CAAWjH,UAAX,CAAsBC,YAAtB,CAAmCszB,IAAI,CAACrN,QAAxC,EAAkDqN,IAAI,CAACtsB,KAAL,CAAW/G,WAA7D;AACP;;AACD,gBAAI,CAACqzB,IAAI,CAAC3Z,MAAL,CAAYwM,UAAjB,EACImN,IAAI,CAAC/I,MAAL,CAAYgX,YAAZ,CAAyB,UAAzB,EAAqC,UAArC;AACJjO,gBAAI,CAAC8f,gBAAL,GAAwB9f,IAAI,CAAC3Z,MAAL,CAAY+kB,eAAZ,IAA+BpL,IAAI,CAAC/I,MAA5D;AACH;;AACD,mBAASmgB,WAAT,GAAuB;AACnB,gBAAIyM,SAAS,GAAG7jB,IAAI,CAAC3Z,MAAL,CAAYkN,UAAZ,GACVyM,IAAI,CAAC3Z,MAAL,CAAY4N,UAAZ,GACI,MADJ,GAEI,gBAHM,GAIV,MAJN;AAKA+L,gBAAI,CAAC2d,WAAL,GAAmB1Q,aAAa,CAAC,OAAD,EAAUjN,IAAI,CAACtsB,KAAL,CAAWs5B,SAAX,GAAuB,mBAAjC,CAAhC;AACAhN,gBAAI,CAAC2d,WAAL,CAAiBmG,IAAjB,GAAwB9jB,IAAI,CAACtsB,KAAL,CAAWypC,YAAX,CAAwB,MAAxB,KAAmC,KAA3D;AACAnd,gBAAI,CAAC2d,WAAL,CAAiB/E,QAAjB,GAA4B,CAA5B;AACA5Y,gBAAI,CAAC2d,WAAL,CAAiBp7C,IAAjB,GAAwBshD,SAAxB;AACA7jB,gBAAI,CAAC2d,WAAL,CAAiBtB,QAAjB,GAA4Brc,IAAI,CAACtsB,KAAL,CAAW2oC,QAAvC;AACArc,gBAAI,CAAC2d,WAAL,CAAiBiG,QAAjB,GAA4B5jB,IAAI,CAACtsB,KAAL,CAAWkwC,QAAvC;AACA5jB,gBAAI,CAAC2d,WAAL,CAAiB+F,WAAjB,GAA+B1jB,IAAI,CAACtsB,KAAL,CAAWgwC,WAA1C;AACA1jB,gBAAI,CAAC+jB,eAAL,GACIF,SAAS,KAAK,gBAAd,GACM,eADN,GAEMA,SAAS,KAAK,MAAd,GACI,OADJ,GAEI,OALd;;AAMA,gBAAI7jB,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAnB,GAA4B,CAAhC,EAAmC;AAC/B47B,kBAAI,CAAC2d,WAAL,CAAiBqG,YAAjB,GAAgChkB,IAAI,CAAC2d,WAAL,CAAiBj9C,KAAjB,GAAyBs/B,IAAI,CAACvM,UAAL,CAAgBuM,IAAI,CAAC/J,aAAL,CAAmB,CAAnB,CAAhB,EAAuC+J,IAAI,CAAC+jB,eAA5C,CAAzD;AACH;;AACD,gBAAI/jB,IAAI,CAAC3Z,MAAL,CAAYwN,OAAhB,EACImM,IAAI,CAAC2d,WAAL,CAAiBpsB,GAAjB,GAAuByO,IAAI,CAACvM,UAAL,CAAgBuM,IAAI,CAAC3Z,MAAL,CAAYwN,OAA5B,EAAqC,OAArC,CAAvB;AACJ,gBAAImM,IAAI,CAAC3Z,MAAL,CAAYuN,OAAhB,EACIoM,IAAI,CAAC2d,WAAL,CAAiB/iC,GAAjB,GAAuBolB,IAAI,CAACvM,UAAL,CAAgBuM,IAAI,CAAC3Z,MAAL,CAAYuN,OAA5B,EAAqC,OAArC,CAAvB;AACJoM,gBAAI,CAACtsB,KAAL,CAAWnR,IAAX,GAAkB,QAAlB;AACA,gBAAIy9B,IAAI,CAACrN,QAAL,KAAkBtsB,SAAtB,EACI25B,IAAI,CAACrN,QAAL,CAAcpwB,IAAd,GAAqB,QAArB;;AACJ,gBAAI;AACA,kBAAIy9B,IAAI,CAACtsB,KAAL,CAAWjH,UAAf,EACIuzB,IAAI,CAACtsB,KAAL,CAAWjH,UAAX,CAAsBC,YAAtB,CAAmCszB,IAAI,CAAC2d,WAAxC,EAAqD3d,IAAI,CAACtsB,KAAL,CAAW/G,WAAhE;AACP,aAHD,CAIA,OAAOoK,EAAP,EAAW,CAAG;;AACd+E,gBAAI,CAACkkB,IAAI,CAAC2d,WAAN,EAAmB,QAAnB,EAA6B,UAAUr3C,CAAV,EAAa;AAC1C05B,kBAAI,CAAC1+B,OAAL,CAAagF,CAAC,CAACnE,MAAF,CAASzB,KAAtB,EAA6B,KAA7B,EAAoCs/B,IAAI,CAAC+jB,eAAzC;AACA/O,0BAAY,CAAC,UAAD,CAAZ;AACAA,0BAAY,CAAC,SAAD,CAAZ;AACH,aAJG,CAAJ;AAKH;;AACD,mBAASnB,MAAT,CAAgBvtC,CAAhB,EAAmB;AACf,gBAAI05B,IAAI,CAACvW,MAAL,KAAgB,IAApB,EACI,OAAOuW,IAAI,CAACuT,KAAL,EAAP;AACJvT,gBAAI,CAAC2T,IAAL,CAAUrtC,CAAV;AACH;;AACD,mBAAS0uC,YAAT,CAAsB/yC,KAAtB,EAA6BihC,IAA7B,EAAmC;AAC/B;AACA,gBAAIlD,IAAI,CAAC3Z,MAAL,KAAgBhgB,SAApB,EACI;AACJ,gBAAI49C,KAAK,GAAGjkB,IAAI,CAAC3Z,MAAL,CAAYpkB,KAAZ,CAAZ;;AACA,gBAAIgiD,KAAK,KAAK59C,SAAV,IAAuB49C,KAAK,CAAC7/C,MAAN,GAAe,CAA1C,EAA6C;AACzC,mBAAK,IAAIiQ,CAAC,GAAG,CAAb,EAAgB4vC,KAAK,CAAC5vC,CAAD,CAAL,IAAYA,CAAC,GAAG4vC,KAAK,CAAC7/C,MAAtC,EAA8CiQ,CAAC,EAA/C;AACI4vC,qBAAK,CAAC5vC,CAAD,CAAL,CAAS2rB,IAAI,CAAC/J,aAAd,EAA6B+J,IAAI,CAACtsB,KAAL,CAAWhT,KAAxC,EAA+Cs/B,IAA/C,EAAqDkD,IAArD;AADJ;AAEH;;AACD,gBAAIjhC,KAAK,KAAK,UAAd,EAA0B;AACtB+9B,kBAAI,CAACtsB,KAAL,CAAW4vB,aAAX,CAAyBC,WAAW,CAAC,QAAD,CAApC,EADsB,CAEtB;;AACAvD,kBAAI,CAACtsB,KAAL,CAAW4vB,aAAX,CAAyBC,WAAW,CAAC,OAAD,CAApC;AACH;AACJ;;AACD,mBAASA,WAAT,CAAqBvf,IAArB,EAA2B;AACvB,gBAAI1d,CAAC,GAAGnD,QAAQ,CAACogC,WAAT,CAAqB,OAArB,CAAR;AACAj9B,aAAC,CAAC49C,SAAF,CAAYlgC,IAAZ,EAAkB,IAAlB,EAAwB,IAAxB;AACA,mBAAO1d,CAAP;AACH;;AACD,mBAASozC,cAAT,CAAwBr6B,IAAxB,EAA8B;AAC1B,iBAAK,IAAIhL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2rB,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAvC,EAA+CiQ,CAAC,EAAhD,EAAoD;AAChD,kBAAI29B,YAAY,CAAChS,IAAI,CAAC/J,aAAL,CAAmB5hB,CAAnB,CAAD,EAAwBgL,IAAxB,CAAZ,KAA8C,CAAlD,EACI,OAAO,KAAKhL,CAAZ;AACP;;AACD,mBAAO,KAAP;AACH;;AACD,mBAASulC,aAAT,CAAuBv6B,IAAvB,EAA6B;AACzB,gBAAI2gB,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,OAArB,IAAgCiM,IAAI,CAAC/J,aAAL,CAAmB7xB,MAAnB,GAA4B,CAAhE,EACI,OAAO,KAAP;AACJ,mBAAQ4tC,YAAY,CAAC3yB,IAAD,EAAO2gB,IAAI,CAAC/J,aAAL,CAAmB,CAAnB,CAAP,CAAZ,IAA6C,CAA7C,IACJ+b,YAAY,CAAC3yB,IAAD,EAAO2gB,IAAI,CAAC/J,aAAL,CAAmB,CAAnB,CAAP,CAAZ,IAA6C,CADjD;AAEH;;AACD,mBAAS6mB,4BAAT,GAAwC;AACpC,gBAAI9c,IAAI,CAAC3Z,MAAL,CAAY4N,UAAZ,IAA0B+L,IAAI,CAACwU,QAA/B,IAA2C,CAACxU,IAAI,CAAC2X,QAArD,EACI;AACJ3X,gBAAI,CAACwc,YAAL,CAAkB7uC,OAAlB,CAA0B,UAAUwuC,WAAV,EAAuB9nC,CAAvB,EAA0B;AAChD,kBAAIvQ,CAAC,GAAG,IAAIkM,IAAJ,CAASgwB,IAAI,CAACkU,WAAd,EAA2BlU,IAAI,CAACiU,YAAhC,EAA8C,CAA9C,CAAR;AACAnwC,eAAC,CAACvC,QAAF,CAAWy+B,IAAI,CAACiU,YAAL,GAAoB5/B,CAA/B;;AACA,kBAAI2rB,IAAI,CAAC3Z,MAAL,CAAYqO,UAAZ,GAAyB,CAAzB,IACAsL,IAAI,CAAC3Z,MAAL,CAAY0kB,iBAAZ,KAAkC,QADtC,EACgD;AAC5C/K,oBAAI,CAACyc,aAAL,CAAmBpoC,CAAnB,EAAsB+4B,WAAtB,GACIkB,UAAU,CAACxqC,CAAC,CAAC0W,QAAF,EAAD,EAAewlB,IAAI,CAAC3Z,MAAL,CAAY8N,qBAA3B,EAAkD6L,IAAI,CAAC5I,IAAvD,CAAV,GAAyE,GAD7E;AAEH,eAJD,MAKK;AACD4I,oBAAI,CAAC0b,uBAAL,CAA6Bh7C,KAA7B,GAAqCoD,CAAC,CAAC0W,QAAF,GAAazH,QAAb,EAArC;AACH;;AACDopC,yBAAW,CAACz7C,KAAZ,GAAoBoD,CAAC,CAAC+mC,WAAF,GAAgB93B,QAAhB,EAApB;AACH,aAZD;AAaAitB,gBAAI,CAACud,mBAAL,GACIvd,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,KAAwBxtB,SAAxB,KACK25B,IAAI,CAACkU,WAAL,KAAqBlU,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoBgX,WAApB,EAArB,GACK7K,IAAI,CAACiU,YAAL,IAAqBjU,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoBrZ,QAApB,EAD1B,GAEKwlB,IAAI,CAACkU,WAAL,GAAmBlU,IAAI,CAAC3Z,MAAL,CAAYwN,OAAZ,CAAoBgX,WAApB,EAH7B,CADJ;AAKA7K,gBAAI,CAACwd,mBAAL,GACIxd,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,KAAwBvtB,SAAxB,KACK25B,IAAI,CAACkU,WAAL,KAAqBlU,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoBiX,WAApB,EAArB,GACK7K,IAAI,CAACiU,YAAL,GAAoB,CAApB,GAAwBjU,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoBpZ,QAApB,EAD7B,GAEKwlB,IAAI,CAACkU,WAAL,GAAmBlU,IAAI,CAAC3Z,MAAL,CAAYuN,OAAZ,CAAoBiX,WAApB,EAH7B,CADJ;AAKH;;AACD,mBAASsZ,UAAT,CAAoBhhC,MAApB,EAA4B;AACxB,mBAAO6c,IAAI,CAAC/J,aAAL,CACFhiB,GADE,CACE,UAAUmwC,IAAV,EAAgB;AAAE,qBAAOpkB,IAAI,CAACvM,UAAL,CAAgB2wB,IAAhB,EAAsBjhC,MAAtB,CAAP;AAAuC,aAD3D,EAEF3V,MAFE,CAEK,UAAU1J,CAAV,EAAauQ,CAAb,EAAgBG,GAAhB,EAAqB;AAC7B,qBAAOwrB,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,OAArB,IACHiM,IAAI,CAAC3Z,MAAL,CAAYkN,UADT,IAEH/e,GAAG,CAAC3G,OAAJ,CAAY/J,CAAZ,MAAmBuQ,CAFvB;AAGH,aANM,EAOF0P,IAPE,CAOGic,IAAI,CAAC3Z,MAAL,CAAY0N,IAAZ,KAAqB,OAArB,GACJiM,IAAI,CAAC3Z,MAAL,CAAYkkB,WADR,GAEJvK,IAAI,CAAC5I,IAAL,CAAUC,cATT,CAAP;AAUH;AACD;;;;;AAGA,mBAASud,WAAT,CAAqBuC,aAArB,EAAoC;AAChC,gBAAIA,aAAa,KAAK,KAAK,CAA3B,EAA8B;AAAEA,2BAAa,GAAG,IAAhB;AAAuB;;AACvD,gBAAInX,IAAI,CAAC2d,WAAL,KAAqBt3C,SAArB,IAAkC25B,IAAI,CAAC+jB,eAA3C,EAA4D;AACxD/jB,kBAAI,CAAC2d,WAAL,CAAiBj9C,KAAjB,GACIs/B,IAAI,CAAC2U,qBAAL,KAA+BtuC,SAA/B,GACM25B,IAAI,CAACvM,UAAL,CAAgBuM,IAAI,CAAC2U,qBAArB,EAA4C3U,IAAI,CAAC+jB,eAAjD,CADN,GAEM,EAHV;AAIH;;AACD/jB,gBAAI,CAACtsB,KAAL,CAAWhT,KAAX,GAAmByjD,UAAU,CAACnkB,IAAI,CAAC3Z,MAAL,CAAY4M,UAAb,CAA7B;;AACA,gBAAI+M,IAAI,CAACrN,QAAL,KAAkBtsB,SAAtB,EAAiC;AAC7B25B,kBAAI,CAACrN,QAAL,CAAcjyB,KAAd,GAAsByjD,UAAU,CAACnkB,IAAI,CAAC3Z,MAAL,CAAYqM,SAAb,CAAhC;AACH;;AACD,gBAAIykB,aAAa,KAAK,KAAtB,EACInC,YAAY,CAAC,eAAD,CAAZ;AACP;;AACD,mBAAS4C,eAAT,CAAyBtxC,CAAzB,EAA4B;AACxB,gBAAI+9C,WAAW,GAAGrkB,IAAI,CAACuc,YAAL,CAAkB/D,QAAlB,CAA2BlyC,CAAC,CAACnE,MAA7B,CAAlB;AACA,gBAAImiD,WAAW,GAAGtkB,IAAI,CAAC0c,YAAL,CAAkBlE,QAAlB,CAA2BlyC,CAAC,CAACnE,MAA7B,CAAlB;;AACA,gBAAIkiD,WAAW,IAAIC,WAAnB,EAAgC;AAC5BjR,yBAAW,CAACgR,WAAW,GAAG,CAAC,CAAJ,GAAQ,CAApB,CAAX;AACH,aAFD,MAGK,IAAIrkB,IAAI,CAACwc,YAAL,CAAkB3uC,OAAlB,CAA0BvH,CAAC,CAACnE,MAA5B,KAAuC,CAA3C,EAA8C;AAC/CmE,eAAC,CAACnE,MAAF,CAASyR,MAAT;AACH,aAFI,MAGA,IAAItN,CAAC,CAACnE,MAAF,CAASoW,SAAT,CAAmBigC,QAAnB,CAA4B,SAA5B,CAAJ,EAA4C;AAC7CxY,kBAAI,CAACsT,UAAL,CAAgBtT,IAAI,CAACkU,WAAL,GAAmB,CAAnC;AACH,aAFI,MAGA,IAAI5tC,CAAC,CAACnE,MAAF,CAASoW,SAAT,CAAmBigC,QAAnB,CAA4B,WAA5B,CAAJ,EAA8C;AAC/CxY,kBAAI,CAACsT,UAAL,CAAgBtT,IAAI,CAACkU,WAAL,GAAmB,CAAnC;AACH;AACJ;;AACD,mBAASyB,WAAT,CAAqBrvC,CAArB,EAAwB;AACpBA,aAAC,CAACyB,cAAF;AACA,gBAAIw8C,SAAS,GAAGj+C,CAAC,CAAC/D,IAAF,KAAW,SAA3B;AAAA,gBAAsCmR,KAAK,GAAGpN,CAAC,CAACnE,MAAhD;;AACA,gBAAI69B,IAAI,CAACiM,IAAL,KAAc5lC,SAAd,IAA2BC,CAAC,CAACnE,MAAF,KAAa69B,IAAI,CAACiM,IAAjD,EAAuD;AACnDjM,kBAAI,CAACiM,IAAL,CAAUmB,WAAV,GACIpN,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAeK,IAAG,CAACtM,IAAI,CAACiM,IAAL,CAAUmB,WAAV,KAA0BpN,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAe,CAAf,CAA3B,CAAlB,CADJ;AAEH;;AACD,gBAAI1a,GAAG,GAAG/Z,UAAU,CAAC9D,KAAK,CAACypC,YAAN,CAAmB,KAAnB,CAAD,CAApB;AAAA,gBAAiDviC,GAAG,GAAGpD,UAAU,CAAC9D,KAAK,CAACypC,YAAN,CAAmB,KAAnB,CAAD,CAAjE;AAAA,gBAA8F2G,IAAI,GAAGtsC,UAAU,CAAC9D,KAAK,CAACypC,YAAN,CAAmB,MAAnB,CAAD,CAA/G;AAAA,gBAA6IqH,QAAQ,GAAG3/C,QAAQ,CAAC6O,KAAK,CAAChT,KAAP,EAAc,EAAd,CAAhK;AAAA,gBAAmL+G,KAAK,GAAGnB,CAAC,CAACmB,KAAF,KACtL88C,SAAS,GAAIj+C,CAAC,CAACue,KAAF,KAAY,EAAZ,GAAiB,CAAjB,GAAqB,CAAC,CAA1B,GAA+B,CAD8I,CAA3L;AAEA,gBAAI4/B,QAAQ,GAAGD,QAAQ,GAAGV,IAAI,GAAGr8C,KAAjC;;AACA,gBAAI,OAAOiM,KAAK,CAAChT,KAAb,KAAuB,WAAvB,IAAsCgT,KAAK,CAAChT,KAAN,CAAY0D,MAAZ,KAAuB,CAAjE,EAAoE;AAChE,kBAAIsgD,UAAU,GAAGhxC,KAAK,KAAKssB,IAAI,CAACiW,WAAhC;AAAA,kBAA6C0O,YAAY,GAAGjxC,KAAK,KAAKssB,IAAI,CAACkW,aAA3E;;AACA,kBAAIuO,QAAQ,GAAGlzB,GAAf,EAAoB;AAChBkzB,wBAAQ,GACJ7pC,GAAG,GACC6pC,QADJ,GAEInY,IAAG,CAAC,CAACoY,UAAF,CAFP,IAGKpY,IAAG,CAACoY,UAAD,CAAH,IAAmBpY,IAAG,CAAC,CAACtM,IAAI,CAACiM,IAAP,CAH3B,CADJ;AAKA,oBAAI0Y,YAAJ,EACIpM,iBAAiB,CAAClyC,SAAD,EAAY,CAAC,CAAb,EAAgB25B,IAAI,CAACiW,WAArB,CAAjB;AACP,eARD,MASK,IAAIwO,QAAQ,GAAG7pC,GAAf,EAAoB;AACrB6pC,wBAAQ,GACJ/wC,KAAK,KAAKssB,IAAI,CAACiW,WAAf,GAA6BwO,QAAQ,GAAG7pC,GAAX,GAAiB0xB,IAAG,CAAC,CAACtM,IAAI,CAACiM,IAAP,CAAjD,GAAgE1a,GADpE;AAEA,oBAAIozB,YAAJ,EACIpM,iBAAiB,CAAClyC,SAAD,EAAY,CAAZ,EAAe25B,IAAI,CAACiW,WAApB,CAAjB;AACP;;AACD,kBAAIjW,IAAI,CAACiM,IAAL,IACAyY,UADA,KAECZ,IAAI,KAAK,CAAT,GACKW,QAAQ,GAAGD,QAAX,KAAwB,EAD7B,GAEKn5C,IAAI,CAAC2F,GAAL,CAASyzC,QAAQ,GAAGD,QAApB,IAAgCV,IAJtC,CAAJ,EAIiD;AAC7C9jB,oBAAI,CAACiM,IAAL,CAAUmB,WAAV,GACIpN,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAeK,IAAG,CAACtM,IAAI,CAACiM,IAAL,CAAUmB,WAAV,KAA0BpN,IAAI,CAAC5I,IAAL,CAAU6U,IAAV,CAAe,CAAf,CAA3B,CAAlB,CADJ;AAEH;;AACDv4B,mBAAK,CAAChT,KAAN,GAAc2rC,GAAG,CAACoY,QAAD,CAAjB;AACH;AACJ;;AACDtQ,cAAI;AACJ,iBAAOnU,IAAP;AACH;AACD;;;AACA,iBAAS4kB,UAAT,CAAoBC,QAApB,EAA8Bx+B,MAA9B,EAAsC;AAClC;AACA,cAAIy+B,KAAK,GAAGxgD,KAAK,CAACwO,SAAN,CAAgBiB,KAAhB,CACPd,IADO,CACF4xC,QADE,EAEPr3C,MAFO,CAEA,UAAU/K,CAAV,EAAa;AAAE,mBAAOA,CAAC,YAAYsiD,WAApB;AAAkC,WAFjD,CAAZ;AAGA,cAAIC,SAAS,GAAG,EAAhB;;AACA,eAAK,IAAI3wC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGywC,KAAK,CAAC1gD,MAA1B,EAAkCiQ,CAAC,EAAnC,EAAuC;AACnC,gBAAI5G,IAAI,GAAGq3C,KAAK,CAACzwC,CAAD,CAAhB;;AACA,gBAAI;AACA,kBAAI5G,IAAI,CAAC0vC,YAAL,CAAkB,cAAlB,MAAsC,IAA1C,EACI;;AACJ,kBAAI1vC,IAAI,CAACm3C,UAAL,KAAoBv+C,SAAxB,EAAmC;AAC/BoH,oBAAI,CAACm3C,UAAL,CAAgBt2C,OAAhB;;AACAb,oBAAI,CAACm3C,UAAL,GAAkBv+C,SAAlB;AACH;;AACDoH,kBAAI,CAACm3C,UAAL,GAAkBnS,iBAAiB,CAAChlC,IAAD,EAAO4Y,MAAM,IAAI,EAAjB,CAAnC;AACA2+B,uBAAS,CAAC7vC,IAAV,CAAe1H,IAAI,CAACm3C,UAApB;AACH,aATD,CAUA,OAAOt+C,CAAP,EAAU;AACNmY,qBAAO,CAACwmC,KAAR,CAAc3+C,CAAd;AACH;AACJ;;AACD,iBAAO0+C,SAAS,CAAC5gD,MAAV,KAAqB,CAArB,GAAyB4gD,SAAS,CAAC,CAAD,CAAlC,GAAwCA,SAA/C;AACH;AACD;;;AACA,YAAI,OAAOD,WAAP,KAAuB,WAAvB,IACA,OAAOG,cAAP,KAA0B,WAD1B,IAEA,OAAOC,QAAP,KAAoB,WAFxB,EAEqC;AACjC;AACAD,wBAAc,CAACpyC,SAAf,CAAyB6/B,SAAzB,GAAqCwS,QAAQ,CAACryC,SAAT,CAAmB6/B,SAAnB,GAA+B,UAAUtsB,MAAV,EAAkB;AAClF,mBAAOu+B,UAAU,CAAC,IAAD,EAAOv+B,MAAP,CAAjB;AACH,WAFD;;AAGA0+B,qBAAW,CAACjyC,SAAZ,CAAsB6/B,SAAtB,GAAkC,UAAUtsB,MAAV,EAAkB;AAChD,mBAAOu+B,UAAU,CAAC,CAAC,IAAD,CAAD,EAASv+B,MAAT,CAAjB;AACH,WAFD;AAGH;AACD;;;AACA,YAAIssB,SAAS,GAAG,SAAZA,SAAY,CAAUpqC,QAAV,EAAoB8d,MAApB,EAA4B;AACxC,cAAI,OAAO9d,QAAP,KAAoB,QAAxB,EAAkC;AAC9B,mBAAOq8C,UAAU,CAAC1iD,MAAM,CAACiB,QAAP,CAAgB6Q,gBAAhB,CAAiCzL,QAAjC,CAAD,EAA6C8d,MAA7C,CAAjB;AACH,WAFD,MAGK,IAAI9d,QAAQ,YAAYmF,IAAxB,EAA8B;AAC/B,mBAAOk3C,UAAU,CAAC,CAACr8C,QAAD,CAAD,EAAa8d,MAAb,CAAjB;AACH,WAFI,MAGA;AACD,mBAAOu+B,UAAU,CAACr8C,QAAD,EAAW8d,MAAX,CAAjB;AACH;AACJ,SAVD;AAWA;;;AACAssB,iBAAS,CAACC,aAAV,GAA0B,EAA1B;AACAD,iBAAS,CAACwO,KAAV,GAAkB;AACdiE,YAAE,EAAErkD,OAAQ,CAAC,EAAD,EAAKsqC,OAAL,CADE;AAEd,qBAAWtqC,OAAQ,CAAC,EAAD,EAAKsqC,OAAL;AAFL,SAAlB;;AAIAsH,iBAAS,CAAC0S,QAAV,GAAqB,UAAUjuB,IAAV,EAAgB;AACjCub,mBAAS,CAACwO,KAAV,CAAgB,SAAhB,IAA6BpgD,OAAQ,CAAC,EAAD,EAAK4xC,SAAS,CAACwO,KAAV,CAAgB,SAAhB,CAAL,EAAiC/pB,IAAjC,CAArC;AACH,SAFD;;AAGAub,iBAAS,CAAC2S,WAAV,GAAwB,UAAUj/B,MAAV,EAAkB;AACtCssB,mBAAS,CAACC,aAAV,GAA0B7xC,OAAQ,CAAC,EAAD,EAAK4xC,SAAS,CAACC,aAAf,EAA8BvsB,MAA9B,CAAlC;AACH,SAFD;;AAGAssB,iBAAS,CAAC7c,SAAV,GAAsBgb,gBAAgB,CAAC,EAAD,CAAtC;AACA6B,iBAAS,CAAClf,UAAV,GAAuBid,mBAAmB,CAAC,EAAD,CAA1C;AACAiC,iBAAS,CAACX,YAAV,GAAyBA,YAAzB;AACA;;AACA,YAAI,OAAOuT,MAAP,KAAkB,WAAlB,IAAiC,OAAOA,MAAM,CAACx0B,EAAd,KAAqB,WAA1D,EAAuE;AACnEw0B,gBAAM,CAACx0B,EAAP,CAAU4hB,SAAV,GAAsB,UAAUtsB,MAAV,EAAkB;AACpC,mBAAOu+B,UAAU,CAAC,IAAD,EAAOv+B,MAAP,CAAjB;AACH,WAFD;AAGH,SA5hFe,CA6hFhB;;;AACArW,YAAI,CAAC8C,SAAL,CAAe0yC,OAAf,GAAyB,UAAUzkC,IAAV,EAAgB;AACrC,iBAAO,IAAI/Q,IAAJ,CAAS,KAAK66B,WAAL,EAAT,EAA6B,KAAKrwB,QAAL,EAA7B,EAA8C,KAAK/Y,OAAL,MAAkB,OAAOsf,IAAP,KAAgB,QAAhB,GAA2Blc,QAAQ,CAACkc,IAAD,EAAO,EAAP,CAAnC,GAAgDA,IAAlE,CAA9C,CAAP;AACH,SAFD;;AAGA,YAAI,OAAO7e,MAAP,KAAkB,WAAtB,EAAmC;AAC/BA,gBAAM,CAACywC,SAAP,GAAmBA,SAAnB;AACH;;AAED,eAAOA,SAAP;AAEH,OA3iFA,CAAD","file":"default~agenda-agenda-module~lote-lote-module-es5.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar date_fns_1 = require(\"calendar-utils/date-adapters/date-fns\");\nvar date_fns_2 = require(\"date-fns\");\nfunction adapterFactory() {\n    return tslib_1.__assign({}, date_fns_1.adapterFactory(), { addWeeks: date_fns_2.addWeeks,\n        addMonths: date_fns_2.addMonths,\n        subDays: date_fns_2.subDays,\n        subWeeks: date_fns_2.subWeeks,\n        subMonths: date_fns_2.subMonths,\n        getISOWeek: date_fns_2.getISOWeek,\n        setDate: date_fns_2.setDate,\n        setMonth: date_fns_2.setMonth,\n        setYear: date_fns_2.setYear,\n        getDate: date_fns_2.getDate,\n        getYear: date_fns_2.getYear });\n}\nexports.adapterFactory = adapterFactory;\n//# sourceMappingURL=index.js.map","'use strict';\n\nvar typeFunc = require('type-func');\n\nfunction createPointCB(object, options) {\n\n    // A persistent object (as opposed to returned object) is used to save memory\n    // This is good to prevent layout thrashing, or for games, and such\n\n    // NOTE\n    // This uses IE fixes which should be OK to remove some day. :)\n    // Some speed will be gained by removal of these.\n\n    // pointCB should be saved in a variable on return\n    // This allows the usage of element.removeEventListener\n\n    options = options || {};\n\n    var allowUpdate = typeFunc.boolean(options.allowUpdate, true);\n\n    /*if(typeof options.allowUpdate === 'function'){\n        allowUpdate = options.allowUpdate;\n    }else{\n        allowUpdate = function(){return true;};\n    }*/\n\n    return function pointCB(event) {\n\n        event = event || window.event; // IE-ism\n        object.target = event.target || event.srcElement || event.originalTarget;\n        object.element = this;\n        object.type = event.type;\n\n        if (!allowUpdate(event)) {\n            return;\n        }\n\n        // Support touch\n        // http://www.creativebloq.com/javascript/make-your-site-work-touch-devices-51411644\n\n        if (event.targetTouches) {\n            object.x = event.targetTouches[0].clientX;\n            object.y = event.targetTouches[0].clientY;\n            object.pageX = event.targetTouches[0].pageX;\n            object.pageY = event.targetTouches[0].pageY;\n            object.screenX = event.targetTouches[0].screenX;\n            object.screenY = event.targetTouches[0].screenY;\n        } else {\n\n            // If pageX/Y aren't available and clientX/Y are,\n            // calculate pageX/Y - logic taken from jQuery.\n            // (This is to support old IE)\n            // NOTE Hopefully this can be removed soon.\n\n            if (event.pageX === null && event.clientX !== null) {\n                var eventDoc = event.target && event.target.ownerDocument || document;\n                var doc = eventDoc.documentElement;\n                var body = eventDoc.body;\n\n                object.pageX = event.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n                object.pageY = event.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n            } else {\n                object.pageX = event.pageX;\n                object.pageY = event.pageY;\n            }\n\n            // pageX, and pageY change with page scroll\n            // so we're not going to use those for x, and y.\n            // NOTE Most browsers also alias clientX/Y with x/y\n            // so that's something to consider down the road.\n\n            object.x = event.clientX;\n            object.y = event.clientY;\n\n            object.screenX = event.screenX;\n            object.screenY = event.screenY;\n        }\n\n        object.clientX = object.x;\n        object.clientY = object.y;\n    };\n\n    //NOTE Remember accessibility, Aria roles, and labels.\n}\n\n/*\ngit remote add origin https://github.com/hollowdoor/create_point_cb.git\ngit push -u origin master\n*/\n\nmodule.exports = createPointCB;\n//# sourceMappingURL=bundle.js.map\n","export { positionElements } from './positioning';\n//# sourceMappingURL=entry.js.map","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction getDef(f, d) {\n    if (typeof f === 'undefined') {\n        return typeof d === 'undefined' ? f : d;\n    }\n\n    return f;\n}\nfunction boolean(func, def) {\n\n    func = getDef(func, def);\n\n    if (typeof func === 'function') {\n        return function f() {\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n\n            return !!func.apply(this, args);\n        };\n    }\n\n    return !!func ? function () {\n        return true;\n    } : function () {\n        return false;\n    };\n}\n\nfunction integer(func, def) {\n\n    func = getDef(func, def);\n\n    if (typeof func === 'function') {\n        return function f() {\n            for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n            }\n\n            var n = parseInt(func.apply(this, args), 10);\n            return n != n ? 0 : n;\n        };\n    }\n\n    func = parseInt(func, 10);\n\n    return func != func ? function () {\n        return 0;\n    } : function () {\n        return func;\n    };\n}\n\nfunction string(func, def) {\n\n    func = getDef(func, def);\n\n    if (typeof func === 'function') {\n        return function f() {\n            for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                args[_key3] = arguments[_key3];\n            }\n\n            return '' + func.apply(this, args);\n        };\n    }\n\n    func = '' + func;\n\n    return function () {\n        return func;\n    };\n}\n\nexports.boolean = boolean;\nexports.integer = integer;\nexports.string = string;\n//# sourceMappingURL=bundle.js.map\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar createPointCb = _interopDefault(require('create-point-cb'));\n\nfunction createWindowRect() {\n    var props = {\n        top: { value: 0, enumerable: true },\n        left: { value: 0, enumerable: true },\n        right: { value: window.innerWidth, enumerable: true },\n        bottom: { value: window.innerHeight, enumerable: true },\n        width: { value: window.innerWidth, enumerable: true },\n        height: { value: window.innerHeight, enumerable: true },\n        x: { value: 0, enumerable: true },\n        y: { value: 0, enumerable: true }\n    };\n\n    if (Object.create) {\n        return Object.create({}, props);\n    } else {\n        var rect = {};\n        Object.defineProperties(rect, props);\n        return rect;\n    }\n}\n\nfunction getClientRect(el) {\n    if (el === window) {\n        return createWindowRect();\n    } else {\n        try {\n            var rect = el.getBoundingClientRect();\n            if (rect.x === undefined) {\n                rect.x = rect.left;\n                rect.y = rect.top;\n            }\n            return rect;\n        } catch (e) {\n            throw new TypeError(\"Can't call getBoundingClientRect on \" + el);\n        }\n    }\n}\n\nfunction pointInside(point, el) {\n    var rect = getClientRect(el);\n    return point.y > rect.top && point.y < rect.bottom && point.x > rect.left && point.x < rect.right;\n}\n\nexports.createPointCB = createPointCb;\nexports.getClientRect = getClientRect;\nexports.pointInside = pointInside;\n//# sourceMappingURL=bundle.js.map\n","import { Subject, Observable, merge, ReplaySubject, combineLatest, animationFrameScheduler } from 'rxjs';\nimport { DOCUMENT } from '@angular/common';\nimport autoScroll from 'dom-autoscroller';\nimport { Injectable, Directive, ElementRef, Input, NgZone, Renderer2, Output, EventEmitter, Inject, ViewContainerRef, Optional, NgModule, defineInjectable } from '@angular/core';\nimport { map, mergeMap, takeUntil, take, takeLast, pairwise, share, filter, count, startWith, auditTime, distinctUntilChanged } from 'rxjs/operators';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass DraggableHelper {\n    constructor() {\n        this.currentDrag = new Subject();\n    }\n}\nDraggableHelper.decorators = [\n    { type: Injectable, args: [{\n                providedIn: 'root'\n            },] }\n];\n/** @nocollapse */ DraggableHelper.ngInjectableDef = defineInjectable({ factory: function DraggableHelper_Factory() { return new DraggableHelper(); }, token: DraggableHelper, providedIn: \"root\" });\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * If the window isn't scrollable, then place this on the scrollable container that draggable elements are inside. e.g.\n * ```html\n * <div style=\"overflow: scroll\" mwlDraggableScrollContainer>\n * <div mwlDraggable>Drag me!</div>\n * </div>\n * ```\n */\nclass DraggableScrollContainerDirective {\n    /**\n     * @hidden\n     * @param {?} elementRef\n     * @param {?} renderer\n     * @param {?} zone\n     */\n    constructor(elementRef, renderer, zone) {\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.zone = zone;\n        /**\n         * Trigger the DragStart after a long touch in scrollable container when true\n         */\n        this.activeLongPressDrag = false;\n        /**\n         * Configuration of a long touch\n         * Duration in ms of a long touch before activating DragStart\n         * Delta of the\n         */\n        this.longPressConfig = { duration: 300, delta: 30 };\n        this.cancelledScroll = false;\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.zone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => {\n            this.renderer.listen(this.elementRef.nativeElement, 'touchmove', (/**\n             * @param {?} event\n             * @return {?}\n             */\n            (event) => {\n                if (this.cancelledScroll && event.cancelable) {\n                    event.preventDefault();\n                }\n            }));\n        }));\n    }\n    /**\n     * @hidden\n     * @return {?}\n     */\n    disableScroll() {\n        this.cancelledScroll = true;\n        this.renderer.setStyle(this.elementRef.nativeElement, 'overflow', 'hidden');\n    }\n    /**\n     * @hidden\n     * @return {?}\n     */\n    enableScroll() {\n        this.cancelledScroll = false;\n        this.renderer.setStyle(this.elementRef.nativeElement, 'overflow', 'auto');\n    }\n    /**\n     * @hidden\n     * @return {?}\n     */\n    hasScrollbar() {\n        /** @type {?} */\n        const containerHasHorizontalScroll = this.elementRef.nativeElement.scrollWidth -\n            this.elementRef.nativeElement.clientWidth >\n            0;\n        /** @type {?} */\n        const containerHasVerticalScroll = this.elementRef.nativeElement.scrollHeight -\n            this.elementRef.nativeElement.clientHeight >\n            0;\n        return containerHasHorizontalScroll || containerHasVerticalScroll;\n    }\n}\nDraggableScrollContainerDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlDraggableScrollContainer]'\n            },] }\n];\n/** @nocollapse */\nDraggableScrollContainerDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Renderer2 },\n    { type: NgZone }\n];\nDraggableScrollContainerDirective.propDecorators = {\n    activeLongPressDrag: [{ type: Input }],\n    longPressConfig: [{ type: Input }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass DraggableDirective {\n    /**\n     * @hidden\n     * @param {?} element\n     * @param {?} renderer\n     * @param {?} draggableHelper\n     * @param {?} zone\n     * @param {?} vcr\n     * @param {?} scrollContainer\n     * @param {?} document\n     */\n    constructor(element, renderer, draggableHelper, zone, vcr, scrollContainer, document) {\n        this.element = element;\n        this.renderer = renderer;\n        this.draggableHelper = draggableHelper;\n        this.zone = zone;\n        this.vcr = vcr;\n        this.scrollContainer = scrollContainer;\n        this.document = document;\n        /**\n         * The axis along which the element is draggable\n         */\n        this.dragAxis = { x: true, y: true };\n        /**\n         * Snap all drags to an x / y grid\n         */\n        this.dragSnapGrid = {};\n        /**\n         * Show a ghost element that shows the drag when dragging\n         */\n        this.ghostDragEnabled = true;\n        /**\n         * Show the original element when ghostDragEnabled is true\n         */\n        this.showOriginalElementWhileDragging = false;\n        /**\n         * The cursor to use when hovering over a draggable element\n         */\n        this.dragCursor = '';\n        /**\n         * Called when the element can be dragged along one axis and has the mouse or pointer device pressed on it\n         */\n        this.dragPointerDown = new EventEmitter();\n        /**\n         * Called when the element has started to be dragged.\n         * Only called after at least one mouse or touch move event.\n         * If you call $event.cancelDrag$.emit() it will cancel the current drag\n         */\n        this.dragStart = new EventEmitter();\n        /**\n         * Called after the ghost element has been created\n         */\n        this.ghostElementCreated = new EventEmitter();\n        /**\n         * Called when the element is being dragged\n         */\n        this.dragging = new EventEmitter();\n        /**\n         * Called after the element is dragged\n         */\n        this.dragEnd = new EventEmitter();\n        /**\n         * @hidden\n         */\n        this.pointerDown$ = new Subject();\n        /**\n         * @hidden\n         */\n        this.pointerMove$ = new Subject();\n        /**\n         * @hidden\n         */\n        this.pointerUp$ = new Subject();\n        this.eventListenerSubscriptions = {};\n        this.destroy$ = new Subject();\n        this.timeLongPress = { timerBegin: 0, timerEnd: 0 };\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.checkEventListeners();\n        /** @type {?} */\n        const pointerDragged$ = this.pointerDown$.pipe(filter((/**\n         * @return {?}\n         */\n        () => this.canDrag())), mergeMap((/**\n         * @param {?} pointerDownEvent\n         * @return {?}\n         */\n        (pointerDownEvent) => {\n            // fix for https://github.com/mattlewis92/angular-draggable-droppable/issues/61\n            // stop mouse events propagating up the chain\n            if (pointerDownEvent.event.stopPropagation && !this.scrollContainer) {\n                pointerDownEvent.event.stopPropagation();\n            }\n            /** @type {?} */\n            const startScrollPosition = this.getScrollPosition();\n            /** @type {?} */\n            const scrollContainerScroll$ = new Observable((/**\n             * @param {?} observer\n             * @return {?}\n             */\n            observer => {\n                /** @type {?} */\n                const scrollContainer = this.scrollContainer\n                    ? this.scrollContainer.elementRef.nativeElement\n                    : 'window';\n                return this.renderer.listen(scrollContainer, 'scroll', (/**\n                 * @param {?} e\n                 * @return {?}\n                 */\n                e => observer.next(e)));\n            })).pipe(startWith(startScrollPosition), map((/**\n             * @return {?}\n             */\n            () => this.getScrollPosition())));\n            /** @type {?} */\n            const currentDrag$ = new Subject();\n            /** @type {?} */\n            const cancelDrag$ = new ReplaySubject();\n            this.zone.run((/**\n             * @return {?}\n             */\n            () => {\n                this.dragPointerDown.next({ x: 0, y: 0 });\n            }));\n            /** @type {?} */\n            const dragComplete$ = merge(this.pointerUp$, this.pointerDown$, cancelDrag$, this.destroy$).pipe(share());\n            /** @type {?} */\n            const pointerMove = combineLatest([\n                this.pointerMove$,\n                scrollContainerScroll$\n            ]).pipe(map((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ([pointerMoveEvent, scroll]) => {\n                return {\n                    currentDrag$,\n                    transformX: pointerMoveEvent.clientX - pointerDownEvent.clientX,\n                    transformY: pointerMoveEvent.clientY - pointerDownEvent.clientY,\n                    clientX: pointerMoveEvent.clientX,\n                    clientY: pointerMoveEvent.clientY,\n                    scrollLeft: scroll.left,\n                    scrollTop: scroll.top\n                };\n            })), map((/**\n             * @param {?} moveData\n             * @return {?}\n             */\n            moveData => {\n                if (this.dragSnapGrid.x) {\n                    moveData.transformX =\n                        Math.round(moveData.transformX / this.dragSnapGrid.x) *\n                            this.dragSnapGrid.x;\n                }\n                if (this.dragSnapGrid.y) {\n                    moveData.transformY =\n                        Math.round(moveData.transformY / this.dragSnapGrid.y) *\n                            this.dragSnapGrid.y;\n                }\n                return moveData;\n            })), map((/**\n             * @param {?} moveData\n             * @return {?}\n             */\n            moveData => {\n                if (!this.dragAxis.x) {\n                    moveData.transformX = 0;\n                }\n                if (!this.dragAxis.y) {\n                    moveData.transformY = 0;\n                }\n                return moveData;\n            })), map((/**\n             * @param {?} moveData\n             * @return {?}\n             */\n            moveData => {\n                /** @type {?} */\n                const scrollX = moveData.scrollLeft - startScrollPosition.left;\n                /** @type {?} */\n                const scrollY = moveData.scrollTop - startScrollPosition.top;\n                return Object.assign({}, moveData, { x: moveData.transformX + scrollX, y: moveData.transformY + scrollY });\n            })), filter((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ({ x, y, transformX, transformY }) => !this.validateDrag ||\n                this.validateDrag({\n                    x,\n                    y,\n                    transform: { x: transformX, y: transformY }\n                }))), takeUntil(dragComplete$), share());\n            /** @type {?} */\n            const dragStarted$ = pointerMove.pipe(take(1), share());\n            /** @type {?} */\n            const dragEnded$ = pointerMove.pipe(takeLast(1), share());\n            dragStarted$.subscribe((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ({ clientX, clientY, x, y }) => {\n                this.zone.run((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.dragStart.next({ cancelDrag$ });\n                }));\n                this.scroller = autoScroll([\n                    this.scrollContainer\n                        ? this.scrollContainer.elementRef.nativeElement\n                        : this.document.defaultView\n                ], {\n                    margin: 20,\n                    /**\n                     * @return {?}\n                     */\n                    autoScroll() {\n                        return true;\n                    }\n                });\n                this.renderer.addClass(this.element.nativeElement, this.dragActiveClass);\n                if (this.ghostDragEnabled) {\n                    /** @type {?} */\n                    const rect = this.element.nativeElement.getBoundingClientRect();\n                    /** @type {?} */\n                    const clone = (/** @type {?} */ (this.element.nativeElement.cloneNode(true)));\n                    if (!this.showOriginalElementWhileDragging) {\n                        this.renderer.setStyle(this.element.nativeElement, 'visibility', 'hidden');\n                    }\n                    if (this.ghostElementAppendTo) {\n                        this.ghostElementAppendTo.appendChild(clone);\n                    }\n                    else {\n                        (/** @type {?} */ (this.element.nativeElement.parentNode)).insertBefore(clone, this.element.nativeElement.nextSibling);\n                    }\n                    this.ghostElement = clone;\n                    document.body.style.cursor = this.dragCursor;\n                    this.setElementStyles(clone, {\n                        position: 'fixed',\n                        top: `${rect.top}px`,\n                        left: `${rect.left}px`,\n                        width: `${rect.width}px`,\n                        height: `${rect.height}px`,\n                        cursor: this.dragCursor,\n                        margin: '0',\n                        willChange: 'transform',\n                        pointerEvents: 'none'\n                    });\n                    if (this.ghostElementTemplate) {\n                        /** @type {?} */\n                        const viewRef = this.vcr.createEmbeddedView(this.ghostElementTemplate);\n                        clone.innerHTML = '';\n                        viewRef.rootNodes\n                            .filter((/**\n                         * @param {?} node\n                         * @return {?}\n                         */\n                        node => node instanceof Node))\n                            .forEach((/**\n                         * @param {?} node\n                         * @return {?}\n                         */\n                        node => {\n                            clone.appendChild(node);\n                        }));\n                        dragEnded$.subscribe((/**\n                         * @return {?}\n                         */\n                        () => {\n                            this.vcr.remove(this.vcr.indexOf(viewRef));\n                        }));\n                    }\n                    this.zone.run((/**\n                     * @return {?}\n                     */\n                    () => {\n                        this.ghostElementCreated.emit({\n                            clientX: clientX - x,\n                            clientY: clientY - y,\n                            element: clone\n                        });\n                    }));\n                    dragEnded$.subscribe((/**\n                     * @return {?}\n                     */\n                    () => {\n                        (/** @type {?} */ (clone.parentElement)).removeChild(clone);\n                        this.ghostElement = null;\n                        this.renderer.setStyle(this.element.nativeElement, 'visibility', '');\n                    }));\n                }\n                this.draggableHelper.currentDrag.next(currentDrag$);\n            }));\n            dragEnded$\n                .pipe(mergeMap((/**\n             * @param {?} dragEndData\n             * @return {?}\n             */\n            dragEndData => {\n                /** @type {?} */\n                const dragEndData$ = cancelDrag$.pipe(count(), take(1), map((/**\n                 * @param {?} calledCount\n                 * @return {?}\n                 */\n                calledCount => (Object.assign({}, dragEndData, { dragCancelled: calledCount > 0 })))));\n                cancelDrag$.complete();\n                return dragEndData$;\n            })))\n                .subscribe((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ({ x, y, dragCancelled }) => {\n                this.scroller.destroy();\n                this.zone.run((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.dragEnd.next({ x, y, dragCancelled });\n                }));\n                this.renderer.removeClass(this.element.nativeElement, this.dragActiveClass);\n                currentDrag$.complete();\n            }));\n            /** @type {?} */\n            const selectionStart$ = new Observable((/**\n             * @param {?} observer\n             * @return {?}\n             */\n            observer => {\n                return this.renderer.listen('document', 'selectstart', (/**\n                 * @param {?} e\n                 * @return {?}\n                 */\n                e => observer.next(e)));\n            }));\n            // hack to prevent text getting selected in safari while dragging\n            selectionStart$\n                .pipe(takeUntil(merge(dragComplete$, dragEnded$)))\n                .subscribe((/**\n             * @param {?} event\n             * @return {?}\n             */\n            event => {\n                event.preventDefault();\n            }));\n            return pointerMove;\n        })), share());\n        merge(pointerDragged$.pipe(take(1), map((/**\n         * @param {?} value\n         * @return {?}\n         */\n        value => [, value]))), pointerDragged$.pipe(pairwise()))\n            .pipe(filter((/**\n         * @param {?} __0\n         * @return {?}\n         */\n        ([previous, next]) => {\n            if (!previous) {\n                return true;\n            }\n            return previous.x !== next.x || previous.y !== next.y;\n        })), map((/**\n         * @param {?} __0\n         * @return {?}\n         */\n        ([previous, next]) => next)), auditTime(0, animationFrameScheduler))\n            .subscribe((/**\n         * @param {?} __0\n         * @return {?}\n         */\n        ({ x, y, currentDrag$, clientX, clientY, transformX, transformY }) => {\n            this.zone.run((/**\n             * @return {?}\n             */\n            () => {\n                this.dragging.next({ x, y });\n            }));\n            if (this.ghostElement) {\n                /** @type {?} */\n                const transform = `translate3d(${transformX}px, ${transformY}px, 0px)`;\n                this.setElementStyles(this.ghostElement, {\n                    transform,\n                    '-webkit-transform': transform,\n                    '-ms-transform': transform,\n                    '-moz-transform': transform,\n                    '-o-transform': transform\n                });\n            }\n            currentDrag$.next({\n                clientX,\n                clientY,\n                dropData: this.dropData\n            });\n        }));\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (changes.dragAxis) {\n            this.checkEventListeners();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.unsubscribeEventListeners();\n        this.pointerDown$.complete();\n        this.pointerMove$.complete();\n        this.pointerUp$.complete();\n        this.destroy$.next();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    checkEventListeners() {\n        /** @type {?} */\n        const canDrag = this.canDrag();\n        /** @type {?} */\n        const hasEventListeners = Object.keys(this.eventListenerSubscriptions).length > 0;\n        if (canDrag && !hasEventListeners) {\n            this.zone.runOutsideAngular((/**\n             * @return {?}\n             */\n            () => {\n                this.eventListenerSubscriptions.mousedown = this.renderer.listen(this.element.nativeElement, 'mousedown', (/**\n                 * @param {?} event\n                 * @return {?}\n                 */\n                (event) => {\n                    this.onMouseDown(event);\n                }));\n                this.eventListenerSubscriptions.mouseup = this.renderer.listen('document', 'mouseup', (/**\n                 * @param {?} event\n                 * @return {?}\n                 */\n                (event) => {\n                    this.onMouseUp(event);\n                }));\n                this.eventListenerSubscriptions.touchstart = this.renderer.listen(this.element.nativeElement, 'touchstart', (/**\n                 * @param {?} event\n                 * @return {?}\n                 */\n                (event) => {\n                    this.onTouchStart(event);\n                }));\n                this.eventListenerSubscriptions.touchend = this.renderer.listen('document', 'touchend', (/**\n                 * @param {?} event\n                 * @return {?}\n                 */\n                (event) => {\n                    this.onTouchEnd(event);\n                }));\n                this.eventListenerSubscriptions.touchcancel = this.renderer.listen('document', 'touchcancel', (/**\n                 * @param {?} event\n                 * @return {?}\n                 */\n                (event) => {\n                    this.onTouchEnd(event);\n                }));\n                this.eventListenerSubscriptions.mouseenter = this.renderer.listen(this.element.nativeElement, 'mouseenter', (/**\n                 * @return {?}\n                 */\n                () => {\n                    this.onMouseEnter();\n                }));\n                this.eventListenerSubscriptions.mouseleave = this.renderer.listen(this.element.nativeElement, 'mouseleave', (/**\n                 * @return {?}\n                 */\n                () => {\n                    this.onMouseLeave();\n                }));\n            }));\n        }\n        else if (!canDrag && hasEventListeners) {\n            this.unsubscribeEventListeners();\n        }\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    onMouseDown(event) {\n        if (!this.eventListenerSubscriptions.mousemove) {\n            this.eventListenerSubscriptions.mousemove = this.renderer.listen('document', 'mousemove', (/**\n             * @param {?} mouseMoveEvent\n             * @return {?}\n             */\n            (mouseMoveEvent) => {\n                this.pointerMove$.next({\n                    event: mouseMoveEvent,\n                    clientX: mouseMoveEvent.clientX,\n                    clientY: mouseMoveEvent.clientY\n                });\n            }));\n        }\n        this.pointerDown$.next({\n            event,\n            clientX: event.clientX,\n            clientY: event.clientY\n        });\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    onMouseUp(event) {\n        if (this.eventListenerSubscriptions.mousemove) {\n            this.eventListenerSubscriptions.mousemove();\n            delete this.eventListenerSubscriptions.mousemove;\n        }\n        this.pointerUp$.next({\n            event,\n            clientX: event.clientX,\n            clientY: event.clientY\n        });\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    onTouchStart(event) {\n        if (!this.scrollContainer) {\n            try {\n                event.preventDefault();\n            }\n            catch (e) { }\n        }\n        /** @type {?} */\n        let hasContainerScrollbar;\n        /** @type {?} */\n        let startScrollPosition;\n        /** @type {?} */\n        let isDragActivated;\n        if (this.scrollContainer && this.scrollContainer.activeLongPressDrag) {\n            this.timeLongPress.timerBegin = Date.now();\n            isDragActivated = false;\n            hasContainerScrollbar = this.scrollContainer.hasScrollbar();\n            startScrollPosition = this.getScrollPosition();\n        }\n        if (!this.eventListenerSubscriptions.touchmove) {\n            this.eventListenerSubscriptions.touchmove = this.renderer.listen('document', 'touchmove', (/**\n             * @param {?} touchMoveEvent\n             * @return {?}\n             */\n            (touchMoveEvent) => {\n                if (this.scrollContainer &&\n                    this.scrollContainer.activeLongPressDrag &&\n                    !isDragActivated &&\n                    hasContainerScrollbar) {\n                    isDragActivated = this.shouldBeginDrag(event, touchMoveEvent, startScrollPosition);\n                }\n                if (!this.scrollContainer ||\n                    !this.scrollContainer.activeLongPressDrag ||\n                    !hasContainerScrollbar ||\n                    isDragActivated) {\n                    this.pointerMove$.next({\n                        event: touchMoveEvent,\n                        clientX: touchMoveEvent.targetTouches[0].clientX,\n                        clientY: touchMoveEvent.targetTouches[0].clientY\n                    });\n                }\n            }));\n        }\n        this.pointerDown$.next({\n            event,\n            clientX: event.touches[0].clientX,\n            clientY: event.touches[0].clientY\n        });\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    onTouchEnd(event) {\n        if (this.eventListenerSubscriptions.touchmove) {\n            this.eventListenerSubscriptions.touchmove();\n            delete this.eventListenerSubscriptions.touchmove;\n            if (this.scrollContainer && this.scrollContainer.activeLongPressDrag) {\n                this.scrollContainer.enableScroll();\n            }\n        }\n        this.pointerUp$.next({\n            event,\n            clientX: event.changedTouches[0].clientX,\n            clientY: event.changedTouches[0].clientY\n        });\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    onMouseEnter() {\n        this.setCursor(this.dragCursor);\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    onMouseLeave() {\n        this.setCursor('');\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    canDrag() {\n        return this.dragAxis.x || this.dragAxis.y;\n    }\n    /**\n     * @private\n     * @param {?} value\n     * @return {?}\n     */\n    setCursor(value) {\n        if (!this.eventListenerSubscriptions.mousemove) {\n            this.renderer.setStyle(this.element.nativeElement, 'cursor', value);\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    unsubscribeEventListeners() {\n        Object.keys(this.eventListenerSubscriptions).forEach((/**\n         * @param {?} type\n         * @return {?}\n         */\n        type => {\n            ((/** @type {?} */ (this))).eventListenerSubscriptions[type]();\n            delete ((/** @type {?} */ (this))).eventListenerSubscriptions[type];\n        }));\n    }\n    /**\n     * @private\n     * @param {?} element\n     * @param {?} styles\n     * @return {?}\n     */\n    setElementStyles(element, styles) {\n        Object.keys(styles).forEach((/**\n         * @param {?} key\n         * @return {?}\n         */\n        key => {\n            this.renderer.setStyle(element, key, styles[key]);\n        }));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getScrollPosition() {\n        if (this.scrollContainer) {\n            return {\n                top: this.scrollContainer.elementRef.nativeElement.scrollTop,\n                left: this.scrollContainer.elementRef.nativeElement.scrollLeft\n            };\n        }\n        else {\n            return {\n                top: window.pageYOffset || document.documentElement.scrollTop,\n                left: window.pageXOffset || document.documentElement.scrollLeft\n            };\n        }\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @param {?} touchMoveEvent\n     * @param {?} startScrollPosition\n     * @return {?}\n     */\n    shouldBeginDrag(event, touchMoveEvent, startScrollPosition) {\n        /** @type {?} */\n        const moveScrollPosition = this.getScrollPosition();\n        /** @type {?} */\n        const deltaScroll = {\n            top: Math.abs(moveScrollPosition.top - startScrollPosition.top),\n            left: Math.abs(moveScrollPosition.left - startScrollPosition.left)\n        };\n        /** @type {?} */\n        const deltaX = Math.abs(touchMoveEvent.targetTouches[0].clientX - event.touches[0].clientX) - deltaScroll.left;\n        /** @type {?} */\n        const deltaY = Math.abs(touchMoveEvent.targetTouches[0].clientY - event.touches[0].clientY) - deltaScroll.top;\n        /** @type {?} */\n        const deltaTotal = deltaX + deltaY;\n        if (deltaTotal > this.scrollContainer.longPressConfig.delta ||\n            deltaScroll.top > 0 ||\n            deltaScroll.left > 0) {\n            this.timeLongPress.timerBegin = Date.now();\n        }\n        this.timeLongPress.timerEnd = Date.now();\n        /** @type {?} */\n        const duration = this.timeLongPress.timerEnd - this.timeLongPress.timerBegin;\n        if (duration >= this.scrollContainer.longPressConfig.duration) {\n            this.scrollContainer.disableScroll();\n            return true;\n        }\n        return false;\n    }\n}\nDraggableDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlDraggable]'\n            },] }\n];\n/** @nocollapse */\nDraggableDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Renderer2 },\n    { type: DraggableHelper },\n    { type: NgZone },\n    { type: ViewContainerRef },\n    { type: DraggableScrollContainerDirective, decorators: [{ type: Optional }] },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\n];\nDraggableDirective.propDecorators = {\n    dropData: [{ type: Input }],\n    dragAxis: [{ type: Input }],\n    dragSnapGrid: [{ type: Input }],\n    ghostDragEnabled: [{ type: Input }],\n    showOriginalElementWhileDragging: [{ type: Input }],\n    validateDrag: [{ type: Input }],\n    dragCursor: [{ type: Input }],\n    dragActiveClass: [{ type: Input }],\n    ghostElementAppendTo: [{ type: Input }],\n    ghostElementTemplate: [{ type: Input }],\n    dragPointerDown: [{ type: Output }],\n    dragStart: [{ type: Output }],\n    ghostElementCreated: [{ type: Output }],\n    dragging: [{ type: Output }],\n    dragEnd: [{ type: Output }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} clientX\n * @param {?} clientY\n * @param {?} rect\n * @return {?}\n */\nfunction isCoordinateWithinRectangle(clientX, clientY, rect) {\n    return (clientX >= rect.left &&\n        clientX <= rect.right &&\n        clientY >= rect.top &&\n        clientY <= rect.bottom);\n}\nclass DroppableDirective {\n    /**\n     * @param {?} element\n     * @param {?} draggableHelper\n     * @param {?} zone\n     * @param {?} renderer\n     * @param {?} scrollContainer\n     */\n    constructor(element, draggableHelper, zone, renderer, scrollContainer) {\n        this.element = element;\n        this.draggableHelper = draggableHelper;\n        this.zone = zone;\n        this.renderer = renderer;\n        this.scrollContainer = scrollContainer;\n        /**\n         * Called when a draggable element starts overlapping the element\n         */\n        this.dragEnter = new EventEmitter();\n        /**\n         * Called when a draggable element stops overlapping the element\n         */\n        this.dragLeave = new EventEmitter();\n        /**\n         * Called when a draggable element is moved over the element\n         */\n        this.dragOver = new EventEmitter();\n        /**\n         * Called when a draggable element is dropped on this element\n         */\n        this.drop = new EventEmitter(); // tslint:disable-line no-output-named-after-standard-event\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.currentDragSubscription = this.draggableHelper.currentDrag.subscribe((/**\n         * @param {?} drag$\n         * @return {?}\n         */\n        drag$ => {\n            this.renderer.addClass(this.element.nativeElement, this.dragActiveClass);\n            /** @type {?} */\n            const droppableElement = {\n                updateCache: true\n            };\n            /** @type {?} */\n            const deregisterScrollListener = this.renderer.listen(this.scrollContainer\n                ? this.scrollContainer.elementRef.nativeElement\n                : 'window', 'scroll', (/**\n             * @return {?}\n             */\n            () => {\n                droppableElement.updateCache = true;\n            }));\n            /** @type {?} */\n            let currentDragDropData;\n            /** @type {?} */\n            const overlaps$ = drag$.pipe(map((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ({ clientX, clientY, dropData }) => {\n                currentDragDropData = dropData;\n                if (droppableElement.updateCache) {\n                    droppableElement.rect = this.element.nativeElement.getBoundingClientRect();\n                    if (this.scrollContainer) {\n                        droppableElement.scrollContainerRect = this.scrollContainer.elementRef.nativeElement.getBoundingClientRect();\n                    }\n                    droppableElement.updateCache = false;\n                }\n                /** @type {?} */\n                const isWithinElement = isCoordinateWithinRectangle(clientX, clientY, (/** @type {?} */ (droppableElement.rect)));\n                if (droppableElement.scrollContainerRect) {\n                    return (isWithinElement &&\n                        isCoordinateWithinRectangle(clientX, clientY, (/** @type {?} */ (droppableElement.scrollContainerRect))));\n                }\n                else {\n                    return isWithinElement;\n                }\n            })));\n            /** @type {?} */\n            const overlapsChanged$ = overlaps$.pipe(distinctUntilChanged());\n            /** @type {?} */\n            let dragOverActive;\n            overlapsChanged$\n                .pipe(filter((/**\n             * @param {?} overlapsNow\n             * @return {?}\n             */\n            overlapsNow => overlapsNow)))\n                .subscribe((/**\n             * @return {?}\n             */\n            () => {\n                dragOverActive = true;\n                this.renderer.addClass(this.element.nativeElement, this.dragOverClass);\n                this.zone.run((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.dragEnter.next({\n                        dropData: currentDragDropData\n                    });\n                }));\n            }));\n            overlaps$.pipe(filter((/**\n             * @param {?} overlapsNow\n             * @return {?}\n             */\n            overlapsNow => overlapsNow))).subscribe((/**\n             * @return {?}\n             */\n            () => {\n                this.zone.run((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.dragOver.next({\n                        dropData: currentDragDropData\n                    });\n                }));\n            }));\n            overlapsChanged$\n                .pipe(pairwise(), filter((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ([didOverlap, overlapsNow]) => didOverlap && !overlapsNow)))\n                .subscribe((/**\n             * @return {?}\n             */\n            () => {\n                dragOverActive = false;\n                this.renderer.removeClass(this.element.nativeElement, this.dragOverClass);\n                this.zone.run((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.dragLeave.next({\n                        dropData: currentDragDropData\n                    });\n                }));\n            }));\n            drag$.subscribe({\n                complete: (/**\n                 * @return {?}\n                 */\n                () => {\n                    deregisterScrollListener();\n                    this.renderer.removeClass(this.element.nativeElement, this.dragActiveClass);\n                    if (dragOverActive) {\n                        this.renderer.removeClass(this.element.nativeElement, this.dragOverClass);\n                        this.zone.run((/**\n                         * @return {?}\n                         */\n                        () => {\n                            this.drop.next({\n                                dropData: currentDragDropData\n                            });\n                        }));\n                    }\n                })\n            });\n        }));\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        if (this.currentDragSubscription) {\n            this.currentDragSubscription.unsubscribe();\n        }\n    }\n}\nDroppableDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlDroppable]'\n            },] }\n];\n/** @nocollapse */\nDroppableDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: DraggableHelper },\n    { type: NgZone },\n    { type: Renderer2 },\n    { type: DraggableScrollContainerDirective, decorators: [{ type: Optional }] }\n];\nDroppableDirective.propDecorators = {\n    dragOverClass: [{ type: Input }],\n    dragActiveClass: [{ type: Input }],\n    dragEnter: [{ type: Output }],\n    dragLeave: [{ type: Output }],\n    dragOver: [{ type: Output }],\n    drop: [{ type: Output }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass DragAndDropModule {\n}\nDragAndDropModule.decorators = [\n    { type: NgModule, args: [{\n                declarations: [\n                    DraggableDirective,\n                    DroppableDirective,\n                    DraggableScrollContainerDirective\n                ],\n                exports: [\n                    DraggableDirective,\n                    DroppableDirective,\n                    DraggableScrollContainerDirective\n                ]\n            },] }\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { DragAndDropModule, DraggableHelper as ɵc, DraggableScrollContainerDirective as ɵd, DraggableDirective as ɵb, DroppableDirective as ɵa };\n\n//# sourceMappingURL=angular-draggable-droppable.js.map","\n/**\n * isArray\n */\n\nvar isArray = Array.isArray;\n\n/**\n * toString\n */\n\nvar str = Object.prototype.toString;\n\n/**\n * Whether or not the given `val`\n * is an array.\n *\n * example:\n *\n *        isArray([]);\n *        // > true\n *        isArray(arguments);\n *        // > false\n *        isArray('');\n *        // > false\n *\n * @param {mixed} val\n * @return {bool}\n */\n\nmodule.exports = isArray || function (val) {\n  return !! val && '[object Array]' == str.call(val);\n};\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar arrayFrom = _interopDefault(require('array-from'));\nvar isArray = _interopDefault(require('is-array'));\nvar isElement = _interopDefault(require('iselement'));\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\n/**\n * Returns `true` if provided input is Element.\n * @name isElement\n * @param {*} [input]\n * @returns {boolean}\n */\nvar isElement$1 = function (input) {\n  return input != null && (typeof input === 'undefined' ? 'undefined' : _typeof(input)) === 'object' && input.nodeType === 1 && _typeof(input.style) === 'object' && _typeof(input.ownerDocument) === 'object';\n};\n\nfunction select(selector){\n    if(typeof selector === 'string'){\n        try{\n            return document.querySelector(selector);\n        }catch(e){\n            throw e;\n        }\n    }else if(isElement(selector)){\n        return selector;\n    }\n}\n\nfunction selectAll(selector){\n    if(typeof selector === 'string'){\n        return Array.prototype.slice.apply(\n            document.querySelectorAll(selector)\n        );\n    }else if(isArray(selector)){\n        return selector.map(select);\n    }else if('length' in selector){\n        return arrayFrom(selector).map(select);\n    }\n}\n\nfunction indexOfElement(elements, element){\n    element = resolveElement(element, true);\n    if(!isElement$1(element)) { return -1; }\n    for(var i=0; i<elements.length; i++){\n        if(elements[i] === element){\n            return i;\n        }\n    }\n    return -1;\n}\n\nfunction hasElement(elements, element){\n    return -1 !== indexOfElement(elements, element);\n}\n\nfunction domListOf(arr){\n\n    if(!arr) { return []; }\n\n    try{\n        if(typeof arr === 'string'){\n            return arrayFrom(document.querySelectorAll(arr));\n        }else if(isArray(arr)){\n            return arr.map(resolveElement);\n        }else{\n            if(typeof arr.length === 'undefined'){\n                return [resolveElement(arr)];\n            }\n\n            return arrayFrom(arr, resolveElement);\n\n        }\n    }catch(e){\n        throw new Error(e);\n    }\n\n}\n\nfunction concatElementLists(){\n    var lists = [], len = arguments.length;\n    while ( len-- ) lists[ len ] = arguments[ len ];\n\n    return lists.reduce(function (last, list){\n        return list.length ? last : last.concat(domListOf(list));\n    }, []);\n}\n\nfunction pushElements(elements, toAdd){\n\n    for(var i=0; i<toAdd.length; i++){\n        if(!hasElement(elements, toAdd[i]))\n            { elements.push(toAdd[i]); }\n    }\n\n    return toAdd;\n}\n\nfunction addElements(elements){\n    var toAdd = [], len = arguments.length - 1;\n    while ( len-- > 0 ) toAdd[ len ] = arguments[ len + 1 ];\n\n    toAdd = toAdd.map(resolveElement);\n    return pushElements(elements, toAdd);\n}\n\nfunction removeElements(elements){\n    var toRemove = [], len = arguments.length - 1;\n    while ( len-- > 0 ) toRemove[ len ] = arguments[ len + 1 ];\n\n    return toRemove.map(resolveElement).reduce(function (last, e){\n\n        var index = indexOfElement(elements, e);\n\n        if(index !== -1)\n            { return last.concat(elements.splice(index, 1)); }\n        return last;\n    }, []);\n}\n\nfunction resolveElement(element, noThrow){\n    if(typeof element === 'string'){\n        try{\n            return document.querySelector(element);\n        }catch(e){\n            throw e;\n        }\n\n    }\n\n    if(!isElement$1(element) && !noThrow){\n        throw new TypeError((element + \" is not a DOM element.\"));\n    }\n    return element;\n}\n\nexports.indexOfElement = indexOfElement;\nexports.hasElement = hasElement;\nexports.domListOf = domListOf;\nexports.concatElementLists = concatElementLists;\nexports.addElements = addElements;\nexports.removeElements = removeElements;\nexports.resolveElement = resolveElement;\nexports.select = select;\nexports.selectAll = selectAll;\n//# sourceMappingURL=bundle.js.map\n","// previous version:\n// https://github.com/angular-ui/bootstrap/blob/07c31d0731f7cb068a1932b8e01d2312b796b4ec/src/position/position.js\nvar Positioning = /** @class */ (function () {\n    function Positioning() {\n    }\n    Positioning.prototype.getAllStyles = function (element) { return window.getComputedStyle(element); };\n    Positioning.prototype.getStyle = function (element, prop) { return this.getAllStyles(element)[prop]; };\n    Positioning.prototype.isStaticPositioned = function (element) {\n        return (this.getStyle(element, 'position') || 'static') === 'static';\n    };\n    Positioning.prototype.offsetParent = function (element) {\n        var offsetParentEl = element.offsetParent || document.documentElement;\n        while (offsetParentEl && offsetParentEl !== document.documentElement && this.isStaticPositioned(offsetParentEl)) {\n            offsetParentEl = offsetParentEl.offsetParent;\n        }\n        return offsetParentEl || document.documentElement;\n    };\n    Positioning.prototype.position = function (element, round) {\n        if (round === void 0) { round = true; }\n        var elPosition;\n        var parentOffset = { width: 0, height: 0, top: 0, bottom: 0, left: 0, right: 0 };\n        if (this.getStyle(element, 'position') === 'fixed') {\n            elPosition = element.getBoundingClientRect();\n            elPosition = {\n                top: elPosition.top,\n                bottom: elPosition.bottom,\n                left: elPosition.left,\n                right: elPosition.right,\n                height: elPosition.height,\n                width: elPosition.width\n            };\n        }\n        else {\n            var offsetParentEl = this.offsetParent(element);\n            elPosition = this.offset(element, false);\n            if (offsetParentEl !== document.documentElement) {\n                parentOffset = this.offset(offsetParentEl, false);\n            }\n            parentOffset.top += offsetParentEl.clientTop;\n            parentOffset.left += offsetParentEl.clientLeft;\n        }\n        elPosition.top -= parentOffset.top;\n        elPosition.bottom -= parentOffset.top;\n        elPosition.left -= parentOffset.left;\n        elPosition.right -= parentOffset.left;\n        if (round) {\n            elPosition.top = Math.round(elPosition.top);\n            elPosition.bottom = Math.round(elPosition.bottom);\n            elPosition.left = Math.round(elPosition.left);\n            elPosition.right = Math.round(elPosition.right);\n        }\n        return elPosition;\n    };\n    Positioning.prototype.offset = function (element, round) {\n        if (round === void 0) { round = true; }\n        var elBcr = element.getBoundingClientRect();\n        var viewportOffset = {\n            top: window.pageYOffset - document.documentElement.clientTop,\n            left: window.pageXOffset - document.documentElement.clientLeft\n        };\n        var elOffset = {\n            height: elBcr.height || element.offsetHeight,\n            width: elBcr.width || element.offsetWidth,\n            top: elBcr.top + viewportOffset.top,\n            bottom: elBcr.bottom + viewportOffset.top,\n            left: elBcr.left + viewportOffset.left,\n            right: elBcr.right + viewportOffset.left\n        };\n        if (round) {\n            elOffset.height = Math.round(elOffset.height);\n            elOffset.width = Math.round(elOffset.width);\n            elOffset.top = Math.round(elOffset.top);\n            elOffset.bottom = Math.round(elOffset.bottom);\n            elOffset.left = Math.round(elOffset.left);\n            elOffset.right = Math.round(elOffset.right);\n        }\n        return elOffset;\n    };\n    /*\n      Return false if the element to position is outside the viewport\n    */\n    Positioning.prototype.positionElements = function (hostElement, targetElement, placement, appendToBody) {\n        var _a = placement.split('-'), _b = _a[0], placementPrimary = _b === void 0 ? 'top' : _b, _c = _a[1], placementSecondary = _c === void 0 ? 'center' : _c;\n        var hostElPosition = appendToBody ? this.offset(hostElement, false) : this.position(hostElement, false);\n        var targetElStyles = this.getAllStyles(targetElement);\n        var marginTop = parseFloat(targetElStyles.marginTop);\n        var marginBottom = parseFloat(targetElStyles.marginBottom);\n        var marginLeft = parseFloat(targetElStyles.marginLeft);\n        var marginRight = parseFloat(targetElStyles.marginRight);\n        var topPosition = 0;\n        var leftPosition = 0;\n        switch (placementPrimary) {\n            case 'top':\n                topPosition = (hostElPosition.top - (targetElement.offsetHeight + marginTop + marginBottom));\n                break;\n            case 'bottom':\n                topPosition = (hostElPosition.top + hostElPosition.height);\n                break;\n            case 'left':\n                leftPosition = (hostElPosition.left - (targetElement.offsetWidth + marginLeft + marginRight));\n                break;\n            case 'right':\n                leftPosition = (hostElPosition.left + hostElPosition.width);\n                break;\n        }\n        switch (placementSecondary) {\n            case 'top':\n                topPosition = hostElPosition.top;\n                break;\n            case 'bottom':\n                topPosition = hostElPosition.top + hostElPosition.height - targetElement.offsetHeight;\n                break;\n            case 'left':\n                leftPosition = hostElPosition.left;\n                break;\n            case 'right':\n                leftPosition = hostElPosition.left + hostElPosition.width - targetElement.offsetWidth;\n                break;\n            case 'center':\n                if (placementPrimary === 'top' || placementPrimary === 'bottom') {\n                    leftPosition = (hostElPosition.left + hostElPosition.width / 2 - targetElement.offsetWidth / 2);\n                }\n                else {\n                    topPosition = (hostElPosition.top + hostElPosition.height / 2 - targetElement.offsetHeight / 2);\n                }\n                break;\n        }\n        /// The translate3d/gpu acceleration render a blurry text on chrome, the next line is commented until a browser fix\n        // targetElement.style.transform = `translate3d(${Math.round(leftPosition)}px, ${Math.floor(topPosition)}px, 0px)`;\n        targetElement.style.transform = \"translate(\" + Math.round(leftPosition) + \"px, \" + Math.round(topPosition) + \"px)\";\n        // Check if the targetElement is inside the viewport\n        var targetElBCR = targetElement.getBoundingClientRect();\n        var html = document.documentElement;\n        var windowHeight = window.innerHeight || html.clientHeight;\n        var windowWidth = window.innerWidth || html.clientWidth;\n        return targetElBCR.left >= 0 && targetElBCR.top >= 0 && targetElBCR.right <= windowWidth &&\n            targetElBCR.bottom <= windowHeight;\n    };\n    return Positioning;\n}());\nexport { Positioning };\nvar placementSeparator = /\\s+/;\nvar positionService = new Positioning();\n/*\n * Accept the placement array and applies the appropriate placement dependent on the viewport.\n * Returns the applied placement.\n * In case of auto placement, placements are selected in order\n *   'top', 'bottom', 'left', 'right',\n *   'top-left', 'top-right',\n *   'bottom-left', 'bottom-right',\n *   'left-top', 'left-bottom',\n *   'right-top', 'right-bottom'.\n * */\nexport function positionElements(hostElement, targetElement, placement, appendToBody, baseClass) {\n    var placementVals = Array.isArray(placement) ? placement : placement.split(placementSeparator);\n    var allowedPlacements = [\n        'top', 'bottom', 'left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right', 'left-top', 'left-bottom',\n        'right-top', 'right-bottom'\n    ];\n    var classList = targetElement.classList;\n    var addClassesToTarget = function (targetPlacement) {\n        var _a = targetPlacement.split('-'), primary = _a[0], secondary = _a[1];\n        var classes = [];\n        if (baseClass) {\n            classes.push(baseClass + \"-\" + primary);\n            if (secondary) {\n                classes.push(baseClass + \"-\" + primary + \"-\" + secondary);\n            }\n            classes.forEach(function (classname) { classList.add(classname); });\n        }\n        return classes;\n    };\n    // Remove old placement classes to avoid issues\n    if (baseClass) {\n        allowedPlacements.forEach(function (placementToRemove) { classList.remove(baseClass + \"-\" + placementToRemove); });\n    }\n    // replace auto placement with other placements\n    var hasAuto = placementVals.findIndex(function (val) { return val === 'auto'; });\n    if (hasAuto >= 0) {\n        allowedPlacements.forEach(function (obj) {\n            if (placementVals.find(function (val) { return val.search('^' + obj) !== -1; }) == null) {\n                placementVals.splice(hasAuto++, 1, obj);\n            }\n        });\n    }\n    // coordinates where to position\n    // Required for transform:\n    var style = targetElement.style;\n    style.position = 'absolute';\n    style.top = '0';\n    style.left = '0';\n    style['will-change'] = 'transform';\n    var testPlacement;\n    var isInViewport = false;\n    for (var _i = 0, placementVals_1 = placementVals; _i < placementVals_1.length; _i++) {\n        testPlacement = placementVals_1[_i];\n        var addedClasses = addClassesToTarget(testPlacement);\n        if (positionService.positionElements(hostElement, targetElement, testPlacement, appendToBody)) {\n            isInViewport = true;\n            break;\n        }\n        // Remove the baseClasses for further calculation\n        if (baseClass) {\n            addedClasses.forEach(function (classname) { classList.remove(classname); });\n        }\n    }\n    if (!isInViewport) {\n        // If nothing match, the first placement is the default one\n        testPlacement = placementVals[0];\n        addClassesToTarget(testPlacement);\n        positionService.positionElements(hostElement, targetElement, testPlacement, appendToBody);\n    }\n    return testPlacement;\n}\n//# sourceMappingURL=positioning.js.map","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n(function (factory) {\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\n        var v = factory(null, exports);\n        if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === \"function\" && define.amd) {\n        define(\"@angular/common/locales/es-BO\", [\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    // THIS CODE IS GENERATED - DO NOT MODIFY\n    // See angular/tools/gulp-tasks/cldr/extract.js\n    var u = undefined;\n    function plural(n) {\n        if (n === 1)\n            return 1;\n        return 5;\n    }\n    exports.default = [\n        'es-BO',\n        [['a. m.', 'p. m.'], u, u],\n        u,\n        [\n            ['d', 'l', 'm', 'm', 'j', 'v', 's'], ['dom.', 'lun.', 'mar.', 'mié.', 'jue.', 'vie.', 'sáb.'],\n            ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],\n            ['DO', 'LU', 'MA', 'MI', 'JU', 'VI', 'SA']\n        ],\n        [\n            ['D', 'L', 'M', 'M', 'J', 'V', 'S'], ['dom.', 'lun.', 'mar.', 'mié.', 'jue.', 'vie.', 'sáb.'],\n            ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],\n            ['DO', 'LU', 'MA', 'MI', 'JU', 'VI', 'SA']\n        ],\n        [\n            ['E', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n            [\n                'ene.', 'feb.', 'mar.', 'abr.', 'may.', 'jun.', 'jul.', 'ago.', 'sep.', 'oct.', 'nov.', 'dic.'\n            ],\n            [\n                'enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre',\n                'octubre', 'noviembre', 'diciembre'\n            ]\n        ],\n        u,\n        [['a. C.', 'd. C.'], u, ['antes de Cristo', 'después de Cristo']],\n        1,\n        [6, 0],\n        ['d/M/yy', 'd MMM \\'de\\' y', 'd \\'de\\' MMMM \\'de\\' y', 'EEEE, d \\'de\\' MMMM \\'de\\' y'],\n        ['HH:mm', 'HH:mm:ss', 'HH:mm:ss z', 'HH:mm:ss zzzz'],\n        ['{1} {0}', u, '{1} \\'a\\' \\'las\\' {0}', u],\n        [',', '.', ';', '%', '+', '-', 'E', '×', '‰', '∞', 'NaN', ':'],\n        ['#,##0.###', '#,##0 %', '¤#,##0.00', '#E0'],\n        'BOB',\n        'Bs',\n        'boliviano',\n        {\n            'AUD': [u, '$'],\n            'BOB': ['Bs'],\n            'BRL': [u, 'R$'],\n            'CAD': [u, '$'],\n            'CNY': [u, '¥'],\n            'ESP': ['₧'],\n            'EUR': [u, '€'],\n            'FKP': [u, 'FK£'],\n            'GBP': [u, '£'],\n            'HKD': [u, '$'],\n            'ILS': [u, '₪'],\n            'INR': [u, '₹'],\n            'JPY': [u, '¥'],\n            'KRW': [u, '₩'],\n            'MXN': [u, '$'],\n            'NZD': [u, '$'],\n            'RON': [u, 'L'],\n            'SSP': [u, 'SD£'],\n            'SYP': [u, 'S£'],\n            'TWD': [u, 'NT$'],\n            'USD': [u, '$'],\n            'VEF': [u, 'BsF'],\n            'VND': [u, '₫'],\n            'XAF': [],\n            'XCD': [u, '$'],\n            'XOF': []\n        },\n        'ltr',\n        plural\n    ];\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXMtQk8uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9jb21tb24vbG9jYWxlcy9lcy1CTy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7Ozs7Ozs7Ozs7OztJQUVILHlDQUF5QztJQUN6QywrQ0FBK0M7SUFFL0MsSUFBTSxDQUFDLEdBQUcsU0FBUyxDQUFDO0lBRXBCLFNBQVMsTUFBTSxDQUFDLENBQVM7UUFDdkIsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3RCLE9BQU8sQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUVELGtCQUFlO1FBQ2IsT0FBTztRQUNQLENBQUMsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMxQixDQUFDO1FBQ0Q7WUFDRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDO1lBQzdGLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDO1lBQzFFLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDO1NBQzNDO1FBQ0Q7WUFDRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDO1lBQzdGLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDO1lBQzFFLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDO1NBQzNDO1FBQ0Q7WUFDRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO1lBQzVEO2dCQUNFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTTthQUMvRjtZQUNEO2dCQUNFLE9BQU8sRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsWUFBWTtnQkFDdEYsU0FBUyxFQUFFLFdBQVcsRUFBRSxXQUFXO2FBQ3BDO1NBQ0Y7UUFDRCxDQUFDO1FBQ0QsQ0FBQyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1FBQ2pFLENBQUM7UUFDRCxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDTixDQUFDLFFBQVEsRUFBRSxnQkFBZ0IsRUFBRSx3QkFBd0IsRUFBRSw4QkFBOEIsQ0FBQztRQUN0RixDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLGVBQWUsQ0FBQztRQUNwRCxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsdUJBQXVCLEVBQUUsQ0FBQyxDQUFDO1FBQzFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUM7UUFDOUQsQ0FBQyxXQUFXLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxLQUFLLENBQUM7UUFDNUMsS0FBSztRQUNMLElBQUk7UUFDSixXQUFXO1FBQ1g7WUFDRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO1lBQ2YsS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDO1lBQ2IsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQztZQUNoQixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO1lBQ2YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztZQUNmLEtBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQztZQUNaLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDO1lBQ2pCLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO1lBQ2YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztZQUNmLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO1lBQ2YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztZQUNmLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO1lBQ2YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztZQUNmLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUM7WUFDakIsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQztZQUNoQixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDO1lBQ2pCLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDO1lBQ2pCLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsRUFBRTtZQUNULEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsRUFBRTtTQUNWO1FBQ0QsS0FBSztRQUNMLE1BQU07S0FDUCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8vIFRISVMgQ09ERSBJUyBHRU5FUkFURUQgLSBETyBOT1QgTU9ESUZZXG4vLyBTZWUgYW5ndWxhci90b29scy9ndWxwLXRhc2tzL2NsZHIvZXh0cmFjdC5qc1xuXG5jb25zdCB1ID0gdW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBwbHVyYWwobjogbnVtYmVyKTogbnVtYmVyIHtcbiAgaWYgKG4gPT09IDEpIHJldHVybiAxO1xuICByZXR1cm4gNTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgW1xuICAnZXMtQk8nLFxuICBbWydhLsKgbS4nLCAncC7CoG0uJ10sIHUsIHVdLFxuICB1LFxuICBbXG4gICAgWydkJywgJ2wnLCAnbScsICdtJywgJ2onLCAndicsICdzJ10sIFsnZG9tLicsICdsdW4uJywgJ21hci4nLCAnbWnDqS4nLCAnanVlLicsICd2aWUuJywgJ3PDoWIuJ10sXG4gICAgWydkb21pbmdvJywgJ2x1bmVzJywgJ21hcnRlcycsICdtacOpcmNvbGVzJywgJ2p1ZXZlcycsICd2aWVybmVzJywgJ3PDoWJhZG8nXSxcbiAgICBbJ0RPJywgJ0xVJywgJ01BJywgJ01JJywgJ0pVJywgJ1ZJJywgJ1NBJ11cbiAgXSxcbiAgW1xuICAgIFsnRCcsICdMJywgJ00nLCAnTScsICdKJywgJ1YnLCAnUyddLCBbJ2RvbS4nLCAnbHVuLicsICdtYXIuJywgJ21pw6kuJywgJ2p1ZS4nLCAndmllLicsICdzw6FiLiddLFxuICAgIFsnZG9taW5nbycsICdsdW5lcycsICdtYXJ0ZXMnLCAnbWnDqXJjb2xlcycsICdqdWV2ZXMnLCAndmllcm5lcycsICdzw6FiYWRvJ10sXG4gICAgWydETycsICdMVScsICdNQScsICdNSScsICdKVScsICdWSScsICdTQSddXG4gIF0sXG4gIFtcbiAgICBbJ0UnLCAnRicsICdNJywgJ0EnLCAnTScsICdKJywgJ0onLCAnQScsICdTJywgJ08nLCAnTicsICdEJ10sXG4gICAgW1xuICAgICAgJ2VuZS4nLCAnZmViLicsICdtYXIuJywgJ2Fici4nLCAnbWF5LicsICdqdW4uJywgJ2p1bC4nLCAnYWdvLicsICdzZXAuJywgJ29jdC4nLCAnbm92LicsICdkaWMuJ1xuICAgIF0sXG4gICAgW1xuICAgICAgJ2VuZXJvJywgJ2ZlYnJlcm8nLCAnbWFyem8nLCAnYWJyaWwnLCAnbWF5bycsICdqdW5pbycsICdqdWxpbycsICdhZ29zdG8nLCAnc2VwdGllbWJyZScsXG4gICAgICAnb2N0dWJyZScsICdub3ZpZW1icmUnLCAnZGljaWVtYnJlJ1xuICAgIF1cbiAgXSxcbiAgdSxcbiAgW1snYS4gQy4nLCAnZC4gQy4nXSwgdSwgWydhbnRlcyBkZSBDcmlzdG8nLCAnZGVzcHXDqXMgZGUgQ3Jpc3RvJ11dLFxuICAxLFxuICBbNiwgMF0sXG4gIFsnZC9NL3l5JywgJ2QgTU1NIFxcJ2RlXFwnIHknLCAnZCBcXCdkZVxcJyBNTU1NIFxcJ2RlXFwnIHknLCAnRUVFRSwgZCBcXCdkZVxcJyBNTU1NIFxcJ2RlXFwnIHknXSxcbiAgWydISDptbScsICdISDptbTpzcycsICdISDptbTpzcyB6JywgJ0hIOm1tOnNzIHp6enonXSxcbiAgWyd7MX0gezB9JywgdSwgJ3sxfSBcXCdhXFwnIFxcJ2xhc1xcJyB7MH0nLCB1XSxcbiAgWycsJywgJy4nLCAnOycsICclJywgJysnLCAnLScsICdFJywgJ8OXJywgJ+KAsCcsICfiiJ4nLCAnTmFOJywgJzonXSxcbiAgWycjLCMjMC4jIyMnLCAnIywjIzDCoCUnLCAnwqQjLCMjMC4wMCcsICcjRTAnXSxcbiAgJ0JPQicsXG4gICdCcycsXG4gICdib2xpdmlhbm8nLFxuICB7XG4gICAgJ0FVRCc6IFt1LCAnJCddLFxuICAgICdCT0InOiBbJ0JzJ10sXG4gICAgJ0JSTCc6IFt1LCAnUiQnXSxcbiAgICAnQ0FEJzogW3UsICckJ10sXG4gICAgJ0NOWSc6IFt1LCAnwqUnXSxcbiAgICAnRVNQJzogWyfigqcnXSxcbiAgICAnRVVSJzogW3UsICfigqwnXSxcbiAgICAnRktQJzogW3UsICdGS8KjJ10sXG4gICAgJ0dCUCc6IFt1LCAnwqMnXSxcbiAgICAnSEtEJzogW3UsICckJ10sXG4gICAgJ0lMUyc6IFt1LCAn4oKqJ10sXG4gICAgJ0lOUic6IFt1LCAn4oK5J10sXG4gICAgJ0pQWSc6IFt1LCAnwqUnXSxcbiAgICAnS1JXJzogW3UsICfigqknXSxcbiAgICAnTVhOJzogW3UsICckJ10sXG4gICAgJ05aRCc6IFt1LCAnJCddLFxuICAgICdST04nOiBbdSwgJ0wnXSxcbiAgICAnU1NQJzogW3UsICdTRMKjJ10sXG4gICAgJ1NZUCc6IFt1LCAnU8KjJ10sXG4gICAgJ1RXRCc6IFt1LCAnTlQkJ10sXG4gICAgJ1VTRCc6IFt1LCAnJCddLFxuICAgICdWRUYnOiBbdSwgJ0JzRiddLFxuICAgICdWTkQnOiBbdSwgJ+KCqyddLFxuICAgICdYQUYnOiBbXSxcbiAgICAnWENEJzogW3UsICckJ10sXG4gICAgJ1hPRic6IFtdXG4gIH0sXG4gICdsdHInLFxuICBwbHVyYWxcbl07XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar date_fns_1 = require(\"date-fns\");\nfunction adapterFactory() {\n    return {\n        addDays: date_fns_1.addDays,\n        addHours: date_fns_1.addHours,\n        addMinutes: date_fns_1.addMinutes,\n        addSeconds: date_fns_1.addSeconds,\n        differenceInDays: date_fns_1.differenceInDays,\n        differenceInMinutes: date_fns_1.differenceInMinutes,\n        differenceInSeconds: date_fns_1.differenceInSeconds,\n        endOfDay: date_fns_1.endOfDay,\n        endOfMonth: date_fns_1.endOfMonth,\n        endOfWeek: date_fns_1.endOfWeek,\n        getDay: date_fns_1.getDay,\n        getMonth: date_fns_1.getMonth,\n        isSameDay: date_fns_1.isSameDay,\n        isSameMonth: date_fns_1.isSameMonth,\n        isSameSecond: date_fns_1.isSameSecond,\n        max: date_fns_1.max,\n        setHours: date_fns_1.setHours,\n        setMinutes: date_fns_1.setMinutes,\n        startOfDay: date_fns_1.startOfDay,\n        startOfMinute: date_fns_1.startOfMinute,\n        startOfMonth: date_fns_1.startOfMonth,\n        startOfWeek: date_fns_1.startOfWeek,\n        getHours: date_fns_1.getHours,\n        getMinutes: date_fns_1.getMinutes\n    };\n}\nexports.adapterFactory = adapterFactory;\n//# sourceMappingURL=index.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar prefix = ['webkit', 'moz', 'ms', 'o'];\n\nvar requestAnimationFrame = exports.requestAnimationFrame = function () {\n\n  for (var i = 0, limit = prefix.length; i < limit && !window.requestAnimationFrame; ++i) {\n    window.requestAnimationFrame = window[prefix[i] + 'RequestAnimationFrame'];\n  }\n\n  if (!window.requestAnimationFrame) {\n    (function () {\n      var lastTime = 0;\n\n      window.requestAnimationFrame = function (callback) {\n        var now = new Date().getTime();\n        var ttc = Math.max(0, 16 - now - lastTime);\n        var timer = window.setTimeout(function () {\n          return callback(now + ttc);\n        }, ttc);\n\n        lastTime = now + ttc;\n\n        return timer;\n      };\n    })();\n  }\n\n  return window.requestAnimationFrame.bind(window);\n}();\n\nvar cancelAnimationFrame = exports.cancelAnimationFrame = function () {\n\n  for (var i = 0, limit = prefix.length; i < limit && !window.cancelAnimationFrame; ++i) {\n    window.cancelAnimationFrame = window[prefix[i] + 'CancelAnimationFrame'] || window[prefix[i] + 'CancelRequestAnimationFrame'];\n  }\n\n  if (!window.cancelAnimationFrame) {\n    window.cancelAnimationFrame = function (timer) {\n      window.clearTimeout(timer);\n    };\n  }\n\n  return window.cancelAnimationFrame.bind(window);\n}();\n","import { __decorate, __metadata, __param, __rest } from 'tslib';\nimport { Input, TemplateRef, Component, ElementRef, Injector, Renderer2, ComponentFactoryResolver, ViewContainerRef, Inject, HostListener, Directive, EventEmitter, Output, Injectable, LOCALE_ID, Pipe, InjectionToken, NgModule, ChangeDetectorRef } from '@angular/core';\nimport { DOCUMENT, formatDate, I18nPluralPipe, CommonModule } from '@angular/common';\nimport { positionElements } from 'positioning';\nimport { Subject, of, timer, Observable, BehaviorSubject, interval } from 'rxjs';\nimport { takeUntil, startWith, switchMapTo, map } from 'rxjs/operators';\nimport { validateEvents as validateEvents$1, getMonthView, getWeekViewHeader, getWeekView } from 'calendar-utils';\nexport { DAYS_OF_WEEK } from 'calendar-utils';\nimport { DragAndDropModule } from 'angular-draggable-droppable';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { ResizableModule } from 'angular-resizable-element';\n\nlet CalendarEventActionsComponent = class CalendarEventActionsComponent {\n    constructor() {\n        this.trackByActionId = (index, action) => action.id ? action.id : action;\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarEventActionsComponent.prototype, \"event\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarEventActionsComponent.prototype, \"customTemplate\", void 0);\nCalendarEventActionsComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-event-actions',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-event=\"event\"\n      let-trackByActionId=\"trackByActionId\"\n    >\n      <span *ngIf=\"event.actions\" class=\"cal-event-actions\">\n        <a\n          class=\"cal-event-action\"\n          href=\"javascript:;\"\n          *ngFor=\"let action of event.actions; trackBy: trackByActionId\"\n          (mwlClick)=\"action.onClick({ event: event, sourceEvent: $event })\"\n          (mwlKeydownEnter)=\"\n            action.onClick({ event: event, sourceEvent: $event })\n          \"\n          [ngClass]=\"action.cssClass\"\n          [innerHtml]=\"action.label\"\n          tabindex=\"0\"\n          role=\"button\"\n          [attr.aria-label]=\"\n            { action: action } | calendarA11y: 'actionButtonLabel'\n          \"\n        >\n        </a>\n      </span>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        event: event,\n        trackByActionId: trackByActionId\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarEventActionsComponent);\n\nlet CalendarEventTitleComponent = class CalendarEventTitleComponent {\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarEventTitleComponent.prototype, \"event\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarEventTitleComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarEventTitleComponent.prototype, \"view\", void 0);\nCalendarEventTitleComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-event-title',\n        template: `\n    <ng-template #defaultTemplate let-event=\"event\" let-view=\"view\">\n      <span\n        class=\"cal-event-title\"\n        [innerHTML]=\"event.title | calendarEventTitle: view:event\"\n        [attr.aria-hidden]=\"{} | calendarA11y: 'hideEventTitle'\"\n      >\n      </span>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        event: event,\n        view: view\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarEventTitleComponent);\n\nlet CalendarTooltipWindowComponent = class CalendarTooltipWindowComponent {\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarTooltipWindowComponent.prototype, \"contents\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarTooltipWindowComponent.prototype, \"placement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarTooltipWindowComponent.prototype, \"event\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarTooltipWindowComponent.prototype, \"customTemplate\", void 0);\nCalendarTooltipWindowComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-tooltip-window',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-contents=\"contents\"\n      let-placement=\"placement\"\n      let-event=\"event\"\n    >\n      <div class=\"cal-tooltip\" [ngClass]=\"'cal-tooltip-' + placement\">\n        <div class=\"cal-tooltip-arrow\"></div>\n        <div class=\"cal-tooltip-inner\" [innerHtml]=\"contents\"></div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        contents: contents,\n        placement: placement,\n        event: event\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarTooltipWindowComponent);\nlet CalendarTooltipDirective = class CalendarTooltipDirective {\n    constructor(elementRef, injector, renderer, componentFactoryResolver, viewContainerRef, document //tslint:disable-line\n    ) {\n        this.elementRef = elementRef;\n        this.injector = injector;\n        this.renderer = renderer;\n        this.viewContainerRef = viewContainerRef;\n        this.document = document;\n        this.placement = 'auto'; // tslint:disable-line no-input-rename\n        this.delay = null; // tslint:disable-line no-input-rename\n        this.cancelTooltipDelay$ = new Subject();\n        this.tooltipFactory = componentFactoryResolver.resolveComponentFactory(CalendarTooltipWindowComponent);\n    }\n    ngOnChanges(changes) {\n        if (this.tooltipRef &&\n            (changes.contents || changes.customTemplate || changes.event)) {\n            this.tooltipRef.instance.contents = this.contents;\n            this.tooltipRef.instance.customTemplate = this.customTemplate;\n            this.tooltipRef.instance.event = this.event;\n            this.tooltipRef.changeDetectorRef.markForCheck();\n        }\n    }\n    ngOnDestroy() {\n        this.hide();\n    }\n    onMouseOver() {\n        const delay$ = this.delay === null ? of('now') : timer(this.delay);\n        delay$.pipe(takeUntil(this.cancelTooltipDelay$)).subscribe(() => {\n            this.show();\n        });\n    }\n    onMouseOut() {\n        this.hide();\n    }\n    show() {\n        if (!this.tooltipRef && this.contents) {\n            this.tooltipRef = this.viewContainerRef.createComponent(this.tooltipFactory, 0, this.injector, []);\n            this.tooltipRef.instance.contents = this.contents;\n            this.tooltipRef.instance.customTemplate = this.customTemplate;\n            this.tooltipRef.instance.event = this.event;\n            if (this.appendToBody) {\n                this.document.body.appendChild(this.tooltipRef.location.nativeElement);\n            }\n            requestAnimationFrame(() => {\n                this.positionTooltip();\n            });\n        }\n    }\n    hide() {\n        if (this.tooltipRef) {\n            this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView));\n            this.tooltipRef = null;\n        }\n        this.cancelTooltipDelay$.next();\n    }\n    positionTooltip(previousPositions = []) {\n        if (this.tooltipRef) {\n            this.tooltipRef.changeDetectorRef.detectChanges();\n            this.tooltipRef.instance.placement = positionElements(this.elementRef.nativeElement, this.tooltipRef.location.nativeElement.children[0], this.placement, this.appendToBody);\n            // keep re-positioning the tooltip until the arrow position doesn't make a difference\n            if (previousPositions.indexOf(this.tooltipRef.instance.placement) === -1) {\n                this.positionTooltip([\n                    ...previousPositions,\n                    this.tooltipRef.instance.placement\n                ]);\n            }\n        }\n    }\n};\nCalendarTooltipDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Injector },\n    { type: Renderer2 },\n    { type: ComponentFactoryResolver },\n    { type: ViewContainerRef },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\n];\n__decorate([\n    Input('mwlCalendarTooltip'),\n    __metadata(\"design:type\", String)\n], CalendarTooltipDirective.prototype, \"contents\", void 0);\n__decorate([\n    Input('tooltipPlacement'),\n    __metadata(\"design:type\", Object)\n], CalendarTooltipDirective.prototype, \"placement\", void 0);\n__decorate([\n    Input('tooltipTemplate'),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarTooltipDirective.prototype, \"customTemplate\", void 0);\n__decorate([\n    Input('tooltipEvent'),\n    __metadata(\"design:type\", Object)\n], CalendarTooltipDirective.prototype, \"event\", void 0);\n__decorate([\n    Input('tooltipAppendToBody'),\n    __metadata(\"design:type\", Boolean)\n], CalendarTooltipDirective.prototype, \"appendToBody\", void 0);\n__decorate([\n    Input('tooltipDelay'),\n    __metadata(\"design:type\", Number)\n], CalendarTooltipDirective.prototype, \"delay\", void 0);\n__decorate([\n    HostListener('mouseenter'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], CalendarTooltipDirective.prototype, \"onMouseOver\", null);\n__decorate([\n    HostListener('mouseleave'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], CalendarTooltipDirective.prototype, \"onMouseOut\", null);\nCalendarTooltipDirective = __decorate([\n    Directive({\n        selector: '[mwlCalendarTooltip]'\n    }),\n    __param(5, Inject(DOCUMENT)),\n    __metadata(\"design:paramtypes\", [ElementRef,\n        Injector,\n        Renderer2,\n        ComponentFactoryResolver,\n        ViewContainerRef, Object])\n], CalendarTooltipDirective);\n\nclass DateAdapter {\n}\n\nvar CalendarView;\n(function (CalendarView) {\n    CalendarView[\"Month\"] = \"month\";\n    CalendarView[\"Week\"] = \"week\";\n    CalendarView[\"Day\"] = \"day\";\n})(CalendarView || (CalendarView = {}));\n\nconst validateEvents = (events) => {\n    const warn = (...args) => console.warn('angular-calendar', ...args);\n    return validateEvents$1(events, warn);\n};\nfunction isInside(outer, inner) {\n    return (Math.floor(outer.left) <= Math.ceil(inner.left) &&\n        Math.floor(inner.left) <= Math.ceil(outer.right) &&\n        Math.floor(outer.left) <= Math.ceil(inner.right) &&\n        Math.floor(inner.right) <= Math.ceil(outer.right) &&\n        Math.floor(outer.top) <= Math.ceil(inner.top) &&\n        Math.floor(inner.top) <= Math.ceil(outer.bottom) &&\n        Math.floor(outer.top) <= Math.ceil(inner.bottom) &&\n        Math.floor(inner.bottom) <= Math.ceil(outer.bottom));\n}\nfunction roundToNearest(amount, precision) {\n    return Math.round(amount / precision) * precision;\n}\nconst trackByEventId = (index, event) => event.id ? event.id : event;\nconst trackByWeekDayHeaderDate = (index, day) => day.date.toISOString();\nconst trackByHourSegment = (index, segment) => segment.date.toISOString();\nconst trackByHour = (index, hour) => hour.segments[0].date.toISOString();\nconst trackByWeekAllDayEvent = (index, weekEvent) => (weekEvent.event.id ? weekEvent.event.id : weekEvent.event);\nconst trackByWeekTimeEvent = (index, weekEvent) => (weekEvent.event.id ? weekEvent.event.id : weekEvent.event);\nconst MINUTES_IN_HOUR = 60;\nfunction getPixelAmountInMinutes(hourSegments, hourSegmentHeight) {\n    return MINUTES_IN_HOUR / (hourSegments * hourSegmentHeight);\n}\nfunction getMinutesMoved(movedY, hourSegments, hourSegmentHeight, eventSnapSize) {\n    const draggedInPixelsSnapSize = roundToNearest(movedY, eventSnapSize || hourSegmentHeight);\n    const pixelAmountInMinutes = getPixelAmountInMinutes(hourSegments, hourSegmentHeight);\n    return draggedInPixelsSnapSize * pixelAmountInMinutes;\n}\nfunction getMinimumEventHeightInMinutes(hourSegments, hourSegmentHeight) {\n    return (getPixelAmountInMinutes(hourSegments, hourSegmentHeight) * hourSegmentHeight);\n}\nfunction getDefaultEventEnd(dateAdapter, event, minimumMinutes) {\n    if (event.end) {\n        return event.end;\n    }\n    else {\n        return dateAdapter.addMinutes(event.start, minimumMinutes);\n    }\n}\nfunction addDaysWithExclusions(dateAdapter, date, days, excluded) {\n    let daysCounter = 0;\n    let daysToAdd = 0;\n    const changeDays = days < 0 ? dateAdapter.subDays : dateAdapter.addDays;\n    let result = date;\n    while (daysToAdd <= Math.abs(days)) {\n        result = changeDays(date, daysCounter);\n        const day = dateAdapter.getDay(result);\n        if (excluded.indexOf(day) === -1) {\n            daysToAdd++;\n        }\n        daysCounter++;\n    }\n    return result;\n}\nfunction isDraggedWithinPeriod(newStart, newEnd, period) {\n    const end = newEnd || newStart;\n    return ((period.start <= newStart && newStart <= period.end) ||\n        (period.start <= end && end <= period.end));\n}\nfunction shouldFireDroppedEvent(dropEvent, date, allDay, calendarId) {\n    return (dropEvent.dropData &&\n        dropEvent.dropData.event &&\n        (dropEvent.dropData.calendarId !== calendarId ||\n            (dropEvent.dropData.event.allDay && !allDay) ||\n            (!dropEvent.dropData.event.allDay && allDay)));\n}\nfunction getWeekViewPeriod(dateAdapter, viewDate, weekStartsOn, excluded = [], daysInWeek) {\n    let viewStart = daysInWeek\n        ? dateAdapter.startOfDay(viewDate)\n        : dateAdapter.startOfWeek(viewDate, { weekStartsOn });\n    const endOfWeek = dateAdapter.endOfWeek(viewDate, { weekStartsOn });\n    while (excluded.indexOf(dateAdapter.getDay(viewStart)) > -1 &&\n        viewStart < endOfWeek) {\n        viewStart = dateAdapter.addDays(viewStart, 1);\n    }\n    if (daysInWeek) {\n        const viewEnd = dateAdapter.endOfDay(addDaysWithExclusions(dateAdapter, viewStart, daysInWeek - 1, excluded));\n        return { viewStart, viewEnd };\n    }\n    else {\n        let viewEnd = endOfWeek;\n        while (excluded.indexOf(dateAdapter.getDay(viewEnd)) > -1 &&\n            viewEnd > viewStart) {\n            viewEnd = dateAdapter.subDays(viewEnd, 1);\n        }\n        return { viewStart, viewEnd };\n    }\n}\nfunction isWithinThreshold({ x, y }) {\n    const DRAG_THRESHOLD = 1;\n    return Math.abs(x) > DRAG_THRESHOLD || Math.abs(y) > DRAG_THRESHOLD;\n}\n\n/**\n * Change the view date to the previous view. For example:\n *\n * ```typescript\n * <button\n *  mwlCalendarPreviousView\n *  [(viewDate)]=\"viewDate\"\n *  [view]=\"view\">\n *  Previous\n * </button>\n * ```\n */\nlet CalendarPreviousViewDirective = class CalendarPreviousViewDirective {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n        /**\n         * Days to skip when going back by 1 day\n         */\n        this.excludeDays = [];\n        /**\n         * Called when the view date is changed\n         */\n        this.viewDateChange = new EventEmitter();\n    }\n    /**\n     * @hidden\n     */\n    onClick() {\n        const subFn = {\n            day: this.dateAdapter.subDays,\n            week: this.dateAdapter.subWeeks,\n            month: this.dateAdapter.subMonths\n        }[this.view];\n        if (this.view === CalendarView.Day) {\n            this.viewDateChange.emit(addDaysWithExclusions(this.dateAdapter, this.viewDate, -1, this.excludeDays));\n        }\n        else if (this.view === CalendarView.Week && this.daysInWeek) {\n            this.viewDateChange.emit(addDaysWithExclusions(this.dateAdapter, this.viewDate, -this.daysInWeek, this.excludeDays));\n        }\n        else {\n            this.viewDateChange.emit(subFn(this.viewDate, 1));\n        }\n    }\n};\nCalendarPreviousViewDirective.ctorParameters = () => [\n    { type: DateAdapter }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarPreviousViewDirective.prototype, \"view\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarPreviousViewDirective.prototype, \"viewDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarPreviousViewDirective.prototype, \"excludeDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarPreviousViewDirective.prototype, \"daysInWeek\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], CalendarPreviousViewDirective.prototype, \"viewDateChange\", void 0);\n__decorate([\n    HostListener('click'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], CalendarPreviousViewDirective.prototype, \"onClick\", null);\nCalendarPreviousViewDirective = __decorate([\n    Directive({\n        selector: '[mwlCalendarPreviousView]'\n    }),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarPreviousViewDirective);\n\n/**\n * Change the view date to the next view. For example:\n *\n * ```typescript\n * <button\n *  mwlCalendarNextView\n *  [(viewDate)]=\"viewDate\"\n *  [view]=\"view\">\n *  Next\n * </button>\n * ```\n */\nlet CalendarNextViewDirective = class CalendarNextViewDirective {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n        /**\n         * Days to skip when going forward by 1 day\n         */\n        this.excludeDays = [];\n        /**\n         * Called when the view date is changed\n         */\n        this.viewDateChange = new EventEmitter();\n    }\n    /**\n     * @hidden\n     */\n    onClick() {\n        const addFn = {\n            day: this.dateAdapter.addDays,\n            week: this.dateAdapter.addWeeks,\n            month: this.dateAdapter.addMonths\n        }[this.view];\n        if (this.view === CalendarView.Day) {\n            this.viewDateChange.emit(addDaysWithExclusions(this.dateAdapter, this.viewDate, 1, this.excludeDays));\n        }\n        else if (this.view === CalendarView.Week && this.daysInWeek) {\n            this.viewDateChange.emit(addDaysWithExclusions(this.dateAdapter, this.viewDate, this.daysInWeek, this.excludeDays));\n        }\n        else {\n            this.viewDateChange.emit(addFn(this.viewDate, 1));\n        }\n    }\n};\nCalendarNextViewDirective.ctorParameters = () => [\n    { type: DateAdapter }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarNextViewDirective.prototype, \"view\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarNextViewDirective.prototype, \"viewDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarNextViewDirective.prototype, \"excludeDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarNextViewDirective.prototype, \"daysInWeek\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], CalendarNextViewDirective.prototype, \"viewDateChange\", void 0);\n__decorate([\n    HostListener('click'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], CalendarNextViewDirective.prototype, \"onClick\", null);\nCalendarNextViewDirective = __decorate([\n    Directive({\n        selector: '[mwlCalendarNextView]'\n    }),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarNextViewDirective);\n\n/**\n * Change the view date to the current day. For example:\n *\n * ```typescript\n * <button\n *  mwlCalendarToday\n *  [(viewDate)]=\"viewDate\">\n *  Today\n * </button>\n * ```\n */\nlet CalendarTodayDirective = class CalendarTodayDirective {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n        /**\n         * Called when the view date is changed\n         */\n        this.viewDateChange = new EventEmitter();\n    }\n    /**\n     * @hidden\n     */\n    onClick() {\n        this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date()));\n    }\n};\nCalendarTodayDirective.ctorParameters = () => [\n    { type: DateAdapter }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarTodayDirective.prototype, \"viewDate\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], CalendarTodayDirective.prototype, \"viewDateChange\", void 0);\n__decorate([\n    HostListener('click'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], CalendarTodayDirective.prototype, \"onClick\", null);\nCalendarTodayDirective = __decorate([\n    Directive({\n        selector: '[mwlCalendarToday]'\n    }),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarTodayDirective);\n\n/**\n * This will use the angular date pipe to do all date formatting. It is the default date formatter used by the calendar.\n */\nlet CalendarAngularDateFormatter = class CalendarAngularDateFormatter {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n    }\n    /**\n     * The month view header week day labels\n     */\n    monthViewColumnHeader({ date, locale }) {\n        return formatDate(date, 'EEEE', locale);\n    }\n    /**\n     * The month view cell day number\n     */\n    monthViewDayNumber({ date, locale }) {\n        return formatDate(date, 'd', locale);\n    }\n    /**\n     * The month view title\n     */\n    monthViewTitle({ date, locale }) {\n        return formatDate(date, 'LLLL y', locale);\n    }\n    /**\n     * The week view header week day labels\n     */\n    weekViewColumnHeader({ date, locale }) {\n        return formatDate(date, 'EEEE', locale);\n    }\n    /**\n     * The week view sub header day and month labels\n     */\n    weekViewColumnSubHeader({ date, locale }) {\n        return formatDate(date, 'MMM d', locale);\n    }\n    /**\n     * The week view title\n     */\n    weekViewTitle({ date, locale, weekStartsOn, excludeDays, daysInWeek }) {\n        const { viewStart, viewEnd } = getWeekViewPeriod(this.dateAdapter, date, weekStartsOn, excludeDays, daysInWeek);\n        const format = (dateToFormat, showYear) => formatDate(dateToFormat, 'MMM d' + (showYear ? ', yyyy' : ''), locale);\n        return `${format(viewStart, viewStart.getUTCFullYear() !== viewEnd.getUTCFullYear())} - ${format(viewEnd, true)}`;\n    }\n    /**\n     * The time formatting down the left hand side of the week view\n     */\n    weekViewHour({ date, locale }) {\n        return formatDate(date, 'h a', locale);\n    }\n    /**\n     * The time formatting down the left hand side of the day view\n     */\n    dayViewHour({ date, locale }) {\n        return formatDate(date, 'h a', locale);\n    }\n    /**\n     * The day view title\n     */\n    dayViewTitle({ date, locale }) {\n        return formatDate(date, 'EEEE, MMMM d, y', locale);\n    }\n};\nCalendarAngularDateFormatter.ctorParameters = () => [\n    { type: DateAdapter }\n];\nCalendarAngularDateFormatter = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarAngularDateFormatter);\n\n/**\n * This class is responsible for all formatting of dates. There are 3 implementations available, the `CalendarAngularDateFormatter` (default) which uses the angular date pipe to format dates, the `CalendarNativeDateFormatter` which will use the <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Intl\" target=\"_blank\">Intl</a> API to format dates, or there is the `CalendarMomentDateFormatter` which uses <a href=\"http://momentjs.com/\" target=\"_blank\">moment</a>.\n *\n * If you wish, you may override any of the defaults via angulars DI. For example:\n *\n * ```typescript\n * import { CalendarDateFormatter, DateFormatterParams } from 'angular-calendar';\n * import { formatDate } from '@angular/common';\n * import { Injectable } from '@angular/core';\n *\n * @Injectable()\n * class CustomDateFormatter extends CalendarDateFormatter {\n *\n *   public monthViewColumnHeader({date, locale}: DateFormatterParams): string {\n *     return formatDate(date, 'EEE', locale); // use short week days\n *   }\n *\n * }\n *\n * // in your component that uses the calendar\n * providers: [{\n *   provide: CalendarDateFormatter,\n *   useClass: CustomDateFormatter\n * }]\n * ```\n */\nlet CalendarDateFormatter = class CalendarDateFormatter extends CalendarAngularDateFormatter {\n};\nCalendarDateFormatter = __decorate([\n    Injectable()\n], CalendarDateFormatter);\n\n/**\n * This pipe is primarily for rendering the current view title. Example usage:\n * ```typescript\n * // where `viewDate` is a `Date` and view is `'month' | 'week' | 'day'`\n * {{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}\n * ```\n */\nlet CalendarDatePipe = class CalendarDatePipe {\n    constructor(dateFormatter, locale) {\n        this.dateFormatter = dateFormatter;\n        this.locale = locale;\n    }\n    transform(date, method, locale = this.locale, weekStartsOn = 0, excludeDays = [], daysInWeek) {\n        if (typeof this.dateFormatter[method] === 'undefined') {\n            const allowedMethods = Object.getOwnPropertyNames(Object.getPrototypeOf(CalendarDateFormatter.prototype)).filter(iMethod => iMethod !== 'constructor');\n            throw new Error(`${method} is not a valid date formatter. Can only be one of ${allowedMethods.join(', ')}`);\n        }\n        return this.dateFormatter[method]({\n            date,\n            locale,\n            weekStartsOn,\n            excludeDays,\n            daysInWeek\n        });\n    }\n};\nCalendarDatePipe.ctorParameters = () => [\n    { type: CalendarDateFormatter },\n    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] }\n];\nCalendarDatePipe = __decorate([\n    Pipe({\n        name: 'calendarDate'\n    }),\n    __param(1, Inject(LOCALE_ID)),\n    __metadata(\"design:paramtypes\", [CalendarDateFormatter, String])\n], CalendarDatePipe);\n\n/**\n * This class is responsible for displaying all event titles within the calendar. You may override any of its methods via angulars DI to suit your requirements. For example:\n *\n * ```typescript\n * import { Injectable } from '@angular/core';\n * import { CalendarEventTitleFormatter, CalendarEvent } from 'angular-calendar';\n *\n * @Injectable()\n * class CustomEventTitleFormatter extends CalendarEventTitleFormatter {\n *\n *   month(event: CalendarEvent): string {\n *     return `Custom prefix: ${event.title}`;\n *   }\n *\n * }\n *\n * // in your component\n * providers: [{\n *  provide: CalendarEventTitleFormatter,\n *  useClass: CustomEventTitleFormatter\n * }]\n * ```\n */\nclass CalendarEventTitleFormatter {\n    /**\n     * The month view event title.\n     */\n    month(event, title) {\n        return event.title;\n    }\n    /**\n     * The month view event tooltip. Return a falsey value from this to disable the tooltip.\n     */\n    monthTooltip(event, title) {\n        return event.title;\n    }\n    /**\n     * The week view event title.\n     */\n    week(event, title) {\n        return event.title;\n    }\n    /**\n     * The week view event tooltip. Return a falsey value from this to disable the tooltip.\n     */\n    weekTooltip(event, title) {\n        return event.title;\n    }\n    /**\n     * The day view event title.\n     */\n    day(event, title) {\n        return event.title;\n    }\n    /**\n     * The day view event tooltip. Return a falsey value from this to disable the tooltip.\n     */\n    dayTooltip(event, title) {\n        return event.title;\n    }\n}\n\nlet CalendarEventTitlePipe = class CalendarEventTitlePipe {\n    constructor(calendarEventTitle) {\n        this.calendarEventTitle = calendarEventTitle;\n    }\n    transform(title, titleType, event) {\n        return this.calendarEventTitle[titleType](event, title);\n    }\n};\nCalendarEventTitlePipe.ctorParameters = () => [\n    { type: CalendarEventTitleFormatter }\n];\nCalendarEventTitlePipe = __decorate([\n    Pipe({\n        name: 'calendarEventTitle'\n    }),\n    __metadata(\"design:paramtypes\", [CalendarEventTitleFormatter])\n], CalendarEventTitlePipe);\n\nlet ClickDirective = class ClickDirective {\n    constructor(renderer, elm, document) {\n        this.renderer = renderer;\n        this.elm = elm;\n        this.document = document;\n        this.clickListenerDisabled = false;\n        this.click = new EventEmitter(); // tslint:disable-line\n        this.destroy$ = new Subject();\n    }\n    ngOnInit() {\n        if (!this.clickListenerDisabled) {\n            this.listen()\n                .pipe(takeUntil(this.destroy$))\n                .subscribe(event => {\n                event.stopPropagation();\n                this.click.emit(event);\n            });\n        }\n    }\n    ngOnDestroy() {\n        this.destroy$.next();\n    }\n    listen() {\n        return new Observable(observer => {\n            return this.renderer.listen(this.elm.nativeElement, 'click', event => {\n                observer.next(event);\n            });\n        });\n    }\n};\nClickDirective.ctorParameters = () => [\n    { type: Renderer2 },\n    { type: ElementRef },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], ClickDirective.prototype, \"clickListenerDisabled\", void 0);\n__decorate([\n    Output('mwlClick'),\n    __metadata(\"design:type\", Object)\n], ClickDirective.prototype, \"click\", void 0);\nClickDirective = __decorate([\n    Directive({\n        selector: '[mwlClick]'\n    }),\n    __param(2, Inject(DOCUMENT)),\n    __metadata(\"design:paramtypes\", [Renderer2,\n        ElementRef, Object])\n], ClickDirective);\n\nlet KeydownEnterDirective = class KeydownEnterDirective {\n    constructor() {\n        this.keydown = new EventEmitter(); // tslint:disable-line\n    }\n    onKeyPress(event) {\n        if (event.keyCode === 13 || event.which === 13 || event.key === 'Enter') {\n            event.preventDefault();\n            event.stopPropagation();\n            this.keydown.emit(event);\n        }\n    }\n};\n__decorate([\n    Output('mwlKeydownEnter'),\n    __metadata(\"design:type\", Object)\n], KeydownEnterDirective.prototype, \"keydown\", void 0);\n__decorate([\n    HostListener('keydown', ['$event']),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [KeyboardEvent]),\n    __metadata(\"design:returntype\", void 0)\n], KeydownEnterDirective.prototype, \"onKeyPress\", null);\nKeydownEnterDirective = __decorate([\n    Directive({\n        selector: '[mwlKeydownEnter]'\n    })\n], KeydownEnterDirective);\n\nlet CalendarUtils = class CalendarUtils {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n    }\n    getMonthView(args) {\n        return getMonthView(this.dateAdapter, args);\n    }\n    getWeekViewHeader(args) {\n        return getWeekViewHeader(this.dateAdapter, args);\n    }\n    getWeekView(args) {\n        return getWeekView(this.dateAdapter, args);\n    }\n};\nCalendarUtils.ctorParameters = () => [\n    { type: DateAdapter }\n];\nCalendarUtils = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarUtils);\n\n/**\n * This class is responsible for adding accessibility to the calendar.\n * You may override any of its methods via angulars DI to suit your requirements.\n * For example:\n *\n * ```typescript\n * import { A11yParams, CalendarA11y } from 'angular-calendar';\n * import { formatDate, I18nPluralPipe } from '@angular/common';\n * import { Injectable } from '@angular/core';\n *\n * // adding your own a11y params\n * export interface CustomA11yParams extends A11yParams {\n *   isDrSuess?: boolean;\n * }\n *\n * @Injectable()\n * export class CustomCalendarA11y extends CalendarA11y {\n *   constructor(protected i18nPlural: I18nPluralPipe) {\n *     super(i18nPlural);\n *   }\n *\n *   // overriding a function\n *   public openDayEventsLandmark({ date, locale, isDrSuess }: CustomA11yParams): string {\n *     if (isDrSuess) {\n *       return `\n *         ${formatDate(date, 'EEEE MMMM d', locale)}\n *          Today you are you! That is truer than true! There is no one alive\n *          who is you-er than you!\n *       `;\n *     }\n *   }\n * }\n *\n * // in your component that uses the calendar\n * providers: [{\n *  provide: CalendarA11y,\n *  useClass: CustomCalendarA11y\n * }]\n * ```\n */\nlet CalendarA11y = class CalendarA11y {\n    constructor(i18nPlural) {\n        this.i18nPlural = i18nPlural;\n    }\n    /**\n     * Aria label for the badges/date of a cell\n     * @example: `Saturday October 19 1 event click to expand`\n     */\n    monthCell({ day, locale }) {\n        if (day.badgeTotal > 0) {\n            return `\n        ${formatDate(day.date, 'EEEE MMMM d', locale)},\n        ${this.i18nPlural.transform(day.badgeTotal, {\n                '=0': 'No events',\n                '=1': 'One event',\n                other: '# events'\n            })},\n         click to expand\n      `;\n        }\n        else {\n            return `${formatDate(day.date, 'EEEE MMMM d', locale)}`;\n        }\n    }\n    /**\n     * Aria label for the open day events start landmark\n     * @example: `Saturday October 19 expanded view`\n     */\n    openDayEventsLandmark({ date, locale }) {\n        return `\n      Beginning of expanded view for ${formatDate(date, 'EEEE MMMM dd', locale)}\n    `;\n    }\n    /**\n     * Aria label for alert that a day in the month view was expanded\n     * @example: `Saturday October 19 expanded`\n     */\n    openDayEventsAlert({ date, locale }) {\n        return `${formatDate(date, 'EEEE MMMM dd', locale)} expanded`;\n    }\n    /**\n     * Descriptive aria label for an event\n     * @example: `Saturday October 19th, Scott's Pizza Party, from 11:00am to 5:00pm`\n     */\n    eventDescription({ event, locale }) {\n        if (event.allDay === true) {\n            return this.allDayEventDescription({ event, locale });\n        }\n        const aria = `\n      ${formatDate(event.start, 'EEEE MMMM dd', locale)},\n      ${event.title}, from ${formatDate(event.start, 'hh:mm a', locale)}\n    `;\n        if (event.end) {\n            return aria + ` to ${formatDate(event.end, 'hh:mm a', locale)}`;\n        }\n        return aria;\n    }\n    /**\n     * Descriptive aria label for an all day event\n     * @example:\n     * `Scott's Party, event spans multiple days: start time October 19 5:00pm, no stop time`\n     */\n    allDayEventDescription({ event, locale }) {\n        const aria = `\n      ${event.title}, event spans multiple days:\n      start time ${formatDate(event.start, 'MMMM dd hh:mm a', locale)}\n    `;\n        if (event.end) {\n            return (aria + `, stop time ${formatDate(event.end, 'MMMM d hh:mm a', locale)}`);\n        }\n        return aria + `, no stop time`;\n    }\n    /**\n     * Aria label for the calendar event actions icons\n     * @returns 'Edit' for fa-pencil icons, and 'Delete' for fa-times icons\n     */\n    actionButtonLabel({ action }) {\n        return action.a11yLabel;\n    }\n    /**\n     * @returns {number} Tab index to be given to month cells\n     */\n    monthCellTabIndex() {\n        return 0;\n    }\n    /**\n     * @returns true if the events inside the month cell should be aria-hidden\n     */\n    hideMonthCellEvents() {\n        return true;\n    }\n    /**\n     * @returns true if event titles should be aria-hidden (global)\n     */\n    hideEventTitle() {\n        return true;\n    }\n    /**\n     * @returns true if hour segments in the week view should be aria-hidden\n     */\n    hideWeekHourSegment() {\n        return true;\n    }\n    /**\n     * @returns true if hour segments in the day view should be aria-hidden\n     */\n    hideDayHourSegment() {\n        return true;\n    }\n};\nCalendarA11y.ctorParameters = () => [\n    { type: I18nPluralPipe }\n];\nCalendarA11y = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [I18nPluralPipe])\n], CalendarA11y);\n\n/**\n * This pipe is primarily for rendering aria labels. Example usage:\n * ```typescript\n * // where `myEvent` is a `CalendarEvent` and myLocale is a locale identifier\n * {{ { event: myEvent, locale: myLocale } | calendarA11y: 'eventDescription' }}\n * ```\n */\nlet CalendarA11yPipe = class CalendarA11yPipe {\n    constructor(calendarA11y, locale) {\n        this.calendarA11y = calendarA11y;\n        this.locale = locale;\n    }\n    transform(a11yParams, method) {\n        a11yParams.locale = a11yParams.locale || this.locale;\n        if (typeof this.calendarA11y[method] === 'undefined') {\n            const allowedMethods = Object.getOwnPropertyNames(Object.getPrototypeOf(CalendarA11y.prototype)).filter(iMethod => iMethod !== 'constructor');\n            throw new Error(`${method} is not a valid a11y method. Can only be one of ${allowedMethods.join(', ')}`);\n        }\n        return this.calendarA11y[method](a11yParams);\n    }\n};\nCalendarA11yPipe.ctorParameters = () => [\n    { type: CalendarA11y },\n    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] }\n];\nCalendarA11yPipe = __decorate([\n    Pipe({\n        name: 'calendarA11y'\n    }),\n    __param(1, Inject(LOCALE_ID)),\n    __metadata(\"design:paramtypes\", [CalendarA11y, String])\n], CalendarA11yPipe);\n\nconst MOMENT = new InjectionToken('Moment');\n/**\n * This will use <a href=\"http://momentjs.com/\" target=\"_blank\">moment</a> to do all date formatting. To use this class:\n *\n * ```typescript\n * import { CalendarDateFormatter, CalendarMomentDateFormatter, MOMENT } from 'angular-calendar';\n * import moment from 'moment';\n *\n * // in your component\n * provide: [{\n *   provide: MOMENT, useValue: moment\n * }, {\n *   provide: CalendarDateFormatter, useClass: CalendarMomentDateFormatter\n * }]\n *\n * ```\n */\nlet CalendarMomentDateFormatter = class CalendarMomentDateFormatter {\n    /**\n     * @hidden\n     */\n    constructor(moment, dateAdapter) {\n        this.moment = moment;\n        this.dateAdapter = dateAdapter;\n    }\n    /**\n     * The month view header week day labels\n     */\n    monthViewColumnHeader({ date, locale }) {\n        return this.moment(date)\n            .locale(locale)\n            .format('dddd');\n    }\n    /**\n     * The month view cell day number\n     */\n    monthViewDayNumber({ date, locale }) {\n        return this.moment(date)\n            .locale(locale)\n            .format('D');\n    }\n    /**\n     * The month view title\n     */\n    monthViewTitle({ date, locale }) {\n        return this.moment(date)\n            .locale(locale)\n            .format('MMMM YYYY');\n    }\n    /**\n     * The week view header week day labels\n     */\n    weekViewColumnHeader({ date, locale }) {\n        return this.moment(date)\n            .locale(locale)\n            .format('dddd');\n    }\n    /**\n     * The week view sub header day and month labels\n     */\n    weekViewColumnSubHeader({ date, locale }) {\n        return this.moment(date)\n            .locale(locale)\n            .format('MMM D');\n    }\n    /**\n     * The week view title\n     */\n    weekViewTitle({ date, locale, weekStartsOn, excludeDays, daysInWeek }) {\n        const { viewStart, viewEnd } = getWeekViewPeriod(this.dateAdapter, date, weekStartsOn, excludeDays, daysInWeek);\n        const format = (dateToFormat, showYear) => this.moment(dateToFormat)\n            .locale(locale)\n            .format('MMM D' + (showYear ? ', YYYY' : ''));\n        return `${format(viewStart, viewStart.getUTCFullYear() !== viewEnd.getUTCFullYear())} - ${format(viewEnd, true)}`;\n    }\n    /**\n     * The time formatting down the left hand side of the week view\n     */\n    weekViewHour({ date, locale }) {\n        return this.moment(date)\n            .locale(locale)\n            .format('ha');\n    }\n    /**\n     * The time formatting down the left hand side of the day view\n     */\n    dayViewHour({ date, locale }) {\n        return this.moment(date)\n            .locale(locale)\n            .format('ha');\n    }\n    /**\n     * The day view title\n     */\n    dayViewTitle({ date, locale }) {\n        return this.moment(date)\n            .locale(locale)\n            .format('dddd, D MMMM, YYYY');\n    }\n};\nCalendarMomentDateFormatter.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [MOMENT,] }] },\n    { type: DateAdapter }\n];\nCalendarMomentDateFormatter = __decorate([\n    Injectable(),\n    __param(0, Inject(MOMENT)),\n    __metadata(\"design:paramtypes\", [Object, DateAdapter])\n], CalendarMomentDateFormatter);\n\n/**\n * This will use <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Intl\" target=\"_blank\">Intl</a> API to do all date formatting.\n *\n * You will need to include a <a href=\"https://github.com/andyearnshaw/Intl.js/\">polyfill</a> for older browsers.\n */\nlet CalendarNativeDateFormatter = class CalendarNativeDateFormatter {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n    }\n    /**\n     * The month view header week day labels\n     */\n    monthViewColumnHeader({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, { weekday: 'long' }).format(date);\n    }\n    /**\n     * The month view cell day number\n     */\n    monthViewDayNumber({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, { day: 'numeric' }).format(date);\n    }\n    /**\n     * The month view title\n     */\n    monthViewTitle({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, {\n            year: 'numeric',\n            month: 'long'\n        }).format(date);\n    }\n    /**\n     * The week view header week day labels\n     */\n    weekViewColumnHeader({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, { weekday: 'long' }).format(date);\n    }\n    /**\n     * The week view sub header day and month labels\n     */\n    weekViewColumnSubHeader({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, {\n            day: 'numeric',\n            month: 'short'\n        }).format(date);\n    }\n    /**\n     * The week view title\n     */\n    weekViewTitle({ date, locale, weekStartsOn, excludeDays, daysInWeek }) {\n        const { viewStart, viewEnd } = getWeekViewPeriod(this.dateAdapter, date, weekStartsOn, excludeDays, daysInWeek);\n        const format = (dateToFormat, showYear) => new Intl.DateTimeFormat(locale, {\n            day: 'numeric',\n            month: 'short',\n            year: showYear ? 'numeric' : undefined\n        }).format(dateToFormat);\n        return `${format(viewStart, viewStart.getUTCFullYear() !== viewEnd.getUTCFullYear())} - ${format(viewEnd, true)}`;\n    }\n    /**\n     * The time formatting down the left hand side of the week view\n     */\n    weekViewHour({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, { hour: 'numeric' }).format(date);\n    }\n    /**\n     * The time formatting down the left hand side of the day view\n     */\n    dayViewHour({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, { hour: 'numeric' }).format(date);\n    }\n    /**\n     * The day view title\n     */\n    dayViewTitle({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, {\n            day: 'numeric',\n            month: 'long',\n            year: 'numeric',\n            weekday: 'long'\n        }).format(date);\n    }\n};\nCalendarNativeDateFormatter.ctorParameters = () => [\n    { type: DateAdapter }\n];\nCalendarNativeDateFormatter = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarNativeDateFormatter);\n\nvar CalendarEventTimesChangedEventType;\n(function (CalendarEventTimesChangedEventType) {\n    CalendarEventTimesChangedEventType[\"Drag\"] = \"drag\";\n    CalendarEventTimesChangedEventType[\"Drop\"] = \"drop\";\n    CalendarEventTimesChangedEventType[\"Resize\"] = \"resize\";\n})(CalendarEventTimesChangedEventType || (CalendarEventTimesChangedEventType = {}));\n\nvar CalendarCommonModule_1;\n/**\n * Import this module to if you're just using a singular view and want to save on bundle size. Example usage:\n *\n * ```typescript\n * import { CalendarCommonModule, CalendarMonthModule } from 'angular-calendar';\n *\n * @NgModule({\n *   imports: [\n *     CalendarCommonModule.forRoot(),\n *     CalendarMonthModule\n *   ]\n * })\n * class MyModule {}\n * ```\n *\n */\nlet CalendarCommonModule = CalendarCommonModule_1 = class CalendarCommonModule {\n    static forRoot(dateAdapter, config = {}) {\n        return {\n            ngModule: CalendarCommonModule_1,\n            providers: [\n                dateAdapter,\n                config.eventTitleFormatter || CalendarEventTitleFormatter,\n                config.dateFormatter || CalendarDateFormatter,\n                config.utils || CalendarUtils,\n                config.a11y || CalendarA11y\n            ]\n        };\n    }\n};\nCalendarCommonModule = CalendarCommonModule_1 = __decorate([\n    NgModule({\n        declarations: [\n            CalendarEventActionsComponent,\n            CalendarEventTitleComponent,\n            CalendarTooltipWindowComponent,\n            CalendarTooltipDirective,\n            CalendarPreviousViewDirective,\n            CalendarNextViewDirective,\n            CalendarTodayDirective,\n            CalendarDatePipe,\n            CalendarEventTitlePipe,\n            CalendarA11yPipe,\n            ClickDirective,\n            KeydownEnterDirective\n        ],\n        imports: [CommonModule],\n        exports: [\n            CalendarEventActionsComponent,\n            CalendarEventTitleComponent,\n            CalendarTooltipWindowComponent,\n            CalendarTooltipDirective,\n            CalendarPreviousViewDirective,\n            CalendarNextViewDirective,\n            CalendarTodayDirective,\n            CalendarDatePipe,\n            CalendarEventTitlePipe,\n            CalendarA11yPipe,\n            ClickDirective,\n            KeydownEnterDirective\n        ],\n        providers: [I18nPluralPipe],\n        entryComponents: [CalendarTooltipWindowComponent]\n    })\n], CalendarCommonModule);\n\n/**\n * Shows all events on a given month. Example usage:\n *\n * ```typescript\n * <mwl-calendar-month-view\n *  [viewDate]=\"viewDate\"\n *  [events]=\"events\">\n * </mwl-calendar-month-view>\n * ```\n */\nlet CalendarMonthViewComponent = class CalendarMonthViewComponent {\n    /**\n     * @hidden\n     */\n    constructor(cdr, utils, locale, dateAdapter) {\n        this.cdr = cdr;\n        this.utils = utils;\n        this.dateAdapter = dateAdapter;\n        /**\n         * An array of events to display on view.\n         * The schema is available here: https://github.com/mattlewis92/calendar-utils/blob/c51689985f59a271940e30bc4e2c4e1fee3fcb5c/src/calendarUtils.ts#L49-L63\n         */\n        this.events = [];\n        /**\n         * An array of day indexes (0 = sunday, 1 = monday etc) that will be hidden on the view\n         */\n        this.excludeDays = [];\n        /**\n         * Whether the events list for the day of the `viewDate` option is visible or not\n         */\n        this.activeDayIsOpen = false;\n        /**\n         * The placement of the event tooltip\n         */\n        this.tooltipPlacement = 'auto';\n        /**\n         * Whether to append tooltips to the body or next to the trigger element\n         */\n        this.tooltipAppendToBody = true;\n        /**\n         * The delay in milliseconds before the tooltip should be displayed. If not provided the tooltip\n         * will be displayed immediately.\n         */\n        this.tooltipDelay = null;\n        /**\n         * An output that will be called before the view is rendered for the current month.\n         * If you add the `cssClass` property to a day in the body it will add that class to the cell element in the template\n         */\n        this.beforeViewRender = new EventEmitter();\n        /**\n         * Called when the day cell is clicked\n         */\n        this.dayClicked = new EventEmitter();\n        /**\n         * Called when the event title is clicked\n         */\n        this.eventClicked = new EventEmitter();\n        /**\n         * Called when a header week day is clicked. Returns ISO day number.\n         */\n        this.columnHeaderClicked = new EventEmitter();\n        /**\n         * Called when an event is dragged and dropped\n         */\n        this.eventTimesChanged = new EventEmitter();\n        /**\n         * @hidden\n         */\n        this.trackByRowOffset = (index, offset) => this.view.days\n            .slice(offset, this.view.totalDaysVisibleInWeek)\n            .map(day => day.date.toISOString())\n            .join('-');\n        /**\n         * @hidden\n         */\n        this.trackByDate = (index, day) => day.date.toISOString();\n        this.locale = locale;\n    }\n    /**\n     * @hidden\n     */\n    ngOnInit() {\n        if (this.refresh) {\n            this.refreshSubscription = this.refresh.subscribe(() => {\n                this.refreshAll();\n                this.cdr.markForCheck();\n            });\n        }\n    }\n    /**\n     * @hidden\n     */\n    ngOnChanges(changes) {\n        const refreshHeader = changes.viewDate || changes.excludeDays || changes.weekendDays;\n        const refreshBody = changes.viewDate ||\n            changes.events ||\n            changes.excludeDays ||\n            changes.weekendDays;\n        if (refreshHeader) {\n            this.refreshHeader();\n        }\n        if (changes.events) {\n            validateEvents(this.events);\n        }\n        if (refreshBody) {\n            this.refreshBody();\n        }\n        if (refreshHeader || refreshBody) {\n            this.emitBeforeViewRender();\n        }\n        if (changes.activeDayIsOpen ||\n            changes.viewDate ||\n            changes.events ||\n            changes.excludeDays ||\n            changes.activeDay) {\n            this.checkActiveDayIsOpen();\n        }\n    }\n    /**\n     * @hidden\n     */\n    ngOnDestroy() {\n        if (this.refreshSubscription) {\n            this.refreshSubscription.unsubscribe();\n        }\n    }\n    /**\n     * @hidden\n     */\n    toggleDayHighlight(event, isHighlighted) {\n        this.view.days.forEach(day => {\n            if (isHighlighted && day.events.indexOf(event) > -1) {\n                day.backgroundColor =\n                    (event.color && event.color.secondary) || '#D1E8FF';\n            }\n            else {\n                delete day.backgroundColor;\n            }\n        });\n    }\n    /**\n     * @hidden\n     */\n    eventDropped(droppedOn, event, draggedFrom) {\n        if (droppedOn !== draggedFrom) {\n            const year = this.dateAdapter.getYear(droppedOn.date);\n            const month = this.dateAdapter.getMonth(droppedOn.date);\n            const date = this.dateAdapter.getDate(droppedOn.date);\n            const newStart = this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(event.start, year), month), date);\n            let newEnd;\n            if (event.end) {\n                const secondsDiff = this.dateAdapter.differenceInSeconds(newStart, event.start);\n                newEnd = this.dateAdapter.addSeconds(event.end, secondsDiff);\n            }\n            this.eventTimesChanged.emit({\n                event,\n                newStart,\n                newEnd,\n                day: droppedOn,\n                type: CalendarEventTimesChangedEventType.Drop\n            });\n        }\n    }\n    refreshHeader() {\n        this.columnHeaders = this.utils.getWeekViewHeader({\n            viewDate: this.viewDate,\n            weekStartsOn: this.weekStartsOn,\n            excluded: this.excludeDays,\n            weekendDays: this.weekendDays\n        });\n    }\n    refreshBody() {\n        this.view = this.utils.getMonthView({\n            events: this.events,\n            viewDate: this.viewDate,\n            weekStartsOn: this.weekStartsOn,\n            excluded: this.excludeDays,\n            weekendDays: this.weekendDays\n        });\n    }\n    checkActiveDayIsOpen() {\n        if (this.activeDayIsOpen === true) {\n            const activeDay = this.activeDay || this.viewDate;\n            this.openDay = this.view.days.find(day => this.dateAdapter.isSameDay(day.date, activeDay));\n            const index = this.view.days.indexOf(this.openDay);\n            this.openRowIndex =\n                Math.floor(index / this.view.totalDaysVisibleInWeek) *\n                    this.view.totalDaysVisibleInWeek;\n        }\n        else {\n            this.openRowIndex = null;\n            this.openDay = null;\n        }\n    }\n    refreshAll() {\n        this.refreshHeader();\n        this.refreshBody();\n        this.emitBeforeViewRender();\n        this.checkActiveDayIsOpen();\n    }\n    emitBeforeViewRender() {\n        if (this.columnHeaders && this.view) {\n            this.beforeViewRender.emit({\n                header: this.columnHeaders,\n                body: this.view.days,\n                period: this.view.period\n            });\n        }\n    }\n};\nCalendarMonthViewComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef },\n    { type: CalendarUtils },\n    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] },\n    { type: DateAdapter }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarMonthViewComponent.prototype, \"viewDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarMonthViewComponent.prototype, \"events\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarMonthViewComponent.prototype, \"excludeDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarMonthViewComponent.prototype, \"activeDayIsOpen\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarMonthViewComponent.prototype, \"activeDay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Subject)\n], CalendarMonthViewComponent.prototype, \"refresh\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarMonthViewComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"tooltipPlacement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"tooltipTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarMonthViewComponent.prototype, \"tooltipAppendToBody\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarMonthViewComponent.prototype, \"tooltipDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarMonthViewComponent.prototype, \"weekStartsOn\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"headerTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"cellTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"openDayEventsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"eventTitleTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"eventActionsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarMonthViewComponent.prototype, \"weekendDays\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"beforeViewRender\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"dayClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"eventClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"columnHeaderClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"eventTimesChanged\", void 0);\nCalendarMonthViewComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-month-view',\n        template: `\n    <div class=\"cal-month-view\" role=\"grid\">\n      <mwl-calendar-month-view-header\n        [days]=\"columnHeaders\"\n        [locale]=\"locale\"\n        (columnHeaderClicked)=\"columnHeaderClicked.emit($event)\"\n        [customTemplate]=\"headerTemplate\"\n      >\n      </mwl-calendar-month-view-header>\n      <div class=\"cal-days\">\n        <div\n          *ngFor=\"let rowIndex of view.rowOffsets; trackBy: trackByRowOffset\"\n        >\n          <div class=\"cal-cell-row\">\n            <mwl-calendar-month-cell\n              *ngFor=\"\n                let day of view.days\n                  | slice: rowIndex:rowIndex + view.totalDaysVisibleInWeek;\n                trackBy: trackByDate\n              \"\n              [ngClass]=\"day?.cssClass\"\n              [day]=\"day\"\n              [openDay]=\"openDay\"\n              [locale]=\"locale\"\n              [tooltipPlacement]=\"tooltipPlacement\"\n              [tooltipAppendToBody]=\"tooltipAppendToBody\"\n              [tooltipTemplate]=\"tooltipTemplate\"\n              [tooltipDelay]=\"tooltipDelay\"\n              [customTemplate]=\"cellTemplate\"\n              [ngStyle]=\"{ backgroundColor: day.backgroundColor }\"\n              (mwlClick)=\"dayClicked.emit({ day: day, sourceEvent: $event })\"\n              [clickListenerDisabled]=\"dayClicked.observers.length === 0\"\n              (mwlKeydownEnter)=\"\n                dayClicked.emit({ day: day, sourceEvent: $event })\n              \"\n              (highlightDay)=\"toggleDayHighlight($event.event, true)\"\n              (unhighlightDay)=\"toggleDayHighlight($event.event, false)\"\n              mwlDroppable\n              dragOverClass=\"cal-drag-over\"\n              (drop)=\"\n                eventDropped(\n                  day,\n                  $event.dropData.event,\n                  $event.dropData.draggedFrom\n                )\n              \"\n              (eventClicked)=\"\n                eventClicked.emit({\n                  event: $event.event,\n                  sourceEvent: $event.sourceEvent\n                })\n              \"\n              [attr.tabindex]=\"{} | calendarA11y: 'monthCellTabIndex'\"\n            >\n            </mwl-calendar-month-cell>\n          </div>\n          <mwl-calendar-open-day-events\n            [locale]=\"locale\"\n            [isOpen]=\"openRowIndex === rowIndex\"\n            [events]=\"openDay?.events\"\n            [date]=\"openDay?.date\"\n            [customTemplate]=\"openDayEventsTemplate\"\n            [eventTitleTemplate]=\"eventTitleTemplate\"\n            [eventActionsTemplate]=\"eventActionsTemplate\"\n            (eventClicked)=\"\n              eventClicked.emit({\n                event: $event.event,\n                sourceEvent: $event.sourceEvent\n              })\n            \"\n            mwlDroppable\n            dragOverClass=\"cal-drag-over\"\n            (drop)=\"\n              eventDropped(\n                openDay,\n                $event.dropData.event,\n                $event.dropData.draggedFrom\n              )\n            \"\n          >\n          </mwl-calendar-open-day-events>\n        </div>\n      </div>\n    </div>\n  `\n    }),\n    __param(2, Inject(LOCALE_ID)),\n    __metadata(\"design:paramtypes\", [ChangeDetectorRef,\n        CalendarUtils, String, DateAdapter])\n], CalendarMonthViewComponent);\n\nlet CalendarMonthViewHeaderComponent = class CalendarMonthViewHeaderComponent {\n    constructor() {\n        this.columnHeaderClicked = new EventEmitter();\n        this.trackByWeekDayHeaderDate = trackByWeekDayHeaderDate;\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarMonthViewHeaderComponent.prototype, \"days\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarMonthViewHeaderComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewHeaderComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewHeaderComponent.prototype, \"columnHeaderClicked\", void 0);\nCalendarMonthViewHeaderComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-month-view-header',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-days=\"days\"\n      let-locale=\"locale\"\n      let-trackByWeekDayHeaderDate=\"trackByWeekDayHeaderDate\"\n    >\n      <div class=\"cal-cell-row cal-header\" role=\"row\">\n        <div\n          class=\"cal-cell\"\n          *ngFor=\"let day of days; trackBy: trackByWeekDayHeaderDate\"\n          [class.cal-past]=\"day.isPast\"\n          [class.cal-today]=\"day.isToday\"\n          [class.cal-future]=\"day.isFuture\"\n          [class.cal-weekend]=\"day.isWeekend\"\n          (click)=\"\n            columnHeaderClicked.emit({\n              isoDayNumber: day.day,\n              sourceEvent: $event\n            })\n          \"\n          [ngClass]=\"day.cssClass\"\n          tabindex=\"0\"\n          role=\"columnheader\"\n        >\n          {{ day.date | calendarDate: 'monthViewColumnHeader':locale }}\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        days: days,\n        locale: locale,\n        trackByWeekDayHeaderDate: trackByWeekDayHeaderDate\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarMonthViewHeaderComponent);\n\nlet CalendarMonthCellComponent = class CalendarMonthCellComponent {\n    constructor() {\n        this.highlightDay = new EventEmitter();\n        this.unhighlightDay = new EventEmitter();\n        this.eventClicked = new EventEmitter();\n        this.trackByEventId = trackByEventId;\n        this.validateDrag = isWithinThreshold;\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthCellComponent.prototype, \"day\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthCellComponent.prototype, \"openDay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarMonthCellComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthCellComponent.prototype, \"tooltipPlacement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarMonthCellComponent.prototype, \"tooltipAppendToBody\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthCellComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthCellComponent.prototype, \"tooltipTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarMonthCellComponent.prototype, \"tooltipDelay\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], CalendarMonthCellComponent.prototype, \"highlightDay\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], CalendarMonthCellComponent.prototype, \"unhighlightDay\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthCellComponent.prototype, \"eventClicked\", void 0);\nCalendarMonthCellComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-month-cell',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-day=\"day\"\n      let-openDay=\"openDay\"\n      let-locale=\"locale\"\n      let-tooltipPlacement=\"tooltipPlacement\"\n      let-highlightDay=\"highlightDay\"\n      let-unhighlightDay=\"unhighlightDay\"\n      let-eventClicked=\"eventClicked\"\n      let-tooltipTemplate=\"tooltipTemplate\"\n      let-tooltipAppendToBody=\"tooltipAppendToBody\"\n      let-tooltipDelay=\"tooltipDelay\"\n      let-trackByEventId=\"trackByEventId\"\n      let-validateDrag=\"validateDrag\"\n    >\n      <div\n        class=\"cal-cell-top\"\n        [attr.aria-label]=\"\n          { day: day, locale: locale } | calendarA11y: 'monthCell'\n        \"\n      >\n        <span aria-hidden=\"true\">\n          <span class=\"cal-day-badge\" *ngIf=\"day.badgeTotal > 0\">{{\n            day.badgeTotal\n          }}</span>\n          <span class=\"cal-day-number\">{{\n            day.date | calendarDate: 'monthViewDayNumber':locale\n          }}</span>\n        </span>\n      </div>\n      <div class=\"cal-events\" *ngIf=\"day.events.length > 0\">\n        <div\n          class=\"cal-event\"\n          *ngFor=\"let event of day.events; trackBy: trackByEventId\"\n          [ngStyle]=\"{ backgroundColor: event.color?.primary }\"\n          [ngClass]=\"event?.cssClass\"\n          (mouseenter)=\"highlightDay.emit({ event: event })\"\n          (mouseleave)=\"unhighlightDay.emit({ event: event })\"\n          [mwlCalendarTooltip]=\"\n            event.title | calendarEventTitle: 'monthTooltip':event\n          \"\n          [tooltipPlacement]=\"tooltipPlacement\"\n          [tooltipEvent]=\"event\"\n          [tooltipTemplate]=\"tooltipTemplate\"\n          [tooltipAppendToBody]=\"tooltipAppendToBody\"\n          [tooltipDelay]=\"tooltipDelay\"\n          mwlDraggable\n          [class.cal-draggable]=\"event.draggable\"\n          dragActiveClass=\"cal-drag-active\"\n          [dropData]=\"{ event: event, draggedFrom: day }\"\n          [dragAxis]=\"{ x: event.draggable, y: event.draggable }\"\n          [validateDrag]=\"validateDrag\"\n          (mwlClick)=\"eventClicked.emit({ event: event, sourceEvent: $event })\"\n          [attr.aria-hidden]=\"{} | calendarA11y: 'hideMonthCellEvents'\"\n        ></div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        day: day,\n        openDay: openDay,\n        locale: locale,\n        tooltipPlacement: tooltipPlacement,\n        highlightDay: highlightDay,\n        unhighlightDay: unhighlightDay,\n        eventClicked: eventClicked,\n        tooltipTemplate: tooltipTemplate,\n        tooltipAppendToBody: tooltipAppendToBody,\n        tooltipDelay: tooltipDelay,\n        trackByEventId: trackByEventId,\n        validateDrag: validateDrag\n      }\"\n    >\n    </ng-template>\n  `,\n        host: {\n            class: 'cal-cell cal-day-cell',\n            '[class.cal-past]': 'day.isPast',\n            '[class.cal-today]': 'day.isToday',\n            '[class.cal-future]': 'day.isFuture',\n            '[class.cal-weekend]': 'day.isWeekend',\n            '[class.cal-in-month]': 'day.inMonth',\n            '[class.cal-out-month]': '!day.inMonth',\n            '[class.cal-has-events]': 'day.events.length > 0',\n            '[class.cal-open]': 'day === openDay',\n            '[class.cal-event-highlight]': '!!day.backgroundColor'\n        }\n    })\n], CalendarMonthCellComponent);\n\nconst collapseAnimation = trigger('collapse', [\n    state('void', style({\n        height: 0,\n        overflow: 'hidden',\n        'padding-top': 0,\n        'padding-bottom': 0\n    })),\n    state('*', style({\n        height: '*',\n        overflow: 'hidden',\n        'padding-top': '*',\n        'padding-bottom': '*'\n    })),\n    transition('* => void', animate('150ms ease-out')),\n    transition('void => *', animate('150ms ease-in'))\n]);\nlet CalendarOpenDayEventsComponent = class CalendarOpenDayEventsComponent {\n    constructor() {\n        this.isOpen = false;\n        this.eventClicked = new EventEmitter();\n        this.trackByEventId = trackByEventId;\n        this.validateDrag = isWithinThreshold;\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarOpenDayEventsComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarOpenDayEventsComponent.prototype, \"isOpen\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarOpenDayEventsComponent.prototype, \"events\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarOpenDayEventsComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarOpenDayEventsComponent.prototype, \"eventTitleTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarOpenDayEventsComponent.prototype, \"eventActionsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarOpenDayEventsComponent.prototype, \"date\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarOpenDayEventsComponent.prototype, \"eventClicked\", void 0);\nCalendarOpenDayEventsComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-open-day-events',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-events=\"events\"\n      let-eventClicked=\"eventClicked\"\n      let-isOpen=\"isOpen\"\n      let-trackByEventId=\"trackByEventId\"\n      let-validateDrag=\"validateDrag\"\n    >\n      <div\n        class=\"cal-open-day-events\"\n        [@collapse]\n        *ngIf=\"isOpen\"\n        role=\"application\"\n      >\n        <span\n          tabindex=\"-1\"\n          role=\"alert\"\n          [attr.aria-label]=\"\n            { date: date, locale: locale } | calendarA11y: 'openDayEventsAlert'\n          \"\n        ></span>\n        <span\n          tabindex=\"0\"\n          role=\"landmark\"\n          [attr.aria-label]=\"\n            { date: date, locale: locale }\n              | calendarA11y: 'openDayEventsLandmark'\n          \"\n        ></span>\n        <div\n          *ngFor=\"let event of events; trackBy: trackByEventId\"\n          [ngClass]=\"event?.cssClass\"\n          mwlDraggable\n          [class.cal-draggable]=\"event.draggable\"\n          dragActiveClass=\"cal-drag-active\"\n          [dropData]=\"{ event: event }\"\n          [dragAxis]=\"{ x: event.draggable, y: event.draggable }\"\n          [validateDrag]=\"validateDrag\"\n        >\n          <span\n            class=\"cal-event\"\n            [ngStyle]=\"{ backgroundColor: event.color?.primary }\"\n          >\n          </span>\n          &ngsp;\n          <mwl-calendar-event-title\n            [event]=\"event\"\n            [customTemplate]=\"eventTitleTemplate\"\n            view=\"month\"\n            (mwlClick)=\"\n              eventClicked.emit({ event: event, sourceEvent: $event })\n            \"\n            (mwlKeydownEnter)=\"\n              eventClicked.emit({ event: event, sourceEvent: $event })\n            \"\n            tabindex=\"0\"\n            [attr.aria-label]=\"\n              { event: event, locale: locale }\n                | calendarA11y: 'eventDescription'\n            \"\n          >\n          </mwl-calendar-event-title>\n          &ngsp;\n          <mwl-calendar-event-actions\n            [event]=\"event\"\n            [customTemplate]=\"eventActionsTemplate\"\n          >\n          </mwl-calendar-event-actions>\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        events: events,\n        eventClicked: eventClicked,\n        isOpen: isOpen,\n        trackByEventId: trackByEventId,\n        validateDrag: validateDrag\n      }\"\n    >\n    </ng-template>\n  `,\n        animations: [collapseAnimation]\n    })\n], CalendarOpenDayEventsComponent);\n\nlet CalendarMonthModule = class CalendarMonthModule {\n};\nCalendarMonthModule = __decorate([\n    NgModule({\n        imports: [CommonModule, DragAndDropModule, CalendarCommonModule],\n        declarations: [\n            CalendarMonthViewComponent,\n            CalendarMonthCellComponent,\n            CalendarOpenDayEventsComponent,\n            CalendarMonthViewHeaderComponent\n        ],\n        exports: [\n            DragAndDropModule,\n            CalendarMonthViewComponent,\n            CalendarMonthCellComponent,\n            CalendarOpenDayEventsComponent,\n            CalendarMonthViewHeaderComponent\n        ]\n    })\n], CalendarMonthModule);\n\nclass CalendarDragHelper {\n    constructor(dragContainerElement, draggableElement) {\n        this.dragContainerElement = dragContainerElement;\n        this.startPosition = draggableElement.getBoundingClientRect();\n    }\n    validateDrag({ x, y, snapDraggedEvents, dragAlreadyMoved, transform }) {\n        if (snapDraggedEvents) {\n            const newRect = Object.assign({}, this.startPosition, {\n                left: this.startPosition.left + transform.x,\n                right: this.startPosition.right + transform.x,\n                top: this.startPosition.top + transform.y,\n                bottom: this.startPosition.bottom + transform.y\n            });\n            return ((isWithinThreshold({ x, y }) || dragAlreadyMoved) &&\n                isInside(this.dragContainerElement.getBoundingClientRect(), newRect));\n        }\n        else {\n            return isWithinThreshold({ x, y }) || dragAlreadyMoved;\n        }\n    }\n}\n\nclass CalendarResizeHelper {\n    constructor(resizeContainerElement, minWidth) {\n        this.resizeContainerElement = resizeContainerElement;\n        this.minWidth = minWidth;\n    }\n    validateResize({ rectangle }) {\n        if (this.minWidth &&\n            Math.ceil(rectangle.width) < Math.ceil(this.minWidth)) {\n            return false;\n        }\n        return isInside(this.resizeContainerElement.getBoundingClientRect(), rectangle);\n    }\n}\n\n/**\n * Shows all events on a given week. Example usage:\n *\n * ```typescript\n * <mwl-calendar-week-view\n *  [viewDate]=\"viewDate\"\n *  [events]=\"events\">\n * </mwl-calendar-week-view>\n * ```\n */\nlet CalendarWeekViewComponent = class CalendarWeekViewComponent {\n    /**\n     * @hidden\n     */\n    constructor(cdr, utils, locale, dateAdapter) {\n        this.cdr = cdr;\n        this.utils = utils;\n        this.dateAdapter = dateAdapter;\n        /**\n         * An array of events to display on view\n         * The schema is available here: https://github.com/mattlewis92/calendar-utils/blob/c51689985f59a271940e30bc4e2c4e1fee3fcb5c/src/calendarUtils.ts#L49-L63\n         */\n        this.events = [];\n        /**\n         * An array of day indexes (0 = sunday, 1 = monday etc) that will be hidden on the view\n         */\n        this.excludeDays = [];\n        /**\n         * The placement of the event tooltip\n         */\n        this.tooltipPlacement = 'auto';\n        /**\n         * Whether to append tooltips to the body or next to the trigger element\n         */\n        this.tooltipAppendToBody = true;\n        /**\n         * The delay in milliseconds before the tooltip should be displayed. If not provided the tooltip\n         * will be displayed immediately.\n         */\n        this.tooltipDelay = null;\n        /**\n         * The precision to display events.\n         * `days` will round event start and end dates to the nearest day and `minutes` will not do this rounding\n         */\n        this.precision = 'days';\n        /**\n         * Whether to snap events to a grid when dragging\n         */\n        this.snapDraggedEvents = true;\n        /**\n         * The number of segments in an hour. Must be <= 6\n         */\n        this.hourSegments = 2;\n        /**\n         * The height in pixels of each hour segment\n         */\n        this.hourSegmentHeight = 30;\n        /**\n         * The day start hours in 24 hour time. Must be 0-23\n         */\n        this.dayStartHour = 0;\n        /**\n         * The day start minutes. Must be 0-59\n         */\n        this.dayStartMinute = 0;\n        /**\n         * The day end hours in 24 hour time. Must be 0-23\n         */\n        this.dayEndHour = 23;\n        /**\n         * The day end minutes. Must be 0-59\n         */\n        this.dayEndMinute = 59;\n        /**\n         * Called when a header week day is clicked. Adding a `cssClass` property on `$event.day` will add that class to the header element\n         */\n        this.dayHeaderClicked = new EventEmitter();\n        /**\n         * Called when the event title is clicked\n         */\n        this.eventClicked = new EventEmitter();\n        /**\n         * Called when an event is resized or dragged and dropped\n         */\n        this.eventTimesChanged = new EventEmitter();\n        /**\n         * An output that will be called before the view is rendered for the current week.\n         * If you add the `cssClass` property to a day in the header it will add that class to the cell element in the template\n         */\n        this.beforeViewRender = new EventEmitter();\n        /**\n         * Called when an hour segment is clicked\n         */\n        this.hourSegmentClicked = new EventEmitter();\n        /**\n         * @hidden\n         */\n        this.allDayEventResizes = new Map();\n        /**\n         * @hidden\n         */\n        this.timeEventResizes = new Map();\n        /**\n         * @hidden\n         */\n        this.eventDragEnterByType = {\n            allDay: 0,\n            time: 0\n        };\n        /**\n         * @hidden\n         */\n        this.dragActive = false;\n        /**\n         * @hidden\n         */\n        this.dragAlreadyMoved = false;\n        /**\n         * @hidden\n         */\n        this.calendarId = Symbol('angular calendar week view id');\n        /**\n         * @hidden\n         */\n        this.trackByWeekDayHeaderDate = trackByWeekDayHeaderDate;\n        /**\n         * @hidden\n         */\n        this.trackByHourSegment = trackByHourSegment;\n        /**\n         * @hidden\n         */\n        this.trackByHour = trackByHour;\n        /**\n         * @hidden\n         */\n        this.trackByWeekAllDayEvent = trackByWeekAllDayEvent;\n        /**\n         * @hidden\n         */\n        this.trackByWeekTimeEvent = trackByWeekTimeEvent;\n        /**\n         * @hidden\n         */\n        this.trackByHourColumn = (index, column) => column.hours[0] ? column.hours[0].segments[0].date.toISOString() : column;\n        /**\n         * @hidden\n         */\n        this.trackById = (index, row) => row.id;\n        this.locale = locale;\n    }\n    /**\n     * @hidden\n     */\n    ngOnInit() {\n        if (this.refresh) {\n            this.refreshSubscription = this.refresh.subscribe(() => {\n                this.refreshAll();\n                this.cdr.markForCheck();\n            });\n        }\n    }\n    /**\n     * @hidden\n     */\n    ngOnChanges(changes) {\n        const refreshHeader = changes.viewDate ||\n            changes.excludeDays ||\n            changes.weekendDays ||\n            changes.daysInWeek ||\n            changes.weekStartsOn;\n        const refreshBody = changes.viewDate ||\n            changes.dayStartHour ||\n            changes.dayStartMinute ||\n            changes.dayEndHour ||\n            changes.dayEndMinute ||\n            changes.hourSegments ||\n            changes.weekStartsOn ||\n            changes.weekendDays ||\n            changes.excludeDays ||\n            changes.hourSegmentHeight ||\n            changes.events ||\n            changes.daysInWeek;\n        if (refreshHeader) {\n            this.refreshHeader();\n        }\n        if (changes.events) {\n            validateEvents(this.events);\n        }\n        if (refreshBody) {\n            this.refreshBody();\n        }\n        if (refreshHeader || refreshBody) {\n            this.emitBeforeViewRender();\n        }\n    }\n    /**\n     * @hidden\n     */\n    ngOnDestroy() {\n        if (this.refreshSubscription) {\n            this.refreshSubscription.unsubscribe();\n        }\n    }\n    resizeStarted(eventsContainer, minWidth) {\n        this.dayColumnWidth = this.getDayColumnWidth(eventsContainer);\n        const resizeHelper = new CalendarResizeHelper(eventsContainer, minWidth);\n        this.validateResize = ({ rectangle }) => resizeHelper.validateResize({ rectangle });\n        this.cdr.markForCheck();\n    }\n    /**\n     * @hidden\n     */\n    timeEventResizeStarted(eventsContainer, timeEvent, resizeEvent) {\n        this.timeEventResizes.set(timeEvent.event, resizeEvent);\n        this.resizeStarted(eventsContainer);\n    }\n    /**\n     * @hidden\n     */\n    timeEventResizing(timeEvent, resizeEvent) {\n        this.timeEventResizes.set(timeEvent.event, resizeEvent);\n        const adjustedEvents = new Map();\n        const tempEvents = [...this.events];\n        this.timeEventResizes.forEach((lastResizeEvent, event) => {\n            const newEventDates = this.getTimeEventResizedDates(event, lastResizeEvent);\n            const adjustedEvent = Object.assign({}, event, newEventDates);\n            adjustedEvents.set(adjustedEvent, event);\n            const eventIndex = tempEvents.indexOf(event);\n            tempEvents[eventIndex] = adjustedEvent;\n        });\n        this.restoreOriginalEvents(tempEvents, adjustedEvents);\n    }\n    /**\n     * @hidden\n     */\n    timeEventResizeEnded(timeEvent) {\n        this.view = this.getWeekView(this.events);\n        const lastResizeEvent = this.timeEventResizes.get(timeEvent.event);\n        if (lastResizeEvent) {\n            this.timeEventResizes.delete(timeEvent.event);\n            const newEventDates = this.getTimeEventResizedDates(timeEvent.event, lastResizeEvent);\n            this.eventTimesChanged.emit({\n                newStart: newEventDates.start,\n                newEnd: newEventDates.end,\n                event: timeEvent.event,\n                type: CalendarEventTimesChangedEventType.Resize\n            });\n        }\n    }\n    /**\n     * @hidden\n     */\n    allDayEventResizeStarted(allDayEventsContainer, allDayEvent, resizeEvent) {\n        this.allDayEventResizes.set(allDayEvent, {\n            originalOffset: allDayEvent.offset,\n            originalSpan: allDayEvent.span,\n            edge: typeof resizeEvent.edges.left !== 'undefined' ? 'left' : 'right'\n        });\n        this.resizeStarted(allDayEventsContainer, this.getDayColumnWidth(allDayEventsContainer));\n    }\n    /**\n     * @hidden\n     */\n    allDayEventResizing(allDayEvent, resizeEvent, dayWidth) {\n        const currentResize = this.allDayEventResizes.get(allDayEvent);\n        if (typeof resizeEvent.edges.left !== 'undefined') {\n            const diff = Math.round(+resizeEvent.edges.left / dayWidth);\n            allDayEvent.offset = currentResize.originalOffset + diff;\n            allDayEvent.span = currentResize.originalSpan - diff;\n        }\n        else if (typeof resizeEvent.edges.right !== 'undefined') {\n            const diff = Math.round(+resizeEvent.edges.right / dayWidth);\n            allDayEvent.span = currentResize.originalSpan + diff;\n        }\n    }\n    /**\n     * @hidden\n     */\n    allDayEventResizeEnded(allDayEvent) {\n        const currentResize = this.allDayEventResizes.get(allDayEvent);\n        if (currentResize) {\n            const allDayEventResizingBeforeStart = currentResize.edge === 'left';\n            let daysDiff;\n            if (allDayEventResizingBeforeStart) {\n                daysDiff = allDayEvent.offset - currentResize.originalOffset;\n            }\n            else {\n                daysDiff = allDayEvent.span - currentResize.originalSpan;\n            }\n            allDayEvent.offset = currentResize.originalOffset;\n            allDayEvent.span = currentResize.originalSpan;\n            let newStart = allDayEvent.event.start;\n            let newEnd = allDayEvent.event.end || allDayEvent.event.start;\n            if (allDayEventResizingBeforeStart) {\n                newStart = addDaysWithExclusions(this.dateAdapter, newStart, daysDiff, this.excludeDays);\n            }\n            else {\n                newEnd = addDaysWithExclusions(this.dateAdapter, newEnd, daysDiff, this.excludeDays);\n            }\n            this.eventTimesChanged.emit({\n                newStart,\n                newEnd,\n                event: allDayEvent.event,\n                type: CalendarEventTimesChangedEventType.Resize\n            });\n            this.allDayEventResizes.delete(allDayEvent);\n        }\n    }\n    /**\n     * @hidden\n     */\n    getDayColumnWidth(eventRowContainer) {\n        return Math.floor(eventRowContainer.offsetWidth / this.days.length);\n    }\n    /**\n     * @hidden\n     */\n    dateDragEnter(date) {\n        this.lastDragEnterDate = date;\n    }\n    /**\n     * @hidden\n     */\n    eventDropped(dropEvent, date, allDay) {\n        if (shouldFireDroppedEvent(dropEvent, date, allDay, this.calendarId) &&\n            this.lastDragEnterDate.getTime() === date.getTime()) {\n            this.eventTimesChanged.emit({\n                type: CalendarEventTimesChangedEventType.Drop,\n                event: dropEvent.dropData.event,\n                newStart: date,\n                allDay\n            });\n        }\n    }\n    /**\n     * @hidden\n     */\n    dragEnter(type) {\n        this.eventDragEnterByType[type]++;\n    }\n    /**\n     * @hidden\n     */\n    dragLeave(type) {\n        this.eventDragEnterByType[type]--;\n    }\n    /**\n     * @hidden\n     */\n    dragStarted(eventsContainer, event, dayEvent) {\n        this.dayColumnWidth = this.getDayColumnWidth(eventsContainer);\n        const dragHelper = new CalendarDragHelper(eventsContainer, event);\n        this.validateDrag = ({ x, y, transform }) => this.allDayEventResizes.size === 0 &&\n            this.timeEventResizes.size === 0 &&\n            dragHelper.validateDrag({\n                x,\n                y,\n                snapDraggedEvents: this.snapDraggedEvents,\n                dragAlreadyMoved: this.dragAlreadyMoved,\n                transform\n            });\n        this.dragActive = true;\n        this.dragAlreadyMoved = false;\n        this.eventDragEnterByType = {\n            allDay: 0,\n            time: 0\n        };\n        if (!this.snapDraggedEvents && dayEvent) {\n            this.view.hourColumns.forEach(column => {\n                const linkedEvent = column.events.find(columnEvent => columnEvent.event === dayEvent.event && columnEvent !== dayEvent);\n                // hide any linked events while dragging\n                if (linkedEvent) {\n                    linkedEvent.width = 0;\n                    linkedEvent.height = 0;\n                }\n            });\n        }\n        this.cdr.markForCheck();\n    }\n    /**\n     * @hidden\n     */\n    dragMove(dayEvent, dragEvent) {\n        if (this.snapDraggedEvents) {\n            const newEventTimes = this.getDragMovedEventTimes(dayEvent, dragEvent, this.dayColumnWidth, true);\n            const originalEvent = dayEvent.event;\n            const adjustedEvent = Object.assign({}, originalEvent, newEventTimes);\n            const tempEvents = this.events.map(event => {\n                if (event === originalEvent) {\n                    return adjustedEvent;\n                }\n                return event;\n            });\n            this.restoreOriginalEvents(tempEvents, new Map([[adjustedEvent, originalEvent]]));\n        }\n        this.dragAlreadyMoved = true;\n    }\n    /**\n     * @hidden\n     */\n    allDayEventDragMove() {\n        this.dragAlreadyMoved = true;\n    }\n    /**\n     * @hidden\n     */\n    dragEnded(weekEvent, dragEndEvent, dayWidth, useY = false) {\n        this.view = this.getWeekView(this.events);\n        this.dragActive = false;\n        const { start, end } = this.getDragMovedEventTimes(weekEvent, dragEndEvent, dayWidth, useY);\n        if (this.eventDragEnterByType[useY ? 'time' : 'allDay'] > 0 &&\n            isDraggedWithinPeriod(start, end, this.view.period)) {\n            this.eventTimesChanged.emit({\n                newStart: start,\n                newEnd: end,\n                event: weekEvent.event,\n                type: CalendarEventTimesChangedEventType.Drag,\n                allDay: !useY\n            });\n        }\n    }\n    refreshHeader() {\n        this.days = this.utils.getWeekViewHeader(Object.assign({ viewDate: this.viewDate, weekStartsOn: this.weekStartsOn, excluded: this.excludeDays, weekendDays: this.weekendDays }, getWeekViewPeriod(this.dateAdapter, this.viewDate, this.weekStartsOn, this.excludeDays, this.daysInWeek)));\n    }\n    refreshBody() {\n        this.view = this.getWeekView(this.events);\n    }\n    refreshAll() {\n        this.refreshHeader();\n        this.refreshBody();\n        this.emitBeforeViewRender();\n    }\n    emitBeforeViewRender() {\n        if (this.days && this.view) {\n            this.beforeViewRender.emit(Object.assign({ header: this.days }, this.view));\n        }\n    }\n    getWeekView(events) {\n        return this.utils.getWeekView(Object.assign({ events, viewDate: this.viewDate, weekStartsOn: this.weekStartsOn, excluded: this.excludeDays, precision: this.precision, absolutePositionedEvents: true, hourSegments: this.hourSegments, dayStart: {\n                hour: this.dayStartHour,\n                minute: this.dayStartMinute\n            }, dayEnd: {\n                hour: this.dayEndHour,\n                minute: this.dayEndMinute\n            }, segmentHeight: this.hourSegmentHeight, weekendDays: this.weekendDays }, getWeekViewPeriod(this.dateAdapter, this.viewDate, this.weekStartsOn, this.excludeDays, this.daysInWeek)));\n    }\n    getDragMovedEventTimes(weekEvent, dragEndEvent, dayWidth, useY) {\n        const daysDragged = roundToNearest(dragEndEvent.x, dayWidth) / dayWidth;\n        const minutesMoved = useY\n            ? getMinutesMoved(dragEndEvent.y, this.hourSegments, this.hourSegmentHeight, this.eventSnapSize)\n            : 0;\n        const start = this.dateAdapter.addMinutes(addDaysWithExclusions(this.dateAdapter, weekEvent.event.start, daysDragged, this.excludeDays), minutesMoved);\n        let end;\n        if (weekEvent.event.end) {\n            end = this.dateAdapter.addMinutes(addDaysWithExclusions(this.dateAdapter, weekEvent.event.end, daysDragged, this.excludeDays), minutesMoved);\n        }\n        return { start, end };\n    }\n    restoreOriginalEvents(tempEvents, adjustedEvents) {\n        const previousView = this.view;\n        this.view = this.getWeekView(tempEvents);\n        const adjustedEventsArray = tempEvents.filter(event => adjustedEvents.has(event));\n        this.view.hourColumns.forEach((column, columnIndex) => {\n            previousView.hourColumns[columnIndex].hours.forEach((hour, hourIndex) => {\n                hour.segments.forEach((segment, segmentIndex) => {\n                    column.hours[hourIndex].segments[segmentIndex].cssClass =\n                        segment.cssClass;\n                });\n            });\n            adjustedEventsArray.forEach(adjustedEvent => {\n                const originalEvent = adjustedEvents.get(adjustedEvent);\n                const existingColumnEvent = column.events.find(columnEvent => columnEvent.event === adjustedEvent);\n                if (existingColumnEvent) {\n                    // restore the original event so trackBy kicks in and the dom isn't changed\n                    existingColumnEvent.event = originalEvent;\n                }\n                else {\n                    // add a dummy event to the drop so if the event was removed from the original column the drag doesn't end early\n                    column.events.push({\n                        event: originalEvent,\n                        left: 0,\n                        top: 0,\n                        height: 0,\n                        width: 0,\n                        startsBeforeDay: false,\n                        endsAfterDay: false\n                    });\n                }\n            });\n        });\n        adjustedEvents.clear();\n    }\n    getTimeEventResizedDates(calendarEvent, resizeEvent) {\n        const minimumEventHeight = getMinimumEventHeightInMinutes(this.hourSegments, this.hourSegmentHeight);\n        const newEventDates = {\n            start: calendarEvent.start,\n            end: getDefaultEventEnd(this.dateAdapter, calendarEvent, minimumEventHeight)\n        };\n        const { end } = calendarEvent, eventWithoutEnd = __rest(calendarEvent, [\"end\"]);\n        const smallestResizes = {\n            start: this.dateAdapter.addMinutes(newEventDates.end, minimumEventHeight * -1),\n            end: getDefaultEventEnd(this.dateAdapter, eventWithoutEnd, minimumEventHeight)\n        };\n        if (typeof resizeEvent.edges.left !== 'undefined') {\n            const daysDiff = Math.round(+resizeEvent.edges.left / this.dayColumnWidth);\n            const newStart = addDaysWithExclusions(this.dateAdapter, newEventDates.start, daysDiff, this.excludeDays);\n            if (newStart < smallestResizes.start) {\n                newEventDates.start = newStart;\n            }\n            else {\n                newEventDates.start = smallestResizes.start;\n            }\n        }\n        else if (typeof resizeEvent.edges.right !== 'undefined') {\n            const daysDiff = Math.round(+resizeEvent.edges.right / this.dayColumnWidth);\n            const newEnd = addDaysWithExclusions(this.dateAdapter, newEventDates.end, daysDiff, this.excludeDays);\n            if (newEnd > smallestResizes.end) {\n                newEventDates.end = newEnd;\n            }\n            else {\n                newEventDates.end = smallestResizes.end;\n            }\n        }\n        if (typeof resizeEvent.edges.top !== 'undefined') {\n            const minutesMoved = getMinutesMoved(resizeEvent.edges.top, this.hourSegments, this.hourSegmentHeight, this.eventSnapSize);\n            const newStart = this.dateAdapter.addMinutes(newEventDates.start, minutesMoved);\n            if (newStart < smallestResizes.start) {\n                newEventDates.start = newStart;\n            }\n            else {\n                newEventDates.start = smallestResizes.start;\n            }\n        }\n        else if (typeof resizeEvent.edges.bottom !== 'undefined') {\n            const minutesMoved = getMinutesMoved(resizeEvent.edges.bottom, this.hourSegments, this.hourSegmentHeight, this.eventSnapSize);\n            const newEnd = this.dateAdapter.addMinutes(newEventDates.end, minutesMoved);\n            if (newEnd > smallestResizes.end) {\n                newEventDates.end = newEnd;\n            }\n            else {\n                newEventDates.end = smallestResizes.end;\n            }\n        }\n        return newEventDates;\n    }\n};\nCalendarWeekViewComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef },\n    { type: CalendarUtils },\n    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] },\n    { type: DateAdapter }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarWeekViewComponent.prototype, \"viewDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarWeekViewComponent.prototype, \"events\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarWeekViewComponent.prototype, \"excludeDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Subject)\n], CalendarWeekViewComponent.prototype, \"refresh\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarWeekViewComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"tooltipPlacement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"tooltipTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarWeekViewComponent.prototype, \"tooltipAppendToBody\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"tooltipDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"weekStartsOn\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"headerTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"eventTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"eventTitleTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"eventActionsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarWeekViewComponent.prototype, \"precision\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarWeekViewComponent.prototype, \"weekendDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarWeekViewComponent.prototype, \"snapDraggedEvents\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"hourSegments\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"hourSegmentHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"dayStartHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"dayStartMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"dayEndHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"dayEndMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"hourSegmentTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"eventSnapSize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"allDayEventsLabelTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"daysInWeek\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"currentTimeMarkerTemplate\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"dayHeaderClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"eventClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"eventTimesChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"beforeViewRender\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"hourSegmentClicked\", void 0);\nCalendarWeekViewComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-week-view',\n        template: `\n    <div class=\"cal-week-view\" role=\"grid\">\n      <mwl-calendar-week-view-header\n        [days]=\"days\"\n        [locale]=\"locale\"\n        [customTemplate]=\"headerTemplate\"\n        (dayHeaderClicked)=\"dayHeaderClicked.emit($event)\"\n        (eventDropped)=\"\n          eventDropped({ dropData: $event }, $event.newStart, true)\n        \"\n        (dragEnter)=\"dateDragEnter($event.date)\"\n      >\n      </mwl-calendar-week-view-header>\n      <div\n        class=\"cal-all-day-events\"\n        #allDayEventsContainer\n        *ngIf=\"view.allDayEventRows.length > 0\"\n        mwlDroppable\n        (dragEnter)=\"dragEnter('allDay')\"\n        (dragLeave)=\"dragLeave('allDay')\"\n      >\n        <div class=\"cal-day-columns\">\n          <div\n            class=\"cal-time-label-column\"\n            [ngTemplateOutlet]=\"allDayEventsLabelTemplate\"\n          ></div>\n          <div\n            class=\"cal-day-column\"\n            *ngFor=\"let day of days; trackBy: trackByWeekDayHeaderDate\"\n            mwlDroppable\n            dragOverClass=\"cal-drag-over\"\n            (drop)=\"eventDropped($event, day.date, true)\"\n            (dragEnter)=\"dateDragEnter(day.date)\"\n          ></div>\n        </div>\n        <div\n          *ngFor=\"let eventRow of view.allDayEventRows; trackBy: trackById\"\n          #eventRowContainer\n          class=\"cal-events-row\"\n        >\n          <div\n            *ngFor=\"\n              let allDayEvent of eventRow.row;\n              trackBy: trackByWeekAllDayEvent\n            \"\n            #event\n            class=\"cal-event-container\"\n            [class.cal-draggable]=\"\n              allDayEvent.event.draggable && allDayEventResizes.size === 0\n            \"\n            [class.cal-starts-within-week]=\"!allDayEvent.startsBeforeWeek\"\n            [class.cal-ends-within-week]=\"!allDayEvent.endsAfterWeek\"\n            [ngClass]=\"allDayEvent.event?.cssClass\"\n            [style.width.%]=\"(100 / days.length) * allDayEvent.span\"\n            [style.marginLeft.%]=\"(100 / days.length) * allDayEvent.offset\"\n            mwlResizable\n            [resizeSnapGrid]=\"{ left: dayColumnWidth, right: dayColumnWidth }\"\n            [validateResize]=\"validateResize\"\n            (resizeStart)=\"\n              allDayEventResizeStarted(eventRowContainer, allDayEvent, $event)\n            \"\n            (resizing)=\"\n              allDayEventResizing(allDayEvent, $event, dayColumnWidth)\n            \"\n            (resizeEnd)=\"allDayEventResizeEnded(allDayEvent)\"\n            mwlDraggable\n            dragActiveClass=\"cal-drag-active\"\n            [dropData]=\"{ event: allDayEvent.event, calendarId: calendarId }\"\n            [dragAxis]=\"{\n              x: allDayEvent.event.draggable && allDayEventResizes.size === 0,\n              y:\n                !snapDraggedEvents &&\n                allDayEvent.event.draggable &&\n                allDayEventResizes.size === 0\n            }\"\n            [dragSnapGrid]=\"snapDraggedEvents ? { x: dayColumnWidth } : {}\"\n            [validateDrag]=\"validateDrag\"\n            (dragStart)=\"dragStarted(eventRowContainer, event)\"\n            (dragging)=\"allDayEventDragMove()\"\n            (dragEnd)=\"dragEnded(allDayEvent, $event, dayColumnWidth)\"\n          >\n            <div\n              class=\"cal-resize-handle cal-resize-handle-before-start\"\n              *ngIf=\"\n                allDayEvent.event?.resizable?.beforeStart &&\n                !allDayEvent.startsBeforeWeek\n              \"\n              mwlResizeHandle\n              [resizeEdges]=\"{ left: true }\"\n            ></div>\n            <mwl-calendar-week-view-event\n              [locale]=\"locale\"\n              [weekEvent]=\"allDayEvent\"\n              [tooltipPlacement]=\"tooltipPlacement\"\n              [tooltipTemplate]=\"tooltipTemplate\"\n              [tooltipAppendToBody]=\"tooltipAppendToBody\"\n              [tooltipDelay]=\"tooltipDelay\"\n              [customTemplate]=\"eventTemplate\"\n              [eventTitleTemplate]=\"eventTitleTemplate\"\n              [eventActionsTemplate]=\"eventActionsTemplate\"\n              [daysInWeek]=\"daysInWeek\"\n              (eventClicked)=\"\n                eventClicked.emit({\n                  event: allDayEvent.event,\n                  sourceEvent: $event.sourceEvent\n                })\n              \"\n            >\n            </mwl-calendar-week-view-event>\n            <div\n              class=\"cal-resize-handle cal-resize-handle-after-end\"\n              *ngIf=\"\n                allDayEvent.event?.resizable?.afterEnd &&\n                !allDayEvent.endsAfterWeek\n              \"\n              mwlResizeHandle\n              [resizeEdges]=\"{ right: true }\"\n            ></div>\n          </div>\n        </div>\n      </div>\n      <div\n        class=\"cal-time-events\"\n        mwlDroppable\n        (dragEnter)=\"dragEnter('time')\"\n        (dragLeave)=\"dragLeave('time')\"\n      >\n        <div\n          class=\"cal-time-label-column\"\n          *ngIf=\"view.hourColumns.length > 0 && daysInWeek !== 1\"\n        >\n          <div\n            *ngFor=\"\n              let hour of view.hourColumns[0].hours;\n              trackBy: trackByHour;\n              let odd = odd\n            \"\n            class=\"cal-hour\"\n            [class.cal-hour-odd]=\"odd\"\n          >\n            <mwl-calendar-week-view-hour-segment\n              *ngFor=\"let segment of hour.segments; trackBy: trackByHourSegment\"\n              [style.height.px]=\"hourSegmentHeight\"\n              [segment]=\"segment\"\n              [segmentHeight]=\"hourSegmentHeight\"\n              [locale]=\"locale\"\n              [customTemplate]=\"hourSegmentTemplate\"\n              [isTimeLabel]=\"true\"\n              [daysInWeek]=\"daysInWeek\"\n            >\n            </mwl-calendar-week-view-hour-segment>\n          </div>\n        </div>\n        <div\n          class=\"cal-day-columns\"\n          [class.cal-resize-active]=\"timeEventResizes.size > 0\"\n          #dayColumns\n        >\n          <div\n            class=\"cal-day-column\"\n            *ngFor=\"let column of view.hourColumns; trackBy: trackByHourColumn\"\n          >\n            <mwl-calendar-week-view-current-time-marker\n              [columnDate]=\"column.date\"\n              [dayStartHour]=\"dayStartHour\"\n              [dayStartMinute]=\"dayStartMinute\"\n              [dayEndHour]=\"dayEndHour\"\n              [dayEndMinute]=\"dayEndMinute\"\n              [hourSegments]=\"hourSegments\"\n              [hourSegmentHeight]=\"hourSegmentHeight\"\n              [customTemplate]=\"currentTimeMarkerTemplate\"\n            ></mwl-calendar-week-view-current-time-marker>\n            <div class=\"cal-events-container\">\n              <div\n                *ngFor=\"\n                  let timeEvent of column.events;\n                  trackBy: trackByWeekTimeEvent\n                \"\n                #event\n                class=\"cal-event-container\"\n                [class.cal-draggable]=\"\n                  timeEvent.event.draggable && timeEventResizes.size === 0\n                \"\n                [class.cal-starts-within-day]=\"!timeEvent.startsBeforeDay\"\n                [class.cal-ends-within-day]=\"!timeEvent.endsAfterDay\"\n                [ngClass]=\"timeEvent.event.cssClass\"\n                [hidden]=\"timeEvent.height === 0 && timeEvent.width === 0\"\n                [style.top.px]=\"timeEvent.top\"\n                [style.height.px]=\"timeEvent.height\"\n                [style.left.%]=\"timeEvent.left\"\n                [style.width.%]=\"timeEvent.width\"\n                mwlResizable\n                [resizeSnapGrid]=\"{\n                  left: dayColumnWidth,\n                  right: dayColumnWidth,\n                  top: eventSnapSize || hourSegmentHeight,\n                  bottom: eventSnapSize || hourSegmentHeight\n                }\"\n                [validateResize]=\"validateResize\"\n                [allowNegativeResizes]=\"true\"\n                (resizeStart)=\"\n                  timeEventResizeStarted(dayColumns, timeEvent, $event)\n                \"\n                (resizing)=\"timeEventResizing(timeEvent, $event)\"\n                (resizeEnd)=\"timeEventResizeEnded(timeEvent)\"\n                mwlDraggable\n                dragActiveClass=\"cal-drag-active\"\n                [dropData]=\"{ event: timeEvent.event, calendarId: calendarId }\"\n                [dragAxis]=\"{\n                  x: timeEvent.event.draggable && timeEventResizes.size === 0,\n                  y: timeEvent.event.draggable && timeEventResizes.size === 0\n                }\"\n                [dragSnapGrid]=\"\n                  snapDraggedEvents\n                    ? {\n                        x: dayColumnWidth,\n                        y: eventSnapSize || hourSegmentHeight\n                      }\n                    : {}\n                \"\n                [ghostDragEnabled]=\"!snapDraggedEvents\"\n                [validateDrag]=\"validateDrag\"\n                (dragStart)=\"dragStarted(dayColumns, event, timeEvent)\"\n                (dragging)=\"dragMove(timeEvent, $event)\"\n                (dragEnd)=\"dragEnded(timeEvent, $event, dayColumnWidth, true)\"\n              >\n                <div\n                  class=\"cal-resize-handle cal-resize-handle-before-start\"\n                  *ngIf=\"\n                    timeEvent.event?.resizable?.beforeStart &&\n                    !timeEvent.startsBeforeDay\n                  \"\n                  mwlResizeHandle\n                  [resizeEdges]=\"{\n                    left: true,\n                    top: true\n                  }\"\n                ></div>\n                <mwl-calendar-week-view-event\n                  [locale]=\"locale\"\n                  [weekEvent]=\"timeEvent\"\n                  [tooltipPlacement]=\"tooltipPlacement\"\n                  [tooltipTemplate]=\"tooltipTemplate\"\n                  [tooltipAppendToBody]=\"tooltipAppendToBody\"\n                  [tooltipDisabled]=\"dragActive || timeEventResizes.size > 0\"\n                  [tooltipDelay]=\"tooltipDelay\"\n                  [customTemplate]=\"eventTemplate\"\n                  [eventTitleTemplate]=\"eventTitleTemplate\"\n                  [eventActionsTemplate]=\"eventActionsTemplate\"\n                  [column]=\"column\"\n                  [daysInWeek]=\"daysInWeek\"\n                  (eventClicked)=\"\n                    eventClicked.emit({\n                      event: timeEvent.event,\n                      sourceEvent: $event.sourceEvent\n                    })\n                  \"\n                >\n                </mwl-calendar-week-view-event>\n                <div\n                  class=\"cal-resize-handle cal-resize-handle-after-end\"\n                  *ngIf=\"\n                    timeEvent.event?.resizable?.afterEnd &&\n                    !timeEvent.endsAfterDay\n                  \"\n                  mwlResizeHandle\n                  [resizeEdges]=\"{\n                    right: true,\n                    bottom: true\n                  }\"\n                ></div>\n              </div>\n            </div>\n\n            <div\n              *ngFor=\"\n                let hour of column.hours;\n                trackBy: trackByHour;\n                let odd = odd\n              \"\n              class=\"cal-hour\"\n              [class.cal-hour-odd]=\"odd\"\n            >\n              <mwl-calendar-week-view-hour-segment\n                *ngFor=\"\n                  let segment of hour.segments;\n                  trackBy: trackByHourSegment\n                \"\n                [style.height.px]=\"hourSegmentHeight\"\n                [segment]=\"segment\"\n                [segmentHeight]=\"hourSegmentHeight\"\n                [locale]=\"locale\"\n                [customTemplate]=\"hourSegmentTemplate\"\n                [daysInWeek]=\"daysInWeek\"\n                (mwlClick)=\"\n                  hourSegmentClicked.emit({\n                    date: segment.date,\n                    sourceEvent: $event\n                  })\n                \"\n                [clickListenerDisabled]=\"\n                  hourSegmentClicked.observers.length === 0\n                \"\n                mwlDroppable\n                [dragOverClass]=\"\n                  !dragActive || !snapDraggedEvents ? 'cal-drag-over' : null\n                \"\n                dragActiveClass=\"cal-drag-active\"\n                (drop)=\"eventDropped($event, segment.date, false)\"\n                (dragEnter)=\"dateDragEnter(segment.date)\"\n                [isTimeLabel]=\"daysInWeek === 1\"\n              >\n              </mwl-calendar-week-view-hour-segment>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n    }),\n    __param(2, Inject(LOCALE_ID)),\n    __metadata(\"design:paramtypes\", [ChangeDetectorRef,\n        CalendarUtils, String, DateAdapter])\n], CalendarWeekViewComponent);\n\nlet CalendarWeekViewHeaderComponent = class CalendarWeekViewHeaderComponent {\n    constructor() {\n        this.dayHeaderClicked = new EventEmitter();\n        this.eventDropped = new EventEmitter();\n        this.dragEnter = new EventEmitter();\n        this.trackByWeekDayHeaderDate = trackByWeekDayHeaderDate;\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarWeekViewHeaderComponent.prototype, \"days\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarWeekViewHeaderComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewHeaderComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewHeaderComponent.prototype, \"dayHeaderClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewHeaderComponent.prototype, \"eventDropped\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewHeaderComponent.prototype, \"dragEnter\", void 0);\nCalendarWeekViewHeaderComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-week-view-header',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-days=\"days\"\n      let-locale=\"locale\"\n      let-dayHeaderClicked=\"dayHeaderClicked\"\n      let-eventDropped=\"eventDropped\"\n      let-trackByWeekDayHeaderDate=\"trackByWeekDayHeaderDate\"\n      let-dragEnter=\"dragEnter\"\n    >\n      <div class=\"cal-day-headers\" role=\"row\">\n        <div\n          class=\"cal-header\"\n          *ngFor=\"let day of days; trackBy: trackByWeekDayHeaderDate\"\n          [class.cal-past]=\"day.isPast\"\n          [class.cal-today]=\"day.isToday\"\n          [class.cal-future]=\"day.isFuture\"\n          [class.cal-weekend]=\"day.isWeekend\"\n          [ngClass]=\"day.cssClass\"\n          (mwlClick)=\"dayHeaderClicked.emit({ day: day, sourceEvent: $event })\"\n          mwlDroppable\n          dragOverClass=\"cal-drag-over\"\n          (drop)=\"\n            eventDropped.emit({\n              event: $event.dropData.event,\n              newStart: day.date\n            })\n          \"\n          (dragEnter)=\"dragEnter.emit({ date: day.date })\"\n          tabindex=\"0\"\n          role=\"columnheader\"\n        >\n          <b>{{ day.date | calendarDate: 'weekViewColumnHeader':locale }}</b\n          ><br />\n          <span>{{\n            day.date | calendarDate: 'weekViewColumnSubHeader':locale\n          }}</span>\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        days: days,\n        locale: locale,\n        dayHeaderClicked: dayHeaderClicked,\n        eventDropped: eventDropped,\n        dragEnter: dragEnter,\n        trackByWeekDayHeaderDate: trackByWeekDayHeaderDate\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarWeekViewHeaderComponent);\n\nlet CalendarWeekViewEventComponent = class CalendarWeekViewEventComponent {\n    constructor() {\n        this.eventClicked = new EventEmitter();\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarWeekViewEventComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewEventComponent.prototype, \"weekEvent\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewEventComponent.prototype, \"tooltipPlacement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarWeekViewEventComponent.prototype, \"tooltipAppendToBody\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarWeekViewEventComponent.prototype, \"tooltipDisabled\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewEventComponent.prototype, \"tooltipDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewEventComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewEventComponent.prototype, \"eventTitleTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewEventComponent.prototype, \"eventActionsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewEventComponent.prototype, \"tooltipTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewEventComponent.prototype, \"column\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewEventComponent.prototype, \"daysInWeek\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewEventComponent.prototype, \"eventClicked\", void 0);\nCalendarWeekViewEventComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-week-view-event',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-weekEvent=\"weekEvent\"\n      let-tooltipPlacement=\"tooltipPlacement\"\n      let-eventClicked=\"eventClicked\"\n      let-tooltipTemplate=\"tooltipTemplate\"\n      let-tooltipAppendToBody=\"tooltipAppendToBody\"\n      let-tooltipDisabled=\"tooltipDisabled\"\n      let-tooltipDelay=\"tooltipDelay\"\n      let-column=\"column\"\n      let-daysInWeek=\"daysInWeek\"\n    >\n      <div\n        class=\"cal-event\"\n        [ngStyle]=\"{\n          backgroundColor: weekEvent.event.color?.secondary,\n          borderColor: weekEvent.event.color?.primary\n        }\"\n        [mwlCalendarTooltip]=\"\n          !tooltipDisabled\n            ? (weekEvent.event.title\n              | calendarEventTitle\n                : (daysInWeek === 1 ? 'dayTooltip' : 'weekTooltip')\n                : weekEvent.event)\n            : ''\n        \"\n        [tooltipPlacement]=\"tooltipPlacement\"\n        [tooltipEvent]=\"weekEvent.event\"\n        [tooltipTemplate]=\"tooltipTemplate\"\n        [tooltipAppendToBody]=\"tooltipAppendToBody\"\n        [tooltipDelay]=\"tooltipDelay\"\n        (mwlClick)=\"eventClicked.emit({ sourceEvent: $event })\"\n        (mwlKeydownEnter)=\"eventClicked.emit({ sourceEvent: $event })\"\n        tabindex=\"0\"\n        role=\"application\"\n        [attr.aria-label]=\"\n          { event: weekEvent.event, locale: locale }\n            | calendarA11y: 'eventDescription'\n        \"\n      >\n        <mwl-calendar-event-actions\n          [event]=\"weekEvent.event\"\n          [customTemplate]=\"eventActionsTemplate\"\n        >\n        </mwl-calendar-event-actions>\n        &ngsp;\n        <mwl-calendar-event-title\n          [event]=\"weekEvent.event\"\n          [customTemplate]=\"eventTitleTemplate\"\n          [view]=\"daysInWeek === 1 ? 'day' : 'week'\"\n        >\n        </mwl-calendar-event-title>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        weekEvent: weekEvent,\n        tooltipPlacement: tooltipPlacement,\n        eventClicked: eventClicked,\n        tooltipTemplate: tooltipTemplate,\n        tooltipAppendToBody: tooltipAppendToBody,\n        tooltipDisabled: tooltipDisabled,\n        tooltipDelay: tooltipDelay,\n        column: column,\n        daysInWeek: daysInWeek\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarWeekViewEventComponent);\n\nlet CalendarWeekViewHourSegmentComponent = class CalendarWeekViewHourSegmentComponent {\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewHourSegmentComponent.prototype, \"segment\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewHourSegmentComponent.prototype, \"segmentHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarWeekViewHourSegmentComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarWeekViewHourSegmentComponent.prototype, \"isTimeLabel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewHourSegmentComponent.prototype, \"daysInWeek\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewHourSegmentComponent.prototype, \"customTemplate\", void 0);\nCalendarWeekViewHourSegmentComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-week-view-hour-segment',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-segment=\"segment\"\n      let-locale=\"locale\"\n      let-segmentHeight=\"segmentHeight\"\n      let-isTimeLabel=\"isTimeLabel\"\n      let-daysInWeek=\"daysInWeek\"\n    >\n      <div\n        [attr.aria-hidden]=\"\n          {}\n            | calendarA11y\n              : (daysInWeek === 1\n                  ? 'hideDayHourSegment'\n                  : 'hideWeekHourSegment')\n        \"\n        class=\"cal-hour-segment\"\n        [style.height.px]=\"segmentHeight\"\n        [class.cal-hour-start]=\"segment.isStart\"\n        [class.cal-after-hour-start]=\"!segment.isStart\"\n        [ngClass]=\"segment.cssClass\"\n      >\n        <div class=\"cal-time\" *ngIf=\"isTimeLabel\">\n          {{\n            segment.displayDate\n              | calendarDate\n                : (daysInWeek === 1 ? 'dayViewHour' : 'weekViewHour')\n                : locale\n          }}\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        segment: segment,\n        locale: locale,\n        segmentHeight: segmentHeight,\n        isTimeLabel: isTimeLabel,\n        daysInWeek: daysInWeek\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarWeekViewHourSegmentComponent);\n\nlet CalendarWeekViewCurrentTimeMarkerComponent = class CalendarWeekViewCurrentTimeMarkerComponent {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n        this.columnDate$ = new BehaviorSubject(this.columnDate);\n        this.marker$ = interval(60 * 1000).pipe(startWith(0), switchMapTo(this.columnDate$), map(columnDate => {\n            const startOfDay = this.dateAdapter.setMinutes(this.dateAdapter.setHours(columnDate, this.dayStartHour), this.dayStartMinute);\n            const endOfDay = this.dateAdapter.setMinutes(this.dateAdapter.setHours(columnDate, this.dayEndHour), this.dayEndMinute);\n            const hourHeightModifier = (this.hourSegments * this.hourSegmentHeight) / 60;\n            const now = new Date();\n            return {\n                isVisible: this.dateAdapter.isSameDay(columnDate, now) &&\n                    now >= startOfDay &&\n                    now <= endOfDay,\n                top: this.dateAdapter.differenceInMinutes(now, startOfDay) *\n                    hourHeightModifier\n            };\n        }));\n    }\n    ngOnChanges(changes) {\n        if (changes.columnDate) {\n            this.columnDate$.next(changes.columnDate.currentValue);\n        }\n    }\n};\nCalendarWeekViewCurrentTimeMarkerComponent.ctorParameters = () => [\n    { type: DateAdapter }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"columnDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"dayStartHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"dayStartMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"dayEndHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"dayEndMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"hourSegments\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"hourSegmentHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"customTemplate\", void 0);\nCalendarWeekViewCurrentTimeMarkerComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-week-view-current-time-marker',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-columnDate=\"columnDate\"\n      let-dayStartHour=\"dayStartHour\"\n      let-dayStartMinute=\"dayStartMinute\"\n      let-dayEndHour=\"dayEndHour\"\n      let-dayEndMinute=\"dayEndMinute\"\n      let-isVisible=\"isVisible\"\n      let-topPx=\"topPx\"\n    >\n      <div\n        class=\"cal-current-time-marker\"\n        *ngIf=\"isVisible\"\n        [style.top.px]=\"topPx\"\n      ></div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        columnDate: columnDate,\n        dayStartHour: dayStartHour,\n        dayStartMinute: dayStartMinute,\n        dayEndHour: dayEndHour,\n        dayEndMinute: dayEndMinute,\n        isVisible: (marker$ | async)?.isVisible,\n        topPx: (marker$ | async)?.top\n      }\"\n    >\n    </ng-template>\n  `\n    }),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarWeekViewCurrentTimeMarkerComponent);\n\nlet CalendarWeekModule = class CalendarWeekModule {\n};\nCalendarWeekModule = __decorate([\n    NgModule({\n        imports: [\n            CommonModule,\n            ResizableModule,\n            DragAndDropModule,\n            CalendarCommonModule\n        ],\n        declarations: [\n            CalendarWeekViewComponent,\n            CalendarWeekViewHeaderComponent,\n            CalendarWeekViewEventComponent,\n            CalendarWeekViewHourSegmentComponent,\n            CalendarWeekViewCurrentTimeMarkerComponent\n        ],\n        exports: [\n            ResizableModule,\n            DragAndDropModule,\n            CalendarWeekViewComponent,\n            CalendarWeekViewHeaderComponent,\n            CalendarWeekViewEventComponent,\n            CalendarWeekViewHourSegmentComponent,\n            CalendarWeekViewCurrentTimeMarkerComponent\n        ]\n    })\n], CalendarWeekModule);\n\n/**\n * Shows all events on a given day. Example usage:\n *\n * ```typescript\n * <mwl-calendar-day-view\n *  [viewDate]=\"viewDate\"\n *  [events]=\"events\">\n * </mwl-calendar-day-view>\n * ```\n */\nlet CalendarDayViewComponent = class CalendarDayViewComponent {\n    /**\n     * Shows all events on a given day. Example usage:\n     *\n     * ```typescript\n     * <mwl-calendar-day-view\n     *  [viewDate]=\"viewDate\"\n     *  [events]=\"events\">\n     * </mwl-calendar-day-view>\n     * ```\n     */\n    constructor() {\n        /**\n         * An array of events to display on view\n         * The schema is available here: https://github.com/mattlewis92/calendar-utils/blob/c51689985f59a271940e30bc4e2c4e1fee3fcb5c/src/calendarUtils.ts#L49-L63\n         */\n        this.events = [];\n        /**\n         * The number of segments in an hour. Must be <= 6\n         */\n        this.hourSegments = 2;\n        /**\n         * The height in pixels of each hour segment\n         */\n        this.hourSegmentHeight = 30;\n        /**\n         * The day start hours in 24 hour time. Must be 0-23\n         */\n        this.dayStartHour = 0;\n        /**\n         * The day start minutes. Must be 0-59\n         */\n        this.dayStartMinute = 0;\n        /**\n         * The day end hours in 24 hour time. Must be 0-23\n         */\n        this.dayEndHour = 23;\n        /**\n         * The day end minutes. Must be 0-59\n         */\n        this.dayEndMinute = 59;\n        /**\n         * The placement of the event tooltip\n         */\n        this.tooltipPlacement = 'auto';\n        /**\n         * Whether to append tooltips to the body or next to the trigger element\n         */\n        this.tooltipAppendToBody = true;\n        /**\n         * The delay in milliseconds before the tooltip should be displayed. If not provided the tooltip\n         * will be displayed immediately.\n         */\n        this.tooltipDelay = null;\n        /**\n         * Whether to snap events to a grid when dragging\n         */\n        this.snapDraggedEvents = true;\n        /**\n         * Called when an event title is clicked\n         */\n        this.eventClicked = new EventEmitter();\n        /**\n         * Called when an hour segment is clicked\n         */\n        this.hourSegmentClicked = new EventEmitter();\n        /**\n         * Called when an event is resized or dragged and dropped\n         */\n        this.eventTimesChanged = new EventEmitter();\n        /**\n         * An output that will be called before the view is rendered for the current day.\n         * If you add the `cssClass` property to an hour grid segment it will add that class to the hour segment in the template\n         */\n        this.beforeViewRender = new EventEmitter();\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarDayViewComponent.prototype, \"viewDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarDayViewComponent.prototype, \"events\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"hourSegments\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"hourSegmentHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"dayStartHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"dayStartMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"dayEndHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"dayEndMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Subject)\n], CalendarDayViewComponent.prototype, \"refresh\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarDayViewComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"eventSnapSize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarDayViewComponent.prototype, \"tooltipPlacement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"tooltipTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarDayViewComponent.prototype, \"tooltipAppendToBody\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"tooltipDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"hourSegmentTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"eventTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"eventTitleTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"eventActionsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarDayViewComponent.prototype, \"snapDraggedEvents\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"allDayEventsLabelTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"currentTimeMarkerTemplate\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarDayViewComponent.prototype, \"eventClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarDayViewComponent.prototype, \"hourSegmentClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarDayViewComponent.prototype, \"eventTimesChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarDayViewComponent.prototype, \"beforeViewRender\", void 0);\nCalendarDayViewComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-day-view',\n        template: `\n    <mwl-calendar-week-view\n      class=\"cal-day-view\"\n      [daysInWeek]=\"1\"\n      [viewDate]=\"viewDate\"\n      [events]=\"events\"\n      [hourSegments]=\"hourSegments\"\n      [hourSegmentHeight]=\"hourSegmentHeight\"\n      [dayStartHour]=\"dayStartHour\"\n      [dayStartMinute]=\"dayStartMinute\"\n      [dayEndHour]=\"dayEndHour\"\n      [dayEndMinute]=\"dayEndMinute\"\n      [refresh]=\"refresh\"\n      [locale]=\"locale\"\n      [eventSnapSize]=\"eventSnapSize\"\n      [tooltipPlacement]=\"tooltipPlacement\"\n      [tooltipTemplate]=\"tooltipTemplate\"\n      [tooltipAppendToBody]=\"tooltipAppendToBody\"\n      [tooltipDelay]=\"tooltipDelay\"\n      [hourSegmentTemplate]=\"hourSegmentTemplate\"\n      [eventTemplate]=\"eventTemplate\"\n      [eventTitleTemplate]=\"eventTitleTemplate\"\n      [eventActionsTemplate]=\"eventActionsTemplate\"\n      [snapDraggedEvents]=\"snapDraggedEvents\"\n      [allDayEventsLabelTemplate]=\"allDayEventsLabelTemplate\"\n      [currentTimeMarkerTemplate]=\"currentTimeMarkerTemplate\"\n      (eventClicked)=\"eventClicked.emit($event)\"\n      (hourSegmentClicked)=\"hourSegmentClicked.emit($event)\"\n      (eventTimesChanged)=\"eventTimesChanged.emit($event)\"\n      (beforeViewRender)=\"beforeViewRender.emit($event)\"\n    ></mwl-calendar-week-view>\n  `\n    })\n], CalendarDayViewComponent);\n\nlet CalendarDayModule = class CalendarDayModule {\n};\nCalendarDayModule = __decorate([\n    NgModule({\n        imports: [CommonModule, CalendarCommonModule, CalendarWeekModule],\n        declarations: [CalendarDayViewComponent],\n        exports: [CalendarDayViewComponent]\n    })\n], CalendarDayModule);\n\nvar CalendarModule_1;\n/**\n * The main module of this library. Example usage:\n *\n * ```typescript\n * import { CalenderModule } from 'angular-calendar';\n *\n * @NgModule({\n *   imports: [\n *     CalenderModule.forRoot()\n *   ]\n * })\n * class MyModule {}\n * ```\n *\n */\nlet CalendarModule = CalendarModule_1 = class CalendarModule {\n    static forRoot(dateAdapter, config = {}) {\n        return {\n            ngModule: CalendarModule_1,\n            providers: [\n                dateAdapter,\n                config.eventTitleFormatter || CalendarEventTitleFormatter,\n                config.dateFormatter || CalendarDateFormatter,\n                config.utils || CalendarUtils,\n                config.a11y || CalendarA11y\n            ]\n        };\n    }\n};\nCalendarModule = CalendarModule_1 = __decorate([\n    NgModule({\n        imports: [\n            CalendarCommonModule,\n            CalendarMonthModule,\n            CalendarWeekModule,\n            CalendarDayModule\n        ],\n        exports: [\n            CalendarCommonModule,\n            CalendarMonthModule,\n            CalendarWeekModule,\n            CalendarDayModule\n        ]\n    })\n], CalendarModule);\n\n/*\n * Public API Surface of angular-calendar\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CalendarA11y, CalendarAngularDateFormatter, CalendarCommonModule, CalendarDateFormatter, CalendarDayModule, CalendarDayViewComponent, CalendarEventTimesChangedEventType, CalendarEventTitleFormatter, CalendarModule, CalendarMomentDateFormatter, CalendarMonthModule, CalendarMonthViewComponent, CalendarNativeDateFormatter, CalendarUtils, CalendarView, CalendarWeekModule, CalendarWeekViewComponent, DateAdapter, MOMENT, collapseAnimation, getWeekViewPeriod, CalendarOpenDayEventsComponent as ɵa, CalendarEventActionsComponent as ɵb, CalendarEventTitleComponent as ɵc, CalendarTooltipWindowComponent as ɵd, CalendarTooltipDirective as ɵe, CalendarPreviousViewDirective as ɵf, CalendarNextViewDirective as ɵg, CalendarTodayDirective as ɵh, CalendarDatePipe as ɵi, CalendarEventTitlePipe as ɵj, CalendarA11yPipe as ɵk, ClickDirective as ɵl, KeydownEnterDirective as ɵm, CalendarMonthCellComponent as ɵn, CalendarMonthViewHeaderComponent as ɵo, CalendarWeekViewHeaderComponent as ɵp, CalendarWeekViewEventComponent as ɵq, CalendarWeekViewHourSegmentComponent as ɵr, CalendarWeekViewCurrentTimeMarkerComponent as ɵs };\n//# sourceMappingURL=angular-calendar.js.map\n","// Production steps of ECMA-262, Edition 6, 22.1.2.1\n// Reference: http://www.ecma-international.org/ecma-262/6.0/#sec-array.from\nmodule.exports = (function() {\n  var isCallable = function(fn) {\n    return typeof fn === 'function';\n  };\n  var toInteger = function (value) {\n    var number = Number(value);\n    if (isNaN(number)) { return 0; }\n    if (number === 0 || !isFinite(number)) { return number; }\n    return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n  };\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n  var toLength = function (value) {\n    var len = toInteger(value);\n    return Math.min(Math.max(len, 0), maxSafeInteger);\n  };\n  var iteratorProp = function(value) {\n    if(value != null) {\n      if(['string','number','boolean','symbol'].indexOf(typeof value) > -1){\n        return Symbol.iterator;\n      } else if (\n        (typeof Symbol !== 'undefined') &&\n        ('iterator' in Symbol) &&\n        (Symbol.iterator in value)\n      ) {\n        return Symbol.iterator;\n      }\n      // Support \"@@iterator\" placeholder, Gecko 27 to Gecko 35\n      else if ('@@iterator' in value) {\n        return '@@iterator';\n      }\n    }\n  };\n  var getMethod = function(O, P) {\n    // Assert: IsPropertyKey(P) is true.\n    if (O != null && P != null) {\n      // Let func be GetV(O, P).\n      var func = O[P];\n      // ReturnIfAbrupt(func).\n      // If func is either undefined or null, return undefined.\n      if(func == null) {\n        return void 0;\n      }\n      // If IsCallable(func) is false, throw a TypeError exception.\n      if (!isCallable(func)) {\n        throw new TypeError(func + ' is not a function');\n      }\n      return func;\n    }\n  };\n  var iteratorStep = function(iterator) {\n    // Let result be IteratorNext(iterator).\n    // ReturnIfAbrupt(result).\n    var result = iterator.next();\n    // Let done be IteratorComplete(result).\n    // ReturnIfAbrupt(done).\n    var done = Boolean(result.done);\n    // If done is true, return false.\n    if(done) {\n      return false;\n    }\n    // Return result.\n    return result;\n  };\n\n  // The length property of the from method is 1.\n  return function from(items /*, mapFn, thisArg */ ) {\n    'use strict';\n\n    // 1. Let C be the this value.\n    var C = this;\n\n    // 2. If mapfn is undefined, let mapping be false.\n    var mapFn = arguments.length > 1 ? arguments[1] : void 0;\n\n    var T;\n    if (typeof mapFn !== 'undefined') {\n      // 3. else\n      //   a. If IsCallable(mapfn) is false, throw a TypeError exception.\n      if (!isCallable(mapFn)) {\n        throw new TypeError(\n          'Array.from: when provided, the second argument must be a function'\n        );\n      }\n\n      //   b. If thisArg was supplied, let T be thisArg; else let T\n      //      be undefined.\n      if (arguments.length > 2) {\n        T = arguments[2];\n      }\n      //   c. Let mapping be true (implied by mapFn)\n    }\n\n    var A, k;\n\n    // 4. Let usingIterator be GetMethod(items, @@iterator).\n    // 5. ReturnIfAbrupt(usingIterator).\n    var usingIterator = getMethod(items, iteratorProp(items));\n\n    // 6. If usingIterator is not undefined, then\n    if (usingIterator !== void 0) {\n      // a. If IsConstructor(C) is true, then\n      //   i. Let A be the result of calling the [[Construct]]\n      //      internal method of C with an empty argument list.\n      // b. Else,\n      //   i. Let A be the result of the abstract operation ArrayCreate\n      //      with argument 0.\n      // c. ReturnIfAbrupt(A).\n      A = isCallable(C) ? Object(new C()) : [];\n\n      // d. Let iterator be GetIterator(items, usingIterator).\n      var iterator = usingIterator.call(items);\n\n      // e. ReturnIfAbrupt(iterator).\n      if (iterator == null) {\n        throw new TypeError(\n          'Array.from requires an array-like or iterable object'\n        );\n      }\n\n      // f. Let k be 0.\n      k = 0;\n\n      // g. Repeat\n      var next, nextValue;\n      while (true) {\n        // i. Let Pk be ToString(k).\n        // ii. Let next be IteratorStep(iterator).\n        // iii. ReturnIfAbrupt(next).\n        next = iteratorStep(iterator);\n\n        // iv. If next is false, then\n        if (!next) {\n\n          // 1. Let setStatus be Set(A, \"length\", k, true).\n          // 2. ReturnIfAbrupt(setStatus).\n          A.length = k;\n\n          // 3. Return A.\n          return A;\n        }\n        // v. Let nextValue be IteratorValue(next).\n        // vi. ReturnIfAbrupt(nextValue)\n        nextValue = next.value;\n\n        // vii. If mapping is true, then\n        //   1. Let mappedValue be Call(mapfn, T, «nextValue, k»).\n        //   2. If mappedValue is an abrupt completion, return\n        //      IteratorClose(iterator, mappedValue).\n        //   3. Let mappedValue be mappedValue.[[value]].\n        // viii. Else, let mappedValue be nextValue.\n        // ix.  Let defineStatus be the result of\n        //      CreateDataPropertyOrThrow(A, Pk, mappedValue).\n        // x. [TODO] If defineStatus is an abrupt completion, return\n        //    IteratorClose(iterator, defineStatus).\n        if (mapFn) {\n          A[k] = mapFn.call(T, nextValue, k);\n        }\n        else {\n          A[k] = nextValue;\n        }\n        // xi. Increase k by 1.\n        k++;\n      }\n      // 7. Assert: items is not an Iterable so assume it is\n      //    an array-like object.\n    } else {\n\n      // 8. Let arrayLike be ToObject(items).\n      var arrayLike = Object(items);\n\n      // 9. ReturnIfAbrupt(items).\n      if (items == null) {\n        throw new TypeError(\n          'Array.from requires an array-like object - not null or undefined'\n        );\n      }\n\n      // 10. Let len be ToLength(Get(arrayLike, \"length\")).\n      // 11. ReturnIfAbrupt(len).\n      var len = toLength(arrayLike.length);\n\n      // 12. If IsConstructor(C) is true, then\n      //     a. Let A be Construct(C, «len»).\n      // 13. Else\n      //     a. Let A be ArrayCreate(len).\n      // 14. ReturnIfAbrupt(A).\n      A = isCallable(C) ? Object(new C(len)) : new Array(len);\n\n      // 15. Let k be 0.\n      k = 0;\n      // 16. Repeat, while k < len… (also steps a - h)\n      var kValue;\n      while (k < len) {\n        kValue = arrayLike[k];\n        if (mapFn) {\n          A[k] = mapFn.call(T, kValue, k);\n        }\n        else {\n          A[k] = kValue;\n        }\n        k++;\n      }\n      // 17. Let setStatus be Set(A, \"length\", len, true).\n      // 18. ReturnIfAbrupt(setStatus).\n      A.length = len;\n      // 19. Return A.\n    }\n    return A;\n  };\n})();\n","import { Injectable, Directive, ElementRef, Input, Output, EventEmitter, forwardRef, HostListener, Renderer2, NgModule, InjectionToken } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport flatpickr from 'flatpickr';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nclass FlatpickrDefaults {\n    constructor() {\n        /**\n         * Exactly the same as date format, but for the altInput field.\n         */\n        this.altFormat = 'F j, Y';\n        /**\n         * \tShow the user a readable date (as per altFormat), but return something totally different to the server.\n         */\n        this.altInput = false;\n        /**\n         * This class will be added to the input element created by the altInput option.\n         * Note that `altInput` already inherits classes from the original input.\n         */\n        this.altInputClass = '';\n        /**\n         * Allows the user to enter a date directly input the input field. By default, direct entry is disabled.\n         */\n        this.allowInput = false;\n        /**\n         * Instead of `body`, appends the calendar to the specified node instead.\n         */\n        this.appendTo = undefined;\n        /**\n         * Defines how the date will be formatted in the aria-label for calendar days, using the same tokens as dateFormat. If you change this, you should choose a value that will make sense if a screen reader reads it out loud.\n         */\n        this.ariaDateFormat = 'F j, Y';\n        /**\n         * Whether clicking on the input should open the picker.\n         * You could disable this if you wish to open the calendar manually `with.open()`.\n         */\n        this.clickOpens = true;\n        /**\n         * A string of characters which are used to define how the date will be displayed in the input box.\n         * The supported characters are defined in the table below.\n         */\n        this.dateFormat = 'Y-m-d';\n        /**\n         * Initial value of the hour element.\n         */\n        this.defaultHour = 12;\n        /**\n         * Initial value of the minute element.\n         */\n        this.defaultMinute = 0;\n        /**\n         * See <a href=\"https://chmln.github.io/flatpickr/examples/#disabling-specific-dates\">disabling dates</a>.\n         */\n        this.disable = [];\n        /**\n         * Set disableMobile to true to always use the non-native picker.\n         * By default, Flatpickr utilizes native datetime widgets unless certain options (e.g. disable) are used.\n         */\n        this.disableMobile = false;\n        /**\n         * See <a href=\"https://chmln.github.io/flatpickr/examples/#disabling-all-dates-except-select-few\">enabling dates</a>.\n         */\n        this.enable = [];\n        /**\n         * Enables time picker.\n         */\n        this.enableTime = false;\n        /**\n         * Enables seconds in the time picker.\n         */\n        this.enableSeconds = false;\n        /**\n         * Allows using a custom date formatting function instead of the built-in handling for date formats using dateFormat, altFormat, etc.\n         */\n        this.formatDate = undefined;\n        /**\n         * Adjusts the step for the hour input (incl. scrolling).\n         */\n        this.hourIncrement = 1;\n        /**\n         * Displays the calendar inline.\n         */\n        this.inline = false;\n        /**\n         * The maximum date that a user can pick to (inclusive).\n         */\n        this.maxDate = undefined;\n        /**\n         * The minimum date that a user can start picking from (inclusive).\n         */\n        this.minDate = undefined;\n        /**\n         * Adjusts the step for the minute input (incl. scrolling).\n         */\n        this.minuteIncrement = 5;\n        /**\n         * Select a single date, multiple dates or a date range.\n         */\n        this.mode = 'single';\n        /**\n         * HTML for the arrow icon, used to switch months.\n         */\n        this.nextArrow = '>';\n        /**\n         * Hides the day selection in calendar. Use it along with `enableTime` to create a time picker.\n         */\n        this.noCalendar = false;\n        /**\n         * Default now to the current date\n         */\n        this.now = new Date();\n        /**\n         * HTML for the left arrow icon.\n         */\n        this.prevArrow = '<';\n        /**\n         * Show the month using the shorthand version (ie, Sep instead of September).\n         */\n        this.shorthandCurrentMonth = false;\n        /**\n         * Position the calendar inside the wrapper and next to the input element. (Leave `false` unless you know what you're doing).\n         */\n        this.static = false;\n        /**\n         * Displays time picker in 24 hour mode without AM/PM selection when enabled.\n         */\n        this.time24hr = false;\n        /**\n         * When true, dates will parsed, formatted, and displayed in UTC.\n         * It's recommended that date strings contain the timezone, but not necessary.\n         */\n        this.utc = false;\n        /**\n         * Enables display of week numbers in calendar.\n         */\n        this.weekNumbers = false;\n        /**\n         * Custom elements and input groups.\n         */\n        this.wrap = false;\n        /**\n         * Array of plugin instances to use.\n         */\n        this.plugins = [];\n        /**\n         * The locale object or string to use for the locale.\n         */\n        this.locale = 'default';\n        /**\n         * Auto convert the ngModel value from a string to a date / array of dates / from - to date object depending on the `mode`\n         */\n        this.convertModelValue = false;\n        /**\n         * The number of months shown.\n         */\n        this.showMonths = 1;\n    }\n}\nFlatpickrDefaults.decorators = [\n    { type: Injectable },\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nconst /** @type {?} */ FLATPICKR_CONTROL_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => FlatpickrDirective),\n    //tslint:disable-line\n    multi: true\n};\nclass FlatpickrDirective {\n    /**\n     * @param {?} elm\n     * @param {?} defaults\n     * @param {?} renderer\n     */\n    constructor(elm, defaults, renderer) {\n        this.elm = elm;\n        this.defaults = defaults;\n        this.renderer = renderer;\n        /**\n         * Gets triggered once the calendar is in a ready state\n         */\n        this.flatpickrReady = new EventEmitter();\n        /**\n         * Gets triggered when the user selects a date, or changes the time on a selected date.\n         */\n        this.flatpickrChange = new EventEmitter();\n        /**\n         * Gets triggered when the input value is updated with a new date string.\n         */\n        this.flatpickrValueUpdate = new EventEmitter();\n        /**\n         * Gets triggered when the calendar is opened.\n         */\n        this.flatpickrOpen = new EventEmitter();\n        /**\n         * Gets triggered when the calendar is closed.\n         */\n        this.flatpickrClose = new EventEmitter();\n        /**\n         * Gets triggered when the month is changed, either by the user or programmatically.\n         */\n        this.flatpickrMonthChange = new EventEmitter();\n        /**\n         * Gets triggered when the year is changed, either by the user or programmatically.\n         */\n        this.flatpickrYearChange = new EventEmitter();\n        /**\n         * Take full control of every date cell with this output\n         */\n        this.flatpickrDayCreate = new EventEmitter();\n        this.isDisabled = false;\n        this.onChangeFn = () => { };\n        this.onTouchedFn = () => { };\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterViewInit() {\n        const /** @type {?} */ options = {\n            altFormat: this.altFormat,\n            altInput: this.altInput,\n            altInputClass: this.altInputClass,\n            allowInput: this.allowInput,\n            appendTo: this.appendTo,\n            ariaDateFormat: this.ariaDateFormat,\n            clickOpens: this.clickOpens,\n            dateFormat: this.dateFormat,\n            defaultHour: this.defaultHour,\n            defaultMinute: this.defaultMinute,\n            disable: this.disable,\n            disableMobile: this.disableMobile,\n            enable: this.enable,\n            enableTime: this.enableTime,\n            enableSeconds: this.enableSeconds,\n            formatDate: this.formatDate,\n            hourIncrement: this.hourIncrement,\n            defaultDate: this.initialValue,\n            inline: this.inline,\n            maxDate: this.maxDate,\n            minDate: this.minDate,\n            minuteIncrement: this.minuteIncrement,\n            mode: this.mode,\n            nextArrow: this.nextArrow,\n            noCalendar: this.noCalendar,\n            now: this.now,\n            parseDate: this.parseDate,\n            prevArrow: this.prevArrow,\n            shorthandCurrentMonth: this.shorthandCurrentMonth,\n            showMonths: this.showMonths,\n            static: this.static,\n            time24hr: this.time24hr,\n            weekNumbers: this.weekNumbers,\n            getWeek: this.getWeek,\n            wrap: this.wrap,\n            plugins: this.plugins,\n            locale: this.locale,\n            onChange: (selectedDates, dateString, instance) => {\n                this.flatpickrChange.emit({ selectedDates, dateString, instance });\n            },\n            onOpen: (selectedDates, dateString, instance) => {\n                this.flatpickrOpen.emit({ selectedDates, dateString, instance });\n            },\n            onClose: (selectedDates, dateString, instance) => {\n                this.flatpickrClose.emit({ selectedDates, dateString, instance });\n            },\n            onMonthChange: (selectedDates, dateString, instance) => {\n                this.flatpickrMonthChange.emit({ selectedDates, dateString, instance });\n            },\n            onYearChange: (selectedDates, dateString, instance) => {\n                this.flatpickrYearChange.emit({ selectedDates, dateString, instance });\n            },\n            onReady: (selectedDates, dateString, instance) => {\n                this.flatpickrReady.emit({ selectedDates, dateString, instance });\n            },\n            onValueUpdate: (selectedDates, dateString, instance) => {\n                this.flatpickrValueUpdate.emit({ selectedDates, dateString, instance });\n            },\n            onDayCreate: (selectedDates, dateString, instance, dayElement) => {\n                this.flatpickrDayCreate.emit({\n                    selectedDates,\n                    dateString,\n                    instance,\n                    dayElement\n                });\n            }\n        };\n        Object.keys(options).forEach(key => {\n            if (typeof options[key] === 'undefined') {\n                options[key] = (/** @type {?} */ (this.defaults))[key];\n            }\n        });\n        options.time_24hr = options.time24hr;\n        this.instance = /** @type {?} */ (flatpickr(this.elm.nativeElement, options));\n        this.setDisabledState(this.isDisabled);\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (this.instance) {\n            Object.keys(changes).forEach(inputKey => {\n                this.instance.set(/** @type {?} */ (inputKey), (/** @type {?} */ (this))[inputKey]);\n            });\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.instance.destroy();\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    writeValue(value) {\n        let /** @type {?} */ convertedValue = value;\n        if (this.convertModelValue && this.mode === 'range' && value) {\n            convertedValue = [value.from, value.to];\n        }\n        if (this.instance) {\n            this.instance.setDate(convertedValue);\n        }\n        else {\n            // flatpickr hasn't been initialised yet, store the value for later use\n            this.initialValue = convertedValue;\n        }\n    }\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    registerOnChange(fn) {\n        this.onChangeFn = fn;\n    }\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    registerOnTouched(fn) {\n        this.onTouchedFn = fn;\n    }\n    /**\n     * @param {?} isDisabled\n     * @return {?}\n     */\n    setDisabledState(isDisabled) {\n        this.isDisabled = isDisabled;\n        if (this.instance) {\n            if (this.isDisabled) {\n                this.renderer.setProperty(this.instance._input, 'disabled', 'disabled');\n            }\n            else {\n                this.renderer.removeAttribute(this.instance._input, 'disabled');\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    inputChanged() {\n        const /** @type {?} */ value = this.elm.nativeElement.value;\n        if (this.convertModelValue && typeof value === 'string') {\n            switch (this.mode) {\n                case 'multiple':\n                    const /** @type {?} */ dates = value\n                        .split('; ')\n                        .map(str => this.instance.parseDate(str, this.instance.config.dateFormat, !this.instance.config.enableTime));\n                    this.onChangeFn(dates);\n                    break;\n                case 'range':\n                    const [from, to] = value\n                        .split(this.instance.l10n.rangeSeparator)\n                        .map(str => this.instance.parseDate(str, this.instance.config.dateFormat, !this.instance.config.enableTime));\n                    this.onChangeFn({ from, to });\n                    break;\n                case 'single':\n                default:\n                    this.onChangeFn(this.instance.parseDate(value, this.instance.config.dateFormat, !this.instance.config.enableTime));\n            }\n        }\n        else {\n            this.onChangeFn(value);\n        }\n    }\n}\nFlatpickrDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlFlatpickr]',\n                providers: [FLATPICKR_CONTROL_VALUE_ACCESSOR],\n                host: {\n                    // tslint:disable-line use-host-property-decorator\n                    '(blur)': 'onTouchedFn()'\n                }\n            },] },\n];\n/** @nocollapse */\nFlatpickrDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: FlatpickrDefaults },\n    { type: Renderer2 }\n];\nFlatpickrDirective.propDecorators = {\n    altFormat: [{ type: Input }],\n    altInput: [{ type: Input }],\n    altInputClass: [{ type: Input }],\n    allowInput: [{ type: Input }],\n    appendTo: [{ type: Input }],\n    ariaDateFormat: [{ type: Input }],\n    clickOpens: [{ type: Input }],\n    dateFormat: [{ type: Input }],\n    defaultHour: [{ type: Input }],\n    defaultMinute: [{ type: Input }],\n    disable: [{ type: Input }],\n    disableMobile: [{ type: Input }],\n    enable: [{ type: Input }],\n    enableTime: [{ type: Input }],\n    enableSeconds: [{ type: Input }],\n    formatDate: [{ type: Input }],\n    hourIncrement: [{ type: Input }],\n    inline: [{ type: Input }],\n    maxDate: [{ type: Input }],\n    minDate: [{ type: Input }],\n    minuteIncrement: [{ type: Input }],\n    mode: [{ type: Input }],\n    nextArrow: [{ type: Input }],\n    noCalendar: [{ type: Input }],\n    now: [{ type: Input }],\n    parseDate: [{ type: Input }],\n    prevArrow: [{ type: Input }],\n    shorthandCurrentMonth: [{ type: Input }],\n    showMonths: [{ type: Input }],\n    static: [{ type: Input }],\n    time24hr: [{ type: Input }],\n    weekNumbers: [{ type: Input }],\n    getWeek: [{ type: Input }],\n    wrap: [{ type: Input }],\n    plugins: [{ type: Input }],\n    locale: [{ type: Input }],\n    convertModelValue: [{ type: Input }],\n    flatpickrReady: [{ type: Output }],\n    flatpickrChange: [{ type: Output }],\n    flatpickrValueUpdate: [{ type: Output }],\n    flatpickrOpen: [{ type: Output }],\n    flatpickrClose: [{ type: Output }],\n    flatpickrMonthChange: [{ type: Output }],\n    flatpickrYearChange: [{ type: Output }],\n    flatpickrDayCreate: [{ type: Output }],\n    inputChanged: [{ type: HostListener, args: ['input',] }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nconst /** @type {?} */ USER_DEFAULTS = new InjectionToken('flatpickr defaults');\n/**\n * @param {?} userDefaults\n * @return {?}\n */\nfunction defaultsFactory(userDefaults) {\n    const /** @type {?} */ defaults = new FlatpickrDefaults();\n    Object.assign(defaults, userDefaults);\n    return defaults;\n}\nclass FlatpickrModule {\n    /**\n     * @param {?=} userDefaults\n     * @return {?}\n     */\n    static forRoot(userDefaults = {}) {\n        return {\n            ngModule: FlatpickrModule,\n            providers: [\n                {\n                    provide: USER_DEFAULTS,\n                    useValue: userDefaults\n                },\n                {\n                    provide: FlatpickrDefaults,\n                    useFactory: defaultsFactory,\n                    deps: [USER_DEFAULTS]\n                }\n            ]\n        };\n    }\n}\nFlatpickrModule.decorators = [\n    { type: NgModule, args: [{\n                declarations: [FlatpickrDirective],\n                exports: [FlatpickrDirective]\n            },] },\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\nexport { FlatpickrDefaults, USER_DEFAULTS, defaultsFactory, FlatpickrModule, FLATPICKR_CONTROL_VALUE_ACCESSOR as ɵa, FlatpickrDirective as ɵb };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcngtZmxhdHBpY2tyLmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9hbmd1bGFyeC1mbGF0cGlja3IvZmxhdHBpY2tyLWRlZmF1bHRzLnNlcnZpY2UudHMiLCJuZzovL2FuZ3VsYXJ4LWZsYXRwaWNrci9mbGF0cGlja3IuZGlyZWN0aXZlLnRzIiwibmc6Ly9hbmd1bGFyeC1mbGF0cGlja3IvZmxhdHBpY2tyLm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCB0eXBlIERpc2FibGVFbmFibGVEYXRlID1cbiAgfCBzdHJpbmdcbiAgfCBEYXRlXG4gIHwgeyBmcm9tOiBEYXRlIHwgc3RyaW5nOyB0bzogRGF0ZSB8IHN0cmluZyB9XG4gIHwgKChkYXRlOiBEYXRlKSA9PiBib29sZWFuKTtcblxuLy8gdHNsaW50OmRpc2FibGUgbm8taW5mZXJyYWJsZS10eXBlc1xuXG5leHBvcnQgaW50ZXJmYWNlIEZsYXRwaWNrckRlZmF1bHRzSW50ZXJmYWNlIHtcbiAgLyoqXG4gICAqIEV4YWN0bHkgdGhlIHNhbWUgYXMgZGF0ZSBmb3JtYXQsIGJ1dCBmb3IgdGhlIGFsdElucHV0IGZpZWxkLlxuICAgKi9cbiAgYWx0Rm9ybWF0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBcdFNob3cgdGhlIHVzZXIgYSByZWFkYWJsZSBkYXRlIChhcyBwZXIgYWx0Rm9ybWF0KSwgYnV0IHJldHVybiBzb21ldGhpbmcgdG90YWxseSBkaWZmZXJlbnQgdG8gdGhlIHNlcnZlci5cbiAgICovXG4gIGFsdElucHV0PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhpcyBjbGFzcyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBpbnB1dCBlbGVtZW50IGNyZWF0ZWQgYnkgdGhlIGFsdElucHV0IG9wdGlvbi5cbiAgICogTm90ZSB0aGF0IGBhbHRJbnB1dGAgYWxyZWFkeSBpbmhlcml0cyBjbGFzc2VzIGZyb20gdGhlIG9yaWdpbmFsIGlucHV0LlxuICAgKi9cbiAgYWx0SW5wdXRDbGFzcz86IHN0cmluZztcblxuICAvKipcbiAgICogQWxsb3dzIHRoZSB1c2VyIHRvIGVudGVyIGEgZGF0ZSBkaXJlY3RseSBpbnB1dCB0aGUgaW5wdXQgZmllbGQuIEJ5IGRlZmF1bHQsIGRpcmVjdCBlbnRyeSBpcyBkaXNhYmxlZC5cbiAgICovXG4gIGFsbG93SW5wdXQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJbnN0ZWFkIG9mIGBib2R5YCwgYXBwZW5kcyB0aGUgY2FsZW5kYXIgdG8gdGhlIHNwZWNpZmllZCBub2RlIGluc3RlYWQuXG4gICAqL1xuICBhcHBlbmRUbz86IEhUTUxFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIGhvdyB0aGUgZGF0ZSB3aWxsIGJlIGZvcm1hdHRlZCBpbiB0aGUgYXJpYS1sYWJlbCBmb3IgY2FsZW5kYXIgZGF5cywgdXNpbmcgdGhlIHNhbWUgdG9rZW5zIGFzIGRhdGVGb3JtYXQuIElmIHlvdSBjaGFuZ2UgdGhpcywgeW91IHNob3VsZCBjaG9vc2UgYSB2YWx1ZSB0aGF0IHdpbGwgbWFrZSBzZW5zZSBpZiBhIHNjcmVlbiByZWFkZXIgcmVhZHMgaXQgb3V0IGxvdWQuXG4gICAqL1xuICBhcmlhRGF0ZUZvcm1hdD86IHN0cmluZztcblxuICAvKipcbiAgICogV2hldGhlciBjbGlja2luZyBvbiB0aGUgaW5wdXQgc2hvdWxkIG9wZW4gdGhlIHBpY2tlci5cbiAgICogWW91IGNvdWxkIGRpc2FibGUgdGhpcyBpZiB5b3Ugd2lzaCB0byBvcGVuIHRoZSBjYWxlbmRhciBtYW51YWxseSBgd2l0aC5vcGVuKClgLlxuICAgKi9cbiAgY2xpY2tPcGVucz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEEgc3RyaW5nIG9mIGNoYXJhY3RlcnMgd2hpY2ggYXJlIHVzZWQgdG8gZGVmaW5lIGhvdyB0aGUgZGF0ZSB3aWxsIGJlIGRpc3BsYXllZCBpbiB0aGUgaW5wdXQgYm94LlxuICAgKiBUaGUgc3VwcG9ydGVkIGNoYXJhY3RlcnMgYXJlIGRlZmluZWQgaW4gdGhlIHRhYmxlIGJlbG93LlxuICAgKi9cbiAgZGF0ZUZvcm1hdD86IHN0cmluZztcbiAgLyoqXG4gICAqIEluaXRpYWwgdmFsdWUgb2YgdGhlIGhvdXIgZWxlbWVudC5cbiAgICovXG4gIGRlZmF1bHRIb3VyPzogbnVtYmVyO1xuICAvKipcbiAgICogSW5pdGlhbCB2YWx1ZSBvZiB0aGUgbWludXRlIGVsZW1lbnQuXG4gICAqL1xuICBkZWZhdWx0TWludXRlPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBTZWUgPGEgaHJlZj1cImh0dHBzOi8vY2htbG4uZ2l0aHViLmlvL2ZsYXRwaWNrci9leGFtcGxlcy8jZGlzYWJsaW5nLXNwZWNpZmljLWRhdGVzXCI+ZGlzYWJsaW5nIGRhdGVzPC9hPi5cbiAgICovXG4gIGRpc2FibGU/OiBEaXNhYmxlRW5hYmxlRGF0ZVtdO1xuXG4gIC8qKlxuICAgKiBTZXQgZGlzYWJsZU1vYmlsZSB0byB0cnVlIHRvIGFsd2F5cyB1c2UgdGhlIG5vbi1uYXRpdmUgcGlja2VyLlxuICAgKiBCeSBkZWZhdWx0LCBGbGF0cGlja3IgdXRpbGl6ZXMgbmF0aXZlIGRhdGV0aW1lIHdpZGdldHMgdW5sZXNzIGNlcnRhaW4gb3B0aW9ucyAoZS5nLiBkaXNhYmxlKSBhcmUgdXNlZC5cbiAgICovXG4gIGRpc2FibGVNb2JpbGU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTZWUgPGEgaHJlZj1cImh0dHBzOi8vY2htbG4uZ2l0aHViLmlvL2ZsYXRwaWNrci9leGFtcGxlcy8jZGlzYWJsaW5nLWFsbC1kYXRlcy1leGNlcHQtc2VsZWN0LWZld1wiPmVuYWJsaW5nIGRhdGVzPC9hPi5cbiAgICovXG4gIGVuYWJsZT86IERpc2FibGVFbmFibGVEYXRlW107XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgdGltZSBwaWNrZXIuXG4gICAqL1xuICBlbmFibGVUaW1lPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogRW5hYmxlcyBzZWNvbmRzIGluIHRoZSB0aW1lIHBpY2tlci5cbiAgICovXG4gIGVuYWJsZVNlY29uZHM/OiBib29sZWFuO1xuICAvKipcbiAgICogQWxsb3dzIHVzaW5nIGEgY3VzdG9tIGRhdGUgZm9ybWF0dGluZyBmdW5jdGlvbiBpbnN0ZWFkIG9mIHRoZSBidWlsdC1pbiBoYW5kbGluZyBmb3IgZGF0ZSBmb3JtYXRzIHVzaW5nIGRhdGVGb3JtYXQsIGFsdEZvcm1hdCwgZXRjLlxuICAgKi9cbiAgZm9ybWF0RGF0ZT86ICh2YWx1ZTogYW55KSA9PiBzdHJpbmc7XG4gIC8qKlxuICAgKiBBZGp1c3RzIHRoZSBzdGVwIGZvciB0aGUgaG91ciBpbnB1dCAoaW5jbC4gc2Nyb2xsaW5nKS5cbiAgICovXG4gIGhvdXJJbmNyZW1lbnQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSBjYWxlbmRhciBpbmxpbmUuXG4gICAqL1xuICBpbmxpbmU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBkYXRlIHRoYXQgYSB1c2VyIGNhbiBwaWNrIHRvIChpbmNsdXNpdmUpLlxuICAgKi9cbiAgbWF4RGF0ZT86IHN0cmluZyB8IERhdGU7XG5cbiAgLyoqXG4gICAqIFRoZSBtaW5pbXVtIGRhdGUgdGhhdCBhIHVzZXIgY2FuIHN0YXJ0IHBpY2tpbmcgZnJvbSAoaW5jbHVzaXZlKS5cbiAgICovXG4gIG1pbkRhdGU/OiBzdHJpbmcgfCBEYXRlO1xuXG4gIC8qKlxuICAgKiBBZGp1c3RzIHRoZSBzdGVwIGZvciB0aGUgbWludXRlIGlucHV0IChpbmNsLiBzY3JvbGxpbmcpLlxuICAgKi9cbiAgbWludXRlSW5jcmVtZW50PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBTZWxlY3QgYSBzaW5nbGUgZGF0ZSwgbXVsdGlwbGUgZGF0ZXMgb3IgYSBkYXRlIHJhbmdlLlxuICAgKi9cbiAgbW9kZT86ICdzaW5nbGUnIHwgJ211bHRpcGxlJyB8ICdyYW5nZSc7XG5cbiAgLyoqXG4gICAqIEhUTUwgZm9yIHRoZSBhcnJvdyBpY29uLCB1c2VkIHRvIHN3aXRjaCBtb250aHMuXG4gICAqL1xuICBuZXh0QXJyb3c/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEhpZGVzIHRoZSBkYXkgc2VsZWN0aW9uIGluIGNhbGVuZGFyLiBVc2UgaXQgYWxvbmcgd2l0aCBgZW5hYmxlVGltZWAgdG8gY3JlYXRlIGEgdGltZSBwaWNrZXIuXG4gICAqL1xuICBub0NhbGVuZGFyPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogUHJvdmlkZSBhIGRhdGUgZm9yICd0b2RheScsIHdoaWNoIHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIFwibmV3IERhdGUoKVwiXG4gICAqL1xuICBub3c/OiBEYXRlIHwgc3RyaW5nIHwgbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0aGF0IGV4cGVjdHMgYSBkYXRlIHN0cmluZyBhbmQgbXVzdCByZXR1cm4gYSBEYXRlIG9iamVjdC5cbiAgICovXG4gIHBhcnNlRGF0ZT86IChzdHI6IHN0cmluZykgPT4gRGF0ZTtcblxuICAvKipcbiAgICogSFRNTCBmb3IgdGhlIGxlZnQgYXJyb3cgaWNvbi5cbiAgICovXG4gIHByZXZBcnJvdz86IHN0cmluZztcblxuICAvKipcbiAgICogU2hvdyB0aGUgbW9udGggdXNpbmcgdGhlIHNob3J0aGFuZCB2ZXJzaW9uIChpZSwgU2VwIGluc3RlYWQgb2YgU2VwdGVtYmVyKS5cbiAgICovXG4gIHNob3J0aGFuZEN1cnJlbnRNb250aD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFBvc2l0aW9uIHRoZSBjYWxlbmRhciBpbnNpZGUgdGhlIHdyYXBwZXIgYW5kIG5leHQgdG8gdGhlIGlucHV0IGVsZW1lbnQuIChMZWF2ZSBgZmFsc2VgIHVubGVzcyB5b3Uga25vdyB3aGF0IHlvdSdyZSBkb2luZykuXG4gICAqL1xuICBzdGF0aWM/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aW1lIHBpY2tlciBpbiAyNCBob3VyIG1vZGUgd2l0aG91dCBBTS9QTSBzZWxlY3Rpb24gd2hlbiBlbmFibGVkLlxuICAgKi9cbiAgdGltZTI0aHI/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIGRhdGVzIHdpbGwgcGFyc2VkLCBmb3JtYXR0ZWQsIGFuZCBkaXNwbGF5ZWQgaW4gVVRDLlxuICAgKiBJdCdzIHJlY29tbWVuZGVkIHRoYXQgZGF0ZSBzdHJpbmdzIGNvbnRhaW4gdGhlIHRpbWV6b25lLCBidXQgbm90IG5lY2Vzc2FyeS5cbiAgICovXG4gIHV0Yz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgZGlzcGxheSBvZiB3ZWVrIG51bWJlcnMgaW4gY2FsZW5kYXIuXG4gICAqL1xuICB3ZWVrTnVtYmVycz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFlvdSBtYXkgb3ZlcnJpZGUgdGhlIGZ1bmN0aW9uIHRoYXQgZXh0cmFjdHMgdGhlIHdlZWsgbnVtYmVycyBmcm9tIGEgRGF0ZSBieSBzdXBwbHlpbmcgYSBnZXRXZWVrIGZ1bmN0aW9uLlxuICAgKiBJdCB0YWtlcyBpbiBhIGRhdGUgYXMgYSBwYXJhbWV0ZXIgYW5kIHNob3VsZCByZXR1cm4gYSBjb3JyZXNwb25kaW5nIHN0cmluZyB0aGF0IHlvdSB3YW50IHRvIGFwcGVhciBsZWZ0IG9mIGV2ZXJ5IHdlZWsuXG4gICAqL1xuICBnZXRXZWVrPzogKGRhdGU6IERhdGUpID0+IHN0cmluZztcblxuICAvKipcbiAgICogQ3VzdG9tIGVsZW1lbnRzIGFuZCBpbnB1dCBncm91cHMuXG4gICAqL1xuICB3cmFwPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogQXJyYXkgb2YgcGx1Z2luIGluc3RhbmNlcyB0byB1c2UuXG4gICAqL1xuICBwbHVnaW5zPzogYW55W107XG5cbiAgLyoqXG4gICAqIFRoZSBsb2NhbGUgb2JqZWN0IG9yIHN0cmluZyB0byB1c2UgZm9yIHRoZSBsb2NhbGUuXG4gICAqL1xuICBsb2NhbGU/OiBvYmplY3QgfCBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEF1dG8gY29udmVydCB0aGUgbmdNb2RlbCB2YWx1ZSBmcm9tIGEgc3RyaW5nIHRvIGEgZGF0ZSAvIGFycmF5IG9mIGRhdGVzIC8gZnJvbSAtIHRvIGRhdGUgb2JqZWN0IGRlcGVuZGluZyBvbiB0aGUgYG1vZGVgXG4gICAqL1xuICBjb252ZXJ0TW9kZWxWYWx1ZT86IGJvb2xlYW47XG4gIFxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBtb250aHMgc2hvd24uXG4gICAqL1xuICBzaG93TW9udGhzPzogbnVtYmVyO1xufVxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRmxhdHBpY2tyRGVmYXVsdHMgaW1wbGVtZW50cyBGbGF0cGlja3JEZWZhdWx0c0ludGVyZmFjZSB7XG4gIC8qKlxuICAgKiBFeGFjdGx5IHRoZSBzYW1lIGFzIGRhdGUgZm9ybWF0LCBidXQgZm9yIHRoZSBhbHRJbnB1dCBmaWVsZC5cbiAgICovXG4gIGFsdEZvcm1hdDogc3RyaW5nID0gJ0YgaiwgWSc7XG5cbiAgLyoqXG4gICAqIFx0U2hvdyB0aGUgdXNlciBhIHJlYWRhYmxlIGRhdGUgKGFzIHBlciBhbHRGb3JtYXQpLCBidXQgcmV0dXJuIHNvbWV0aGluZyB0b3RhbGx5IGRpZmZlcmVudCB0byB0aGUgc2VydmVyLlxuICAgKi9cbiAgYWx0SW5wdXQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogVGhpcyBjbGFzcyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBpbnB1dCBlbGVtZW50IGNyZWF0ZWQgYnkgdGhlIGFsdElucHV0IG9wdGlvbi5cbiAgICogTm90ZSB0aGF0IGBhbHRJbnB1dGAgYWxyZWFkeSBpbmhlcml0cyBjbGFzc2VzIGZyb20gdGhlIG9yaWdpbmFsIGlucHV0LlxuICAgKi9cbiAgYWx0SW5wdXRDbGFzczogc3RyaW5nID0gJyc7XG5cbiAgLyoqXG4gICAqIEFsbG93cyB0aGUgdXNlciB0byBlbnRlciBhIGRhdGUgZGlyZWN0bHkgaW5wdXQgdGhlIGlucHV0IGZpZWxkLiBCeSBkZWZhdWx0LCBkaXJlY3QgZW50cnkgaXMgZGlzYWJsZWQuXG4gICAqL1xuICBhbGxvd0lucHV0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEluc3RlYWQgb2YgYGJvZHlgLCBhcHBlbmRzIHRoZSBjYWxlbmRhciB0byB0aGUgc3BlY2lmaWVkIG5vZGUgaW5zdGVhZC5cbiAgICovXG4gIGFwcGVuZFRvOiBIVE1MRWxlbWVudCA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogRGVmaW5lcyBob3cgdGhlIGRhdGUgd2lsbCBiZSBmb3JtYXR0ZWQgaW4gdGhlIGFyaWEtbGFiZWwgZm9yIGNhbGVuZGFyIGRheXMsIHVzaW5nIHRoZSBzYW1lIHRva2VucyBhcyBkYXRlRm9ybWF0LiBJZiB5b3UgY2hhbmdlIHRoaXMsIHlvdSBzaG91bGQgY2hvb3NlIGEgdmFsdWUgdGhhdCB3aWxsIG1ha2Ugc2Vuc2UgaWYgYSBzY3JlZW4gcmVhZGVyIHJlYWRzIGl0IG91dCBsb3VkLlxuICAgKi9cbiAgYXJpYURhdGVGb3JtYXQ/OiBzdHJpbmcgPSAnRiBqLCBZJztcblxuICAvKipcbiAgICogV2hldGhlciBjbGlja2luZyBvbiB0aGUgaW5wdXQgc2hvdWxkIG9wZW4gdGhlIHBpY2tlci5cbiAgICogWW91IGNvdWxkIGRpc2FibGUgdGhpcyBpZiB5b3Ugd2lzaCB0byBvcGVuIHRoZSBjYWxlbmRhciBtYW51YWxseSBgd2l0aC5vcGVuKClgLlxuICAgKi9cbiAgY2xpY2tPcGVuczogYm9vbGVhbiA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEEgc3RyaW5nIG9mIGNoYXJhY3RlcnMgd2hpY2ggYXJlIHVzZWQgdG8gZGVmaW5lIGhvdyB0aGUgZGF0ZSB3aWxsIGJlIGRpc3BsYXllZCBpbiB0aGUgaW5wdXQgYm94LlxuICAgKiBUaGUgc3VwcG9ydGVkIGNoYXJhY3RlcnMgYXJlIGRlZmluZWQgaW4gdGhlIHRhYmxlIGJlbG93LlxuICAgKi9cbiAgZGF0ZUZvcm1hdDogc3RyaW5nID0gJ1ktbS1kJztcblxuICAvKipcbiAgICogSW5pdGlhbCB2YWx1ZSBvZiB0aGUgaG91ciBlbGVtZW50LlxuICAgKi9cbiAgZGVmYXVsdEhvdXI/OiBudW1iZXIgPSAxMjtcblxuICAvKipcbiAgICogSW5pdGlhbCB2YWx1ZSBvZiB0aGUgbWludXRlIGVsZW1lbnQuXG4gICAqL1xuICBkZWZhdWx0TWludXRlPzogbnVtYmVyID0gMDtcblxuICAvKipcbiAgICogU2VlIDxhIGhyZWY9XCJodHRwczovL2NobWxuLmdpdGh1Yi5pby9mbGF0cGlja3IvZXhhbXBsZXMvI2Rpc2FibGluZy1zcGVjaWZpYy1kYXRlc1wiPmRpc2FibGluZyBkYXRlczwvYT4uXG4gICAqL1xuICBkaXNhYmxlOiBEaXNhYmxlRW5hYmxlRGF0ZVtdID0gW107XG5cbiAgLyoqXG4gICAqIFNldCBkaXNhYmxlTW9iaWxlIHRvIHRydWUgdG8gYWx3YXlzIHVzZSB0aGUgbm9uLW5hdGl2ZSBwaWNrZXIuXG4gICAqIEJ5IGRlZmF1bHQsIEZsYXRwaWNrciB1dGlsaXplcyBuYXRpdmUgZGF0ZXRpbWUgd2lkZ2V0cyB1bmxlc3MgY2VydGFpbiBvcHRpb25zIChlLmcuIGRpc2FibGUpIGFyZSB1c2VkLlxuICAgKi9cbiAgZGlzYWJsZU1vYmlsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBTZWUgPGEgaHJlZj1cImh0dHBzOi8vY2htbG4uZ2l0aHViLmlvL2ZsYXRwaWNrci9leGFtcGxlcy8jZGlzYWJsaW5nLWFsbC1kYXRlcy1leGNlcHQtc2VsZWN0LWZld1wiPmVuYWJsaW5nIGRhdGVzPC9hPi5cbiAgICovXG4gIGVuYWJsZTogRGlzYWJsZUVuYWJsZURhdGVbXSA9IFtdO1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIHRpbWUgcGlja2VyLlxuICAgKi9cbiAgZW5hYmxlVGltZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIHNlY29uZHMgaW4gdGhlIHRpbWUgcGlja2VyLlxuICAgKi9cbiAgZW5hYmxlU2Vjb25kczogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgdXNpbmcgYSBjdXN0b20gZGF0ZSBmb3JtYXR0aW5nIGZ1bmN0aW9uIGluc3RlYWQgb2YgdGhlIGJ1aWx0LWluIGhhbmRsaW5nIGZvciBkYXRlIGZvcm1hdHMgdXNpbmcgZGF0ZUZvcm1hdCwgYWx0Rm9ybWF0LCBldGMuXG4gICAqL1xuICBmb3JtYXREYXRlPzogKHZhbHVlOiBhbnkpID0+IHN0cmluZyA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogQWRqdXN0cyB0aGUgc3RlcCBmb3IgdGhlIGhvdXIgaW5wdXQgKGluY2wuIHNjcm9sbGluZykuXG4gICAqL1xuICBob3VySW5jcmVtZW50OiBudW1iZXIgPSAxO1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgY2FsZW5kYXIgaW5saW5lLlxuICAgKi9cbiAgaW5saW5lOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIGRhdGUgdGhhdCBhIHVzZXIgY2FuIHBpY2sgdG8gKGluY2x1c2l2ZSkuXG4gICAqL1xuICBtYXhEYXRlOiBzdHJpbmcgfCBEYXRlID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgbWluaW11bSBkYXRlIHRoYXQgYSB1c2VyIGNhbiBzdGFydCBwaWNraW5nIGZyb20gKGluY2x1c2l2ZSkuXG4gICAqL1xuICBtaW5EYXRlOiBzdHJpbmcgfCBEYXRlID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBBZGp1c3RzIHRoZSBzdGVwIGZvciB0aGUgbWludXRlIGlucHV0IChpbmNsLiBzY3JvbGxpbmcpLlxuICAgKi9cbiAgbWludXRlSW5jcmVtZW50OiBudW1iZXIgPSA1O1xuXG4gIC8qKlxuICAgKiBTZWxlY3QgYSBzaW5nbGUgZGF0ZSwgbXVsdGlwbGUgZGF0ZXMgb3IgYSBkYXRlIHJhbmdlLlxuICAgKi9cbiAgbW9kZTogJ3NpbmdsZScgfCAnbXVsdGlwbGUnIHwgJ3JhbmdlJyA9ICdzaW5nbGUnO1xuXG4gIC8qKlxuICAgKiBIVE1MIGZvciB0aGUgYXJyb3cgaWNvbiwgdXNlZCB0byBzd2l0Y2ggbW9udGhzLlxuICAgKi9cbiAgbmV4dEFycm93OiBzdHJpbmcgPSAnPic7XG5cbiAgLyoqXG4gICAqIEhpZGVzIHRoZSBkYXkgc2VsZWN0aW9uIGluIGNhbGVuZGFyLiBVc2UgaXQgYWxvbmcgd2l0aCBgZW5hYmxlVGltZWAgdG8gY3JlYXRlIGEgdGltZSBwaWNrZXIuXG4gICAqL1xuICBub0NhbGVuZGFyOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIERlZmF1bHQgbm93IHRvIHRoZSBjdXJyZW50IGRhdGVcbiAgICovXG4gIG5vdzogRGF0ZSB8IHN0cmluZyB8IG51bWJlciA9IG5ldyBEYXRlKCk7XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRoYXQgZXhwZWN0cyBhIGRhdGUgc3RyaW5nIGFuZCBtdXN0IHJldHVybiBhIERhdGUgb2JqZWN0LlxuICAgKi9cbiAgcGFyc2VEYXRlOiAoc3RyOiBzdHJpbmcpID0+IERhdGU7XG5cbiAgLyoqXG4gICAqIEhUTUwgZm9yIHRoZSBsZWZ0IGFycm93IGljb24uXG4gICAqL1xuICBwcmV2QXJyb3c6IHN0cmluZyA9ICc8JztcblxuICAvKipcbiAgICogU2hvdyB0aGUgbW9udGggdXNpbmcgdGhlIHNob3J0aGFuZCB2ZXJzaW9uIChpZSwgU2VwIGluc3RlYWQgb2YgU2VwdGVtYmVyKS5cbiAgICovXG4gIHNob3J0aGFuZEN1cnJlbnRNb250aDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBQb3NpdGlvbiB0aGUgY2FsZW5kYXIgaW5zaWRlIHRoZSB3cmFwcGVyIGFuZCBuZXh0IHRvIHRoZSBpbnB1dCBlbGVtZW50LiAoTGVhdmUgYGZhbHNlYCB1bmxlc3MgeW91IGtub3cgd2hhdCB5b3UncmUgZG9pbmcpLlxuICAgKi9cbiAgc3RhdGljOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRpbWUgcGlja2VyIGluIDI0IGhvdXIgbW9kZSB3aXRob3V0IEFNL1BNIHNlbGVjdGlvbiB3aGVuIGVuYWJsZWQuXG4gICAqL1xuICB0aW1lMjRocjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIGRhdGVzIHdpbGwgcGFyc2VkLCBmb3JtYXR0ZWQsIGFuZCBkaXNwbGF5ZWQgaW4gVVRDLlxuICAgKiBJdCdzIHJlY29tbWVuZGVkIHRoYXQgZGF0ZSBzdHJpbmdzIGNvbnRhaW4gdGhlIHRpbWV6b25lLCBidXQgbm90IG5lY2Vzc2FyeS5cbiAgICovXG4gIHV0YzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIGRpc3BsYXkgb2Ygd2VlayBudW1iZXJzIGluIGNhbGVuZGFyLlxuICAgKi9cbiAgd2Vla051bWJlcnM6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogWW91IG1heSBvdmVycmlkZSB0aGUgZnVuY3Rpb24gdGhhdCBleHRyYWN0cyB0aGUgd2VlayBudW1iZXJzIGZyb20gYSBEYXRlIGJ5IHN1cHBseWluZyBhIGdldFdlZWsgZnVuY3Rpb24uXG4gICAqIEl0IHRha2VzIGluIGEgZGF0ZSBhcyBhIHBhcmFtZXRlciBhbmQgc2hvdWxkIHJldHVybiBhIGNvcnJlc3BvbmRpbmcgc3RyaW5nIHRoYXQgeW91IHdhbnQgdG8gYXBwZWFyIGxlZnQgb2YgZXZlcnkgd2Vlay5cbiAgICovXG4gIGdldFdlZWs6IChkYXRlOiBEYXRlKSA9PiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEN1c3RvbSBlbGVtZW50cyBhbmQgaW5wdXQgZ3JvdXBzLlxuICAgKi9cbiAgd3JhcDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBBcnJheSBvZiBwbHVnaW4gaW5zdGFuY2VzIHRvIHVzZS5cbiAgICovXG4gIHBsdWdpbnM6IGFueVtdID0gW107XG5cbiAgLyoqXG4gICAqIFRoZSBsb2NhbGUgb2JqZWN0IG9yIHN0cmluZyB0byB1c2UgZm9yIHRoZSBsb2NhbGUuXG4gICAqL1xuICBsb2NhbGU6IG9iamVjdCB8IHN0cmluZyA9ICdkZWZhdWx0JztcblxuICAvKipcbiAgICogQXV0byBjb252ZXJ0IHRoZSBuZ01vZGVsIHZhbHVlIGZyb20gYSBzdHJpbmcgdG8gYSBkYXRlIC8gYXJyYXkgb2YgZGF0ZXMgLyBmcm9tIC0gdG8gZGF0ZSBvYmplY3QgZGVwZW5kaW5nIG9uIHRoZSBgbW9kZWBcbiAgICovXG4gIGNvbnZlcnRNb2RlbFZhbHVlOiBib29sZWFuID0gZmFsc2U7XG4gIFxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBtb250aHMgc2hvd24uXG4gICAqL1xuICBzaG93TW9udGhzOiBudW1iZXIgPSAxO1xufVxuIiwiaW1wb3J0IHtcbiAgRGlyZWN0aXZlLFxuICBFbGVtZW50UmVmLFxuICBBZnRlclZpZXdJbml0LFxuICBJbnB1dCxcbiAgT3V0cHV0LFxuICBFdmVudEVtaXR0ZXIsXG4gIE9uQ2hhbmdlcyxcbiAgU2ltcGxlQ2hhbmdlcyxcbiAgT25EZXN0cm95LFxuICBmb3J3YXJkUmVmLFxuICBIb3N0TGlzdGVuZXIsXG4gIFJlbmRlcmVyMlxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gIEZsYXRwaWNrckRlZmF1bHRzLFxuICBEaXNhYmxlRW5hYmxlRGF0ZVxufSBmcm9tICcuL2ZsYXRwaWNrci1kZWZhdWx0cy5zZXJ2aWNlJztcbmltcG9ydCB7IENvbnRyb2xWYWx1ZUFjY2Vzc29yLCBOR19WQUxVRV9BQ0NFU1NPUiB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCBmbGF0cGlja3IgZnJvbSAnZmxhdHBpY2tyJztcblxuZXhwb3J0IGludGVyZmFjZSBGbGF0UGlja3JPdXRwdXRPcHRpb25zIHtcbiAgc2VsZWN0ZWREYXRlczogRGF0ZVtdO1xuICBkYXRlU3RyaW5nOiBzdHJpbmc7XG4gIGluc3RhbmNlOiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmxhdFBpY2tyRGF5Q3JlYXRlT3V0cHV0T3B0aW9uc1xuICBleHRlbmRzIEZsYXRQaWNrck91dHB1dE9wdGlvbnMge1xuICBkYXlFbGVtZW50OiBIVE1MRWxlbWVudDtcbn1cblxuZXhwb3J0IGNvbnN0IEZMQVRQSUNLUl9DT05UUk9MX1ZBTFVFX0FDQ0VTU09SOiBhbnkgPSB7XG4gIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBGbGF0cGlja3JEaXJlY3RpdmUpLCAvL3RzbGludDpkaXNhYmxlLWxpbmVcbiAgbXVsdGk6IHRydWVcbn07XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1ttd2xGbGF0cGlja3JdJyxcbiAgcHJvdmlkZXJzOiBbRkxBVFBJQ0tSX0NPTlRST0xfVkFMVUVfQUNDRVNTT1JdLFxuICBob3N0OiB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbGluZSB1c2UtaG9zdC1wcm9wZXJ0eS1kZWNvcmF0b3JcbiAgICAnKGJsdXIpJzogJ29uVG91Y2hlZEZuKCknXG4gIH1cbn0pXG5leHBvcnQgY2xhc3MgRmxhdHBpY2tyRGlyZWN0aXZlXG4gIGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3ksIENvbnRyb2xWYWx1ZUFjY2Vzc29yIHtcbiAgLyoqXG4gICAqIEV4YWN0bHkgdGhlIHNhbWUgYXMgZGF0ZSBmb3JtYXQsIGJ1dCBmb3IgdGhlIGFsdElucHV0IGZpZWxkLlxuICAgKi9cbiAgQElucHV0KCkgYWx0Rm9ybWF0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFx0U2hvdyB0aGUgdXNlciBhIHJlYWRhYmxlIGRhdGUgKGFzIHBlciBhbHRGb3JtYXQpLCBidXQgcmV0dXJuIHNvbWV0aGluZyB0b3RhbGx5IGRpZmZlcmVudCB0byB0aGUgc2VydmVyLlxuICAgKi9cbiAgQElucHV0KCkgYWx0SW5wdXQ6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoaXMgY2xhc3Mgd2lsbCBiZSBhZGRlZCB0byB0aGUgaW5wdXQgZWxlbWVudCBjcmVhdGVkIGJ5IHRoZSBhbHRJbnB1dCBvcHRpb24uXG4gICAqIE5vdGUgdGhhdCBgYWx0SW5wdXRgIGFscmVhZHkgaW5oZXJpdHMgY2xhc3NlcyBmcm9tIHRoZSBvcmlnaW5hbCBpbnB1dC5cbiAgICovXG4gIEBJbnB1dCgpIGFsdElucHV0Q2xhc3M6IHN0cmluZztcblxuICAvKipcbiAgICogQWxsb3dzIHRoZSB1c2VyIHRvIGVudGVyIGEgZGF0ZSBkaXJlY3RseSBpbnB1dCB0aGUgaW5wdXQgZmllbGQuIEJ5IGRlZmF1bHQsIGRpcmVjdCBlbnRyeSBpcyBkaXNhYmxlZC5cbiAgICovXG4gIEBJbnB1dCgpIGFsbG93SW5wdXQ6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEluc3RlYWQgb2YgYGJvZHlgLCBhcHBlbmRzIHRoZSBjYWxlbmRhciB0byB0aGUgc3BlY2lmaWVkIG5vZGUgaW5zdGVhZC5cbiAgICovXG4gIEBJbnB1dCgpIGFwcGVuZFRvOiBIVE1MRWxlbWVudDtcblxuICAvKipcbiAgICogRGVmaW5lcyBob3cgdGhlIGRhdGUgd2lsbCBiZSBmb3JtYXR0ZWQgaW4gdGhlIGFyaWEtbGFiZWwgZm9yIGNhbGVuZGFyIGRheXMsIHVzaW5nIHRoZSBzYW1lIHRva2VucyBhcyBkYXRlRm9ybWF0LiBJZiB5b3UgY2hhbmdlIHRoaXMsIHlvdSBzaG91bGQgY2hvb3NlIGEgdmFsdWUgdGhhdCB3aWxsIG1ha2Ugc2Vuc2UgaWYgYSBzY3JlZW4gcmVhZGVyIHJlYWRzIGl0IG91dCBsb3VkLlxuICAgKi9cbiAgQElucHV0KCkgYXJpYURhdGVGb3JtYXQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgY2xpY2tpbmcgb24gdGhlIGlucHV0IHNob3VsZCBvcGVuIHRoZSBwaWNrZXIuXG4gICAqIFlvdSBjb3VsZCBkaXNhYmxlIHRoaXMgaWYgeW91IHdpc2ggdG8gb3BlbiB0aGUgY2FsZW5kYXIgbWFudWFsbHkgYHdpdGgub3BlbigpYC5cbiAgICovXG4gIEBJbnB1dCgpIGNsaWNrT3BlbnM6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEEgc3RyaW5nIG9mIGNoYXJhY3RlcnMgd2hpY2ggYXJlIHVzZWQgdG8gZGVmaW5lIGhvdyB0aGUgZGF0ZSB3aWxsIGJlIGRpc3BsYXllZCBpbiB0aGUgaW5wdXQgYm94LlxuICAgKiBUaGUgc3VwcG9ydGVkIGNoYXJhY3RlcnMgYXJlIGRlZmluZWQgaW4gdGhlIHRhYmxlIGJlbG93LlxuICAgKi9cbiAgQElucHV0KCkgZGF0ZUZvcm1hdDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBJbml0aWFsIHZhbHVlIG9mIHRoZSBob3VyIGVsZW1lbnQuXG4gICAqL1xuICBASW5wdXQoKSBkZWZhdWx0SG91cj86IG51bWJlcjtcbiAgLyoqXG4gICAqIEluaXRpYWwgdmFsdWUgb2YgdGhlIG1pbnV0ZSBlbGVtZW50LlxuICAgKi9cbiAgQElucHV0KCkgZGVmYXVsdE1pbnV0ZT86IG51bWJlcjtcblxuICAvKipcbiAgICogU2VlIDxhIGhyZWY9XCJodHRwczovL2NobWxuLmdpdGh1Yi5pby9mbGF0cGlja3IvZXhhbXBsZXMvI2Rpc2FibGluZy1zcGVjaWZpYy1kYXRlc1wiPmRpc2FibGluZyBkYXRlczwvYT4uXG4gICAqL1xuICBASW5wdXQoKSBkaXNhYmxlOiBEaXNhYmxlRW5hYmxlRGF0ZVtdO1xuXG4gIC8qKlxuICAgKiBTZXQgZGlzYWJsZU1vYmlsZSB0byB0cnVlIHRvIGFsd2F5cyB1c2UgdGhlIG5vbi1uYXRpdmUgcGlja2VyLlxuICAgKiBCeSBkZWZhdWx0LCBGbGF0cGlja3IgdXRpbGl6ZXMgbmF0aXZlIGRhdGV0aW1lIHdpZGdldHMgdW5sZXNzIGNlcnRhaW4gb3B0aW9ucyAoZS5nLiBkaXNhYmxlKSBhcmUgdXNlZC5cbiAgICovXG4gIEBJbnB1dCgpIGRpc2FibGVNb2JpbGU6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNlZSA8YSBocmVmPVwiaHR0cHM6Ly9jaG1sbi5naXRodWIuaW8vZmxhdHBpY2tyL2V4YW1wbGVzLyNkaXNhYmxpbmctYWxsLWRhdGVzLWV4Y2VwdC1zZWxlY3QtZmV3XCI+ZW5hYmxpbmcgZGF0ZXM8L2E+LlxuICAgKi9cbiAgQElucHV0KCkgZW5hYmxlOiBEaXNhYmxlRW5hYmxlRGF0ZVtdO1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIHRpbWUgcGlja2VyLlxuICAgKi9cbiAgQElucHV0KCkgZW5hYmxlVGltZTogYm9vbGVhbjtcblxuICAvKipcbiAgICogRW5hYmxlcyBzZWNvbmRzIGluIHRoZSB0aW1lIHBpY2tlci5cbiAgICovXG4gIEBJbnB1dCgpIGVuYWJsZVNlY29uZHM6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEFsbG93cyB1c2luZyBhIGN1c3RvbSBkYXRlIGZvcm1hdHRpbmcgZnVuY3Rpb24gaW5zdGVhZCBvZiB0aGUgYnVpbHQtaW4gaGFuZGxpbmcgZm9yIGRhdGUgZm9ybWF0cyB1c2luZyBkYXRlRm9ybWF0LCBhbHRGb3JtYXQsIGV0Yy5cbiAgICovXG4gIEBJbnB1dCgpIGZvcm1hdERhdGU/OiAodmFsdWU6IGFueSkgPT4gc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBZGp1c3RzIHRoZSBzdGVwIGZvciB0aGUgaG91ciBpbnB1dCAoaW5jbC4gc2Nyb2xsaW5nKS5cbiAgICovXG4gIEBJbnB1dCgpIGhvdXJJbmNyZW1lbnQ6IG51bWJlcjtcblxuICAvKipcbiAgICogRGlzcGxheXMgdGhlIGNhbGVuZGFyIGlubGluZS5cbiAgICovXG4gIEBJbnB1dCgpIGlubGluZTogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gZGF0ZSB0aGF0IGEgdXNlciBjYW4gcGljayB0byAoaW5jbHVzaXZlKS5cbiAgICovXG4gIEBJbnB1dCgpIG1heERhdGU6IHN0cmluZyB8IERhdGU7XG5cbiAgLyoqXG4gICAqIFRoZSBtaW5pbXVtIGRhdGUgdGhhdCBhIHVzZXIgY2FuIHN0YXJ0IHBpY2tpbmcgZnJvbSAoaW5jbHVzaXZlKS5cbiAgICovXG4gIEBJbnB1dCgpIG1pbkRhdGU6IHN0cmluZyB8IERhdGU7XG5cbiAgLyoqXG4gICAqIEFkanVzdHMgdGhlIHN0ZXAgZm9yIHRoZSBtaW51dGUgaW5wdXQgKGluY2wuIHNjcm9sbGluZykuXG4gICAqL1xuICBASW5wdXQoKSBtaW51dGVJbmNyZW1lbnQ6IG51bWJlcjtcblxuICAvKipcbiAgICogU2VsZWN0IGEgc2luZ2xlIGRhdGUsIG11bHRpcGxlIGRhdGVzIG9yIGEgZGF0ZSByYW5nZS5cbiAgICovXG4gIEBJbnB1dCgpIG1vZGU6ICdzaW5nbGUnIHwgJ211bHRpcGxlJyB8ICdyYW5nZSc7XG5cbiAgLyoqXG4gICAqIEhUTUwgZm9yIHRoZSBhcnJvdyBpY29uLCB1c2VkIHRvIHN3aXRjaCBtb250aHMuXG4gICAqL1xuICBASW5wdXQoKSBuZXh0QXJyb3c6IHN0cmluZztcblxuICAvKipcbiAgICogSGlkZXMgdGhlIGRheSBzZWxlY3Rpb24gaW4gY2FsZW5kYXIuIFVzZSBpdCBhbG9uZyB3aXRoIGBlbmFibGVUaW1lYCB0byBjcmVhdGUgYSB0aW1lIHBpY2tlci5cbiAgICovXG4gIEBJbnB1dCgpIG5vQ2FsZW5kYXI6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFByb3ZpZGUgYSBkYXRlIGZvciAndG9kYXknLCB3aGljaCB3aWxsIGJlIHVzZWQgaW5zdGVhZCBvZiBcIm5ldyBEYXRlKClcIlxuICAgKi9cbiAgQElucHV0KCkgbm93PzogRGF0ZSB8IHN0cmluZyB8IG51bWJlcjtcblxuICAvKipcbiAgICogRnVuY3Rpb24gdGhhdCBleHBlY3RzIGEgZGF0ZSBzdHJpbmcgYW5kIG11c3QgcmV0dXJuIGEgRGF0ZSBvYmplY3QuXG4gICAqL1xuICBASW5wdXQoKSBwYXJzZURhdGU6IChzdHI6IHN0cmluZykgPT4gRGF0ZTtcblxuICAvKipcbiAgICogSFRNTCBmb3IgdGhlIGxlZnQgYXJyb3cgaWNvbi5cbiAgICovXG4gIEBJbnB1dCgpIHByZXZBcnJvdzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTaG93IHRoZSBtb250aCB1c2luZyB0aGUgc2hvcnRoYW5kIHZlcnNpb24gKGllLCBTZXAgaW5zdGVhZCBvZiBTZXB0ZW1iZXIpLlxuICAgKi9cbiAgQElucHV0KCkgc2hvcnRoYW5kQ3VycmVudE1vbnRoOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIG1vbnRocyBzaG93bi5cbiAgICovXG4gIEBJbnB1dCgpIHNob3dNb250aHM6IG51bWJlcjtcblxuICAvKipcbiAgICogUG9zaXRpb24gdGhlIGNhbGVuZGFyIGluc2lkZSB0aGUgd3JhcHBlciBhbmQgbmV4dCB0byB0aGUgaW5wdXQgZWxlbWVudC4gKExlYXZlIGBmYWxzZWAgdW5sZXNzIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nKS5cbiAgICovXG4gIEBJbnB1dCgpIHN0YXRpYzogYm9vbGVhbjtcblxuICAvKipcbiAgICogRGlzcGxheXMgdGltZSBwaWNrZXIgaW4gMjQgaG91ciBtb2RlIHdpdGhvdXQgQU0vUE0gc2VsZWN0aW9uIHdoZW4gZW5hYmxlZC5cbiAgICovXG4gIEBJbnB1dCgpIHRpbWUyNGhyOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIGRpc3BsYXkgb2Ygd2VlayBudW1iZXJzIGluIGNhbGVuZGFyLlxuICAgKi9cbiAgQElucHV0KCkgd2Vla051bWJlcnM6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFlvdSBtYXkgb3ZlcnJpZGUgdGhlIGZ1bmN0aW9uIHRoYXQgZXh0cmFjdHMgdGhlIHdlZWsgbnVtYmVycyBmcm9tIGEgRGF0ZSBieSBzdXBwbHlpbmcgYSBnZXRXZWVrIGZ1bmN0aW9uLlxuICAgKiBJdCB0YWtlcyBpbiBhIGRhdGUgYXMgYSBwYXJhbWV0ZXIgYW5kIHNob3VsZCByZXR1cm4gYSBjb3JyZXNwb25kaW5nIHN0cmluZyB0aGF0IHlvdSB3YW50IHRvIGFwcGVhciBsZWZ0IG9mIGV2ZXJ5IHdlZWsuXG4gICAqL1xuICBASW5wdXQoKSBnZXRXZWVrOiAoZGF0ZTogRGF0ZSkgPT4gc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBDdXN0b20gZWxlbWVudHMgYW5kIGlucHV0IGdyb3Vwcy5cbiAgICovXG4gIEBJbnB1dCgpIHdyYXA6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEFycmF5IG9mIHBsdWdpbiBpbnN0YW5jZXMgdG8gdXNlLlxuICAgKi9cbiAgQElucHV0KCkgcGx1Z2luczogYW55W107XG5cbiAgLyoqXG4gICAqIFRoZSBsb2NhbGUgb2JqZWN0IG9yIHN0cmluZyB0byB1c2UgZm9yIHRoZSBsb2NhbGUuXG4gICAqL1xuICBASW5wdXQoKSBsb2NhbGU6IG9iamVjdCB8IHN0cmluZztcblxuICAvKipcbiAgICogQXV0byBjb252ZXJ0IHRoZSBuZ01vZGVsIHZhbHVlIGZyb20gYSBzdHJpbmcgdG8gYSBkYXRlIC8gYXJyYXkgb2YgZGF0ZXMgLyBmcm9tIC0gdG8gZGF0ZSBvYmplY3QgZGVwZW5kaW5nIG9uIHRoZSBgbW9kZWBcbiAgICovXG4gIEBJbnB1dCgpIGNvbnZlcnRNb2RlbFZhbHVlOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRyaWdnZXJlZCBvbmNlIHRoZSBjYWxlbmRhciBpcyBpbiBhIHJlYWR5IHN0YXRlXG4gICAqL1xuICBAT3V0cHV0KClcbiAgZmxhdHBpY2tyUmVhZHk6IEV2ZW50RW1pdHRlcjxGbGF0UGlja3JPdXRwdXRPcHRpb25zPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvKipcbiAgICogR2V0cyB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBzZWxlY3RzIGEgZGF0ZSwgb3IgY2hhbmdlcyB0aGUgdGltZSBvbiBhIHNlbGVjdGVkIGRhdGUuXG4gICAqL1xuICBAT3V0cHV0KClcbiAgZmxhdHBpY2tyQ2hhbmdlOiBFdmVudEVtaXR0ZXI8RmxhdFBpY2tyT3V0cHV0T3B0aW9ucz4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLyoqXG4gICAqIEdldHMgdHJpZ2dlcmVkIHdoZW4gdGhlIGlucHV0IHZhbHVlIGlzIHVwZGF0ZWQgd2l0aCBhIG5ldyBkYXRlIHN0cmluZy5cbiAgICovXG4gIEBPdXRwdXQoKVxuICBmbGF0cGlja3JWYWx1ZVVwZGF0ZTogRXZlbnRFbWl0dGVyPFxuICAgIEZsYXRQaWNrck91dHB1dE9wdGlvbnNcbiAgPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvKipcbiAgICogR2V0cyB0cmlnZ2VyZWQgd2hlbiB0aGUgY2FsZW5kYXIgaXMgb3BlbmVkLlxuICAgKi9cbiAgQE91dHB1dCgpXG4gIGZsYXRwaWNrck9wZW46IEV2ZW50RW1pdHRlcjxGbGF0UGlja3JPdXRwdXRPcHRpb25zPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvKipcbiAgICogR2V0cyB0cmlnZ2VyZWQgd2hlbiB0aGUgY2FsZW5kYXIgaXMgY2xvc2VkLlxuICAgKi9cbiAgQE91dHB1dCgpXG4gIGZsYXRwaWNrckNsb3NlOiBFdmVudEVtaXR0ZXI8RmxhdFBpY2tyT3V0cHV0T3B0aW9ucz4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLyoqXG4gICAqIEdldHMgdHJpZ2dlcmVkIHdoZW4gdGhlIG1vbnRoIGlzIGNoYW5nZWQsIGVpdGhlciBieSB0aGUgdXNlciBvciBwcm9ncmFtbWF0aWNhbGx5LlxuICAgKi9cbiAgQE91dHB1dCgpXG4gIGZsYXRwaWNrck1vbnRoQ2hhbmdlOiBFdmVudEVtaXR0ZXI8XG4gICAgRmxhdFBpY2tyT3V0cHV0T3B0aW9uc1xuICA+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRyaWdnZXJlZCB3aGVuIHRoZSB5ZWFyIGlzIGNoYW5nZWQsIGVpdGhlciBieSB0aGUgdXNlciBvciBwcm9ncmFtbWF0aWNhbGx5LlxuICAgKi9cbiAgQE91dHB1dCgpXG4gIGZsYXRwaWNrclllYXJDaGFuZ2U6IEV2ZW50RW1pdHRlcjxcbiAgICBGbGF0UGlja3JPdXRwdXRPcHRpb25zXG4gID4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLyoqXG4gICAqIFRha2UgZnVsbCBjb250cm9sIG9mIGV2ZXJ5IGRhdGUgY2VsbCB3aXRoIHRoaXMgb3V0cHV0XG4gICAqL1xuICBAT3V0cHV0KClcbiAgZmxhdHBpY2tyRGF5Q3JlYXRlOiBFdmVudEVtaXR0ZXI8XG4gICAgRmxhdFBpY2tyRGF5Q3JlYXRlT3V0cHV0T3B0aW9uc1xuICA+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIHByaXZhdGUgaW5zdGFuY2U6IGZsYXRwaWNrci5JbnN0YW5jZTtcbiAgcHJpdmF0ZSBpc0Rpc2FibGVkID0gZmFsc2U7XG4gIHByaXZhdGUgaW5pdGlhbFZhbHVlOiBhbnk7XG5cbiAgb25DaGFuZ2VGbjogKHZhbHVlOiBhbnkpID0+IHZvaWQgPSAoKSA9PiB7fTsgLy8gdHNsaW50OmRpc2FibGUtbGluZVxuXG4gIG9uVG91Y2hlZEZuID0gKCkgPT4ge307XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBlbG06IEVsZW1lbnRSZWYsXG4gICAgcHJpdmF0ZSBkZWZhdWx0czogRmxhdHBpY2tyRGVmYXVsdHMsXG4gICAgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyXG4gICkge31cblxuICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XG4gICAgY29uc3Qgb3B0aW9uczogYW55ID0ge1xuICAgICAgYWx0Rm9ybWF0OiB0aGlzLmFsdEZvcm1hdCxcbiAgICAgIGFsdElucHV0OiB0aGlzLmFsdElucHV0LFxuICAgICAgYWx0SW5wdXRDbGFzczogdGhpcy5hbHRJbnB1dENsYXNzLFxuICAgICAgYWxsb3dJbnB1dDogdGhpcy5hbGxvd0lucHV0LFxuICAgICAgYXBwZW5kVG86IHRoaXMuYXBwZW5kVG8sXG4gICAgICBhcmlhRGF0ZUZvcm1hdDogdGhpcy5hcmlhRGF0ZUZvcm1hdCxcbiAgICAgIGNsaWNrT3BlbnM6IHRoaXMuY2xpY2tPcGVucyxcbiAgICAgIGRhdGVGb3JtYXQ6IHRoaXMuZGF0ZUZvcm1hdCxcbiAgICAgIGRlZmF1bHRIb3VyOiB0aGlzLmRlZmF1bHRIb3VyLFxuICAgICAgZGVmYXVsdE1pbnV0ZTogdGhpcy5kZWZhdWx0TWludXRlLFxuICAgICAgZGlzYWJsZTogdGhpcy5kaXNhYmxlLFxuICAgICAgZGlzYWJsZU1vYmlsZTogdGhpcy5kaXNhYmxlTW9iaWxlLFxuICAgICAgZW5hYmxlOiB0aGlzLmVuYWJsZSxcbiAgICAgIGVuYWJsZVRpbWU6IHRoaXMuZW5hYmxlVGltZSxcbiAgICAgIGVuYWJsZVNlY29uZHM6IHRoaXMuZW5hYmxlU2Vjb25kcyxcbiAgICAgIGZvcm1hdERhdGU6IHRoaXMuZm9ybWF0RGF0ZSxcbiAgICAgIGhvdXJJbmNyZW1lbnQ6IHRoaXMuaG91ckluY3JlbWVudCxcbiAgICAgIGRlZmF1bHREYXRlOiB0aGlzLmluaXRpYWxWYWx1ZSxcbiAgICAgIGlubGluZTogdGhpcy5pbmxpbmUsXG4gICAgICBtYXhEYXRlOiB0aGlzLm1heERhdGUsXG4gICAgICBtaW5EYXRlOiB0aGlzLm1pbkRhdGUsXG4gICAgICBtaW51dGVJbmNyZW1lbnQ6IHRoaXMubWludXRlSW5jcmVtZW50LFxuICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgbmV4dEFycm93OiB0aGlzLm5leHRBcnJvdyxcbiAgICAgIG5vQ2FsZW5kYXI6IHRoaXMubm9DYWxlbmRhcixcbiAgICAgIG5vdzogdGhpcy5ub3csXG4gICAgICBwYXJzZURhdGU6IHRoaXMucGFyc2VEYXRlLFxuICAgICAgcHJldkFycm93OiB0aGlzLnByZXZBcnJvdyxcbiAgICAgIHNob3J0aGFuZEN1cnJlbnRNb250aDogdGhpcy5zaG9ydGhhbmRDdXJyZW50TW9udGgsXG4gICAgICBzaG93TW9udGhzOiB0aGlzLnNob3dNb250aHMsXG4gICAgICBzdGF0aWM6IHRoaXMuc3RhdGljLFxuICAgICAgdGltZTI0aHI6IHRoaXMudGltZTI0aHIsXG4gICAgICB3ZWVrTnVtYmVyczogdGhpcy53ZWVrTnVtYmVycyxcbiAgICAgIGdldFdlZWs6IHRoaXMuZ2V0V2VlayxcbiAgICAgIHdyYXA6IHRoaXMud3JhcCxcbiAgICAgIHBsdWdpbnM6IHRoaXMucGx1Z2lucyxcbiAgICAgIGxvY2FsZTogdGhpcy5sb2NhbGUsXG4gICAgICBvbkNoYW5nZTogKHNlbGVjdGVkRGF0ZXM6IERhdGVbXSwgZGF0ZVN0cmluZzogc3RyaW5nLCBpbnN0YW5jZTogYW55KSA9PiB7XG4gICAgICAgIHRoaXMuZmxhdHBpY2tyQ2hhbmdlLmVtaXQoeyBzZWxlY3RlZERhdGVzLCBkYXRlU3RyaW5nLCBpbnN0YW5jZSB9KTtcbiAgICAgIH0sXG4gICAgICBvbk9wZW46IChzZWxlY3RlZERhdGVzOiBEYXRlW10sIGRhdGVTdHJpbmc6IHN0cmluZywgaW5zdGFuY2U6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLmZsYXRwaWNrck9wZW4uZW1pdCh7IHNlbGVjdGVkRGF0ZXMsIGRhdGVTdHJpbmcsIGluc3RhbmNlIH0pO1xuICAgICAgfSxcbiAgICAgIG9uQ2xvc2U6IChzZWxlY3RlZERhdGVzOiBEYXRlW10sIGRhdGVTdHJpbmc6IHN0cmluZywgaW5zdGFuY2U6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLmZsYXRwaWNrckNsb3NlLmVtaXQoeyBzZWxlY3RlZERhdGVzLCBkYXRlU3RyaW5nLCBpbnN0YW5jZSB9KTtcbiAgICAgIH0sXG4gICAgICBvbk1vbnRoQ2hhbmdlOiAoXG4gICAgICAgIHNlbGVjdGVkRGF0ZXM6IERhdGVbXSxcbiAgICAgICAgZGF0ZVN0cmluZzogc3RyaW5nLFxuICAgICAgICBpbnN0YW5jZTogYW55XG4gICAgICApID0+IHtcbiAgICAgICAgdGhpcy5mbGF0cGlja3JNb250aENoYW5nZS5lbWl0KHsgc2VsZWN0ZWREYXRlcywgZGF0ZVN0cmluZywgaW5zdGFuY2UgfSk7XG4gICAgICB9LFxuICAgICAgb25ZZWFyQ2hhbmdlOiAoXG4gICAgICAgIHNlbGVjdGVkRGF0ZXM6IERhdGVbXSxcbiAgICAgICAgZGF0ZVN0cmluZzogc3RyaW5nLFxuICAgICAgICBpbnN0YW5jZTogYW55XG4gICAgICApID0+IHtcbiAgICAgICAgdGhpcy5mbGF0cGlja3JZZWFyQ2hhbmdlLmVtaXQoeyBzZWxlY3RlZERhdGVzLCBkYXRlU3RyaW5nLCBpbnN0YW5jZSB9KTtcbiAgICAgIH0sXG4gICAgICBvblJlYWR5OiAoc2VsZWN0ZWREYXRlczogRGF0ZVtdLCBkYXRlU3RyaW5nOiBzdHJpbmcsIGluc3RhbmNlOiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy5mbGF0cGlja3JSZWFkeS5lbWl0KHsgc2VsZWN0ZWREYXRlcywgZGF0ZVN0cmluZywgaW5zdGFuY2UgfSk7XG4gICAgICB9LFxuICAgICAgb25WYWx1ZVVwZGF0ZTogKFxuICAgICAgICBzZWxlY3RlZERhdGVzOiBEYXRlW10sXG4gICAgICAgIGRhdGVTdHJpbmc6IHN0cmluZyxcbiAgICAgICAgaW5zdGFuY2U6IGFueVxuICAgICAgKSA9PiB7XG4gICAgICAgIHRoaXMuZmxhdHBpY2tyVmFsdWVVcGRhdGUuZW1pdCh7IHNlbGVjdGVkRGF0ZXMsIGRhdGVTdHJpbmcsIGluc3RhbmNlIH0pO1xuICAgICAgfSxcbiAgICAgIG9uRGF5Q3JlYXRlOiAoXG4gICAgICAgIHNlbGVjdGVkRGF0ZXM6IERhdGVbXSxcbiAgICAgICAgZGF0ZVN0cmluZzogc3RyaW5nLFxuICAgICAgICBpbnN0YW5jZTogYW55LFxuICAgICAgICBkYXlFbGVtZW50OiBIVE1MRWxlbWVudFxuICAgICAgKSA9PiB7XG4gICAgICAgIHRoaXMuZmxhdHBpY2tyRGF5Q3JlYXRlLmVtaXQoe1xuICAgICAgICAgIHNlbGVjdGVkRGF0ZXMsXG4gICAgICAgICAgZGF0ZVN0cmluZyxcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBkYXlFbGVtZW50XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnNba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgb3B0aW9uc1trZXldID0gKHRoaXMuZGVmYXVsdHMgYXMgYW55KVtrZXldO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG9wdGlvbnMudGltZV8yNGhyID0gb3B0aW9ucy50aW1lMjRocjtcbiAgICB0aGlzLmluc3RhbmNlID0gZmxhdHBpY2tyKFxuICAgICAgdGhpcy5lbG0ubmF0aXZlRWxlbWVudCxcbiAgICAgIG9wdGlvbnNcbiAgICApIGFzIGZsYXRwaWNrci5JbnN0YW5jZTtcbiAgICB0aGlzLnNldERpc2FibGVkU3RhdGUodGhpcy5pc0Rpc2FibGVkKTtcbiAgfVxuXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pbnN0YW5jZSkge1xuICAgICAgT2JqZWN0LmtleXMoY2hhbmdlcykuZm9yRWFjaChpbnB1dEtleSA9PiB7XG4gICAgICAgIHRoaXMuaW5zdGFuY2Uuc2V0KGlucHV0S2V5IGFzIGFueSwgKHRoaXMgYXMgYW55KVtpbnB1dEtleV0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5pbnN0YW5jZS5kZXN0cm95KCk7XG4gIH1cblxuICB3cml0ZVZhbHVlKHZhbHVlOiBhbnkpOiB2b2lkIHtcbiAgICBsZXQgY29udmVydGVkVmFsdWU6IGFueSA9IHZhbHVlO1xuICAgIGlmICh0aGlzLmNvbnZlcnRNb2RlbFZhbHVlICYmIHRoaXMubW9kZSA9PT0gJ3JhbmdlJyAmJiB2YWx1ZSkge1xuICAgICAgY29udmVydGVkVmFsdWUgPSBbdmFsdWUuZnJvbSwgdmFsdWUudG9dO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmluc3RhbmNlKSB7XG4gICAgICB0aGlzLmluc3RhbmNlLnNldERhdGUoY29udmVydGVkVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBmbGF0cGlja3IgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgeWV0LCBzdG9yZSB0aGUgdmFsdWUgZm9yIGxhdGVyIHVzZVxuICAgICAgdGhpcy5pbml0aWFsVmFsdWUgPSBjb252ZXJ0ZWRWYWx1ZTtcbiAgICB9XG4gIH1cblxuICByZWdpc3Rlck9uQ2hhbmdlKGZuOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLm9uQ2hhbmdlRm4gPSBmbjtcbiAgfVxuXG4gIHJlZ2lzdGVyT25Ub3VjaGVkKGZuOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5vblRvdWNoZWRGbiA9IGZuO1xuICB9XG5cbiAgc2V0RGlzYWJsZWRTdGF0ZShpc0Rpc2FibGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5pc0Rpc2FibGVkID0gaXNEaXNhYmxlZDtcbiAgICBpZiAodGhpcy5pbnN0YW5jZSkge1xuICAgICAgaWYgKHRoaXMuaXNEaXNhYmxlZCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFByb3BlcnR5KHRoaXMuaW5zdGFuY2UuX2lucHV0LCAnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlKHRoaXMuaW5zdGFuY2UuX2lucHV0LCAnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBASG9zdExpc3RlbmVyKCdpbnB1dCcpXG4gIGlucHV0Q2hhbmdlZCgpOiB2b2lkIHtcbiAgICBjb25zdCB2YWx1ZTogc3RyaW5nID0gdGhpcy5lbG0ubmF0aXZlRWxlbWVudC52YWx1ZTtcbiAgICBpZiAodGhpcy5jb252ZXJ0TW9kZWxWYWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgICBjYXNlICdtdWx0aXBsZSc6XG4gICAgICAgICAgY29uc3QgZGF0ZXM6IERhdGVbXSA9IHZhbHVlXG4gICAgICAgICAgICAuc3BsaXQoJzsgJylcbiAgICAgICAgICAgIC5tYXAoc3RyID0+XG4gICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucGFyc2VEYXRlKFxuICAgICAgICAgICAgICAgIHN0cixcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlLmNvbmZpZy5kYXRlRm9ybWF0LFxuICAgICAgICAgICAgICAgICF0aGlzLmluc3RhbmNlLmNvbmZpZy5lbmFibGVUaW1lXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5vbkNoYW5nZUZuKGRhdGVzKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdyYW5nZSc6XG4gICAgICAgICAgY29uc3QgW2Zyb20sIHRvXSA9IHZhbHVlXG4gICAgICAgICAgICAuc3BsaXQodGhpcy5pbnN0YW5jZS5sMTBuLnJhbmdlU2VwYXJhdG9yKVxuICAgICAgICAgICAgLm1hcChzdHIgPT5cbiAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJzZURhdGUoXG4gICAgICAgICAgICAgICAgc3RyLFxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UuY29uZmlnLmRhdGVGb3JtYXQsXG4gICAgICAgICAgICAgICAgIXRoaXMuaW5zdGFuY2UuY29uZmlnLmVuYWJsZVRpbWVcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLm9uQ2hhbmdlRm4oeyBmcm9tLCB0byB9KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdzaW5nbGUnOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRoaXMub25DaGFuZ2VGbihcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucGFyc2VEYXRlKFxuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5jb25maWcuZGF0ZUZvcm1hdCxcbiAgICAgICAgICAgICAgIXRoaXMuaW5zdGFuY2UuY29uZmlnLmVuYWJsZVRpbWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9uQ2hhbmdlRm4odmFsdWUpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgTmdNb2R1bGUsXG4gIE1vZHVsZVdpdGhQcm92aWRlcnMsXG4gIEluamVjdGlvblRva2VuLFxuICBQcm92aWRlclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZsYXRwaWNrckRpcmVjdGl2ZSB9IGZyb20gJy4vZmxhdHBpY2tyLmRpcmVjdGl2ZSc7XG5pbXBvcnQge1xuICBGbGF0cGlja3JEZWZhdWx0cyxcbiAgRmxhdHBpY2tyRGVmYXVsdHNJbnRlcmZhY2Vcbn0gZnJvbSAnLi9mbGF0cGlja3ItZGVmYXVsdHMuc2VydmljZSc7XG5cbmV4cG9ydCBjb25zdCBVU0VSX0RFRkFVTFRTID0gbmV3IEluamVjdGlvblRva2VuKCdmbGF0cGlja3IgZGVmYXVsdHMnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRzRmFjdG9yeShcbiAgdXNlckRlZmF1bHRzOiBGbGF0cGlja3JEZWZhdWx0c0ludGVyZmFjZVxuKTogRmxhdHBpY2tyRGVmYXVsdHMge1xuICBjb25zdCBkZWZhdWx0czogRmxhdHBpY2tyRGVmYXVsdHMgPSBuZXcgRmxhdHBpY2tyRGVmYXVsdHMoKTtcbiAgT2JqZWN0LmFzc2lnbihkZWZhdWx0cywgdXNlckRlZmF1bHRzKTtcbiAgcmV0dXJuIGRlZmF1bHRzO1xufVxuXG5ATmdNb2R1bGUoe1xuICBkZWNsYXJhdGlvbnM6IFtGbGF0cGlja3JEaXJlY3RpdmVdLFxuICBleHBvcnRzOiBbRmxhdHBpY2tyRGlyZWN0aXZlXVxufSlcbmV4cG9ydCBjbGFzcyBGbGF0cGlja3JNb2R1bGUge1xuICBzdGF0aWMgZm9yUm9vdChcbiAgICB1c2VyRGVmYXVsdHM6IEZsYXRwaWNrckRlZmF1bHRzSW50ZXJmYWNlID0ge31cbiAgKTogTW9kdWxlV2l0aFByb3ZpZGVycyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5nTW9kdWxlOiBGbGF0cGlja3JNb2R1bGUsXG4gICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHByb3ZpZGU6IFVTRVJfREVGQVVMVFMsXG4gICAgICAgICAgdXNlVmFsdWU6IHVzZXJEZWZhdWx0c1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcHJvdmlkZTogRmxhdHBpY2tyRGVmYXVsdHMsXG4gICAgICAgICAgdXNlRmFjdG9yeTogZGVmYXVsdHNGYWN0b3J5LFxuICAgICAgICAgIGRlcHM6IFtVU0VSX0RFRkFVTFRTXVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7O3lCQWlOc0IsUUFBUTs7Ozt3QkFLUixLQUFLOzs7Ozs2QkFNRCxFQUFFOzs7OzBCQUtKLEtBQUs7Ozs7d0JBS0gsU0FBUzs7Ozs4QkFLUCxRQUFROzs7OzswQkFNWixJQUFJOzs7OzswQkFNTCxPQUFPOzs7OzJCQUtMLEVBQUU7Ozs7NkJBS0EsQ0FBQzs7Ozt1QkFLSyxFQUFFOzs7Ozs2QkFNUixLQUFLOzs7O3NCQUtBLEVBQUU7Ozs7MEJBS1YsS0FBSzs7Ozs2QkFLRixLQUFLOzs7OzBCQUtRLFNBQVM7Ozs7NkJBS3ZCLENBQUM7Ozs7c0JBS1AsS0FBSzs7Ozt1QkFLRSxTQUFTOzs7O3VCQUtULFNBQVM7Ozs7K0JBS1IsQ0FBQzs7OztvQkFLYSxRQUFROzs7O3lCQUs1QixHQUFHOzs7OzBCQUtELEtBQUs7Ozs7bUJBS0csSUFBSSxJQUFJLEVBQUU7Ozs7eUJBVXBCLEdBQUc7Ozs7cUNBS1UsS0FBSzs7OztzQkFLcEIsS0FBSzs7Ozt3QkFLSCxLQUFLOzs7OzttQkFNVixLQUFLOzs7OzJCQUtHLEtBQUs7Ozs7b0JBV1osS0FBSzs7Ozt1QkFLSixFQUFFOzs7O3NCQUtPLFNBQVM7Ozs7aUNBS04sS0FBSzs7OzswQkFLYixDQUFDOzs7O1lBcE12QixVQUFVOzs7Ozs7O0FDNU1YLHVCQWdDYSxnQ0FBZ0MsR0FBUTtJQUNuRCxPQUFPLEVBQUUsaUJBQWlCO0lBQzFCLFdBQVcsRUFBRSxVQUFVLENBQUMsTUFBTSxrQkFBa0IsQ0FBQzs7SUFDakQsS0FBSyxFQUFFLElBQUk7Q0FDWixDQUFDO0FBVUY7Ozs7OztJQStQRSxZQUNVLEtBQ0EsVUFDQTtRQUZBLFFBQUcsR0FBSCxHQUFHO1FBQ0gsYUFBUSxHQUFSLFFB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","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var DAYS_OF_WEEK;\n(function (DAYS_OF_WEEK) {\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"SUNDAY\"] = 0] = \"SUNDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"MONDAY\"] = 1] = \"MONDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"TUESDAY\"] = 2] = \"TUESDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"WEDNESDAY\"] = 3] = \"WEDNESDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"THURSDAY\"] = 4] = \"THURSDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"FRIDAY\"] = 5] = \"FRIDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"SATURDAY\"] = 6] = \"SATURDAY\";\n})(DAYS_OF_WEEK || (DAYS_OF_WEEK = {}));\nvar DEFAULT_WEEKEND_DAYS = [\n    DAYS_OF_WEEK.SUNDAY,\n    DAYS_OF_WEEK.SATURDAY\n];\nvar DAYS_IN_WEEK = 7;\nvar HOURS_IN_DAY = 24;\nvar MINUTES_IN_HOUR = 60;\nexport var SECONDS_IN_DAY = 60 * 60 * 24;\nfunction getExcludedSeconds(dateAdapter, _a) {\n    var startDate = _a.startDate, seconds = _a.seconds, excluded = _a.excluded, precision = _a.precision;\n    if (excluded.length < 1) {\n        return 0;\n    }\n    var addSeconds = dateAdapter.addSeconds, getDay = dateAdapter.getDay, addDays = dateAdapter.addDays;\n    var endDate = addSeconds(startDate, seconds - 1);\n    var dayStart = getDay(startDate);\n    var dayEnd = getDay(endDate);\n    var result = 0; // Calculated in seconds\n    var current = startDate;\n    var _loop_1 = function () {\n        var day = getDay(current);\n        if (excluded.some(function (excludedDay) { return excludedDay === day; })) {\n            result += calculateExcludedSeconds(dateAdapter, {\n                dayStart: dayStart,\n                dayEnd: dayEnd,\n                day: day,\n                precision: precision,\n                startDate: startDate,\n                endDate: endDate\n            });\n        }\n        current = addDays(current, 1);\n    };\n    while (current < endDate) {\n        _loop_1();\n    }\n    return result;\n}\nfunction calculateExcludedSeconds(dateAdapter, _a) {\n    var precision = _a.precision, day = _a.day, dayStart = _a.dayStart, dayEnd = _a.dayEnd, startDate = _a.startDate, endDate = _a.endDate;\n    var differenceInSeconds = dateAdapter.differenceInSeconds, endOfDay = dateAdapter.endOfDay, startOfDay = dateAdapter.startOfDay;\n    if (precision === 'minutes') {\n        if (day === dayStart) {\n            return differenceInSeconds(endOfDay(startDate), startDate) + 1;\n        }\n        else if (day === dayEnd) {\n            return differenceInSeconds(endDate, startOfDay(endDate)) + 1;\n        }\n    }\n    return SECONDS_IN_DAY;\n}\nfunction getWeekViewEventSpan(dateAdapter, _a) {\n    var event = _a.event, offset = _a.offset, startOfWeekDate = _a.startOfWeekDate, excluded = _a.excluded, precision = _a.precision, totalDaysInView = _a.totalDaysInView;\n    var max = dateAdapter.max, differenceInSeconds = dateAdapter.differenceInSeconds, addDays = dateAdapter.addDays, endOfDay = dateAdapter.endOfDay, differenceInDays = dateAdapter.differenceInDays;\n    var span = SECONDS_IN_DAY;\n    var begin = max([event.start, startOfWeekDate]);\n    if (event.end) {\n        switch (precision) {\n            case 'minutes':\n                span = differenceInSeconds(event.end, begin);\n                break;\n            default:\n                span =\n                    differenceInDays(addDays(endOfDay(event.end), 1), begin) *\n                        SECONDS_IN_DAY;\n                break;\n        }\n    }\n    var offsetSeconds = offset * SECONDS_IN_DAY;\n    var totalLength = offsetSeconds + span;\n    // the best way to detect if an event is outside the week-view\n    // is to check if the total span beginning (from startOfWeekDay or event start) exceeds the total days in the view\n    var secondsInView = totalDaysInView * SECONDS_IN_DAY;\n    if (totalLength > secondsInView) {\n        span = secondsInView - offsetSeconds;\n    }\n    span -= getExcludedSeconds(dateAdapter, {\n        startDate: begin,\n        seconds: span,\n        excluded: excluded,\n        precision: precision\n    });\n    return span / SECONDS_IN_DAY;\n}\nfunction getWeekViewEventOffset(dateAdapter, _a) {\n    var event = _a.event, startOfWeekDate = _a.startOfWeek, excluded = _a.excluded, precision = _a.precision;\n    var differenceInDays = dateAdapter.differenceInDays, startOfDay = dateAdapter.startOfDay, differenceInSeconds = dateAdapter.differenceInSeconds;\n    if (event.start < startOfWeekDate) {\n        return 0;\n    }\n    var offset = 0;\n    switch (precision) {\n        case 'days':\n            offset =\n                differenceInDays(startOfDay(event.start), startOfWeekDate) *\n                    SECONDS_IN_DAY;\n            break;\n        case 'minutes':\n            offset = differenceInSeconds(event.start, startOfWeekDate);\n            break;\n    }\n    offset -= getExcludedSeconds(dateAdapter, {\n        startDate: startOfWeekDate,\n        seconds: offset,\n        excluded: excluded,\n        precision: precision\n    });\n    return Math.abs(offset / SECONDS_IN_DAY);\n}\nfunction isEventIsPeriod(dateAdapter, _a) {\n    var event = _a.event, periodStart = _a.periodStart, periodEnd = _a.periodEnd;\n    var isSameSecond = dateAdapter.isSameSecond;\n    var eventStart = event.start;\n    var eventEnd = event.end || event.start;\n    if (eventStart > periodStart && eventStart < periodEnd) {\n        return true;\n    }\n    if (eventEnd > periodStart && eventEnd < periodEnd) {\n        return true;\n    }\n    if (eventStart < periodStart && eventEnd > periodEnd) {\n        return true;\n    }\n    if (isSameSecond(eventStart, periodStart) ||\n        isSameSecond(eventStart, periodEnd)) {\n        return true;\n    }\n    if (isSameSecond(eventEnd, periodStart) ||\n        isSameSecond(eventEnd, periodEnd)) {\n        return true;\n    }\n    return false;\n}\nexport function getEventsInPeriod(dateAdapter, _a) {\n    var events = _a.events, periodStart = _a.periodStart, periodEnd = _a.periodEnd;\n    return events.filter(function (event) {\n        return isEventIsPeriod(dateAdapter, { event: event, periodStart: periodStart, periodEnd: periodEnd });\n    });\n}\nfunction getWeekDay(dateAdapter, _a) {\n    var date = _a.date, _b = _a.weekendDays, weekendDays = _b === void 0 ? DEFAULT_WEEKEND_DAYS : _b;\n    var startOfDay = dateAdapter.startOfDay, isSameDay = dateAdapter.isSameDay, getDay = dateAdapter.getDay;\n    var today = startOfDay(new Date());\n    var day = getDay(date);\n    return {\n        date: date,\n        day: day,\n        isPast: date < today,\n        isToday: isSameDay(date, today),\n        isFuture: date > today,\n        isWeekend: weekendDays.indexOf(day) > -1\n    };\n}\nexport function getWeekViewHeader(dateAdapter, _a) {\n    var viewDate = _a.viewDate, weekStartsOn = _a.weekStartsOn, _b = _a.excluded, excluded = _b === void 0 ? [] : _b, weekendDays = _a.weekendDays, _c = _a.viewStart, viewStart = _c === void 0 ? dateAdapter.startOfWeek(viewDate, { weekStartsOn: weekStartsOn }) : _c, _d = _a.viewEnd, viewEnd = _d === void 0 ? dateAdapter.addDays(viewStart, DAYS_IN_WEEK) : _d;\n    var addDays = dateAdapter.addDays, getDay = dateAdapter.getDay;\n    var days = [];\n    var date = viewStart;\n    while (date < viewEnd) {\n        if (!excluded.some(function (e) { return getDay(date) === e; })) {\n            days.push(getWeekDay(dateAdapter, { date: date, weekendDays: weekendDays }));\n        }\n        date = addDays(date, 1);\n    }\n    return days;\n}\nexport function getDifferenceInDaysWithExclusions(dateAdapter, _a) {\n    var date1 = _a.date1, date2 = _a.date2, excluded = _a.excluded;\n    var date = date1;\n    var diff = 0;\n    while (date < date2) {\n        if (excluded.indexOf(dateAdapter.getDay(date)) === -1) {\n            diff++;\n        }\n        date = dateAdapter.addDays(date, 1);\n    }\n    return diff;\n}\nfunction getAllDayWeekEvents(dateAdapter, _a) {\n    var events = _a.events, excluded = _a.excluded, precision = _a.precision, absolutePositionedEvents = _a.absolutePositionedEvents, viewStart = _a.viewStart, viewEnd = _a.viewEnd, eventsInPeriod = _a.eventsInPeriod;\n    var differenceInSeconds = dateAdapter.differenceInSeconds, differenceInDays = dateAdapter.differenceInDays;\n    var maxRange = getDifferenceInDaysWithExclusions(dateAdapter, {\n        date1: viewStart,\n        date2: viewEnd,\n        excluded: excluded\n    });\n    var totalDaysInView = differenceInDays(viewEnd, viewStart) + 1;\n    var eventsMapped = eventsInPeriod\n        .filter(function (event) { return event.allDay; })\n        .map(function (event) {\n        var offset = getWeekViewEventOffset(dateAdapter, {\n            event: event,\n            startOfWeek: viewStart,\n            excluded: excluded,\n            precision: precision\n        });\n        var span = getWeekViewEventSpan(dateAdapter, {\n            event: event,\n            offset: offset,\n            startOfWeekDate: viewStart,\n            excluded: excluded,\n            precision: precision,\n            totalDaysInView: totalDaysInView\n        });\n        return { event: event, offset: offset, span: span };\n    })\n        .filter(function (e) { return e.offset < maxRange; })\n        .filter(function (e) { return e.span > 0; })\n        .map(function (entry) { return ({\n        event: entry.event,\n        offset: entry.offset,\n        span: entry.span,\n        startsBeforeWeek: entry.event.start < viewStart,\n        endsAfterWeek: (entry.event.end || entry.event.start) > viewEnd\n    }); })\n        .sort(function (itemA, itemB) {\n        var startSecondsDiff = differenceInSeconds(itemA.event.start, itemB.event.start);\n        if (startSecondsDiff === 0) {\n            return differenceInSeconds(itemB.event.end || itemB.event.start, itemA.event.end || itemA.event.start);\n        }\n        return startSecondsDiff;\n    });\n    var allDayEventRows = [];\n    var allocatedEvents = [];\n    eventsMapped.forEach(function (event, index) {\n        if (allocatedEvents.indexOf(event) === -1) {\n            allocatedEvents.push(event);\n            var rowSpan_1 = event.span + event.offset;\n            var otherRowEvents = eventsMapped\n                .slice(index + 1)\n                .filter(function (nextEvent) {\n                if (nextEvent.offset >= rowSpan_1 &&\n                    rowSpan_1 + nextEvent.span <= totalDaysInView &&\n                    allocatedEvents.indexOf(nextEvent) === -1) {\n                    var nextEventOffset = nextEvent.offset - rowSpan_1;\n                    if (!absolutePositionedEvents) {\n                        nextEvent.offset = nextEventOffset;\n                    }\n                    rowSpan_1 += nextEvent.span + nextEventOffset;\n                    allocatedEvents.push(nextEvent);\n                    return true;\n                }\n            });\n            var weekEvents = [event].concat(otherRowEvents);\n            var id = weekEvents\n                .filter(function (weekEvent) { return weekEvent.event.id; })\n                .map(function (weekEvent) { return weekEvent.event.id; })\n                .join('-');\n            allDayEventRows.push(__assign({ row: weekEvents }, (id ? { id: id } : {})));\n        }\n    });\n    return allDayEventRows;\n}\nfunction getWeekViewHourGrid(dateAdapter, _a) {\n    var events = _a.events, viewDate = _a.viewDate, hourSegments = _a.hourSegments, dayStart = _a.dayStart, dayEnd = _a.dayEnd, weekStartsOn = _a.weekStartsOn, excluded = _a.excluded, weekendDays = _a.weekendDays, segmentHeight = _a.segmentHeight, viewStart = _a.viewStart, viewEnd = _a.viewEnd;\n    var dayViewHourGrid = getDayViewHourGrid(dateAdapter, {\n        viewDate: viewDate,\n        hourSegments: hourSegments,\n        dayStart: dayStart,\n        dayEnd: dayEnd\n    });\n    var weekDays = getWeekViewHeader(dateAdapter, {\n        viewDate: viewDate,\n        weekStartsOn: weekStartsOn,\n        excluded: excluded,\n        weekendDays: weekendDays,\n        viewStart: viewStart,\n        viewEnd: viewEnd\n    });\n    var setHours = dateAdapter.setHours, setMinutes = dateAdapter.setMinutes, getHours = dateAdapter.getHours, getMinutes = dateAdapter.getMinutes;\n    return weekDays.map(function (day) {\n        var dayView = getDayView(dateAdapter, {\n            events: events,\n            viewDate: day.date,\n            hourSegments: hourSegments,\n            dayStart: dayStart,\n            dayEnd: dayEnd,\n            segmentHeight: segmentHeight,\n            eventWidth: 1\n        });\n        var hours = dayViewHourGrid.map(function (hour) {\n            var segments = hour.segments.map(function (segment) {\n                var date = setMinutes(setHours(day.date, getHours(segment.date)), getMinutes(segment.date));\n                return __assign({}, segment, { date: date });\n            });\n            return __assign({}, hour, { segments: segments });\n        });\n        function getColumnCount(allEvents, prevOverlappingEvents) {\n            var columnCount = Math.max.apply(Math, prevOverlappingEvents.map(function (iEvent) { return iEvent.left + 1; }));\n            var nextOverlappingEvents = allEvents\n                .filter(function (iEvent) { return iEvent.left >= columnCount; })\n                .filter(function (iEvent) {\n                return (getOverLappingWeekViewEvents(prevOverlappingEvents, iEvent.top, iEvent.top + iEvent.height).length > 0);\n            });\n            if (nextOverlappingEvents.length > 0) {\n                return getColumnCount(allEvents, nextOverlappingEvents);\n            }\n            else {\n                return columnCount;\n            }\n        }\n        var mappedEvents = dayView.events.map(function (event) {\n            var columnCount = getColumnCount(dayView.events, getOverLappingWeekViewEvents(dayView.events, event.top, event.top + event.height));\n            var width = 100 / columnCount;\n            return __assign({}, event, { left: event.left * width, width: width });\n        });\n        return {\n            hours: hours,\n            date: day.date,\n            events: mappedEvents.map(function (event) {\n                var overLappingEvents = getOverLappingWeekViewEvents(mappedEvents.filter(function (otherEvent) { return otherEvent.left > event.left; }), event.top, event.top + event.height);\n                if (overLappingEvents.length > 0) {\n                    return __assign({}, event, { width: Math.min.apply(Math, overLappingEvents.map(function (otherEvent) { return otherEvent.left; })) - event.left });\n                }\n                return event;\n            })\n        };\n    });\n}\nexport function getWeekView(dateAdapter, _a) {\n    var _b = _a.events, events = _b === void 0 ? [] : _b, viewDate = _a.viewDate, weekStartsOn = _a.weekStartsOn, _c = _a.excluded, excluded = _c === void 0 ? [] : _c, _d = _a.precision, precision = _d === void 0 ? 'days' : _d, _e = _a.absolutePositionedEvents, absolutePositionedEvents = _e === void 0 ? false : _e, hourSegments = _a.hourSegments, dayStart = _a.dayStart, dayEnd = _a.dayEnd, weekendDays = _a.weekendDays, segmentHeight = _a.segmentHeight, _f = _a.viewStart, viewStart = _f === void 0 ? dateAdapter.startOfWeek(viewDate, { weekStartsOn: weekStartsOn }) : _f, _g = _a.viewEnd, viewEnd = _g === void 0 ? dateAdapter.endOfWeek(viewDate, { weekStartsOn: weekStartsOn }) : _g;\n    if (!events) {\n        events = [];\n    }\n    var startOfDay = dateAdapter.startOfDay, endOfDay = dateAdapter.endOfDay;\n    viewStart = startOfDay(viewStart);\n    viewEnd = endOfDay(viewEnd);\n    var eventsInPeriod = getEventsInPeriod(dateAdapter, {\n        events: events,\n        periodStart: viewStart,\n        periodEnd: viewEnd\n    });\n    var header = getWeekViewHeader(dateAdapter, {\n        viewDate: viewDate,\n        weekStartsOn: weekStartsOn,\n        excluded: excluded,\n        weekendDays: weekendDays,\n        viewStart: viewStart,\n        viewEnd: viewEnd\n    });\n    return {\n        allDayEventRows: getAllDayWeekEvents(dateAdapter, {\n            events: events,\n            excluded: excluded,\n            precision: precision,\n            absolutePositionedEvents: absolutePositionedEvents,\n            viewStart: viewStart,\n            viewEnd: viewEnd,\n            eventsInPeriod: eventsInPeriod\n        }),\n        period: {\n            events: eventsInPeriod,\n            start: header[0].date,\n            end: endOfDay(header[header.length - 1].date)\n        },\n        hourColumns: getWeekViewHourGrid(dateAdapter, {\n            events: events,\n            viewDate: viewDate,\n            hourSegments: hourSegments,\n            dayStart: dayStart,\n            dayEnd: dayEnd,\n            weekStartsOn: weekStartsOn,\n            excluded: excluded,\n            weekendDays: weekendDays,\n            segmentHeight: segmentHeight,\n            viewStart: viewStart,\n            viewEnd: viewEnd\n        })\n    };\n}\nexport function getMonthView(dateAdapter, _a) {\n    var _b = _a.events, events = _b === void 0 ? [] : _b, viewDate = _a.viewDate, weekStartsOn = _a.weekStartsOn, _c = _a.excluded, excluded = _c === void 0 ? [] : _c, _d = _a.viewStart, viewStart = _d === void 0 ? dateAdapter.startOfMonth(viewDate) : _d, _e = _a.viewEnd, viewEnd = _e === void 0 ? dateAdapter.endOfMonth(viewDate) : _e, weekendDays = _a.weekendDays;\n    if (!events) {\n        events = [];\n    }\n    var startOfWeek = dateAdapter.startOfWeek, endOfWeek = dateAdapter.endOfWeek, differenceInDays = dateAdapter.differenceInDays, startOfDay = dateAdapter.startOfDay, addHours = dateAdapter.addHours, endOfDay = dateAdapter.endOfDay, isSameMonth = dateAdapter.isSameMonth, getDay = dateAdapter.getDay, getMonth = dateAdapter.getMonth;\n    var start = startOfWeek(viewStart, { weekStartsOn: weekStartsOn });\n    var end = endOfWeek(viewEnd, { weekStartsOn: weekStartsOn });\n    var eventsInMonth = getEventsInPeriod(dateAdapter, {\n        events: events,\n        periodStart: start,\n        periodEnd: end\n    });\n    var initialViewDays = [];\n    var previousDate;\n    var _loop_2 = function (i) {\n        // hacky fix for https://github.com/mattlewis92/angular-calendar/issues/173\n        var date;\n        if (previousDate) {\n            date = startOfDay(addHours(previousDate, HOURS_IN_DAY));\n            if (previousDate.getTime() === date.getTime()) {\n                // DST change, so need to add 25 hours\n                /* istanbul ignore next */\n                date = startOfDay(addHours(previousDate, HOURS_IN_DAY + 1));\n            }\n            previousDate = date;\n        }\n        else {\n            date = previousDate = start;\n        }\n        if (!excluded.some(function (e) { return getDay(date) === e; })) {\n            var day = getWeekDay(dateAdapter, {\n                date: date,\n                weekendDays: weekendDays\n            });\n            var eventsInPeriod = getEventsInPeriod(dateAdapter, {\n                events: eventsInMonth,\n                periodStart: startOfDay(date),\n                periodEnd: endOfDay(date)\n            });\n            day.inMonth = isSameMonth(date, viewDate);\n            day.events = eventsInPeriod;\n            day.badgeTotal = eventsInPeriod.length;\n            initialViewDays.push(day);\n        }\n    };\n    for (var i = 0; i < differenceInDays(end, start) + 1; i++) {\n        _loop_2(i);\n    }\n    var days = [];\n    var totalDaysVisibleInWeek = DAYS_IN_WEEK - excluded.length;\n    if (totalDaysVisibleInWeek < DAYS_IN_WEEK) {\n        for (var i = 0; i < initialViewDays.length; i += totalDaysVisibleInWeek) {\n            var row = initialViewDays.slice(i, i + totalDaysVisibleInWeek);\n            var isRowInMonth = row.some(function (day) { return getMonth(day.date) === getMonth(viewDate); });\n            if (isRowInMonth) {\n                days = days.concat(row);\n            }\n        }\n    }\n    else {\n        days = initialViewDays;\n    }\n    var rows = Math.floor(days.length / totalDaysVisibleInWeek);\n    var rowOffsets = [];\n    for (var i = 0; i < rows; i++) {\n        rowOffsets.push(i * totalDaysVisibleInWeek);\n    }\n    return {\n        rowOffsets: rowOffsets,\n        totalDaysVisibleInWeek: totalDaysVisibleInWeek,\n        days: days,\n        period: {\n            start: days[0].date,\n            end: endOfDay(days[days.length - 1].date),\n            events: eventsInMonth\n        }\n    };\n}\nfunction getOverLappingWeekViewEvents(events, top, bottom) {\n    return events.filter(function (previousEvent) {\n        var previousEventTop = previousEvent.top;\n        var previousEventBottom = previousEvent.top + previousEvent.height;\n        if (top < previousEventBottom && previousEventBottom < bottom) {\n            return true;\n        }\n        else if (top < previousEventTop && previousEventTop < bottom) {\n            return true;\n        }\n        else if (previousEventTop <= top && bottom <= previousEventBottom) {\n            return true;\n        }\n        return false;\n    });\n}\nfunction getDayView(dateAdapter, _a) {\n    var events = _a.events, viewDate = _a.viewDate, hourSegments = _a.hourSegments, dayStart = _a.dayStart, dayEnd = _a.dayEnd, eventWidth = _a.eventWidth, segmentHeight = _a.segmentHeight;\n    var setMinutes = dateAdapter.setMinutes, setHours = dateAdapter.setHours, startOfDay = dateAdapter.startOfDay, startOfMinute = dateAdapter.startOfMinute, endOfDay = dateAdapter.endOfDay, differenceInMinutes = dateAdapter.differenceInMinutes;\n    var startOfView = setMinutes(setHours(startOfDay(viewDate), sanitiseHours(dayStart.hour)), sanitiseMinutes(dayStart.minute));\n    var endOfView = setMinutes(setHours(startOfMinute(endOfDay(viewDate)), sanitiseHours(dayEnd.hour)), sanitiseMinutes(dayEnd.minute));\n    var previousDayEvents = [];\n    var eventsInPeriod = getEventsInPeriod(dateAdapter, {\n        events: events.filter(function (event) { return !event.allDay; }),\n        periodStart: startOfView,\n        periodEnd: endOfView\n    });\n    var dayViewEvents = eventsInPeriod\n        .sort(function (eventA, eventB) {\n        return eventA.start.valueOf() - eventB.start.valueOf();\n    })\n        .map(function (event) {\n        var eventStart = event.start;\n        var eventEnd = event.end || eventStart;\n        var startsBeforeDay = eventStart < startOfView;\n        var endsAfterDay = eventEnd > endOfView;\n        var hourHeightModifier = (hourSegments * segmentHeight) / MINUTES_IN_HOUR;\n        var top = 0;\n        if (eventStart > startOfView) {\n            // adjust the difference in minutes if the user's offset is different between the start of the day and the event (e.g. when going to or from DST)\n            var eventOffset = eventStart.getTimezoneOffset();\n            var startOffset = startOfView.getTimezoneOffset();\n            var diff = startOffset - eventOffset;\n            top += differenceInMinutes(eventStart, startOfView) + diff;\n        }\n        top *= hourHeightModifier;\n        var startDate = startsBeforeDay ? startOfView : eventStart;\n        var endDate = endsAfterDay ? endOfView : eventEnd;\n        var height = differenceInMinutes(endDate, startDate);\n        if (!event.end) {\n            height = segmentHeight;\n        }\n        else {\n            height *= hourHeightModifier;\n        }\n        var bottom = top + height;\n        var overlappingPreviousEvents = getOverLappingWeekViewEvents(previousDayEvents, top, bottom);\n        var left = 0;\n        while (overlappingPreviousEvents.some(function (previousEvent) { return previousEvent.left === left; })) {\n            left += eventWidth;\n        }\n        var dayEvent = {\n            event: event,\n            height: height,\n            width: eventWidth,\n            top: top,\n            left: left,\n            startsBeforeDay: startsBeforeDay,\n            endsAfterDay: endsAfterDay\n        };\n        previousDayEvents.push(dayEvent);\n        return dayEvent;\n    });\n    var width = Math.max.apply(Math, dayViewEvents.map(function (event) { return event.left + event.width; }));\n    var allDayEvents = getEventsInPeriod(dateAdapter, {\n        events: events.filter(function (event) { return event.allDay; }),\n        periodStart: startOfDay(startOfView),\n        periodEnd: endOfDay(endOfView)\n    });\n    return {\n        events: dayViewEvents,\n        width: width,\n        allDayEvents: allDayEvents,\n        period: {\n            events: eventsInPeriod,\n            start: startOfView,\n            end: endOfView\n        }\n    };\n}\nfunction sanitiseHours(hours) {\n    return Math.max(Math.min(23, hours), 0);\n}\nfunction sanitiseMinutes(minutes) {\n    return Math.max(Math.min(59, minutes), 0);\n}\nfunction getDayViewHourGrid(dateAdapter, _a) {\n    var viewDate = _a.viewDate, hourSegments = _a.hourSegments, dayStart = _a.dayStart, dayEnd = _a.dayEnd;\n    var setMinutes = dateAdapter.setMinutes, setHours = dateAdapter.setHours, startOfDay = dateAdapter.startOfDay, startOfMinute = dateAdapter.startOfMinute, endOfDay = dateAdapter.endOfDay, addMinutes = dateAdapter.addMinutes, addHours = dateAdapter.addHours, addDays = dateAdapter.addDays;\n    var hours = [];\n    var startOfView = setMinutes(setHours(startOfDay(viewDate), sanitiseHours(dayStart.hour)), sanitiseMinutes(dayStart.minute));\n    var endOfView = setMinutes(setHours(startOfMinute(endOfDay(viewDate)), sanitiseHours(dayEnd.hour)), sanitiseMinutes(dayEnd.minute));\n    var segmentDuration = MINUTES_IN_HOUR / hourSegments;\n    var startOfViewDay = startOfDay(viewDate);\n    var endOfViewDay = endOfDay(viewDate);\n    var dateAdjustment = function (d) { return d; };\n    // this means that we change from or to DST on this day and that's going to cause problems so we bump the date\n    if (startOfViewDay.getTimezoneOffset() !== endOfViewDay.getTimezoneOffset()) {\n        startOfViewDay = addDays(startOfViewDay, 1);\n        startOfView = addDays(startOfView, 1);\n        endOfView = addDays(endOfView, 1);\n        dateAdjustment = function (d) { return addDays(d, -1); };\n    }\n    for (var i = 0; i < HOURS_IN_DAY; i++) {\n        var segments = [];\n        for (var j = 0; j < hourSegments; j++) {\n            var date = addMinutes(addHours(startOfViewDay, i), j * segmentDuration);\n            if (date >= startOfView && date < endOfView) {\n                segments.push({\n                    date: dateAdjustment(date),\n                    displayDate: date,\n                    isStart: j === 0\n                });\n            }\n        }\n        if (segments.length > 0) {\n            hours.push({ segments: segments });\n        }\n    }\n    return hours;\n}\nexport var EventValidationErrorMessage;\n(function (EventValidationErrorMessage) {\n    EventValidationErrorMessage[\"NotArray\"] = \"Events must be an array\";\n    EventValidationErrorMessage[\"StartPropertyMissing\"] = \"Event is missing the `start` property\";\n    EventValidationErrorMessage[\"StartPropertyNotDate\"] = \"Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.\";\n    EventValidationErrorMessage[\"EndPropertyNotDate\"] = \"Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.\";\n    EventValidationErrorMessage[\"EndsBeforeStart\"] = \"Event `start` property occurs after the `end`\";\n})(EventValidationErrorMessage || (EventValidationErrorMessage = {}));\nexport function validateEvents(events, log) {\n    var isValid = true;\n    function isError(msg, event) {\n        log(msg, event);\n        isValid = false;\n    }\n    if (!Array.isArray(events)) {\n        log(EventValidationErrorMessage.NotArray, events);\n        return false;\n    }\n    events.forEach(function (event) {\n        if (!event.start) {\n            isError(EventValidationErrorMessage.StartPropertyMissing, event);\n        }\n        else if (!(event.start instanceof Date)) {\n            isError(EventValidationErrorMessage.StartPropertyNotDate, event);\n        }\n        if (event.end) {\n            if (!(event.end instanceof Date)) {\n                isError(EventValidationErrorMessage.EndPropertyNotDate, event);\n            }\n            if (event.start > event.end) {\n                isError(EventValidationErrorMessage.EndsBeforeStart, event);\n            }\n        }\n    });\n    return isValid;\n}\n//# sourceMappingURL=calendar-utils.js.map","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar typeFunc = require('type-func');\nvar animationFramePolyfill = require('animation-frame-polyfill');\nvar domSet = require('dom-set');\nvar domPlane = require('dom-plane');\nvar mousemoveDispatcher = _interopDefault(require('dom-mousemove-dispatcher'));\n\nfunction AutoScroller(elements, options){\n    if ( options === void 0 ) options = {};\n\n    var self = this;\n    var maxSpeed = 4, scrolling = false;\n\n    this.margin = options.margin || -1;\n    //this.scrolling = false;\n    this.scrollWhenOutside = options.scrollWhenOutside || false;\n\n    var point = {},\n        pointCB = domPlane.createPointCB(point),\n        dispatcher = mousemoveDispatcher(),\n        down = false;\n\n    window.addEventListener('mousemove', pointCB, false);\n    window.addEventListener('touchmove', pointCB, false);\n\n    if(!isNaN(options.maxSpeed)){\n        maxSpeed = options.maxSpeed;\n    }\n\n    this.autoScroll = typeFunc.boolean(options.autoScroll);\n    this.syncMove = typeFunc.boolean(options.syncMove, false);\n\n    this.destroy = function(forceCleanAnimation) {\n        window.removeEventListener('mousemove', pointCB, false);\n        window.removeEventListener('touchmove', pointCB, false);\n        window.removeEventListener('mousedown', onDown, false);\n        window.removeEventListener('touchstart', onDown, false);\n        window.removeEventListener('mouseup', onUp, false);\n        window.removeEventListener('touchend', onUp, false);\n        window.removeEventListener('pointerup', onUp, false);\n        window.removeEventListener('mouseleave', onMouseOut, false);\n\n        window.removeEventListener('mousemove', onMove, false);\n        window.removeEventListener('touchmove', onMove, false);\n\n        window.removeEventListener('scroll', setScroll, true);\n        elements = [];\n        if(forceCleanAnimation){\n          cleanAnimation();\n        }\n    };\n\n    this.add = function(){\n        var element = [], len = arguments.length;\n        while ( len-- ) element[ len ] = arguments[ len ];\n\n        domSet.addElements.apply(void 0, [ elements ].concat( element ));\n        return this;\n    };\n\n    this.remove = function(){\n        var element = [], len = arguments.length;\n        while ( len-- ) element[ len ] = arguments[ len ];\n\n        return domSet.removeElements.apply(void 0, [ elements ].concat( element ));\n    };\n\n    var hasWindow = null, windowAnimationFrame;\n\n    if(Object.prototype.toString.call(elements) !== '[object Array]'){\n        elements = [elements];\n    }\n\n    (function(temp){\n        elements = [];\n        temp.forEach(function(element){\n            if(element === window){\n                hasWindow = window;\n            }else{\n                self.add(element);\n            }\n        });\n    }(elements));\n\n    Object.defineProperties(this, {\n        down: {\n            get: function(){ return down; }\n        },\n        maxSpeed: {\n            get: function(){ return maxSpeed; }\n        },\n        point: {\n            get: function(){ return point; }\n        },\n        scrolling: {\n            get: function(){ return scrolling; }\n        }\n    });\n\n    var n = 0, current = null, animationFrame;\n\n    window.addEventListener('mousedown', onDown, false);\n    window.addEventListener('touchstart', onDown, false);\n    window.addEventListener('mouseup', onUp, false);\n    window.addEventListener('touchend', onUp, false);\n\n    /*\n    IE does not trigger mouseup event when scrolling.\n    It is a known issue that Microsoft won't fix.\n    https://connect.microsoft.com/IE/feedback/details/783058/scrollbar-trigger-mousedown-but-not-mouseup\n    IE supports pointer events instead\n    */\n    window.addEventListener('pointerup', onUp, false);\n\n    window.addEventListener('mousemove', onMove, false);\n    window.addEventListener('touchmove', onMove, false);\n\n    window.addEventListener('mouseleave', onMouseOut, false);\n\n    window.addEventListener('scroll', setScroll, true);\n\n    function setScroll(e){\n\n        for(var i=0; i<elements.length; i++){\n            if(elements[i] === e.target){\n                scrolling = true;\n                break;\n            }\n        }\n\n        if(scrolling){\n            animationFramePolyfill.requestAnimationFrame(function (){ return scrolling = false; });\n        }\n    }\n\n    function onDown(){\n        down = true;\n    }\n\n    function onUp(){\n        down = false;\n        cleanAnimation();\n    }\n    function cleanAnimation(){\n      animationFramePolyfill.cancelAnimationFrame(animationFrame);\n      animationFramePolyfill.cancelAnimationFrame(windowAnimationFrame);\n    }\n    function onMouseOut(){\n        down = false;\n    }\n\n    function getTarget(target){\n        if(!target){\n            return null;\n        }\n\n        if(current === target){\n            return target;\n        }\n\n        if(domSet.hasElement(elements, target)){\n            return target;\n        }\n\n        while(target = target.parentNode){\n            if(domSet.hasElement(elements, target)){\n                return target;\n            }\n        }\n\n        return null;\n    }\n\n    function getElementUnderPoint(){\n        var underPoint = null;\n\n        for(var i=0; i<elements.length; i++){\n            if(inside(point, elements[i])){\n                underPoint = elements[i];\n            }\n        }\n\n        return underPoint;\n    }\n\n\n    function onMove(event){\n\n        if(!self.autoScroll()) { return; }\n\n        if(event['dispatched']){ return; }\n\n        var target = event.target, body = document.body;\n\n        if(current && !inside(point, current)){\n            if(!self.scrollWhenOutside){\n                current = null;\n            }\n        }\n\n        if(target && target.parentNode === body){\n            //The special condition to improve speed.\n            target = getElementUnderPoint();\n        }else{\n            target = getTarget(target);\n\n            if(!target){\n                target = getElementUnderPoint();\n            }\n        }\n\n\n        if(target && target !== current){\n            current = target;\n        }\n\n        if(hasWindow){\n            animationFramePolyfill.cancelAnimationFrame(windowAnimationFrame);\n            windowAnimationFrame = animationFramePolyfill.requestAnimationFrame(scrollWindow);\n        }\n\n\n        if(!current){\n            return;\n        }\n\n        animationFramePolyfill.cancelAnimationFrame(animationFrame);\n        animationFrame = animationFramePolyfill.requestAnimationFrame(scrollTick);\n    }\n\n    function scrollWindow(){\n        autoScroll(hasWindow);\n\n        animationFramePolyfill.cancelAnimationFrame(windowAnimationFrame);\n        windowAnimationFrame = animationFramePolyfill.requestAnimationFrame(scrollWindow);\n    }\n\n    function scrollTick(){\n\n        if(!current){\n            return;\n        }\n\n        autoScroll(current);\n\n        animationFramePolyfill.cancelAnimationFrame(animationFrame);\n        animationFrame = animationFramePolyfill.requestAnimationFrame(scrollTick);\n\n    }\n\n\n    function autoScroll(el){\n        var rect = domPlane.getClientRect(el), scrollx, scrolly;\n\n        if(point.x < rect.left + self.margin){\n            scrollx = Math.floor(\n                Math.max(-1, (point.x - rect.left) / self.margin - 1) * self.maxSpeed\n            );\n        }else if(point.x > rect.right - self.margin){\n            scrollx = Math.ceil(\n                Math.min(1, (point.x - rect.right) / self.margin + 1) * self.maxSpeed\n            );\n        }else{\n            scrollx = 0;\n        }\n\n        if(point.y < rect.top + self.margin){\n            scrolly = Math.floor(\n                Math.max(-1, (point.y - rect.top) / self.margin - 1) * self.maxSpeed\n            );\n        }else if(point.y > rect.bottom - self.margin){\n            scrolly = Math.ceil(\n                Math.min(1, (point.y - rect.bottom) / self.margin + 1) * self.maxSpeed\n            );\n        }else{\n            scrolly = 0;\n        }\n\n        if(self.syncMove()){\n            /*\n            Notes about mousemove event dispatch.\n            screen(X/Y) should need to be updated.\n            Some other properties might need to be set.\n            Keep the syncMove option default false until all inconsistencies are taken care of.\n            */\n            dispatcher.dispatch(el, {\n                pageX: point.pageX + scrollx,\n                pageY: point.pageY + scrolly,\n                clientX: point.x + scrollx,\n                clientY: point.y + scrolly\n            });\n        }\n\n        setTimeout(function (){\n\n            if(scrolly){\n                scrollY(el, scrolly);\n            }\n\n            if(scrollx){\n                scrollX(el, scrollx);\n            }\n\n        });\n    }\n\n    function scrollY(el, amount){\n        if(el === window){\n            window.scrollTo(el.pageXOffset, el.pageYOffset + amount);\n        }else{\n            el.scrollTop += amount;\n        }\n    }\n\n    function scrollX(el, amount){\n        if(el === window){\n            window.scrollTo(el.pageXOffset + amount, el.pageYOffset);\n        }else{\n            el.scrollLeft += amount;\n        }\n    }\n\n}\n\nfunction AutoScrollerFactory(element, options){\n    return new AutoScroller(element, options);\n}\n\nfunction inside(point, el, rect){\n    if(!rect){\n        return domPlane.pointInside(point, el);\n    }else{\n        return (point.y > rect.top && point.y < rect.bottom &&\n                point.x > rect.left && point.x < rect.right);\n    }\n}\n\n/*\ngit remote add origin https://github.com/hollowdoor/dom_autoscroller.git\ngit push -u origin master\n*/\n\nmodule.exports = AutoScrollerFactory;\n//# sourceMappingURL=bundle.js.map\n","module.exports = (typeof Array.from === 'function' ?\n  Array.from :\n  require('./polyfill')\n);\n","'use strict';\n\nvar objectCreate = void 0;\nif (typeof Object.create != 'function') {\n  objectCreate = function (undefined) {\n    var Temp = function Temp() {};\n    return function (prototype, propertiesObject) {\n      if (prototype !== Object(prototype) && prototype !== null) {\n        throw TypeError('Argument must be an object, or null');\n      }\n      Temp.prototype = prototype || {};\n      var result = new Temp();\n      Temp.prototype = null;\n      if (propertiesObject !== undefined) {\n        Object.defineProperties(result, propertiesObject);\n      }\n\n      // to imitate the case of Object.create(null)\n      if (prototype === null) {\n        result.__proto__ = null;\n      }\n      return result;\n    };\n  }();\n} else {\n  objectCreate = Object.create;\n}\n\nvar objectCreate$1 = objectCreate;\n\nvar mouseEventProps = ['altKey', 'button', 'buttons', 'clientX', 'clientY', 'ctrlKey', 'metaKey', 'movementX', 'movementY', 'offsetX', 'offsetY', 'pageX', 'pageY', 'region', 'relatedTarget', 'screenX', 'screenY', 'shiftKey', 'which', 'x', 'y'];\n\nfunction createDispatcher(element) {\n\n    var defaultSettings = {\n        screenX: 0,\n        screenY: 0,\n        clientX: 0,\n        clientY: 0,\n        ctrlKey: false,\n        shiftKey: false,\n        altKey: false,\n        metaKey: false,\n        button: 0,\n        buttons: 1,\n        relatedTarget: null,\n        region: null\n    };\n\n    if (element !== undefined) {\n        element.addEventListener('mousemove', onMove);\n    }\n\n    function onMove(e) {\n        for (var i = 0; i < mouseEventProps.length; i++) {\n            defaultSettings[mouseEventProps[i]] = e[mouseEventProps[i]];\n        }\n    }\n\n    var dispatch = function () {\n        if (MouseEvent) {\n            return function m1(element, initMove, data) {\n                var evt = new MouseEvent('mousemove', createMoveInit(defaultSettings, initMove));\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        } else if (typeof document.createEvent === 'function') {\n            return function m2(element, initMove, data) {\n                var settings = createMoveInit(defaultSettings, initMove);\n                var evt = document.createEvent('MouseEvents');\n\n                evt.initMouseEvent(\"mousemove\", true, //can bubble\n                true, //cancelable\n                window, //view\n                0, //detail\n                settings.screenX, //0, //screenX\n                settings.screenY, //0, //screenY\n                settings.clientX, //80, //clientX\n                settings.clientY, //20, //clientY\n                settings.ctrlKey, //false, //ctrlKey\n                settings.altKey, //false, //altKey\n                settings.shiftKey, //false, //shiftKey\n                settings.metaKey, //false, //metaKey\n                settings.button, //0, //button\n                settings.relatedTarget //null //relatedTarget\n                );\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        } else if (typeof document.createEventObject === 'function') {\n            return function m3(element, initMove, data) {\n                var evt = document.createEventObject();\n                var settings = createMoveInit(defaultSettings, initMove);\n                for (var name in settings) {\n                    evt[name] = settings[name];\n                }\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        }\n    }();\n\n    function destroy() {\n        if (element) element.removeEventListener('mousemove', onMove, false);\n        defaultSettings = null;\n    }\n\n    return {\n        destroy: destroy,\n        dispatch: dispatch\n    };\n}\n\nfunction createMoveInit(defaultSettings, initMove) {\n    initMove = initMove || {};\n    var settings = objectCreate$1(defaultSettings);\n    for (var i = 0; i < mouseEventProps.length; i++) {\n        if (initMove[mouseEventProps[i]] !== undefined) settings[mouseEventProps[i]] = initMove[mouseEventProps[i]];\n    }\n\n    return settings;\n}\n\nfunction setSpecial(e, data) {\n    console.log('data ', data);\n    e.data = data || {};\n    e.dispatched = 'mousemove';\n}\n\n/*\nhttp://marcgrabanski.com/simulating-mouse-click-events-in-javascript/\n*/\n\nmodule.exports = createDispatcher;\n//# sourceMappingURL=bundle.js.map\n","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\n/**\n * Returns `true` if provided input is Element.\n * @name isElement\n * @param {*} [input]\n * @returns {boolean}\n */\nexport default function (input) {\n  return input != null && (typeof input === 'undefined' ? 'undefined' : _typeof(input)) === 'object' && input.nodeType === 1 && _typeof(input.style) === 'object' && _typeof(input.ownerDocument) === 'object';\n}","import { isPlatformBrowser } from '@angular/common';\nimport { Subject, Observable, merge, EMPTY } from 'rxjs';\nimport { map, mergeMap, takeUntil, filter, pairwise, take, share, auditTime, switchMap, startWith, tap } from 'rxjs/operators';\nimport { Directive, Renderer2, ElementRef, Output, Input, EventEmitter, NgZone, Inject, PLATFORM_ID, HostListener, NgModule } from '@angular/core';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} value1\n * @param {?} value2\n * @param {?=} precision\n * @return {?}\n */\nfunction isNumberCloseTo(value1, value2, precision = 3) {\n    /** @type {?} */\n    const diff = Math.abs(value1 - value2);\n    return diff < precision;\n}\n/**\n * @param {?} startingRect\n * @param {?} edges\n * @param {?} clientX\n * @param {?} clientY\n * @return {?}\n */\nfunction getNewBoundingRectangle(startingRect, edges, clientX, clientY) {\n    /** @type {?} */\n    const newBoundingRect = {\n        top: startingRect.top,\n        bottom: startingRect.bottom,\n        left: startingRect.left,\n        right: startingRect.right\n    };\n    if (edges.top) {\n        newBoundingRect.top += clientY;\n    }\n    if (edges.bottom) {\n        newBoundingRect.bottom += clientY;\n    }\n    if (edges.left) {\n        newBoundingRect.left += clientX;\n    }\n    if (edges.right) {\n        newBoundingRect.right += clientX;\n    }\n    newBoundingRect.height = newBoundingRect.bottom - newBoundingRect.top;\n    newBoundingRect.width = newBoundingRect.right - newBoundingRect.left;\n    return newBoundingRect;\n}\n/**\n * @param {?} element\n * @param {?} ghostElementPositioning\n * @return {?}\n */\nfunction getElementRect(element, ghostElementPositioning) {\n    /** @type {?} */\n    let translateX = 0;\n    /** @type {?} */\n    let translateY = 0;\n    /** @type {?} */\n    const style = element.nativeElement.style;\n    /** @type {?} */\n    const transformProperties = [\n        'transform',\n        '-ms-transform',\n        '-moz-transform',\n        '-o-transform'\n    ];\n    /** @type {?} */\n    const transform = transformProperties\n        .map(property => style[property])\n        .find(value => !!value);\n    if (transform && transform.includes('translate')) {\n        translateX = transform.replace(/.*translate\\((.*)px, (.*)px\\).*/, '$1');\n        translateY = transform.replace(/.*translate\\((.*)px, (.*)px\\).*/, '$2');\n    }\n    if (ghostElementPositioning === 'absolute') {\n        return {\n            height: element.nativeElement.offsetHeight,\n            width: element.nativeElement.offsetWidth,\n            top: element.nativeElement.offsetTop - translateY,\n            bottom: element.nativeElement.offsetHeight +\n                element.nativeElement.offsetTop -\n                translateY,\n            left: element.nativeElement.offsetLeft - translateX,\n            right: element.nativeElement.offsetWidth +\n                element.nativeElement.offsetLeft -\n                translateX\n        };\n    }\n    else {\n        /** @type {?} */\n        const boundingRect = element.nativeElement.getBoundingClientRect();\n        return {\n            height: boundingRect.height,\n            width: boundingRect.width,\n            top: boundingRect.top - translateY,\n            bottom: boundingRect.bottom - translateY,\n            left: boundingRect.left - translateX,\n            right: boundingRect.right - translateX,\n            scrollTop: element.nativeElement.scrollTop,\n            scrollLeft: element.nativeElement.scrollLeft\n        };\n    }\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction isWithinBoundingY({ clientY, rect }) {\n    return clientY >= rect.top && clientY <= rect.bottom;\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction isWithinBoundingX({ clientX, rect }) {\n    return clientX >= rect.left && clientX <= rect.right;\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction getResizeEdges({ clientX, clientY, elm, allowedEdges, cursorPrecision }) {\n    /** @type {?} */\n    const elmPosition = elm.nativeElement.getBoundingClientRect();\n    /** @type {?} */\n    const edges = {};\n    if (allowedEdges.left &&\n        isNumberCloseTo(clientX, elmPosition.left, cursorPrecision) &&\n        isWithinBoundingY({ clientY, rect: elmPosition })) {\n        edges.left = true;\n    }\n    if (allowedEdges.right &&\n        isNumberCloseTo(clientX, elmPosition.right, cursorPrecision) &&\n        isWithinBoundingY({ clientY, rect: elmPosition })) {\n        edges.right = true;\n    }\n    if (allowedEdges.top &&\n        isNumberCloseTo(clientY, elmPosition.top, cursorPrecision) &&\n        isWithinBoundingX({ clientX, rect: elmPosition })) {\n        edges.top = true;\n    }\n    if (allowedEdges.bottom &&\n        isNumberCloseTo(clientY, elmPosition.bottom, cursorPrecision) &&\n        isWithinBoundingX({ clientX, rect: elmPosition })) {\n        edges.bottom = true;\n    }\n    return edges;\n}\n/** @type {?} */\nconst DEFAULT_RESIZE_CURSORS = Object.freeze({\n    topLeft: 'nw-resize',\n    topRight: 'ne-resize',\n    bottomLeft: 'sw-resize',\n    bottomRight: 'se-resize',\n    leftOrRight: 'col-resize',\n    topOrBottom: 'row-resize'\n});\n/**\n * @param {?} edges\n * @param {?} cursors\n * @return {?}\n */\nfunction getResizeCursor(edges, cursors) {\n    if (edges.left && edges.top) {\n        return cursors.topLeft;\n    }\n    else if (edges.right && edges.top) {\n        return cursors.topRight;\n    }\n    else if (edges.left && edges.bottom) {\n        return cursors.bottomLeft;\n    }\n    else if (edges.right && edges.bottom) {\n        return cursors.bottomRight;\n    }\n    else if (edges.left || edges.right) {\n        return cursors.leftOrRight;\n    }\n    else if (edges.top || edges.bottom) {\n        return cursors.topOrBottom;\n    }\n    else {\n        return '';\n    }\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction getEdgesDiff({ edges, initialRectangle, newRectangle }) {\n    /** @type {?} */\n    const edgesDiff = {};\n    Object.keys(edges).forEach(edge => {\n        edgesDiff[edge] = (newRectangle[edge] || 0) - (initialRectangle[edge] || 0);\n    });\n    return edgesDiff;\n}\n/** @type {?} */\nconst RESIZE_ACTIVE_CLASS = 'resize-active';\n/** @type {?} */\nconst RESIZE_LEFT_HOVER_CLASS = 'resize-left-hover';\n/** @type {?} */\nconst RESIZE_RIGHT_HOVER_CLASS = 'resize-right-hover';\n/** @type {?} */\nconst RESIZE_TOP_HOVER_CLASS = 'resize-top-hover';\n/** @type {?} */\nconst RESIZE_BOTTOM_HOVER_CLASS = 'resize-bottom-hover';\n/** @type {?} */\nconst RESIZE_GHOST_ELEMENT_CLASS = 'resize-ghost-element';\n/** @type {?} */\nconst MOUSE_MOVE_THROTTLE_MS = 50;\n/**\n * Place this on an element to make it resizable. For example:\n *\n * ```html\n * <div\n *   mwlResizable\n *   [resizeEdges]=\"{bottom: true, right: true, top: true, left: true}\"\n *   [enableGhostResize]=\"true\">\n * </div>\n * ```\n */\nclass ResizableDirective {\n    /**\n     * @hidden\n     * @param {?} platformId\n     * @param {?} renderer\n     * @param {?} elm\n     * @param {?} zone\n     */\n    constructor(platformId, renderer, elm, zone) {\n        this.platformId = platformId;\n        this.renderer = renderer;\n        this.elm = elm;\n        this.zone = zone;\n        /**\n         * The edges that an element can be resized from. Pass an object like `{top: true, bottom: false}`. By default no edges can be resized.\n         * @deprecated use a resize handle instead that positions itself to the side of the element you would like to resize\n         */\n        this.resizeEdges = {};\n        /**\n         * Set to `true` to enable a temporary resizing effect of the element in between the `resizeStart` and `resizeEnd` events.\n         */\n        this.enableGhostResize = false;\n        /**\n         * A snap grid that resize events will be locked to.\n         *\n         * e.g. to only allow the element to be resized every 10px set it to `{left: 10, right: 10}`\n         */\n        this.resizeSnapGrid = {};\n        /**\n         * The mouse cursors that will be set on the resize edges\n         */\n        this.resizeCursors = DEFAULT_RESIZE_CURSORS;\n        /**\n         * Mouse over thickness to active cursor.\n         * @deprecated invalid when you migrate to use resize handles instead of setting resizeEdges on the element\n         */\n        this.resizeCursorPrecision = 3;\n        /**\n         * Define the positioning of the ghost element (can be fixed or absolute)\n         */\n        this.ghostElementPositioning = 'fixed';\n        /**\n         * Allow elements to be resized to negative dimensions\n         */\n        this.allowNegativeResizes = false;\n        /**\n         * The mouse move throttle in milliseconds, default: 50 ms\n         */\n        this.mouseMoveThrottleMS = MOUSE_MOVE_THROTTLE_MS;\n        /**\n         * Called when the mouse is pressed and a resize event is about to begin. `$event` is a `ResizeEvent` object.\n         */\n        this.resizeStart = new EventEmitter();\n        /**\n         * Called as the mouse is dragged after a resize event has begun. `$event` is a `ResizeEvent` object.\n         */\n        this.resizing = new EventEmitter();\n        /**\n         * Called after the mouse is released after a resize event. `$event` is a `ResizeEvent` object.\n         */\n        this.resizeEnd = new EventEmitter();\n        /**\n         * @hidden\n         */\n        this.mouseup = new Subject();\n        /**\n         * @hidden\n         */\n        this.mousedown = new Subject();\n        /**\n         * @hidden\n         */\n        this.mousemove = new Subject();\n        this.destroy$ = new Subject();\n        this.resizeEdges$ = new Subject();\n        this.pointerEventListeners = PointerEventListeners.getInstance(renderer, zone);\n    }\n    /**\n     * @hidden\n     * @return {?}\n     */\n    ngOnInit() {\n        /** @type {?} */\n        const mousedown$ = merge(this.pointerEventListeners.pointerDown, this.mousedown);\n        /** @type {?} */\n        const mousemove$ = merge(this.pointerEventListeners.pointerMove, this.mousemove).pipe(tap(({ event }) => {\n            if (currentResize) {\n                event.preventDefault();\n            }\n        }), share());\n        /** @type {?} */\n        const mouseup$ = merge(this.pointerEventListeners.pointerUp, this.mouseup);\n        /** @type {?} */\n        let currentResize;\n        /** @type {?} */\n        const removeGhostElement = () => {\n            if (currentResize && currentResize.clonedNode) {\n                this.elm.nativeElement.parentElement.removeChild(currentResize.clonedNode);\n                this.renderer.setStyle(this.elm.nativeElement, 'visibility', 'inherit');\n            }\n        };\n        /** @type {?} */\n        const getResizeCursors = () => {\n            return Object.assign({}, DEFAULT_RESIZE_CURSORS, this.resizeCursors);\n        };\n        this.resizeEdges$\n            .pipe(startWith(this.resizeEdges), map(() => {\n            return (this.resizeEdges &&\n                Object.keys(this.resizeEdges).some(edge => !!this.resizeEdges[edge]));\n        }), switchMap(legacyResizeEdgesEnabled => legacyResizeEdgesEnabled ? mousemove$ : EMPTY), auditTime(this.mouseMoveThrottleMS), takeUntil(this.destroy$))\n            .subscribe(({ clientX, clientY }) => {\n            /** @type {?} */\n            const resizeEdges = getResizeEdges({\n                clientX,\n                clientY,\n                elm: this.elm,\n                allowedEdges: this.resizeEdges,\n                cursorPrecision: this.resizeCursorPrecision\n            });\n            /** @type {?} */\n            const resizeCursors = getResizeCursors();\n            if (!currentResize) {\n                /** @type {?} */\n                const cursor = getResizeCursor(resizeEdges, resizeCursors);\n                this.renderer.setStyle(this.elm.nativeElement, 'cursor', cursor);\n            }\n            this.setElementClass(this.elm, RESIZE_LEFT_HOVER_CLASS, resizeEdges.left === true);\n            this.setElementClass(this.elm, RESIZE_RIGHT_HOVER_CLASS, resizeEdges.right === true);\n            this.setElementClass(this.elm, RESIZE_TOP_HOVER_CLASS, resizeEdges.top === true);\n            this.setElementClass(this.elm, RESIZE_BOTTOM_HOVER_CLASS, resizeEdges.bottom === true);\n        });\n        /** @type {?} */\n        const mousedrag = mousedown$\n            .pipe(mergeMap(startCoords => {\n            /**\n             * @param {?} moveCoords\n             * @return {?}\n             */\n            function getDiff(moveCoords) {\n                return {\n                    clientX: moveCoords.clientX - startCoords.clientX,\n                    clientY: moveCoords.clientY - startCoords.clientY\n                };\n            }\n            /** @type {?} */\n            const getSnapGrid = () => {\n                /** @type {?} */\n                const snapGrid = { x: 1, y: 1 };\n                if (currentResize) {\n                    if (this.resizeSnapGrid.left && currentResize.edges.left) {\n                        snapGrid.x = +this.resizeSnapGrid.left;\n                    }\n                    else if (this.resizeSnapGrid.right &&\n                        currentResize.edges.right) {\n                        snapGrid.x = +this.resizeSnapGrid.right;\n                    }\n                    if (this.resizeSnapGrid.top && currentResize.edges.top) {\n                        snapGrid.y = +this.resizeSnapGrid.top;\n                    }\n                    else if (this.resizeSnapGrid.bottom &&\n                        currentResize.edges.bottom) {\n                        snapGrid.y = +this.resizeSnapGrid.bottom;\n                    }\n                }\n                return snapGrid;\n            };\n            /**\n             * @param {?} coords\n             * @param {?} snapGrid\n             * @return {?}\n             */\n            function getGrid(coords, snapGrid) {\n                return {\n                    x: Math.ceil(coords.clientX / snapGrid.x),\n                    y: Math.ceil(coords.clientY / snapGrid.y)\n                };\n            }\n            return ((/** @type {?} */ (merge(mousemove$.pipe(take(1)).pipe(map(coords => [, coords])), mousemove$.pipe(pairwise())))))\n                .pipe(map(([previousCoords, newCoords]) => {\n                return [\n                    previousCoords ? getDiff(previousCoords) : previousCoords,\n                    getDiff(newCoords)\n                ];\n            }))\n                .pipe(filter(([previousCoords, newCoords]) => {\n                if (!previousCoords) {\n                    return true;\n                }\n                /** @type {?} */\n                const snapGrid = getSnapGrid();\n                /** @type {?} */\n                const previousGrid = getGrid(previousCoords, snapGrid);\n                /** @type {?} */\n                const newGrid = getGrid(newCoords, snapGrid);\n                return (previousGrid.x !== newGrid.x || previousGrid.y !== newGrid.y);\n            }))\n                .pipe(map(([, newCoords]) => {\n                /** @type {?} */\n                const snapGrid = getSnapGrid();\n                return {\n                    clientX: Math.round(newCoords.clientX / snapGrid.x) * snapGrid.x,\n                    clientY: Math.round(newCoords.clientY / snapGrid.y) * snapGrid.y\n                };\n            }))\n                .pipe(takeUntil(merge(mouseup$, mousedown$)));\n        }))\n            .pipe(filter(() => !!currentResize));\n        mousedrag\n            .pipe(map(({ clientX, clientY }) => {\n            return getNewBoundingRectangle((/** @type {?} */ (currentResize)).startingRect, (/** @type {?} */ (currentResize)).edges, clientX, clientY);\n        }))\n            .pipe(filter((newBoundingRect) => {\n            return (this.allowNegativeResizes ||\n                !!(newBoundingRect.height &&\n                    newBoundingRect.width &&\n                    newBoundingRect.height > 0 &&\n                    newBoundingRect.width > 0));\n        }))\n            .pipe(filter((newBoundingRect) => {\n            return this.validateResize\n                ? this.validateResize({\n                    rectangle: newBoundingRect,\n                    edges: getEdgesDiff({\n                        edges: (/** @type {?} */ (currentResize)).edges,\n                        initialRectangle: (/** @type {?} */ (currentResize)).startingRect,\n                        newRectangle: newBoundingRect\n                    })\n                })\n                : true;\n        }), takeUntil(this.destroy$))\n            .subscribe((newBoundingRect) => {\n            if (currentResize && currentResize.clonedNode) {\n                this.renderer.setStyle(currentResize.clonedNode, 'height', `${newBoundingRect.height}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'width', `${newBoundingRect.width}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'top', `${newBoundingRect.top}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'left', `${newBoundingRect.left}px`);\n            }\n            this.zone.run(() => {\n                this.resizing.emit({\n                    edges: getEdgesDiff({\n                        edges: (/** @type {?} */ (currentResize)).edges,\n                        initialRectangle: (/** @type {?} */ (currentResize)).startingRect,\n                        newRectangle: newBoundingRect\n                    }),\n                    rectangle: newBoundingRect\n                });\n            });\n            (/** @type {?} */ (currentResize)).currentRect = newBoundingRect;\n        });\n        mousedown$\n            .pipe(map(({ clientX, clientY, edges }) => {\n            return (edges ||\n                getResizeEdges({\n                    clientX,\n                    clientY,\n                    elm: this.elm,\n                    allowedEdges: this.resizeEdges,\n                    cursorPrecision: this.resizeCursorPrecision\n                }));\n        }))\n            .pipe(filter((edges) => {\n            return Object.keys(edges).length > 0;\n        }), takeUntil(this.destroy$))\n            .subscribe((edges) => {\n            if (currentResize) {\n                removeGhostElement();\n            }\n            /** @type {?} */\n            const startingRect = getElementRect(this.elm, this.ghostElementPositioning);\n            currentResize = {\n                edges,\n                startingRect,\n                currentRect: startingRect\n            };\n            /** @type {?} */\n            const resizeCursors = getResizeCursors();\n            /** @type {?} */\n            const cursor = getResizeCursor(currentResize.edges, resizeCursors);\n            this.renderer.setStyle(document.body, 'cursor', cursor);\n            this.setElementClass(this.elm, RESIZE_ACTIVE_CLASS, true);\n            if (this.enableGhostResize) {\n                currentResize.clonedNode = this.elm.nativeElement.cloneNode(true);\n                this.elm.nativeElement.parentElement.appendChild(currentResize.clonedNode);\n                this.renderer.setStyle(this.elm.nativeElement, 'visibility', 'hidden');\n                this.renderer.setStyle(currentResize.clonedNode, 'position', this.ghostElementPositioning);\n                this.renderer.setStyle(currentResize.clonedNode, 'left', `${currentResize.startingRect.left}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'top', `${currentResize.startingRect.top}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'height', `${currentResize.startingRect.height}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'width', `${currentResize.startingRect.width}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'cursor', getResizeCursor(currentResize.edges, resizeCursors));\n                this.renderer.addClass(currentResize.clonedNode, RESIZE_GHOST_ELEMENT_CLASS);\n                (/** @type {?} */ (currentResize.clonedNode)).scrollTop = (/** @type {?} */ (currentResize.startingRect\n                    .scrollTop));\n                (/** @type {?} */ (currentResize.clonedNode)).scrollLeft = (/** @type {?} */ (currentResize.startingRect\n                    .scrollLeft));\n            }\n            this.zone.run(() => {\n                this.resizeStart.emit({\n                    edges: getEdgesDiff({\n                        edges,\n                        initialRectangle: startingRect,\n                        newRectangle: startingRect\n                    }),\n                    rectangle: getNewBoundingRectangle(startingRect, {}, 0, 0)\n                });\n            });\n        });\n        mouseup$.pipe(takeUntil(this.destroy$)).subscribe(() => {\n            if (currentResize) {\n                this.renderer.removeClass(this.elm.nativeElement, RESIZE_ACTIVE_CLASS);\n                this.renderer.setStyle(document.body, 'cursor', '');\n                this.renderer.setStyle(this.elm.nativeElement, 'cursor', '');\n                this.zone.run(() => {\n                    this.resizeEnd.emit({\n                        edges: getEdgesDiff({\n                            edges: (/** @type {?} */ (currentResize)).edges,\n                            initialRectangle: (/** @type {?} */ (currentResize)).startingRect,\n                            newRectangle: (/** @type {?} */ (currentResize)).currentRect\n                        }),\n                        rectangle: (/** @type {?} */ (currentResize)).currentRect\n                    });\n                });\n                removeGhostElement();\n                currentResize = null;\n            }\n        });\n    }\n    /**\n     * @hidden\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (changes.resizeEdges) {\n            this.resizeEdges$.next(this.resizeEdges);\n        }\n    }\n    /**\n     * @hidden\n     * @return {?}\n     */\n    ngOnDestroy() {\n        // browser check for angular universal, because it doesn't know what document is\n        if (isPlatformBrowser(this.platformId)) {\n            this.renderer.setStyle(document.body, 'cursor', '');\n        }\n        this.mousedown.complete();\n        this.mouseup.complete();\n        this.mousemove.complete();\n        this.resizeEdges$.complete();\n        this.destroy$.next();\n    }\n    /**\n     * @private\n     * @param {?} elm\n     * @param {?} name\n     * @param {?} add\n     * @return {?}\n     */\n    setElementClass(elm, name, add) {\n        if (add) {\n            this.renderer.addClass(elm.nativeElement, name);\n        }\n        else {\n            this.renderer.removeClass(elm.nativeElement, name);\n        }\n    }\n}\nResizableDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlResizable]'\n            },] }\n];\n/** @nocollapse */\nResizableDirective.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: Renderer2 },\n    { type: ElementRef },\n    { type: NgZone }\n];\nResizableDirective.propDecorators = {\n    validateResize: [{ type: Input }],\n    resizeEdges: [{ type: Input }],\n    enableGhostResize: [{ type: Input }],\n    resizeSnapGrid: [{ type: Input }],\n    resizeCursors: [{ type: Input }],\n    resizeCursorPrecision: [{ type: Input }],\n    ghostElementPositioning: [{ type: Input }],\n    allowNegativeResizes: [{ type: Input }],\n    mouseMoveThrottleMS: [{ type: Input }],\n    resizeStart: [{ type: Output }],\n    resizing: [{ type: Output }],\n    resizeEnd: [{ type: Output }]\n};\nclass PointerEventListeners {\n    // tslint:disable-line\n    /**\n     * @param {?} renderer\n     * @param {?} zone\n     * @return {?}\n     */\n    static getInstance(renderer, zone) {\n        if (!PointerEventListeners.instance) {\n            PointerEventListeners.instance = new PointerEventListeners(renderer, zone);\n        }\n        return PointerEventListeners.instance;\n    }\n    /**\n     * @param {?} renderer\n     * @param {?} zone\n     */\n    constructor(renderer, zone) {\n        this.pointerDown = new Observable((observer) => {\n            /** @type {?} */\n            let unsubscribeMouseDown;\n            /** @type {?} */\n            let unsubscribeTouchStart;\n            zone.runOutsideAngular(() => {\n                unsubscribeMouseDown = renderer.listen('document', 'mousedown', (event) => {\n                    observer.next({\n                        clientX: event.clientX,\n                        clientY: event.clientY,\n                        event\n                    });\n                });\n                unsubscribeTouchStart = renderer.listen('document', 'touchstart', (event) => {\n                    observer.next({\n                        clientX: event.touches[0].clientX,\n                        clientY: event.touches[0].clientY,\n                        event\n                    });\n                });\n            });\n            return () => {\n                unsubscribeMouseDown();\n                unsubscribeTouchStart();\n            };\n        }).pipe(share());\n        this.pointerMove = new Observable((observer) => {\n            /** @type {?} */\n            let unsubscribeMouseMove;\n            /** @type {?} */\n            let unsubscribeTouchMove;\n            zone.runOutsideAngular(() => {\n                unsubscribeMouseMove = renderer.listen('document', 'mousemove', (event) => {\n                    observer.next({\n                        clientX: event.clientX,\n                        clientY: event.clientY,\n                        event\n                    });\n                });\n                unsubscribeTouchMove = renderer.listen('document', 'touchmove', (event) => {\n                    observer.next({\n                        clientX: event.targetTouches[0].clientX,\n                        clientY: event.targetTouches[0].clientY,\n                        event\n                    });\n                });\n            });\n            return () => {\n                unsubscribeMouseMove();\n                unsubscribeTouchMove();\n            };\n        }).pipe(share());\n        this.pointerUp = new Observable((observer) => {\n            /** @type {?} */\n            let unsubscribeMouseUp;\n            /** @type {?} */\n            let unsubscribeTouchEnd;\n            /** @type {?} */\n            let unsubscribeTouchCancel;\n            zone.runOutsideAngular(() => {\n                unsubscribeMouseUp = renderer.listen('document', 'mouseup', (event) => {\n                    observer.next({\n                        clientX: event.clientX,\n                        clientY: event.clientY,\n                        event\n                    });\n                });\n                unsubscribeTouchEnd = renderer.listen('document', 'touchend', (event) => {\n                    observer.next({\n                        clientX: event.changedTouches[0].clientX,\n                        clientY: event.changedTouches[0].clientY,\n                        event\n                    });\n                });\n                unsubscribeTouchCancel = renderer.listen('document', 'touchcancel', (event) => {\n                    observer.next({\n                        clientX: event.changedTouches[0].clientX,\n                        clientY: event.changedTouches[0].clientY,\n                        event\n                    });\n                });\n            });\n            return () => {\n                unsubscribeMouseUp();\n                unsubscribeTouchEnd();\n                unsubscribeTouchCancel();\n            };\n        }).pipe(share());\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * An element placed inside a `mwlResizable` directive to be used as a drag and resize handle\n *\n * For example\n *\n * ```html\n * <div mwlResizable>\n *   <div mwlResizeHandle [resizeEdges]=\"{bottom: true, right: true}\"></div>\n * </div>\n * ```\n */\nclass ResizeHandleDirective {\n    /**\n     * @param {?} renderer\n     * @param {?} element\n     * @param {?} zone\n     * @param {?} resizable\n     */\n    constructor(renderer, element, zone, resizable) {\n        this.renderer = renderer;\n        this.element = element;\n        this.zone = zone;\n        this.resizable = resizable;\n        /**\n         * The `Edges` object that contains the edges of the parent element that dragging the handle will trigger a resize on\n         */\n        this.resizeEdges = {};\n        this.eventListeners = {};\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.unsubscribeEventListeners();\n    }\n    /**\n     * @hidden\n     * @param {?} event\n     * @param {?} clientX\n     * @param {?} clientY\n     * @return {?}\n     */\n    onMousedown(event, clientX, clientY) {\n        event.preventDefault();\n        this.zone.runOutsideAngular(() => {\n            if (!this.eventListeners.touchmove) {\n                this.eventListeners.touchmove = this.renderer.listen(this.element.nativeElement, 'touchmove', (touchMoveEvent) => {\n                    this.onMousemove(touchMoveEvent, touchMoveEvent.targetTouches[0].clientX, touchMoveEvent.targetTouches[0].clientY);\n                });\n            }\n            if (!this.eventListeners.mousemove) {\n                this.eventListeners.mousemove = this.renderer.listen(this.element.nativeElement, 'mousemove', (mouseMoveEvent) => {\n                    this.onMousemove(mouseMoveEvent, mouseMoveEvent.clientX, mouseMoveEvent.clientY);\n                });\n            }\n            this.resizable.mousedown.next({\n                clientX,\n                clientY,\n                edges: this.resizeEdges\n            });\n        });\n    }\n    /**\n     * @hidden\n     * @param {?} clientX\n     * @param {?} clientY\n     * @return {?}\n     */\n    onMouseup(clientX, clientY) {\n        this.zone.runOutsideAngular(() => {\n            this.unsubscribeEventListeners();\n            this.resizable.mouseup.next({\n                clientX,\n                clientY,\n                edges: this.resizeEdges\n            });\n        });\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @param {?} clientX\n     * @param {?} clientY\n     * @return {?}\n     */\n    onMousemove(event, clientX, clientY) {\n        this.resizable.mousemove.next({\n            clientX,\n            clientY,\n            edges: this.resizeEdges,\n            event\n        });\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    unsubscribeEventListeners() {\n        Object.keys(this.eventListeners).forEach(type => {\n            ((/** @type {?} */ (this))).eventListeners[type]();\n            delete this.eventListeners[type];\n        });\n    }\n}\nResizeHandleDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlResizeHandle]'\n            },] }\n];\n/** @nocollapse */\nResizeHandleDirective.ctorParameters = () => [\n    { type: Renderer2 },\n    { type: ElementRef },\n    { type: NgZone },\n    { type: ResizableDirective }\n];\nResizeHandleDirective.propDecorators = {\n    resizeEdges: [{ type: Input }],\n    onMousedown: [{ type: HostListener, args: ['touchstart', [\n                    '$event',\n                    '$event.touches[0].clientX',\n                    '$event.touches[0].clientY'\n                ],] }, { type: HostListener, args: ['mousedown', ['$event', '$event.clientX', '$event.clientY'],] }],\n    onMouseup: [{ type: HostListener, args: ['touchend', [\n                    '$event.changedTouches[0].clientX',\n                    '$event.changedTouches[0].clientY'\n                ],] }, { type: HostListener, args: ['touchcancel', [\n                    '$event.changedTouches[0].clientX',\n                    '$event.changedTouches[0].clientY'\n                ],] }, { type: HostListener, args: ['mouseup', ['$event.clientX', '$event.clientY'],] }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ResizableModule {\n}\nResizableModule.decorators = [\n    { type: NgModule, args: [{\n                declarations: [ResizableDirective, ResizeHandleDirective],\n                exports: [ResizableDirective, ResizeHandleDirective]\n            },] }\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { ResizableDirective, ResizeHandleDirective, ResizableModule };\n\n//# sourceMappingURL=angular-resizable-element.js.map","/* flatpickr v4.6.3, @license MIT */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = global || self, global.flatpickr = factory());\n}(this, function () { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\n\n    var HOOKS = [\n        \"onChange\",\n        \"onClose\",\n        \"onDayCreate\",\n        \"onDestroy\",\n        \"onKeyDown\",\n        \"onMonthChange\",\n        \"onOpen\",\n        \"onParseConfig\",\n        \"onReady\",\n        \"onValueUpdate\",\n        \"onYearChange\",\n        \"onPreCalendarPosition\",\n    ];\n    var defaults = {\n        _disable: [],\n        _enable: [],\n        allowInput: false,\n        altFormat: \"F j, Y\",\n        altInput: false,\n        altInputClass: \"form-control input\",\n        animate: typeof window === \"object\" &&\n            window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n        ariaDateFormat: \"F j, Y\",\n        clickOpens: true,\n        closeOnSelect: true,\n        conjunction: \", \",\n        dateFormat: \"Y-m-d\",\n        defaultHour: 12,\n        defaultMinute: 0,\n        defaultSeconds: 0,\n        disable: [],\n        disableMobile: false,\n        enable: [],\n        enableSeconds: false,\n        enableTime: false,\n        errorHandler: function (err) {\n            return typeof console !== \"undefined\" && console.warn(err);\n        },\n        getWeek: function (givenDate) {\n            var date = new Date(givenDate.getTime());\n            date.setHours(0, 0, 0, 0);\n            // Thursday in current week decides the year.\n            date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n            // January 4 is always in week 1.\n            var week1 = new Date(date.getFullYear(), 0, 4);\n            // Adjust to Thursday in week 1 and count number of weeks from date to week1.\n            return (1 +\n                Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                    3 +\n                    ((week1.getDay() + 6) % 7)) /\n                    7));\n        },\n        hourIncrement: 1,\n        ignoredFocusElements: [],\n        inline: false,\n        locale: \"default\",\n        minuteIncrement: 5,\n        mode: \"single\",\n        monthSelectorType: \"dropdown\",\n        nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n        noCalendar: false,\n        now: new Date(),\n        onChange: [],\n        onClose: [],\n        onDayCreate: [],\n        onDestroy: [],\n        onKeyDown: [],\n        onMonthChange: [],\n        onOpen: [],\n        onParseConfig: [],\n        onReady: [],\n        onValueUpdate: [],\n        onYearChange: [],\n        onPreCalendarPosition: [],\n        plugins: [],\n        position: \"auto\",\n        positionElement: undefined,\n        prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n        shorthandCurrentMonth: false,\n        showMonths: 1,\n        static: false,\n        time_24hr: false,\n        weekNumbers: false,\n        wrap: false\n    };\n\n    var english = {\n        weekdays: {\n            shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n            longhand: [\n                \"Sunday\",\n                \"Monday\",\n                \"Tuesday\",\n                \"Wednesday\",\n                \"Thursday\",\n                \"Friday\",\n                \"Saturday\",\n            ]\n        },\n        months: {\n            shorthand: [\n                \"Jan\",\n                \"Feb\",\n                \"Mar\",\n                \"Apr\",\n                \"May\",\n                \"Jun\",\n                \"Jul\",\n                \"Aug\",\n                \"Sep\",\n                \"Oct\",\n                \"Nov\",\n                \"Dec\",\n            ],\n            longhand: [\n                \"January\",\n                \"February\",\n                \"March\",\n                \"April\",\n                \"May\",\n                \"June\",\n                \"July\",\n                \"August\",\n                \"September\",\n                \"October\",\n                \"November\",\n                \"December\",\n            ]\n        },\n        daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n        firstDayOfWeek: 0,\n        ordinal: function (nth) {\n            var s = nth % 100;\n            if (s > 3 && s < 21)\n                return \"th\";\n            switch (s % 10) {\n                case 1:\n                    return \"st\";\n                case 2:\n                    return \"nd\";\n                case 3:\n                    return \"rd\";\n                default:\n                    return \"th\";\n            }\n        },\n        rangeSeparator: \" to \",\n        weekAbbreviation: \"Wk\",\n        scrollTitle: \"Scroll to increment\",\n        toggleTitle: \"Click to toggle\",\n        amPM: [\"AM\", \"PM\"],\n        yearAriaLabel: \"Year\",\n        hourAriaLabel: \"Hour\",\n        minuteAriaLabel: \"Minute\",\n        time_24hr: false\n    };\n\n    var pad = function (number) { return (\"0\" + number).slice(-2); };\n    var int = function (bool) { return (bool === true ? 1 : 0); };\n    /* istanbul ignore next */\n    function debounce(func, wait, immediate) {\n        if (immediate === void 0) { immediate = false; }\n        var timeout;\n        return function () {\n            var context = this, args = arguments;\n            timeout !== null && clearTimeout(timeout);\n            timeout = window.setTimeout(function () {\n                timeout = null;\n                if (!immediate)\n                    func.apply(context, args);\n            }, wait);\n            if (immediate && !timeout)\n                func.apply(context, args);\n        };\n    }\n    var arrayify = function (obj) {\n        return obj instanceof Array ? obj : [obj];\n    };\n\n    function toggleClass(elem, className, bool) {\n        if (bool === true)\n            return elem.classList.add(className);\n        elem.classList.remove(className);\n    }\n    function createElement(tag, className, content) {\n        var e = window.document.createElement(tag);\n        className = className || \"\";\n        content = content || \"\";\n        e.className = className;\n        if (content !== undefined)\n            e.textContent = content;\n        return e;\n    }\n    function clearNode(node) {\n        while (node.firstChild)\n            node.removeChild(node.firstChild);\n    }\n    function findParent(node, condition) {\n        if (condition(node))\n            return node;\n        else if (node.parentNode)\n            return findParent(node.parentNode, condition);\n        return undefined; // nothing found\n    }\n    function createNumberInput(inputClassName, opts) {\n        var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n        if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n            numInput.type = \"number\";\n        }\n        else {\n            numInput.type = \"text\";\n            numInput.pattern = \"\\\\d*\";\n        }\n        if (opts !== undefined)\n            for (var key in opts)\n                numInput.setAttribute(key, opts[key]);\n        wrapper.appendChild(numInput);\n        wrapper.appendChild(arrowUp);\n        wrapper.appendChild(arrowDown);\n        return wrapper;\n    }\n    function getEventTarget(event) {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n\n    var doNothing = function () { return undefined; };\n    var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\n    var revFormat = {\n        D: doNothing,\n        F: function (dateObj, monthName, locale) {\n            dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n        },\n        G: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        H: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        J: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        K: function (dateObj, amPM, locale) {\n            dateObj.setHours((dateObj.getHours() % 12) +\n                12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n        },\n        M: function (dateObj, shortMonth, locale) {\n            dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n        },\n        S: function (dateObj, seconds) {\n            dateObj.setSeconds(parseFloat(seconds));\n        },\n        U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n        W: function (dateObj, weekNum, locale) {\n            var weekNumber = parseInt(weekNum);\n            var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n            date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n            return date;\n        },\n        Y: function (dateObj, year) {\n            dateObj.setFullYear(parseFloat(year));\n        },\n        Z: function (_, ISODate) { return new Date(ISODate); },\n        d: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        h: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        i: function (dateObj, minutes) {\n            dateObj.setMinutes(parseFloat(minutes));\n        },\n        j: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        l: doNothing,\n        m: function (dateObj, month) {\n            dateObj.setMonth(parseFloat(month) - 1);\n        },\n        n: function (dateObj, month) {\n            dateObj.setMonth(parseFloat(month) - 1);\n        },\n        s: function (dateObj, seconds) {\n            dateObj.setSeconds(parseFloat(seconds));\n        },\n        u: function (_, unixMillSeconds) {\n            return new Date(parseFloat(unixMillSeconds));\n        },\n        w: doNothing,\n        y: function (dateObj, year) {\n            dateObj.setFullYear(2000 + parseFloat(year));\n        }\n    };\n    var tokenRegex = {\n        D: \"(\\\\w+)\",\n        F: \"(\\\\w+)\",\n        G: \"(\\\\d\\\\d|\\\\d)\",\n        H: \"(\\\\d\\\\d|\\\\d)\",\n        J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n        K: \"\",\n        M: \"(\\\\w+)\",\n        S: \"(\\\\d\\\\d|\\\\d)\",\n        U: \"(.+)\",\n        W: \"(\\\\d\\\\d|\\\\d)\",\n        Y: \"(\\\\d{4})\",\n        Z: \"(.+)\",\n        d: \"(\\\\d\\\\d|\\\\d)\",\n        h: \"(\\\\d\\\\d|\\\\d)\",\n        i: \"(\\\\d\\\\d|\\\\d)\",\n        j: \"(\\\\d\\\\d|\\\\d)\",\n        l: \"(\\\\w+)\",\n        m: \"(\\\\d\\\\d|\\\\d)\",\n        n: \"(\\\\d\\\\d|\\\\d)\",\n        s: \"(\\\\d\\\\d|\\\\d)\",\n        u: \"(.+)\",\n        w: \"(\\\\d\\\\d|\\\\d)\",\n        y: \"(\\\\d{2})\"\n    };\n    var formats = {\n        // get the date in UTC\n        Z: function (date) { return date.toISOString(); },\n        // weekday name, short, e.g. Thu\n        D: function (date, locale, options) {\n            return locale.weekdays.shorthand[formats.w(date, locale, options)];\n        },\n        // full month name e.g. January\n        F: function (date, locale, options) {\n            return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n        },\n        // padded hour 1-12\n        G: function (date, locale, options) {\n            return pad(formats.h(date, locale, options));\n        },\n        // hours with leading zero e.g. 03\n        H: function (date) { return pad(date.getHours()); },\n        // day (1-30) with ordinal suffix e.g. 1st, 2nd\n        J: function (date, locale) {\n            return locale.ordinal !== undefined\n                ? date.getDate() + locale.ordinal(date.getDate())\n                : date.getDate();\n        },\n        // AM/PM\n        K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n        // shorthand month e.g. Jan, Sep, Oct, etc\n        M: function (date, locale) {\n            return monthToStr(date.getMonth(), true, locale);\n        },\n        // seconds 00-59\n        S: function (date) { return pad(date.getSeconds()); },\n        // unix timestamp\n        U: function (date) { return date.getTime() / 1000; },\n        W: function (date, _, options) {\n            return options.getWeek(date);\n        },\n        // full year e.g. 2016\n        Y: function (date) { return date.getFullYear(); },\n        // day in month, padded (01-30)\n        d: function (date) { return pad(date.getDate()); },\n        // hour from 1-12 (am/pm)\n        h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n        // minutes, padded with leading zero e.g. 09\n        i: function (date) { return pad(date.getMinutes()); },\n        // day in month (1-30)\n        j: function (date) { return date.getDate(); },\n        // weekday name, full, e.g. Thursday\n        l: function (date, locale) {\n            return locale.weekdays.longhand[date.getDay()];\n        },\n        // padded month number (01-12)\n        m: function (date) { return pad(date.getMonth() + 1); },\n        // the month number (1-12)\n        n: function (date) { return date.getMonth() + 1; },\n        // seconds 0-59\n        s: function (date) { return date.getSeconds(); },\n        // Unix Milliseconds\n        u: function (date) { return date.getTime(); },\n        // number of the day of the week\n        w: function (date) { return date.getDay(); },\n        // last two digits of year e.g. 16 for 2016\n        y: function (date) { return String(date.getFullYear()).substring(2); }\n    };\n\n    var createDateFormatter = function (_a) {\n        var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n        return function (dateObj, frmt, overrideLocale) {\n            var locale = overrideLocale || l10n;\n            if (config.formatDate !== undefined) {\n                return config.formatDate(dateObj, frmt, locale);\n            }\n            return frmt\n                .split(\"\")\n                .map(function (c, i, arr) {\n                return formats[c] && arr[i - 1] !== \"\\\\\"\n                    ? formats[c](dateObj, locale, config)\n                    : c !== \"\\\\\"\n                        ? c\n                        : \"\";\n            })\n                .join(\"\");\n        };\n    };\n    var createDateParser = function (_a) {\n        var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n        return function (date, givenFormat, timeless, customLocale) {\n            if (date !== 0 && !date)\n                return undefined;\n            var locale = customLocale || l10n;\n            var parsedDate;\n            var dateOrig = date;\n            if (date instanceof Date)\n                parsedDate = new Date(date.getTime());\n            else if (typeof date !== \"string\" &&\n                date.toFixed !== undefined // timestamp\n            )\n                // create a copy\n                parsedDate = new Date(date);\n            else if (typeof date === \"string\") {\n                // date string\n                var format = givenFormat || (config || defaults).dateFormat;\n                var datestr = String(date).trim();\n                if (datestr === \"today\") {\n                    parsedDate = new Date();\n                    timeless = true;\n                }\n                else if (/Z$/.test(datestr) ||\n                    /GMT$/.test(datestr) // datestrings w/ timezone\n                )\n                    parsedDate = new Date(date);\n                else if (config && config.parseDate)\n                    parsedDate = config.parseDate(date, format);\n                else {\n                    parsedDate =\n                        !config || !config.noCalendar\n                            ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                            : new Date(new Date().setHours(0, 0, 0, 0));\n                    var matched = void 0, ops = [];\n                    for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                        var token_1 = format[i];\n                        var isBackSlash = token_1 === \"\\\\\";\n                        var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                        if (tokenRegex[token_1] && !escaped) {\n                            regexStr += tokenRegex[token_1];\n                            var match = new RegExp(regexStr).exec(date);\n                            if (match && (matched = true)) {\n                                ops[token_1 !== \"Y\" ? \"push\" : \"unshift\"]({\n                                    fn: revFormat[token_1],\n                                    val: match[++matchIndex]\n                                });\n                            }\n                        }\n                        else if (!isBackSlash)\n                            regexStr += \".\"; // don't really care\n                        ops.forEach(function (_a) {\n                            var fn = _a.fn, val = _a.val;\n                            return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                        });\n                    }\n                    parsedDate = matched ? parsedDate : undefined;\n                }\n            }\n            /* istanbul ignore next */\n            if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n                config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n                return undefined;\n            }\n            if (timeless === true)\n                parsedDate.setHours(0, 0, 0, 0);\n            return parsedDate;\n        };\n    };\n    /**\n     * Compute the difference in dates, measured in ms\n     */\n    function compareDates(date1, date2, timeless) {\n        if (timeless === void 0) { timeless = true; }\n        if (timeless !== false) {\n            return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n                new Date(date2.getTime()).setHours(0, 0, 0, 0));\n        }\n        return date1.getTime() - date2.getTime();\n    }\n    var isBetween = function (ts, ts1, ts2) {\n        return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n    };\n    var duration = {\n        DAY: 86400000\n    };\n\n    if (typeof Object.assign !== \"function\") {\n        Object.assign = function (target) {\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            if (!target) {\n                throw TypeError(\"Cannot convert undefined or null to object\");\n            }\n            var _loop_1 = function (source) {\n                if (source) {\n                    Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n                }\n            };\n            for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n                var source = args_1[_a];\n                _loop_1(source);\n            }\n            return target;\n        };\n    }\n\n    var DEBOUNCED_CHANGE_MS = 300;\n    function FlatpickrInstance(element, instanceConfig) {\n        var self = {\n            config: __assign({}, defaults, flatpickr.defaultConfig),\n            l10n: english\n        };\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n        self._handlers = [];\n        self.pluginElements = [];\n        self.loadedPlugins = [];\n        self._bind = bind;\n        self._setHoursFromDate = setHoursFromDate;\n        self._positionCalendar = positionCalendar;\n        self.changeMonth = changeMonth;\n        self.changeYear = changeYear;\n        self.clear = clear;\n        self.close = close;\n        self._createElement = createElement;\n        self.destroy = destroy;\n        self.isEnabled = isEnabled;\n        self.jumpToDate = jumpToDate;\n        self.open = open;\n        self.redraw = redraw;\n        self.set = set;\n        self.setDate = setDate;\n        self.toggle = toggle;\n        function setupHelperFunctions() {\n            self.utils = {\n                getDaysInMonth: function (month, yr) {\n                    if (month === void 0) { month = self.currentMonth; }\n                    if (yr === void 0) { yr = self.currentYear; }\n                    if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                        return 29;\n                    return self.l10n.daysInMonth[month];\n                }\n            };\n        }\n        function init() {\n            self.element = self.input = element;\n            self.isOpen = false;\n            parseConfig();\n            setupLocale();\n            setupInputs();\n            setupDates();\n            setupHelperFunctions();\n            if (!self.isMobile)\n                build();\n            bindEvents();\n            if (self.selectedDates.length || self.config.noCalendar) {\n                if (self.config.enableTime) {\n                    setHoursFromDate(self.config.noCalendar\n                        ? self.latestSelectedDateObj || self.config.minDate\n                        : undefined);\n                }\n                updateValue(false);\n            }\n            setCalendarWidth();\n            self.showTimeInput =\n                self.selectedDates.length > 0 || self.config.noCalendar;\n            var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n            /* TODO: investigate this further\n        \n              Currently, there is weird positioning behavior in safari causing pages\n              to scroll up. https://github.com/chmln/flatpickr/issues/563\n        \n              However, most browsers are not Safari and positioning is expensive when used\n              in scale. https://github.com/chmln/flatpickr/issues/1096\n            */\n            if (!self.isMobile && isSafari) {\n                positionCalendar();\n            }\n            triggerEvent(\"onReady\");\n        }\n        function bindToInstance(fn) {\n            return fn.bind(self);\n        }\n        function setCalendarWidth() {\n            var config = self.config;\n            if (config.weekNumbers === false && config.showMonths === 1)\n                return;\n            else if (config.noCalendar !== true) {\n                window.requestAnimationFrame(function () {\n                    if (self.calendarContainer !== undefined) {\n                        self.calendarContainer.style.visibility = \"hidden\";\n                        self.calendarContainer.style.display = \"block\";\n                    }\n                    if (self.daysContainer !== undefined) {\n                        var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                        self.daysContainer.style.width = daysWidth + \"px\";\n                        self.calendarContainer.style.width =\n                            daysWidth +\n                                (self.weekWrapper !== undefined\n                                    ? self.weekWrapper.offsetWidth\n                                    : 0) +\n                                \"px\";\n                        self.calendarContainer.style.removeProperty(\"visibility\");\n                        self.calendarContainer.style.removeProperty(\"display\");\n                    }\n                });\n            }\n        }\n        /**\n         * The handler for all events targeting the time inputs\n         */\n        function updateTime(e) {\n            if (self.selectedDates.length === 0) {\n                setDefaultTime();\n            }\n            if (e !== undefined && e.type !== \"blur\") {\n                timeWrapper(e);\n            }\n            var prevValue = self._input.value;\n            setHoursFromInputs();\n            updateValue();\n            if (self._input.value !== prevValue) {\n                self._debouncedChange();\n            }\n        }\n        function ampm2military(hour, amPM) {\n            return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n        }\n        function military2ampm(hour) {\n            switch (hour % 24) {\n                case 0:\n                case 12:\n                    return 12;\n                default:\n                    return hour % 12;\n            }\n        }\n        /**\n         * Syncs the selected date object time with user's time input\n         */\n        function setHoursFromInputs() {\n            if (self.hourElement === undefined || self.minuteElement === undefined)\n                return;\n            var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n                ? (parseInt(self.secondElement.value, 10) || 0) % 60\n                : 0;\n            if (self.amPM !== undefined) {\n                hours = ampm2military(hours, self.amPM.textContent);\n            }\n            var limitMinHours = self.config.minTime !== undefined ||\n                (self.config.minDate &&\n                    self.minDateHasTime &&\n                    self.latestSelectedDateObj &&\n                    compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                        0);\n            var limitMaxHours = self.config.maxTime !== undefined ||\n                (self.config.maxDate &&\n                    self.maxDateHasTime &&\n                    self.latestSelectedDateObj &&\n                    compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                        0);\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours())\n                    minutes = Math.max(minutes, minTime.getMinutes());\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n            setHours(hours, minutes, seconds);\n        }\n        /**\n         * Syncs time input values with a date\n         */\n        function setHoursFromDate(dateObj) {\n            var date = dateObj || self.latestSelectedDateObj;\n            if (date)\n                setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n        function setDefaultHours() {\n            var hours = self.config.defaultHour;\n            var minutes = self.config.defaultMinute;\n            var seconds = self.config.defaultSeconds;\n            if (self.config.minDate !== undefined) {\n                var minHr = self.config.minDate.getHours();\n                var minMinutes = self.config.minDate.getMinutes();\n                hours = Math.max(hours, minHr);\n                if (hours === minHr)\n                    minutes = Math.max(minMinutes, minutes);\n                if (hours === minHr && minutes === minMinutes)\n                    seconds = self.config.minDate.getSeconds();\n            }\n            if (self.config.maxDate !== undefined) {\n                var maxHr = self.config.maxDate.getHours();\n                var maxMinutes = self.config.maxDate.getMinutes();\n                hours = Math.min(hours, maxHr);\n                if (hours === maxHr)\n                    minutes = Math.min(maxMinutes, minutes);\n                if (hours === maxHr && minutes === maxMinutes)\n                    seconds = self.config.maxDate.getSeconds();\n            }\n            setHours(hours, minutes, seconds);\n        }\n        /**\n         * Sets the hours, minutes, and optionally seconds\n         * of the latest selected date object and the\n         * corresponding time inputs\n         * @param {Number} hours the hour. whether its military\n         *                 or am-pm gets inferred from config\n         * @param {Number} minutes the minutes\n         * @param {Number} seconds the seconds (optional)\n         */\n        function setHours(hours, minutes, seconds) {\n            if (self.latestSelectedDateObj !== undefined) {\n                self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n            }\n            if (!self.hourElement || !self.minuteElement || self.isMobile)\n                return;\n            self.hourElement.value = pad(!self.config.time_24hr\n                ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n                : hours);\n            self.minuteElement.value = pad(minutes);\n            if (self.amPM !== undefined)\n                self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n            if (self.secondElement !== undefined)\n                self.secondElement.value = pad(seconds);\n        }\n        /**\n         * Handles the year input and incrementing events\n         * @param {Event} event the keyup or increment event\n         */\n        function onYearInput(event) {\n            var year = parseInt(event.target.value) + (event.delta || 0);\n            if (year / 1000 > 1 ||\n                (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n                changeYear(year);\n            }\n        }\n        /**\n         * Essentially addEventListener + tracking\n         * @param {Element} element the element to addEventListener to\n         * @param {String} event the event name\n         * @param {Function} handler the event handler\n         */\n        function bind(element, event, handler, options) {\n            if (event instanceof Array)\n                return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n            if (element instanceof Array)\n                return element.forEach(function (el) { return bind(el, event, handler, options); });\n            element.addEventListener(event, handler, options);\n            self._handlers.push({\n                element: element,\n                event: event,\n                handler: handler,\n                options: options\n            });\n        }\n        /**\n         * A mousedown handler which mimics click.\n         * Minimizes latency, since we don't need to wait for mouseup in most cases.\n         * Also, avoids handling right clicks.\n         *\n         * @param {Function} handler the event handler\n         */\n        function onClick(handler) {\n            return function (evt) {\n                evt.which === 1 && handler(evt);\n            };\n        }\n        function triggerChange() {\n            triggerEvent(\"onChange\");\n        }\n        /**\n         * Adds all the necessary event listeners\n         */\n        function bindEvents() {\n            if (self.config.wrap) {\n                [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                    Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                        return bind(el, \"click\", self[evt]);\n                    });\n                });\n            }\n            if (self.isMobile) {\n                setupMobile();\n                return;\n            }\n            var debouncedResize = debounce(onResize, 50);\n            self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n            if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n                bind(self.daysContainer, \"mouseover\", function (e) {\n                    if (self.config.mode === \"range\")\n                        onMouseOver(e.target);\n                });\n            bind(window.document.body, \"keydown\", onKeyDown);\n            if (!self.config.inline && !self.config.static)\n                bind(window, \"resize\", debouncedResize);\n            if (window.ontouchstart !== undefined)\n                bind(window.document, \"touchstart\", documentClick);\n            else\n                bind(window.document, \"mousedown\", onClick(documentClick));\n            bind(window.document, \"focus\", documentClick, { capture: true });\n            if (self.config.clickOpens === true) {\n                bind(self._input, \"focus\", self.open);\n                bind(self._input, \"mousedown\", onClick(self.open));\n            }\n            if (self.daysContainer !== undefined) {\n                bind(self.monthNav, \"mousedown\", onClick(onMonthNavClick));\n                bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n                bind(self.daysContainer, \"mousedown\", onClick(selectDate));\n            }\n            if (self.timeContainer !== undefined &&\n                self.minuteElement !== undefined &&\n                self.hourElement !== undefined) {\n                var selText = function (e) {\n                    return e.target.select();\n                };\n                bind(self.timeContainer, [\"increment\"], updateTime);\n                bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n                bind(self.timeContainer, \"mousedown\", onClick(timeIncrement));\n                bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n                if (self.secondElement !== undefined)\n                    bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n                if (self.amPM !== undefined) {\n                    bind(self.amPM, \"mousedown\", onClick(function (e) {\n                        updateTime(e);\n                        triggerChange();\n                    }));\n                }\n            }\n        }\n        /**\n         * Set the calendar view to a particular date.\n         * @param {Date} jumpDate the date to set the view to\n         * @param {boolean} triggerChange if change events should be triggered\n         */\n        function jumpToDate(jumpDate, triggerChange) {\n            var jumpTo = jumpDate !== undefined\n                ? self.parseDate(jumpDate)\n                : self.latestSelectedDateObj ||\n                    (self.config.minDate && self.config.minDate > self.now\n                        ? self.config.minDate\n                        : self.config.maxDate && self.config.maxDate < self.now\n                            ? self.config.maxDate\n                            : self.now);\n            var oldYear = self.currentYear;\n            var oldMonth = self.currentMonth;\n            try {\n                if (jumpTo !== undefined) {\n                    self.currentYear = jumpTo.getFullYear();\n                    self.currentMonth = jumpTo.getMonth();\n                }\n            }\n            catch (e) {\n                /* istanbul ignore next */\n                e.message = \"Invalid date supplied: \" + jumpTo;\n                self.config.errorHandler(e);\n            }\n            if (triggerChange && self.currentYear !== oldYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            if (triggerChange &&\n                (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n                triggerEvent(\"onMonthChange\");\n            }\n            self.redraw();\n        }\n        /**\n         * The up/down arrow handler for time inputs\n         * @param {Event} e the click event\n         */\n        function timeIncrement(e) {\n            if (~e.target.className.indexOf(\"arrow\"))\n                incrementNumInput(e, e.target.classList.contains(\"arrowUp\") ? 1 : -1);\n        }\n        /**\n         * Increments/decrements the value of input associ-\n         * ated with the up/down arrow by dispatching an\n         * \"increment\" event on the input.\n         *\n         * @param {Event} e the click event\n         * @param {Number} delta the diff (usually 1 or -1)\n         * @param {Element} inputElem the input element\n         */\n        function incrementNumInput(e, delta, inputElem) {\n            var target = e && e.target;\n            var input = inputElem ||\n                (target && target.parentNode && target.parentNode.firstChild);\n            var event = createEvent(\"increment\");\n            event.delta = delta;\n            input && input.dispatchEvent(event);\n        }\n        function build() {\n            var fragment = window.document.createDocumentFragment();\n            self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n            self.calendarContainer.tabIndex = -1;\n            if (!self.config.noCalendar) {\n                fragment.appendChild(buildMonthNav());\n                self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n                if (self.config.weekNumbers) {\n                    var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                    self.innerContainer.appendChild(weekWrapper);\n                    self.weekNumbers = weekNumbers;\n                    self.weekWrapper = weekWrapper;\n                }\n                self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n                self.rContainer.appendChild(buildWeekdays());\n                if (!self.daysContainer) {\n                    self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                    self.daysContainer.tabIndex = -1;\n                }\n                buildDays();\n                self.rContainer.appendChild(self.daysContainer);\n                self.innerContainer.appendChild(self.rContainer);\n                fragment.appendChild(self.innerContainer);\n            }\n            if (self.config.enableTime) {\n                fragment.appendChild(buildTime());\n            }\n            toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n            toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n            toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n            self.calendarContainer.appendChild(fragment);\n            var customAppend = self.config.appendTo !== undefined &&\n                self.config.appendTo.nodeType !== undefined;\n            if (self.config.inline || self.config.static) {\n                self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n                if (self.config.inline) {\n                    if (!customAppend && self.element.parentNode)\n                        self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                    else if (self.config.appendTo !== undefined)\n                        self.config.appendTo.appendChild(self.calendarContainer);\n                }\n                if (self.config.static) {\n                    var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                    if (self.element.parentNode)\n                        self.element.parentNode.insertBefore(wrapper, self.element);\n                    wrapper.appendChild(self.element);\n                    if (self.altInput)\n                        wrapper.appendChild(self.altInput);\n                    wrapper.appendChild(self.calendarContainer);\n                }\n            }\n            if (!self.config.static && !self.config.inline)\n                (self.config.appendTo !== undefined\n                    ? self.config.appendTo\n                    : window.document.body).appendChild(self.calendarContainer);\n        }\n        function createDay(className, date, dayNumber, i) {\n            var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\n            dayElement.dateObj = date;\n            dayElement.$i = i;\n            dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n            if (className.indexOf(\"hidden\") === -1 &&\n                compareDates(date, self.now) === 0) {\n                self.todayDateElem = dayElement;\n                dayElement.classList.add(\"today\");\n                dayElement.setAttribute(\"aria-current\", \"date\");\n            }\n            if (dateIsEnabled) {\n                dayElement.tabIndex = -1;\n                if (isDateSelected(date)) {\n                    dayElement.classList.add(\"selected\");\n                    self.selectedDateElem = dayElement;\n                    if (self.config.mode === \"range\") {\n                        toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                            compareDates(date, self.selectedDates[0], true) === 0);\n                        toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                            compareDates(date, self.selectedDates[1], true) === 0);\n                        if (className === \"nextMonthDay\")\n                            dayElement.classList.add(\"inRange\");\n                    }\n                }\n            }\n            else {\n                dayElement.classList.add(\"flatpickr-disabled\");\n            }\n            if (self.config.mode === \"range\") {\n                if (isDateInRange(date) && !isDateSelected(date))\n                    dayElement.classList.add(\"inRange\");\n            }\n            if (self.weekNumbers &&\n                self.config.showMonths === 1 &&\n                className !== \"prevMonthDay\" &&\n                dayNumber % 7 === 1) {\n                self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n            }\n            triggerEvent(\"onDayCreate\", dayElement);\n            return dayElement;\n        }\n        function focusOnDayElem(targetNode) {\n            targetNode.focus();\n            if (self.config.mode === \"range\")\n                onMouseOver(targetNode);\n        }\n        function getFirstAvailableDay(delta) {\n            var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n            var endMonth = delta > 0 ? self.config.showMonths : -1;\n            for (var m = startMonth; m != endMonth; m += delta) {\n                var month = self.daysContainer.children[m];\n                var startIndex = delta > 0 ? 0 : month.children.length - 1;\n                var endIndex = delta > 0 ? month.children.length : -1;\n                for (var i = startIndex; i != endIndex; i += delta) {\n                    var c = month.children[i];\n                    if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                        return c;\n                }\n            }\n            return undefined;\n        }\n        function getNextAvailableDay(current, delta) {\n            var givenMonth = current.className.indexOf(\"Month\") === -1\n                ? current.dateObj.getMonth()\n                : self.currentMonth;\n            var endMonth = delta > 0 ? self.config.showMonths : -1;\n            var loopDelta = delta > 0 ? 1 : -1;\n            for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n                var month = self.daysContainer.children[m];\n                var startIndex = givenMonth - self.currentMonth === m\n                    ? current.$i + delta\n                    : delta < 0\n                        ? month.children.length - 1\n                        : 0;\n                var numMonthDays = month.children.length;\n                for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                    var c = month.children[i];\n                    if (c.className.indexOf(\"hidden\") === -1 &&\n                        isEnabled(c.dateObj) &&\n                        Math.abs(current.$i - i) >= Math.abs(delta))\n                        return focusOnDayElem(c);\n                }\n            }\n            self.changeMonth(loopDelta);\n            focusOnDay(getFirstAvailableDay(loopDelta), 0);\n            return undefined;\n        }\n        function focusOnDay(current, offset) {\n            var dayFocused = isInView(document.activeElement || document.body);\n            var startElem = current !== undefined\n                ? current\n                : dayFocused\n                    ? document.activeElement\n                    : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                        ? self.selectedDateElem\n                        : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                            ? self.todayDateElem\n                            : getFirstAvailableDay(offset > 0 ? 1 : -1);\n            if (startElem === undefined)\n                return self._input.focus();\n            if (!dayFocused)\n                return focusOnDayElem(startElem);\n            getNextAvailableDay(startElem, offset);\n        }\n        function buildMonthDays(year, month) {\n            var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n            var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12);\n            var daysInMonth = self.utils.getDaysInMonth(month), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n            var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n            // prepend days from the ending of previous month\n            for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n                days.appendChild(createDay(prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n            }\n            // Start at 1 since there is no 0th day\n            for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n                days.appendChild(createDay(\"\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n            }\n            // append days from the next month\n            for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n                (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n                days.appendChild(createDay(nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n            }\n            //updateNavigationCurrentMonth();\n            var dayContainer = createElement(\"div\", \"dayContainer\");\n            dayContainer.appendChild(days);\n            return dayContainer;\n        }\n        function buildDays() {\n            if (self.daysContainer === undefined) {\n                return;\n            }\n            clearNode(self.daysContainer);\n            // TODO: week numbers for each month\n            if (self.weekNumbers)\n                clearNode(self.weekNumbers);\n            var frag = document.createDocumentFragment();\n            for (var i = 0; i < self.config.showMonths; i++) {\n                var d = new Date(self.currentYear, self.currentMonth, 1);\n                d.setMonth(self.currentMonth + i);\n                frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n            }\n            self.daysContainer.appendChild(frag);\n            self.days = self.daysContainer.firstChild;\n            if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n                onMouseOver();\n            }\n        }\n        function buildMonthSwitch() {\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType !== \"dropdown\")\n                return;\n            var shouldBuildMonth = function (month) {\n                if (self.config.minDate !== undefined &&\n                    self.currentYear === self.config.minDate.getFullYear() &&\n                    month < self.config.minDate.getMonth()) {\n                    return false;\n                }\n                return !(self.config.maxDate !== undefined &&\n                    self.currentYear === self.config.maxDate.getFullYear() &&\n                    month > self.config.maxDate.getMonth());\n            };\n            self.monthsDropdownContainer.tabIndex = -1;\n            self.monthsDropdownContainer.innerHTML = \"\";\n            for (var i = 0; i < 12; i++) {\n                if (!shouldBuildMonth(i))\n                    continue;\n                var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n                month.value = new Date(self.currentYear, i).getMonth().toString();\n                month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n                month.tabIndex = -1;\n                if (self.currentMonth === i) {\n                    month.selected = true;\n                }\n                self.monthsDropdownContainer.appendChild(month);\n            }\n        }\n        function buildMonth() {\n            var container = createElement(\"div\", \"flatpickr-month\");\n            var monthNavFragment = window.document.createDocumentFragment();\n            var monthElement;\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                monthElement = createElement(\"span\", \"cur-month\");\n            }\n            else {\n                self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n                bind(self.monthsDropdownContainer, \"change\", function (e) {\n                    var target = e.target;\n                    var selectedMonth = parseInt(target.value, 10);\n                    self.changeMonth(selectedMonth - self.currentMonth);\n                    triggerEvent(\"onMonthChange\");\n                });\n                buildMonthSwitch();\n                monthElement = self.monthsDropdownContainer;\n            }\n            var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n            var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n            yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n            if (self.config.minDate) {\n                yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n            }\n            if (self.config.maxDate) {\n                yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n                yearElement.disabled =\n                    !!self.config.minDate &&\n                        self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n            }\n            var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n            currentMonth.appendChild(monthElement);\n            currentMonth.appendChild(yearInput);\n            monthNavFragment.appendChild(currentMonth);\n            container.appendChild(monthNavFragment);\n            return {\n                container: container,\n                yearElement: yearElement,\n                monthElement: monthElement\n            };\n        }\n        function buildMonths() {\n            clearNode(self.monthNav);\n            self.monthNav.appendChild(self.prevMonthNav);\n            if (self.config.showMonths) {\n                self.yearElements = [];\n                self.monthElements = [];\n            }\n            for (var m = self.config.showMonths; m--;) {\n                var month = buildMonth();\n                self.yearElements.push(month.yearElement);\n                self.monthElements.push(month.monthElement);\n                self.monthNav.appendChild(month.container);\n            }\n            self.monthNav.appendChild(self.nextMonthNav);\n        }\n        function buildMonthNav() {\n            self.monthNav = createElement(\"div\", \"flatpickr-months\");\n            self.yearElements = [];\n            self.monthElements = [];\n            self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n            self.prevMonthNav.innerHTML = self.config.prevArrow;\n            self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n            self.nextMonthNav.innerHTML = self.config.nextArrow;\n            buildMonths();\n            Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n                get: function () { return self.__hidePrevMonthArrow; },\n                set: function (bool) {\n                    if (self.__hidePrevMonthArrow !== bool) {\n                        toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                        self.__hidePrevMonthArrow = bool;\n                    }\n                }\n            });\n            Object.defineProperty(self, \"_hideNextMonthArrow\", {\n                get: function () { return self.__hideNextMonthArrow; },\n                set: function (bool) {\n                    if (self.__hideNextMonthArrow !== bool) {\n                        toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                        self.__hideNextMonthArrow = bool;\n                    }\n                }\n            });\n            self.currentYearElement = self.yearElements[0];\n            updateNavigationCurrentMonth();\n            return self.monthNav;\n        }\n        function buildTime() {\n            self.calendarContainer.classList.add(\"hasTime\");\n            if (self.config.noCalendar)\n                self.calendarContainer.classList.add(\"noCalendar\");\n            self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n            self.timeContainer.tabIndex = -1;\n            var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n            var hourInput = createNumberInput(\"flatpickr-hour\", {\n                \"aria-label\": self.l10n.hourAriaLabel\n            });\n            self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n            var minuteInput = createNumberInput(\"flatpickr-minute\", {\n                \"aria-label\": self.l10n.minuteAriaLabel\n            });\n            self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n            self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n            self.hourElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getHours()\n                : self.config.time_24hr\n                    ? self.config.defaultHour\n                    : military2ampm(self.config.defaultHour));\n            self.minuteElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getMinutes()\n                : self.config.defaultMinute);\n            self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n            self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n            self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n            self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n            self.minuteElement.setAttribute(\"min\", \"0\");\n            self.minuteElement.setAttribute(\"max\", \"59\");\n            self.timeContainer.appendChild(hourInput);\n            self.timeContainer.appendChild(separator);\n            self.timeContainer.appendChild(minuteInput);\n            if (self.config.time_24hr)\n                self.timeContainer.classList.add(\"time24hr\");\n            if (self.config.enableSeconds) {\n                self.timeContainer.classList.add(\"hasSeconds\");\n                var secondInput = createNumberInput(\"flatpickr-second\");\n                self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n                self.secondElement.value = pad(self.latestSelectedDateObj\n                    ? self.latestSelectedDateObj.getSeconds()\n                    : self.config.defaultSeconds);\n                self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n                self.secondElement.setAttribute(\"min\", \"0\");\n                self.secondElement.setAttribute(\"max\", \"59\");\n                self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n                self.timeContainer.appendChild(secondInput);\n            }\n            if (!self.config.time_24hr) {\n                // add self.amPM if appropriate\n                self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                    ? self.hourElement.value\n                    : self.config.defaultHour) > 11)]);\n                self.amPM.title = self.l10n.toggleTitle;\n                self.amPM.tabIndex = -1;\n                self.timeContainer.appendChild(self.amPM);\n            }\n            return self.timeContainer;\n        }\n        function buildWeekdays() {\n            if (!self.weekdayContainer)\n                self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n            else\n                clearNode(self.weekdayContainer);\n            for (var i = self.config.showMonths; i--;) {\n                var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n                self.weekdayContainer.appendChild(container);\n            }\n            updateWeekdays();\n            return self.weekdayContainer;\n        }\n        function updateWeekdays() {\n            if (!self.weekdayContainer) {\n                return;\n            }\n            var firstDayOfWeek = self.l10n.firstDayOfWeek;\n            var weekdays = self.l10n.weekdays.shorthand.slice();\n            if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n                weekdays = weekdays.splice(firstDayOfWeek, weekdays.length).concat(weekdays.splice(0, firstDayOfWeek));\n            }\n            for (var i = self.config.showMonths; i--;) {\n                self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n            }\n        }\n        /* istanbul ignore next */\n        function buildWeeks() {\n            self.calendarContainer.classList.add(\"hasWeeks\");\n            var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n            weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n            var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n            weekWrapper.appendChild(weekNumbers);\n            return {\n                weekWrapper: weekWrapper,\n                weekNumbers: weekNumbers\n            };\n        }\n        function changeMonth(value, isOffset) {\n            if (isOffset === void 0) { isOffset = true; }\n            var delta = isOffset ? value : value - self.currentMonth;\n            if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n                (delta > 0 && self._hideNextMonthArrow === true))\n                return;\n            self.currentMonth += delta;\n            if (self.currentMonth < 0 || self.currentMonth > 11) {\n                self.currentYear += self.currentMonth > 11 ? 1 : -1;\n                self.currentMonth = (self.currentMonth + 12) % 12;\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            buildDays();\n            triggerEvent(\"onMonthChange\");\n            updateNavigationCurrentMonth();\n        }\n        function clear(triggerChangeEvent, toInitial) {\n            if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n            if (toInitial === void 0) { toInitial = true; }\n            self.input.value = \"\";\n            if (self.altInput !== undefined)\n                self.altInput.value = \"\";\n            if (self.mobileInput !== undefined)\n                self.mobileInput.value = \"\";\n            self.selectedDates = [];\n            self.latestSelectedDateObj = undefined;\n            if (toInitial === true) {\n                self.currentYear = self._initialDate.getFullYear();\n                self.currentMonth = self._initialDate.getMonth();\n            }\n            self.showTimeInput = false;\n            if (self.config.enableTime === true) {\n                setDefaultHours();\n            }\n            self.redraw();\n            if (triggerChangeEvent)\n                // triggerChangeEvent is true (default) or an Event\n                triggerEvent(\"onChange\");\n        }\n        function close() {\n            self.isOpen = false;\n            if (!self.isMobile) {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.classList.remove(\"open\");\n                }\n                if (self._input !== undefined) {\n                    self._input.classList.remove(\"active\");\n                }\n            }\n            triggerEvent(\"onClose\");\n        }\n        function destroy() {\n            if (self.config !== undefined)\n                triggerEvent(\"onDestroy\");\n            for (var i = self._handlers.length; i--;) {\n                var h = self._handlers[i];\n                h.element.removeEventListener(h.event, h.handler, h.options);\n            }\n            self._handlers = [];\n            if (self.mobileInput) {\n                if (self.mobileInput.parentNode)\n                    self.mobileInput.parentNode.removeChild(self.mobileInput);\n                self.mobileInput = undefined;\n            }\n            else if (self.calendarContainer && self.calendarContainer.parentNode) {\n                if (self.config.static && self.calendarContainer.parentNode) {\n                    var wrapper = self.calendarContainer.parentNode;\n                    wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                    if (wrapper.parentNode) {\n                        while (wrapper.firstChild)\n                            wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                        wrapper.parentNode.removeChild(wrapper);\n                    }\n                }\n                else\n                    self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n            }\n            if (self.altInput) {\n                self.input.type = \"text\";\n                if (self.altInput.parentNode)\n                    self.altInput.parentNode.removeChild(self.altInput);\n                delete self.altInput;\n            }\n            if (self.input) {\n                self.input.type = self.input._type;\n                self.input.classList.remove(\"flatpickr-input\");\n                self.input.removeAttribute(\"readonly\");\n                self.input.value = \"\";\n            }\n            [\n                \"_showTimeInput\",\n                \"latestSelectedDateObj\",\n                \"_hideNextMonthArrow\",\n                \"_hidePrevMonthArrow\",\n                \"__hideNextMonthArrow\",\n                \"__hidePrevMonthArrow\",\n                \"isMobile\",\n                \"isOpen\",\n                \"selectedDateElem\",\n                \"minDateHasTime\",\n                \"maxDateHasTime\",\n                \"days\",\n                \"daysContainer\",\n                \"_input\",\n                \"_positionElement\",\n                \"innerContainer\",\n                \"rContainer\",\n                \"monthNav\",\n                \"todayDateElem\",\n                \"calendarContainer\",\n                \"weekdayContainer\",\n                \"prevMonthNav\",\n                \"nextMonthNav\",\n                \"monthsDropdownContainer\",\n                \"currentMonthElement\",\n                \"currentYearElement\",\n                \"navigationCurrentMonth\",\n                \"selectedDateElem\",\n                \"config\",\n            ].forEach(function (k) {\n                try {\n                    delete self[k];\n                }\n                catch (_) { }\n            });\n        }\n        function isCalendarElem(elem) {\n            if (self.config.appendTo && self.config.appendTo.contains(elem))\n                return true;\n            return self.calendarContainer.contains(elem);\n        }\n        function documentClick(e) {\n            if (self.isOpen && !self.config.inline) {\n                var eventTarget_1 = getEventTarget(e);\n                var isCalendarElement = isCalendarElem(eventTarget_1);\n                var isInput = eventTarget_1 === self.input ||\n                    eventTarget_1 === self.altInput ||\n                    self.element.contains(eventTarget_1) ||\n                    // web components\n                    // e.path is not present in all browsers. circumventing typechecks\n                    (e.path &&\n                        e.path.indexOf &&\n                        (~e.path.indexOf(self.input) ||\n                            ~e.path.indexOf(self.altInput)));\n                var lostFocus = e.type === \"blur\"\n                    ? isInput &&\n                        e.relatedTarget &&\n                        !isCalendarElem(e.relatedTarget)\n                    : !isInput &&\n                        !isCalendarElement &&\n                        !isCalendarElem(e.relatedTarget);\n                var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                    return elem.contains(eventTarget_1);\n                });\n                if (lostFocus && isIgnored) {\n                    if (self.timeContainer !== undefined &&\n                        self.minuteElement !== undefined &&\n                        self.hourElement !== undefined) {\n                        updateTime();\n                    }\n                    self.close();\n                    if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n                        self.clear(false);\n                        self.redraw();\n                    }\n                }\n            }\n        }\n        function changeYear(newYear) {\n            if (!newYear ||\n                (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n                (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n                return;\n            var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n            self.currentYear = newYearNum || self.currentYear;\n            if (self.config.maxDate &&\n                self.currentYear === self.config.maxDate.getFullYear()) {\n                self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n            }\n            else if (self.config.minDate &&\n                self.currentYear === self.config.minDate.getFullYear()) {\n                self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n            }\n            if (isNewYear) {\n                self.redraw();\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n        }\n        function isEnabled(date, timeless) {\n            if (timeless === void 0) { timeless = true; }\n            var dateToCheck = self.parseDate(date, undefined, timeless); // timeless\n            if ((self.config.minDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n                (self.config.maxDate &&\n                    dateToCheck &&\n                    compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n                return false;\n            if (self.config.enable.length === 0 && self.config.disable.length === 0)\n                return true;\n            if (dateToCheck === undefined)\n                return false;\n            var bool = self.config.enable.length > 0, array = bool ? self.config.enable : self.config.disable;\n            for (var i = 0, d = void 0; i < array.length; i++) {\n                d = array[i];\n                if (typeof d === \"function\" &&\n                    d(dateToCheck) // disabled by function\n                )\n                    return bool;\n                else if (d instanceof Date &&\n                    dateToCheck !== undefined &&\n                    d.getTime() === dateToCheck.getTime())\n                    // disabled by date\n                    return bool;\n                else if (typeof d === \"string\" && dateToCheck !== undefined) {\n                    // disabled by date string\n                    var parsed = self.parseDate(d, undefined, true);\n                    return parsed && parsed.getTime() === dateToCheck.getTime()\n                        ? bool\n                        : !bool;\n                }\n                else if (\n                // disabled by range\n                typeof d === \"object\" &&\n                    dateToCheck !== undefined &&\n                    d.from &&\n                    d.to &&\n                    dateToCheck.getTime() >= d.from.getTime() &&\n                    dateToCheck.getTime() <= d.to.getTime())\n                    return bool;\n            }\n            return !bool;\n        }\n        function isInView(elem) {\n            if (self.daysContainer !== undefined)\n                return (elem.className.indexOf(\"hidden\") === -1 &&\n                    self.daysContainer.contains(elem));\n            return false;\n        }\n        function onKeyDown(e) {\n            // e.key                      e.keyCode\n            // \"Backspace\"                        8\n            // \"Tab\"                              9\n            // \"Enter\"                           13\n            // \"Escape\"     (IE \"Esc\")           27\n            // \"ArrowLeft\"  (IE \"Left\")          37\n            // \"ArrowUp\"    (IE \"Up\")            38\n            // \"ArrowRight\" (IE \"Right\")         39\n            // \"ArrowDown\"  (IE \"Down\")          40\n            // \"Delete\"     (IE \"Del\")           46\n            var isInput = e.target === self._input;\n            var allowInput = self.config.allowInput;\n            var allowKeydown = self.isOpen && (!allowInput || !isInput);\n            var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n            if (e.keyCode === 13 && isInput) {\n                if (allowInput) {\n                    self.setDate(self._input.value, true, e.target === self.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                    return e.target.blur();\n                }\n                else {\n                    self.open();\n                }\n            }\n            else if (isCalendarElem(e.target) ||\n                allowKeydown ||\n                allowInlineKeydown) {\n                var isTimeObj = !!self.timeContainer &&\n                    self.timeContainer.contains(e.target);\n                switch (e.keyCode) {\n                    case 13:\n                        if (isTimeObj) {\n                            e.preventDefault();\n                            updateTime();\n                            focusAndClose();\n                        }\n                        else\n                            selectDate(e);\n                        break;\n                    case 27: // escape\n                        e.preventDefault();\n                        focusAndClose();\n                        break;\n                    case 8:\n                    case 46:\n                        if (isInput && !self.config.allowInput) {\n                            e.preventDefault();\n                            self.clear();\n                        }\n                        break;\n                    case 37:\n                    case 39:\n                        if (!isTimeObj && !isInput) {\n                            e.preventDefault();\n                            if (self.daysContainer !== undefined &&\n                                (allowInput === false ||\n                                    (document.activeElement && isInView(document.activeElement)))) {\n                                var delta_1 = e.keyCode === 39 ? 1 : -1;\n                                if (!e.ctrlKey)\n                                    focusOnDay(undefined, delta_1);\n                                else {\n                                    e.stopPropagation();\n                                    changeMonth(delta_1);\n                                    focusOnDay(getFirstAvailableDay(1), 0);\n                                }\n                            }\n                        }\n                        else if (self.hourElement)\n                            self.hourElement.focus();\n                        break;\n                    case 38:\n                    case 40:\n                        e.preventDefault();\n                        var delta = e.keyCode === 40 ? 1 : -1;\n                        if ((self.daysContainer && e.target.$i !== undefined) ||\n                            e.target === self.input ||\n                            e.target === self.altInput) {\n                            if (e.ctrlKey) {\n                                e.stopPropagation();\n                                changeYear(self.currentYear - delta);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                            else if (!isTimeObj)\n                                focusOnDay(undefined, delta * 7);\n                        }\n                        else if (e.target === self.currentYearElement) {\n                            changeYear(self.currentYear - delta);\n                        }\n                        else if (self.config.enableTime) {\n                            if (!isTimeObj && self.hourElement)\n                                self.hourElement.focus();\n                            updateTime(e);\n                            self._debouncedChange();\n                        }\n                        break;\n                    case 9:\n                        if (isTimeObj) {\n                            var elems = [\n                                self.hourElement,\n                                self.minuteElement,\n                                self.secondElement,\n                                self.amPM,\n                            ]\n                                .concat(self.pluginElements)\n                                .filter(function (x) { return x; });\n                            var i = elems.indexOf(e.target);\n                            if (i !== -1) {\n                                var target = elems[i + (e.shiftKey ? -1 : 1)];\n                                e.preventDefault();\n                                (target || self._input).focus();\n                            }\n                        }\n                        else if (!self.config.noCalendar &&\n                            self.daysContainer &&\n                            self.daysContainer.contains(e.target) &&\n                            e.shiftKey) {\n                            e.preventDefault();\n                            self._input.focus();\n                        }\n                        break;\n                    default:\n                        break;\n                }\n            }\n            if (self.amPM !== undefined && e.target === self.amPM) {\n                switch (e.key) {\n                    case self.l10n.amPM[0].charAt(0):\n                    case self.l10n.amPM[0].charAt(0).toLowerCase():\n                        self.amPM.textContent = self.l10n.amPM[0];\n                        setHoursFromInputs();\n                        updateValue();\n                        break;\n                    case self.l10n.amPM[1].charAt(0):\n                    case self.l10n.amPM[1].charAt(0).toLowerCase():\n                        self.amPM.textContent = self.l10n.amPM[1];\n                        setHoursFromInputs();\n                        updateValue();\n                        break;\n                }\n            }\n            if (isInput || isCalendarElem(e.target)) {\n                triggerEvent(\"onKeyDown\", e);\n            }\n        }\n        function onMouseOver(elem) {\n            if (self.selectedDates.length !== 1 ||\n                (elem &&\n                    (!elem.classList.contains(\"flatpickr-day\") ||\n                        elem.classList.contains(\"flatpickr-disabled\"))))\n                return;\n            var hoverDate = elem\n                ? elem.dateObj.getTime()\n                : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n            var containsDisabled = false;\n            var minRange = 0, maxRange = 0;\n            for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n                if (!isEnabled(new Date(t), true)) {\n                    containsDisabled =\n                        containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                    if (t < initialDate && (!minRange || t > minRange))\n                        minRange = t;\n                    else if (t > initialDate && (!maxRange || t < maxRange))\n                        maxRange = t;\n                }\n            }\n            for (var m = 0; m < self.config.showMonths; m++) {\n                var month = self.daysContainer.children[m];\n                var _loop_1 = function (i, l) {\n                    var dayElem = month.children[i], date = dayElem.dateObj;\n                    var timestamp = date.getTime();\n                    var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                        (maxRange > 0 && timestamp > maxRange);\n                    if (outOfRange) {\n                        dayElem.classList.add(\"notAllowed\");\n                        [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                            dayElem.classList.remove(c);\n                        });\n                        return \"continue\";\n                    }\n                    else if (containsDisabled && !outOfRange)\n                        return \"continue\";\n                    [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                        dayElem.classList.remove(c);\n                    });\n                    if (elem !== undefined) {\n                        elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                            ? \"startRange\"\n                            : \"endRange\");\n                        if (initialDate < hoverDate && timestamp === initialDate)\n                            dayElem.classList.add(\"startRange\");\n                        else if (initialDate > hoverDate && timestamp === initialDate)\n                            dayElem.classList.add(\"endRange\");\n                        if (timestamp >= minRange &&\n                            (maxRange === 0 || timestamp <= maxRange) &&\n                            isBetween(timestamp, initialDate, hoverDate))\n                            dayElem.classList.add(\"inRange\");\n                    }\n                };\n                for (var i = 0, l = month.children.length; i < l; i++) {\n                    _loop_1(i, l);\n                }\n            }\n        }\n        function onResize() {\n            if (self.isOpen && !self.config.static && !self.config.inline)\n                positionCalendar();\n        }\n        function setDefaultTime() {\n            self.setDate(self.config.minDate !== undefined\n                ? new Date(self.config.minDate.getTime())\n                : new Date(), true);\n            setDefaultHours();\n            updateValue();\n        }\n        function open(e, positionElement) {\n            if (positionElement === void 0) { positionElement = self._positionElement; }\n            if (self.isMobile === true) {\n                if (e) {\n                    e.preventDefault();\n                    e.target && e.target.blur();\n                }\n                if (self.mobileInput !== undefined) {\n                    self.mobileInput.focus();\n                    self.mobileInput.click();\n                }\n                triggerEvent(\"onOpen\");\n                return;\n            }\n            if (self._input.disabled || self.config.inline)\n                return;\n            var wasOpen = self.isOpen;\n            self.isOpen = true;\n            if (!wasOpen) {\n                self.calendarContainer.classList.add(\"open\");\n                self._input.classList.add(\"active\");\n                triggerEvent(\"onOpen\");\n                positionCalendar(positionElement);\n            }\n            if (self.config.enableTime === true && self.config.noCalendar === true) {\n                if (self.selectedDates.length === 0) {\n                    setDefaultTime();\n                }\n                if (self.config.allowInput === false &&\n                    (e === undefined ||\n                        !self.timeContainer.contains(e.relatedTarget))) {\n                    setTimeout(function () { return self.hourElement.select(); }, 50);\n                }\n            }\n        }\n        function minMaxDateSetter(type) {\n            return function (date) {\n                var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n                var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n                if (dateObj !== undefined) {\n                    self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                        dateObj.getHours() > 0 ||\n                            dateObj.getMinutes() > 0 ||\n                            dateObj.getSeconds() > 0;\n                }\n                if (self.selectedDates) {\n                    self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                    if (!self.selectedDates.length && type === \"min\")\n                        setHoursFromDate(dateObj);\n                    updateValue();\n                }\n                if (self.daysContainer) {\n                    redraw();\n                    if (dateObj !== undefined)\n                        self.currentYearElement[type] = dateObj.getFullYear().toString();\n                    else\n                        self.currentYearElement.removeAttribute(type);\n                    self.currentYearElement.disabled =\n                        !!inverseDateObj &&\n                            dateObj !== undefined &&\n                            inverseDateObj.getFullYear() === dateObj.getFullYear();\n                }\n            };\n        }\n        function parseConfig() {\n            var boolOpts = [\n                \"wrap\",\n                \"weekNumbers\",\n                \"allowInput\",\n                \"clickOpens\",\n                \"time_24hr\",\n                \"enableTime\",\n                \"noCalendar\",\n                \"altInput\",\n                \"shorthandCurrentMonth\",\n                \"inline\",\n                \"static\",\n                \"enableSeconds\",\n                \"disableMobile\",\n            ];\n            var userConfig = __assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\n            var formats = {};\n            self.config.parseDate = userConfig.parseDate;\n            self.config.formatDate = userConfig.formatDate;\n            Object.defineProperty(self.config, \"enable\", {\n                get: function () { return self.config._enable; },\n                set: function (dates) {\n                    self.config._enable = parseDateRules(dates);\n                }\n            });\n            Object.defineProperty(self.config, \"disable\", {\n                get: function () { return self.config._disable; },\n                set: function (dates) {\n                    self.config._disable = parseDateRules(dates);\n                }\n            });\n            var timeMode = userConfig.mode === \"time\";\n            if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n                var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaults.dateFormat;\n                formats.dateFormat =\n                    userConfig.noCalendar || timeMode\n                        ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                        : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n            }\n            if (userConfig.altInput &&\n                (userConfig.enableTime || timeMode) &&\n                !userConfig.altFormat) {\n                var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaults.altFormat;\n                formats.altFormat =\n                    userConfig.noCalendar || timeMode\n                        ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                        : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n            }\n            if (!userConfig.altInputClass) {\n                self.config.altInputClass =\n                    self.input.className + \" \" + self.config.altInputClass;\n            }\n            Object.defineProperty(self.config, \"minDate\", {\n                get: function () { return self.config._minDate; },\n                set: minMaxDateSetter(\"min\")\n            });\n            Object.defineProperty(self.config, \"maxDate\", {\n                get: function () { return self.config._maxDate; },\n                set: minMaxDateSetter(\"max\")\n            });\n            var minMaxTimeSetter = function (type) { return function (val) {\n                self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n            }; };\n            Object.defineProperty(self.config, \"minTime\", {\n                get: function () { return self.config._minTime; },\n                set: minMaxTimeSetter(\"min\")\n            });\n            Object.defineProperty(self.config, \"maxTime\", {\n                get: function () { return self.config._maxTime; },\n                set: minMaxTimeSetter(\"max\")\n            });\n            if (userConfig.mode === \"time\") {\n                self.config.noCalendar = true;\n                self.config.enableTime = true;\n            }\n            Object.assign(self.config, formats, userConfig);\n            for (var i = 0; i < boolOpts.length; i++)\n                self.config[boolOpts[i]] =\n                    self.config[boolOpts[i]] === true ||\n                        self.config[boolOpts[i]] === \"true\";\n            HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n                self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n            });\n            self.isMobile =\n                !self.config.disableMobile &&\n                    !self.config.inline &&\n                    self.config.mode === \"single\" &&\n                    !self.config.disable.length &&\n                    !self.config.enable.length &&\n                    !self.config.weekNumbers &&\n                    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n            for (var i = 0; i < self.config.plugins.length; i++) {\n                var pluginConf = self.config.plugins[i](self) || {};\n                for (var key in pluginConf) {\n                    if (HOOKS.indexOf(key) > -1) {\n                        self.config[key] = arrayify(pluginConf[key])\n                            .map(bindToInstance)\n                            .concat(self.config[key]);\n                    }\n                    else if (typeof userConfig[key] === \"undefined\")\n                        self.config[key] = pluginConf[key];\n                }\n            }\n            triggerEvent(\"onParseConfig\");\n        }\n        function setupLocale() {\n            if (typeof self.config.locale !== \"object\" &&\n                typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n                self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n            self.l10n = __assign({}, flatpickr.l10ns[\"default\"], (typeof self.config.locale === \"object\"\n                ? self.config.locale\n                : self.config.locale !== \"default\"\n                    ? flatpickr.l10ns[self.config.locale]\n                    : undefined));\n            tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n            var userConfig = __assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\n            if (userConfig.time_24hr === undefined &&\n                flatpickr.defaultConfig.time_24hr === undefined) {\n                self.config.time_24hr = self.l10n.time_24hr;\n            }\n            self.formatDate = createDateFormatter(self);\n            self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n        }\n        function positionCalendar(customPositionElement) {\n            if (self.calendarContainer === undefined)\n                return;\n            triggerEvent(\"onPreCalendarPosition\");\n            var positionElement = customPositionElement || self._positionElement;\n            var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n                (configPosVertical !== \"below\" &&\n                    distanceFromBottom < calendarHeight &&\n                    inputBounds.top > calendarHeight);\n            var top = window.pageYOffset +\n                inputBounds.top +\n                (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n            toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n            toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n            if (self.config.inline)\n                return;\n            var left = window.pageXOffset +\n                inputBounds.left -\n                (configPosHorizontal != null && configPosHorizontal === \"center\"\n                    ? (calendarWidth - inputBounds.width) / 2\n                    : 0);\n            var right = window.document.body.offsetWidth - (window.pageXOffset + inputBounds.right);\n            var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n            var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n            toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n            if (self.config.static)\n                return;\n            self.calendarContainer.style.top = top + \"px\";\n            if (!rightMost) {\n                self.calendarContainer.style.left = left + \"px\";\n                self.calendarContainer.style.right = \"auto\";\n            }\n            else if (!centerMost) {\n                self.calendarContainer.style.left = \"auto\";\n                self.calendarContainer.style.right = right + \"px\";\n            }\n            else {\n                var doc = document.styleSheets[0];\n                // some testing environments don't have css support\n                if (doc === undefined)\n                    return;\n                var bodyWidth = window.document.body.offsetWidth;\n                var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n                var centerBefore = \".flatpickr-calendar.centerMost:before\";\n                var centerAfter = \".flatpickr-calendar.centerMost:after\";\n                var centerIndex = doc.cssRules.length;\n                var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n                toggleClass(self.calendarContainer, \"rightMost\", false);\n                toggleClass(self.calendarContainer, \"centerMost\", true);\n                doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n                self.calendarContainer.style.left = centerLeft + \"px\";\n                self.calendarContainer.style.right = \"auto\";\n            }\n        }\n        function redraw() {\n            if (self.config.noCalendar || self.isMobile)\n                return;\n            updateNavigationCurrentMonth();\n            buildDays();\n        }\n        function focusAndClose() {\n            self._input.focus();\n            if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n                navigator.msMaxTouchPoints !== undefined) {\n                // hack - bugs in the way IE handles focus keeps the calendar open\n                setTimeout(self.close, 0);\n            }\n            else {\n                self.close();\n            }\n        }\n        function selectDate(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            var isSelectable = function (day) {\n                return day.classList &&\n                    day.classList.contains(\"flatpickr-day\") &&\n                    !day.classList.contains(\"flatpickr-disabled\") &&\n                    !day.classList.contains(\"notAllowed\");\n            };\n            var t = findParent(e.target, isSelectable);\n            if (t === undefined)\n                return;\n            var target = t;\n            var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n            var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n                selectedDate.getMonth() >\n                    self.currentMonth + self.config.showMonths - 1) &&\n                self.config.mode !== \"range\";\n            self.selectedDateElem = target;\n            if (self.config.mode === \"single\")\n                self.selectedDates = [selectedDate];\n            else if (self.config.mode === \"multiple\") {\n                var selectedIndex = isDateSelected(selectedDate);\n                if (selectedIndex)\n                    self.selectedDates.splice(parseInt(selectedIndex), 1);\n                else\n                    self.selectedDates.push(selectedDate);\n            }\n            else if (self.config.mode === \"range\") {\n                if (self.selectedDates.length === 2) {\n                    self.clear(false, false);\n                }\n                self.latestSelectedDateObj = selectedDate;\n                self.selectedDates.push(selectedDate);\n                // unless selecting same date twice, sort ascendingly\n                if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                    self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n            }\n            setHoursFromInputs();\n            if (shouldChangeMonth) {\n                var isNewYear = self.currentYear !== selectedDate.getFullYear();\n                self.currentYear = selectedDate.getFullYear();\n                self.currentMonth = selectedDate.getMonth();\n                if (isNewYear) {\n                    triggerEvent(\"onYearChange\");\n                    buildMonthSwitch();\n                }\n                triggerEvent(\"onMonthChange\");\n            }\n            updateNavigationCurrentMonth();\n            buildDays();\n            updateValue();\n            if (self.config.enableTime)\n                setTimeout(function () { return (self.showTimeInput = true); }, 50);\n            // maintain focus\n            if (!shouldChangeMonth &&\n                self.config.mode !== \"range\" &&\n                self.config.showMonths === 1)\n                focusOnDayElem(target);\n            else if (self.selectedDateElem !== undefined &&\n                self.hourElement === undefined) {\n                self.selectedDateElem && self.selectedDateElem.focus();\n            }\n            if (self.hourElement !== undefined)\n                self.hourElement !== undefined && self.hourElement.focus();\n            if (self.config.closeOnSelect) {\n                var single = self.config.mode === \"single\" && !self.config.enableTime;\n                var range = self.config.mode === \"range\" &&\n                    self.selectedDates.length === 2 &&\n                    !self.config.enableTime;\n                if (single || range) {\n                    focusAndClose();\n                }\n            }\n            triggerChange();\n        }\n        var CALLBACKS = {\n            locale: [setupLocale, updateWeekdays],\n            showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n            minDate: [jumpToDate],\n            maxDate: [jumpToDate]\n        };\n        function set(option, value) {\n            if (option !== null && typeof option === \"object\") {\n                Object.assign(self.config, option);\n                for (var key in option) {\n                    if (CALLBACKS[key] !== undefined)\n                        CALLBACKS[key].forEach(function (x) { return x(); });\n                }\n            }\n            else {\n                self.config[option] = value;\n                if (CALLBACKS[option] !== undefined)\n                    CALLBACKS[option].forEach(function (x) { return x(); });\n                else if (HOOKS.indexOf(option) > -1)\n                    self.config[option] = arrayify(value);\n            }\n            self.redraw();\n            updateValue(false);\n        }\n        function setSelectedDate(inputDate, format) {\n            var dates = [];\n            if (inputDate instanceof Array)\n                dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n            else if (inputDate instanceof Date || typeof inputDate === \"number\")\n                dates = [self.parseDate(inputDate, format)];\n            else if (typeof inputDate === \"string\") {\n                switch (self.config.mode) {\n                    case \"single\":\n                    case \"time\":\n                        dates = [self.parseDate(inputDate, format)];\n                        break;\n                    case \"multiple\":\n                        dates = inputDate\n                            .split(self.config.conjunction)\n                            .map(function (date) { return self.parseDate(date, format); });\n                        break;\n                    case \"range\":\n                        dates = inputDate\n                            .split(self.l10n.rangeSeparator)\n                            .map(function (date) { return self.parseDate(date, format); });\n                        break;\n                    default:\n                        break;\n                }\n            }\n            else\n                self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n            self.selectedDates = dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); });\n            if (self.config.mode === \"range\")\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        function setDate(date, triggerChange, format) {\n            if (triggerChange === void 0) { triggerChange = false; }\n            if (format === void 0) { format = self.config.dateFormat; }\n            if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n                return self.clear(triggerChange);\n            setSelectedDate(date, format);\n            self.showTimeInput = self.selectedDates.length > 0;\n            self.latestSelectedDateObj =\n                self.selectedDates[self.selectedDates.length - 1];\n            self.redraw();\n            jumpToDate();\n            setHoursFromDate();\n            if (self.selectedDates.length === 0) {\n                self.clear(false);\n            }\n            updateValue(triggerChange);\n            if (triggerChange)\n                triggerEvent(\"onChange\");\n        }\n        function parseDateRules(arr) {\n            return arr\n                .slice()\n                .map(function (rule) {\n                if (typeof rule === \"string\" ||\n                    typeof rule === \"number\" ||\n                    rule instanceof Date) {\n                    return self.parseDate(rule, undefined, true);\n                }\n                else if (rule &&\n                    typeof rule === \"object\" &&\n                    rule.from &&\n                    rule.to)\n                    return {\n                        from: self.parseDate(rule.from, undefined),\n                        to: self.parseDate(rule.to, undefined)\n                    };\n                return rule;\n            })\n                .filter(function (x) { return x; }); // remove falsy values\n        }\n        function setupDates() {\n            self.selectedDates = [];\n            self.now = self.parseDate(self.config.now) || new Date();\n            // Workaround IE11 setting placeholder as the input's value\n            var preloadedDate = self.config.defaultDate ||\n                ((self.input.nodeName === \"INPUT\" ||\n                    self.input.nodeName === \"TEXTAREA\") &&\n                    self.input.placeholder &&\n                    self.input.value === self.input.placeholder\n                    ? null\n                    : self.input.value);\n            if (preloadedDate)\n                setSelectedDate(preloadedDate, self.config.dateFormat);\n            self._initialDate =\n                self.selectedDates.length > 0\n                    ? self.selectedDates[0]\n                    : self.config.minDate &&\n                        self.config.minDate.getTime() > self.now.getTime()\n                        ? self.config.minDate\n                        : self.config.maxDate &&\n                            self.config.maxDate.getTime() < self.now.getTime()\n                            ? self.config.maxDate\n                            : self.now;\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n            if (self.selectedDates.length > 0)\n                self.latestSelectedDateObj = self.selectedDates[0];\n            if (self.config.minTime !== undefined)\n                self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n            if (self.config.maxTime !== undefined)\n                self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n            self.minDateHasTime =\n                !!self.config.minDate &&\n                    (self.config.minDate.getHours() > 0 ||\n                        self.config.minDate.getMinutes() > 0 ||\n                        self.config.minDate.getSeconds() > 0);\n            self.maxDateHasTime =\n                !!self.config.maxDate &&\n                    (self.config.maxDate.getHours() > 0 ||\n                        self.config.maxDate.getMinutes() > 0 ||\n                        self.config.maxDate.getSeconds() > 0);\n            Object.defineProperty(self, \"showTimeInput\", {\n                get: function () { return self._showTimeInput; },\n                set: function (bool) {\n                    self._showTimeInput = bool;\n                    if (self.calendarContainer)\n                        toggleClass(self.calendarContainer, \"showTimeInput\", bool);\n                    self.isOpen && positionCalendar();\n                }\n            });\n        }\n        function setupInputs() {\n            self.input = self.config.wrap\n                ? element.querySelector(\"[data-input]\")\n                : element;\n            /* istanbul ignore next */\n            if (!self.input) {\n                self.config.errorHandler(new Error(\"Invalid input element specified\"));\n                return;\n            }\n            // hack: store previous type to restore it after destroy()\n            self.input._type = self.input.type;\n            self.input.type = \"text\";\n            self.input.classList.add(\"flatpickr-input\");\n            self._input = self.input;\n            if (self.config.altInput) {\n                // replicate self.element\n                self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n                self._input = self.altInput;\n                self.altInput.placeholder = self.input.placeholder;\n                self.altInput.disabled = self.input.disabled;\n                self.altInput.required = self.input.required;\n                self.altInput.tabIndex = self.input.tabIndex;\n                self.altInput.type = \"text\";\n                self.input.setAttribute(\"type\", \"hidden\");\n                if (!self.config.static && self.input.parentNode)\n                    self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n            }\n            if (!self.config.allowInput)\n                self._input.setAttribute(\"readonly\", \"readonly\");\n            self._positionElement = self.config.positionElement || self._input;\n        }\n        function setupMobile() {\n            var inputType = self.config.enableTime\n                ? self.config.noCalendar\n                    ? \"time\"\n                    : \"datetime-local\"\n                : \"date\";\n            self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n            self.mobileInput.step = self.input.getAttribute(\"step\") || \"any\";\n            self.mobileInput.tabIndex = 1;\n            self.mobileInput.type = inputType;\n            self.mobileInput.disabled = self.input.disabled;\n            self.mobileInput.required = self.input.required;\n            self.mobileInput.placeholder = self.input.placeholder;\n            self.mobileFormatStr =\n                inputType === \"datetime-local\"\n                    ? \"Y-m-d\\\\TH:i:S\"\n                    : inputType === \"date\"\n                        ? \"Y-m-d\"\n                        : \"H:i:S\";\n            if (self.selectedDates.length > 0) {\n                self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n            }\n            if (self.config.minDate)\n                self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n            if (self.config.maxDate)\n                self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n            self.input.type = \"hidden\";\n            if (self.altInput !== undefined)\n                self.altInput.type = \"hidden\";\n            try {\n                if (self.input.parentNode)\n                    self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n            }\n            catch (_a) { }\n            bind(self.mobileInput, \"change\", function (e) {\n                self.setDate(e.target.value, false, self.mobileFormatStr);\n                triggerEvent(\"onChange\");\n                triggerEvent(\"onClose\");\n            });\n        }\n        function toggle(e) {\n            if (self.isOpen === true)\n                return self.close();\n            self.open(e);\n        }\n        function triggerEvent(event, data) {\n            // If the instance has been destroyed already, all hooks have been removed\n            if (self.config === undefined)\n                return;\n            var hooks = self.config[event];\n            if (hooks !== undefined && hooks.length > 0) {\n                for (var i = 0; hooks[i] && i < hooks.length; i++)\n                    hooks[i](self.selectedDates, self.input.value, self, data);\n            }\n            if (event === \"onChange\") {\n                self.input.dispatchEvent(createEvent(\"change\"));\n                // many front-end frameworks bind to the input event\n                self.input.dispatchEvent(createEvent(\"input\"));\n            }\n        }\n        function createEvent(name) {\n            var e = document.createEvent(\"Event\");\n            e.initEvent(name, true, true);\n            return e;\n        }\n        function isDateSelected(date) {\n            for (var i = 0; i < self.selectedDates.length; i++) {\n                if (compareDates(self.selectedDates[i], date) === 0)\n                    return \"\" + i;\n            }\n            return false;\n        }\n        function isDateInRange(date) {\n            if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n                return false;\n            return (compareDates(date, self.selectedDates[0]) >= 0 &&\n                compareDates(date, self.selectedDates[1]) <= 0);\n        }\n        function updateNavigationCurrentMonth() {\n            if (self.config.noCalendar || self.isMobile || !self.monthNav)\n                return;\n            self.yearElements.forEach(function (yearElement, i) {\n                var d = new Date(self.currentYear, self.currentMonth, 1);\n                d.setMonth(self.currentMonth + i);\n                if (self.config.showMonths > 1 ||\n                    self.config.monthSelectorType === \"static\") {\n                    self.monthElements[i].textContent =\n                        monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n                }\n                else {\n                    self.monthsDropdownContainer.value = d.getMonth().toString();\n                }\n                yearElement.value = d.getFullYear().toString();\n            });\n            self._hidePrevMonthArrow =\n                self.config.minDate !== undefined &&\n                    (self.currentYear === self.config.minDate.getFullYear()\n                        ? self.currentMonth <= self.config.minDate.getMonth()\n                        : self.currentYear < self.config.minDate.getFullYear());\n            self._hideNextMonthArrow =\n                self.config.maxDate !== undefined &&\n                    (self.currentYear === self.config.maxDate.getFullYear()\n                        ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                        : self.currentYear > self.config.maxDate.getFullYear());\n        }\n        function getDateStr(format) {\n            return self.selectedDates\n                .map(function (dObj) { return self.formatDate(dObj, format); })\n                .filter(function (d, i, arr) {\n                return self.config.mode !== \"range\" ||\n                    self.config.enableTime ||\n                    arr.indexOf(d) === i;\n            })\n                .join(self.config.mode !== \"range\"\n                ? self.config.conjunction\n                : self.l10n.rangeSeparator);\n        }\n        /**\n         * Updates the values of inputs associated with the calendar\n         */\n        function updateValue(triggerChange) {\n            if (triggerChange === void 0) { triggerChange = true; }\n            if (self.mobileInput !== undefined && self.mobileFormatStr) {\n                self.mobileInput.value =\n                    self.latestSelectedDateObj !== undefined\n                        ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                        : \"\";\n            }\n            self.input.value = getDateStr(self.config.dateFormat);\n            if (self.altInput !== undefined) {\n                self.altInput.value = getDateStr(self.config.altFormat);\n            }\n            if (triggerChange !== false)\n                triggerEvent(\"onValueUpdate\");\n        }\n        function onMonthNavClick(e) {\n            var isPrevMonth = self.prevMonthNav.contains(e.target);\n            var isNextMonth = self.nextMonthNav.contains(e.target);\n            if (isPrevMonth || isNextMonth) {\n                changeMonth(isPrevMonth ? -1 : 1);\n            }\n            else if (self.yearElements.indexOf(e.target) >= 0) {\n                e.target.select();\n            }\n            else if (e.target.classList.contains(\"arrowUp\")) {\n                self.changeYear(self.currentYear + 1);\n            }\n            else if (e.target.classList.contains(\"arrowDown\")) {\n                self.changeYear(self.currentYear - 1);\n            }\n        }\n        function timeWrapper(e) {\n            e.preventDefault();\n            var isKeyDown = e.type === \"keydown\", input = e.target;\n            if (self.amPM !== undefined && e.target === self.amPM) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n                (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n            var newValue = curValue + step * delta;\n            if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n                var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n                if (newValue < min) {\n                    newValue =\n                        max +\n                            newValue +\n                            int(!isHourElem) +\n                            (int(isHourElem) && int(!self.amPM));\n                    if (isMinuteElem)\n                        incrementNumInput(undefined, -1, self.hourElement);\n                }\n                else if (newValue > max) {\n                    newValue =\n                        input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                    if (isMinuteElem)\n                        incrementNumInput(undefined, 1, self.hourElement);\n                }\n                if (self.amPM &&\n                    isHourElem &&\n                    (step === 1\n                        ? newValue + curValue === 23\n                        : Math.abs(newValue - curValue) > step)) {\n                    self.amPM.textContent =\n                        self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n                }\n                input.value = pad(newValue);\n            }\n        }\n        init();\n        return self;\n    }\n    /* istanbul ignore next */\n    function _flatpickr(nodeList, config) {\n        // static list\n        var nodes = Array.prototype.slice\n            .call(nodeList)\n            .filter(function (x) { return x instanceof HTMLElement; });\n        var instances = [];\n        for (var i = 0; i < nodes.length; i++) {\n            var node = nodes[i];\n            try {\n                if (node.getAttribute(\"data-fp-omit\") !== null)\n                    continue;\n                if (node._flatpickr !== undefined) {\n                    node._flatpickr.destroy();\n                    node._flatpickr = undefined;\n                }\n                node._flatpickr = FlatpickrInstance(node, config || {});\n                instances.push(node._flatpickr);\n            }\n            catch (e) {\n                console.error(e);\n            }\n        }\n        return instances.length === 1 ? instances[0] : instances;\n    }\n    /* istanbul ignore next */\n    if (typeof HTMLElement !== \"undefined\" &&\n        typeof HTMLCollection !== \"undefined\" &&\n        typeof NodeList !== \"undefined\") {\n        // browser env\n        HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n            return _flatpickr(this, config);\n        };\n        HTMLElement.prototype.flatpickr = function (config) {\n            return _flatpickr([this], config);\n        };\n    }\n    /* istanbul ignore next */\n    var flatpickr = function (selector, config) {\n        if (typeof selector === \"string\") {\n            return _flatpickr(window.document.querySelectorAll(selector), config);\n        }\n        else if (selector instanceof Node) {\n            return _flatpickr([selector], config);\n        }\n        else {\n            return _flatpickr(selector, config);\n        }\n    };\n    /* istanbul ignore next */\n    flatpickr.defaultConfig = {};\n    flatpickr.l10ns = {\n        en: __assign({}, english),\n        \"default\": __assign({}, english)\n    };\n    flatpickr.localize = function (l10n) {\n        flatpickr.l10ns[\"default\"] = __assign({}, flatpickr.l10ns[\"default\"], l10n);\n    };\n    flatpickr.setDefaults = function (config) {\n        flatpickr.defaultConfig = __assign({}, flatpickr.defaultConfig, config);\n    };\n    flatpickr.parseDate = createDateParser({});\n    flatpickr.formatDate = createDateFormatter({});\n    flatpickr.compareDates = compareDates;\n    /* istanbul ignore next */\n    if (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n        jQuery.fn.flatpickr = function (config) {\n            return _flatpickr(this, config);\n        };\n    }\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    Date.prototype.fp_incr = function (days) {\n        return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n    };\n    if (typeof window !== \"undefined\") {\n        window.flatpickr = flatpickr;\n    }\n\n    return flatpickr;\n\n}));\n"]}