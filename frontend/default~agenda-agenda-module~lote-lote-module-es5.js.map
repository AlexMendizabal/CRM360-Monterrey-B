{"version":3,"sources":["webpack:///node_modules/flatpickr/dist/esm/utils/dates.js","webpack:///node_modules/calendar-utils/date-adapters/esm/date-fns/index.js","webpack:///node_modules/positioning/dist/entry.js","webpack:///node_modules/angular-calendar/date-adapters/esm/date-fns/index.js","webpack:///node_modules/flatpickr/dist/esm/utils/index.js","webpack:///node_modules/angular-draggable-droppable/fesm2015/angular-draggable-droppable.js","webpack:///node_modules/flatpickr/dist/esm/l10n/default.js","webpack:///node_modules/flatpickr/dist/esm/index.js","webpack:///node_modules/positioning/dist/positioning.js","webpack:///node_modules/@angular/common/locales/es-BO.js","webpack:///node_modules/flatpickr/dist/esm/utils/dom.js","webpack:///node_modules/@mattlewis92/dom-autoscroller/dist/bundle.es.js","webpack:///node_modules/flatpickr/dist/esm/utils/polyfills.js","webpack:///node_modules/flatpickr/dist/esm/utils/formatting.js","webpack:///node_modules/angular-calendar/fesm2015/angular-calendar.js","webpack:///node_modules/flatpickr/dist/esm/types/options.js","webpack:///node_modules/angularx-flatpickr/fesm2015/angularx-flatpickr.js","webpack:///node_modules/calendar-utils/calendar-utils.js","webpack:///node_modules/angular-resizable-element/fesm2015/angular-resizable-element.js"],"names":["createDateFormatter","_a","_b","config","_c","l10n","_d","isMobile","dateObj","frmt","overrideLocale","locale","formatDate","undefined","split","map","c","i","arr","join","createDateParser","date","givenFormat","timeless","customLocale","parsedDate","dateOrig","Date","getTime","toFixed","format","dateFormat","datestr","String","trim","parseDate","test","matched","ops","matchIndex","regexStr","length","token","isBackSlash","escaped","match","RegExp","exec","fn","val","noCalendar","getFullYear","setHours","forEach","isNaN","errorHandler","Error","compareDates","date1","date2","compareTimes","getHours","getMinutes","getSeconds","isBetween","ts","ts1","ts2","Math","min","max","calculateSecondsSinceMidnight","hours","minutes","seconds","parseSeconds","secondsSinceMidnight","floor","duration","DAY","getDefaultHours","defaultHour","defaultMinute","defaultSeconds","minDate","minHour","minMinutes","minSeconds","maxDate","maxHr","maxMinutes","adapterFactory","addDays","addHours","addMinutes","addSeconds","differenceInDays","differenceInMinutes","differenceInSeconds","endOfDay","endOfMonth","endOfWeek","getDay","getMonth","isSameDay","isSameMonth","isSameSecond","setMinutes","startOfDay","startOfMinute","startOfMonth","startOfWeek","addWeeks","addMonths","subDays","subWeeks","subMonths","getISOWeek","setDate","setMonth","setYear","getDate","getYear","pad","number","slice","int","bool","debounce","wait","t","_this","args","arguments","clearTimeout","setTimeout","apply","arrayify","obj","Array","DraggableHelper","currentDrag","decorators","type","providedIn","ngInjectableDef","factory","DraggableHelper_Factory","DraggableScrollContainerDirective","elementRef","activeLongPressDrag","longPressConfig","delta","selector","ctorParameters","propDecorators","addClass","renderer","element","classToAdd","className","nativeElement","removeClass","classToRemove","DraggableDirective","draggableHelper","zone","vcr","scrollContainer","document","dragAxis","x","y","dragSnapGrid","ghostDragEnabled","showOriginalElementWhileDragging","dragCursor","autoScroll","margin","dragPointerDown","dragStart","ghostElementCreated","dragging","dragEnd","pointerDown$","pointerMove$","pointerUp$","eventListenerSubscriptions","destroy$","timeLongPress","timerBegin","timerEnd","checkEventListeners","pointerDragged$","pipe","canDrag","pointerDownEvent","event","stopPropagation","globalDragStyle","createElement","setAttribute","appendChild","createText","requestAnimationFrame","head","startScrollPosition","getScrollPosition","scrollContainerScroll$","observer","listen","e","next","currentDrag$","cancelDrag$","run","dragComplete$","pointerMove","pointerMoveEvent","scroll","transformX","clientX","transformY","clientY","scrollLeft","left","scrollTop","top","target","moveData","round","scrollX","scrollY","Object","assign","validateDrag","transform","dragStarted$","dragEnded$","subscribe","scroller","defaultView","dragActiveClass","rect","getBoundingClientRect","clone","cloneNode","setStyle","ghostElementAppendTo","parentNode","insertBefore","nextSibling","ghostElement","body","style","cursor","setElementStyles","position","width","height","willChange","pointerEvents","ghostElementTemplate","viewRef","createEmbeddedView","innerHTML","rootNodes","filter","node","Node","remove","indexOf","emit","parentElement","removeChild","dragEndData","dragEndData$","calledCount","dragCancelled","complete","destroy","value","previous","dropData","changes","unsubscribeEventListeners","hasEventListeners","keys","runOutsideAngular","mousedown","onMouseDown","mouseup","onMouseUp","touchstart","onTouchStart","touchend","onTouchEnd","touchcancel","mouseenter","onMouseEnter","mouseleave","onMouseLeave","button","mousemove","mouseMoveEvent","isDragActivated","hasContainerScrollbar","touchStartLongPress","now","hasScrollbar","touchmove","contextMenuListener","preventDefault","touchMoveListener","passive","touchMoveEvent","shouldBeginDrag","targetTouches","unsubscribe","touches","enableScroll","changedTouches","setCursor","styles","key","window","pageYOffset","documentElement","pageXOffset","moveScrollPosition","deltaScroll","abs","deltaX","deltaY","deltaTotal","delay","disableScroll","getScrollElement","containerHasHorizontalScroll","scrollWidth","clientWidth","containerHasVerticalScroll","scrollHeight","clientHeight","isCoordinateWithinRectangle","right","bottom","DroppableDirective","dragEnter","dragLeave","dragOver","drop","currentDragSubscription","drag$","droppableElement","updateCache","deregisterScrollListener","currentDragDropData","overlaps$","scrollContainerRect","isWithinElement","isDropAllowed","validateDrop","overlapsChanged$","dragOverActive","overlapsNow","dragOverClass","didOverlap","DragAndDropModule","declarations","exports","english","weekdays","shorthand","longhand","months","daysInMonth","firstDayOfWeek","ordinal","nth","s","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","time_24hr","__assign","n","p","prototype","hasOwnProperty","call","__spreadArrays","il","r","k","a","j","jl","DEBOUNCED_CHANGE_MS","FlatpickrInstance","instanceConfig","self","flatpickr","defaultConfig","_handlers","pluginElements","loadedPlugins","_bind","bind","_setHoursFromDate","setHoursFromDate","_positionCalendar","positionCalendar","changeMonth","changeYear","clear","close","onMouseOver","_createElement","createDay","isEnabled","jumpToDate","updateValue","open","redraw","set","toggle","setupHelperFunctions","utils","getDaysInMonth","month","yr","currentMonth","currentYear","init","input","isOpen","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","selectedDates","enableTime","latestSelectedDateObj","setCalendarWidth","isSafari","navigator","userAgent","triggerEvent","getClosestActiveElement","calendarContainer","getRootNode","activeElement","bindToInstance","weekNumbers","showMonths","visibility","display","daysContainer","daysWidth","days","offsetWidth","weekWrapper","removeProperty","updateTime","defaultDate","defaults","getMilliseconds","timeWrapper","prevValue","_input","setHoursFromInputs","_debouncedChange","ampm2military","hour","military2ampm","hourElement","minuteElement","parseInt","secondElement","textContent","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","minBound","maxBound","currentTime","result","onYearInput","eventTarget","year","toString","handler","options","ev","el","addEventListener","push","removeEventListener","triggerChange","wrap","evt","querySelectorAll","setupMobile","debouncedResize","onResize","mode","onKeyDown","inline","ontouchstart","documentClick","capture","clickOpens","monthNav","onMonthNavClick","selectDate","timeContainer","selText","select","timeIncrement","allowInput","onBlur","jumpDate","jumpTo","oldYear","oldMonth","message","buildMonthSwitch","incrementNumInput","classList","contains","inputElem","firstChild","createEvent","dispatchEvent","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","animate","customAppend","appendTo","nodeType","add","wrapper","altInput","_dayNumber","dateIsEnabled","dayElement","$i","ariaDateFormat","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","getWeek","focusOnDayElem","targetNode","focus","getFirstAvailableDay","startMonth","endMonth","m","children","startIndex","endIndex","getNextAvailableDay","current","givenMonth","loopDelta","numMonthDays","focusOnDay","offset","dayFocused","isInView","startElem","buildMonthDays","firstOfMonth","prevMonthDays","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayNumber","dayIndex","dayNum","dayContainer","frag","d","monthSelectorType","shouldBuildMonth","monthsDropdownContainer","shorthandCurrentMonth","selected","buildMonth","container","monthNavFragment","monthElement","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","disabled","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","prevArrow","nextArrow","defineProperty","get","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","separator","hourInput","minuteInput","hourIncrement","minuteIncrement","enableSeconds","secondInput","getAttribute","title","weekdayContainer","updateWeekdays","splice","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","triggerChangeEvent","toInitial","mobileInput","_initialDate","lastChild","_type","removeAttribute","_","isCalendarElem","elem","eventTarget_1","isCalendarElement","isInput","path","lostFocus","relatedTarget","isIgnored","ignoredFocusElements","some","altFormat","newYear","newYearNum","isNewYear","dateToCheck","enable","disable","array","parsed","from","to","valueChanged","trimEnd","getDateStr","allowKeydown","allowInlineKeydown","keyCode","blur","isTimeObj","focusAndClose","delta_1","ctrlKey","elems","concat","shiftKey","charAt","toLowerCase","cellClass","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","hoverableCells","dayElem","timestamp","outOfRange","positionElement","_positionElement","click","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","JSON","parse","stringify","dataset","formats","_enable","dates","parseDateRules","_disable","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","disableMobile","plugins","pluginConf","altInputClass","getInputElem","querySelector","l10ns","D","l","M","F","K","customPositionElement","calendarHeight","reduce","acc","child","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","distanceFromBottom","innerHeight","showOnTop","isCenter","isRight","rightMost","centerMost","doc","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","insertRule","editableSheet","styleSheets","sheet","err","createStyleSheet","msMaxTouchPoints","isSelectable","day","selectedDate","shouldChangeMonth","selectedIndex","sort","b","closeOnSelect","single","range","CALLBACKS","updatePositionElement","option","setSelectedDate","inputDate","conjunction","allowInvalidPreload","rule","preloadedDate","nodeName","placeholder","required","inputType","mobileFormatStr","defaultValue","step","data","hooks","name","initEvent","specificFormat","dObj","isPrevMonth","isNextMonth","isKeyDown","parseFloat","curValue","which","newValue","isHourElem","isMinuteElem","_flatpickr","nodeList","nodes","HTMLElement","instances","console","error","HTMLCollection","NodeList","en","localize","setDefaults","jQuery","fp_incr","Positioning","getAllStyles","getComputedStyle","getStyle","prop","isStaticPositioned","offsetParent","offsetParentEl","elPosition","parentOffset","clientTop","clientLeft","elBcr","viewportOffset","elOffset","positionElements","hostElement","targetElement","placement","appendToBody","placementPrimary","placementSecondary","hostElPosition","targetElStyles","marginTop","marginBottom","marginLeft","marginRight","topPosition","leftPosition","targetElBCR","html","windowHeight","windowWidth","innerWidth","placementSeparator","positionService","baseClass","placementVals","isArray","allowedPlacements","addClassesToTarget","targetPlacement","primary","secondary","classes","classname","placementToRemove","hasAuto","findIndex","find","search","testPlacement","isInViewport","_i","placementVals_1","addedClasses","module","v","require","u","plural","toggleClass","tag","content","clearNode","findParent","condition","createNumberInput","inputClassName","opts","numInput","arrowUp","arrowDown","pattern","getEventTarget","composedPath","getDef","f","boolean","func","def","arguments$1","_len","_key","_typeof","Symbol","iterator","constructor","isElement$1","ownerDocument","indexOfElement","elements","resolveElement","hasElement","pushElements","toAdd","addElements","len","removeElements","toRemove","last","index","noThrow","TypeError","createPointCB","object","allowUpdate","pointCB","srcElement","originalTarget","pageX","pageY","screenX","screenY","eventDoc","createWindowRect","props","enumerable","create","defineProperties","getClientRect","pointInside","point","objectCreate","undefined$1","Temp","propertiesObject","__proto__","objectCreate$1","mouseEventProps","createDispatcher","defaultSettings","altKey","metaKey","buttons","region","onMove","dispatch","MouseEvent","m1","initMove","createMoveInit","setSpecial","m2","settings","initMouseEvent","createEventObject","m3","log","dispatched","prefix","requestFrame","limit","lastTime","callback","ttc","timer","cancelFrame","cancelAnimationFrame","AutoScroller","maxSpeed","scrolling","scrollWhenOutside","dispatcher","down","syncMove","forceCleanAnimation","onDown","onUp","onMouseOut","setScroll","cleanAnimation","hasWindow","windowAnimationFrame","temp","animationFrame","getTarget","getElementUnderPoint","underPoint","inside","scrollWindow","scrollTick","scrollx","scrolly","ceil","amount","scrollTo","AutoScrollerFactory","_loop_1","source","args_1","doNothing","monthToStr","monthNumber","revFormat","monthName","G","H","J","shortMonth","S","setSeconds","U","unixSeconds","W","weekNum","weekNumber","Y","setFullYear","Z","ISODate","h","unixMillSeconds","w","tokenRegex","toISOString","substring","CalendarEventActionsComponent","trackByActionId","action","id","template","CalendarEventTitleComponent","CalendarTooltipWindowComponent","CalendarTooltipDirective","injector","componentFactoryResolver","viewContainerRef","cancelTooltipDelay$","tooltipFactory","resolveComponentFactory","tooltipRef","contents","customTemplate","instance","changeDetectorRef","markForCheck","hide","delay$","show","createComponent","location","positionTooltip","hostView","previousPositions","detectChanges","Boolean","Number","Function","DateAdapter","CalendarView","validateEvents","events","warn","isInside","outer","inner","roundToNearest","precision","trackByEventId","trackByWeekDayHeaderDate","trackByHourSegment","segment","trackByHour","segments","trackByWeekAllDayEvent","weekEvent","trackByWeekTimeEvent","MINUTES_IN_HOUR","getPixelAmountInMinutes","hourSegments","hourSegmentHeight","getMinutesMoved","movedY","eventSnapSize","draggedInPixelsSnapSize","pixelAmountInMinutes","getMinimumEventHeightInMinutes","getDefaultEventEnd","dateAdapter","minimumMinutes","end","start","addDaysWithExclusions","excluded","daysCounter","daysToAdd","changeDays","isDraggedWithinPeriod","newStart","newEnd","period","shouldFireDroppedEvent","dropEvent","allDay","calendarId","getWeekViewPeriod","viewDate","weekStartsOn","daysInWeek","viewStart","viewEnd","isWithinThreshold","DRAG_THRESHOLD","CalendarPreviousViewDirective","excludeDays","viewDateChange","subFn","week","view","Day","Week","CalendarNextViewDirective","addFn","CalendarTodayDirective","CalendarAngularDateFormatter","dateToFormat","showYear","getUTCFullYear","CalendarDateFormatter","CalendarDatePipe","dateFormatter","method","allowedMethods","getOwnPropertyNames","getPrototypeOf","iMethod","CalendarEventTitleFormatter","CalendarEventTitlePipe","calendarEventTitle","titleType","ClickDirective","elm","clickListenerDisabled","KeydownEnterDirective","host","ngZone","keydown","keydownListener","CalendarUtils","CalendarA11y","i18nPlural","badgeTotal","other","allDayEventDescription","aria","a11yLabel","CalendarA11yPipe","calendarA11y","a11yParams","MOMENT","CalendarMomentDateFormatter","moment","CalendarNativeDateFormatter","Intl","DateTimeFormat","weekday","CalendarEventTimesChangedEventType","CalendarCommonModule_1","CalendarCommonModule","ngModule","providers","eventTitleFormatter","a11y","imports","entryComponents","CalendarMonthViewComponent","cdr","activeDayIsOpen","tooltipPlacement","tooltipAppendToBody","tooltipDelay","beforeViewRender","dayClicked","eventClicked","columnHeaderClicked","eventTimesChanged","trackByRowOffset","totalDaysVisibleInWeek","trackByDate","refresh","refreshSubscription","refreshAll","refreshHeader","weekendDays","refreshBody","emitBeforeViewRender","activeDay","checkActiveDayIsOpen","isHighlighted","backgroundColor","color","droppedOn","draggedFrom","secondsDiff","Drop","columnHeaders","getWeekViewHeader","getMonthView","openDay","openRowIndex","header","CalendarMonthViewHeaderComponent","CalendarMonthCellComponent","highlightDay","unhighlightDay","collapseAnimation","overflow","CalendarOpenDayEventsComponent","animations","CalendarMonthModule","CalendarDragHelper","dragContainerElement","draggableElement","startPosition","snapDraggedEvents","dragAlreadyMoved","newRect","CalendarResizeHelper","resizeContainerElement","minWidth","rectangle","CalendarWeekViewComponent","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","dayHeaderClicked","hourSegmentClicked","allDayEventResizes","Map","timeEventResizes","eventDragEnterByType","time","dragActive","trackByHourColumn","column","trackById","row","eventsContainer","timeEvent","resizeEvent","resizeStarted","adjustedEvents","tempEvents","lastResizeEvent","newEventDates","getTimeEventResizedDates","adjustedEvent","eventIndex","restoreOriginalEvents","getWeekView","Resize","allDayEventsContainer","allDayEvent","originalOffset","originalSpan","span","edge","edges","getDayColumnWidth","dayWidth","currentResize","diff","allDayEventResizingBeforeStart","daysDiff","eventRowContainer","lastDragEnterDate","lastDraggedEvent","dayEvent","dayColumnWidth","dragHelper","size","hourColumns","linkedEvent","columnEvent","dragEvent","newEventTimes","getDragMovedEventTimes","originalEvent","dragEndEvent","useY","Drag","absolutePositionedEvents","dayStart","minute","dayEnd","segmentHeight","daysDragged","minutesMoved","previousView","adjustedEventsArray","has","columnIndex","hourIndex","segmentIndex","cssClass","existingColumnEvent","startsBeforeDay","endsAfterDay","tempEvent","calendarEvent","minimumEventHeight","eventWithoutEnd","smallestResizes","resizeHelper","validateResize","CalendarWeekViewHeaderComponent","eventDropped","CalendarWeekViewEventComponent","CalendarWeekViewHourSegmentComponent","CalendarWeekViewCurrentTimeMarkerComponent","columnDate$","columnDate","marker$","onStable","hourHeightModifier","isVisible","currentValue","CalendarWeekModule","CalendarDayViewComponent","CalendarDayModule","CalendarModule_1","CalendarModule","HOOKS","autoFillDefaultTime","givenDate","week1","onChange","onClose","onDayCreate","onDestroy","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","FlatpickrDefaults","time24hr","utc","convertModelValue","FLATPICKR_CONTROL_VALUE_ACCESSOR","provide","useExisting","FlatpickrDirective","multi","flatpickrReady","flatpickrChange","flatpickrValueUpdate","flatpickrOpen","flatpickrClose","flatpickrMonthChange","flatpickrYearChange","flatpickrDayCreate","isDisabled","onChangeFn","onTouchedFn","initialValue","dateString","setDisabledState","inputKey","convertedValue","setProperty","str","exportAs","inputChanged","USER_DEFAULTS","defaultsFactory","userDefaults","FlatpickrModule","useValue","useFactory","deps","DAYS_OF_WEEK","DEFAULT_WEEKEND_DAYS","SUNDAY","SATURDAY","DAYS_IN_WEEK","HOURS_IN_DAY","SECONDS_IN_DAY","getExcludedSeconds","startDate","endDate","excludedDay","calculateExcludedSeconds","getWeekViewEventSpan","startOfWeekDate","totalDaysInView","begin","offsetSeconds","totalLength","secondsInView","getWeekViewEventOffset","isEventIsPeriod","periodStart","periodEnd","eventStart","eventEnd","getEventsInPeriod","getWeekDay","today","isPast","isToday","isFuture","isWeekend","getDifferenceInDaysWithExclusions","getAllDayWeekEvents","_e","eventsMapped","entry","startsBeforeWeek","endsAfterWeek","itemA","itemB","startSecondsDiff","allDayEventRows","allocatedEvents","rowSpan_1","otherRowEvents","nextEvent","nextEventOffset","weekEvents","getWeekViewHourGrid","hourDuration","dayViewHourGrid","getDayViewHourGrid","weekDays","dayView","getDayView","eventWidth","getColumnCount","allEvents","prevOverlappingEvents","columnCount","iEvent","nextOverlappingEvents","getOverLappingWeekViewEvents","mappedEvents","overLappingEvents","otherEvent","_f","_g","eventsInPeriod","eventsInMonth","initialViewDays","previousDate","_loop_2","inMonth","isRowInMonth","rows","rowOffsets","previousEvent","previousEventTop","previousEventBottom","startOfView","sanitiseHours","sanitiseMinutes","endOfView","previousDayEvents","dayViewEvents","eventA","eventB","valueOf","eventOffset","getTimezoneOffset","startOffset","timezoneOffset","overlappingPreviousEvents","allDayEvents","segmentDuration","startOfViewDay","endOfViewDay","dateAdjustment","dayDuration","displayDate","isStart","EventValidationErrorMessage","isValid","isError","msg","NotArray","StartPropertyMissing","StartPropertyNotDate","EndPropertyNotDate","EndsBeforeStart","IS_TOUCH_DEVICE","maxTouchPoints","isNumberCloseTo","value1","value2","getNewBoundingRectangle","startingRect","newBoundingRect","getElementRect","ghostElementPositioning","translateX","translateY","transformProperties","property","includes","replace","offsetTop","offsetLeft","boundingRect","isWithinBoundingY","isWithinBoundingX","getResizeEdges","allowedEdges","cursorPrecision","elmPosition","DEFAULT_RESIZE_CURSORS","freeze","topLeft","topRight","bottomLeft","bottomRight","leftOrRight","topOrBottom","getResizeCursor","cursors","getEdgesDiff","initialRectangle","newRectangle","edgesDiff","RESIZE_ACTIVE_CLASS","RESIZE_LEFT_HOVER_CLASS","RESIZE_RIGHT_HOVER_CLASS","RESIZE_TOP_HOVER_CLASS","RESIZE_BOTTOM_HOVER_CLASS","RESIZE_GHOST_ELEMENT_CLASS","MOUSE_MOVE_THROTTLE_MS","ResizableDirective","platformId","resizeEdges","enableGhostResize","resizeSnapGrid","resizeCursors","resizeCursorPrecision","allowNegativeResizes","mouseMoveThrottleMS","resizeStart","resizing","resizeEnd","resizeEdges$","pointerEventListeners","PointerEventListeners","getInstance","mousedown$","pointerDown","mousemove$","mouseup$","pointerUp","removeGhostElement","clonedNode","getResizeCursors","legacyResizeEdgesEnabled","setElementClass","mousedrag","startCoords","getDiff","moveCoords","getSnapGrid","snapGrid","getGrid","coords","previousCoords","newCoords","previousGrid","newGrid","observers","currentRect","unsubscribeMouseDown","unsubscribeTouchStart","unsubscribeMouseMove","unsubscribeTouchMove","unsubscribeMouseUp","unsubscribeTouchEnd","unsubscribeTouchCancel","ResizeHandleDirective","resizableDirective","eventListeners","listenOnTheHost","onMousedown","onMouseup","onMousemove","resizable","resizableContainer","eventName","ResizableModule"],"mappings":"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","file":"default~agenda-agenda-module~lote-lote-module-es5.js","sourcesContent":["import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport var createDateFormatter = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;\n    return function (dateObj, frmt, overrideLocale) {\n        var locale = overrideLocale || l10n;\n        if (config.formatDate !== undefined && !isMobile) {\n            return config.formatDate(dateObj, frmt, locale);\n        }\n        return frmt\n            .split(\"\")\n            .map(function (c, i, arr) {\n            return formats[c] && arr[i - 1] !== \"\\\\\"\n                ? formats[c](dateObj, locale, config)\n                : c !== \"\\\\\"\n                    ? c\n                    : \"\";\n        })\n            .join(\"\");\n    };\n};\nexport var createDateParser = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n    return function (date, givenFormat, timeless, customLocale) {\n        if (date !== 0 && !date)\n            return undefined;\n        var locale = customLocale || l10n;\n        var parsedDate;\n        var dateOrig = date;\n        if (date instanceof Date)\n            parsedDate = new Date(date.getTime());\n        else if (typeof date !== \"string\" &&\n            date.toFixed !== undefined)\n            parsedDate = new Date(date);\n        else if (typeof date === \"string\") {\n            var format = givenFormat || (config || defaults).dateFormat;\n            var datestr = String(date).trim();\n            if (datestr === \"today\") {\n                parsedDate = new Date();\n                timeless = true;\n            }\n            else if (config && config.parseDate) {\n                parsedDate = config.parseDate(date, format);\n            }\n            else if (/Z$/.test(datestr) ||\n                /GMT$/.test(datestr)) {\n                parsedDate = new Date(date);\n            }\n            else {\n                var matched = void 0, ops = [];\n                for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                    var token = format[i];\n                    var isBackSlash = token === \"\\\\\";\n                    var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                    if (tokenRegex[token] && !escaped) {\n                        regexStr += tokenRegex[token];\n                        var match = new RegExp(regexStr).exec(date);\n                        if (match && (matched = true)) {\n                            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                                fn: revFormat[token],\n                                val: match[++matchIndex],\n                            });\n                        }\n                    }\n                    else if (!isBackSlash)\n                        regexStr += \".\";\n                }\n                parsedDate =\n                    !config || !config.noCalendar\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                        : new Date(new Date().setHours(0, 0, 0, 0));\n                ops.forEach(function (_a) {\n                    var fn = _a.fn, val = _a.val;\n                    return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                });\n                parsedDate = matched ? parsedDate : undefined;\n            }\n        }\n        if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n            config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n            return undefined;\n        }\n        if (timeless === true)\n            parsedDate.setHours(0, 0, 0, 0);\n        return parsedDate;\n    };\n};\nexport function compareDates(date1, date2, timeless) {\n    if (timeless === void 0) { timeless = true; }\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport var isBetween = function (ts, ts1, ts2) {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {\n    return hours * 3600 + minutes * 60 + seconds;\n};\nexport var parseSeconds = function (secondsSinceMidnight) {\n    var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;\n    return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\n};\nexport var duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    var hours = config.defaultHour;\n    var minutes = config.defaultMinute;\n    var seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        var minHour = config.minDate.getHours();\n        var minMinutes = config.minDate.getMinutes();\n        var minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        var maxHr = config.maxDate.getHours();\n        var maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours: hours, minutes: minutes, seconds: seconds };\n}\n","import { addDays, addHours, addMinutes, addSeconds, differenceInDays, differenceInMinutes, differenceInSeconds, endOfDay, endOfMonth, endOfWeek, getDay, getMonth, isSameDay, isSameMonth, isSameSecond, max, setHours, setMinutes, startOfDay, startOfMinute, startOfMonth, startOfWeek, getHours, getMinutes, } from 'date-fns';\nexport function adapterFactory() {\n    return {\n        addDays: addDays,\n        addHours: addHours,\n        addMinutes: addMinutes,\n        addSeconds: addSeconds,\n        differenceInDays: differenceInDays,\n        differenceInMinutes: differenceInMinutes,\n        differenceInSeconds: differenceInSeconds,\n        endOfDay: endOfDay,\n        endOfMonth: endOfMonth,\n        endOfWeek: endOfWeek,\n        getDay: getDay,\n        getMonth: getMonth,\n        isSameDay: isSameDay,\n        isSameMonth: isSameMonth,\n        isSameSecond: isSameSecond,\n        max: max,\n        setHours: setHours,\n        setMinutes: setMinutes,\n        startOfDay: startOfDay,\n        startOfMinute: startOfMinute,\n        startOfMonth: startOfMonth,\n        startOfWeek: startOfWeek,\n        getHours: getHours,\n        getMinutes: getMinutes,\n    };\n}\n//# sourceMappingURL=index.js.map","export { positionElements } from './positioning';\n//# sourceMappingURL=entry.js.map","import { __assign } from \"tslib\";\nimport { adapterFactory as baseAdapterFactory } from 'calendar-utils/date-adapters/date-fns';\nimport { addWeeks, addMonths, subDays, subWeeks, subMonths, getISOWeek, setDate, setMonth, setYear, getDate, getYear, } from 'date-fns';\nexport function adapterFactory() {\n    return __assign(__assign({}, baseAdapterFactory()), { addWeeks: addWeeks,\n        addMonths: addMonths,\n        subDays: subDays,\n        subWeeks: subWeeks,\n        subMonths: subMonths,\n        getISOWeek: getISOWeek,\n        setDate: setDate,\n        setMonth: setMonth,\n        setYear: setYear,\n        getDate: getDate,\n        getYear: getYear });\n}\n//# sourceMappingURL=index.js.map","export var pad = function (number, length) {\n    if (length === void 0) { length = 2; }\n    return (\"000\" + number).slice(length * -1);\n};\nexport var int = function (bool) { return (bool === true ? 1 : 0); };\nexport function debounce(fn, wait) {\n    var t;\n    return function () {\n        var _this = this;\n        var args = arguments;\n        clearTimeout(t);\n        t = setTimeout(function () { return fn.apply(_this, args); }, wait);\n    };\n}\nexport var arrayify = function (obj) {\n    return obj instanceof Array ? obj : [obj];\n};\n","import { Subject, Observable, merge, ReplaySubject, combineLatest, fromEvent } from 'rxjs';\nimport { DOCUMENT } from '@angular/common';\nimport autoScroll from '@mattlewis92/dom-autoscroller';\nimport { Injectable, Directive, ElementRef, Input, Renderer2, Output, EventEmitter, NgZone, Inject, ViewContainerRef, Optional, NgModule, defineInjectable } from '@angular/core';\nimport { map, mergeMap, takeUntil, take, takeLast, pairwise, share, filter, count, startWith, distinctUntilChanged } from 'rxjs/operators';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass DraggableHelper {\n    constructor() {\n        this.currentDrag = new Subject();\n    }\n}\nDraggableHelper.decorators = [\n    { type: Injectable, args: [{\n                providedIn: 'root',\n            },] }\n];\n/** @nocollapse */ DraggableHelper.ngInjectableDef = defineInjectable({ factory: function DraggableHelper_Factory() { return new DraggableHelper(); }, token: DraggableHelper, providedIn: \"root\" });\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * If the window isn't scrollable, then place this on the scrollable container that draggable elements are inside. e.g.\n * ```html\n * <div style=\"overflow: scroll\" mwlDraggableScrollContainer>\n * <div mwlDraggable>Drag me!</div>\n * </div>\n * ```\n */\nclass DraggableScrollContainerDirective {\n    /**\n     * @hidden\n     * @param {?} elementRef\n     */\n    constructor(elementRef) {\n        this.elementRef = elementRef;\n        /**\n         * Trigger the DragStart after a long touch in scrollable container when true\n         * @deprecated will be removed in v5 (use [touchStartLongPress]=\"{delay: 300, delta: 30}\" on the mwlDraggable element instead)\n         */\n        this.activeLongPressDrag = false;\n        /**\n         * Configuration of a long touch\n         * Duration in ms of a long touch before activating DragStart\n         * Delta of the\n         * @deprecated will be removed in v5 (use [touchStartLongPress]=\"{delay: 300, delta: 30}\" on the mwlDraggable element instead)\n         */\n        this.longPressConfig = { duration: 300, delta: 30 };\n    }\n}\nDraggableScrollContainerDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlDraggableScrollContainer]',\n            },] }\n];\n/** @nocollapse */\nDraggableScrollContainerDirective.ctorParameters = () => [\n    { type: ElementRef }\n];\nDraggableScrollContainerDirective.propDecorators = {\n    activeLongPressDrag: [{ type: Input }],\n    longPressConfig: [{ type: Input }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} renderer\n * @param {?} element\n * @param {?} classToAdd\n * @return {?}\n */\nfunction addClass(renderer, element, classToAdd) {\n    if (classToAdd) {\n        classToAdd\n            .split(' ')\n            .forEach((/**\n         * @param {?} className\n         * @return {?}\n         */\n        (className) => renderer.addClass(element.nativeElement, className)));\n    }\n}\n/**\n * @param {?} renderer\n * @param {?} element\n * @param {?} classToRemove\n * @return {?}\n */\nfunction removeClass(renderer, element, classToRemove) {\n    if (classToRemove) {\n        classToRemove\n            .split(' ')\n            .forEach((/**\n         * @param {?} className\n         * @return {?}\n         */\n        (className) => renderer.removeClass(element.nativeElement, className)));\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass DraggableDirective {\n    /**\n     * @hidden\n     * @param {?} element\n     * @param {?} renderer\n     * @param {?} draggableHelper\n     * @param {?} zone\n     * @param {?} vcr\n     * @param {?} scrollContainer\n     * @param {?} document\n     */\n    constructor(element, renderer, draggableHelper, zone, vcr, scrollContainer, document) {\n        this.element = element;\n        this.renderer = renderer;\n        this.draggableHelper = draggableHelper;\n        this.zone = zone;\n        this.vcr = vcr;\n        this.scrollContainer = scrollContainer;\n        this.document = document;\n        /**\n         * The axis along which the element is draggable\n         */\n        this.dragAxis = { x: true, y: true };\n        /**\n         * Snap all drags to an x / y grid\n         */\n        this.dragSnapGrid = {};\n        /**\n         * Show a ghost element that shows the drag when dragging\n         */\n        this.ghostDragEnabled = true;\n        /**\n         * Show the original element when ghostDragEnabled is true\n         */\n        this.showOriginalElementWhileDragging = false;\n        /**\n         * The cursor to use when hovering over a draggable element\n         */\n        this.dragCursor = '';\n        /*\n           * Options used to control the behaviour of auto scrolling: https://www.npmjs.com/package/dom-autoscroller\n           */\n        this.autoScroll = {\n            margin: 20,\n        };\n        /**\n         * Called when the element can be dragged along one axis and has the mouse or pointer device pressed on it\n         */\n        this.dragPointerDown = new EventEmitter();\n        /**\n         * Called when the element has started to be dragged.\n         * Only called after at least one mouse or touch move event.\n         * If you call $event.cancelDrag$.emit() it will cancel the current drag\n         */\n        this.dragStart = new EventEmitter();\n        /**\n         * Called after the ghost element has been created\n         */\n        this.ghostElementCreated = new EventEmitter();\n        /**\n         * Called when the element is being dragged\n         */\n        this.dragging = new EventEmitter();\n        /**\n         * Called after the element is dragged\n         */\n        this.dragEnd = new EventEmitter();\n        /**\n         * @hidden\n         */\n        this.pointerDown$ = new Subject();\n        /**\n         * @hidden\n         */\n        this.pointerMove$ = new Subject();\n        /**\n         * @hidden\n         */\n        this.pointerUp$ = new Subject();\n        this.eventListenerSubscriptions = {};\n        this.destroy$ = new Subject();\n        this.timeLongPress = { timerBegin: 0, timerEnd: 0 };\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.checkEventListeners();\n        /** @type {?} */\n        const pointerDragged$ = this.pointerDown$.pipe(filter((/**\n         * @return {?}\n         */\n        () => this.canDrag())), mergeMap((/**\n         * @param {?} pointerDownEvent\n         * @return {?}\n         */\n        (pointerDownEvent) => {\n            // fix for https://github.com/mattlewis92/angular-draggable-droppable/issues/61\n            // stop mouse events propagating up the chain\n            if (pointerDownEvent.event.stopPropagation && !this.scrollContainer) {\n                pointerDownEvent.event.stopPropagation();\n            }\n            // hack to prevent text getting selected in safari while dragging\n            /** @type {?} */\n            const globalDragStyle = this.renderer.createElement('style');\n            this.renderer.setAttribute(globalDragStyle, 'type', 'text/css');\n            this.renderer.appendChild(globalDragStyle, this.renderer.createText(`\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        `));\n            requestAnimationFrame((/**\n             * @return {?}\n             */\n            () => {\n                this.document.head.appendChild(globalDragStyle);\n            }));\n            /** @type {?} */\n            const startScrollPosition = this.getScrollPosition();\n            /** @type {?} */\n            const scrollContainerScroll$ = new Observable((/**\n             * @param {?} observer\n             * @return {?}\n             */\n            (observer) => {\n                /** @type {?} */\n                const scrollContainer = this.scrollContainer\n                    ? this.scrollContainer.elementRef.nativeElement\n                    : 'window';\n                return this.renderer.listen(scrollContainer, 'scroll', (/**\n                 * @param {?} e\n                 * @return {?}\n                 */\n                (e) => observer.next(e)));\n            })).pipe(startWith(startScrollPosition), map((/**\n             * @return {?}\n             */\n            () => this.getScrollPosition())));\n            /** @type {?} */\n            const currentDrag$ = new Subject();\n            /** @type {?} */\n            const cancelDrag$ = new ReplaySubject();\n            this.zone.run((/**\n             * @return {?}\n             */\n            () => {\n                this.dragPointerDown.next({ x: 0, y: 0 });\n            }));\n            /** @type {?} */\n            const dragComplete$ = merge(this.pointerUp$, this.pointerDown$, cancelDrag$, this.destroy$).pipe(share());\n            /** @type {?} */\n            const pointerMove = combineLatest([\n                this.pointerMove$,\n                scrollContainerScroll$,\n            ]).pipe(map((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ([pointerMoveEvent, scroll]) => {\n                return {\n                    currentDrag$,\n                    transformX: pointerMoveEvent.clientX - pointerDownEvent.clientX,\n                    transformY: pointerMoveEvent.clientY - pointerDownEvent.clientY,\n                    clientX: pointerMoveEvent.clientX,\n                    clientY: pointerMoveEvent.clientY,\n                    scrollLeft: scroll.left,\n                    scrollTop: scroll.top,\n                    target: pointerMoveEvent.event.target,\n                };\n            })), map((/**\n             * @param {?} moveData\n             * @return {?}\n             */\n            (moveData) => {\n                if (this.dragSnapGrid.x) {\n                    moveData.transformX =\n                        Math.round(moveData.transformX / this.dragSnapGrid.x) *\n                            this.dragSnapGrid.x;\n                }\n                if (this.dragSnapGrid.y) {\n                    moveData.transformY =\n                        Math.round(moveData.transformY / this.dragSnapGrid.y) *\n                            this.dragSnapGrid.y;\n                }\n                return moveData;\n            })), map((/**\n             * @param {?} moveData\n             * @return {?}\n             */\n            (moveData) => {\n                if (!this.dragAxis.x) {\n                    moveData.transformX = 0;\n                }\n                if (!this.dragAxis.y) {\n                    moveData.transformY = 0;\n                }\n                return moveData;\n            })), map((/**\n             * @param {?} moveData\n             * @return {?}\n             */\n            (moveData) => {\n                /** @type {?} */\n                const scrollX = moveData.scrollLeft - startScrollPosition.left;\n                /** @type {?} */\n                const scrollY = moveData.scrollTop - startScrollPosition.top;\n                return Object.assign({}, moveData, { x: moveData.transformX + scrollX, y: moveData.transformY + scrollY });\n            })), filter((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ({ x, y, transformX, transformY }) => !this.validateDrag ||\n                this.validateDrag({\n                    x,\n                    y,\n                    transform: { x: transformX, y: transformY },\n                }))), takeUntil(dragComplete$), share());\n            /** @type {?} */\n            const dragStarted$ = pointerMove.pipe(take(1), share());\n            /** @type {?} */\n            const dragEnded$ = pointerMove.pipe(takeLast(1), share());\n            dragStarted$.subscribe((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ({ clientX, clientY, x, y }) => {\n                this.zone.run((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.dragStart.next({ cancelDrag$ });\n                }));\n                this.scroller = autoScroll([\n                    this.scrollContainer\n                        ? this.scrollContainer.elementRef.nativeElement\n                        : this.document.defaultView,\n                ], Object.assign({}, this.autoScroll, { /**\n                     * @return {?}\n                     */\n                    autoScroll() {\n                        return true;\n                    } }));\n                addClass(this.renderer, this.element, this.dragActiveClass);\n                if (this.ghostDragEnabled) {\n                    /** @type {?} */\n                    const rect = this.element.nativeElement.getBoundingClientRect();\n                    /** @type {?} */\n                    const clone = (/** @type {?} */ (this.element.nativeElement.cloneNode(true)));\n                    if (!this.showOriginalElementWhileDragging) {\n                        this.renderer.setStyle(this.element.nativeElement, 'visibility', 'hidden');\n                    }\n                    if (this.ghostElementAppendTo) {\n                        this.ghostElementAppendTo.appendChild(clone);\n                    }\n                    else {\n                        (/** @type {?} */ (this.element.nativeElement.parentNode)).insertBefore(clone, this.element.nativeElement.nextSibling);\n                    }\n                    this.ghostElement = clone;\n                    this.document.body.style.cursor = this.dragCursor;\n                    this.setElementStyles(clone, {\n                        position: 'fixed',\n                        top: `${rect.top}px`,\n                        left: `${rect.left}px`,\n                        width: `${rect.width}px`,\n                        height: `${rect.height}px`,\n                        cursor: this.dragCursor,\n                        margin: '0',\n                        willChange: 'transform',\n                        pointerEvents: 'none',\n                    });\n                    if (this.ghostElementTemplate) {\n                        /** @type {?} */\n                        const viewRef = this.vcr.createEmbeddedView(this.ghostElementTemplate);\n                        clone.innerHTML = '';\n                        viewRef.rootNodes\n                            .filter((/**\n                         * @param {?} node\n                         * @return {?}\n                         */\n                        (node) => node instanceof Node))\n                            .forEach((/**\n                         * @param {?} node\n                         * @return {?}\n                         */\n                        (node) => {\n                            clone.appendChild(node);\n                        }));\n                        dragEnded$.subscribe((/**\n                         * @return {?}\n                         */\n                        () => {\n                            this.vcr.remove(this.vcr.indexOf(viewRef));\n                        }));\n                    }\n                    this.zone.run((/**\n                     * @return {?}\n                     */\n                    () => {\n                        this.ghostElementCreated.emit({\n                            clientX: clientX - x,\n                            clientY: clientY - y,\n                            element: clone,\n                        });\n                    }));\n                    dragEnded$.subscribe((/**\n                     * @return {?}\n                     */\n                    () => {\n                        (/** @type {?} */ (clone.parentElement)).removeChild(clone);\n                        this.ghostElement = null;\n                        this.renderer.setStyle(this.element.nativeElement, 'visibility', '');\n                    }));\n                }\n                this.draggableHelper.currentDrag.next(currentDrag$);\n            }));\n            dragEnded$\n                .pipe(mergeMap((/**\n             * @param {?} dragEndData\n             * @return {?}\n             */\n            (dragEndData) => {\n                /** @type {?} */\n                const dragEndData$ = cancelDrag$.pipe(count(), take(1), map((/**\n                 * @param {?} calledCount\n                 * @return {?}\n                 */\n                (calledCount) => (Object.assign({}, dragEndData, { dragCancelled: calledCount > 0 })))));\n                cancelDrag$.complete();\n                return dragEndData$;\n            })))\n                .subscribe((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ({ x, y, dragCancelled }) => {\n                this.scroller.destroy();\n                this.zone.run((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.dragEnd.next({ x, y, dragCancelled });\n                }));\n                removeClass(this.renderer, this.element, this.dragActiveClass);\n                currentDrag$.complete();\n            }));\n            merge(dragComplete$, dragEnded$)\n                .pipe(take(1))\n                .subscribe((/**\n             * @return {?}\n             */\n            () => {\n                requestAnimationFrame((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.document.head.removeChild(globalDragStyle);\n                }));\n            }));\n            return pointerMove;\n        })), share());\n        merge(pointerDragged$.pipe(take(1), map((/**\n         * @param {?} value\n         * @return {?}\n         */\n        (value) => [, value]))), pointerDragged$.pipe(pairwise()))\n            .pipe(filter((/**\n         * @param {?} __0\n         * @return {?}\n         */\n        ([previous, next]) => {\n            if (!previous) {\n                return true;\n            }\n            return previous.x !== next.x || previous.y !== next.y;\n        })), map((/**\n         * @param {?} __0\n         * @return {?}\n         */\n        ([previous, next]) => next)))\n            .subscribe((/**\n         * @param {?} __0\n         * @return {?}\n         */\n        ({ x, y, currentDrag$, clientX, clientY, transformX, transformY, target, }) => {\n            this.zone.run((/**\n             * @return {?}\n             */\n            () => {\n                this.dragging.next({ x, y });\n            }));\n            requestAnimationFrame((/**\n             * @return {?}\n             */\n            () => {\n                if (this.ghostElement) {\n                    /** @type {?} */\n                    const transform = `translate3d(${transformX}px, ${transformY}px, 0px)`;\n                    this.setElementStyles(this.ghostElement, {\n                        transform,\n                        '-webkit-transform': transform,\n                        '-ms-transform': transform,\n                        '-moz-transform': transform,\n                        '-o-transform': transform,\n                    });\n                }\n            }));\n            currentDrag$.next({\n                clientX,\n                clientY,\n                dropData: this.dropData,\n                target,\n            });\n        }));\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (changes.dragAxis) {\n            this.checkEventListeners();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.unsubscribeEventListeners();\n        this.pointerDown$.complete();\n        this.pointerMove$.complete();\n        this.pointerUp$.complete();\n        this.destroy$.next();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    checkEventListeners() {\n        /** @type {?} */\n        const canDrag = this.canDrag();\n        /** @type {?} */\n        const hasEventListeners = Object.keys(this.eventListenerSubscriptions).length > 0;\n        if (canDrag && !hasEventListeners) {\n            this.zone.runOutsideAngular((/**\n             * @return {?}\n             */\n            () => {\n                this.eventListenerSubscriptions.mousedown = this.renderer.listen(this.element.nativeElement, 'mousedown', (/**\n                 * @param {?} event\n                 * @return {?}\n                 */\n                (event) => {\n                    this.onMouseDown(event);\n                }));\n                this.eventListenerSubscriptions.mouseup = this.renderer.listen('document', 'mouseup', (/**\n                 * @param {?} event\n                 * @return {?}\n                 */\n                (event) => {\n                    this.onMouseUp(event);\n                }));\n                this.eventListenerSubscriptions.touchstart = this.renderer.listen(this.element.nativeElement, 'touchstart', (/**\n                 * @param {?} event\n                 * @return {?}\n                 */\n                (event) => {\n                    this.onTouchStart(event);\n                }));\n                this.eventListenerSubscriptions.touchend = this.renderer.listen('document', 'touchend', (/**\n                 * @param {?} event\n                 * @return {?}\n                 */\n                (event) => {\n                    this.onTouchEnd(event);\n                }));\n                this.eventListenerSubscriptions.touchcancel = this.renderer.listen('document', 'touchcancel', (/**\n                 * @param {?} event\n                 * @return {?}\n                 */\n                (event) => {\n                    this.onTouchEnd(event);\n                }));\n                this.eventListenerSubscriptions.mouseenter = this.renderer.listen(this.element.nativeElement, 'mouseenter', (/**\n                 * @return {?}\n                 */\n                () => {\n                    this.onMouseEnter();\n                }));\n                this.eventListenerSubscriptions.mouseleave = this.renderer.listen(this.element.nativeElement, 'mouseleave', (/**\n                 * @return {?}\n                 */\n                () => {\n                    this.onMouseLeave();\n                }));\n            }));\n        }\n        else if (!canDrag && hasEventListeners) {\n            this.unsubscribeEventListeners();\n        }\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    onMouseDown(event) {\n        if (event.button === 0) {\n            if (!this.eventListenerSubscriptions.mousemove) {\n                this.eventListenerSubscriptions.mousemove = this.renderer.listen('document', 'mousemove', (/**\n                 * @param {?} mouseMoveEvent\n                 * @return {?}\n                 */\n                (mouseMoveEvent) => {\n                    this.pointerMove$.next({\n                        event: mouseMoveEvent,\n                        clientX: mouseMoveEvent.clientX,\n                        clientY: mouseMoveEvent.clientY,\n                    });\n                }));\n            }\n            this.pointerDown$.next({\n                event,\n                clientX: event.clientX,\n                clientY: event.clientY,\n            });\n        }\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    onMouseUp(event) {\n        if (event.button === 0) {\n            if (this.eventListenerSubscriptions.mousemove) {\n                this.eventListenerSubscriptions.mousemove();\n                delete this.eventListenerSubscriptions.mousemove;\n            }\n            this.pointerUp$.next({\n                event,\n                clientX: event.clientX,\n                clientY: event.clientY,\n            });\n        }\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    onTouchStart(event) {\n        /** @type {?} */\n        let startScrollPosition;\n        /** @type {?} */\n        let isDragActivated;\n        /** @type {?} */\n        let hasContainerScrollbar;\n        if ((this.scrollContainer && this.scrollContainer.activeLongPressDrag) ||\n            this.touchStartLongPress) {\n            this.timeLongPress.timerBegin = Date.now();\n            isDragActivated = false;\n            hasContainerScrollbar = this.hasScrollbar();\n            startScrollPosition = this.getScrollPosition();\n        }\n        if (!this.eventListenerSubscriptions.touchmove) {\n            /** @type {?} */\n            const contextMenuListener = fromEvent(this.document, 'contextmenu').subscribe((/**\n             * @param {?} e\n             * @return {?}\n             */\n            (e) => {\n                e.preventDefault();\n            }));\n            /** @type {?} */\n            const touchMoveListener = fromEvent(this.document, 'touchmove', {\n                passive: false,\n            }).subscribe((/**\n             * @param {?} touchMoveEvent\n             * @return {?}\n             */\n            (touchMoveEvent) => {\n                if (((this.scrollContainer && this.scrollContainer.activeLongPressDrag) ||\n                    this.touchStartLongPress) &&\n                    !isDragActivated &&\n                    hasContainerScrollbar) {\n                    isDragActivated = this.shouldBeginDrag(event, touchMoveEvent, startScrollPosition);\n                }\n                if (((!this.scrollContainer ||\n                    !this.scrollContainer.activeLongPressDrag) &&\n                    !this.touchStartLongPress) ||\n                    !hasContainerScrollbar ||\n                    isDragActivated) {\n                    touchMoveEvent.preventDefault();\n                    this.pointerMove$.next({\n                        event: touchMoveEvent,\n                        clientX: touchMoveEvent.targetTouches[0].clientX,\n                        clientY: touchMoveEvent.targetTouches[0].clientY,\n                    });\n                }\n            }));\n            this.eventListenerSubscriptions.touchmove = (/**\n             * @return {?}\n             */\n            () => {\n                contextMenuListener.unsubscribe();\n                touchMoveListener.unsubscribe();\n            });\n        }\n        this.pointerDown$.next({\n            event,\n            clientX: event.touches[0].clientX,\n            clientY: event.touches[0].clientY,\n        });\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    onTouchEnd(event) {\n        if (this.eventListenerSubscriptions.touchmove) {\n            this.eventListenerSubscriptions.touchmove();\n            delete this.eventListenerSubscriptions.touchmove;\n            if ((this.scrollContainer && this.scrollContainer.activeLongPressDrag) ||\n                this.touchStartLongPress) {\n                this.enableScroll();\n            }\n        }\n        this.pointerUp$.next({\n            event,\n            clientX: event.changedTouches[0].clientX,\n            clientY: event.changedTouches[0].clientY,\n        });\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    onMouseEnter() {\n        this.setCursor(this.dragCursor);\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    onMouseLeave() {\n        this.setCursor('');\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    canDrag() {\n        return this.dragAxis.x || this.dragAxis.y;\n    }\n    /**\n     * @private\n     * @param {?} value\n     * @return {?}\n     */\n    setCursor(value) {\n        if (!this.eventListenerSubscriptions.mousemove) {\n            this.renderer.setStyle(this.element.nativeElement, 'cursor', value);\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    unsubscribeEventListeners() {\n        Object.keys(this.eventListenerSubscriptions).forEach((/**\n         * @param {?} type\n         * @return {?}\n         */\n        (type) => {\n            ((/** @type {?} */ (this))).eventListenerSubscriptions[type]();\n            delete ((/** @type {?} */ (this))).eventListenerSubscriptions[type];\n        }));\n    }\n    /**\n     * @private\n     * @param {?} element\n     * @param {?} styles\n     * @return {?}\n     */\n    setElementStyles(element, styles) {\n        Object.keys(styles).forEach((/**\n         * @param {?} key\n         * @return {?}\n         */\n        (key) => {\n            this.renderer.setStyle(element, key, styles[key]);\n        }));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getScrollElement() {\n        if (this.scrollContainer) {\n            return this.scrollContainer.elementRef.nativeElement;\n        }\n        else {\n            return this.document.body;\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getScrollPosition() {\n        if (this.scrollContainer) {\n            return {\n                top: this.scrollContainer.elementRef.nativeElement.scrollTop,\n                left: this.scrollContainer.elementRef.nativeElement.scrollLeft,\n            };\n        }\n        else {\n            return {\n                top: window.pageYOffset || this.document.documentElement.scrollTop,\n                left: window.pageXOffset || this.document.documentElement.scrollLeft,\n            };\n        }\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @param {?} touchMoveEvent\n     * @param {?} startScrollPosition\n     * @return {?}\n     */\n    shouldBeginDrag(event, touchMoveEvent, startScrollPosition) {\n        /** @type {?} */\n        const moveScrollPosition = this.getScrollPosition();\n        /** @type {?} */\n        const deltaScroll = {\n            top: Math.abs(moveScrollPosition.top - startScrollPosition.top),\n            left: Math.abs(moveScrollPosition.left - startScrollPosition.left),\n        };\n        /** @type {?} */\n        const deltaX = Math.abs(touchMoveEvent.targetTouches[0].clientX - event.touches[0].clientX) - deltaScroll.left;\n        /** @type {?} */\n        const deltaY = Math.abs(touchMoveEvent.targetTouches[0].clientY - event.touches[0].clientY) - deltaScroll.top;\n        /** @type {?} */\n        const deltaTotal = deltaX + deltaY;\n        /** @type {?} */\n        const longPressConfig = this.touchStartLongPress\n            ? this.touchStartLongPress\n            : /* istanbul ignore next */\n                {\n                    delta: this.scrollContainer.longPressConfig.delta,\n                    delay: this.scrollContainer.longPressConfig.duration,\n                };\n        if (deltaTotal > longPressConfig.delta ||\n            deltaScroll.top > 0 ||\n            deltaScroll.left > 0) {\n            this.timeLongPress.timerBegin = Date.now();\n        }\n        this.timeLongPress.timerEnd = Date.now();\n        /** @type {?} */\n        const duration = this.timeLongPress.timerEnd - this.timeLongPress.timerBegin;\n        if (duration >= longPressConfig.delay) {\n            this.disableScroll();\n            return true;\n        }\n        return false;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    enableScroll() {\n        if (this.scrollContainer) {\n            this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement, 'overflow', '');\n        }\n        this.renderer.setStyle(this.document.body, 'overflow', '');\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    disableScroll() {\n        /* istanbul ignore next */\n        if (this.scrollContainer) {\n            this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement, 'overflow', 'hidden');\n        }\n        this.renderer.setStyle(this.document.body, 'overflow', 'hidden');\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    hasScrollbar() {\n        /** @type {?} */\n        const scrollContainer = this.getScrollElement();\n        /** @type {?} */\n        const containerHasHorizontalScroll = scrollContainer.scrollWidth > scrollContainer.clientWidth;\n        /** @type {?} */\n        const containerHasVerticalScroll = scrollContainer.scrollHeight > scrollContainer.clientHeight;\n        return containerHasHorizontalScroll || containerHasVerticalScroll;\n    }\n}\nDraggableDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlDraggable]',\n            },] }\n];\n/** @nocollapse */\nDraggableDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Renderer2 },\n    { type: DraggableHelper },\n    { type: NgZone },\n    { type: ViewContainerRef },\n    { type: DraggableScrollContainerDirective, decorators: [{ type: Optional }] },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\n];\nDraggableDirective.propDecorators = {\n    dropData: [{ type: Input }],\n    dragAxis: [{ type: Input }],\n    dragSnapGrid: [{ type: Input }],\n    ghostDragEnabled: [{ type: Input }],\n    showOriginalElementWhileDragging: [{ type: Input }],\n    validateDrag: [{ type: Input }],\n    dragCursor: [{ type: Input }],\n    dragActiveClass: [{ type: Input }],\n    ghostElementAppendTo: [{ type: Input }],\n    ghostElementTemplate: [{ type: Input }],\n    touchStartLongPress: [{ type: Input }],\n    autoScroll: [{ type: Input }],\n    dragPointerDown: [{ type: Output }],\n    dragStart: [{ type: Output }],\n    ghostElementCreated: [{ type: Output }],\n    dragging: [{ type: Output }],\n    dragEnd: [{ type: Output }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} clientX\n * @param {?} clientY\n * @param {?} rect\n * @return {?}\n */\nfunction isCoordinateWithinRectangle(clientX, clientY, rect) {\n    return (clientX >= rect.left &&\n        clientX <= rect.right &&\n        clientY >= rect.top &&\n        clientY <= rect.bottom);\n}\nclass DroppableDirective {\n    /**\n     * @param {?} element\n     * @param {?} draggableHelper\n     * @param {?} zone\n     * @param {?} renderer\n     * @param {?} scrollContainer\n     */\n    constructor(element, draggableHelper, zone, renderer, scrollContainer) {\n        this.element = element;\n        this.draggableHelper = draggableHelper;\n        this.zone = zone;\n        this.renderer = renderer;\n        this.scrollContainer = scrollContainer;\n        /**\n         * Called when a draggable element starts overlapping the element\n         */\n        this.dragEnter = new EventEmitter();\n        /**\n         * Called when a draggable element stops overlapping the element\n         */\n        this.dragLeave = new EventEmitter();\n        /**\n         * Called when a draggable element is moved over the element\n         */\n        this.dragOver = new EventEmitter();\n        /**\n         * Called when a draggable element is dropped on this element\n         */\n        this.drop = new EventEmitter(); // tslint:disable-line no-output-named-after-standard-event\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.currentDragSubscription = this.draggableHelper.currentDrag.subscribe((/**\n         * @param {?} drag$\n         * @return {?}\n         */\n        (drag$) => {\n            addClass(this.renderer, this.element, this.dragActiveClass);\n            /** @type {?} */\n            const droppableElement = {\n                updateCache: true,\n            };\n            /** @type {?} */\n            const deregisterScrollListener = this.renderer.listen(this.scrollContainer\n                ? this.scrollContainer.elementRef.nativeElement\n                : 'window', 'scroll', (/**\n             * @return {?}\n             */\n            () => {\n                droppableElement.updateCache = true;\n            }));\n            /** @type {?} */\n            let currentDragDropData;\n            /** @type {?} */\n            const overlaps$ = drag$.pipe(map((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ({ clientX, clientY, dropData, target }) => {\n                currentDragDropData = dropData;\n                if (droppableElement.updateCache) {\n                    droppableElement.rect = this.element.nativeElement.getBoundingClientRect();\n                    if (this.scrollContainer) {\n                        droppableElement.scrollContainerRect = this.scrollContainer.elementRef.nativeElement.getBoundingClientRect();\n                    }\n                    droppableElement.updateCache = false;\n                }\n                /** @type {?} */\n                const isWithinElement = isCoordinateWithinRectangle(clientX, clientY, (/** @type {?} */ (droppableElement.rect)));\n                /** @type {?} */\n                const isDropAllowed = !this.validateDrop ||\n                    this.validateDrop({ clientX, clientY, target });\n                if (droppableElement.scrollContainerRect) {\n                    return (isWithinElement &&\n                        isDropAllowed &&\n                        isCoordinateWithinRectangle(clientX, clientY, (/** @type {?} */ (droppableElement.scrollContainerRect))));\n                }\n                else {\n                    return isWithinElement && isDropAllowed;\n                }\n            })));\n            /** @type {?} */\n            const overlapsChanged$ = overlaps$.pipe(distinctUntilChanged());\n            /** @type {?} */\n            let dragOverActive;\n            overlapsChanged$\n                .pipe(filter((/**\n             * @param {?} overlapsNow\n             * @return {?}\n             */\n            (overlapsNow) => overlapsNow)))\n                .subscribe((/**\n             * @return {?}\n             */\n            () => {\n                dragOverActive = true;\n                addClass(this.renderer, this.element, this.dragOverClass);\n                this.zone.run((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.dragEnter.next({\n                        dropData: currentDragDropData,\n                    });\n                }));\n            }));\n            overlaps$.pipe(filter((/**\n             * @param {?} overlapsNow\n             * @return {?}\n             */\n            (overlapsNow) => overlapsNow))).subscribe((/**\n             * @return {?}\n             */\n            () => {\n                this.zone.run((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.dragOver.next({\n                        dropData: currentDragDropData,\n                    });\n                }));\n            }));\n            overlapsChanged$\n                .pipe(pairwise(), filter((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ([didOverlap, overlapsNow]) => didOverlap && !overlapsNow)))\n                .subscribe((/**\n             * @return {?}\n             */\n            () => {\n                dragOverActive = false;\n                removeClass(this.renderer, this.element, this.dragOverClass);\n                this.zone.run((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.dragLeave.next({\n                        dropData: currentDragDropData,\n                    });\n                }));\n            }));\n            drag$.subscribe({\n                complete: (/**\n                 * @return {?}\n                 */\n                () => {\n                    deregisterScrollListener();\n                    removeClass(this.renderer, this.element, this.dragActiveClass);\n                    if (dragOverActive) {\n                        removeClass(this.renderer, this.element, this.dragOverClass);\n                        this.zone.run((/**\n                         * @return {?}\n                         */\n                        () => {\n                            this.drop.next({\n                                dropData: currentDragDropData,\n                            });\n                        }));\n                    }\n                }),\n            });\n        }));\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        if (this.currentDragSubscription) {\n            this.currentDragSubscription.unsubscribe();\n        }\n    }\n}\nDroppableDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlDroppable]',\n            },] }\n];\n/** @nocollapse */\nDroppableDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: DraggableHelper },\n    { type: NgZone },\n    { type: Renderer2 },\n    { type: DraggableScrollContainerDirective, decorators: [{ type: Optional }] }\n];\nDroppableDirective.propDecorators = {\n    dragOverClass: [{ type: Input }],\n    dragActiveClass: [{ type: Input }],\n    validateDrop: [{ type: Input }],\n    dragEnter: [{ type: Output }],\n    dragLeave: [{ type: Output }],\n    dragOver: [{ type: Output }],\n    drop: [{ type: Output }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass DragAndDropModule {\n}\nDragAndDropModule.decorators = [\n    { type: NgModule, args: [{\n                declarations: [\n                    DraggableDirective,\n                    DroppableDirective,\n                    DraggableScrollContainerDirective,\n                ],\n                exports: [\n                    DraggableDirective,\n                    DroppableDirective,\n                    DraggableScrollContainerDirective,\n                ],\n            },] }\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { DragAndDropModule, DraggableHelper as ɵc, DraggableScrollContainerDirective as ɵd, DraggableDirective as ɵb, DroppableDirective as ɵa };\n\n//# sourceMappingURL=angular-draggable-droppable.js.map","export var english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: function (nth) {\n        var s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, calculateSecondsSinceMidnight, parseSeconds, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nvar DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    var self = {\n        config: __assign(__assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self.onMouseOver = onMouseOver;\n    self._createElement = createElement;\n    self.createDay = createDay;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.updateValue = updateValue;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth: function (month, yr) {\n                if (month === void 0) { month = self.currentMonth; }\n                if (yr === void 0) { yr = self.currentYear; }\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function getClosestActiveElement() {\n        var _a;\n        return (((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode())\n            .activeElement || document.activeElement);\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        var config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            var defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            var defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        var prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        var limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        var limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (self.config.maxTime !== undefined &&\n            self.config.minTime !== undefined &&\n            self.config.minTime > self.config.maxTime) {\n            var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());\n            var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());\n            var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);\n            if (currentTime > maxBound && currentTime < minBound) {\n                var result = parseSeconds(minBound);\n                hours = result[0];\n                minutes = result[1];\n                seconds = result[2];\n            }\n        }\n        else {\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                    minutes = minTime.getMinutes();\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        var date = dateObj || self.latestSelectedDateObj;\n        if (date && date instanceof Date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        var eventTarget = getEventTarget(event);\n        var year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n        if (element instanceof Array)\n            return element.forEach(function (el) { return bind(el, event, handler, options); });\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: function () { return element.removeEventListener(event, handler, options); },\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                    return bind(el, \"click\", self[evt]);\n                });\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        var debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", function (e) {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(self._input, \"keydown\", onKeyDown);\n        if (self.calendarContainer !== undefined) {\n            bind(self.calendarContainer, \"keydown\", onKeyDown);\n        }\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            var selText = function (e) {\n                return getEventTarget(e).select();\n            };\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", function (e) {\n                    updateTime(e);\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        var jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        var oldYear = self.currentYear;\n        var oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        var eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        var target = e && getEventTarget(e);\n        var input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        var event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        var fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        var customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, _dayNumber, i) {\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            i % 7 === 6) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (var m = startMonth; m != endMonth; m += delta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = delta > 0 ? 0 : month.children.length - 1;\n            var endIndex = delta > 0 ? month.children.length : -1;\n            for (var i = startIndex; i != endIndex; i += delta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        var givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        var loopDelta = delta > 0 ? 1 : -1;\n        for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            var numMonthDays = month.children.length;\n            for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        var activeElement = getClosestActiveElement();\n        var dayFocused = isInView(activeElement || document.body);\n        var startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        var dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        var frag = document.createDocumentFragment();\n        for (var i = 0; i < self.config.showMonths; i++) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        var shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (var i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        var container = createElement(\"div\", \"flatpickr-month\");\n        var monthNavFragment = window.document.createDocumentFragment();\n        var monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", function (e) {\n                var target = getEventTarget(e);\n                var selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container: container,\n            yearElement: yearElement,\n            monthElement: monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (var m = self.config.showMonths; m--;) {\n            var month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: function () { return self.__hidePrevMonthArrow; },\n            set: function (bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: function () { return self.__hideNextMonthArrow; },\n            set: function (bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        var defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        var hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        var minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            var secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (var i = self.config.showMonths; i--;) {\n            var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\n        var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\n        }\n        for (var i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper: weekWrapper,\n            weekNumbers: weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset) {\n        if (isOffset === void 0) { isOffset = true; }\n        var delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent, toInitial) {\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n        if (toInitial === void 0) { toInitial = true; }\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (var i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                var wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach(function (k) {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            var eventTarget_1 = getEventTarget(e);\n            var isCalendarElement = isCalendarElem(eventTarget_1);\n            var isInput = eventTarget_1 === self.input ||\n                eventTarget_1 === self.altInput ||\n                self.element.contains(eventTarget_1) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            var lostFocus = !isInput &&\n                !isCalendarElement &&\n                !isCalendarElem(e.relatedTarget);\n            var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                return elem.contains(eventTarget_1);\n            });\n            if (lostFocus && isIgnored) {\n                if (self.config.allowInput) {\n                    self.setDate(self._input.value, false, self.config.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                }\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1)\n                    self.clear(false);\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless) {\n        var _a;\n        if (timeless === void 0) { timeless = true; }\n        var dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (var i = 0, d = void 0; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                var parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        var isInput = e.target === self._input;\n        var valueChanged = self._input.value.trimEnd() !== getDateStr();\n        if (isInput &&\n            valueChanged &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        var eventTarget = getEventTarget(e);\n        var isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        var allowInput = self.config.allowInput;\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                self.close();\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            var isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        var activeElement = getClosestActiveElement();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (activeElement && isInView(activeElement)))) {\n                            var delta_1 = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta_1);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta_1);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    var delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        var elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter(function (x) { return x; });\n                        var i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            var target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem, cellClass) {\n        if (cellClass === void 0) { cellClass = \"flatpickr-day\"; }\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(cellClass) ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        var hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        var containsDisabled = false;\n        var minRange = 0, maxRange = 0;\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        var hoverableCells = Array.from(self.rContainer.querySelectorAll(\"*:nth-child(-n+\" + self.config.showMonths + \") > .\" + cellClass));\n        hoverableCells.forEach(function (dayElem) {\n            var date = dayElem.dateObj;\n            var timestamp = date.getTime();\n            var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                (maxRange > 0 && timestamp > maxRange);\n            if (outOfRange) {\n                dayElem.classList.add(\"notAllowed\");\n                [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                    dayElem.classList.remove(c);\n                });\n                return;\n            }\n            else if (containsDisabled && !outOfRange)\n                return;\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                dayElem.classList.remove(c);\n            });\n            if (elem !== undefined) {\n                elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                    ? \"startRange\"\n                    : \"endRange\");\n                if (initialDate < hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"startRange\");\n                else if (initialDate > hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"endRange\");\n                if (timestamp >= minRange &&\n                    (maxRange === 0 || timestamp <= maxRange) &&\n                    isBetween(timestamp, initialDate, hoverDate))\n                    dayElem.classList.add(\"inRange\");\n            }\n        });\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement) {\n        if (positionElement === void 0) { positionElement = self._positionElement; }\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                var eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        var wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(function () { return self.hourElement.select(); }, 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return function (date) {\n            var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n            var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        var boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        var formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: function () { return self.config._enable; },\n            set: function (dates) {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: function () { return self.config._disable; },\n            set: function (dates) {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        var timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: function () { return self.config._minDate; },\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: function () { return self.config._maxDate; },\n            set: minMaxDateSetter(\"max\"),\n        });\n        var minMaxTimeSetter = function (type) { return function (val) {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        }; };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: function () { return self.config._minTime; },\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: function () { return self.config._maxTime; },\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (var i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (var i = 0; i < self.config.plugins.length; i++) {\n            var pluginConf = self.config.plugins[i](self) || {};\n            for (var key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n        self.l10n = __assign(__assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.D = \"(\" + self.l10n.weekdays.shorthand.join(\"|\") + \")\";\n        tokenRegex.l = \"(\" + self.l10n.weekdays.longhand.join(\"|\") + \")\";\n        tokenRegex.M = \"(\" + self.l10n.months.shorthand.join(\"|\") + \")\";\n        tokenRegex.F = \"(\" + self.l10n.months.longhand.join(\"|\") + \")\";\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n        var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        var positionElement = customPositionElement || self._positionElement;\n        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        var top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        var left = window.pageXOffset + inputBounds.left;\n        var isCenter = false;\n        var isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        var right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = top + \"px\";\n        if (!rightMost) {\n            self.calendarContainer.style.left = left + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = right + \"px\";\n        }\n        else {\n            var doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            var bodyWidth = window.document.body.offsetWidth;\n            var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            var centerBefore = \".flatpickr-calendar.centerMost:before\";\n            var centerAfter = \".flatpickr-calendar.centerMost:after\";\n            var centerIndex = doc.cssRules.length;\n            var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n            self.calendarContainer.style.left = centerLeft + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        var editableSheet = null;\n        for (var i = 0; i < document.styleSheets.length; i++) {\n            var sheet = document.styleSheets[i];\n            if (!sheet.cssRules)\n                continue;\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        var style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var isSelectable = function (day) {\n            return day.classList &&\n                day.classList.contains(\"flatpickr-day\") &&\n                !day.classList.contains(\"flatpickr-disabled\") &&\n                !day.classList.contains(\"notAllowed\");\n        };\n        var t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        var target = t;\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            var selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            var single = self.config.mode === \"single\" && !self.config.enableTime;\n            var range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    var CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        positionElement: [updatePositionElement],\n        clickOpens: [\n            function () {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (var key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach(function (x) { return x(); });\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach(function (x) { return x(); });\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        var dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); }));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n    }\n    function setDate(date, triggerChange, format) {\n        if (triggerChange === void 0) { triggerChange = false; }\n        if (format === void 0) { format = self.config.dateFormat; }\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map(function (rule) {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter(function (x) { return x; });\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        var preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        updatePositionElement();\n    }\n    function updatePositionElement() {\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        var inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", function (e) {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        var hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        var e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (var i = 0; i < self.selectedDates.length; i++) {\n            var selectedDate = self.selectedDates[i];\n            if (selectedDate instanceof Date &&\n                compareDates(selectedDate, date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach(function (yearElement, i) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(specificFormat) {\n        var format = specificFormat ||\n            (self.config.altInput ? self.config.altFormat : self.config.dateFormat);\n        return self.selectedDates\n            .map(function (dObj) { return self.formatDate(dObj, format); })\n            .filter(function (d, i, arr) {\n            return self.config.mode !== \"range\" ||\n                self.config.enableTime ||\n                arr.indexOf(d) === i;\n        })\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange) {\n        if (triggerChange === void 0) { triggerChange = true; }\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        var eventTarget = getEventTarget(e);\n        var isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        var isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        var isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        var newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    var nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter(function (x) { return x instanceof HTMLElement; });\n    var instances = [];\n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: __assign({}, English),\n    default: __assign({}, English),\n};\nflatpickr.localize = function (l10n) {\n    flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = function (config) {\n    flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","// previous version:\n// https://github.com/angular-ui/bootstrap/blob/07c31d0731f7cb068a1932b8e01d2312b796b4ec/src/position/position.js\nvar Positioning = /** @class */ (function () {\n    function Positioning() {\n    }\n    Positioning.prototype.getAllStyles = function (element) { return window.getComputedStyle(element); };\n    Positioning.prototype.getStyle = function (element, prop) { return this.getAllStyles(element)[prop]; };\n    Positioning.prototype.isStaticPositioned = function (element) {\n        return (this.getStyle(element, 'position') || 'static') === 'static';\n    };\n    Positioning.prototype.offsetParent = function (element) {\n        var offsetParentEl = element.offsetParent || document.documentElement;\n        while (offsetParentEl && offsetParentEl !== document.documentElement && this.isStaticPositioned(offsetParentEl)) {\n            offsetParentEl = offsetParentEl.offsetParent;\n        }\n        return offsetParentEl || document.documentElement;\n    };\n    Positioning.prototype.position = function (element, round) {\n        if (round === void 0) { round = true; }\n        var elPosition;\n        var parentOffset = { width: 0, height: 0, top: 0, bottom: 0, left: 0, right: 0 };\n        if (this.getStyle(element, 'position') === 'fixed') {\n            elPosition = element.getBoundingClientRect();\n            elPosition = {\n                top: elPosition.top,\n                bottom: elPosition.bottom,\n                left: elPosition.left,\n                right: elPosition.right,\n                height: elPosition.height,\n                width: elPosition.width\n            };\n        }\n        else {\n            var offsetParentEl = this.offsetParent(element);\n            elPosition = this.offset(element, false);\n            if (offsetParentEl !== document.documentElement) {\n                parentOffset = this.offset(offsetParentEl, false);\n            }\n            parentOffset.top += offsetParentEl.clientTop;\n            parentOffset.left += offsetParentEl.clientLeft;\n        }\n        elPosition.top -= parentOffset.top;\n        elPosition.bottom -= parentOffset.top;\n        elPosition.left -= parentOffset.left;\n        elPosition.right -= parentOffset.left;\n        if (round) {\n            elPosition.top = Math.round(elPosition.top);\n            elPosition.bottom = Math.round(elPosition.bottom);\n            elPosition.left = Math.round(elPosition.left);\n            elPosition.right = Math.round(elPosition.right);\n        }\n        return elPosition;\n    };\n    Positioning.prototype.offset = function (element, round) {\n        if (round === void 0) { round = true; }\n        var elBcr = element.getBoundingClientRect();\n        var viewportOffset = {\n            top: window.pageYOffset - document.documentElement.clientTop,\n            left: window.pageXOffset - document.documentElement.clientLeft\n        };\n        var elOffset = {\n            height: elBcr.height || element.offsetHeight,\n            width: elBcr.width || element.offsetWidth,\n            top: elBcr.top + viewportOffset.top,\n            bottom: elBcr.bottom + viewportOffset.top,\n            left: elBcr.left + viewportOffset.left,\n            right: elBcr.right + viewportOffset.left\n        };\n        if (round) {\n            elOffset.height = Math.round(elOffset.height);\n            elOffset.width = Math.round(elOffset.width);\n            elOffset.top = Math.round(elOffset.top);\n            elOffset.bottom = Math.round(elOffset.bottom);\n            elOffset.left = Math.round(elOffset.left);\n            elOffset.right = Math.round(elOffset.right);\n        }\n        return elOffset;\n    };\n    /*\n      Return false if the element to position is outside the viewport\n    */\n    Positioning.prototype.positionElements = function (hostElement, targetElement, placement, appendToBody) {\n        var _a = placement.split('-'), _b = _a[0], placementPrimary = _b === void 0 ? 'top' : _b, _c = _a[1], placementSecondary = _c === void 0 ? 'center' : _c;\n        var hostElPosition = appendToBody ? this.offset(hostElement, false) : this.position(hostElement, false);\n        var targetElStyles = this.getAllStyles(targetElement);\n        var marginTop = parseFloat(targetElStyles.marginTop);\n        var marginBottom = parseFloat(targetElStyles.marginBottom);\n        var marginLeft = parseFloat(targetElStyles.marginLeft);\n        var marginRight = parseFloat(targetElStyles.marginRight);\n        var topPosition = 0;\n        var leftPosition = 0;\n        switch (placementPrimary) {\n            case 'top':\n                topPosition = (hostElPosition.top - (targetElement.offsetHeight + marginTop + marginBottom));\n                break;\n            case 'bottom':\n                topPosition = (hostElPosition.top + hostElPosition.height);\n                break;\n            case 'left':\n                leftPosition = (hostElPosition.left - (targetElement.offsetWidth + marginLeft + marginRight));\n                break;\n            case 'right':\n                leftPosition = (hostElPosition.left + hostElPosition.width);\n                break;\n        }\n        switch (placementSecondary) {\n            case 'top':\n                topPosition = hostElPosition.top;\n                break;\n            case 'bottom':\n                topPosition = hostElPosition.top + hostElPosition.height - targetElement.offsetHeight;\n                break;\n            case 'left':\n                leftPosition = hostElPosition.left;\n                break;\n            case 'right':\n                leftPosition = hostElPosition.left + hostElPosition.width - targetElement.offsetWidth;\n                break;\n            case 'center':\n                if (placementPrimary === 'top' || placementPrimary === 'bottom') {\n                    leftPosition = (hostElPosition.left + hostElPosition.width / 2 - targetElement.offsetWidth / 2);\n                }\n                else {\n                    topPosition = (hostElPosition.top + hostElPosition.height / 2 - targetElement.offsetHeight / 2);\n                }\n                break;\n        }\n        /// The translate3d/gpu acceleration render a blurry text on chrome, the next line is commented until a browser fix\n        // targetElement.style.transform = `translate3d(${Math.round(leftPosition)}px, ${Math.floor(topPosition)}px, 0px)`;\n        targetElement.style.transform = \"translate(\" + Math.round(leftPosition) + \"px, \" + Math.round(topPosition) + \"px)\";\n        // Check if the targetElement is inside the viewport\n        var targetElBCR = targetElement.getBoundingClientRect();\n        var html = document.documentElement;\n        var windowHeight = window.innerHeight || html.clientHeight;\n        var windowWidth = window.innerWidth || html.clientWidth;\n        return targetElBCR.left >= 0 && targetElBCR.top >= 0 && targetElBCR.right <= windowWidth &&\n            targetElBCR.bottom <= windowHeight;\n    };\n    return Positioning;\n}());\nexport { Positioning };\nvar placementSeparator = /\\s+/;\nvar positionService = new Positioning();\n/*\n * Accept the placement array and applies the appropriate placement dependent on the viewport.\n * Returns the applied placement.\n * In case of auto placement, placements are selected in order\n *   'top', 'bottom', 'left', 'right',\n *   'top-left', 'top-right',\n *   'bottom-left', 'bottom-right',\n *   'left-top', 'left-bottom',\n *   'right-top', 'right-bottom'.\n * */\nexport function positionElements(hostElement, targetElement, placement, appendToBody, baseClass) {\n    var placementVals = Array.isArray(placement) ? placement : placement.split(placementSeparator);\n    var allowedPlacements = [\n        'top', 'bottom', 'left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right', 'left-top', 'left-bottom',\n        'right-top', 'right-bottom'\n    ];\n    var classList = targetElement.classList;\n    var addClassesToTarget = function (targetPlacement) {\n        var _a = targetPlacement.split('-'), primary = _a[0], secondary = _a[1];\n        var classes = [];\n        if (baseClass) {\n            classes.push(baseClass + \"-\" + primary);\n            if (secondary) {\n                classes.push(baseClass + \"-\" + primary + \"-\" + secondary);\n            }\n            classes.forEach(function (classname) { classList.add(classname); });\n        }\n        return classes;\n    };\n    // Remove old placement classes to avoid issues\n    if (baseClass) {\n        allowedPlacements.forEach(function (placementToRemove) { classList.remove(baseClass + \"-\" + placementToRemove); });\n    }\n    // replace auto placement with other placements\n    var hasAuto = placementVals.findIndex(function (val) { return val === 'auto'; });\n    if (hasAuto >= 0) {\n        allowedPlacements.forEach(function (obj) {\n            if (placementVals.find(function (val) { return val.search('^' + obj) !== -1; }) == null) {\n                placementVals.splice(hasAuto++, 1, obj);\n            }\n        });\n    }\n    // coordinates where to position\n    // Required for transform:\n    var style = targetElement.style;\n    style.position = 'absolute';\n    style.top = '0';\n    style.left = '0';\n    style['will-change'] = 'transform';\n    var testPlacement;\n    var isInViewport = false;\n    for (var _i = 0, placementVals_1 = placementVals; _i < placementVals_1.length; _i++) {\n        testPlacement = placementVals_1[_i];\n        var addedClasses = addClassesToTarget(testPlacement);\n        if (positionService.positionElements(hostElement, targetElement, testPlacement, appendToBody)) {\n            isInViewport = true;\n            break;\n        }\n        // Remove the baseClasses for further calculation\n        if (baseClass) {\n            addedClasses.forEach(function (classname) { classList.remove(classname); });\n        }\n    }\n    if (!isInViewport) {\n        // If nothing match, the first placement is the default one\n        testPlacement = placementVals[0];\n        addClassesToTarget(testPlacement);\n        positionService.positionElements(hostElement, targetElement, testPlacement, appendToBody);\n    }\n    return testPlacement;\n}\n//# sourceMappingURL=positioning.js.map","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n(function (factory) {\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\n        var v = factory(null, exports);\n        if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === \"function\" && define.amd) {\n        define(\"@angular/common/locales/es-BO\", [\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    // THIS CODE IS GENERATED - DO NOT MODIFY\n    // See angular/tools/gulp-tasks/cldr/extract.js\n    var u = undefined;\n    function plural(n) {\n        if (n === 1)\n            return 1;\n        return 5;\n    }\n    exports.default = [\n        'es-BO',\n        [['a. m.', 'p. m.'], u, u],\n        u,\n        [\n            ['d', 'l', 'm', 'm', 'j', 'v', 's'], ['dom.', 'lun.', 'mar.', 'mié.', 'jue.', 'vie.', 'sáb.'],\n            ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],\n            ['DO', 'LU', 'MA', 'MI', 'JU', 'VI', 'SA']\n        ],\n        [\n            ['D', 'L', 'M', 'M', 'J', 'V', 'S'], ['dom.', 'lun.', 'mar.', 'mié.', 'jue.', 'vie.', 'sáb.'],\n            ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],\n            ['DO', 'LU', 'MA', 'MI', 'JU', 'VI', 'SA']\n        ],\n        [\n            ['E', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n            [\n                'ene.', 'feb.', 'mar.', 'abr.', 'may.', 'jun.', 'jul.', 'ago.', 'sep.', 'oct.', 'nov.', 'dic.'\n            ],\n            [\n                'enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre',\n                'octubre', 'noviembre', 'diciembre'\n            ]\n        ],\n        u,\n        [['a. C.', 'd. C.'], u, ['antes de Cristo', 'después de Cristo']],\n        1,\n        [6, 0],\n        ['d/M/yy', 'd MMM \\'de\\' y', 'd \\'de\\' MMMM \\'de\\' y', 'EEEE, d \\'de\\' MMMM \\'de\\' y'],\n        ['HH:mm', 'HH:mm:ss', 'HH:mm:ss z', 'HH:mm:ss zzzz'],\n        ['{1} {0}', u, '{1} \\'a\\' \\'las\\' {0}', u],\n        [',', '.', ';', '%', '+', '-', 'E', '×', '‰', '∞', 'NaN', ':'],\n        ['#,##0.###', '#,##0 %', '¤#,##0.00', '#E0'],\n        'BOB',\n        'Bs',\n        'boliviano',\n        {\n            'AUD': [u, '$'],\n            'BOB': ['Bs'],\n            'BRL': [u, 'R$'],\n            'CAD': [u, '$'],\n            'CNY': [u, '¥'],\n            'ESP': ['₧'],\n            'EUR': [u, '€'],\n            'FKP': [u, 'FK£'],\n            'GBP': [u, '£'],\n            'HKD': [u, '$'],\n            'ILS': [u, '₪'],\n            'INR': [u, '₹'],\n            'JPY': [u, '¥'],\n            'KRW': [u, '₩'],\n            'MXN': [u, '$'],\n            'NZD': [u, '$'],\n            'RON': [u, 'L'],\n            'SSP': [u, 'SD£'],\n            'SYP': [u, 'S£'],\n            'TWD': [u, 'NT$'],\n            'USD': [u, '$'],\n            'VEF': [u, 'BsF'],\n            'VND': [u, '₫'],\n            'XAF': [],\n            'XCD': [u, '$'],\n            'XOF': []\n        },\n        'ltr',\n        plural\n    ];\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXMtQk8uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9jb21tb24vbG9jYWxlcy9lcy1CTy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7Ozs7Ozs7Ozs7OztJQUVILHlDQUF5QztJQUN6QywrQ0FBK0M7SUFFL0MsSUFBTSxDQUFDLEdBQUcsU0FBUyxDQUFDO0lBRXBCLFNBQVMsTUFBTSxDQUFDLENBQVM7UUFDdkIsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3RCLE9BQU8sQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUVELGtCQUFlO1FBQ2IsT0FBTztRQUNQLENBQUMsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMxQixDQUFDO1FBQ0Q7WUFDRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDO1lBQzdGLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDO1lBQzFFLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDO1NBQzNDO1FBQ0Q7WUFDRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDO1lBQzdGLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDO1lBQzFFLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDO1NBQzNDO1FBQ0Q7WUFDRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO1lBQzVEO2dCQUNFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTTthQUMvRjtZQUNEO2dCQUNFLE9BQU8sRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsWUFBWTtnQkFDdEYsU0FBUyxFQUFFLFdBQVcsRUFBRSxXQUFXO2FBQ3BDO1NBQ0Y7UUFDRCxDQUFDO1FBQ0QsQ0FBQyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1FBQ2pFLENBQUM7UUFDRCxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDTixDQUFDLFFBQVEsRUFBRSxnQkFBZ0IsRUFBRSx3QkFBd0IsRUFBRSw4QkFBOEIsQ0FBQztRQUN0RixDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLGVBQWUsQ0FBQztRQUNwRCxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsdUJBQXVCLEVBQUUsQ0FBQyxDQUFDO1FBQzFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUM7UUFDOUQsQ0FBQyxXQUFXLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxLQUFLLENBQUM7UUFDNUMsS0FBSztRQUNMLElBQUk7UUFDSixXQUFXO1FBQ1g7WUFDRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO1lBQ2YsS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDO1lBQ2IsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQztZQUNoQixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO1lBQ2YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztZQUNmLEtBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQztZQUNaLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDO1lBQ2pCLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO1lBQ2YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztZQUNmLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO1lBQ2YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztZQUNmLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO1lBQ2YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztZQUNmLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUM7WUFDakIsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQztZQUNoQixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDO1lBQ2pCLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDO1lBQ2pCLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsRUFBRTtZQUNULEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsRUFBRTtTQUNWO1FBQ0QsS0FBSztRQUNMLE1BQU07S0FDUCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8vIFRISVMgQ09ERSBJUyBHRU5FUkFURUQgLSBETyBOT1QgTU9ESUZZXG4vLyBTZWUgYW5ndWxhci90b29scy9ndWxwLXRhc2tzL2NsZHIvZXh0cmFjdC5qc1xuXG5jb25zdCB1ID0gdW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBwbHVyYWwobjogbnVtYmVyKTogbnVtYmVyIHtcbiAgaWYgKG4gPT09IDEpIHJldHVybiAxO1xuICByZXR1cm4gNTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgW1xuICAnZXMtQk8nLFxuICBbWydhLsKgbS4nLCAncC7CoG0uJ10sIHUsIHVdLFxuICB1LFxuICBbXG4gICAgWydkJywgJ2wnLCAnbScsICdtJywgJ2onLCAndicsICdzJ10sIFsnZG9tLicsICdsdW4uJywgJ21hci4nLCAnbWnDqS4nLCAnanVlLicsICd2aWUuJywgJ3PDoWIuJ10sXG4gICAgWydkb21pbmdvJywgJ2x1bmVzJywgJ21hcnRlcycsICdtacOpcmNvbGVzJywgJ2p1ZXZlcycsICd2aWVybmVzJywgJ3PDoWJhZG8nXSxcbiAgICBbJ0RPJywgJ0xVJywgJ01BJywgJ01JJywgJ0pVJywgJ1ZJJywgJ1NBJ11cbiAgXSxcbiAgW1xuICAgIFsnRCcsICdMJywgJ00nLCAnTScsICdKJywgJ1YnLCAnUyddLCBbJ2RvbS4nLCAnbHVuLicsICdtYXIuJywgJ21pw6kuJywgJ2p1ZS4nLCAndmllLicsICdzw6FiLiddLFxuICAgIFsnZG9taW5nbycsICdsdW5lcycsICdtYXJ0ZXMnLCAnbWnDqXJjb2xlcycsICdqdWV2ZXMnLCAndmllcm5lcycsICdzw6FiYWRvJ10sXG4gICAgWydETycsICdMVScsICdNQScsICdNSScsICdKVScsICdWSScsICdTQSddXG4gIF0sXG4gIFtcbiAgICBbJ0UnLCAnRicsICdNJywgJ0EnLCAnTScsICdKJywgJ0onLCAnQScsICdTJywgJ08nLCAnTicsICdEJ10sXG4gICAgW1xuICAgICAgJ2VuZS4nLCAnZmViLicsICdtYXIuJywgJ2Fici4nLCAnbWF5LicsICdqdW4uJywgJ2p1bC4nLCAnYWdvLicsICdzZXAuJywgJ29jdC4nLCAnbm92LicsICdkaWMuJ1xuICAgIF0sXG4gICAgW1xuICAgICAgJ2VuZXJvJywgJ2ZlYnJlcm8nLCAnbWFyem8nLCAnYWJyaWwnLCAnbWF5bycsICdqdW5pbycsICdqdWxpbycsICdhZ29zdG8nLCAnc2VwdGllbWJyZScsXG4gICAgICAnb2N0dWJyZScsICdub3ZpZW1icmUnLCAnZGljaWVtYnJlJ1xuICAgIF1cbiAgXSxcbiAgdSxcbiAgW1snYS4gQy4nLCAnZC4gQy4nXSwgdSwgWydhbnRlcyBkZSBDcmlzdG8nLCAnZGVzcHXDqXMgZGUgQ3Jpc3RvJ11dLFxuICAxLFxuICBbNiwgMF0sXG4gIFsnZC9NL3l5JywgJ2QgTU1NIFxcJ2RlXFwnIHknLCAnZCBcXCdkZVxcJyBNTU1NIFxcJ2RlXFwnIHknLCAnRUVFRSwgZCBcXCdkZVxcJyBNTU1NIFxcJ2RlXFwnIHknXSxcbiAgWydISDptbScsICdISDptbTpzcycsICdISDptbTpzcyB6JywgJ0hIOm1tOnNzIHp6enonXSxcbiAgWyd7MX0gezB9JywgdSwgJ3sxfSBcXCdhXFwnIFxcJ2xhc1xcJyB7MH0nLCB1XSxcbiAgWycsJywgJy4nLCAnOycsICclJywgJysnLCAnLScsICdFJywgJ8OXJywgJ+KAsCcsICfiiJ4nLCAnTmFOJywgJzonXSxcbiAgWycjLCMjMC4jIyMnLCAnIywjIzDCoCUnLCAnwqQjLCMjMC4wMCcsICcjRTAnXSxcbiAgJ0JPQicsXG4gICdCcycsXG4gICdib2xpdmlhbm8nLFxuICB7XG4gICAgJ0FVRCc6IFt1LCAnJCddLFxuICAgICdCT0InOiBbJ0JzJ10sXG4gICAgJ0JSTCc6IFt1LCAnUiQnXSxcbiAgICAnQ0FEJzogW3UsICckJ10sXG4gICAgJ0NOWSc6IFt1LCAnwqUnXSxcbiAgICAnRVNQJzogWyfigqcnXSxcbiAgICAnRVVSJzogW3UsICfigqwnXSxcbiAgICAnRktQJzogW3UsICdGS8KjJ10sXG4gICAgJ0dCUCc6IFt1LCAnwqMnXSxcbiAgICAnSEtEJzogW3UsICckJ10sXG4gICAgJ0lMUyc6IFt1LCAn4oKqJ10sXG4gICAgJ0lOUic6IFt1LCAn4oK5J10sXG4gICAgJ0pQWSc6IFt1LCAnwqUnXSxcbiAgICAnS1JXJzogW3UsICfigqknXSxcbiAgICAnTVhOJzogW3UsICckJ10sXG4gICAgJ05aRCc6IFt1LCAnJCddLFxuICAgICdST04nOiBbdSwgJ0wnXSxcbiAgICAnU1NQJzogW3UsICdTRMKjJ10sXG4gICAgJ1NZUCc6IFt1LCAnU8KjJ10sXG4gICAgJ1RXRCc6IFt1LCAnTlQkJ10sXG4gICAgJ1VTRCc6IFt1LCAnJCddLFxuICAgICdWRUYnOiBbdSwgJ0JzRiddLFxuICAgICdWTkQnOiBbdSwgJ+KCqyddLFxuICAgICdYQUYnOiBbXSxcbiAgICAnWENEJzogW3UsICckJ10sXG4gICAgJ1hPRic6IFtdXG4gIH0sXG4gICdsdHInLFxuICBwbHVyYWxcbl07XG4iXX0=","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    var e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (var key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","function getDef(f, d) {\n    if (typeof f === 'undefined') {\n        return typeof d === 'undefined' ? f : d;\n    }\n\n    return f;\n}\nfunction boolean(func, def) {\n\n    func = getDef(func, def);\n\n    if (typeof func === 'function') {\n        return function f() {\n            var arguments$1 = arguments;\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments$1[_key];\n            }\n\n            return !!func.apply(this, args);\n        };\n    }\n\n    return !!func ? function () {\n        return true;\n    } : function () {\n        return false;\n    };\n}\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\n/**\n * Returns `true` if provided input is Element.\n * @name isElement\n * @param {*} [input]\n * @returns {boolean}\n */\nvar isElement$1 = function (input) {\n  return input != null && (typeof input === 'undefined' ? 'undefined' : _typeof(input)) === 'object' && input.nodeType === 1 && _typeof(input.style) === 'object' && _typeof(input.ownerDocument) === 'object';\n};\n\nfunction indexOfElement(elements, element){\n    element = resolveElement(element, true);\n    if(!isElement$1(element)) { return -1; }\n    for(var i=0; i<elements.length; i++){\n        if(elements[i] === element){\n            return i;\n        }\n    }\n    return -1;\n}\n\nfunction hasElement(elements, element){\n    return -1 !== indexOfElement(elements, element);\n}\n\nfunction pushElements(elements, toAdd){\n\n    for(var i=0; i<toAdd.length; i++){\n        if(!hasElement(elements, toAdd[i]))\n            { elements.push(toAdd[i]); }\n    }\n\n    return toAdd;\n}\n\nfunction addElements(elements){\n    var arguments$1 = arguments;\n\n    var toAdd = [], len = arguments.length - 1;\n    while ( len-- > 0 ) { toAdd[ len ] = arguments$1[ len + 1 ]; }\n\n    toAdd = toAdd.map(resolveElement);\n    return pushElements(elements, toAdd);\n}\n\nfunction removeElements(elements){\n    var arguments$1 = arguments;\n\n    var toRemove = [], len = arguments.length - 1;\n    while ( len-- > 0 ) { toRemove[ len ] = arguments$1[ len + 1 ]; }\n\n    return toRemove.map(resolveElement).reduce(function (last, e){\n\n        var index = indexOfElement(elements, e);\n\n        if(index !== -1)\n            { return last.concat(elements.splice(index, 1)); }\n        return last;\n    }, []);\n}\n\nfunction resolveElement(element, noThrow){\n    if(typeof element === 'string'){\n        try{\n            return document.querySelector(element);\n        }catch(e){\n            throw e;\n        }\n\n    }\n\n    if(!isElement$1(element) && !noThrow){\n        throw new TypeError((element + \" is not a DOM element.\"));\n    }\n    return element;\n}\n\nfunction createPointCB(object, options) {\n\n    // A persistent object (as opposed to returned object) is used to save memory\n    // This is good to prevent layout thrashing, or for games, and such\n\n    // NOTE\n    // This uses IE fixes which should be OK to remove some day. :)\n    // Some speed will be gained by removal of these.\n\n    // pointCB should be saved in a variable on return\n    // This allows the usage of element.removeEventListener\n\n    options = options || {};\n\n    var allowUpdate = boolean(options.allowUpdate, true);\n\n    /*if(typeof options.allowUpdate === 'function'){\n        allowUpdate = options.allowUpdate;\n    }else{\n        allowUpdate = function(){return true;};\n    }*/\n\n    return function pointCB(event) {\n\n        event = event || window.event; // IE-ism\n        object.target = event.target || event.srcElement || event.originalTarget;\n        object.element = this;\n        object.type = event.type;\n\n        if (!allowUpdate(event)) {\n            return;\n        }\n\n        // Support touch\n        // http://www.creativebloq.com/javascript/make-your-site-work-touch-devices-51411644\n\n        if (event.targetTouches) {\n            object.x = event.targetTouches[0].clientX;\n            object.y = event.targetTouches[0].clientY;\n            object.pageX = event.targetTouches[0].pageX;\n            object.pageY = event.targetTouches[0].pageY;\n            object.screenX = event.targetTouches[0].screenX;\n            object.screenY = event.targetTouches[0].screenY;\n        } else {\n\n            // If pageX/Y aren't available and clientX/Y are,\n            // calculate pageX/Y - logic taken from jQuery.\n            // (This is to support old IE)\n            // NOTE Hopefully this can be removed soon.\n\n            if (event.pageX === null && event.clientX !== null) {\n                var eventDoc = event.target && event.target.ownerDocument || document;\n                var doc = eventDoc.documentElement;\n                var body = eventDoc.body;\n\n                object.pageX = event.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n                object.pageY = event.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n            } else {\n                object.pageX = event.pageX;\n                object.pageY = event.pageY;\n            }\n\n            // pageX, and pageY change with page scroll\n            // so we're not going to use those for x, and y.\n            // NOTE Most browsers also alias clientX/Y with x/y\n            // so that's something to consider down the road.\n\n            object.x = event.clientX;\n            object.y = event.clientY;\n\n            object.screenX = event.screenX;\n            object.screenY = event.screenY;\n        }\n\n        object.clientX = object.x;\n        object.clientY = object.y;\n    };\n\n    //NOTE Remember accessibility, Aria roles, and labels.\n}\n\nfunction createWindowRect() {\n    var props = {\n        top: { value: 0, enumerable: true },\n        left: { value: 0, enumerable: true },\n        right: { value: window.innerWidth, enumerable: true },\n        bottom: { value: window.innerHeight, enumerable: true },\n        width: { value: window.innerWidth, enumerable: true },\n        height: { value: window.innerHeight, enumerable: true },\n        x: { value: 0, enumerable: true },\n        y: { value: 0, enumerable: true }\n    };\n\n    if (Object.create) {\n        return Object.create({}, props);\n    } else {\n        var rect = {};\n        Object.defineProperties(rect, props);\n        return rect;\n    }\n}\n\nfunction getClientRect(el) {\n    if (el === window) {\n        return createWindowRect();\n    } else {\n        try {\n            var rect = el.getBoundingClientRect();\n            if (rect.x === undefined) {\n                rect.x = rect.left;\n                rect.y = rect.top;\n            }\n            return rect;\n        } catch (e) {\n            throw new TypeError(\"Can't call getBoundingClientRect on \" + el);\n        }\n    }\n}\n\nfunction pointInside(point, el) {\n    var rect = getClientRect(el);\n    return point.y > rect.top && point.y < rect.bottom && point.x > rect.left && point.x < rect.right;\n}\n\nvar objectCreate = void 0;\nif (typeof Object.create != 'function') {\n  objectCreate = function (undefined$1) {\n    var Temp = function Temp() {};\n    return function (prototype, propertiesObject) {\n      if (prototype !== Object(prototype) && prototype !== null) {\n        throw TypeError('Argument must be an object, or null');\n      }\n      Temp.prototype = prototype || {};\n      var result = new Temp();\n      Temp.prototype = null;\n      if (propertiesObject !== undefined$1) {\n        Object.defineProperties(result, propertiesObject);\n      }\n\n      // to imitate the case of Object.create(null)\n      if (prototype === null) {\n        result.__proto__ = null;\n      }\n      return result;\n    };\n  }();\n} else {\n  objectCreate = Object.create;\n}\n\nvar objectCreate$1 = objectCreate;\n\nvar mouseEventProps = ['altKey', 'button', 'buttons', 'clientX', 'clientY', 'ctrlKey', 'metaKey', 'movementX', 'movementY', 'offsetX', 'offsetY', 'pageX', 'pageY', 'region', 'relatedTarget', 'screenX', 'screenY', 'shiftKey', 'which', 'x', 'y'];\n\nfunction createDispatcher(element) {\n\n    var defaultSettings = {\n        screenX: 0,\n        screenY: 0,\n        clientX: 0,\n        clientY: 0,\n        ctrlKey: false,\n        shiftKey: false,\n        altKey: false,\n        metaKey: false,\n        button: 0,\n        buttons: 1,\n        relatedTarget: null,\n        region: null\n    };\n\n    if (element !== undefined) {\n        element.addEventListener('mousemove', onMove);\n    }\n\n    function onMove(e) {\n        for (var i = 0; i < mouseEventProps.length; i++) {\n            defaultSettings[mouseEventProps[i]] = e[mouseEventProps[i]];\n        }\n    }\n\n    var dispatch = function () {\n        if (MouseEvent) {\n            return function m1(element, initMove, data) {\n                var evt = new MouseEvent('mousemove', createMoveInit(defaultSettings, initMove));\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        } else if (typeof document.createEvent === 'function') {\n            return function m2(element, initMove, data) {\n                var settings = createMoveInit(defaultSettings, initMove);\n                var evt = document.createEvent('MouseEvents');\n\n                evt.initMouseEvent(\"mousemove\", true, //can bubble\n                true, //cancelable\n                window, //view\n                0, //detail\n                settings.screenX, //0, //screenX\n                settings.screenY, //0, //screenY\n                settings.clientX, //80, //clientX\n                settings.clientY, //20, //clientY\n                settings.ctrlKey, //false, //ctrlKey\n                settings.altKey, //false, //altKey\n                settings.shiftKey, //false, //shiftKey\n                settings.metaKey, //false, //metaKey\n                settings.button, //0, //button\n                settings.relatedTarget //null //relatedTarget\n                );\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        } else if (typeof document.createEventObject === 'function') {\n            return function m3(element, initMove, data) {\n                var evt = document.createEventObject();\n                var settings = createMoveInit(defaultSettings, initMove);\n                for (var name in settings) {\n                    evt[name] = settings[name];\n                }\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        }\n    }();\n\n    function destroy() {\n        if (element) { element.removeEventListener('mousemove', onMove, false); }\n        defaultSettings = null;\n    }\n\n    return {\n        destroy: destroy,\n        dispatch: dispatch\n    };\n}\n\nfunction createMoveInit(defaultSettings, initMove) {\n    initMove = initMove || {};\n    var settings = objectCreate$1(defaultSettings);\n    for (var i = 0; i < mouseEventProps.length; i++) {\n        if (initMove[mouseEventProps[i]] !== undefined) { settings[mouseEventProps[i]] = initMove[mouseEventProps[i]]; }\n    }\n\n    return settings;\n}\n\nfunction setSpecial(e, data) {\n    console.log('data ', data);\n    e.data = data || {};\n    e.dispatched = 'mousemove';\n}\n\nvar prefix = [ 'webkit', 'moz', 'ms', 'o' ];\n\nvar requestFrame = (function () {\n\n    if (typeof window === \"undefined\") {\n        return function () {};\n    }\n\n    for ( var i = 0, limit = prefix.length ; i < limit && ! window.requestAnimationFrame ; ++i ) {\n        window.requestAnimationFrame = window[ prefix[ i ] + 'RequestAnimationFrame' ];\n    }\n\n    if ( ! window.requestAnimationFrame ) {\n        var lastTime = 0;\n\n        window.requestAnimationFrame = function (callback) {\n            var now   = new Date().getTime();\n            var ttc   = Math.max( 0, 16 - now - lastTime );\n            var timer = window.setTimeout( function () { return callback( now + ttc ); }, ttc );\n\n            lastTime = now + ttc;\n\n            return timer;\n        };\n    }\n\n    return window.requestAnimationFrame.bind( window );\n})();\n\nvar cancelFrame = (function () {\n\n    if (typeof window === \"undefined\") {\n        return function () {};\n    }\n\n    for ( var i = 0, limit = prefix.length ; i < limit && ! window.cancelAnimationFrame ; ++i ) {\n        window.cancelAnimationFrame = window[ prefix[ i ] + 'CancelAnimationFrame' ] || window[ prefix[ i ] + 'CancelRequestAnimationFrame' ];\n    }\n\n    if ( ! window.cancelAnimationFrame ) {\n        window.cancelAnimationFrame = function (timer) {\n            window.clearTimeout( timer );\n        };\n    }\n\n    return window.cancelAnimationFrame.bind( window );\n})();\n\nfunction AutoScroller(elements, options){\n    if ( options === void 0 ) options = {};\n\n    var self = this;\n    var maxSpeed = 4, scrolling = false;\n\n    if (typeof options.margin !== 'object') {\n        var margin = options.margin || -1;\n\n        this.margin = {\n            left: margin,\n            right: margin,\n            top: margin,\n            bottom: margin\n        };\n    } else {\n        this.margin = options.margin;\n    }\n\n    //this.scrolling = false;\n    this.scrollWhenOutside = options.scrollWhenOutside || false;\n\n    var point = {},\n        pointCB = createPointCB(point),\n        dispatcher = createDispatcher(),\n        down = false;\n\n    window.addEventListener('mousemove', pointCB, false);\n    window.addEventListener('touchmove', pointCB, false);\n\n    if(!isNaN(options.maxSpeed)){\n        maxSpeed = options.maxSpeed;\n    }\n\n    if (typeof maxSpeed !== 'object') {\n        maxSpeed = {\n            left: maxSpeed,\n            right: maxSpeed,\n            top: maxSpeed,\n            bottom: maxSpeed\n        };\n    }\n\n    this.autoScroll = boolean(options.autoScroll);\n    this.syncMove = boolean(options.syncMove, false);\n\n    this.destroy = function(forceCleanAnimation) {\n        window.removeEventListener('mousemove', pointCB, false);\n        window.removeEventListener('touchmove', pointCB, false);\n        window.removeEventListener('mousedown', onDown, false);\n        window.removeEventListener('touchstart', onDown, false);\n        window.removeEventListener('mouseup', onUp, false);\n        window.removeEventListener('touchend', onUp, false);\n        window.removeEventListener('pointerup', onUp, false);\n        window.removeEventListener('mouseleave', onMouseOut, false);\n\n        window.removeEventListener('mousemove', onMove, false);\n        window.removeEventListener('touchmove', onMove, false);\n\n        window.removeEventListener('scroll', setScroll, true);\n        elements = [];\n        if(forceCleanAnimation){\n          cleanAnimation();\n        }\n    };\n\n    this.add = function(){\n        var element = [], len = arguments.length;\n        while ( len-- ) element[ len ] = arguments[ len ];\n\n        addElements.apply(void 0, [ elements ].concat( element ));\n        return this;\n    };\n\n    this.remove = function(){\n        var element = [], len = arguments.length;\n        while ( len-- ) element[ len ] = arguments[ len ];\n\n        return removeElements.apply(void 0, [ elements ].concat( element ));\n    };\n\n    var hasWindow = null, windowAnimationFrame;\n\n    if(Object.prototype.toString.call(elements) !== '[object Array]'){\n        elements = [elements];\n    }\n\n    (function(temp){\n        elements = [];\n        temp.forEach(function(element){\n            if(element === window){\n                hasWindow = window;\n            }else {\n                self.add(element);\n            }\n        });\n    }(elements));\n\n    Object.defineProperties(this, {\n        down: {\n            get: function(){ return down; }\n        },\n        maxSpeed: {\n            get: function(){ return maxSpeed; }\n        },\n        point: {\n            get: function(){ return point; }\n        },\n        scrolling: {\n            get: function(){ return scrolling; }\n        }\n    });\n\n    var current = null, animationFrame;\n\n    window.addEventListener('mousedown', onDown, false);\n    window.addEventListener('touchstart', onDown, false);\n    window.addEventListener('mouseup', onUp, false);\n    window.addEventListener('touchend', onUp, false);\n\n    /*\n    IE does not trigger mouseup event when scrolling.\n    It is a known issue that Microsoft won't fix.\n    https://connect.microsoft.com/IE/feedback/details/783058/scrollbar-trigger-mousedown-but-not-mouseup\n    IE supports pointer events instead\n    */\n    window.addEventListener('pointerup', onUp, false);\n\n    window.addEventListener('mousemove', onMove, false);\n    window.addEventListener('touchmove', onMove, false);\n\n    window.addEventListener('mouseleave', onMouseOut, false);\n\n    window.addEventListener('scroll', setScroll, true);\n\n    function setScroll(e){\n\n        for(var i=0; i<elements.length; i++){\n            if(elements[i] === e.target){\n                scrolling = true;\n                break;\n            }\n        }\n\n        if(scrolling){\n            requestFrame(function (){ return scrolling = false; });\n        }\n    }\n\n    function onDown(){\n        down = true;\n    }\n\n    function onUp(){\n        down = false;\n        cleanAnimation();\n    }\n    function cleanAnimation(){\n      cancelFrame(animationFrame);\n      cancelFrame(windowAnimationFrame);\n    }\n    function onMouseOut(){\n        down = false;\n    }\n\n    function getTarget(target){\n        if(!target){\n            return null;\n        }\n\n        if(current === target){\n            return target;\n        }\n\n        if(hasElement(elements, target)){\n            return target;\n        }\n\n        while(target = target.parentNode){\n            if(hasElement(elements, target)){\n                return target;\n            }\n        }\n\n        return null;\n    }\n\n    function getElementUnderPoint(){\n        var underPoint = null;\n\n        for(var i=0; i<elements.length; i++){\n            if(inside(point, elements[i])){\n                underPoint = elements[i];\n            }\n        }\n\n        return underPoint;\n    }\n\n\n    function onMove(event){\n\n        if(!self.autoScroll()) { return; }\n\n        if(event['dispatched']){ return; }\n\n        var target = event.target, body = document.body;\n\n        if(current && !inside(point, current)){\n            if(!self.scrollWhenOutside){\n                current = null;\n            }\n        }\n\n        if(target && target.parentNode === body){\n            //The special condition to improve speed.\n            target = getElementUnderPoint();\n        }else {\n            target = getTarget(target);\n\n            if(!target){\n                target = getElementUnderPoint();\n            }\n        }\n\n\n        if(target && target !== current){\n            current = target;\n        }\n\n        if(hasWindow){\n            cancelFrame(windowAnimationFrame);\n            windowAnimationFrame = requestFrame(scrollWindow);\n        }\n\n\n        if(!current){\n            return;\n        }\n\n        cancelFrame(animationFrame);\n        animationFrame = requestFrame(scrollTick);\n    }\n\n    function scrollWindow(){\n        autoScroll(hasWindow);\n\n        cancelFrame(windowAnimationFrame);\n        windowAnimationFrame = requestFrame(scrollWindow);\n    }\n\n    function scrollTick(){\n\n        if(!current){\n            return;\n        }\n\n        autoScroll(current);\n\n        cancelFrame(animationFrame);\n        animationFrame = requestFrame(scrollTick);\n\n    }\n\n\n    function autoScroll(el){\n        var rect = getClientRect(el), scrollx, scrolly;\n\n        if(point.x < rect.left + self.margin.left){\n            scrollx = Math.floor(\n                Math.max(-1, (point.x - rect.left) / self.margin.left - 1) * self.maxSpeed.left\n            );\n        }else if(point.x > rect.right - self.margin.right){\n            scrollx = Math.ceil(\n                Math.min(1, (point.x - rect.right) / self.margin.right + 1) * self.maxSpeed.right\n            );\n        }else {\n            scrollx = 0;\n        }\n\n        if(point.y < rect.top + self.margin.top){\n            scrolly = Math.floor(\n                Math.max(-1, (point.y - rect.top) / self.margin.top - 1) * self.maxSpeed.top\n            );\n        }else if(point.y > rect.bottom - self.margin.bottom){\n            scrolly = Math.ceil(\n                Math.min(1, (point.y - rect.bottom) / self.margin.bottom + 1) * self.maxSpeed.bottom\n            );\n        }else {\n            scrolly = 0;\n        }\n\n        if(self.syncMove()){\n            /*\n            Notes about mousemove event dispatch.\n            screen(X/Y) should need to be updated.\n            Some other properties might need to be set.\n            Keep the syncMove option default false until all inconsistencies are taken care of.\n            */\n            dispatcher.dispatch(el, {\n                pageX: point.pageX + scrollx,\n                pageY: point.pageY + scrolly,\n                clientX: point.x + scrollx,\n                clientY: point.y + scrolly\n            });\n        }\n\n        setTimeout(function (){\n\n            if(scrolly){\n                scrollY(el, scrolly);\n            }\n\n            if(scrollx){\n                scrollX(el, scrollx);\n            }\n\n        });\n    }\n\n    function scrollY(el, amount){\n        if(el === window){\n            window.scrollTo(el.pageXOffset, el.pageYOffset + amount);\n        }else {\n            el.scrollTop += amount;\n        }\n    }\n\n    function scrollX(el, amount){\n        if(el === window){\n            window.scrollTo(el.pageXOffset + amount, el.pageYOffset);\n        }else {\n            el.scrollLeft += amount;\n        }\n    }\n\n}\n\nfunction AutoScrollerFactory(element, options){\n    return new AutoScroller(element, options);\n}\n\nfunction inside(point, el, rect){\n    if(!rect){\n        return pointInside(point, el);\n    }else {\n        return (point.y > rect.top && point.y < rect.bottom &&\n                point.x > rect.left && point.x < rect.right);\n    }\n}\n\n/*\ngit remote add origin https://github.com/hollowdoor/dom_autoscroller.git\ngit push -u origin master\n*/\n\nexport default AutoScrollerFactory;\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var _loop_1 = function (source) {\n            if (source) {\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n            }\n        };\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n            var source = args_1[_a];\n            _loop_1(source);\n        }\n        return target;\n    };\n}\n","import { int, pad } from \"../utils\";\nvar doNothing = function () { return undefined; };\nexport var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\nexport var revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    H: function (dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: function (dateObj, amPM, locale) {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n    W: function (dateObj, weekNum, locale) {\n        var weekNumber = parseInt(weekNum);\n        var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: function (dateObj, year) {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: function (_, ISODate) { return new Date(ISODate); },\n    d: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    i: function (dateObj, minutes) {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: function (_, unixMillSeconds) {\n        return new Date(parseFloat(unixMillSeconds));\n    },\n    w: doNothing,\n    y: function (dateObj, year) {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport var tokenRegex = {\n    D: \"\",\n    F: \"\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport var formats = {\n    Z: function (date) { return date.toISOString(); },\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: function (date) { return pad(date.getHours()); },\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: function (date) { return pad(date.getSeconds()); },\n    U: function (date) { return date.getTime() / 1000; },\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: function (date) { return pad(date.getFullYear(), 4); },\n    d: function (date) { return pad(date.getDate()); },\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n    i: function (date) { return pad(date.getMinutes()); },\n    j: function (date) { return date.getDate(); },\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: function (date) { return pad(date.getMonth() + 1); },\n    n: function (date) { return date.getMonth() + 1; },\n    s: function (date) { return date.getSeconds(); },\n    u: function (date) { return date.getTime(); },\n    w: function (date) { return date.getDay(); },\n    y: function (date) { return String(date.getFullYear()).substring(2); },\n};\n","import { __decorate, __metadata, __param, __rest } from 'tslib';\nimport { Input, TemplateRef, Component, ElementRef, Injector, Renderer2, ComponentFactoryResolver, ViewContainerRef, Inject, HostListener, Directive, EventEmitter, Output, Injectable, LOCALE_ID, Pipe, NgZone, InjectionToken, NgModule, ChangeDetectorRef } from '@angular/core';\nimport { DOCUMENT, formatDate, I18nPluralPipe, CommonModule } from '@angular/common';\nimport { positionElements } from 'positioning';\nimport { Subject, of, timer, Observable, BehaviorSubject, interval } from 'rxjs';\nimport { takeUntil, switchMap, startWith, switchMapTo, map } from 'rxjs/operators';\nimport { validateEvents as validateEvents$1, getMonthView, getWeekViewHeader, getWeekView } from 'calendar-utils';\nexport { DAYS_OF_WEEK } from 'calendar-utils';\nimport { DragAndDropModule } from 'angular-draggable-droppable';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { ResizableModule } from 'angular-resizable-element';\n\nlet CalendarEventActionsComponent = class CalendarEventActionsComponent {\n    constructor() {\n        this.trackByActionId = (index, action) => action.id ? action.id : action;\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarEventActionsComponent.prototype, \"event\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarEventActionsComponent.prototype, \"customTemplate\", void 0);\nCalendarEventActionsComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-event-actions',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-event=\"event\"\n      let-trackByActionId=\"trackByActionId\"\n    >\n      <span *ngIf=\"event.actions\" class=\"cal-event-actions\">\n        <a\n          class=\"cal-event-action\"\n          href=\"javascript:;\"\n          *ngFor=\"let action of event.actions; trackBy: trackByActionId\"\n          (mwlClick)=\"action.onClick({ event: event, sourceEvent: $event })\"\n          (mwlKeydownEnter)=\"\n            action.onClick({ event: event, sourceEvent: $event })\n          \"\n          [ngClass]=\"action.cssClass\"\n          [innerHtml]=\"action.label\"\n          tabindex=\"0\"\n          role=\"button\"\n          [attr.aria-label]=\"\n            { action: action } | calendarA11y: 'actionButtonLabel'\n          \"\n        >\n        </a>\n      </span>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        event: event,\n        trackByActionId: trackByActionId\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarEventActionsComponent);\n\nlet CalendarEventTitleComponent = class CalendarEventTitleComponent {\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarEventTitleComponent.prototype, \"event\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarEventTitleComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarEventTitleComponent.prototype, \"view\", void 0);\nCalendarEventTitleComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-event-title',\n        template: `\n    <ng-template #defaultTemplate let-event=\"event\" let-view=\"view\">\n      <span\n        class=\"cal-event-title\"\n        [innerHTML]=\"event.title | calendarEventTitle: view:event\"\n        [attr.aria-hidden]=\"{} | calendarA11y: 'hideEventTitle'\"\n      >\n      </span>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        event: event,\n        view: view\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarEventTitleComponent);\n\nlet CalendarTooltipWindowComponent = class CalendarTooltipWindowComponent {\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarTooltipWindowComponent.prototype, \"contents\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarTooltipWindowComponent.prototype, \"placement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarTooltipWindowComponent.prototype, \"event\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarTooltipWindowComponent.prototype, \"customTemplate\", void 0);\nCalendarTooltipWindowComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-tooltip-window',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-contents=\"contents\"\n      let-placement=\"placement\"\n      let-event=\"event\"\n    >\n      <div class=\"cal-tooltip\" [ngClass]=\"'cal-tooltip-' + placement\">\n        <div class=\"cal-tooltip-arrow\"></div>\n        <div class=\"cal-tooltip-inner\" [innerHtml]=\"contents\"></div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        contents: contents,\n        placement: placement,\n        event: event\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarTooltipWindowComponent);\nlet CalendarTooltipDirective = class CalendarTooltipDirective {\n    constructor(elementRef, injector, renderer, componentFactoryResolver, viewContainerRef, document //tslint:disable-line\n    ) {\n        this.elementRef = elementRef;\n        this.injector = injector;\n        this.renderer = renderer;\n        this.viewContainerRef = viewContainerRef;\n        this.document = document;\n        this.placement = 'auto'; // tslint:disable-line no-input-rename\n        this.delay = null; // tslint:disable-line no-input-rename\n        this.cancelTooltipDelay$ = new Subject();\n        this.tooltipFactory = componentFactoryResolver.resolveComponentFactory(CalendarTooltipWindowComponent);\n    }\n    ngOnChanges(changes) {\n        if (this.tooltipRef &&\n            (changes.contents || changes.customTemplate || changes.event)) {\n            this.tooltipRef.instance.contents = this.contents;\n            this.tooltipRef.instance.customTemplate = this.customTemplate;\n            this.tooltipRef.instance.event = this.event;\n            this.tooltipRef.changeDetectorRef.markForCheck();\n            if (!this.contents) {\n                this.hide();\n            }\n        }\n    }\n    ngOnDestroy() {\n        this.hide();\n    }\n    onMouseOver() {\n        const delay$ = this.delay === null ? of('now') : timer(this.delay);\n        delay$.pipe(takeUntil(this.cancelTooltipDelay$)).subscribe(() => {\n            this.show();\n        });\n    }\n    onMouseOut() {\n        this.hide();\n    }\n    show() {\n        if (!this.tooltipRef && this.contents) {\n            this.tooltipRef = this.viewContainerRef.createComponent(this.tooltipFactory, 0, this.injector, []);\n            this.tooltipRef.instance.contents = this.contents;\n            this.tooltipRef.instance.customTemplate = this.customTemplate;\n            this.tooltipRef.instance.event = this.event;\n            if (this.appendToBody) {\n                this.document.body.appendChild(this.tooltipRef.location.nativeElement);\n            }\n            requestAnimationFrame(() => {\n                this.positionTooltip();\n            });\n        }\n    }\n    hide() {\n        if (this.tooltipRef) {\n            this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView));\n            this.tooltipRef = null;\n        }\n        this.cancelTooltipDelay$.next();\n    }\n    positionTooltip(previousPositions = []) {\n        if (this.tooltipRef) {\n            this.tooltipRef.changeDetectorRef.detectChanges();\n            this.tooltipRef.instance.placement = positionElements(this.elementRef.nativeElement, this.tooltipRef.location.nativeElement.children[0], this.placement, this.appendToBody);\n            // keep re-positioning the tooltip until the arrow position doesn't make a difference\n            if (previousPositions.indexOf(this.tooltipRef.instance.placement) === -1) {\n                this.positionTooltip([\n                    ...previousPositions,\n                    this.tooltipRef.instance.placement,\n                ]);\n            }\n        }\n    }\n};\nCalendarTooltipDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Injector },\n    { type: Renderer2 },\n    { type: ComponentFactoryResolver },\n    { type: ViewContainerRef },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\n];\n__decorate([\n    Input('mwlCalendarTooltip'),\n    __metadata(\"design:type\", String)\n], CalendarTooltipDirective.prototype, \"contents\", void 0);\n__decorate([\n    Input('tooltipPlacement'),\n    __metadata(\"design:type\", Object)\n], CalendarTooltipDirective.prototype, \"placement\", void 0);\n__decorate([\n    Input('tooltipTemplate'),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarTooltipDirective.prototype, \"customTemplate\", void 0);\n__decorate([\n    Input('tooltipEvent'),\n    __metadata(\"design:type\", Object)\n], CalendarTooltipDirective.prototype, \"event\", void 0);\n__decorate([\n    Input('tooltipAppendToBody'),\n    __metadata(\"design:type\", Boolean)\n], CalendarTooltipDirective.prototype, \"appendToBody\", void 0);\n__decorate([\n    Input('tooltipDelay'),\n    __metadata(\"design:type\", Number)\n], CalendarTooltipDirective.prototype, \"delay\", void 0);\n__decorate([\n    HostListener('mouseenter'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], CalendarTooltipDirective.prototype, \"onMouseOver\", null);\n__decorate([\n    HostListener('mouseleave'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], CalendarTooltipDirective.prototype, \"onMouseOut\", null);\nCalendarTooltipDirective = __decorate([\n    Directive({\n        selector: '[mwlCalendarTooltip]',\n    }),\n    __param(5, Inject(DOCUMENT)),\n    __metadata(\"design:paramtypes\", [ElementRef,\n        Injector,\n        Renderer2,\n        ComponentFactoryResolver,\n        ViewContainerRef, Object])\n], CalendarTooltipDirective);\n\nclass DateAdapter {\n}\n\nvar CalendarView;\n(function (CalendarView) {\n    CalendarView[\"Month\"] = \"month\";\n    CalendarView[\"Week\"] = \"week\";\n    CalendarView[\"Day\"] = \"day\";\n})(CalendarView || (CalendarView = {}));\n\nconst validateEvents = (events) => {\n    const warn = (...args) => console.warn('angular-calendar', ...args);\n    return validateEvents$1(events, warn);\n};\nfunction isInside(outer, inner) {\n    return (Math.floor(outer.left) <= Math.ceil(inner.left) &&\n        Math.floor(inner.left) <= Math.ceil(outer.right) &&\n        Math.floor(outer.left) <= Math.ceil(inner.right) &&\n        Math.floor(inner.right) <= Math.ceil(outer.right) &&\n        Math.floor(outer.top) <= Math.ceil(inner.top) &&\n        Math.floor(inner.top) <= Math.ceil(outer.bottom) &&\n        Math.floor(outer.top) <= Math.ceil(inner.bottom) &&\n        Math.floor(inner.bottom) <= Math.ceil(outer.bottom));\n}\nfunction roundToNearest(amount, precision) {\n    return Math.round(amount / precision) * precision;\n}\nconst trackByEventId = (index, event) => event.id ? event.id : event;\nconst trackByWeekDayHeaderDate = (index, day) => day.date.toISOString();\nconst trackByHourSegment = (index, segment) => segment.date.toISOString();\nconst trackByHour = (index, hour) => hour.segments[0].date.toISOString();\nconst trackByWeekAllDayEvent = (index, weekEvent) => (weekEvent.event.id ? weekEvent.event.id : weekEvent.event);\nconst trackByWeekTimeEvent = (index, weekEvent) => (weekEvent.event.id ? weekEvent.event.id : weekEvent.event);\nconst MINUTES_IN_HOUR = 60;\nfunction getPixelAmountInMinutes(hourSegments, hourSegmentHeight) {\n    return MINUTES_IN_HOUR / (hourSegments * hourSegmentHeight);\n}\nfunction getMinutesMoved(movedY, hourSegments, hourSegmentHeight, eventSnapSize) {\n    const draggedInPixelsSnapSize = roundToNearest(movedY, eventSnapSize || hourSegmentHeight);\n    const pixelAmountInMinutes = getPixelAmountInMinutes(hourSegments, hourSegmentHeight);\n    return draggedInPixelsSnapSize * pixelAmountInMinutes;\n}\nfunction getMinimumEventHeightInMinutes(hourSegments, hourSegmentHeight) {\n    return (getPixelAmountInMinutes(hourSegments, hourSegmentHeight) * hourSegmentHeight);\n}\nfunction getDefaultEventEnd(dateAdapter, event, minimumMinutes) {\n    if (event.end) {\n        return event.end;\n    }\n    else {\n        return dateAdapter.addMinutes(event.start, minimumMinutes);\n    }\n}\nfunction addDaysWithExclusions(dateAdapter, date, days, excluded) {\n    let daysCounter = 0;\n    let daysToAdd = 0;\n    const changeDays = days < 0 ? dateAdapter.subDays : dateAdapter.addDays;\n    let result = date;\n    while (daysToAdd <= Math.abs(days)) {\n        result = changeDays(date, daysCounter);\n        const day = dateAdapter.getDay(result);\n        if (excluded.indexOf(day) === -1) {\n            daysToAdd++;\n        }\n        daysCounter++;\n    }\n    return result;\n}\nfunction isDraggedWithinPeriod(newStart, newEnd, period) {\n    const end = newEnd || newStart;\n    return ((period.start <= newStart && newStart <= period.end) ||\n        (period.start <= end && end <= period.end));\n}\nfunction shouldFireDroppedEvent(dropEvent, date, allDay, calendarId) {\n    return (dropEvent.dropData &&\n        dropEvent.dropData.event &&\n        (dropEvent.dropData.calendarId !== calendarId ||\n            (dropEvent.dropData.event.allDay && !allDay) ||\n            (!dropEvent.dropData.event.allDay && allDay)));\n}\nfunction getWeekViewPeriod(dateAdapter, viewDate, weekStartsOn, excluded = [], daysInWeek) {\n    let viewStart = daysInWeek\n        ? dateAdapter.startOfDay(viewDate)\n        : dateAdapter.startOfWeek(viewDate, { weekStartsOn });\n    const endOfWeek = dateAdapter.endOfWeek(viewDate, { weekStartsOn });\n    while (excluded.indexOf(dateAdapter.getDay(viewStart)) > -1 &&\n        viewStart < endOfWeek) {\n        viewStart = dateAdapter.addDays(viewStart, 1);\n    }\n    if (daysInWeek) {\n        const viewEnd = dateAdapter.endOfDay(addDaysWithExclusions(dateAdapter, viewStart, daysInWeek - 1, excluded));\n        return { viewStart, viewEnd };\n    }\n    else {\n        let viewEnd = endOfWeek;\n        while (excluded.indexOf(dateAdapter.getDay(viewEnd)) > -1 &&\n            viewEnd > viewStart) {\n            viewEnd = dateAdapter.subDays(viewEnd, 1);\n        }\n        return { viewStart, viewEnd };\n    }\n}\nfunction isWithinThreshold({ x, y }) {\n    const DRAG_THRESHOLD = 1;\n    return Math.abs(x) > DRAG_THRESHOLD || Math.abs(y) > DRAG_THRESHOLD;\n}\n\n/**\n * Change the view date to the previous view. For example:\n *\n * ```typescript\n * <button\n *  mwlCalendarPreviousView\n *  [(viewDate)]=\"viewDate\"\n *  [view]=\"view\">\n *  Previous\n * </button>\n * ```\n */\nlet CalendarPreviousViewDirective = class CalendarPreviousViewDirective {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n        /**\n         * Days to skip when going back by 1 day\n         */\n        this.excludeDays = [];\n        /**\n         * Called when the view date is changed\n         */\n        this.viewDateChange = new EventEmitter();\n    }\n    /**\n     * @hidden\n     */\n    onClick() {\n        const subFn = {\n            day: this.dateAdapter.subDays,\n            week: this.dateAdapter.subWeeks,\n            month: this.dateAdapter.subMonths,\n        }[this.view];\n        if (this.view === CalendarView.Day) {\n            this.viewDateChange.emit(addDaysWithExclusions(this.dateAdapter, this.viewDate, -1, this.excludeDays));\n        }\n        else if (this.view === CalendarView.Week && this.daysInWeek) {\n            this.viewDateChange.emit(addDaysWithExclusions(this.dateAdapter, this.viewDate, -this.daysInWeek, this.excludeDays));\n        }\n        else {\n            this.viewDateChange.emit(subFn(this.viewDate, 1));\n        }\n    }\n};\nCalendarPreviousViewDirective.ctorParameters = () => [\n    { type: DateAdapter }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarPreviousViewDirective.prototype, \"view\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarPreviousViewDirective.prototype, \"viewDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarPreviousViewDirective.prototype, \"excludeDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarPreviousViewDirective.prototype, \"daysInWeek\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], CalendarPreviousViewDirective.prototype, \"viewDateChange\", void 0);\n__decorate([\n    HostListener('click'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], CalendarPreviousViewDirective.prototype, \"onClick\", null);\nCalendarPreviousViewDirective = __decorate([\n    Directive({\n        selector: '[mwlCalendarPreviousView]',\n    }),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarPreviousViewDirective);\n\n/**\n * Change the view date to the next view. For example:\n *\n * ```typescript\n * <button\n *  mwlCalendarNextView\n *  [(viewDate)]=\"viewDate\"\n *  [view]=\"view\">\n *  Next\n * </button>\n * ```\n */\nlet CalendarNextViewDirective = class CalendarNextViewDirective {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n        /**\n         * Days to skip when going forward by 1 day\n         */\n        this.excludeDays = [];\n        /**\n         * Called when the view date is changed\n         */\n        this.viewDateChange = new EventEmitter();\n    }\n    /**\n     * @hidden\n     */\n    onClick() {\n        const addFn = {\n            day: this.dateAdapter.addDays,\n            week: this.dateAdapter.addWeeks,\n            month: this.dateAdapter.addMonths,\n        }[this.view];\n        if (this.view === CalendarView.Day) {\n            this.viewDateChange.emit(addDaysWithExclusions(this.dateAdapter, this.viewDate, 1, this.excludeDays));\n        }\n        else if (this.view === CalendarView.Week && this.daysInWeek) {\n            this.viewDateChange.emit(addDaysWithExclusions(this.dateAdapter, this.viewDate, this.daysInWeek, this.excludeDays));\n        }\n        else {\n            this.viewDateChange.emit(addFn(this.viewDate, 1));\n        }\n    }\n};\nCalendarNextViewDirective.ctorParameters = () => [\n    { type: DateAdapter }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarNextViewDirective.prototype, \"view\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarNextViewDirective.prototype, \"viewDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarNextViewDirective.prototype, \"excludeDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarNextViewDirective.prototype, \"daysInWeek\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], CalendarNextViewDirective.prototype, \"viewDateChange\", void 0);\n__decorate([\n    HostListener('click'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], CalendarNextViewDirective.prototype, \"onClick\", null);\nCalendarNextViewDirective = __decorate([\n    Directive({\n        selector: '[mwlCalendarNextView]',\n    }),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarNextViewDirective);\n\n/**\n * Change the view date to the current day. For example:\n *\n * ```typescript\n * <button\n *  mwlCalendarToday\n *  [(viewDate)]=\"viewDate\">\n *  Today\n * </button>\n * ```\n */\nlet CalendarTodayDirective = class CalendarTodayDirective {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n        /**\n         * Called when the view date is changed\n         */\n        this.viewDateChange = new EventEmitter();\n    }\n    /**\n     * @hidden\n     */\n    onClick() {\n        this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date()));\n    }\n};\nCalendarTodayDirective.ctorParameters = () => [\n    { type: DateAdapter }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarTodayDirective.prototype, \"viewDate\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], CalendarTodayDirective.prototype, \"viewDateChange\", void 0);\n__decorate([\n    HostListener('click'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], CalendarTodayDirective.prototype, \"onClick\", null);\nCalendarTodayDirective = __decorate([\n    Directive({\n        selector: '[mwlCalendarToday]',\n    }),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarTodayDirective);\n\n/**\n * This will use the angular date pipe to do all date formatting. It is the default date formatter used by the calendar.\n */\nlet CalendarAngularDateFormatter = class CalendarAngularDateFormatter {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n    }\n    /**\n     * The month view header week day labels\n     */\n    monthViewColumnHeader({ date, locale }) {\n        return formatDate(date, 'EEEE', locale);\n    }\n    /**\n     * The month view cell day number\n     */\n    monthViewDayNumber({ date, locale }) {\n        return formatDate(date, 'd', locale);\n    }\n    /**\n     * The month view title\n     */\n    monthViewTitle({ date, locale }) {\n        return formatDate(date, 'LLLL y', locale);\n    }\n    /**\n     * The week view header week day labels\n     */\n    weekViewColumnHeader({ date, locale }) {\n        return formatDate(date, 'EEEE', locale);\n    }\n    /**\n     * The week view sub header day and month labels\n     */\n    weekViewColumnSubHeader({ date, locale, }) {\n        return formatDate(date, 'MMM d', locale);\n    }\n    /**\n     * The week view title\n     */\n    weekViewTitle({ date, locale, weekStartsOn, excludeDays, daysInWeek, }) {\n        const { viewStart, viewEnd } = getWeekViewPeriod(this.dateAdapter, date, weekStartsOn, excludeDays, daysInWeek);\n        const format = (dateToFormat, showYear) => formatDate(dateToFormat, 'MMM d' + (showYear ? ', yyyy' : ''), locale);\n        return `${format(viewStart, viewStart.getUTCFullYear() !== viewEnd.getUTCFullYear())} - ${format(viewEnd, true)}`;\n    }\n    /**\n     * The time formatting down the left hand side of the week view\n     */\n    weekViewHour({ date, locale }) {\n        return formatDate(date, 'h a', locale);\n    }\n    /**\n     * The time formatting down the left hand side of the day view\n     */\n    dayViewHour({ date, locale }) {\n        return formatDate(date, 'h a', locale);\n    }\n    /**\n     * The day view title\n     */\n    dayViewTitle({ date, locale }) {\n        return formatDate(date, 'EEEE, MMMM d, y', locale);\n    }\n};\nCalendarAngularDateFormatter.ctorParameters = () => [\n    { type: DateAdapter }\n];\nCalendarAngularDateFormatter = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarAngularDateFormatter);\n\n/**\n * This class is responsible for all formatting of dates. There are 3 implementations available, the `CalendarAngularDateFormatter` (default) which uses the angular date pipe to format dates, the `CalendarNativeDateFormatter` which will use the <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Intl\" target=\"_blank\">Intl</a> API to format dates, or there is the `CalendarMomentDateFormatter` which uses <a href=\"http://momentjs.com/\" target=\"_blank\">moment</a>.\n *\n * If you wish, you may override any of the defaults via angulars DI. For example:\n *\n * ```typescript\n * import { CalendarDateFormatter, DateFormatterParams } from 'angular-calendar';\n * import { formatDate } from '@angular/common';\n * import { Injectable } from '@angular/core';\n *\n * @Injectable()\n * class CustomDateFormatter extends CalendarDateFormatter {\n *\n *   public monthViewColumnHeader({date, locale}: DateFormatterParams): string {\n *     return formatDate(date, 'EEE', locale); // use short week days\n *   }\n *\n * }\n *\n * // in your component that uses the calendar\n * providers: [{\n *   provide: CalendarDateFormatter,\n *   useClass: CustomDateFormatter\n * }]\n * ```\n */\nlet CalendarDateFormatter = class CalendarDateFormatter extends CalendarAngularDateFormatter {\n};\nCalendarDateFormatter = __decorate([\n    Injectable()\n], CalendarDateFormatter);\n\n/**\n * This pipe is primarily for rendering the current view title. Example usage:\n * ```typescript\n * // where `viewDate` is a `Date` and view is `'month' | 'week' | 'day'`\n * {{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}\n * ```\n */\nlet CalendarDatePipe = class CalendarDatePipe {\n    constructor(dateFormatter, locale) {\n        this.dateFormatter = dateFormatter;\n        this.locale = locale;\n    }\n    transform(date, method, locale = this.locale, weekStartsOn = 0, excludeDays = [], daysInWeek) {\n        if (typeof this.dateFormatter[method] === 'undefined') {\n            const allowedMethods = Object.getOwnPropertyNames(Object.getPrototypeOf(CalendarDateFormatter.prototype)).filter((iMethod) => iMethod !== 'constructor');\n            throw new Error(`${method} is not a valid date formatter. Can only be one of ${allowedMethods.join(', ')}`);\n        }\n        return this.dateFormatter[method]({\n            date,\n            locale,\n            weekStartsOn,\n            excludeDays,\n            daysInWeek,\n        });\n    }\n};\nCalendarDatePipe.ctorParameters = () => [\n    { type: CalendarDateFormatter },\n    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] }\n];\nCalendarDatePipe = __decorate([\n    Pipe({\n        name: 'calendarDate',\n    }),\n    __param(1, Inject(LOCALE_ID)),\n    __metadata(\"design:paramtypes\", [CalendarDateFormatter, String])\n], CalendarDatePipe);\n\n/**\n * This class is responsible for displaying all event titles within the calendar. You may override any of its methods via angulars DI to suit your requirements. For example:\n *\n * ```typescript\n * import { Injectable } from '@angular/core';\n * import { CalendarEventTitleFormatter, CalendarEvent } from 'angular-calendar';\n *\n * @Injectable()\n * class CustomEventTitleFormatter extends CalendarEventTitleFormatter {\n *\n *   month(event: CalendarEvent): string {\n *     return `Custom prefix: ${event.title}`;\n *   }\n *\n * }\n *\n * // in your component\n * providers: [{\n *  provide: CalendarEventTitleFormatter,\n *  useClass: CustomEventTitleFormatter\n * }]\n * ```\n */\nclass CalendarEventTitleFormatter {\n    /**\n     * The month view event title.\n     */\n    month(event, title) {\n        return event.title;\n    }\n    /**\n     * The month view event tooltip. Return a falsey value from this to disable the tooltip.\n     */\n    monthTooltip(event, title) {\n        return event.title;\n    }\n    /**\n     * The week view event title.\n     */\n    week(event, title) {\n        return event.title;\n    }\n    /**\n     * The week view event tooltip. Return a falsey value from this to disable the tooltip.\n     */\n    weekTooltip(event, title) {\n        return event.title;\n    }\n    /**\n     * The day view event title.\n     */\n    day(event, title) {\n        return event.title;\n    }\n    /**\n     * The day view event tooltip. Return a falsey value from this to disable the tooltip.\n     */\n    dayTooltip(event, title) {\n        return event.title;\n    }\n}\n\nlet CalendarEventTitlePipe = class CalendarEventTitlePipe {\n    constructor(calendarEventTitle) {\n        this.calendarEventTitle = calendarEventTitle;\n    }\n    transform(title, titleType, event) {\n        return this.calendarEventTitle[titleType](event, title);\n    }\n};\nCalendarEventTitlePipe.ctorParameters = () => [\n    { type: CalendarEventTitleFormatter }\n];\nCalendarEventTitlePipe = __decorate([\n    Pipe({\n        name: 'calendarEventTitle',\n    }),\n    __metadata(\"design:paramtypes\", [CalendarEventTitleFormatter])\n], CalendarEventTitlePipe);\n\nlet ClickDirective = class ClickDirective {\n    constructor(renderer, elm, document) {\n        this.renderer = renderer;\n        this.elm = elm;\n        this.document = document;\n        this.clickListenerDisabled = false;\n        this.click = new EventEmitter(); // tslint:disable-line\n        this.destroy$ = new Subject();\n    }\n    ngOnInit() {\n        if (!this.clickListenerDisabled) {\n            this.listen()\n                .pipe(takeUntil(this.destroy$))\n                .subscribe((event) => {\n                event.stopPropagation();\n                this.click.emit(event);\n            });\n        }\n    }\n    ngOnDestroy() {\n        this.destroy$.next();\n    }\n    listen() {\n        return new Observable((observer) => {\n            return this.renderer.listen(this.elm.nativeElement, 'click', (event) => {\n                observer.next(event);\n            });\n        });\n    }\n};\nClickDirective.ctorParameters = () => [\n    { type: Renderer2 },\n    { type: ElementRef },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], ClickDirective.prototype, \"clickListenerDisabled\", void 0);\n__decorate([\n    Output('mwlClick'),\n    __metadata(\"design:type\", Object)\n], ClickDirective.prototype, \"click\", void 0);\nClickDirective = __decorate([\n    Directive({\n        selector: '[mwlClick]',\n    }),\n    __param(2, Inject(DOCUMENT)),\n    __metadata(\"design:paramtypes\", [Renderer2,\n        ElementRef, Object])\n], ClickDirective);\n\nlet KeydownEnterDirective = class KeydownEnterDirective {\n    constructor(host, ngZone, renderer) {\n        this.host = host;\n        this.ngZone = ngZone;\n        this.renderer = renderer;\n        this.keydown = new EventEmitter(); // tslint:disable-line\n        this.keydownListener = null;\n    }\n    ngOnInit() {\n        this.ngZone.runOutsideAngular(() => {\n            this.keydownListener = this.renderer.listen(this.host.nativeElement, 'keydown', (event) => {\n                if (event.keyCode === 13 ||\n                    event.which === 13 ||\n                    event.key === 'Enter') {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    this.ngZone.run(() => {\n                        this.keydown.emit(event);\n                    });\n                }\n            });\n        });\n    }\n    ngOnDestroy() {\n        if (this.keydownListener !== null) {\n            this.keydownListener();\n            this.keydownListener = null;\n        }\n    }\n};\nKeydownEnterDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: NgZone },\n    { type: Renderer2 }\n];\n__decorate([\n    Output('mwlKeydownEnter'),\n    __metadata(\"design:type\", Object)\n], KeydownEnterDirective.prototype, \"keydown\", void 0);\nKeydownEnterDirective = __decorate([\n    Directive({ selector: '[mwlKeydownEnter]' }),\n    __metadata(\"design:paramtypes\", [ElementRef,\n        NgZone,\n        Renderer2])\n], KeydownEnterDirective);\n\nlet CalendarUtils = class CalendarUtils {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n    }\n    getMonthView(args) {\n        return getMonthView(this.dateAdapter, args);\n    }\n    getWeekViewHeader(args) {\n        return getWeekViewHeader(this.dateAdapter, args);\n    }\n    getWeekView(args) {\n        return getWeekView(this.dateAdapter, args);\n    }\n};\nCalendarUtils.ctorParameters = () => [\n    { type: DateAdapter }\n];\nCalendarUtils = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarUtils);\n\n/**\n * This class is responsible for adding accessibility to the calendar.\n * You may override any of its methods via angulars DI to suit your requirements.\n * For example:\n *\n * ```typescript\n * import { A11yParams, CalendarA11y } from 'angular-calendar';\n * import { formatDate, I18nPluralPipe } from '@angular/common';\n * import { Injectable } from '@angular/core';\n *\n * // adding your own a11y params\n * export interface CustomA11yParams extends A11yParams {\n *   isDrSuess?: boolean;\n * }\n *\n * @Injectable()\n * export class CustomCalendarA11y extends CalendarA11y {\n *   constructor(protected i18nPlural: I18nPluralPipe) {\n *     super(i18nPlural);\n *   }\n *\n *   // overriding a function\n *   public openDayEventsLandmark({ date, locale, isDrSuess }: CustomA11yParams): string {\n *     if (isDrSuess) {\n *       return `\n *         ${formatDate(date, 'EEEE MMMM d', locale)}\n *          Today you are you! That is truer than true! There is no one alive\n *          who is you-er than you!\n *       `;\n *     }\n *   }\n * }\n *\n * // in your component that uses the calendar\n * providers: [{\n *  provide: CalendarA11y,\n *  useClass: CustomCalendarA11y\n * }]\n * ```\n */\nlet CalendarA11y = class CalendarA11y {\n    constructor(i18nPlural) {\n        this.i18nPlural = i18nPlural;\n    }\n    /**\n     * Aria label for the badges/date of a cell\n     * @example: `Saturday October 19 1 event click to expand`\n     */\n    monthCell({ day, locale }) {\n        if (day.badgeTotal > 0) {\n            return `\n        ${formatDate(day.date, 'EEEE MMMM d', locale)},\n        ${this.i18nPlural.transform(day.badgeTotal, {\n                '=0': 'No events',\n                '=1': 'One event',\n                other: '# events',\n            })},\n         click to expand\n      `;\n        }\n        else {\n            return `${formatDate(day.date, 'EEEE MMMM d', locale)}`;\n        }\n    }\n    /**\n     * Aria label for the open day events start landmark\n     * @example: `Saturday October 19 expanded view`\n     */\n    openDayEventsLandmark({ date, locale }) {\n        return `\n      Beginning of expanded view for ${formatDate(date, 'EEEE MMMM dd', locale)}\n    `;\n    }\n    /**\n     * Aria label for alert that a day in the month view was expanded\n     * @example: `Saturday October 19 expanded`\n     */\n    openDayEventsAlert({ date, locale }) {\n        return `${formatDate(date, 'EEEE MMMM dd', locale)} expanded`;\n    }\n    /**\n     * Descriptive aria label for an event\n     * @example: `Saturday October 19th, Scott's Pizza Party, from 11:00am to 5:00pm`\n     */\n    eventDescription({ event, locale }) {\n        if (event.allDay === true) {\n            return this.allDayEventDescription({ event, locale });\n        }\n        const aria = `\n      ${formatDate(event.start, 'EEEE MMMM dd', locale)},\n      ${event.title}, from ${formatDate(event.start, 'hh:mm a', locale)}\n    `;\n        if (event.end) {\n            return aria + ` to ${formatDate(event.end, 'hh:mm a', locale)}`;\n        }\n        return aria;\n    }\n    /**\n     * Descriptive aria label for an all day event\n     * @example:\n     * `Scott's Party, event spans multiple days: start time October 19 5:00pm, no stop time`\n     */\n    allDayEventDescription({ event, locale }) {\n        const aria = `\n      ${event.title}, event spans multiple days:\n      start time ${formatDate(event.start, 'MMMM dd hh:mm a', locale)}\n    `;\n        if (event.end) {\n            return (aria + `, stop time ${formatDate(event.end, 'MMMM d hh:mm a', locale)}`);\n        }\n        return aria + `, no stop time`;\n    }\n    /**\n     * Aria label for the calendar event actions icons\n     * @returns 'Edit' for fa-pencil icons, and 'Delete' for fa-times icons\n     */\n    actionButtonLabel({ action }) {\n        return action.a11yLabel;\n    }\n    /**\n     * @returns {number} Tab index to be given to month cells\n     */\n    monthCellTabIndex() {\n        return 0;\n    }\n    /**\n     * @returns true if the events inside the month cell should be aria-hidden\n     */\n    hideMonthCellEvents() {\n        return true;\n    }\n    /**\n     * @returns true if event titles should be aria-hidden (global)\n     */\n    hideEventTitle() {\n        return true;\n    }\n    /**\n     * @returns true if hour segments in the week view should be aria-hidden\n     */\n    hideWeekHourSegment() {\n        return true;\n    }\n    /**\n     * @returns true if hour segments in the day view should be aria-hidden\n     */\n    hideDayHourSegment() {\n        return true;\n    }\n};\nCalendarA11y.ctorParameters = () => [\n    { type: I18nPluralPipe }\n];\nCalendarA11y = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [I18nPluralPipe])\n], CalendarA11y);\n\n/**\n * This pipe is primarily for rendering aria labels. Example usage:\n * ```typescript\n * // where `myEvent` is a `CalendarEvent` and myLocale is a locale identifier\n * {{ { event: myEvent, locale: myLocale } | calendarA11y: 'eventDescription' }}\n * ```\n */\nlet CalendarA11yPipe = class CalendarA11yPipe {\n    constructor(calendarA11y, locale) {\n        this.calendarA11y = calendarA11y;\n        this.locale = locale;\n    }\n    transform(a11yParams, method) {\n        a11yParams.locale = a11yParams.locale || this.locale;\n        if (typeof this.calendarA11y[method] === 'undefined') {\n            const allowedMethods = Object.getOwnPropertyNames(Object.getPrototypeOf(CalendarA11y.prototype)).filter((iMethod) => iMethod !== 'constructor');\n            throw new Error(`${method} is not a valid a11y method. Can only be one of ${allowedMethods.join(', ')}`);\n        }\n        return this.calendarA11y[method](a11yParams);\n    }\n};\nCalendarA11yPipe.ctorParameters = () => [\n    { type: CalendarA11y },\n    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] }\n];\nCalendarA11yPipe = __decorate([\n    Pipe({\n        name: 'calendarA11y',\n    }),\n    __param(1, Inject(LOCALE_ID)),\n    __metadata(\"design:paramtypes\", [CalendarA11y, String])\n], CalendarA11yPipe);\n\nconst MOMENT = new InjectionToken('Moment');\n/**\n * This will use <a href=\"http://momentjs.com/\" target=\"_blank\">moment</a> to do all date formatting. To use this class:\n *\n * ```typescript\n * import { CalendarDateFormatter, CalendarMomentDateFormatter, MOMENT } from 'angular-calendar';\n * import moment from 'moment';\n *\n * // in your component\n * provide: [{\n *   provide: MOMENT, useValue: moment\n * }, {\n *   provide: CalendarDateFormatter, useClass: CalendarMomentDateFormatter\n * }]\n *\n * ```\n */\nlet CalendarMomentDateFormatter = class CalendarMomentDateFormatter {\n    /**\n     * @hidden\n     */\n    constructor(moment, dateAdapter) {\n        this.moment = moment;\n        this.dateAdapter = dateAdapter;\n    }\n    /**\n     * The month view header week day labels\n     */\n    monthViewColumnHeader({ date, locale }) {\n        return this.moment(date).locale(locale).format('dddd');\n    }\n    /**\n     * The month view cell day number\n     */\n    monthViewDayNumber({ date, locale }) {\n        return this.moment(date).locale(locale).format('D');\n    }\n    /**\n     * The month view title\n     */\n    monthViewTitle({ date, locale }) {\n        return this.moment(date).locale(locale).format('MMMM YYYY');\n    }\n    /**\n     * The week view header week day labels\n     */\n    weekViewColumnHeader({ date, locale }) {\n        return this.moment(date).locale(locale).format('dddd');\n    }\n    /**\n     * The week view sub header day and month labels\n     */\n    weekViewColumnSubHeader({ date, locale, }) {\n        return this.moment(date).locale(locale).format('MMM D');\n    }\n    /**\n     * The week view title\n     */\n    weekViewTitle({ date, locale, weekStartsOn, excludeDays, daysInWeek, }) {\n        const { viewStart, viewEnd } = getWeekViewPeriod(this.dateAdapter, date, weekStartsOn, excludeDays, daysInWeek);\n        const format = (dateToFormat, showYear) => this.moment(dateToFormat)\n            .locale(locale)\n            .format('MMM D' + (showYear ? ', YYYY' : ''));\n        return `${format(viewStart, viewStart.getUTCFullYear() !== viewEnd.getUTCFullYear())} - ${format(viewEnd, true)}`;\n    }\n    /**\n     * The time formatting down the left hand side of the week view\n     */\n    weekViewHour({ date, locale }) {\n        return this.moment(date).locale(locale).format('ha');\n    }\n    /**\n     * The time formatting down the left hand side of the day view\n     */\n    dayViewHour({ date, locale }) {\n        return this.moment(date).locale(locale).format('ha');\n    }\n    /**\n     * The day view title\n     */\n    dayViewTitle({ date, locale }) {\n        return this.moment(date).locale(locale).format('dddd, D MMMM, YYYY');\n    }\n};\nCalendarMomentDateFormatter.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [MOMENT,] }] },\n    { type: DateAdapter }\n];\nCalendarMomentDateFormatter = __decorate([\n    Injectable(),\n    __param(0, Inject(MOMENT)),\n    __metadata(\"design:paramtypes\", [Object, DateAdapter])\n], CalendarMomentDateFormatter);\n\n/**\n * This will use <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Intl\" target=\"_blank\">Intl</a> API to do all date formatting.\n *\n * You will need to include a <a href=\"https://github.com/andyearnshaw/Intl.js/\">polyfill</a> for older browsers.\n */\nlet CalendarNativeDateFormatter = class CalendarNativeDateFormatter {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n    }\n    /**\n     * The month view header week day labels\n     */\n    monthViewColumnHeader({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, { weekday: 'long' }).format(date);\n    }\n    /**\n     * The month view cell day number\n     */\n    monthViewDayNumber({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, { day: 'numeric' }).format(date);\n    }\n    /**\n     * The month view title\n     */\n    monthViewTitle({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, {\n            year: 'numeric',\n            month: 'long',\n        }).format(date);\n    }\n    /**\n     * The week view header week day labels\n     */\n    weekViewColumnHeader({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, { weekday: 'long' }).format(date);\n    }\n    /**\n     * The week view sub header day and month labels\n     */\n    weekViewColumnSubHeader({ date, locale, }) {\n        return new Intl.DateTimeFormat(locale, {\n            day: 'numeric',\n            month: 'short',\n        }).format(date);\n    }\n    /**\n     * The week view title\n     */\n    weekViewTitle({ date, locale, weekStartsOn, excludeDays, daysInWeek, }) {\n        const { viewStart, viewEnd } = getWeekViewPeriod(this.dateAdapter, date, weekStartsOn, excludeDays, daysInWeek);\n        const format = (dateToFormat, showYear) => new Intl.DateTimeFormat(locale, {\n            day: 'numeric',\n            month: 'short',\n            year: showYear ? 'numeric' : undefined,\n        }).format(dateToFormat);\n        return `${format(viewStart, viewStart.getUTCFullYear() !== viewEnd.getUTCFullYear())} - ${format(viewEnd, true)}`;\n    }\n    /**\n     * The time formatting down the left hand side of the week view\n     */\n    weekViewHour({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, { hour: 'numeric' }).format(date);\n    }\n    /**\n     * The time formatting down the left hand side of the day view\n     */\n    dayViewHour({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, { hour: 'numeric' }).format(date);\n    }\n    /**\n     * The day view title\n     */\n    dayViewTitle({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, {\n            day: 'numeric',\n            month: 'long',\n            year: 'numeric',\n            weekday: 'long',\n        }).format(date);\n    }\n};\nCalendarNativeDateFormatter.ctorParameters = () => [\n    { type: DateAdapter }\n];\nCalendarNativeDateFormatter = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarNativeDateFormatter);\n\nvar CalendarEventTimesChangedEventType;\n(function (CalendarEventTimesChangedEventType) {\n    CalendarEventTimesChangedEventType[\"Drag\"] = \"drag\";\n    CalendarEventTimesChangedEventType[\"Drop\"] = \"drop\";\n    CalendarEventTimesChangedEventType[\"Resize\"] = \"resize\";\n})(CalendarEventTimesChangedEventType || (CalendarEventTimesChangedEventType = {}));\n\nvar CalendarCommonModule_1;\n/**\n * Import this module to if you're just using a singular view and want to save on bundle size. Example usage:\n *\n * ```typescript\n * import { CalendarCommonModule, CalendarMonthModule } from 'angular-calendar';\n *\n * @NgModule({\n *   imports: [\n *     CalendarCommonModule.forRoot(),\n *     CalendarMonthModule\n *   ]\n * })\n * class MyModule {}\n * ```\n *\n */\nlet CalendarCommonModule = CalendarCommonModule_1 = class CalendarCommonModule {\n    static forRoot(dateAdapter, config = {}) {\n        return {\n            ngModule: CalendarCommonModule_1,\n            providers: [\n                dateAdapter,\n                config.eventTitleFormatter || CalendarEventTitleFormatter,\n                config.dateFormatter || CalendarDateFormatter,\n                config.utils || CalendarUtils,\n                config.a11y || CalendarA11y,\n            ],\n        };\n    }\n};\nCalendarCommonModule = CalendarCommonModule_1 = __decorate([\n    NgModule({\n        declarations: [\n            CalendarEventActionsComponent,\n            CalendarEventTitleComponent,\n            CalendarTooltipWindowComponent,\n            CalendarTooltipDirective,\n            CalendarPreviousViewDirective,\n            CalendarNextViewDirective,\n            CalendarTodayDirective,\n            CalendarDatePipe,\n            CalendarEventTitlePipe,\n            CalendarA11yPipe,\n            ClickDirective,\n            KeydownEnterDirective,\n        ],\n        imports: [CommonModule],\n        exports: [\n            CalendarEventActionsComponent,\n            CalendarEventTitleComponent,\n            CalendarTooltipWindowComponent,\n            CalendarTooltipDirective,\n            CalendarPreviousViewDirective,\n            CalendarNextViewDirective,\n            CalendarTodayDirective,\n            CalendarDatePipe,\n            CalendarEventTitlePipe,\n            CalendarA11yPipe,\n            ClickDirective,\n            KeydownEnterDirective,\n        ],\n        providers: [I18nPluralPipe],\n        entryComponents: [CalendarTooltipWindowComponent],\n    })\n], CalendarCommonModule);\n\n/**\n * Shows all events on a given month. Example usage:\n *\n * ```typescript\n * <mwl-calendar-month-view\n *  [viewDate]=\"viewDate\"\n *  [events]=\"events\">\n * </mwl-calendar-month-view>\n * ```\n */\nlet CalendarMonthViewComponent = class CalendarMonthViewComponent {\n    /**\n     * @hidden\n     */\n    constructor(cdr, utils, locale, dateAdapter) {\n        this.cdr = cdr;\n        this.utils = utils;\n        this.dateAdapter = dateAdapter;\n        /**\n         * An array of events to display on view.\n         * The schema is available here: https://github.com/mattlewis92/calendar-utils/blob/c51689985f59a271940e30bc4e2c4e1fee3fcb5c/src/calendarUtils.ts#L49-L63\n         */\n        this.events = [];\n        /**\n         * An array of day indexes (0 = sunday, 1 = monday etc) that will be hidden on the view\n         */\n        this.excludeDays = [];\n        /**\n         * Whether the events list for the day of the `viewDate` option is visible or not\n         */\n        this.activeDayIsOpen = false;\n        /**\n         * The placement of the event tooltip\n         */\n        this.tooltipPlacement = 'auto';\n        /**\n         * Whether to append tooltips to the body or next to the trigger element\n         */\n        this.tooltipAppendToBody = true;\n        /**\n         * The delay in milliseconds before the tooltip should be displayed. If not provided the tooltip\n         * will be displayed immediately.\n         */\n        this.tooltipDelay = null;\n        /**\n         * An output that will be called before the view is rendered for the current month.\n         * If you add the `cssClass` property to a day in the body it will add that class to the cell element in the template\n         */\n        this.beforeViewRender = new EventEmitter();\n        /**\n         * Called when the day cell is clicked\n         */\n        this.dayClicked = new EventEmitter();\n        /**\n         * Called when the event title is clicked\n         */\n        this.eventClicked = new EventEmitter();\n        /**\n         * Called when a header week day is clicked. Returns ISO day number.\n         */\n        this.columnHeaderClicked = new EventEmitter();\n        /**\n         * Called when an event is dragged and dropped\n         */\n        this.eventTimesChanged = new EventEmitter();\n        /**\n         * @hidden\n         */\n        this.trackByRowOffset = (index, offset) => this.view.days\n            .slice(offset, this.view.totalDaysVisibleInWeek)\n            .map((day) => day.date.toISOString())\n            .join('-');\n        /**\n         * @hidden\n         */\n        this.trackByDate = (index, day) => day.date.toISOString();\n        this.locale = locale;\n    }\n    /**\n     * @hidden\n     */\n    ngOnInit() {\n        if (this.refresh) {\n            this.refreshSubscription = this.refresh.subscribe(() => {\n                this.refreshAll();\n                this.cdr.markForCheck();\n            });\n        }\n    }\n    /**\n     * @hidden\n     */\n    ngOnChanges(changes) {\n        const refreshHeader = changes.viewDate || changes.excludeDays || changes.weekendDays;\n        const refreshBody = changes.viewDate ||\n            changes.events ||\n            changes.excludeDays ||\n            changes.weekendDays;\n        if (refreshHeader) {\n            this.refreshHeader();\n        }\n        if (changes.events) {\n            validateEvents(this.events);\n        }\n        if (refreshBody) {\n            this.refreshBody();\n        }\n        if (refreshHeader || refreshBody) {\n            this.emitBeforeViewRender();\n        }\n        if (changes.activeDayIsOpen ||\n            changes.viewDate ||\n            changes.events ||\n            changes.excludeDays ||\n            changes.activeDay) {\n            this.checkActiveDayIsOpen();\n        }\n    }\n    /**\n     * @hidden\n     */\n    ngOnDestroy() {\n        if (this.refreshSubscription) {\n            this.refreshSubscription.unsubscribe();\n        }\n    }\n    /**\n     * @hidden\n     */\n    toggleDayHighlight(event, isHighlighted) {\n        this.view.days.forEach((day) => {\n            if (isHighlighted && day.events.indexOf(event) > -1) {\n                day.backgroundColor =\n                    (event.color && event.color.secondary) || '#D1E8FF';\n            }\n            else {\n                delete day.backgroundColor;\n            }\n        });\n    }\n    /**\n     * @hidden\n     */\n    eventDropped(droppedOn, event, draggedFrom) {\n        if (droppedOn !== draggedFrom) {\n            const year = this.dateAdapter.getYear(droppedOn.date);\n            const month = this.dateAdapter.getMonth(droppedOn.date);\n            const date = this.dateAdapter.getDate(droppedOn.date);\n            const newStart = this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(event.start, year), month), date);\n            let newEnd;\n            if (event.end) {\n                const secondsDiff = this.dateAdapter.differenceInSeconds(newStart, event.start);\n                newEnd = this.dateAdapter.addSeconds(event.end, secondsDiff);\n            }\n            this.eventTimesChanged.emit({\n                event,\n                newStart,\n                newEnd,\n                day: droppedOn,\n                type: CalendarEventTimesChangedEventType.Drop,\n            });\n        }\n    }\n    refreshHeader() {\n        this.columnHeaders = this.utils.getWeekViewHeader({\n            viewDate: this.viewDate,\n            weekStartsOn: this.weekStartsOn,\n            excluded: this.excludeDays,\n            weekendDays: this.weekendDays,\n        });\n    }\n    refreshBody() {\n        this.view = this.utils.getMonthView({\n            events: this.events,\n            viewDate: this.viewDate,\n            weekStartsOn: this.weekStartsOn,\n            excluded: this.excludeDays,\n            weekendDays: this.weekendDays,\n        });\n    }\n    checkActiveDayIsOpen() {\n        if (this.activeDayIsOpen === true) {\n            const activeDay = this.activeDay || this.viewDate;\n            this.openDay = this.view.days.find((day) => this.dateAdapter.isSameDay(day.date, activeDay));\n            const index = this.view.days.indexOf(this.openDay);\n            this.openRowIndex =\n                Math.floor(index / this.view.totalDaysVisibleInWeek) *\n                    this.view.totalDaysVisibleInWeek;\n        }\n        else {\n            this.openRowIndex = null;\n            this.openDay = null;\n        }\n    }\n    refreshAll() {\n        this.refreshHeader();\n        this.refreshBody();\n        this.emitBeforeViewRender();\n        this.checkActiveDayIsOpen();\n    }\n    emitBeforeViewRender() {\n        if (this.columnHeaders && this.view) {\n            this.beforeViewRender.emit({\n                header: this.columnHeaders,\n                body: this.view.days,\n                period: this.view.period,\n            });\n        }\n    }\n};\nCalendarMonthViewComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef },\n    { type: CalendarUtils },\n    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] },\n    { type: DateAdapter }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarMonthViewComponent.prototype, \"viewDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarMonthViewComponent.prototype, \"events\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarMonthViewComponent.prototype, \"excludeDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarMonthViewComponent.prototype, \"activeDayIsOpen\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarMonthViewComponent.prototype, \"activeDay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Subject)\n], CalendarMonthViewComponent.prototype, \"refresh\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarMonthViewComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"tooltipPlacement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"tooltipTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarMonthViewComponent.prototype, \"tooltipAppendToBody\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarMonthViewComponent.prototype, \"tooltipDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarMonthViewComponent.prototype, \"weekStartsOn\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"headerTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"cellTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"openDayEventsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"eventTitleTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"eventActionsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarMonthViewComponent.prototype, \"weekendDays\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"beforeViewRender\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"dayClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"eventClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"columnHeaderClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"eventTimesChanged\", void 0);\nCalendarMonthViewComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-month-view',\n        template: `\n    <div class=\"cal-month-view\" role=\"grid\">\n      <mwl-calendar-month-view-header\n        [days]=\"columnHeaders\"\n        [locale]=\"locale\"\n        (columnHeaderClicked)=\"columnHeaderClicked.emit($event)\"\n        [customTemplate]=\"headerTemplate\"\n      >\n      </mwl-calendar-month-view-header>\n      <div class=\"cal-days\">\n        <div\n          *ngFor=\"let rowIndex of view.rowOffsets; trackBy: trackByRowOffset\"\n        >\n          <div role=\"row\" class=\"cal-cell-row\">\n            <mwl-calendar-month-cell\n              role=\"gridcell\"\n              *ngFor=\"\n                let day of view.days\n                  | slice: rowIndex:rowIndex + view.totalDaysVisibleInWeek;\n                trackBy: trackByDate\n              \"\n              [ngClass]=\"day?.cssClass\"\n              [day]=\"day\"\n              [openDay]=\"openDay\"\n              [locale]=\"locale\"\n              [tooltipPlacement]=\"tooltipPlacement\"\n              [tooltipAppendToBody]=\"tooltipAppendToBody\"\n              [tooltipTemplate]=\"tooltipTemplate\"\n              [tooltipDelay]=\"tooltipDelay\"\n              [customTemplate]=\"cellTemplate\"\n              [ngStyle]=\"{ backgroundColor: day.backgroundColor }\"\n              (mwlClick)=\"dayClicked.emit({ day: day, sourceEvent: $event })\"\n              [clickListenerDisabled]=\"dayClicked.observers.length === 0\"\n              (mwlKeydownEnter)=\"\n                dayClicked.emit({ day: day, sourceEvent: $event })\n              \"\n              (highlightDay)=\"toggleDayHighlight($event.event, true)\"\n              (unhighlightDay)=\"toggleDayHighlight($event.event, false)\"\n              mwlDroppable\n              dragOverClass=\"cal-drag-over\"\n              (drop)=\"\n                eventDropped(\n                  day,\n                  $event.dropData.event,\n                  $event.dropData.draggedFrom\n                )\n              \"\n              (eventClicked)=\"\n                eventClicked.emit({\n                  event: $event.event,\n                  sourceEvent: $event.sourceEvent\n                })\n              \"\n              [attr.tabindex]=\"{} | calendarA11y: 'monthCellTabIndex'\"\n            >\n            </mwl-calendar-month-cell>\n          </div>\n          <mwl-calendar-open-day-events\n            [locale]=\"locale\"\n            [isOpen]=\"openRowIndex === rowIndex\"\n            [events]=\"openDay?.events\"\n            [date]=\"openDay?.date\"\n            [customTemplate]=\"openDayEventsTemplate\"\n            [eventTitleTemplate]=\"eventTitleTemplate\"\n            [eventActionsTemplate]=\"eventActionsTemplate\"\n            (eventClicked)=\"\n              eventClicked.emit({\n                event: $event.event,\n                sourceEvent: $event.sourceEvent\n              })\n            \"\n            mwlDroppable\n            dragOverClass=\"cal-drag-over\"\n            (drop)=\"\n              eventDropped(\n                openDay,\n                $event.dropData.event,\n                $event.dropData.draggedFrom\n              )\n            \"\n          >\n          </mwl-calendar-open-day-events>\n        </div>\n      </div>\n    </div>\n  `\n    }),\n    __param(2, Inject(LOCALE_ID)),\n    __metadata(\"design:paramtypes\", [ChangeDetectorRef,\n        CalendarUtils, String, DateAdapter])\n], CalendarMonthViewComponent);\n\nlet CalendarMonthViewHeaderComponent = class CalendarMonthViewHeaderComponent {\n    constructor() {\n        this.columnHeaderClicked = new EventEmitter();\n        this.trackByWeekDayHeaderDate = trackByWeekDayHeaderDate;\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarMonthViewHeaderComponent.prototype, \"days\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarMonthViewHeaderComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewHeaderComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewHeaderComponent.prototype, \"columnHeaderClicked\", void 0);\nCalendarMonthViewHeaderComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-month-view-header',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-days=\"days\"\n      let-locale=\"locale\"\n      let-trackByWeekDayHeaderDate=\"trackByWeekDayHeaderDate\"\n    >\n      <div class=\"cal-cell-row cal-header\" role=\"row\">\n        <div\n          class=\"cal-cell\"\n          *ngFor=\"let day of days; trackBy: trackByWeekDayHeaderDate\"\n          [class.cal-past]=\"day.isPast\"\n          [class.cal-today]=\"day.isToday\"\n          [class.cal-future]=\"day.isFuture\"\n          [class.cal-weekend]=\"day.isWeekend\"\n          (click)=\"\n            columnHeaderClicked.emit({\n              isoDayNumber: day.day,\n              sourceEvent: $event\n            })\n          \"\n          [ngClass]=\"day.cssClass\"\n          tabindex=\"0\"\n          role=\"columnheader\"\n        >\n          {{ day.date | calendarDate: 'monthViewColumnHeader':locale }}\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        days: days,\n        locale: locale,\n        trackByWeekDayHeaderDate: trackByWeekDayHeaderDate\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarMonthViewHeaderComponent);\n\nlet CalendarMonthCellComponent = class CalendarMonthCellComponent {\n    constructor() {\n        this.highlightDay = new EventEmitter();\n        this.unhighlightDay = new EventEmitter();\n        this.eventClicked = new EventEmitter();\n        this.trackByEventId = trackByEventId;\n        this.validateDrag = isWithinThreshold;\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthCellComponent.prototype, \"day\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthCellComponent.prototype, \"openDay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarMonthCellComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthCellComponent.prototype, \"tooltipPlacement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarMonthCellComponent.prototype, \"tooltipAppendToBody\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthCellComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthCellComponent.prototype, \"tooltipTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarMonthCellComponent.prototype, \"tooltipDelay\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], CalendarMonthCellComponent.prototype, \"highlightDay\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], CalendarMonthCellComponent.prototype, \"unhighlightDay\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthCellComponent.prototype, \"eventClicked\", void 0);\nCalendarMonthCellComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-month-cell',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-day=\"day\"\n      let-openDay=\"openDay\"\n      let-locale=\"locale\"\n      let-tooltipPlacement=\"tooltipPlacement\"\n      let-highlightDay=\"highlightDay\"\n      let-unhighlightDay=\"unhighlightDay\"\n      let-eventClicked=\"eventClicked\"\n      let-tooltipTemplate=\"tooltipTemplate\"\n      let-tooltipAppendToBody=\"tooltipAppendToBody\"\n      let-tooltipDelay=\"tooltipDelay\"\n      let-trackByEventId=\"trackByEventId\"\n      let-validateDrag=\"validateDrag\"\n    >\n      <div\n        class=\"cal-cell-top\"\n        [attr.aria-label]=\"\n          { day: day, locale: locale } | calendarA11y: 'monthCell'\n        \"\n      >\n        <span aria-hidden=\"true\">\n          <span class=\"cal-day-badge\" *ngIf=\"day.badgeTotal > 0\">{{\n            day.badgeTotal\n          }}</span>\n          <span class=\"cal-day-number\">{{\n            day.date | calendarDate: 'monthViewDayNumber':locale\n          }}</span>\n        </span>\n      </div>\n      <div class=\"cal-events\" *ngIf=\"day.events.length > 0\">\n        <div\n          class=\"cal-event\"\n          *ngFor=\"let event of day.events; trackBy: trackByEventId\"\n          [ngStyle]=\"{ backgroundColor: event.color?.primary }\"\n          [ngClass]=\"event?.cssClass\"\n          (mouseenter)=\"highlightDay.emit({ event: event })\"\n          (mouseleave)=\"unhighlightDay.emit({ event: event })\"\n          [mwlCalendarTooltip]=\"\n            event.title | calendarEventTitle: 'monthTooltip':event\n          \"\n          [tooltipPlacement]=\"tooltipPlacement\"\n          [tooltipEvent]=\"event\"\n          [tooltipTemplate]=\"tooltipTemplate\"\n          [tooltipAppendToBody]=\"tooltipAppendToBody\"\n          [tooltipDelay]=\"tooltipDelay\"\n          mwlDraggable\n          [class.cal-draggable]=\"event.draggable\"\n          dragActiveClass=\"cal-drag-active\"\n          [dropData]=\"{ event: event, draggedFrom: day }\"\n          [dragAxis]=\"{ x: event.draggable, y: event.draggable }\"\n          [validateDrag]=\"validateDrag\"\n          [touchStartLongPress]=\"{ delay: 300, delta: 30 }\"\n          (mwlClick)=\"eventClicked.emit({ event: event, sourceEvent: $event })\"\n          [attr.aria-hidden]=\"{} | calendarA11y: 'hideMonthCellEvents'\"\n        ></div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        day: day,\n        openDay: openDay,\n        locale: locale,\n        tooltipPlacement: tooltipPlacement,\n        highlightDay: highlightDay,\n        unhighlightDay: unhighlightDay,\n        eventClicked: eventClicked,\n        tooltipTemplate: tooltipTemplate,\n        tooltipAppendToBody: tooltipAppendToBody,\n        tooltipDelay: tooltipDelay,\n        trackByEventId: trackByEventId,\n        validateDrag: validateDrag\n      }\"\n    >\n    </ng-template>\n  `,\n        host: {\n            class: 'cal-cell cal-day-cell',\n            '[class.cal-past]': 'day.isPast',\n            '[class.cal-today]': 'day.isToday',\n            '[class.cal-future]': 'day.isFuture',\n            '[class.cal-weekend]': 'day.isWeekend',\n            '[class.cal-in-month]': 'day.inMonth',\n            '[class.cal-out-month]': '!day.inMonth',\n            '[class.cal-has-events]': 'day.events.length > 0',\n            '[class.cal-open]': 'day === openDay',\n            '[class.cal-event-highlight]': '!!day.backgroundColor',\n        }\n    })\n], CalendarMonthCellComponent);\n\nconst collapseAnimation = trigger('collapse', [\n    state('void', style({\n        height: 0,\n        overflow: 'hidden',\n        'padding-top': 0,\n        'padding-bottom': 0,\n    })),\n    state('*', style({\n        height: '*',\n        overflow: 'hidden',\n        'padding-top': '*',\n        'padding-bottom': '*',\n    })),\n    transition('* => void', animate('150ms ease-out')),\n    transition('void => *', animate('150ms ease-in')),\n]);\nlet CalendarOpenDayEventsComponent = class CalendarOpenDayEventsComponent {\n    constructor() {\n        this.isOpen = false;\n        this.eventClicked = new EventEmitter();\n        this.trackByEventId = trackByEventId;\n        this.validateDrag = isWithinThreshold;\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarOpenDayEventsComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarOpenDayEventsComponent.prototype, \"isOpen\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarOpenDayEventsComponent.prototype, \"events\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarOpenDayEventsComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarOpenDayEventsComponent.prototype, \"eventTitleTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarOpenDayEventsComponent.prototype, \"eventActionsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarOpenDayEventsComponent.prototype, \"date\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarOpenDayEventsComponent.prototype, \"eventClicked\", void 0);\nCalendarOpenDayEventsComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-open-day-events',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-events=\"events\"\n      let-eventClicked=\"eventClicked\"\n      let-isOpen=\"isOpen\"\n      let-trackByEventId=\"trackByEventId\"\n      let-validateDrag=\"validateDrag\"\n    >\n      <div\n        class=\"cal-open-day-events\"\n        [@collapse]\n        *ngIf=\"isOpen\"\n        role=\"application\"\n      >\n        <span\n          tabindex=\"-1\"\n          role=\"alert\"\n          [attr.aria-label]=\"\n            { date: date, locale: locale } | calendarA11y: 'openDayEventsAlert'\n          \"\n        ></span>\n        <span\n          tabindex=\"0\"\n          role=\"landmark\"\n          [attr.aria-label]=\"\n            { date: date, locale: locale }\n              | calendarA11y: 'openDayEventsLandmark'\n          \"\n        ></span>\n        <div\n          *ngFor=\"let event of events; trackBy: trackByEventId\"\n          [ngClass]=\"event?.cssClass\"\n          mwlDraggable\n          [class.cal-draggable]=\"event.draggable\"\n          dragActiveClass=\"cal-drag-active\"\n          [dropData]=\"{ event: event }\"\n          [dragAxis]=\"{ x: event.draggable, y: event.draggable }\"\n          [validateDrag]=\"validateDrag\"\n          [touchStartLongPress]=\"{ delay: 300, delta: 30 }\"\n        >\n          <span\n            class=\"cal-event\"\n            [ngStyle]=\"{ backgroundColor: event.color?.primary }\"\n          >\n          </span>\n          &ngsp;\n          <mwl-calendar-event-title\n            [event]=\"event\"\n            [customTemplate]=\"eventTitleTemplate\"\n            view=\"month\"\n            (mwlClick)=\"\n              eventClicked.emit({ event: event, sourceEvent: $event })\n            \"\n            (mwlKeydownEnter)=\"\n              eventClicked.emit({ event: event, sourceEvent: $event })\n            \"\n            tabindex=\"0\"\n            [attr.aria-label]=\"\n              { event: event, locale: locale }\n                | calendarA11y: 'eventDescription'\n            \"\n          >\n          </mwl-calendar-event-title>\n          &ngsp;\n          <mwl-calendar-event-actions\n            [event]=\"event\"\n            [customTemplate]=\"eventActionsTemplate\"\n          >\n          </mwl-calendar-event-actions>\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        events: events,\n        eventClicked: eventClicked,\n        isOpen: isOpen,\n        trackByEventId: trackByEventId,\n        validateDrag: validateDrag\n      }\"\n    >\n    </ng-template>\n  `,\n        animations: [collapseAnimation]\n    })\n], CalendarOpenDayEventsComponent);\n\nlet CalendarMonthModule = class CalendarMonthModule {\n};\nCalendarMonthModule = __decorate([\n    NgModule({\n        imports: [CommonModule, DragAndDropModule, CalendarCommonModule],\n        declarations: [\n            CalendarMonthViewComponent,\n            CalendarMonthCellComponent,\n            CalendarOpenDayEventsComponent,\n            CalendarMonthViewHeaderComponent,\n        ],\n        exports: [\n            DragAndDropModule,\n            CalendarMonthViewComponent,\n            CalendarMonthCellComponent,\n            CalendarOpenDayEventsComponent,\n            CalendarMonthViewHeaderComponent,\n        ],\n    })\n], CalendarMonthModule);\n\nclass CalendarDragHelper {\n    constructor(dragContainerElement, draggableElement) {\n        this.dragContainerElement = dragContainerElement;\n        this.startPosition = draggableElement.getBoundingClientRect();\n    }\n    validateDrag({ x, y, snapDraggedEvents, dragAlreadyMoved, transform, }) {\n        if (snapDraggedEvents) {\n            const newRect = Object.assign({}, this.startPosition, {\n                left: this.startPosition.left + transform.x,\n                right: this.startPosition.right + transform.x,\n                top: this.startPosition.top + transform.y,\n                bottom: this.startPosition.bottom + transform.y,\n            });\n            return ((isWithinThreshold({ x, y }) || dragAlreadyMoved) &&\n                isInside(this.dragContainerElement.getBoundingClientRect(), newRect));\n        }\n        else {\n            return isWithinThreshold({ x, y }) || dragAlreadyMoved;\n        }\n    }\n}\n\nclass CalendarResizeHelper {\n    constructor(resizeContainerElement, minWidth) {\n        this.resizeContainerElement = resizeContainerElement;\n        this.minWidth = minWidth;\n    }\n    validateResize({ rectangle }) {\n        if (this.minWidth &&\n            Math.ceil(rectangle.width) < Math.ceil(this.minWidth)) {\n            return false;\n        }\n        return isInside(this.resizeContainerElement.getBoundingClientRect(), rectangle);\n    }\n}\n\n/**\n * Shows all events on a given week. Example usage:\n *\n * ```typescript\n * <mwl-calendar-week-view\n *  [viewDate]=\"viewDate\"\n *  [events]=\"events\">\n * </mwl-calendar-week-view>\n * ```\n */\nlet CalendarWeekViewComponent = class CalendarWeekViewComponent {\n    /**\n     * @hidden\n     */\n    constructor(cdr, utils, locale, dateAdapter) {\n        this.cdr = cdr;\n        this.utils = utils;\n        this.dateAdapter = dateAdapter;\n        /**\n         * An array of events to display on view\n         * The schema is available here: https://github.com/mattlewis92/calendar-utils/blob/c51689985f59a271940e30bc4e2c4e1fee3fcb5c/src/calendarUtils.ts#L49-L63\n         */\n        this.events = [];\n        /**\n         * An array of day indexes (0 = sunday, 1 = monday etc) that will be hidden on the view\n         */\n        this.excludeDays = [];\n        /**\n         * The placement of the event tooltip\n         */\n        this.tooltipPlacement = 'auto';\n        /**\n         * Whether to append tooltips to the body or next to the trigger element\n         */\n        this.tooltipAppendToBody = true;\n        /**\n         * The delay in milliseconds before the tooltip should be displayed. If not provided the tooltip\n         * will be displayed immediately.\n         */\n        this.tooltipDelay = null;\n        /**\n         * The precision to display events.\n         * `days` will round event start and end dates to the nearest day and `minutes` will not do this rounding\n         */\n        this.precision = 'days';\n        /**\n         * Whether to snap events to a grid when dragging\n         */\n        this.snapDraggedEvents = true;\n        /**\n         * The number of segments in an hour. Must divide equally into 60.\n         */\n        this.hourSegments = 2;\n        /**\n         * The height in pixels of each hour segment\n         */\n        this.hourSegmentHeight = 30;\n        /**\n         * The day start hours in 24 hour time. Must be 0-23\n         */\n        this.dayStartHour = 0;\n        /**\n         * The day start minutes. Must be 0-59\n         */\n        this.dayStartMinute = 0;\n        /**\n         * The day end hours in 24 hour time. Must be 0-23\n         */\n        this.dayEndHour = 23;\n        /**\n         * The day end minutes. Must be 0-59\n         */\n        this.dayEndMinute = 59;\n        /**\n         * Called when a header week day is clicked. Adding a `cssClass` property on `$event.day` will add that class to the header element\n         */\n        this.dayHeaderClicked = new EventEmitter();\n        /**\n         * Called when the event title is clicked\n         */\n        this.eventClicked = new EventEmitter();\n        /**\n         * Called when an event is resized or dragged and dropped\n         */\n        this.eventTimesChanged = new EventEmitter();\n        /**\n         * An output that will be called before the view is rendered for the current week.\n         * If you add the `cssClass` property to a day in the header it will add that class to the cell element in the template\n         */\n        this.beforeViewRender = new EventEmitter();\n        /**\n         * Called when an hour segment is clicked\n         */\n        this.hourSegmentClicked = new EventEmitter();\n        /**\n         * @hidden\n         */\n        this.allDayEventResizes = new Map();\n        /**\n         * @hidden\n         */\n        this.timeEventResizes = new Map();\n        /**\n         * @hidden\n         */\n        this.eventDragEnterByType = {\n            allDay: 0,\n            time: 0,\n        };\n        /**\n         * @hidden\n         */\n        this.dragActive = false;\n        /**\n         * @hidden\n         */\n        this.dragAlreadyMoved = false;\n        /**\n         * @hidden\n         */\n        this.calendarId = Symbol('angular calendar week view id');\n        /**\n         * @hidden\n         */\n        this.trackByWeekDayHeaderDate = trackByWeekDayHeaderDate;\n        /**\n         * @hidden\n         */\n        this.trackByHourSegment = trackByHourSegment;\n        /**\n         * @hidden\n         */\n        this.trackByHour = trackByHour;\n        /**\n         * @hidden\n         */\n        this.trackByWeekAllDayEvent = trackByWeekAllDayEvent;\n        /**\n         * @hidden\n         */\n        this.trackByWeekTimeEvent = trackByWeekTimeEvent;\n        /**\n         * @hidden\n         */\n        this.trackByHourColumn = (index, column) => column.hours[0] ? column.hours[0].segments[0].date.toISOString() : column;\n        /**\n         * @hidden\n         */\n        this.trackById = (index, row) => row.id;\n        this.locale = locale;\n    }\n    /**\n     * @hidden\n     */\n    ngOnInit() {\n        if (this.refresh) {\n            this.refreshSubscription = this.refresh.subscribe(() => {\n                this.refreshAll();\n                this.cdr.markForCheck();\n            });\n        }\n    }\n    /**\n     * @hidden\n     */\n    ngOnChanges(changes) {\n        const refreshHeader = changes.viewDate ||\n            changes.excludeDays ||\n            changes.weekendDays ||\n            changes.daysInWeek ||\n            changes.weekStartsOn;\n        const refreshBody = changes.viewDate ||\n            changes.dayStartHour ||\n            changes.dayStartMinute ||\n            changes.dayEndHour ||\n            changes.dayEndMinute ||\n            changes.hourSegments ||\n            changes.weekStartsOn ||\n            changes.weekendDays ||\n            changes.excludeDays ||\n            changes.hourSegmentHeight ||\n            changes.events ||\n            changes.daysInWeek;\n        if (refreshHeader) {\n            this.refreshHeader();\n        }\n        if (changes.events) {\n            validateEvents(this.events);\n        }\n        if (refreshBody) {\n            this.refreshBody();\n        }\n        if (refreshHeader || refreshBody) {\n            this.emitBeforeViewRender();\n        }\n    }\n    /**\n     * @hidden\n     */\n    ngOnDestroy() {\n        if (this.refreshSubscription) {\n            this.refreshSubscription.unsubscribe();\n        }\n    }\n    /**\n     * @hidden\n     */\n    timeEventResizeStarted(eventsContainer, timeEvent, resizeEvent) {\n        this.timeEventResizes.set(timeEvent.event, resizeEvent);\n        this.resizeStarted(eventsContainer);\n    }\n    /**\n     * @hidden\n     */\n    timeEventResizing(timeEvent, resizeEvent) {\n        this.timeEventResizes.set(timeEvent.event, resizeEvent);\n        const adjustedEvents = new Map();\n        const tempEvents = [...this.events];\n        this.timeEventResizes.forEach((lastResizeEvent, event) => {\n            const newEventDates = this.getTimeEventResizedDates(event, lastResizeEvent);\n            const adjustedEvent = Object.assign(Object.assign({}, event), newEventDates);\n            adjustedEvents.set(adjustedEvent, event);\n            const eventIndex = tempEvents.indexOf(event);\n            tempEvents[eventIndex] = adjustedEvent;\n        });\n        this.restoreOriginalEvents(tempEvents, adjustedEvents, true);\n    }\n    /**\n     * @hidden\n     */\n    timeEventResizeEnded(timeEvent) {\n        this.view = this.getWeekView(this.events);\n        const lastResizeEvent = this.timeEventResizes.get(timeEvent.event);\n        if (lastResizeEvent) {\n            this.timeEventResizes.delete(timeEvent.event);\n            const newEventDates = this.getTimeEventResizedDates(timeEvent.event, lastResizeEvent);\n            this.eventTimesChanged.emit({\n                newStart: newEventDates.start,\n                newEnd: newEventDates.end,\n                event: timeEvent.event,\n                type: CalendarEventTimesChangedEventType.Resize,\n            });\n        }\n    }\n    /**\n     * @hidden\n     */\n    allDayEventResizeStarted(allDayEventsContainer, allDayEvent, resizeEvent) {\n        this.allDayEventResizes.set(allDayEvent, {\n            originalOffset: allDayEvent.offset,\n            originalSpan: allDayEvent.span,\n            edge: typeof resizeEvent.edges.left !== 'undefined' ? 'left' : 'right',\n        });\n        this.resizeStarted(allDayEventsContainer, this.getDayColumnWidth(allDayEventsContainer));\n    }\n    /**\n     * @hidden\n     */\n    allDayEventResizing(allDayEvent, resizeEvent, dayWidth) {\n        const currentResize = this.allDayEventResizes.get(allDayEvent);\n        if (typeof resizeEvent.edges.left !== 'undefined') {\n            const diff = Math.round(+resizeEvent.edges.left / dayWidth);\n            allDayEvent.offset = currentResize.originalOffset + diff;\n            allDayEvent.span = currentResize.originalSpan - diff;\n        }\n        else if (typeof resizeEvent.edges.right !== 'undefined') {\n            const diff = Math.round(+resizeEvent.edges.right / dayWidth);\n            allDayEvent.span = currentResize.originalSpan + diff;\n        }\n    }\n    /**\n     * @hidden\n     */\n    allDayEventResizeEnded(allDayEvent) {\n        const currentResize = this.allDayEventResizes.get(allDayEvent);\n        if (currentResize) {\n            const allDayEventResizingBeforeStart = currentResize.edge === 'left';\n            let daysDiff;\n            if (allDayEventResizingBeforeStart) {\n                daysDiff = allDayEvent.offset - currentResize.originalOffset;\n            }\n            else {\n                daysDiff = allDayEvent.span - currentResize.originalSpan;\n            }\n            allDayEvent.offset = currentResize.originalOffset;\n            allDayEvent.span = currentResize.originalSpan;\n            let newStart = allDayEvent.event.start;\n            let newEnd = allDayEvent.event.end || allDayEvent.event.start;\n            if (allDayEventResizingBeforeStart) {\n                newStart = addDaysWithExclusions(this.dateAdapter, newStart, daysDiff, this.excludeDays);\n            }\n            else {\n                newEnd = addDaysWithExclusions(this.dateAdapter, newEnd, daysDiff, this.excludeDays);\n            }\n            this.eventTimesChanged.emit({\n                newStart,\n                newEnd,\n                event: allDayEvent.event,\n                type: CalendarEventTimesChangedEventType.Resize,\n            });\n            this.allDayEventResizes.delete(allDayEvent);\n        }\n    }\n    /**\n     * @hidden\n     */\n    getDayColumnWidth(eventRowContainer) {\n        return Math.floor(eventRowContainer.offsetWidth / this.days.length);\n    }\n    /**\n     * @hidden\n     */\n    dateDragEnter(date) {\n        this.lastDragEnterDate = date;\n    }\n    /**\n     * @hidden\n     */\n    eventDropped(dropEvent, date, allDay) {\n        if (shouldFireDroppedEvent(dropEvent, date, allDay, this.calendarId) &&\n            this.lastDragEnterDate.getTime() === date.getTime() &&\n            (!this.snapDraggedEvents ||\n                dropEvent.dropData.event !== this.lastDraggedEvent)) {\n            this.eventTimesChanged.emit({\n                type: CalendarEventTimesChangedEventType.Drop,\n                event: dropEvent.dropData.event,\n                newStart: date,\n                allDay,\n            });\n        }\n        this.lastDraggedEvent = null;\n    }\n    /**\n     * @hidden\n     */\n    dragEnter(type) {\n        this.eventDragEnterByType[type]++;\n    }\n    /**\n     * @hidden\n     */\n    dragLeave(type) {\n        this.eventDragEnterByType[type]--;\n    }\n    /**\n     * @hidden\n     */\n    dragStarted(eventsContainer, event, dayEvent) {\n        this.dayColumnWidth = this.getDayColumnWidth(eventsContainer);\n        const dragHelper = new CalendarDragHelper(eventsContainer, event);\n        this.validateDrag = ({ x, y, transform }) => this.allDayEventResizes.size === 0 &&\n            this.timeEventResizes.size === 0 &&\n            dragHelper.validateDrag({\n                x,\n                y,\n                snapDraggedEvents: this.snapDraggedEvents,\n                dragAlreadyMoved: this.dragAlreadyMoved,\n                transform,\n            });\n        this.dragActive = true;\n        this.dragAlreadyMoved = false;\n        this.lastDraggedEvent = null;\n        this.eventDragEnterByType = {\n            allDay: 0,\n            time: 0,\n        };\n        if (!this.snapDraggedEvents && dayEvent) {\n            this.view.hourColumns.forEach((column) => {\n                const linkedEvent = column.events.find((columnEvent) => columnEvent.event === dayEvent.event && columnEvent !== dayEvent);\n                // hide any linked events while dragging\n                if (linkedEvent) {\n                    linkedEvent.width = 0;\n                    linkedEvent.height = 0;\n                }\n            });\n        }\n        this.cdr.markForCheck();\n    }\n    /**\n     * @hidden\n     */\n    dragMove(dayEvent, dragEvent) {\n        const newEventTimes = this.getDragMovedEventTimes(dayEvent, dragEvent, this.dayColumnWidth, true);\n        const originalEvent = dayEvent.event;\n        const adjustedEvent = Object.assign(Object.assign({}, originalEvent), newEventTimes);\n        const tempEvents = this.events.map((event) => {\n            if (event === originalEvent) {\n                return adjustedEvent;\n            }\n            return event;\n        });\n        this.restoreOriginalEvents(tempEvents, new Map([[adjustedEvent, originalEvent]]), this.snapDraggedEvents);\n        this.dragAlreadyMoved = true;\n    }\n    /**\n     * @hidden\n     */\n    allDayEventDragMove() {\n        this.dragAlreadyMoved = true;\n    }\n    /**\n     * @hidden\n     */\n    dragEnded(weekEvent, dragEndEvent, dayWidth, useY = false) {\n        this.view = this.getWeekView(this.events);\n        this.dragActive = false;\n        this.validateDrag = null;\n        const { start, end } = this.getDragMovedEventTimes(weekEvent, dragEndEvent, dayWidth, useY);\n        if ((this.snapDraggedEvents ||\n            this.eventDragEnterByType[useY ? 'time' : 'allDay'] > 0) &&\n            isDraggedWithinPeriod(start, end, this.view.period)) {\n            this.lastDraggedEvent = weekEvent.event;\n            this.eventTimesChanged.emit({\n                newStart: start,\n                newEnd: end,\n                event: weekEvent.event,\n                type: CalendarEventTimesChangedEventType.Drag,\n                allDay: !useY,\n            });\n        }\n    }\n    refreshHeader() {\n        this.days = this.utils.getWeekViewHeader(Object.assign({ viewDate: this.viewDate, weekStartsOn: this.weekStartsOn, excluded: this.excludeDays, weekendDays: this.weekendDays }, getWeekViewPeriod(this.dateAdapter, this.viewDate, this.weekStartsOn, this.excludeDays, this.daysInWeek)));\n    }\n    refreshBody() {\n        this.view = this.getWeekView(this.events);\n    }\n    refreshAll() {\n        this.refreshHeader();\n        this.refreshBody();\n        this.emitBeforeViewRender();\n    }\n    emitBeforeViewRender() {\n        if (this.days && this.view) {\n            this.beforeViewRender.emit(Object.assign({ header: this.days }, this.view));\n        }\n    }\n    getWeekView(events) {\n        return this.utils.getWeekView(Object.assign({ events, viewDate: this.viewDate, weekStartsOn: this.weekStartsOn, excluded: this.excludeDays, precision: this.precision, absolutePositionedEvents: true, hourSegments: this.hourSegments, dayStart: {\n                hour: this.dayStartHour,\n                minute: this.dayStartMinute,\n            }, dayEnd: {\n                hour: this.dayEndHour,\n                minute: this.dayEndMinute,\n            }, segmentHeight: this.hourSegmentHeight, weekendDays: this.weekendDays }, getWeekViewPeriod(this.dateAdapter, this.viewDate, this.weekStartsOn, this.excludeDays, this.daysInWeek)));\n    }\n    getDragMovedEventTimes(weekEvent, dragEndEvent, dayWidth, useY) {\n        const daysDragged = roundToNearest(dragEndEvent.x, dayWidth) / dayWidth;\n        const minutesMoved = useY\n            ? getMinutesMoved(dragEndEvent.y, this.hourSegments, this.hourSegmentHeight, this.eventSnapSize)\n            : 0;\n        const start = this.dateAdapter.addMinutes(addDaysWithExclusions(this.dateAdapter, weekEvent.event.start, daysDragged, this.excludeDays), minutesMoved);\n        let end;\n        if (weekEvent.event.end) {\n            end = this.dateAdapter.addMinutes(addDaysWithExclusions(this.dateAdapter, weekEvent.event.end, daysDragged, this.excludeDays), minutesMoved);\n        }\n        return { start, end };\n    }\n    restoreOriginalEvents(tempEvents, adjustedEvents, snapDraggedEvents = true) {\n        const previousView = this.view;\n        if (snapDraggedEvents) {\n            this.view = this.getWeekView(tempEvents);\n        }\n        const adjustedEventsArray = tempEvents.filter((event) => adjustedEvents.has(event));\n        this.view.hourColumns.forEach((column, columnIndex) => {\n            previousView.hourColumns[columnIndex].hours.forEach((hour, hourIndex) => {\n                hour.segments.forEach((segment, segmentIndex) => {\n                    column.hours[hourIndex].segments[segmentIndex].cssClass =\n                        segment.cssClass;\n                });\n            });\n            adjustedEventsArray.forEach((adjustedEvent) => {\n                const originalEvent = adjustedEvents.get(adjustedEvent);\n                const existingColumnEvent = column.events.find((columnEvent) => columnEvent.event ===\n                    (snapDraggedEvents ? adjustedEvent : originalEvent));\n                if (existingColumnEvent) {\n                    // restore the original event so trackBy kicks in and the dom isn't changed\n                    existingColumnEvent.event = originalEvent;\n                    existingColumnEvent['tempEvent'] = adjustedEvent;\n                    if (!snapDraggedEvents) {\n                        existingColumnEvent.height = 0;\n                        existingColumnEvent.width = 0;\n                    }\n                }\n                else {\n                    // add a dummy event to the drop so if the event was removed from the original column the drag doesn't end early\n                    const event = {\n                        event: originalEvent,\n                        left: 0,\n                        top: 0,\n                        height: 0,\n                        width: 0,\n                        startsBeforeDay: false,\n                        endsAfterDay: false,\n                        tempEvent: adjustedEvent,\n                    };\n                    column.events.push(event);\n                }\n            });\n        });\n        adjustedEvents.clear();\n    }\n    getTimeEventResizedDates(calendarEvent, resizeEvent) {\n        const minimumEventHeight = getMinimumEventHeightInMinutes(this.hourSegments, this.hourSegmentHeight);\n        const newEventDates = {\n            start: calendarEvent.start,\n            end: getDefaultEventEnd(this.dateAdapter, calendarEvent, minimumEventHeight),\n        };\n        const { end } = calendarEvent, eventWithoutEnd = __rest(calendarEvent, [\"end\"]);\n        const smallestResizes = {\n            start: this.dateAdapter.addMinutes(newEventDates.end, minimumEventHeight * -1),\n            end: getDefaultEventEnd(this.dateAdapter, eventWithoutEnd, minimumEventHeight),\n        };\n        if (typeof resizeEvent.edges.left !== 'undefined') {\n            const daysDiff = Math.round(+resizeEvent.edges.left / this.dayColumnWidth);\n            const newStart = addDaysWithExclusions(this.dateAdapter, newEventDates.start, daysDiff, this.excludeDays);\n            if (newStart < smallestResizes.start) {\n                newEventDates.start = newStart;\n            }\n            else {\n                newEventDates.start = smallestResizes.start;\n            }\n        }\n        else if (typeof resizeEvent.edges.right !== 'undefined') {\n            const daysDiff = Math.round(+resizeEvent.edges.right / this.dayColumnWidth);\n            const newEnd = addDaysWithExclusions(this.dateAdapter, newEventDates.end, daysDiff, this.excludeDays);\n            if (newEnd > smallestResizes.end) {\n                newEventDates.end = newEnd;\n            }\n            else {\n                newEventDates.end = smallestResizes.end;\n            }\n        }\n        if (typeof resizeEvent.edges.top !== 'undefined') {\n            const minutesMoved = getMinutesMoved(resizeEvent.edges.top, this.hourSegments, this.hourSegmentHeight, this.eventSnapSize);\n            const newStart = this.dateAdapter.addMinutes(newEventDates.start, minutesMoved);\n            if (newStart < smallestResizes.start) {\n                newEventDates.start = newStart;\n            }\n            else {\n                newEventDates.start = smallestResizes.start;\n            }\n        }\n        else if (typeof resizeEvent.edges.bottom !== 'undefined') {\n            const minutesMoved = getMinutesMoved(resizeEvent.edges.bottom, this.hourSegments, this.hourSegmentHeight, this.eventSnapSize);\n            const newEnd = this.dateAdapter.addMinutes(newEventDates.end, minutesMoved);\n            if (newEnd > smallestResizes.end) {\n                newEventDates.end = newEnd;\n            }\n            else {\n                newEventDates.end = smallestResizes.end;\n            }\n        }\n        return newEventDates;\n    }\n    resizeStarted(eventsContainer, minWidth) {\n        this.dayColumnWidth = this.getDayColumnWidth(eventsContainer);\n        const resizeHelper = new CalendarResizeHelper(eventsContainer, minWidth);\n        this.validateResize = ({ rectangle }) => resizeHelper.validateResize({ rectangle });\n        this.cdr.markForCheck();\n    }\n};\nCalendarWeekViewComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef },\n    { type: CalendarUtils },\n    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] },\n    { type: DateAdapter }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarWeekViewComponent.prototype, \"viewDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarWeekViewComponent.prototype, \"events\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarWeekViewComponent.prototype, \"excludeDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Subject)\n], CalendarWeekViewComponent.prototype, \"refresh\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarWeekViewComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"tooltipPlacement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"tooltipTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarWeekViewComponent.prototype, \"tooltipAppendToBody\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"tooltipDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"weekStartsOn\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"headerTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"eventTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"eventTitleTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"eventActionsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarWeekViewComponent.prototype, \"precision\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarWeekViewComponent.prototype, \"weekendDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarWeekViewComponent.prototype, \"snapDraggedEvents\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"hourSegments\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"hourSegmentHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"dayStartHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"dayStartMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"dayEndHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"dayEndMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"hourSegmentTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"eventSnapSize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"allDayEventsLabelTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"daysInWeek\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"currentTimeMarkerTemplate\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"dayHeaderClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"eventClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"eventTimesChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"beforeViewRender\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"hourSegmentClicked\", void 0);\nCalendarWeekViewComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-week-view',\n        template: `\n    <div class=\"cal-week-view\" role=\"grid\">\n      <mwl-calendar-week-view-header\n        [days]=\"days\"\n        [locale]=\"locale\"\n        [customTemplate]=\"headerTemplate\"\n        (dayHeaderClicked)=\"dayHeaderClicked.emit($event)\"\n        (eventDropped)=\"\n          eventDropped({ dropData: $event }, $event.newStart, true)\n        \"\n        (dragEnter)=\"dateDragEnter($event.date)\"\n      >\n      </mwl-calendar-week-view-header>\n      <div\n        class=\"cal-all-day-events\"\n        #allDayEventsContainer\n        *ngIf=\"view.allDayEventRows.length > 0\"\n        mwlDroppable\n        (dragEnter)=\"dragEnter('allDay')\"\n        (dragLeave)=\"dragLeave('allDay')\"\n      >\n        <div class=\"cal-day-columns\">\n          <div\n            class=\"cal-time-label-column\"\n            [ngTemplateOutlet]=\"allDayEventsLabelTemplate\"\n          ></div>\n          <div\n            class=\"cal-day-column\"\n            *ngFor=\"let day of days; trackBy: trackByWeekDayHeaderDate\"\n            mwlDroppable\n            dragOverClass=\"cal-drag-over\"\n            (drop)=\"eventDropped($event, day.date, true)\"\n            (dragEnter)=\"dateDragEnter(day.date)\"\n          ></div>\n        </div>\n        <div\n          *ngFor=\"let eventRow of view.allDayEventRows; trackBy: trackById\"\n          #eventRowContainer\n          class=\"cal-events-row\"\n        >\n          <div\n            *ngFor=\"\n              let allDayEvent of eventRow.row;\n              trackBy: trackByWeekAllDayEvent\n            \"\n            #event\n            class=\"cal-event-container\"\n            [class.cal-draggable]=\"\n              allDayEvent.event.draggable && allDayEventResizes.size === 0\n            \"\n            [class.cal-starts-within-week]=\"!allDayEvent.startsBeforeWeek\"\n            [class.cal-ends-within-week]=\"!allDayEvent.endsAfterWeek\"\n            [ngClass]=\"allDayEvent.event?.cssClass\"\n            [style.width.%]=\"(100 / days.length) * allDayEvent.span\"\n            [style.marginLeft.%]=\"(100 / days.length) * allDayEvent.offset\"\n            mwlResizable\n            [resizeSnapGrid]=\"{ left: dayColumnWidth, right: dayColumnWidth }\"\n            [validateResize]=\"validateResize\"\n            (resizeStart)=\"\n              allDayEventResizeStarted(eventRowContainer, allDayEvent, $event)\n            \"\n            (resizing)=\"\n              allDayEventResizing(allDayEvent, $event, dayColumnWidth)\n            \"\n            (resizeEnd)=\"allDayEventResizeEnded(allDayEvent)\"\n            mwlDraggable\n            dragActiveClass=\"cal-drag-active\"\n            [dropData]=\"{ event: allDayEvent.event, calendarId: calendarId }\"\n            [dragAxis]=\"{\n              x: allDayEvent.event.draggable && allDayEventResizes.size === 0,\n              y:\n                !snapDraggedEvents &&\n                allDayEvent.event.draggable &&\n                allDayEventResizes.size === 0\n            }\"\n            [dragSnapGrid]=\"snapDraggedEvents ? { x: dayColumnWidth } : {}\"\n            [validateDrag]=\"validateDrag\"\n            [touchStartLongPress]=\"{ delay: 300, delta: 30 }\"\n            (dragStart)=\"dragStarted(eventRowContainer, event)\"\n            (dragging)=\"allDayEventDragMove()\"\n            (dragEnd)=\"dragEnded(allDayEvent, $event, dayColumnWidth)\"\n          >\n            <div\n              class=\"cal-resize-handle cal-resize-handle-before-start\"\n              *ngIf=\"\n                allDayEvent.event?.resizable?.beforeStart &&\n                !allDayEvent.startsBeforeWeek\n              \"\n              mwlResizeHandle\n              [resizeEdges]=\"{ left: true }\"\n            ></div>\n            <mwl-calendar-week-view-event\n              [locale]=\"locale\"\n              [weekEvent]=\"allDayEvent\"\n              [tooltipPlacement]=\"tooltipPlacement\"\n              [tooltipTemplate]=\"tooltipTemplate\"\n              [tooltipAppendToBody]=\"tooltipAppendToBody\"\n              [tooltipDelay]=\"tooltipDelay\"\n              [customTemplate]=\"eventTemplate\"\n              [eventTitleTemplate]=\"eventTitleTemplate\"\n              [eventActionsTemplate]=\"eventActionsTemplate\"\n              [daysInWeek]=\"daysInWeek\"\n              (eventClicked)=\"\n                eventClicked.emit({\n                  event: allDayEvent.event,\n                  sourceEvent: $event.sourceEvent\n                })\n              \"\n            >\n            </mwl-calendar-week-view-event>\n            <div\n              class=\"cal-resize-handle cal-resize-handle-after-end\"\n              *ngIf=\"\n                allDayEvent.event?.resizable?.afterEnd &&\n                !allDayEvent.endsAfterWeek\n              \"\n              mwlResizeHandle\n              [resizeEdges]=\"{ right: true }\"\n            ></div>\n          </div>\n        </div>\n      </div>\n      <div\n        class=\"cal-time-events\"\n        mwlDroppable\n        (dragEnter)=\"dragEnter('time')\"\n        (dragLeave)=\"dragLeave('time')\"\n      >\n        <div\n          class=\"cal-time-label-column\"\n          *ngIf=\"view.hourColumns.length > 0 && daysInWeek !== 1\"\n        >\n          <div\n            *ngFor=\"\n              let hour of view.hourColumns[0].hours;\n              trackBy: trackByHour;\n              let odd = odd\n            \"\n            class=\"cal-hour\"\n            [class.cal-hour-odd]=\"odd\"\n          >\n            <mwl-calendar-week-view-hour-segment\n              *ngFor=\"let segment of hour.segments; trackBy: trackByHourSegment\"\n              [style.height.px]=\"hourSegmentHeight\"\n              [segment]=\"segment\"\n              [segmentHeight]=\"hourSegmentHeight\"\n              [locale]=\"locale\"\n              [customTemplate]=\"hourSegmentTemplate\"\n              [isTimeLabel]=\"true\"\n              [daysInWeek]=\"daysInWeek\"\n            >\n            </mwl-calendar-week-view-hour-segment>\n          </div>\n        </div>\n        <div\n          class=\"cal-day-columns\"\n          [class.cal-resize-active]=\"timeEventResizes.size > 0\"\n          #dayColumns\n        >\n          <div\n            class=\"cal-day-column\"\n            *ngFor=\"let column of view.hourColumns; trackBy: trackByHourColumn\"\n          >\n            <mwl-calendar-week-view-current-time-marker\n              [columnDate]=\"column.date\"\n              [dayStartHour]=\"dayStartHour\"\n              [dayStartMinute]=\"dayStartMinute\"\n              [dayEndHour]=\"dayEndHour\"\n              [dayEndMinute]=\"dayEndMinute\"\n              [hourSegments]=\"hourSegments\"\n              [hourSegmentHeight]=\"hourSegmentHeight\"\n              [customTemplate]=\"currentTimeMarkerTemplate\"\n            ></mwl-calendar-week-view-current-time-marker>\n            <div class=\"cal-events-container\">\n              <div\n                *ngFor=\"\n                  let timeEvent of column.events;\n                  trackBy: trackByWeekTimeEvent\n                \"\n                #event\n                class=\"cal-event-container\"\n                [class.cal-draggable]=\"\n                  timeEvent.event.draggable && timeEventResizes.size === 0\n                \"\n                [class.cal-starts-within-day]=\"!timeEvent.startsBeforeDay\"\n                [class.cal-ends-within-day]=\"!timeEvent.endsAfterDay\"\n                [ngClass]=\"timeEvent.event.cssClass\"\n                [hidden]=\"timeEvent.height === 0 && timeEvent.width === 0\"\n                [style.top.px]=\"timeEvent.top\"\n                [style.height.px]=\"timeEvent.height\"\n                [style.left.%]=\"timeEvent.left\"\n                [style.width.%]=\"timeEvent.width\"\n                mwlResizable\n                [resizeSnapGrid]=\"{\n                  left: dayColumnWidth,\n                  right: dayColumnWidth,\n                  top: eventSnapSize || hourSegmentHeight,\n                  bottom: eventSnapSize || hourSegmentHeight\n                }\"\n                [validateResize]=\"validateResize\"\n                [allowNegativeResizes]=\"true\"\n                (resizeStart)=\"\n                  timeEventResizeStarted(dayColumns, timeEvent, $event)\n                \"\n                (resizing)=\"timeEventResizing(timeEvent, $event)\"\n                (resizeEnd)=\"timeEventResizeEnded(timeEvent)\"\n                mwlDraggable\n                dragActiveClass=\"cal-drag-active\"\n                [dropData]=\"{ event: timeEvent.event, calendarId: calendarId }\"\n                [dragAxis]=\"{\n                  x: timeEvent.event.draggable && timeEventResizes.size === 0,\n                  y: timeEvent.event.draggable && timeEventResizes.size === 0\n                }\"\n                [dragSnapGrid]=\"\n                  snapDraggedEvents\n                    ? {\n                        x: dayColumnWidth,\n                        y: eventSnapSize || hourSegmentHeight\n                      }\n                    : {}\n                \"\n                [touchStartLongPress]=\"{ delay: 300, delta: 30 }\"\n                [ghostDragEnabled]=\"!snapDraggedEvents\"\n                [ghostElementTemplate]=\"weekEventTemplate\"\n                [validateDrag]=\"validateDrag\"\n                (dragStart)=\"dragStarted(dayColumns, event, timeEvent)\"\n                (dragging)=\"dragMove(timeEvent, $event)\"\n                (dragEnd)=\"dragEnded(timeEvent, $event, dayColumnWidth, true)\"\n              >\n                <div\n                  class=\"cal-resize-handle cal-resize-handle-before-start\"\n                  *ngIf=\"\n                    timeEvent.event?.resizable?.beforeStart &&\n                    !timeEvent.startsBeforeDay\n                  \"\n                  mwlResizeHandle\n                  [resizeEdges]=\"{\n                    left: true,\n                    top: true\n                  }\"\n                ></div>\n                <ng-template\n                  [ngTemplateOutlet]=\"weekEventTemplate\"\n                ></ng-template>\n                <ng-template #weekEventTemplate>\n                  <mwl-calendar-week-view-event\n                    [locale]=\"locale\"\n                    [weekEvent]=\"timeEvent\"\n                    [tooltipPlacement]=\"tooltipPlacement\"\n                    [tooltipTemplate]=\"tooltipTemplate\"\n                    [tooltipAppendToBody]=\"tooltipAppendToBody\"\n                    [tooltipDisabled]=\"dragActive || timeEventResizes.size > 0\"\n                    [tooltipDelay]=\"tooltipDelay\"\n                    [customTemplate]=\"eventTemplate\"\n                    [eventTitleTemplate]=\"eventTitleTemplate\"\n                    [eventActionsTemplate]=\"eventActionsTemplate\"\n                    [column]=\"column\"\n                    [daysInWeek]=\"daysInWeek\"\n                    (eventClicked)=\"\n                      eventClicked.emit({\n                        event: timeEvent.event,\n                        sourceEvent: $event.sourceEvent\n                      })\n                    \"\n                  >\n                  </mwl-calendar-week-view-event>\n                </ng-template>\n                <div\n                  class=\"cal-resize-handle cal-resize-handle-after-end\"\n                  *ngIf=\"\n                    timeEvent.event?.resizable?.afterEnd &&\n                    !timeEvent.endsAfterDay\n                  \"\n                  mwlResizeHandle\n                  [resizeEdges]=\"{\n                    right: true,\n                    bottom: true\n                  }\"\n                ></div>\n              </div>\n            </div>\n\n            <div\n              *ngFor=\"\n                let hour of column.hours;\n                trackBy: trackByHour;\n                let odd = odd\n              \"\n              class=\"cal-hour\"\n              [class.cal-hour-odd]=\"odd\"\n            >\n              <mwl-calendar-week-view-hour-segment\n                *ngFor=\"\n                  let segment of hour.segments;\n                  trackBy: trackByHourSegment\n                \"\n                [style.height.px]=\"hourSegmentHeight\"\n                [segment]=\"segment\"\n                [segmentHeight]=\"hourSegmentHeight\"\n                [locale]=\"locale\"\n                [customTemplate]=\"hourSegmentTemplate\"\n                [daysInWeek]=\"daysInWeek\"\n                (mwlClick)=\"\n                  hourSegmentClicked.emit({\n                    date: segment.date,\n                    sourceEvent: $event\n                  })\n                \"\n                [clickListenerDisabled]=\"\n                  hourSegmentClicked.observers.length === 0\n                \"\n                mwlDroppable\n                [dragOverClass]=\"\n                  !dragActive || !snapDraggedEvents ? 'cal-drag-over' : null\n                \"\n                dragActiveClass=\"cal-drag-active\"\n                (drop)=\"eventDropped($event, segment.date, false)\"\n                (dragEnter)=\"dateDragEnter(segment.date)\"\n                [isTimeLabel]=\"daysInWeek === 1\"\n              >\n              </mwl-calendar-week-view-hour-segment>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n    }),\n    __param(2, Inject(LOCALE_ID)),\n    __metadata(\"design:paramtypes\", [ChangeDetectorRef,\n        CalendarUtils, String, DateAdapter])\n], CalendarWeekViewComponent);\n\nlet CalendarWeekViewHeaderComponent = class CalendarWeekViewHeaderComponent {\n    constructor() {\n        this.dayHeaderClicked = new EventEmitter();\n        this.eventDropped = new EventEmitter();\n        this.dragEnter = new EventEmitter();\n        this.trackByWeekDayHeaderDate = trackByWeekDayHeaderDate;\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarWeekViewHeaderComponent.prototype, \"days\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarWeekViewHeaderComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewHeaderComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewHeaderComponent.prototype, \"dayHeaderClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewHeaderComponent.prototype, \"eventDropped\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewHeaderComponent.prototype, \"dragEnter\", void 0);\nCalendarWeekViewHeaderComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-week-view-header',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-days=\"days\"\n      let-locale=\"locale\"\n      let-dayHeaderClicked=\"dayHeaderClicked\"\n      let-eventDropped=\"eventDropped\"\n      let-trackByWeekDayHeaderDate=\"trackByWeekDayHeaderDate\"\n      let-dragEnter=\"dragEnter\"\n    >\n      <div class=\"cal-day-headers\" role=\"row\">\n        <div\n          class=\"cal-header\"\n          *ngFor=\"let day of days; trackBy: trackByWeekDayHeaderDate\"\n          [class.cal-past]=\"day.isPast\"\n          [class.cal-today]=\"day.isToday\"\n          [class.cal-future]=\"day.isFuture\"\n          [class.cal-weekend]=\"day.isWeekend\"\n          [ngClass]=\"day.cssClass\"\n          (mwlClick)=\"dayHeaderClicked.emit({ day: day, sourceEvent: $event })\"\n          mwlDroppable\n          dragOverClass=\"cal-drag-over\"\n          (drop)=\"\n            eventDropped.emit({\n              event: $event.dropData.event,\n              newStart: day.date\n            })\n          \"\n          (dragEnter)=\"dragEnter.emit({ date: day.date })\"\n          tabindex=\"0\"\n          role=\"columnheader\"\n        >\n          <b>{{ day.date | calendarDate: 'weekViewColumnHeader':locale }}</b\n          ><br />\n          <span>{{\n            day.date | calendarDate: 'weekViewColumnSubHeader':locale\n          }}</span>\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        days: days,\n        locale: locale,\n        dayHeaderClicked: dayHeaderClicked,\n        eventDropped: eventDropped,\n        dragEnter: dragEnter,\n        trackByWeekDayHeaderDate: trackByWeekDayHeaderDate\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarWeekViewHeaderComponent);\n\nlet CalendarWeekViewEventComponent = class CalendarWeekViewEventComponent {\n    constructor() {\n        this.eventClicked = new EventEmitter();\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarWeekViewEventComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewEventComponent.prototype, \"weekEvent\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewEventComponent.prototype, \"tooltipPlacement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarWeekViewEventComponent.prototype, \"tooltipAppendToBody\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarWeekViewEventComponent.prototype, \"tooltipDisabled\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewEventComponent.prototype, \"tooltipDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewEventComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewEventComponent.prototype, \"eventTitleTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewEventComponent.prototype, \"eventActionsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewEventComponent.prototype, \"tooltipTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewEventComponent.prototype, \"column\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewEventComponent.prototype, \"daysInWeek\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewEventComponent.prototype, \"eventClicked\", void 0);\nCalendarWeekViewEventComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-week-view-event',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-weekEvent=\"weekEvent\"\n      let-tooltipPlacement=\"tooltipPlacement\"\n      let-eventClicked=\"eventClicked\"\n      let-tooltipTemplate=\"tooltipTemplate\"\n      let-tooltipAppendToBody=\"tooltipAppendToBody\"\n      let-tooltipDisabled=\"tooltipDisabled\"\n      let-tooltipDelay=\"tooltipDelay\"\n      let-column=\"column\"\n      let-daysInWeek=\"daysInWeek\"\n    >\n      <div\n        class=\"cal-event\"\n        [ngStyle]=\"{\n          backgroundColor: weekEvent.event.color?.secondary,\n          borderColor: weekEvent.event.color?.primary\n        }\"\n        [mwlCalendarTooltip]=\"\n          !tooltipDisabled\n            ? (weekEvent.event.title\n              | calendarEventTitle\n                : (daysInWeek === 1 ? 'dayTooltip' : 'weekTooltip')\n                : weekEvent.tempEvent || weekEvent.event)\n            : ''\n        \"\n        [tooltipPlacement]=\"tooltipPlacement\"\n        [tooltipEvent]=\"weekEvent.tempEvent || weekEvent.event\"\n        [tooltipTemplate]=\"tooltipTemplate\"\n        [tooltipAppendToBody]=\"tooltipAppendToBody\"\n        [tooltipDelay]=\"tooltipDelay\"\n        (mwlClick)=\"eventClicked.emit({ sourceEvent: $event })\"\n        (mwlKeydownEnter)=\"eventClicked.emit({ sourceEvent: $event })\"\n        tabindex=\"0\"\n        role=\"application\"\n        [attr.aria-label]=\"\n          { event: weekEvent.tempEvent || weekEvent.event, locale: locale }\n            | calendarA11y: 'eventDescription'\n        \"\n      >\n        <mwl-calendar-event-actions\n          [event]=\"weekEvent.tempEvent || weekEvent.event\"\n          [customTemplate]=\"eventActionsTemplate\"\n        >\n        </mwl-calendar-event-actions>\n        &ngsp;\n        <mwl-calendar-event-title\n          [event]=\"weekEvent.tempEvent || weekEvent.event\"\n          [customTemplate]=\"eventTitleTemplate\"\n          [view]=\"daysInWeek === 1 ? 'day' : 'week'\"\n        >\n        </mwl-calendar-event-title>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        weekEvent: weekEvent,\n        tooltipPlacement: tooltipPlacement,\n        eventClicked: eventClicked,\n        tooltipTemplate: tooltipTemplate,\n        tooltipAppendToBody: tooltipAppendToBody,\n        tooltipDisabled: tooltipDisabled,\n        tooltipDelay: tooltipDelay,\n        column: column,\n        daysInWeek: daysInWeek\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarWeekViewEventComponent);\n\nlet CalendarWeekViewHourSegmentComponent = class CalendarWeekViewHourSegmentComponent {\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewHourSegmentComponent.prototype, \"segment\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewHourSegmentComponent.prototype, \"segmentHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarWeekViewHourSegmentComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarWeekViewHourSegmentComponent.prototype, \"isTimeLabel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewHourSegmentComponent.prototype, \"daysInWeek\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewHourSegmentComponent.prototype, \"customTemplate\", void 0);\nCalendarWeekViewHourSegmentComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-week-view-hour-segment',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-segment=\"segment\"\n      let-locale=\"locale\"\n      let-segmentHeight=\"segmentHeight\"\n      let-isTimeLabel=\"isTimeLabel\"\n      let-daysInWeek=\"daysInWeek\"\n    >\n      <div\n        [attr.aria-hidden]=\"\n          {}\n            | calendarA11y\n              : (daysInWeek === 1\n                  ? 'hideDayHourSegment'\n                  : 'hideWeekHourSegment')\n        \"\n        class=\"cal-hour-segment\"\n        [style.height.px]=\"segmentHeight\"\n        [class.cal-hour-start]=\"segment.isStart\"\n        [class.cal-after-hour-start]=\"!segment.isStart\"\n        [ngClass]=\"segment.cssClass\"\n      >\n        <div class=\"cal-time\" *ngIf=\"isTimeLabel\">\n          {{\n            segment.displayDate\n              | calendarDate\n                : (daysInWeek === 1 ? 'dayViewHour' : 'weekViewHour')\n                : locale\n          }}\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        segment: segment,\n        locale: locale,\n        segmentHeight: segmentHeight,\n        isTimeLabel: isTimeLabel,\n        daysInWeek: daysInWeek\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarWeekViewHourSegmentComponent);\n\nlet CalendarWeekViewCurrentTimeMarkerComponent = class CalendarWeekViewCurrentTimeMarkerComponent {\n    constructor(dateAdapter, zone) {\n        this.dateAdapter = dateAdapter;\n        this.zone = zone;\n        this.columnDate$ = new BehaviorSubject(this.columnDate);\n        this.marker$ = this.zone.onStable.pipe(switchMap(() => interval(60 * 1000)), startWith(0), switchMapTo(this.columnDate$), map((columnDate) => {\n            const startOfDay = this.dateAdapter.setMinutes(this.dateAdapter.setHours(columnDate, this.dayStartHour), this.dayStartMinute);\n            const endOfDay = this.dateAdapter.setMinutes(this.dateAdapter.setHours(columnDate, this.dayEndHour), this.dayEndMinute);\n            const hourHeightModifier = (this.hourSegments * this.hourSegmentHeight) / 60;\n            const now = new Date();\n            return {\n                isVisible: this.dateAdapter.isSameDay(columnDate, now) &&\n                    now >= startOfDay &&\n                    now <= endOfDay,\n                top: this.dateAdapter.differenceInMinutes(now, startOfDay) *\n                    hourHeightModifier,\n            };\n        }));\n    }\n    ngOnChanges(changes) {\n        if (changes.columnDate) {\n            this.columnDate$.next(changes.columnDate.currentValue);\n        }\n    }\n};\nCalendarWeekViewCurrentTimeMarkerComponent.ctorParameters = () => [\n    { type: DateAdapter },\n    { type: NgZone }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"columnDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"dayStartHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"dayStartMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"dayEndHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"dayEndMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"hourSegments\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"hourSegmentHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"customTemplate\", void 0);\nCalendarWeekViewCurrentTimeMarkerComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-week-view-current-time-marker',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-columnDate=\"columnDate\"\n      let-dayStartHour=\"dayStartHour\"\n      let-dayStartMinute=\"dayStartMinute\"\n      let-dayEndHour=\"dayEndHour\"\n      let-dayEndMinute=\"dayEndMinute\"\n      let-isVisible=\"isVisible\"\n      let-topPx=\"topPx\"\n    >\n      <div\n        class=\"cal-current-time-marker\"\n        *ngIf=\"isVisible\"\n        [style.top.px]=\"topPx\"\n      ></div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        columnDate: columnDate,\n        dayStartHour: dayStartHour,\n        dayStartMinute: dayStartMinute,\n        dayEndHour: dayEndHour,\n        dayEndMinute: dayEndMinute,\n        isVisible: (marker$ | async)?.isVisible,\n        topPx: (marker$ | async)?.top\n      }\"\n    >\n    </ng-template>\n  `\n    }),\n    __metadata(\"design:paramtypes\", [DateAdapter, NgZone])\n], CalendarWeekViewCurrentTimeMarkerComponent);\n\nlet CalendarWeekModule = class CalendarWeekModule {\n};\nCalendarWeekModule = __decorate([\n    NgModule({\n        imports: [\n            CommonModule,\n            ResizableModule,\n            DragAndDropModule,\n            CalendarCommonModule,\n        ],\n        declarations: [\n            CalendarWeekViewComponent,\n            CalendarWeekViewHeaderComponent,\n            CalendarWeekViewEventComponent,\n            CalendarWeekViewHourSegmentComponent,\n            CalendarWeekViewCurrentTimeMarkerComponent,\n        ],\n        exports: [\n            ResizableModule,\n            DragAndDropModule,\n            CalendarWeekViewComponent,\n            CalendarWeekViewHeaderComponent,\n            CalendarWeekViewEventComponent,\n            CalendarWeekViewHourSegmentComponent,\n            CalendarWeekViewCurrentTimeMarkerComponent,\n        ],\n    })\n], CalendarWeekModule);\n\n/**\n * Shows all events on a given day. Example usage:\n *\n * ```typescript\n * <mwl-calendar-day-view\n *  [viewDate]=\"viewDate\"\n *  [events]=\"events\">\n * </mwl-calendar-day-view>\n * ```\n */\nlet CalendarDayViewComponent = class CalendarDayViewComponent {\n    constructor() {\n        /**\n         * An array of events to display on view\n         * The schema is available here: https://github.com/mattlewis92/calendar-utils/blob/c51689985f59a271940e30bc4e2c4e1fee3fcb5c/src/calendarUtils.ts#L49-L63\n         */\n        this.events = [];\n        /**\n         * The number of segments in an hour. Must divide equally into 60.\n         */\n        this.hourSegments = 2;\n        /**\n         * The height in pixels of each hour segment\n         */\n        this.hourSegmentHeight = 30;\n        /**\n         * The day start hours in 24 hour time. Must be 0-23\n         */\n        this.dayStartHour = 0;\n        /**\n         * The day start minutes. Must be 0-59\n         */\n        this.dayStartMinute = 0;\n        /**\n         * The day end hours in 24 hour time. Must be 0-23\n         */\n        this.dayEndHour = 23;\n        /**\n         * The day end minutes. Must be 0-59\n         */\n        this.dayEndMinute = 59;\n        /**\n         * The placement of the event tooltip\n         */\n        this.tooltipPlacement = 'auto';\n        /**\n         * Whether to append tooltips to the body or next to the trigger element\n         */\n        this.tooltipAppendToBody = true;\n        /**\n         * The delay in milliseconds before the tooltip should be displayed. If not provided the tooltip\n         * will be displayed immediately.\n         */\n        this.tooltipDelay = null;\n        /**\n         * Whether to snap events to a grid when dragging\n         */\n        this.snapDraggedEvents = true;\n        /**\n         * Called when an event title is clicked\n         */\n        this.eventClicked = new EventEmitter();\n        /**\n         * Called when an hour segment is clicked\n         */\n        this.hourSegmentClicked = new EventEmitter();\n        /**\n         * Called when an event is resized or dragged and dropped\n         */\n        this.eventTimesChanged = new EventEmitter();\n        /**\n         * An output that will be called before the view is rendered for the current day.\n         * If you add the `cssClass` property to an hour grid segment it will add that class to the hour segment in the template\n         */\n        this.beforeViewRender = new EventEmitter();\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarDayViewComponent.prototype, \"viewDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarDayViewComponent.prototype, \"events\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"hourSegments\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"hourSegmentHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"dayStartHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"dayStartMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"dayEndHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"dayEndMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Subject)\n], CalendarDayViewComponent.prototype, \"refresh\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarDayViewComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"eventSnapSize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarDayViewComponent.prototype, \"tooltipPlacement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"tooltipTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarDayViewComponent.prototype, \"tooltipAppendToBody\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"tooltipDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"hourSegmentTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"eventTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"eventTitleTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"eventActionsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarDayViewComponent.prototype, \"snapDraggedEvents\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"allDayEventsLabelTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"currentTimeMarkerTemplate\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarDayViewComponent.prototype, \"eventClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarDayViewComponent.prototype, \"hourSegmentClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarDayViewComponent.prototype, \"eventTimesChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarDayViewComponent.prototype, \"beforeViewRender\", void 0);\nCalendarDayViewComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-day-view',\n        template: `\n    <mwl-calendar-week-view\n      class=\"cal-day-view\"\n      [daysInWeek]=\"1\"\n      [viewDate]=\"viewDate\"\n      [events]=\"events\"\n      [hourSegments]=\"hourSegments\"\n      [hourSegmentHeight]=\"hourSegmentHeight\"\n      [dayStartHour]=\"dayStartHour\"\n      [dayStartMinute]=\"dayStartMinute\"\n      [dayEndHour]=\"dayEndHour\"\n      [dayEndMinute]=\"dayEndMinute\"\n      [refresh]=\"refresh\"\n      [locale]=\"locale\"\n      [eventSnapSize]=\"eventSnapSize\"\n      [tooltipPlacement]=\"tooltipPlacement\"\n      [tooltipTemplate]=\"tooltipTemplate\"\n      [tooltipAppendToBody]=\"tooltipAppendToBody\"\n      [tooltipDelay]=\"tooltipDelay\"\n      [hourSegmentTemplate]=\"hourSegmentTemplate\"\n      [eventTemplate]=\"eventTemplate\"\n      [eventTitleTemplate]=\"eventTitleTemplate\"\n      [eventActionsTemplate]=\"eventActionsTemplate\"\n      [snapDraggedEvents]=\"snapDraggedEvents\"\n      [allDayEventsLabelTemplate]=\"allDayEventsLabelTemplate\"\n      [currentTimeMarkerTemplate]=\"currentTimeMarkerTemplate\"\n      (eventClicked)=\"eventClicked.emit($event)\"\n      (hourSegmentClicked)=\"hourSegmentClicked.emit($event)\"\n      (eventTimesChanged)=\"eventTimesChanged.emit($event)\"\n      (beforeViewRender)=\"beforeViewRender.emit($event)\"\n    ></mwl-calendar-week-view>\n  `\n    })\n], CalendarDayViewComponent);\n\nlet CalendarDayModule = class CalendarDayModule {\n};\nCalendarDayModule = __decorate([\n    NgModule({\n        imports: [CommonModule, CalendarCommonModule, CalendarWeekModule],\n        declarations: [CalendarDayViewComponent],\n        exports: [CalendarDayViewComponent],\n    })\n], CalendarDayModule);\n\nvar CalendarModule_1;\n/**\n * The main module of this library. Example usage:\n *\n * ```typescript\n * import { CalenderModule } from 'angular-calendar';\n *\n * @NgModule({\n *   imports: [\n *     CalenderModule.forRoot()\n *   ]\n * })\n * class MyModule {}\n * ```\n *\n */\nlet CalendarModule = CalendarModule_1 = class CalendarModule {\n    static forRoot(dateAdapter, config = {}) {\n        return {\n            ngModule: CalendarModule_1,\n            providers: [\n                dateAdapter,\n                config.eventTitleFormatter || CalendarEventTitleFormatter,\n                config.dateFormatter || CalendarDateFormatter,\n                config.utils || CalendarUtils,\n                config.a11y || CalendarA11y,\n            ],\n        };\n    }\n};\nCalendarModule = CalendarModule_1 = __decorate([\n    NgModule({\n        imports: [\n            CalendarCommonModule,\n            CalendarMonthModule,\n            CalendarWeekModule,\n            CalendarDayModule,\n        ],\n        exports: [\n            CalendarCommonModule,\n            CalendarMonthModule,\n            CalendarWeekModule,\n            CalendarDayModule,\n        ],\n    })\n], CalendarModule);\n\n/*\n * Public API Surface of angular-calendar\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CalendarA11y, CalendarAngularDateFormatter, CalendarCommonModule, CalendarDateFormatter, CalendarDayModule, CalendarDayViewComponent, CalendarEventTimesChangedEventType, CalendarEventTitleFormatter, CalendarModule, CalendarMomentDateFormatter, CalendarMonthModule, CalendarMonthViewComponent, CalendarNativeDateFormatter, CalendarUtils, CalendarView, CalendarWeekModule, CalendarWeekViewComponent, DateAdapter, MOMENT, collapseAnimation, getWeekViewPeriod, CalendarOpenDayEventsComponent as ɵa, CalendarEventActionsComponent as ɵb, CalendarEventTitleComponent as ɵc, CalendarTooltipWindowComponent as ɵd, CalendarTooltipDirective as ɵe, CalendarPreviousViewDirective as ɵf, CalendarNextViewDirective as ɵg, CalendarTodayDirective as ɵh, CalendarDatePipe as ɵi, CalendarEventTitlePipe as ɵj, CalendarA11yPipe as ɵk, ClickDirective as ɵl, KeydownEnterDirective as ɵm, CalendarMonthCellComponent as ɵn, CalendarMonthViewHeaderComponent as ɵo, CalendarWeekViewHeaderComponent as ɵp, CalendarWeekViewEventComponent as ɵq, CalendarWeekViewHourSegmentComponent as ɵr, CalendarWeekViewCurrentTimeMarkerComponent as ɵs };\n//# sourceMappingURL=angular-calendar.js.map\n","export var HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport var defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: function (err) {\n        return typeof console !== \"undefined\" && console.warn(err);\n    },\n    getWeek: function (givenDate) {\n        var date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","import { Injectable, Directive, ElementRef, Input, Output, EventEmitter, forwardRef, HostListener, Renderer2, NgModule, InjectionToken } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport flatpickr from 'flatpickr';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nclass FlatpickrDefaults {\n    constructor() {\n        /**\n         * Exactly the same as date format, but for the altInput field.\n         */\n        this.altFormat = 'F j, Y';\n        /**\n         * \tShow the user a readable date (as per altFormat), but return something totally different to the server.\n         */\n        this.altInput = false;\n        /**\n         * This class will be added to the input element created by the altInput option.\n         * Note that `altInput` already inherits classes from the original input.\n         */\n        this.altInputClass = '';\n        /**\n         * Allows the user to enter a date directly input the input field. By default, direct entry is disabled.\n         */\n        this.allowInput = false;\n        /**\n         * Instead of `body`, appends the calendar to the specified node instead.\n         */\n        this.appendTo = undefined;\n        /**\n         * Defines how the date will be formatted in the aria-label for calendar days, using the same tokens as dateFormat. If you change this, you should choose a value that will make sense if a screen reader reads it out loud.\n         */\n        this.ariaDateFormat = 'F j, Y';\n        /**\n         * Whether clicking on the input should open the picker.\n         * You could disable this if you wish to open the calendar manually `with.open()`.\n         */\n        this.clickOpens = true;\n        /**\n         * A string of characters which are used to define how the date will be displayed in the input box.\n         * The supported characters are defined in the table below.\n         */\n        this.dateFormat = 'Y-m-d';\n        /**\n         * Initial value of the hour element.\n         */\n        this.defaultHour = 12;\n        /**\n         * Initial value of the minute element.\n         */\n        this.defaultMinute = 0;\n        /**\n         * Initial value of the seconds element.\n         */\n        this.defaultSeconds = 0;\n        /**\n         * See <a href=\"https://chmln.github.io/flatpickr/examples/#disabling-specific-dates\">disabling dates</a>.\n         */\n        this.disable = [];\n        /**\n         * Set disableMobile to true to always use the non-native picker.\n         * By default, Flatpickr utilizes native datetime widgets unless certain options (e.g. disable) are used.\n         */\n        this.disableMobile = false;\n        /**\n         * Enables time picker.\n         */\n        this.enableTime = false;\n        /**\n         * Enables seconds in the time picker.\n         */\n        this.enableSeconds = false;\n        /**\n         * Allows using a custom date formatting function instead of the built-in handling for date formats using dateFormat, altFormat, etc.\n         */\n        this.formatDate = undefined;\n        /**\n         * Adjusts the step for the hour input (incl. scrolling).\n         */\n        this.hourIncrement = 1;\n        /**\n         * Displays the calendar inline.\n         */\n        this.inline = false;\n        /**\n         * The maximum date that a user can pick to (inclusive).\n         */\n        this.maxDate = undefined;\n        /**\n         * The minimum date that a user can start picking from (inclusive).\n         */\n        this.minDate = undefined;\n        /**\n         * Adjusts the step for the minute input (incl. scrolling).\n         */\n        this.minuteIncrement = 5;\n        /**\n         * Select a single date, multiple dates or a date range.\n         */\n        this.mode = 'single';\n        /**\n         * HTML for the arrow icon, used to switch months.\n         */\n        this.nextArrow = '>';\n        /**\n         * Hides the day selection in calendar. Use it along with `enableTime` to create a time picker.\n         */\n        this.noCalendar = false;\n        /**\n         * Default now to the current date\n         */\n        this.now = new Date();\n        /**\n         * HTML for the left arrow icon.\n         */\n        this.prevArrow = '<';\n        /**\n         * Show the month using the shorthand version (ie, Sep instead of September).\n         */\n        this.shorthandCurrentMonth = false;\n        /**\n         * Position the calendar inside the wrapper and next to the input element. (Leave `false` unless you know what you're doing).\n         */\n        this.static = false;\n        /**\n         * Displays time picker in 24 hour mode without AM/PM selection when enabled.\n         */\n        this.time24hr = false;\n        /**\n         * When true, dates will parsed, formatted, and displayed in UTC.\n         * It's recommended that date strings contain the timezone, but not necessary.\n         */\n        this.utc = false;\n        /**\n         * Enables display of week numbers in calendar.\n         */\n        this.weekNumbers = false;\n        /**\n         * Custom elements and input groups.\n         */\n        this.wrap = false;\n        /**\n         * Array of plugin instances to use.\n         */\n        this.plugins = [];\n        /**\n         * The locale object or string to use for the locale.\n         */\n        this.locale = 'default';\n        /**\n         * Auto convert the ngModel value from a string to a date / array of dates / from - to date object depending on the `mode`\n         */\n        this.convertModelValue = false;\n        /**\n         * The number of months shown.\n         */\n        this.showMonths = 1;\n        /**\n         * How the month should be displayed in the header of the calendar.\n         */\n        this.monthSelectorType = 'static';\n    }\n}\nFlatpickrDefaults.decorators = [\n    { type: Injectable },\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nconst /** @type {?} */ FLATPICKR_CONTROL_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => FlatpickrDirective),\n    //tslint:disable-line\n    multi: true\n};\nclass FlatpickrDirective {\n    /**\n     * @param {?} elm\n     * @param {?} defaults\n     * @param {?} renderer\n     */\n    constructor(elm, defaults, renderer) {\n        this.elm = elm;\n        this.defaults = defaults;\n        this.renderer = renderer;\n        /**\n         * Object-options that can be user for multiple instances of Flatpickr.\n         * Option from this object is applied only if specific option is not specified.\n         * Example:\n         * ```typescript\n         * options: FlatpickrDefaultsInterface = {\n         *      altFormat: 'd/m/Y',   // will be ignored since altFormat is provided via specific attribute\n         *      altInput: true        // will be used since specific attribute is not provided\n         * };\n         * ```\n         * ```html\n         * <input\n         *   class=\"form-control\"\n         *   type=\"text\"\n         *   mwlFlatpickr\n         *   [options]=\"options\"\n         *   altFormat=\"d/m/Y\">\n         * ```\n         */\n        this.options = {};\n        /**\n         * Gets triggered once the calendar is in a ready state\n         */\n        this.flatpickrReady = new EventEmitter();\n        /**\n         * Gets triggered when the user selects a date, or changes the time on a selected date.\n         */\n        this.flatpickrChange = new EventEmitter();\n        /**\n         * Gets triggered when the input value is updated with a new date string.\n         */\n        this.flatpickrValueUpdate = new EventEmitter();\n        /**\n         * Gets triggered when the calendar is opened.\n         */\n        this.flatpickrOpen = new EventEmitter();\n        /**\n         * Gets triggered when the calendar is closed.\n         */\n        this.flatpickrClose = new EventEmitter();\n        /**\n         * Gets triggered when the month is changed, either by the user or programmatically.\n         */\n        this.flatpickrMonthChange = new EventEmitter();\n        /**\n         * Gets triggered when the year is changed, either by the user or programmatically.\n         */\n        this.flatpickrYearChange = new EventEmitter();\n        /**\n         * Take full control of every date cell with this output\n         */\n        this.flatpickrDayCreate = new EventEmitter();\n        this.isDisabled = false;\n        this.onChangeFn = () => { };\n        this.onTouchedFn = () => { };\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterViewInit() {\n        const /** @type {?} */ options = {\n            altFormat: this.altFormat,\n            altInput: this.altInput,\n            altInputClass: this.altInputClass,\n            allowInput: this.allowInput,\n            appendTo: this.appendTo,\n            ariaDateFormat: this.ariaDateFormat,\n            clickOpens: this.clickOpens,\n            dateFormat: this.dateFormat,\n            defaultHour: this.defaultHour,\n            defaultMinute: this.defaultMinute,\n            defaultSeconds: this.defaultSeconds,\n            disable: this.disable,\n            disableMobile: this.disableMobile,\n            enable: this.enable,\n            enableTime: this.enableTime,\n            enableSeconds: this.enableSeconds,\n            formatDate: this.formatDate,\n            hourIncrement: this.hourIncrement,\n            defaultDate: this.initialValue,\n            inline: this.inline,\n            maxDate: this.maxDate,\n            minDate: this.minDate,\n            minuteIncrement: this.minuteIncrement,\n            mode: this.mode,\n            nextArrow: this.nextArrow,\n            noCalendar: this.noCalendar,\n            now: this.now,\n            parseDate: this.parseDate,\n            prevArrow: this.prevArrow,\n            shorthandCurrentMonth: this.shorthandCurrentMonth,\n            showMonths: this.showMonths,\n            monthSelectorType: this.monthSelectorType,\n            static: this.static,\n            time24hr: this.time24hr,\n            weekNumbers: this.weekNumbers,\n            getWeek: this.getWeek,\n            wrap: this.wrap,\n            plugins: this.plugins,\n            locale: this.locale,\n            onChange: (selectedDates, dateString, instance) => {\n                this.flatpickrChange.emit({ selectedDates, dateString, instance });\n            },\n            onOpen: (selectedDates, dateString, instance) => {\n                this.flatpickrOpen.emit({ selectedDates, dateString, instance });\n            },\n            onClose: (selectedDates, dateString, instance) => {\n                this.flatpickrClose.emit({ selectedDates, dateString, instance });\n            },\n            onMonthChange: (selectedDates, dateString, instance) => {\n                this.flatpickrMonthChange.emit({ selectedDates, dateString, instance });\n            },\n            onYearChange: (selectedDates, dateString, instance) => {\n                this.flatpickrYearChange.emit({ selectedDates, dateString, instance });\n            },\n            onReady: (selectedDates, dateString, instance) => {\n                this.flatpickrReady.emit({ selectedDates, dateString, instance });\n            },\n            onValueUpdate: (selectedDates, dateString, instance) => {\n                this.flatpickrValueUpdate.emit({ selectedDates, dateString, instance });\n            },\n            onDayCreate: (selectedDates, dateString, instance, dayElement) => {\n                this.flatpickrDayCreate.emit({\n                    selectedDates,\n                    dateString,\n                    instance,\n                    dayElement\n                });\n            }\n        };\n        Object.keys(options).forEach(key => {\n            if (typeof options[key] === 'undefined') {\n                if (typeof this.options[key] !== 'undefined') {\n                    options[key] = (/** @type {?} */ (this.options))[key];\n                }\n                else {\n                    options[key] = (/** @type {?} */ (this.defaults))[key];\n                }\n            }\n        });\n        options.time_24hr = options.time24hr;\n        // workaround bug in flatpickr 4.6 where it doesn't copy the classes across\n        // TODO - remove once fix in https://github.com/flatpickr/flatpickr/issues/1860 is released\n        options.altInputClass =\n            (options.altInputClass || '') + ' ' + this.elm.nativeElement.className;\n        if (!options.enable) {\n            delete options.enable;\n        }\n        this.instance = /** @type {?} */ (flatpickr(this.elm.nativeElement, options));\n        this.setDisabledState(this.isDisabled);\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (this.instance) {\n            Object.keys(changes).forEach(inputKey => {\n                this.instance.set(/** @type {?} */ (inputKey), (/** @type {?} */ (this))[inputKey]);\n            });\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        if (this.instance) {\n            this.instance.destroy();\n        }\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    writeValue(value) {\n        let /** @type {?} */ convertedValue = value;\n        if (this.convertModelValue && this.mode === 'range' && value) {\n            convertedValue = [value.from, value.to];\n        }\n        if (this.instance) {\n            this.instance.setDate(convertedValue);\n        }\n        else {\n            // flatpickr hasn't been initialised yet, store the value for later use\n            this.initialValue = convertedValue;\n        }\n    }\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    registerOnChange(fn) {\n        this.onChangeFn = fn;\n    }\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    registerOnTouched(fn) {\n        this.onTouchedFn = fn;\n    }\n    /**\n     * @param {?} isDisabled\n     * @return {?}\n     */\n    setDisabledState(isDisabled) {\n        this.isDisabled = isDisabled;\n        if (this.instance) {\n            if (this.isDisabled) {\n                this.renderer.setProperty(this.instance._input, 'disabled', 'disabled');\n            }\n            else {\n                this.renderer.removeAttribute(this.instance._input, 'disabled');\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    inputChanged() {\n        const /** @type {?} */ value = this.elm.nativeElement.value;\n        if (this.convertModelValue && typeof value === 'string') {\n            switch (this.mode) {\n                case 'multiple':\n                    const /** @type {?} */ dates = value\n                        .split('; ')\n                        .map(str => this.instance.parseDate(str, this.instance.config.dateFormat, !this.instance.config.enableTime));\n                    this.onChangeFn(dates);\n                    break;\n                case 'range':\n                    const [from, to] = value\n                        .split(this.instance.l10n.rangeSeparator)\n                        .map(str => this.instance.parseDate(str, this.instance.config.dateFormat, !this.instance.config.enableTime));\n                    this.onChangeFn({ from, to });\n                    break;\n                case 'single':\n                default:\n                    this.onChangeFn(this.instance.parseDate(value, this.instance.config.dateFormat, !this.instance.config.enableTime));\n            }\n        }\n        else {\n            this.onChangeFn(value);\n        }\n    }\n}\nFlatpickrDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlFlatpickr]',\n                providers: [FLATPICKR_CONTROL_VALUE_ACCESSOR],\n                host: {\n                    // tslint:disable-line use-host-property-decorator\n                    '(blur)': 'onTouchedFn()'\n                },\n                exportAs: 'mwlFlatpickr'\n            },] },\n];\n/** @nocollapse */\nFlatpickrDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: FlatpickrDefaults },\n    { type: Renderer2 }\n];\nFlatpickrDirective.propDecorators = {\n    options: [{ type: Input }],\n    altFormat: [{ type: Input }],\n    altInput: [{ type: Input }],\n    altInputClass: [{ type: Input }],\n    allowInput: [{ type: Input }],\n    appendTo: [{ type: Input }],\n    ariaDateFormat: [{ type: Input }],\n    clickOpens: [{ type: Input }],\n    dateFormat: [{ type: Input }],\n    defaultHour: [{ type: Input }],\n    defaultMinute: [{ type: Input }],\n    defaultSeconds: [{ type: Input }],\n    disable: [{ type: Input }],\n    disableMobile: [{ type: Input }],\n    enable: [{ type: Input }],\n    enableTime: [{ type: Input }],\n    enableSeconds: [{ type: Input }],\n    formatDate: [{ type: Input }],\n    hourIncrement: [{ type: Input }],\n    inline: [{ type: Input }],\n    maxDate: [{ type: Input }],\n    minDate: [{ type: Input }],\n    minuteIncrement: [{ type: Input }],\n    mode: [{ type: Input }],\n    nextArrow: [{ type: Input }],\n    noCalendar: [{ type: Input }],\n    now: [{ type: Input }],\n    parseDate: [{ type: Input }],\n    prevArrow: [{ type: Input }],\n    shorthandCurrentMonth: [{ type: Input }],\n    showMonths: [{ type: Input }],\n    static: [{ type: Input }],\n    time24hr: [{ type: Input }],\n    weekNumbers: [{ type: Input }],\n    getWeek: [{ type: Input }],\n    wrap: [{ type: Input }],\n    plugins: [{ type: Input }],\n    locale: [{ type: Input }],\n    convertModelValue: [{ type: Input }],\n    monthSelectorType: [{ type: Input }],\n    flatpickrReady: [{ type: Output }],\n    flatpickrChange: [{ type: Output }],\n    flatpickrValueUpdate: [{ type: Output }],\n    flatpickrOpen: [{ type: Output }],\n    flatpickrClose: [{ type: Output }],\n    flatpickrMonthChange: [{ type: Output }],\n    flatpickrYearChange: [{ type: Output }],\n    flatpickrDayCreate: [{ type: Output }],\n    inputChanged: [{ type: HostListener, args: ['input',] }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nconst /** @type {?} */ USER_DEFAULTS = new InjectionToken('flatpickr defaults');\n/**\n * @param {?} userDefaults\n * @return {?}\n */\nfunction defaultsFactory(userDefaults) {\n    const /** @type {?} */ defaults = new FlatpickrDefaults();\n    Object.assign(defaults, userDefaults);\n    return defaults;\n}\nclass FlatpickrModule {\n    /**\n     * @param {?=} userDefaults\n     * @return {?}\n     */\n    static forRoot(userDefaults = {}) {\n        return {\n            ngModule: FlatpickrModule,\n            providers: [\n                {\n                    provide: USER_DEFAULTS,\n                    useValue: userDefaults\n                },\n                {\n                    provide: FlatpickrDefaults,\n                    useFactory: defaultsFactory,\n                    deps: [USER_DEFAULTS]\n                }\n            ]\n        };\n    }\n}\nFlatpickrModule.decorators = [\n    { type: NgModule, args: [{\n                declarations: [FlatpickrDirective],\n                exports: [FlatpickrDirective]\n            },] },\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\nexport { FlatpickrDefaults, FlatpickrDirective, USER_DEFAULTS, defaultsFactory, FlatpickrModule, FLATPICKR_CONTROL_VALUE_ACCESSOR as ɵa };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcngtZmxhdHBpY2tyLmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9hbmd1bGFyeC1mbGF0cGlja3IvZmxhdHBpY2tyLWRlZmF1bHRzLnNlcnZpY2UudHMiLCJuZzovL2FuZ3VsYXJ4LWZsYXRwaWNrci9mbGF0cGlja3IuZGlyZWN0aXZlLnRzIiwibmc6Ly9hbmd1bGFyeC1mbGF0cGlja3IvZmxhdHBpY2tyLm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCB0eXBlIERpc2FibGVFbmFibGVEYXRlID1cbiAgfCBzdHJpbmdcbiAgfCBEYXRlXG4gIHwgeyBmcm9tOiBEYXRlIHwgc3RyaW5nOyB0bzogRGF0ZSB8IHN0cmluZyB9XG4gIHwgKChkYXRlOiBEYXRlKSA9PiBib29sZWFuKTtcblxuLy8gdHNsaW50OmRpc2FibGUgbm8taW5mZXJyYWJsZS10eXBlc1xuXG5leHBvcnQgaW50ZXJmYWNlIEZsYXRwaWNrckRlZmF1bHRzSW50ZXJmYWNlIHtcbiAgLyoqXG4gICAqIEV4YWN0bHkgdGhlIHNhbWUgYXMgZGF0ZSBmb3JtYXQsIGJ1dCBmb3IgdGhlIGFsdElucHV0IGZpZWxkLlxuICAgKi9cbiAgYWx0Rm9ybWF0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBcdFNob3cgdGhlIHVzZXIgYSByZWFkYWJsZSBkYXRlIChhcyBwZXIgYWx0Rm9ybWF0KSwgYnV0IHJldHVybiBzb21ldGhpbmcgdG90YWxseSBkaWZmZXJlbnQgdG8gdGhlIHNlcnZlci5cbiAgICovXG4gIGFsdElucHV0PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhpcyBjbGFzcyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBpbnB1dCBlbGVtZW50IGNyZWF0ZWQgYnkgdGhlIGFsdElucHV0IG9wdGlvbi5cbiAgICogTm90ZSB0aGF0IGBhbHRJbnB1dGAgYWxyZWFkeSBpbmhlcml0cyBjbGFzc2VzIGZyb20gdGhlIG9yaWdpbmFsIGlucHV0LlxuICAgKi9cbiAgYWx0SW5wdXRDbGFzcz86IHN0cmluZztcblxuICAvKipcbiAgICogQWxsb3dzIHRoZSB1c2VyIHRvIGVudGVyIGEgZGF0ZSBkaXJlY3RseSBpbnB1dCB0aGUgaW5wdXQgZmllbGQuIEJ5IGRlZmF1bHQsIGRpcmVjdCBlbnRyeSBpcyBkaXNhYmxlZC5cbiAgICovXG4gIGFsbG93SW5wdXQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJbnN0ZWFkIG9mIGBib2R5YCwgYXBwZW5kcyB0aGUgY2FsZW5kYXIgdG8gdGhlIHNwZWNpZmllZCBub2RlIGluc3RlYWQuXG4gICAqL1xuICBhcHBlbmRUbz86IEhUTUxFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIGhvdyB0aGUgZGF0ZSB3aWxsIGJlIGZvcm1hdHRlZCBpbiB0aGUgYXJpYS1sYWJlbCBmb3IgY2FsZW5kYXIgZGF5cywgdXNpbmcgdGhlIHNhbWUgdG9rZW5zIGFzIGRhdGVGb3JtYXQuIElmIHlvdSBjaGFuZ2UgdGhpcywgeW91IHNob3VsZCBjaG9vc2UgYSB2YWx1ZSB0aGF0IHdpbGwgbWFrZSBzZW5zZSBpZiBhIHNjcmVlbiByZWFkZXIgcmVhZHMgaXQgb3V0IGxvdWQuXG4gICAqL1xuICBhcmlhRGF0ZUZvcm1hdD86IHN0cmluZztcblxuICAvKipcbiAgICogV2hldGhlciBjbGlja2luZyBvbiB0aGUgaW5wdXQgc2hvdWxkIG9wZW4gdGhlIHBpY2tlci5cbiAgICogWW91IGNvdWxkIGRpc2FibGUgdGhpcyBpZiB5b3Ugd2lzaCB0byBvcGVuIHRoZSBjYWxlbmRhciBtYW51YWxseSBgd2l0aC5vcGVuKClgLlxuICAgKi9cbiAgY2xpY2tPcGVucz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEEgc3RyaW5nIG9mIGNoYXJhY3RlcnMgd2hpY2ggYXJlIHVzZWQgdG8gZGVmaW5lIGhvdyB0aGUgZGF0ZSB3aWxsIGJlIGRpc3BsYXllZCBpbiB0aGUgaW5wdXQgYm94LlxuICAgKiBUaGUgc3VwcG9ydGVkIGNoYXJhY3RlcnMgYXJlIGRlZmluZWQgaW4gdGhlIHRhYmxlIGJlbG93LlxuICAgKi9cbiAgZGF0ZUZvcm1hdD86IHN0cmluZztcbiAgLyoqXG4gICAqIEluaXRpYWwgdmFsdWUgb2YgdGhlIGhvdXIgZWxlbWVudC5cbiAgICovXG4gIGRlZmF1bHRIb3VyPzogbnVtYmVyO1xuICAvKipcbiAgICogSW5pdGlhbCB2YWx1ZSBvZiB0aGUgbWludXRlIGVsZW1lbnQuXG4gICAqL1xuICBkZWZhdWx0TWludXRlPzogbnVtYmVyO1xuICAvKipcbiAgICogSW5pdGlhbCB2YWx1ZSBvZiB0aGUgc2Vjb25kcyBlbGVtZW50LlxuICAgKi9cbiAgZGVmYXVsdFNlY29uZHM/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFNlZSA8YSBocmVmPVwiaHR0cHM6Ly9jaG1sbi5naXRodWIuaW8vZmxhdHBpY2tyL2V4YW1wbGVzLyNkaXNhYmxpbmctc3BlY2lmaWMtZGF0ZXNcIj5kaXNhYmxpbmcgZGF0ZXM8L2E+LlxuICAgKi9cbiAgZGlzYWJsZT86IERpc2FibGVFbmFibGVEYXRlW107XG5cbiAgLyoqXG4gICAqIFNldCBkaXNhYmxlTW9iaWxlIHRvIHRydWUgdG8gYWx3YXlzIHVzZSB0aGUgbm9uLW5hdGl2ZSBwaWNrZXIuXG4gICAqIEJ5IGRlZmF1bHQsIEZsYXRwaWNrciB1dGlsaXplcyBuYXRpdmUgZGF0ZXRpbWUgd2lkZ2V0cyB1bmxlc3MgY2VydGFpbiBvcHRpb25zIChlLmcuIGRpc2FibGUpIGFyZSB1c2VkLlxuICAgKi9cbiAgZGlzYWJsZU1vYmlsZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNlZSA8YSBocmVmPVwiaHR0cHM6Ly9jaG1sbi5naXRodWIuaW8vZmxhdHBpY2tyL2V4YW1wbGVzLyNkaXNhYmxpbmctYWxsLWRhdGVzLWV4Y2VwdC1zZWxlY3QtZmV3XCI+ZW5hYmxpbmcgZGF0ZXM8L2E+LlxuICAgKi9cbiAgZW5hYmxlPzogRGlzYWJsZUVuYWJsZURhdGVbXTtcblxuICAvKipcbiAgICogRW5hYmxlcyB0aW1lIHBpY2tlci5cbiAgICovXG4gIGVuYWJsZVRpbWU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIHNlY29uZHMgaW4gdGhlIHRpbWUgcGlja2VyLlxuICAgKi9cbiAgZW5hYmxlU2Vjb25kcz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBBbGxvd3MgdXNpbmcgYSBjdXN0b20gZGF0ZSBmb3JtYXR0aW5nIGZ1bmN0aW9uIGluc3RlYWQgb2YgdGhlIGJ1aWx0LWluIGhhbmRsaW5nIGZvciBkYXRlIGZvcm1hdHMgdXNpbmcgZGF0ZUZvcm1hdCwgYWx0Rm9ybWF0LCBldGMuXG4gICAqL1xuICBmb3JtYXREYXRlPzogKHZhbHVlOiBhbnkpID0+IHN0cmluZztcbiAgLyoqXG4gICAqIEFkanVzdHMgdGhlIHN0ZXAgZm9yIHRoZSBob3VyIGlucHV0IChpbmNsLiBzY3JvbGxpbmcpLlxuICAgKi9cbiAgaG91ckluY3JlbWVudD86IG51bWJlcjtcblxuICAvKipcbiAgICogRGlzcGxheXMgdGhlIGNhbGVuZGFyIGlubGluZS5cbiAgICovXG4gIGlubGluZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIGRhdGUgdGhhdCBhIHVzZXIgY2FuIHBpY2sgdG8gKGluY2x1c2l2ZSkuXG4gICAqL1xuICBtYXhEYXRlPzogc3RyaW5nIHwgRGF0ZTtcblxuICAvKipcbiAgICogVGhlIG1pbmltdW0gZGF0ZSB0aGF0IGEgdXNlciBjYW4gc3RhcnQgcGlja2luZyBmcm9tIChpbmNsdXNpdmUpLlxuICAgKi9cbiAgbWluRGF0ZT86IHN0cmluZyB8IERhdGU7XG5cbiAgLyoqXG4gICAqIEFkanVzdHMgdGhlIHN0ZXAgZm9yIHRoZSBtaW51dGUgaW5wdXQgKGluY2wuIHNjcm9sbGluZykuXG4gICAqL1xuICBtaW51dGVJbmNyZW1lbnQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFNlbGVjdCBhIHNpbmdsZSBkYXRlLCBtdWx0aXBsZSBkYXRlcyBvciBhIGRhdGUgcmFuZ2UuXG4gICAqL1xuICBtb2RlPzogJ3NpbmdsZScgfCAnbXVsdGlwbGUnIHwgJ3JhbmdlJztcblxuICAvKipcbiAgICogSFRNTCBmb3IgdGhlIGFycm93IGljb24sIHVzZWQgdG8gc3dpdGNoIG1vbnRocy5cbiAgICovXG4gIG5leHRBcnJvdz86IHN0cmluZztcblxuICAvKipcbiAgICogSGlkZXMgdGhlIGRheSBzZWxlY3Rpb24gaW4gY2FsZW5kYXIuIFVzZSBpdCBhbG9uZyB3aXRoIGBlbmFibGVUaW1lYCB0byBjcmVhdGUgYSB0aW1lIHBpY2tlci5cbiAgICovXG4gIG5vQ2FsZW5kYXI/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBQcm92aWRlIGEgZGF0ZSBmb3IgJ3RvZGF5Jywgd2hpY2ggd2lsbCBiZSB1c2VkIGluc3RlYWQgb2YgXCJuZXcgRGF0ZSgpXCJcbiAgICovXG4gIG5vdz86IERhdGUgfCBzdHJpbmcgfCBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRoYXQgZXhwZWN0cyBhIGRhdGUgc3RyaW5nIGFuZCBtdXN0IHJldHVybiBhIERhdGUgb2JqZWN0LlxuICAgKi9cbiAgcGFyc2VEYXRlPzogKHN0cjogc3RyaW5nKSA9PiBEYXRlO1xuXG4gIC8qKlxuICAgKiBIVE1MIGZvciB0aGUgbGVmdCBhcnJvdyBpY29uLlxuICAgKi9cbiAgcHJldkFycm93Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTaG93IHRoZSBtb250aCB1c2luZyB0aGUgc2hvcnRoYW5kIHZlcnNpb24gKGllLCBTZXAgaW5zdGVhZCBvZiBTZXB0ZW1iZXIpLlxuICAgKi9cbiAgc2hvcnRoYW5kQ3VycmVudE1vbnRoPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogUG9zaXRpb24gdGhlIGNhbGVuZGFyIGluc2lkZSB0aGUgd3JhcHBlciBhbmQgbmV4dCB0byB0aGUgaW5wdXQgZWxlbWVudC4gKExlYXZlIGBmYWxzZWAgdW5sZXNzIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nKS5cbiAgICovXG4gIHN0YXRpYz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRpbWUgcGlja2VyIGluIDI0IGhvdXIgbW9kZSB3aXRob3V0IEFNL1BNIHNlbGVjdGlvbiB3aGVuIGVuYWJsZWQuXG4gICAqL1xuICB0aW1lMjRocj86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgZGF0ZXMgd2lsbCBwYXJzZWQsIGZvcm1hdHRlZCwgYW5kIGRpc3BsYXllZCBpbiBVVEMuXG4gICAqIEl0J3MgcmVjb21tZW5kZWQgdGhhdCBkYXRlIHN0cmluZ3MgY29udGFpbiB0aGUgdGltZXpvbmUsIGJ1dCBub3QgbmVjZXNzYXJ5LlxuICAgKi9cbiAgdXRjPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogRW5hYmxlcyBkaXNwbGF5IG9mIHdlZWsgbnVtYmVycyBpbiBjYWxlbmRhci5cbiAgICovXG4gIHdlZWtOdW1iZXJzPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogWW91IG1heSBvdmVycmlkZSB0aGUgZnVuY3Rpb24gdGhhdCBleHRyYWN0cyB0aGUgd2VlayBudW1iZXJzIGZyb20gYSBEYXRlIGJ5IHN1cHBseWluZyBhIGdldFdlZWsgZnVuY3Rpb24uXG4gICAqIEl0IHRha2VzIGluIGEgZGF0ZSBhcyBhIHBhcmFtZXRlciBhbmQgc2hvdWxkIHJldHVybiBhIGNvcnJlc3BvbmRpbmcgc3RyaW5nIHRoYXQgeW91IHdhbnQgdG8gYXBwZWFyIGxlZnQgb2YgZXZlcnkgd2Vlay5cbiAgICovXG4gIGdldFdlZWs/OiAoZGF0ZTogRGF0ZSkgPT4gc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBDdXN0b20gZWxlbWVudHMgYW5kIGlucHV0IGdyb3Vwcy5cbiAgICovXG4gIHdyYXA/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBBcnJheSBvZiBwbHVnaW4gaW5zdGFuY2VzIHRvIHVzZS5cbiAgICovXG4gIHBsdWdpbnM/OiBhbnlbXTtcblxuICAvKipcbiAgICogVGhlIGxvY2FsZSBvYmplY3Qgb3Igc3RyaW5nIHRvIHVzZSBmb3IgdGhlIGxvY2FsZS5cbiAgICovXG4gIGxvY2FsZT86IG9iamVjdCB8IHN0cmluZztcblxuICAvKipcbiAgICogQXV0byBjb252ZXJ0IHRoZSBuZ01vZGVsIHZhbHVlIGZyb20gYSBzdHJpbmcgdG8gYSBkYXRlIC8gYXJyYXkgb2YgZGF0ZXMgLyBmcm9tIC0gdG8gZGF0ZSBvYmplY3QgZGVwZW5kaW5nIG9uIHRoZSBgbW9kZWBcbiAgICovXG4gIGNvbnZlcnRNb2RlbFZhbHVlPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBtb250aHMgc2hvd24uXG4gICAqL1xuICBzaG93TW9udGhzPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBIb3cgdGhlIG1vbnRoIHNob3VsZCBiZSBkaXNwbGF5ZWQgaW4gdGhlIGhlYWRlciBvZiB0aGUgY2FsZW5kYXIuXG4gICAqL1xuICBtb250aFNlbGVjdG9yVHlwZT86ICdzdGF0aWMnIHwgJ2Ryb3Bkb3duJztcbn1cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEZsYXRwaWNrckRlZmF1bHRzIGltcGxlbWVudHMgRmxhdHBpY2tyRGVmYXVsdHNJbnRlcmZhY2Uge1xuICAvKipcbiAgICogRXhhY3RseSB0aGUgc2FtZSBhcyBkYXRlIGZvcm1hdCwgYnV0IGZvciB0aGUgYWx0SW5wdXQgZmllbGQuXG4gICAqL1xuICBhbHRGb3JtYXQ6IHN0cmluZyA9ICdGIGosIFknO1xuXG4gIC8qKlxuICAgKiBcdFNob3cgdGhlIHVzZXIgYSByZWFkYWJsZSBkYXRlIChhcyBwZXIgYWx0Rm9ybWF0KSwgYnV0IHJldHVybiBzb21ldGhpbmcgdG90YWxseSBkaWZmZXJlbnQgdG8gdGhlIHNlcnZlci5cbiAgICovXG4gIGFsdElucHV0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIFRoaXMgY2xhc3Mgd2lsbCBiZSBhZGRlZCB0byB0aGUgaW5wdXQgZWxlbWVudCBjcmVhdGVkIGJ5IHRoZSBhbHRJbnB1dCBvcHRpb24uXG4gICAqIE5vdGUgdGhhdCBgYWx0SW5wdXRgIGFscmVhZHkgaW5oZXJpdHMgY2xhc3NlcyBmcm9tIHRoZSBvcmlnaW5hbCBpbnB1dC5cbiAgICovXG4gIGFsdElucHV0Q2xhc3M6IHN0cmluZyA9ICcnO1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHVzZXIgdG8gZW50ZXIgYSBkYXRlIGRpcmVjdGx5IGlucHV0IHRoZSBpbnB1dCBmaWVsZC4gQnkgZGVmYXVsdCwgZGlyZWN0IGVudHJ5IGlzIGRpc2FibGVkLlxuICAgKi9cbiAgYWxsb3dJbnB1dDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBJbnN0ZWFkIG9mIGBib2R5YCwgYXBwZW5kcyB0aGUgY2FsZW5kYXIgdG8gdGhlIHNwZWNpZmllZCBub2RlIGluc3RlYWQuXG4gICAqL1xuICBhcHBlbmRUbzogSFRNTEVsZW1lbnQgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIERlZmluZXMgaG93IHRoZSBkYXRlIHdpbGwgYmUgZm9ybWF0dGVkIGluIHRoZSBhcmlhLWxhYmVsIGZvciBjYWxlbmRhciBkYXlzLCB1c2luZyB0aGUgc2FtZSB0b2tlbnMgYXMgZGF0ZUZvcm1hdC4gSWYgeW91IGNoYW5nZSB0aGlzLCB5b3Ugc2hvdWxkIGNob29zZSBhIHZhbHVlIHRoYXQgd2lsbCBtYWtlIHNlbnNlIGlmIGEgc2NyZWVuIHJlYWRlciByZWFkcyBpdCBvdXQgbG91ZC5cbiAgICovXG4gIGFyaWFEYXRlRm9ybWF0Pzogc3RyaW5nID0gJ0YgaiwgWSc7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgY2xpY2tpbmcgb24gdGhlIGlucHV0IHNob3VsZCBvcGVuIHRoZSBwaWNrZXIuXG4gICAqIFlvdSBjb3VsZCBkaXNhYmxlIHRoaXMgaWYgeW91IHdpc2ggdG8gb3BlbiB0aGUgY2FsZW5kYXIgbWFudWFsbHkgYHdpdGgub3BlbigpYC5cbiAgICovXG4gIGNsaWNrT3BlbnM6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBBIHN0cmluZyBvZiBjaGFyYWN0ZXJzIHdoaWNoIGFyZSB1c2VkIHRvIGRlZmluZSBob3cgdGhlIGRhdGUgd2lsbCBiZSBkaXNwbGF5ZWQgaW4gdGhlIGlucHV0IGJveC5cbiAgICogVGhlIHN1cHBvcnRlZCBjaGFyYWN0ZXJzIGFyZSBkZWZpbmVkIGluIHRoZSB0YWJsZSBiZWxvdy5cbiAgICovXG4gIGRhdGVGb3JtYXQ6IHN0cmluZyA9ICdZLW0tZCc7XG5cbiAgLyoqXG4gICAqIEluaXRpYWwgdmFsdWUgb2YgdGhlIGhvdXIgZWxlbWVudC5cbiAgICovXG4gIGRlZmF1bHRIb3VyPzogbnVtYmVyID0gMTI7XG5cbiAgLyoqXG4gICAqIEluaXRpYWwgdmFsdWUgb2YgdGhlIG1pbnV0ZSBlbGVtZW50LlxuICAgKi9cbiAgZGVmYXVsdE1pbnV0ZT86IG51bWJlciA9IDA7XG5cbiAgLyoqXG4gICAqIEluaXRpYWwgdmFsdWUgb2YgdGhlIHNlY29uZHMgZWxlbWVudC5cbiAgICovXG4gIGRlZmF1bHRTZWNvbmRzPzogbnVtYmVyID0gMDtcblxuICAvKipcbiAgICogU2VlIDxhIGhyZWY9XCJodHRwczovL2NobWxuLmdpdGh1Yi5pby9mbGF0cGlja3IvZXhhbXBsZXMvI2Rpc2FibGluZy1zcGVjaWZpYy1kYXRlc1wiPmRpc2FibGluZyBkYXRlczwvYT4uXG4gICAqL1xuICBkaXNhYmxlOiBEaXNhYmxlRW5hYmxlRGF0ZVtdID0gW107XG5cbiAgLyoqXG4gICAqIFNldCBkaXNhYmxlTW9iaWxlIHRvIHRydWUgdG8gYWx3YXlzIHVzZSB0aGUgbm9uLW5hdGl2ZSBwaWNrZXIuXG4gICAqIEJ5IGRlZmF1bHQsIEZsYXRwaWNrciB1dGlsaXplcyBuYXRpdmUgZGF0ZXRpbWUgd2lkZ2V0cyB1bmxlc3MgY2VydGFpbiBvcHRpb25zIChlLmcuIGRpc2FibGUpIGFyZSB1c2VkLlxuICAgKi9cbiAgZGlzYWJsZU1vYmlsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBTZWUgPGEgaHJlZj1cImh0dHBzOi8vY2htbG4uZ2l0aHViLmlvL2ZsYXRwaWNrci9leGFtcGxlcy8jZGlzYWJsaW5nLWFsbC1kYXRlcy1leGNlcHQtc2VsZWN0LWZld1wiPmVuYWJsaW5nIGRhdGVzPC9hPi5cbiAgICovXG4gIGVuYWJsZTogRGlzYWJsZUVuYWJsZURhdGVbXTtcblxuICAvKipcbiAgICogRW5hYmxlcyB0aW1lIHBpY2tlci5cbiAgICovXG4gIGVuYWJsZVRpbWU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogRW5hYmxlcyBzZWNvbmRzIGluIHRoZSB0aW1lIHBpY2tlci5cbiAgICovXG4gIGVuYWJsZVNlY29uZHM6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogQWxsb3dzIHVzaW5nIGEgY3VzdG9tIGRhdGUgZm9ybWF0dGluZyBmdW5jdGlvbiBpbnN0ZWFkIG9mIHRoZSBidWlsdC1pbiBoYW5kbGluZyBmb3IgZGF0ZSBmb3JtYXRzIHVzaW5nIGRhdGVGb3JtYXQsIGFsdEZvcm1hdCwgZXRjLlxuICAgKi9cbiAgZm9ybWF0RGF0ZT86ICh2YWx1ZTogYW55KSA9PiBzdHJpbmcgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEFkanVzdHMgdGhlIHN0ZXAgZm9yIHRoZSBob3VyIGlucHV0IChpbmNsLiBzY3JvbGxpbmcpLlxuICAgKi9cbiAgaG91ckluY3JlbWVudDogbnVtYmVyID0gMTtcblxuICAvKipcbiAgICogRGlzcGxheXMgdGhlIGNhbGVuZGFyIGlubGluZS5cbiAgICovXG4gIGlubGluZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBkYXRlIHRoYXQgYSB1c2VyIGNhbiBwaWNrIHRvIChpbmNsdXNpdmUpLlxuICAgKi9cbiAgbWF4RGF0ZTogc3RyaW5nIHwgRGF0ZSA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIG1pbmltdW0gZGF0ZSB0aGF0IGEgdXNlciBjYW4gc3RhcnQgcGlja2luZyBmcm9tIChpbmNsdXNpdmUpLlxuICAgKi9cbiAgbWluRGF0ZTogc3RyaW5nIHwgRGF0ZSA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogQWRqdXN0cyB0aGUgc3RlcCBmb3IgdGhlIG1pbnV0ZSBpbnB1dCAoaW5jbC4gc2Nyb2xsaW5nKS5cbiAgICovXG4gIG1pbnV0ZUluY3JlbWVudDogbnVtYmVyID0gNTtcblxuICAvKipcbiAgICogU2VsZWN0IGEgc2luZ2xlIGRhdGUsIG11bHRpcGxlIGRhdGVzIG9yIGEgZGF0ZSByYW5nZS5cbiAgICovXG4gIG1vZGU6ICdzaW5nbGUnIHwgJ211bHRpcGxlJyB8ICdyYW5nZScgPSAnc2luZ2xlJztcblxuICAvKipcbiAgICogSFRNTCBmb3IgdGhlIGFycm93IGljb24sIHVzZWQgdG8gc3dpdGNoIG1vbnRocy5cbiAgICovXG4gIG5leHRBcnJvdzogc3RyaW5nID0gJz4nO1xuXG4gIC8qKlxuICAgKiBIaWRlcyB0aGUgZGF5IHNlbGVjdGlvbiBpbiBjYWxlbmRhci4gVXNlIGl0IGFsb25nIHdpdGggYGVuYWJsZVRpbWVgIHRvIGNyZWF0ZSBhIHRpbWUgcGlja2VyLlxuICAgKi9cbiAgbm9DYWxlbmRhcjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBEZWZhdWx0IG5vdyB0byB0aGUgY3VycmVudCBkYXRlXG4gICAqL1xuICBub3c6IERhdGUgfCBzdHJpbmcgfCBudW1iZXIgPSBuZXcgRGF0ZSgpO1xuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0aGF0IGV4cGVjdHMgYSBkYXRlIHN0cmluZyBhbmQgbXVzdCByZXR1cm4gYSBEYXRlIG9iamVjdC5cbiAgICovXG4gIHBhcnNlRGF0ZTogKHN0cjogc3RyaW5nKSA9PiBEYXRlO1xuXG4gIC8qKlxuICAgKiBIVE1MIGZvciB0aGUgbGVmdCBhcnJvdyBpY29uLlxuICAgKi9cbiAgcHJldkFycm93OiBzdHJpbmcgPSAnPCc7XG5cbiAgLyoqXG4gICAqIFNob3cgdGhlIG1vbnRoIHVzaW5nIHRoZSBzaG9ydGhhbmQgdmVyc2lvbiAoaWUsIFNlcCBpbnN0ZWFkIG9mIFNlcHRlbWJlcikuXG4gICAqL1xuICBzaG9ydGhhbmRDdXJyZW50TW9udGg6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogUG9zaXRpb24gdGhlIGNhbGVuZGFyIGluc2lkZSB0aGUgd3JhcHBlciBhbmQgbmV4dCB0byB0aGUgaW5wdXQgZWxlbWVudC4gKExlYXZlIGBmYWxzZWAgdW5sZXNzIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nKS5cbiAgICovXG4gIHN0YXRpYzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aW1lIHBpY2tlciBpbiAyNCBob3VyIG1vZGUgd2l0aG91dCBBTS9QTSBzZWxlY3Rpb24gd2hlbiBlbmFibGVkLlxuICAgKi9cbiAgdGltZTI0aHI6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogV2hlbiB0cnVlLCBkYXRlcyB3aWxsIHBhcnNlZCwgZm9ybWF0dGVkLCBhbmQgZGlzcGxheWVkIGluIFVUQy5cbiAgICogSXQncyByZWNvbW1lbmRlZCB0aGF0IGRhdGUgc3RyaW5ncyBjb250YWluIHRoZSB0aW1lem9uZSwgYnV0IG5vdCBuZWNlc3NhcnkuXG4gICAqL1xuICB1dGM6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogRW5hYmxlcyBkaXNwbGF5IG9mIHdlZWsgbnVtYmVycyBpbiBjYWxlbmRhci5cbiAgICovXG4gIHdlZWtOdW1iZXJzOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIFlvdSBtYXkgb3ZlcnJpZGUgdGhlIGZ1bmN0aW9uIHRoYXQgZXh0cmFjdHMgdGhlIHdlZWsgbnVtYmVycyBmcm9tIGEgRGF0ZSBieSBzdXBwbHlpbmcgYSBnZXRXZWVrIGZ1bmN0aW9uLlxuICAgKiBJdCB0YWtlcyBpbiBhIGRhdGUgYXMgYSBwYXJhbWV0ZXIgYW5kIHNob3VsZCByZXR1cm4gYSBjb3JyZXNwb25kaW5nIHN0cmluZyB0aGF0IHlvdSB3YW50IHRvIGFwcGVhciBsZWZ0IG9mIGV2ZXJ5IHdlZWsuXG4gICAqL1xuICBnZXRXZWVrOiAoZGF0ZTogRGF0ZSkgPT4gc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBDdXN0b20gZWxlbWVudHMgYW5kIGlucHV0IGdyb3Vwcy5cbiAgICovXG4gIHdyYXA6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogQXJyYXkgb2YgcGx1Z2luIGluc3RhbmNlcyB0byB1c2UuXG4gICAqL1xuICBwbHVnaW5zOiBhbnlbXSA9IFtdO1xuXG4gIC8qKlxuICAgKiBUaGUgbG9jYWxlIG9iamVjdCBvciBzdHJpbmcgdG8gdXNlIGZvciB0aGUgbG9jYWxlLlxuICAgKi9cbiAgbG9jYWxlOiBvYmplY3QgfCBzdHJpbmcgPSAnZGVmYXVsdCc7XG5cbiAgLyoqXG4gICAqIEF1dG8gY29udmVydCB0aGUgbmdNb2RlbCB2YWx1ZSBmcm9tIGEgc3RyaW5nIHRvIGEgZGF0ZSAvIGFycmF5IG9mIGRhdGVzIC8gZnJvbSAtIHRvIGRhdGUgb2JqZWN0IGRlcGVuZGluZyBvbiB0aGUgYG1vZGVgXG4gICAqL1xuICBjb252ZXJ0TW9kZWxWYWx1ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIG1vbnRocyBzaG93bi5cbiAgICovXG4gIHNob3dNb250aHM6IG51bWJlciA9IDE7XG5cbiAgLyoqXG4gICAqIEhvdyB0aGUgbW9udGggc2hvdWxkIGJlIGRpc3BsYXllZCBpbiB0aGUgaGVhZGVyIG9mIHRoZSBjYWxlbmRhci5cbiAgICovXG4gIG1vbnRoU2VsZWN0b3JUeXBlOiAnc3RhdGljJyB8ICdkcm9wZG93bicgPSAnc3RhdGljJztcbn1cbiIsImltcG9ydCB7XG4gIERpcmVjdGl2ZSxcbiAgRWxlbWVudFJlZixcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgSW5wdXQsXG4gIE91dHB1dCxcbiAgRXZlbnRFbWl0dGVyLFxuICBPbkNoYW5nZXMsXG4gIFNpbXBsZUNoYW5nZXMsXG4gIE9uRGVzdHJveSxcbiAgZm9yd2FyZFJlZixcbiAgSG9zdExpc3RlbmVyLFxuICBSZW5kZXJlcjJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBGbGF0cGlja3JEZWZhdWx0cyxcbiAgRGlzYWJsZUVuYWJsZURhdGUsXG4gIEZsYXRwaWNrckRlZmF1bHRzSW50ZXJmYWNlXG59IGZyb20gJy4vZmxhdHBpY2tyLWRlZmF1bHRzLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29udHJvbFZhbHVlQWNjZXNzb3IsIE5HX1ZBTFVFX0FDQ0VTU09SIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IGZsYXRwaWNrciBmcm9tICdmbGF0cGlja3InO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZsYXRQaWNrck91dHB1dE9wdGlvbnMge1xuICBzZWxlY3RlZERhdGVzOiBEYXRlW107XG4gIGRhdGVTdHJpbmc6IHN0cmluZztcbiAgaW5zdGFuY2U6IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGbGF0UGlja3JEYXlDcmVhdGVPdXRwdXRPcHRpb25zXG4gIGV4dGVuZHMgRmxhdFBpY2tyT3V0cHV0T3B0aW9ucyB7XG4gIGRheUVsZW1lbnQ6IEhUTUxFbGVtZW50O1xufVxuXG5leHBvcnQgY29uc3QgRkxBVFBJQ0tSX0NPTlRST0xfVkFMVUVfQUNDRVNTT1I6IGFueSA9IHtcbiAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IEZsYXRwaWNrckRpcmVjdGl2ZSksIC8vdHNsaW50OmRpc2FibGUtbGluZVxuICBtdWx0aTogdHJ1ZVxufTtcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW213bEZsYXRwaWNrcl0nLFxuICBwcm92aWRlcnM6IFtGTEFUUElDS1JfQ09OVFJPTF9WQUxVRV9BQ0NFU1NPUl0sXG4gIGhvc3Q6IHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lIHVzZS1ob3N0LXByb3BlcnR5LWRlY29yYXRvclxuICAgICcoYmx1ciknOiAnb25Ub3VjaGVkRm4oKSdcbiAgfSxcbiAgZXhwb3J0QXM6ICdtd2xGbGF0cGlja3InXG59KVxuZXhwb3J0IGNsYXNzIEZsYXRwaWNrckRpcmVjdGl2ZVxuICBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsIE9uQ2hhbmdlcywgT25EZXN0cm95LCBDb250cm9sVmFsdWVBY2Nlc3NvciB7XG4gIC8qKlxuICAgKiBPYmplY3Qtb3B0aW9ucyB0aGF0IGNhbiBiZSB1c2VyIGZvciBtdWx0aXBsZSBpbnN0YW5jZXMgb2YgRmxhdHBpY2tyLlxuICAgKiBPcHRpb24gZnJvbSB0aGlzIG9iamVjdCBpcyBhcHBsaWVkIG9ubHkgaWYgc3BlY2lmaWMgb3B0aW9uIGlzIG5vdCBzcGVjaWZpZWQuXG4gICAqIEV4YW1wbGU6XG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogb3B0aW9uczogRmxhdHBpY2tyRGVmYXVsdHNJbnRlcmZhY2UgPSB7XG4gICAqICAgICAgYWx0Rm9ybWF0OiAnZC9tL1knLCAgIC8vIHdpbGwgYmUgaWdub3JlZCBzaW5jZSBhbHRGb3JtYXQgaXMgcHJvdmlkZWQgdmlhIHNwZWNpZmljIGF0dHJpYnV0ZVxuICAgKiAgICAgIGFsdElucHV0OiB0cnVlICAgICAgICAvLyB3aWxsIGJlIHVzZWQgc2luY2Ugc3BlY2lmaWMgYXR0cmlidXRlIGlzIG5vdCBwcm92aWRlZFxuICAgKiB9O1xuICAgKiBgYGBcbiAgICogYGBgaHRtbFxuICAgKiA8aW5wdXRcbiAgICogICBjbGFzcz1cImZvcm0tY29udHJvbFwiXG4gICAqICAgdHlwZT1cInRleHRcIlxuICAgKiAgIG13bEZsYXRwaWNrclxuICAgKiAgIFtvcHRpb25zXT1cIm9wdGlvbnNcIlxuICAgKiAgIGFsdEZvcm1hdD1cImQvbS9ZXCI+XG4gICAqIGBgYFxuICAgKi9cbiAgQElucHV0KCkgb3B0aW9uczogRmxhdHBpY2tyRGVmYXVsdHNJbnRlcmZhY2UgPSB7fTtcblxuICAvKipcbiAgICogRXhhY3RseSB0aGUgc2FtZSBhcyBkYXRlIGZvcm1hdCwgYnV0IGZvciB0aGUgYWx0SW5wdXQgZmllbGQuXG4gICAqL1xuICBASW5wdXQoKSBhbHRGb3JtYXQ6IHN0cmluZztcblxuICAvKipcbiAgICogXHRTaG93IHRoZSB1c2VyIGEgcmVhZGFibGUgZGF0ZSAoYXMgcGVyIGFsdEZvcm1hdCksIGJ1dCByZXR1cm4gc29tZXRoaW5nIHRvdGFsbHkgZGlmZmVyZW50IHRvIHRoZSBzZXJ2ZXIuXG4gICAqL1xuICBASW5wdXQoKSBhbHRJbnB1dDogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhpcyBjbGFzcyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBpbnB1dCBlbGVtZW50IGNyZWF0ZWQgYnkgdGhlIGFsdElucHV0IG9wdGlvbi5cbiAgICogTm90ZSB0aGF0IGBhbHRJbnB1dGAgYWxyZWFkeSBpbmhlcml0cyBjbGFzc2VzIGZyb20gdGhlIG9yaWdpbmFsIGlucHV0LlxuICAgKi9cbiAgQElucHV0KCkgYWx0SW5wdXRDbGFzczogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHVzZXIgdG8gZW50ZXIgYSBkYXRlIGRpcmVjdGx5IGlucHV0IHRoZSBpbnB1dCBmaWVsZC4gQnkgZGVmYXVsdCwgZGlyZWN0IGVudHJ5IGlzIGRpc2FibGVkLlxuICAgKi9cbiAgQElucHV0KCkgYWxsb3dJbnB1dDogYm9vbGVhbjtcblxuICAvKipcbiAgICogSW5zdGVhZCBvZiBgYm9keWAsIGFwcGVuZHMgdGhlIGNhbGVuZGFyIHRvIHRoZSBzcGVjaWZpZWQgbm9kZSBpbnN0ZWFkLlxuICAgKi9cbiAgQElucHV0KCkgYXBwZW5kVG86IEhUTUxFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIGhvdyB0aGUgZGF0ZSB3aWxsIGJlIGZvcm1hdHRlZCBpbiB0aGUgYXJpYS1sYWJlbCBmb3IgY2FsZW5kYXIgZGF5cywgdXNpbmcgdGhlIHNhbWUgdG9rZW5zIGFzIGRhdGVGb3JtYXQuIElmIHlvdSBjaGFuZ2UgdGhpcywgeW91IHNob3VsZCBjaG9vc2UgYSB2YWx1ZSB0aGF0IHdpbGwgbWFrZSBzZW5zZSBpZiBhIHNjcmVlbiByZWFkZXIgcmVhZHMgaXQgb3V0IGxvdWQuXG4gICAqL1xuICBASW5wdXQoKSBhcmlhRGF0ZUZvcm1hdD86IHN0cmluZztcblxuICAvKipcbiAgICogV2hldGhlciBjbGlja2luZyBvbiB0aGUgaW5wdXQgc2hvdWxkIG9wZW4gdGhlIHBpY2tlci5cbiAgICogWW91IGNvdWxkIGRpc2FibGUgdGhpcyBpZiB5b3Ugd2lzaCB0byBvcGVuIHRoZSBjYWxlbmRhciBtYW51YWxseSBgd2l0aC5vcGVuKClgLlxuICAgKi9cbiAgQElucHV0KCkgY2xpY2tPcGVuczogYm9vbGVhbjtcblxuICAvKipcbiAgICogQSBzdHJpbmcgb2YgY2hhcmFjdGVycyB3aGljaCBhcmUgdXNlZCB0byBkZWZpbmUgaG93IHRoZSBkYXRlIHdpbGwgYmUgZGlzcGxheWVkIGluIHRoZSBpbnB1dCBib3guXG4gICAqIFRoZSBzdXBwb3J0ZWQgY2hhcmFjdGVycyBhcmUgZGVmaW5lZCBpbiB0aGUgdGFibGUgYmVsb3cuXG4gICAqL1xuICBASW5wdXQoKSBkYXRlRm9ybWF0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEluaXRpYWwgdmFsdWUgb2YgdGhlIGhvdXIgZWxlbWVudC5cbiAgICovXG4gIEBJbnB1dCgpIGRlZmF1bHRIb3VyPzogbnVtYmVyO1xuICAvKipcbiAgICogSW5pdGlhbCB2YWx1ZSBvZiB0aGUgbWludXRlIGVsZW1lbnQuXG4gICAqL1xuICBASW5wdXQoKSBkZWZhdWx0TWludXRlPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBJbml0aWFsIHZhbHVlIG9mIHRoZSBzZWNvbmRzIGVsZW1lbnQuXG4gICAqL1xuICBASW5wdXQoKSBkZWZhdWx0U2Vjb25kcz86IG51bWJlcjtcblxuICAvKipcbiAgICogU2VlIDxhIGhyZWY9XCJodHRwczovL2NobWxuLmdpdGh1Yi5pby9mbGF0cGlja3IvZXhhbXBsZXMvI2Rpc2FibGluZy1zcGVjaWZpYy1kYXRlc1wiPmRpc2FibGluZyBkYXRlczwvYT4uXG4gICAqL1xuICBASW5wdXQoKSBkaXNhYmxlOiBEaXNhYmxlRW5hYmxlRGF0ZVtdO1xuXG4gIC8qKlxuICAgKiBTZXQgZGlzYWJsZU1vYmlsZSB0byB0cnVlIHRvIGFsd2F5cyB1c2UgdGhlIG5vbi1uYXRpdmUgcGlja2VyLlxuICAgKiBCeSBkZWZhdWx0LCBGbGF0cGlja3IgdXRpbGl6ZXMgbmF0aXZlIGRhdGV0aW1lIHdpZGdldHMgdW5sZXNzIGNlcnRhaW4gb3B0aW9ucyAoZS5nLiBkaXNhYmxlKSBhcmUgdXNlZC5cbiAgICovXG4gIEBJbnB1dCgpIGRpc2FibGVNb2JpbGU6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNlZSA8YSBocmVmPVwiaHR0cHM6Ly9jaG1sbi5naXRodWIuaW8vZmxhdHBpY2tyL2V4YW1wbGVzLyNkaXNhYmxpbmctYWxsLWRhdGVzLWV4Y2VwdC1zZWxlY3QtZmV3XCI+ZW5hYmxpbmcgZGF0ZXM8L2E+LlxuICAgKi9cbiAgQElucHV0KCkgZW5hYmxlOiBEaXNhYmxlRW5hYmxlRGF0ZVtdO1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIHRpbWUgcGlja2VyLlxuICAgKi9cbiAgQElucHV0KCkgZW5hYmxlVGltZTogYm9vbGVhbjtcblxuICAvKipcbiAgICogRW5hYmxlcyBzZWNvbmRzIGluIHRoZSB0aW1lIHBpY2tlci5cbiAgICovXG4gIEBJbnB1dCgpIGVuYWJsZVNlY29uZHM6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEFsbG93cyB1c2luZyBhIGN1c3RvbSBkYXRlIGZvcm1hdHRpbmcgZnVuY3Rpb24gaW5zdGVhZCBvZiB0aGUgYnVpbHQtaW4gaGFuZGxpbmcgZm9yIGRhdGUgZm9ybWF0cyB1c2luZyBkYXRlRm9ybWF0LCBhbHRGb3JtYXQsIGV0Yy5cbiAgICovXG4gIEBJbnB1dCgpIGZvcm1hdERhdGU/OiAodmFsdWU6IGFueSkgPT4gc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBZGp1c3RzIHRoZSBzdGVwIGZvciB0aGUgaG91ciBpbnB1dCAoaW5jbC4gc2Nyb2xsaW5nKS5cbiAgICovXG4gIEBJbnB1dCgpIGhvdXJJbmNyZW1lbnQ6IG51bWJlcjtcblxuICAvKipcbiAgICogRGlzcGxheXMgdGhlIGNhbGVuZGFyIGlubGluZS5cbiAgICovXG4gIEBJbnB1dCgpIGlubGluZTogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gZGF0ZSB0aGF0IGEgdXNlciBjYW4gcGljayB0byAoaW5jbHVzaXZlKS5cbiAgICovXG4gIEBJbnB1dCgpIG1heERhdGU6IHN0cmluZyB8IERhdGU7XG5cbiAgLyoqXG4gICAqIFRoZSBtaW5pbXVtIGRhdGUgdGhhdCBhIHVzZXIgY2FuIHN0YXJ0IHBpY2tpbmcgZnJvbSAoaW5jbHVzaXZlKS5cbiAgICovXG4gIEBJbnB1dCgpIG1pbkRhdGU6IHN0cmluZyB8IERhdGU7XG5cbiAgLyoqXG4gICAqIEFkanVzdHMgdGhlIHN0ZXAgZm9yIHRoZSBtaW51dGUgaW5wdXQgKGluY2wuIHNjcm9sbGluZykuXG4gICAqL1xuICBASW5wdXQoKSBtaW51dGVJbmNyZW1lbnQ6IG51bWJlcjtcblxuICAvKipcbiAgICogU2VsZWN0IGEgc2luZ2xlIGRhdGUsIG11bHRpcGxlIGRhdGVzIG9yIGEgZGF0ZSByYW5nZS5cbiAgICovXG4gIEBJbnB1dCgpIG1vZGU6ICdzaW5nbGUnIHwgJ211bHRpcGxlJyB8ICdyYW5nZSc7XG5cbiAgLyoqXG4gICAqIEhUTUwgZm9yIHRoZSBhcnJvdyBpY29uLCB1c2VkIHRvIHN3aXRjaCBtb250aHMuXG4gICAqL1xuICBASW5wdXQoKSBuZXh0QXJyb3c6IHN0cmluZztcblxuICAvKipcbiAgICogSGlkZXMgdGhlIGRheSBzZWxlY3Rpb24gaW4gY2FsZW5kYXIuIFVzZSBpdCBhbG9uZyB3aXRoIGBlbmFibGVUaW1lYCB0byBjcmVhdGUgYSB0aW1lIHBpY2tlci5cbiAgICovXG4gIEBJbnB1dCgpIG5vQ2FsZW5kYXI6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFByb3ZpZGUgYSBkYXRlIGZvciAndG9kYXknLCB3aGljaCB3aWxsIGJlIHVzZWQgaW5zdGVhZCBvZiBcIm5ldyBEYXRlKClcIlxuICAgKi9cbiAgQElucHV0KCkgbm93PzogRGF0ZSB8IHN0cmluZyB8IG51bWJlcjtcblxuICAvKipcbiAgICogRnVuY3Rpb24gdGhhdCBleHBlY3RzIGEgZGF0ZSBzdHJpbmcgYW5kIG11c3QgcmV0dXJuIGEgRGF0ZSBvYmplY3QuXG4gICAqL1xuICBASW5wdXQoKSBwYXJzZURhdGU6IChzdHI6IHN0cmluZykgPT4gRGF0ZTtcblxuICAvKipcbiAgICogSFRNTCBmb3IgdGhlIGxlZnQgYXJyb3cgaWNvbi5cbiAgICovXG4gIEBJbnB1dCgpIHByZXZBcnJvdzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTaG93IHRoZSBtb250aCB1c2luZyB0aGUgc2hvcnRoYW5kIHZlcnNpb24gKGllLCBTZXAgaW5zdGVhZCBvZiBTZXB0ZW1iZXIpLlxuICAgKi9cbiAgQElucHV0KCkgc2hvcnRoYW5kQ3VycmVudE1vbnRoOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIG1vbnRocyBzaG93bi5cbiAgICovXG4gIEBJbnB1dCgpIHNob3dNb250aHM6IG51bWJlcjtcblxuICAvKipcbiAgICogUG9zaXRpb24gdGhlIGNhbGVuZGFyIGluc2lkZSB0aGUgd3JhcHBlciBhbmQgbmV4dCB0byB0aGUgaW5wdXQgZWxlbWVudC4gKExlYXZlIGBmYWxzZWAgdW5sZXNzIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nKS5cbiAgICovXG4gIEBJbnB1dCgpIHN0YXRpYzogYm9vbGVhbjtcblxuICAvKipcbiAgICogRGlzcGxheXMgdGltZSBwaWNrZXIgaW4gMjQgaG91ciBtb2RlIHdpdGhvdXQgQU0vUE0gc2VsZWN0aW9uIHdoZW4gZW5hYmxlZC5cbiAgICovXG4gIEBJbnB1dCgpIHRpbWUyNGhyOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIGRpc3BsYXkgb2Ygd2VlayBudW1iZXJzIGluIGNhbGVuZGFyLlxuICAgKi9cbiAgQElucHV0KCkgd2Vla051bWJlcnM6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFlvdSBtYXkgb3ZlcnJpZGUgdGhlIGZ1bmN0aW9uIHRoYXQgZXh0cmFjdHMgdGhlIHdlZWsgbnVtYmVycyBmcm9tIGEgRGF0ZSBieSBzdXBwbHlpbmcgYSBnZXRXZWVrIGZ1bmN0aW9uLlxuICAgKiBJdCB0YWtlcyBpbiBhIGRhdGUgYXMgYSBwYXJhbWV0ZXIgYW5kIHNob3VsZCByZXR1cm4gYSBjb3JyZXNwb25kaW5nIHN0cmluZyB0aGF0IHlvdSB3YW50IHRvIGFwcGVhciBsZWZ0IG9mIGV2ZXJ5IHdlZWsuXG4gICAqL1xuICBASW5wdXQoKSBnZXRXZWVrOiAoZGF0ZTogRGF0ZSkgPT4gc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBDdXN0b20gZWxlbWVudHMgYW5kIGlucHV0IGdyb3Vwcy5cbiAgICovXG4gIEBJbnB1dCgpIHdyYXA6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEFycmF5IG9mIHBsdWdpbiBpbnN0YW5jZXMgdG8gdXNlLlxuICAgKi9cbiAgQElucHV0KCkgcGx1Z2luczogYW55W107XG5cbiAgLyoqXG4gICAqIFRoZSBsb2NhbGUgb2JqZWN0IG9yIHN0cmluZyB0byB1c2UgZm9yIHRoZSBsb2NhbGUuXG4gICAqL1xuICBASW5wdXQoKSBsb2NhbGU6IG9iamVjdCB8IHN0cmluZztcblxuICAvKipcbiAgICogQXV0byBjb252ZXJ0IHRoZSBuZ01vZGVsIHZhbHVlIGZyb20gYSBzdHJpbmcgdG8gYSBkYXRlIC8gYXJyYXkgb2YgZGF0ZXMgLyBmcm9tIC0gdG8gZGF0ZSBvYmplY3QgZGVwZW5kaW5nIG9uIHRoZSBgbW9kZWBcbiAgICovXG4gIEBJbnB1dCgpIGNvbnZlcnRNb2RlbFZhbHVlOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBIb3cgdGhlIG1vbnRoIHNob3VsZCBiZSBkaXNwbGF5ZWQgaW4gdGhlIGhlYWRlciBvZiB0aGUgY2FsZW5kYXIuXG4gICAqL1xuICBASW5wdXQoKSBtb250aFNlbGVjdG9yVHlwZTogJ3N0YXRpYycgfCAnZHJvcGRvd24nO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRyaWdnZXJlZCBvbmNlIHRoZSBjYWxlbmRhciBpcyBpbiBhIHJlYWR5IHN0YXRlXG4gICAqL1xuICBAT3V0cHV0KClcbiAgZmxhdHBpY2tyUmVhZHk6IEV2ZW50RW1pdHRlcjxGbGF0UGlja3JPdXRwdXRPcHRpb25zPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvKipcbiAgICogR2V0cyB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBzZWxlY3RzIGEgZGF0ZSwgb3IgY2hhbmdlcyB0aGUgdGltZSBvbiBhIHNlbGVjdGVkIGRhdGUuXG4gICAqL1xuICBAT3V0cHV0KClcbiAgZmxhdHBpY2tyQ2hhbmdlOiBFdmVudEVtaXR0ZXI8RmxhdFBpY2tyT3V0cHV0T3B0aW9ucz4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLyoqXG4gICAqIEdldHMgdHJpZ2dlcmVkIHdoZW4gdGhlIGlucHV0IHZhbHVlIGlzIHVwZGF0ZWQgd2l0aCBhIG5ldyBkYXRlIHN0cmluZy5cbiAgICovXG4gIEBPdXRwdXQoKVxuICBmbGF0cGlja3JWYWx1ZVVwZGF0ZTogRXZlbnRFbWl0dGVyPFxuICAgIEZsYXRQaWNrck91dHB1dE9wdGlvbnNcbiAgPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvKipcbiAgICogR2V0cyB0cmlnZ2VyZWQgd2hlbiB0aGUgY2FsZW5kYXIgaXMgb3BlbmVkLlxuICAgKi9cbiAgQE91dHB1dCgpXG4gIGZsYXRwaWNrck9wZW46IEV2ZW50RW1pdHRlcjxGbGF0UGlja3JPdXRwdXRPcHRpb25zPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvKipcbiAgICogR2V0cyB0cmlnZ2VyZWQgd2hlbiB0aGUgY2FsZW5kYXIgaXMgY2xvc2VkLlxuICAgKi9cbiAgQE91dHB1dCgpXG4gIGZsYXRwaWNrckNsb3NlOiBFdmVudEVtaXR0ZXI8RmxhdFBpY2tyT3V0cHV0T3B0aW9ucz4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLyoqXG4gICAqIEdldHMgdHJpZ2dlcmVkIHdoZW4gdGhlIG1vbnRoIGlzIGNoYW5nZWQsIGVpdGhlciBieSB0aGUgdXNlciBvciBwcm9ncmFtbWF0aWNhbGx5LlxuICAgKi9cbiAgQE91dHB1dCgpXG4gIGZsYXRwaWNrck1vbnRoQ2hhbmdlOiBFdmVudEVtaXR0ZXI8XG4gICAgRmxhdFBpY2tyT3V0cHV0T3B0aW9uc1xuICA+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRyaWdnZXJlZCB3aGVuIHRoZSB5ZWFyIGlzIGNoYW5nZWQsIGVpdGhlciBieSB0aGUgdXNlciBvciBwcm9ncmFtbWF0aWNhbGx5LlxuICAgKi9cbiAgQE91dHB1dCgpXG4gIGZsYXRwaWNrclllYXJDaGFuZ2U6IEV2ZW50RW1pdHRlcjxcbiAgICBGbGF0UGlja3JPdXRwdXRPcHRpb25zXG4gID4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLyoqXG4gICAqIFRha2UgZnVsbCBjb250cm9sIG9mIGV2ZXJ5IGRhdGUgY2VsbCB3aXRoIHRoaXMgb3V0cHV0XG4gICAqL1xuICBAT3V0cHV0KClcbiAgZmxhdHBpY2tyRGF5Q3JlYXRlOiBFdmVudEVtaXR0ZXI8XG4gICAgRmxhdFBpY2tyRGF5Q3JlYXRlT3V0cHV0T3B0aW9uc1xuICA+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIC8qKlxuICAgKiBUaGUgZmxhdHBpY2tyIGluc3RhbmNlIHdoZXJlIHlvdSBjYW4gY2FsbCBtZXRob2RzIGxpa2UgdG9nZ2xlKCksIG9wZW4oKSwgY2xvc2UoKSBldGNcbiAgICovXG4gIGluc3RhbmNlOiBmbGF0cGlja3IuSW5zdGFuY2U7XG5cbiAgcHJpdmF0ZSBpc0Rpc2FibGVkID0gZmFsc2U7XG4gIHByaXZhdGUgaW5pdGlhbFZhbHVlOiBhbnk7XG5cbiAgb25DaGFuZ2VGbjogKHZhbHVlOiBhbnkpID0+IHZvaWQgPSAoKSA9PiB7fTsgLy8gdHNsaW50OmRpc2FibGUtbGluZVxuXG4gIG9uVG91Y2hlZEZuID0gKCkgPT4ge307XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBlbG06IEVsZW1lbnRSZWYsXG4gICAgcHJpdmF0ZSBkZWZhdWx0czogRmxhdHBpY2tyRGVmYXVsdHMsXG4gICAgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyXG4gICkge31cblxuICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XG4gICAgY29uc3Qgb3B0aW9uczogYW55ID0ge1xuICAgICAgYWx0Rm9ybWF0OiB0aGlzLmFsdEZvcm1hdCxcbiAgICAgIGFsdElucHV0OiB0aGlzLmFsdElucHV0LFxuICAgICAgYWx0SW5wdXRDbGFzczogdGhpcy5hbHRJbnB1dENsYXNzLFxuICAgICAgYWxsb3dJbnB1dDogdGhpcy5hbGxvd0lucHV0LFxuICAgICAgYXBwZW5kVG86IHRoaXMuYXBwZW5kVG8sXG4gICAgICBhcmlhRGF0ZUZvcm1hdDogdGhpcy5hcmlhRGF0ZUZvcm1hdCxcbiAgICAgIGNsaWNrT3BlbnM6IHRoaXMuY2xpY2tPcGVucyxcbiAgICAgIGRhdGVGb3JtYXQ6IHRoaXMuZGF0ZUZvcm1hdCxcbiAgICAgIGRlZmF1bHRIb3VyOiB0aGlzLmRlZmF1bHRIb3VyLFxuICAgICAgZGVmYXVsdE1pbnV0ZTogdGhpcy5kZWZhdWx0TWludXRlLFxuICAgICAgZGVmYXVsdFNlY29uZHM6IHRoaXMuZGVmYXVsdFNlY29uZHMsXG4gICAgICBkaXNhYmxlOiB0aGlzLmRpc2FibGUsXG4gICAgICBkaXNhYmxlTW9iaWxlOiB0aGlzLmRpc2FibGVNb2JpbGUsXG4gICAgICBlbmFibGU6IHRoaXMuZW5hYmxlLFxuICAgICAgZW5hYmxlVGltZTogdGhpcy5lbmFibGVUaW1lLFxuICAgICAgZW5hYmxlU2Vjb25kczogdGhpcy5lbmFibGVTZWNvbmRzLFxuICAgICAgZm9ybWF0RGF0ZTogdGhpcy5mb3JtYXREYXRlLFxuICAgICAgaG91ckluY3JlbWVudDogdGhpcy5ob3VySW5jcmVtZW50LFxuICAgICAgZGVmYXVsdERhdGU6IHRoaXMuaW5pdGlhbFZhbHVlLFxuICAgICAgaW5saW5lOiB0aGlzLmlubGluZSxcbiAgICAgIG1heERhdGU6IHRoaXMubWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IHRoaXMubWluRGF0ZSxcbiAgICAgIG1pbnV0ZUluY3JlbWVudDogdGhpcy5taW51dGVJbmNyZW1lbnQsXG4gICAgICBtb2RlOiB0aGlzLm1vZGUsXG4gICAgICBuZXh0QXJyb3c6IHRoaXMubmV4dEFycm93LFxuICAgICAgbm9DYWxlbmRhcjogdGhpcy5ub0NhbGVuZGFyLFxuICAgICAgbm93OiB0aGlzLm5vdyxcbiAgICAgIHBhcnNlRGF0ZTogdGhpcy5wYXJzZURhdGUsXG4gICAgICBwcmV2QXJyb3c6IHRoaXMucHJldkFycm93LFxuICAgICAgc2hvcnRoYW5kQ3VycmVudE1vbnRoOiB0aGlzLnNob3J0aGFuZEN1cnJlbnRNb250aCxcbiAgICAgIHNob3dNb250aHM6IHRoaXMuc2hvd01vbnRocyxcbiAgICAgIG1vbnRoU2VsZWN0b3JUeXBlOiB0aGlzLm1vbnRoU2VsZWN0b3JUeXBlLFxuICAgICAgc3RhdGljOiB0aGlzLnN0YXRpYyxcbiAgICAgIHRpbWUyNGhyOiB0aGlzLnRpbWUyNGhyLFxuICAgICAgd2Vla051bWJlcnM6IHRoaXMud2Vla051bWJlcnMsXG4gICAgICBnZXRXZWVrOiB0aGlzLmdldFdlZWssXG4gICAgICB3cmFwOiB0aGlzLndyYXAsXG4gICAgICBwbHVnaW5zOiB0aGlzLnBsdWdpbnMsXG4gICAgICBsb2NhbGU6IHRoaXMubG9jYWxlLFxuICAgICAgb25DaGFuZ2U6IChzZWxlY3RlZERhdGVzOiBEYXRlW10sIGRhdGVTdHJpbmc6IHN0cmluZywgaW5zdGFuY2U6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLmZsYXRwaWNrckNoYW5nZS5lbWl0KHsgc2VsZWN0ZWREYXRlcywgZGF0ZVN0cmluZywgaW5zdGFuY2UgfSk7XG4gICAgICB9LFxuICAgICAgb25PcGVuOiAoc2VsZWN0ZWREYXRlczogRGF0ZVtdLCBkYXRlU3RyaW5nOiBzdHJpbmcsIGluc3RhbmNlOiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy5mbGF0cGlja3JPcGVuLmVtaXQoeyBzZWxlY3RlZERhdGVzLCBkYXRlU3RyaW5nLCBpbnN0YW5jZSB9KTtcbiAgICAgIH0sXG4gICAgICBvbkNsb3NlOiAoc2VsZWN0ZWREYXRlczogRGF0ZVtdLCBkYXRlU3RyaW5nOiBzdHJpbmcsIGluc3RhbmNlOiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy5mbGF0cGlja3JDbG9zZS5lbWl0KHsgc2VsZWN0ZWREYXRlcywgZGF0ZVN0cmluZywgaW5zdGFuY2UgfSk7XG4gICAgICB9LFxuICAgICAgb25Nb250aENoYW5nZTogKFxuICAgICAgICBzZWxlY3RlZERhdGVzOiBEYXRlW10sXG4gICAgICAgIGRhdGVTdHJpbmc6IHN0cmluZyxcbiAgICAgICAgaW5zdGFuY2U6IGFueVxuICAgICAgKSA9PiB7XG4gICAgICAgIHRoaXMuZmxhdHBpY2tyTW9udGhDaGFuZ2UuZW1pdCh7IHNlbGVjdGVkRGF0ZXMsIGRhdGVTdHJpbmcsIGluc3RhbmNlIH0pO1xuICAgICAgfSxcbiAgICAgIG9uWWVhckNoYW5nZTogKFxuICAgICAgICBzZWxlY3RlZERhdGVzOiBEYXRlW10sXG4gICAgICAgIGRhdGVTdHJpbmc6IHN0cmluZyxcbiAgICAgICAgaW5zdGFuY2U6IGFueVxuICAgICAgKSA9PiB7XG4gICAgICAgIHRoaXMuZmxhdHBpY2tyWWVhckNoYW5nZS5lbWl0KHsgc2VsZWN0ZWREYXRlcywgZGF0ZVN0cmluZywgaW5zdGFuY2UgfSk7XG4gICAgICB9LFxuICAgICAgb25SZWFkeTogKHNlbGVjdGVkRGF0ZXM6IERhdGVbXSwgZGF0ZVN0cmluZzogc3RyaW5nLCBpbnN0YW5jZTogYW55KSA9PiB7XG4gICAgICAgIHRoaXMuZmxhdHBpY2tyUmVhZHkuZW1pdCh7IHNlbGVjdGVkRGF0ZXMsIGRhdGVTdHJpbmcsIGluc3RhbmNlIH0pO1xuICAgICAgfSxcbiAgICAgIG9uVmFsdWVVcGRhdGU6IChcbiAgICAgICAgc2VsZWN0ZWREYXRlczogRGF0ZVtdLFxuICAgICAgICBkYXRlU3RyaW5nOiBzdHJpbmcsXG4gICAgICAgIGluc3RhbmNlOiBhbnlcbiAgICAgICkgPT4ge1xuICAgICAgICB0aGlzLmZsYXRwaWNrclZhbHVlVXBkYXRlLmVtaXQoeyBzZWxlY3RlZERhdGVzLCBkYXRlU3RyaW5nLCBpbnN0YW5jZSB9KTtcbiAgICAgIH0sXG4gICAgICBvbkRheUNyZWF0ZTogKFxuICAgICAgICBzZWxlY3RlZERhdGVzOiBEYXRlW10sXG4gICAgICAgIGRhdGVTdHJpbmc6IHN0cmluZyxcbiAgICAgICAgaW5zdGFuY2U6IGFueSxcbiAgICAgICAgZGF5RWxlbWVudDogSFRNTEVsZW1lbnRcbiAgICAgICkgPT4ge1xuICAgICAgICB0aGlzLmZsYXRwaWNrckRheUNyZWF0ZS5lbWl0KHtcbiAgICAgICAgICBzZWxlY3RlZERhdGVzLFxuICAgICAgICAgIGRhdGVTdHJpbmcsXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgZGF5RWxlbWVudFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zW2tleV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgb3B0aW9uc1trZXldID0gKHRoaXMub3B0aW9ucyBhcyBhbnkpW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9uc1trZXldID0gKHRoaXMuZGVmYXVsdHMgYXMgYW55KVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgb3B0aW9ucy50aW1lXzI0aHIgPSBvcHRpb25zLnRpbWUyNGhyO1xuXG4gICAgLy8gd29ya2Fyb3VuZCBidWcgaW4gZmxhdHBpY2tyIDQuNiB3aGVyZSBpdCBkb2Vzbid0IGNvcHkgdGhlIGNsYXNzZXMgYWNyb3NzXG4gICAgLy8gVE9ETyAtIHJlbW92ZSBvbmNlIGZpeCBpbiBodHRwczovL2dpdGh1Yi5jb20vZmxhdHBpY2tyL2ZsYXRwaWNrci9pc3N1ZXMvMTg2MCBpcyByZWxlYXNlZFxuICAgIG9wdGlvbnMuYWx0SW5wdXRDbGFzcyA9XG4gICAgICAob3B0aW9ucy5hbHRJbnB1dENsYXNzIHx8ICcnKSArICcgJyArIHRoaXMuZWxtLm5hdGl2ZUVsZW1lbnQuY2xhc3NOYW1lO1xuXG4gICAgaWYgKCFvcHRpb25zLmVuYWJsZSkge1xuICAgICAgZGVsZXRlIG9wdGlvbnMuZW5hYmxlO1xuICAgIH1cblxuICAgIHRoaXMuaW5zdGFuY2UgPSBmbGF0cGlja3IoXG4gICAgICB0aGlzLmVsbS5uYXRpdmVFbGVtZW50LFxuICAgICAgb3B0aW9uc1xuICAgICkgYXMgZmxhdHBpY2tyLkluc3RhbmNlO1xuICAgIHRoaXMuc2V0RGlzYWJsZWRTdGF0ZSh0aGlzLmlzRGlzYWJsZWQpO1xuICB9XG5cbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xuICAgIGlmICh0aGlzLmluc3RhbmNlKSB7XG4gICAgICBPYmplY3Qua2V5cyhjaGFuZ2VzKS5mb3JFYWNoKGlucHV0S2V5ID0+IHtcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5zZXQoaW5wdXRLZXkgYXMgYW55LCAodGhpcyBhcyBhbnkpW2lucHV0S2V5XSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pbnN0YW5jZSkge1xuICAgICAgdGhpcy5pbnN0YW5jZS5kZXN0cm95KCk7XG4gICAgfVxuICB9XG5cbiAgd3JpdGVWYWx1ZSh2YWx1ZTogYW55KTogdm9pZCB7XG4gICAgbGV0IGNvbnZlcnRlZFZhbHVlOiBhbnkgPSB2YWx1ZTtcbiAgICBpZiAodGhpcy5jb252ZXJ0TW9kZWxWYWx1ZSAmJiB0aGlzLm1vZGUgPT09ICdyYW5nZScgJiYgdmFsdWUpIHtcbiAgICAgIGNvbnZlcnRlZFZhbHVlID0gW3ZhbHVlLmZyb20sIHZhbHVlLnRvXTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pbnN0YW5jZSkge1xuICAgICAgdGhpcy5pbnN0YW5jZS5zZXREYXRlKGNvbnZlcnRlZFZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZmxhdHBpY2tyIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIHlldCwgc3RvcmUgdGhlIHZhbHVlIGZvciBsYXRlciB1c2VcbiAgICAgIHRoaXMuaW5pdGlhbFZhbHVlID0gY29udmVydGVkVmFsdWU7XG4gICAgfVxuICB9XG5cbiAgcmVnaXN0ZXJPbkNoYW5nZShmbjogYW55KTogdm9pZCB7XG4gICAgdGhpcy5vbkNoYW5nZUZuID0gZm47XG4gIH1cblxuICByZWdpc3Rlck9uVG91Y2hlZChmbjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMub25Ub3VjaGVkRm4gPSBmbjtcbiAgfVxuXG4gIHNldERpc2FibGVkU3RhdGUoaXNEaXNhYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuaXNEaXNhYmxlZCA9IGlzRGlzYWJsZWQ7XG4gICAgaWYgKHRoaXMuaW5zdGFuY2UpIHtcbiAgICAgIGlmICh0aGlzLmlzRGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRQcm9wZXJ0eSh0aGlzLmluc3RhbmNlLl9pbnB1dCwgJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLmluc3RhbmNlLl9pbnB1dCwgJ2Rpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignaW5wdXQnKVxuICBpbnB1dENoYW5nZWQoKTogdm9pZCB7XG4gICAgY29uc3QgdmFsdWU6IHN0cmluZyA9IHRoaXMuZWxtLm5hdGl2ZUVsZW1lbnQudmFsdWU7XG4gICAgaWYgKHRoaXMuY29udmVydE1vZGVsVmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcbiAgICAgICAgY2FzZSAnbXVsdGlwbGUnOlxuICAgICAgICAgIGNvbnN0IGRhdGVzOiBEYXRlW10gPSB2YWx1ZVxuICAgICAgICAgICAgLnNwbGl0KCc7ICcpXG4gICAgICAgICAgICAubWFwKHN0ciA9PlxuICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlLnBhcnNlRGF0ZShcbiAgICAgICAgICAgICAgICBzdHIsXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5jb25maWcuZGF0ZUZvcm1hdCxcbiAgICAgICAgICAgICAgICAhdGhpcy5pbnN0YW5jZS5jb25maWcuZW5hYmxlVGltZVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMub25DaGFuZ2VGbihkYXRlcyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmFuZ2UnOlxuICAgICAgICAgIGNvbnN0IFtmcm9tLCB0b10gPSB2YWx1ZVxuICAgICAgICAgICAgLnNwbGl0KHRoaXMuaW5zdGFuY2UubDEwbi5yYW5nZVNlcGFyYXRvcilcbiAgICAgICAgICAgIC5tYXAoc3RyID0+XG4gICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucGFyc2VEYXRlKFxuICAgICAgICAgICAgICAgIHN0cixcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlLmNvbmZpZy5kYXRlRm9ybWF0LFxuICAgICAgICAgICAgICAgICF0aGlzLmluc3RhbmNlLmNvbmZpZy5lbmFibGVUaW1lXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5vbkNoYW5nZUZuKHsgZnJvbSwgdG8gfSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnc2luZ2xlJzpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aGlzLm9uQ2hhbmdlRm4oXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLnBhcnNlRGF0ZShcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UuY29uZmlnLmRhdGVGb3JtYXQsXG4gICAgICAgICAgICAgICF0aGlzLmluc3RhbmNlLmNvbmZpZy5lbmFibGVUaW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vbkNoYW5nZUZuKHZhbHVlKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIE5nTW9kdWxlLFxuICBNb2R1bGVXaXRoUHJvdmlkZXJzLFxuICBJbmplY3Rpb25Ub2tlbixcbiAgUHJvdmlkZXJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGbGF0cGlja3JEaXJlY3RpdmUgfSBmcm9tICcuL2ZsYXRwaWNrci5kaXJlY3RpdmUnO1xuaW1wb3J0IHtcbiAgRmxhdHBpY2tyRGVmYXVsdHMsXG4gIEZsYXRwaWNrckRlZmF1bHRzSW50ZXJmYWNlXG59IGZyb20gJy4vZmxhdHBpY2tyLWRlZmF1bHRzLnNlcnZpY2UnO1xuXG5leHBvcnQgY29uc3QgVVNFUl9ERUZBVUxUUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignZmxhdHBpY2tyIGRlZmF1bHRzJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0c0ZhY3RvcnkoXG4gIHVzZXJEZWZhdWx0czogRmxhdHBpY2tyRGVmYXVsdHNJbnRlcmZhY2Vcbik6IEZsYXRwaWNrckRlZmF1bHRzIHtcbiAgY29uc3QgZGVmYXVsdHM6IEZsYXRwaWNrckRlZmF1bHRzID0gbmV3IEZsYXRwaWNrckRlZmF1bHRzKCk7XG4gIE9iamVjdC5hc3NpZ24oZGVmYXVsdHMsIHVzZXJEZWZhdWx0cyk7XG4gIHJldHVybiBkZWZhdWx0cztcbn1cblxuQE5nTW9kdWxlKHtcbiAgZGVjbGFyYXRpb25zOiBbRmxhdHBpY2tyRGlyZWN0aXZlXSxcbiAgZXhwb3J0czogW0ZsYXRwaWNrckRpcmVjdGl2ZV1cbn0pXG5leHBvcnQgY2xhc3MgRmxhdHBpY2tyTW9kdWxlIHtcbiAgc3RhdGljIGZvclJvb3QoXG4gICAgdXNlckRlZmF1bHRzOiBGbGF0cGlja3JEZWZhdWx0c0ludGVyZmFjZSA9IHt9XG4gICk6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xuICAgIHJldHVybiB7XG4gICAgICBuZ01vZHVsZTogRmxhdHBpY2tyTW9kdWxlLFxuICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBwcm92aWRlOiBVU0VSX0RFRkFVTFRTLFxuICAgICAgICAgIHVzZVZhbHVlOiB1c2VyRGVmYXVsdHNcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHByb3ZpZGU6IEZsYXRwaWNrckRlZmF1bHRzLFxuICAgICAgICAgIHVzZUZhY3Rvcnk6IGRlZmF1bHRzRmFjdG9yeSxcbiAgICAgICAgICBkZXBzOiBbVVNFUl9ERUZBVUxUU11cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH07XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7Ozt5QkEwTnNCLFFBQVE7Ozs7d0JBS1IsS0FBSzs7Ozs7NkJBTUQsRUFBRTs7OzswQkFLSixLQUFLOzs7O3dCQUtILFNBQVM7Ozs7OEJBS1AsUUFBUTs7Ozs7MEJBTVosSUFBSTs7Ozs7MEJBTUwsT0FBTzs7OzsyQkFLTCxFQUFFOzs7OzZCQUtBLENBQUM7Ozs7OEJBS0EsQ0FBQzs7Ozt1QkFLSSxFQUFFOzs7Ozs2QkFNUixLQUFLOzs7OzBCQVVSLEtBQUs7Ozs7NkJBS0YsS0FBSzs7OzswQkFLUSxTQUFTOzs7OzZCQUt2QixDQUFDOzs7O3NCQUtQLEtBQUs7Ozs7dUJBS0UsU0FBUzs7Ozt1QkFLVCxTQUFTOzs7OytCQUtSLENBQUM7Ozs7b0JBS2EsUUFBUTs7Ozt5QkFLNUIsR0FBRzs7OzswQkFLRCxLQUFLOzs7O21CQUtHLElBQUksSUFBSSxFQUFFOzs7O3lCQVVw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","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nexport var DAYS_OF_WEEK;\n(function (DAYS_OF_WEEK) {\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"SUNDAY\"] = 0] = \"SUNDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"MONDAY\"] = 1] = \"MONDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"TUESDAY\"] = 2] = \"TUESDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"WEDNESDAY\"] = 3] = \"WEDNESDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"THURSDAY\"] = 4] = \"THURSDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"FRIDAY\"] = 5] = \"FRIDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"SATURDAY\"] = 6] = \"SATURDAY\";\n})(DAYS_OF_WEEK || (DAYS_OF_WEEK = {}));\nvar DEFAULT_WEEKEND_DAYS = [\n    DAYS_OF_WEEK.SUNDAY,\n    DAYS_OF_WEEK.SATURDAY,\n];\nvar DAYS_IN_WEEK = 7;\nvar HOURS_IN_DAY = 24;\nvar MINUTES_IN_HOUR = 60;\nexport var SECONDS_IN_DAY = 60 * 60 * 24;\nfunction getExcludedSeconds(dateAdapter, _a) {\n    var startDate = _a.startDate, seconds = _a.seconds, excluded = _a.excluded, precision = _a.precision;\n    if (excluded.length < 1) {\n        return 0;\n    }\n    var addSeconds = dateAdapter.addSeconds, getDay = dateAdapter.getDay, addDays = dateAdapter.addDays;\n    var endDate = addSeconds(startDate, seconds - 1);\n    var dayStart = getDay(startDate);\n    var dayEnd = getDay(endDate);\n    var result = 0; // Calculated in seconds\n    var current = startDate;\n    var _loop_1 = function () {\n        var day = getDay(current);\n        if (excluded.some(function (excludedDay) { return excludedDay === day; })) {\n            result += calculateExcludedSeconds(dateAdapter, {\n                dayStart: dayStart,\n                dayEnd: dayEnd,\n                day: day,\n                precision: precision,\n                startDate: startDate,\n                endDate: endDate,\n            });\n        }\n        current = addDays(current, 1);\n    };\n    while (current < endDate) {\n        _loop_1();\n    }\n    return result;\n}\nfunction calculateExcludedSeconds(dateAdapter, _a) {\n    var precision = _a.precision, day = _a.day, dayStart = _a.dayStart, dayEnd = _a.dayEnd, startDate = _a.startDate, endDate = _a.endDate;\n    var differenceInSeconds = dateAdapter.differenceInSeconds, endOfDay = dateAdapter.endOfDay, startOfDay = dateAdapter.startOfDay;\n    if (precision === 'minutes') {\n        if (day === dayStart) {\n            return differenceInSeconds(endOfDay(startDate), startDate) + 1;\n        }\n        else if (day === dayEnd) {\n            return differenceInSeconds(endDate, startOfDay(endDate)) + 1;\n        }\n    }\n    return SECONDS_IN_DAY;\n}\nfunction getWeekViewEventSpan(dateAdapter, _a) {\n    var event = _a.event, offset = _a.offset, startOfWeekDate = _a.startOfWeekDate, excluded = _a.excluded, precision = _a.precision, totalDaysInView = _a.totalDaysInView;\n    var max = dateAdapter.max, differenceInSeconds = dateAdapter.differenceInSeconds, addDays = dateAdapter.addDays, endOfDay = dateAdapter.endOfDay, differenceInDays = dateAdapter.differenceInDays;\n    var span = SECONDS_IN_DAY;\n    var begin = max([event.start, startOfWeekDate]);\n    if (event.end) {\n        switch (precision) {\n            case 'minutes':\n                span = differenceInSeconds(event.end, begin);\n                break;\n            default:\n                span =\n                    differenceInDays(addDays(endOfDay(event.end), 1), begin) *\n                        SECONDS_IN_DAY;\n                break;\n        }\n    }\n    var offsetSeconds = offset * SECONDS_IN_DAY;\n    var totalLength = offsetSeconds + span;\n    // the best way to detect if an event is outside the week-view\n    // is to check if the total span beginning (from startOfWeekDay or event start) exceeds the total days in the view\n    var secondsInView = totalDaysInView * SECONDS_IN_DAY;\n    if (totalLength > secondsInView) {\n        span = secondsInView - offsetSeconds;\n    }\n    span -= getExcludedSeconds(dateAdapter, {\n        startDate: begin,\n        seconds: span,\n        excluded: excluded,\n        precision: precision,\n    });\n    return span / SECONDS_IN_DAY;\n}\nfunction getWeekViewEventOffset(dateAdapter, _a) {\n    var event = _a.event, startOfWeekDate = _a.startOfWeek, excluded = _a.excluded, precision = _a.precision;\n    var differenceInDays = dateAdapter.differenceInDays, startOfDay = dateAdapter.startOfDay, differenceInSeconds = dateAdapter.differenceInSeconds;\n    if (event.start < startOfWeekDate) {\n        return 0;\n    }\n    var offset = 0;\n    switch (precision) {\n        case 'days':\n            offset =\n                differenceInDays(startOfDay(event.start), startOfWeekDate) *\n                    SECONDS_IN_DAY;\n            break;\n        case 'minutes':\n            offset = differenceInSeconds(event.start, startOfWeekDate);\n            break;\n    }\n    offset -= getExcludedSeconds(dateAdapter, {\n        startDate: startOfWeekDate,\n        seconds: offset,\n        excluded: excluded,\n        precision: precision,\n    });\n    return Math.abs(offset / SECONDS_IN_DAY);\n}\nfunction isEventIsPeriod(dateAdapter, _a) {\n    var event = _a.event, periodStart = _a.periodStart, periodEnd = _a.periodEnd;\n    var isSameSecond = dateAdapter.isSameSecond;\n    var eventStart = event.start;\n    var eventEnd = event.end || event.start;\n    if (eventStart > periodStart && eventStart < periodEnd) {\n        return true;\n    }\n    if (eventEnd > periodStart && eventEnd < periodEnd) {\n        return true;\n    }\n    if (eventStart < periodStart && eventEnd > periodEnd) {\n        return true;\n    }\n    if (isSameSecond(eventStart, periodStart) ||\n        isSameSecond(eventStart, periodEnd)) {\n        return true;\n    }\n    if (isSameSecond(eventEnd, periodStart) ||\n        isSameSecond(eventEnd, periodEnd)) {\n        return true;\n    }\n    return false;\n}\nexport function getEventsInPeriod(dateAdapter, _a) {\n    var events = _a.events, periodStart = _a.periodStart, periodEnd = _a.periodEnd;\n    return events.filter(function (event) {\n        return isEventIsPeriod(dateAdapter, { event: event, periodStart: periodStart, periodEnd: periodEnd });\n    });\n}\nfunction getWeekDay(dateAdapter, _a) {\n    var date = _a.date, _b = _a.weekendDays, weekendDays = _b === void 0 ? DEFAULT_WEEKEND_DAYS : _b;\n    var startOfDay = dateAdapter.startOfDay, isSameDay = dateAdapter.isSameDay, getDay = dateAdapter.getDay;\n    var today = startOfDay(new Date());\n    var day = getDay(date);\n    return {\n        date: date,\n        day: day,\n        isPast: date < today,\n        isToday: isSameDay(date, today),\n        isFuture: date > today,\n        isWeekend: weekendDays.indexOf(day) > -1,\n    };\n}\nexport function getWeekViewHeader(dateAdapter, _a) {\n    var viewDate = _a.viewDate, weekStartsOn = _a.weekStartsOn, _b = _a.excluded, excluded = _b === void 0 ? [] : _b, weekendDays = _a.weekendDays, _c = _a.viewStart, viewStart = _c === void 0 ? dateAdapter.startOfWeek(viewDate, { weekStartsOn: weekStartsOn }) : _c, _d = _a.viewEnd, viewEnd = _d === void 0 ? dateAdapter.addDays(viewStart, DAYS_IN_WEEK) : _d;\n    var addDays = dateAdapter.addDays, getDay = dateAdapter.getDay;\n    var days = [];\n    var date = viewStart;\n    while (date < viewEnd) {\n        if (!excluded.some(function (e) { return getDay(date) === e; })) {\n            days.push(getWeekDay(dateAdapter, { date: date, weekendDays: weekendDays }));\n        }\n        date = addDays(date, 1);\n    }\n    return days;\n}\nexport function getDifferenceInDaysWithExclusions(dateAdapter, _a) {\n    var date1 = _a.date1, date2 = _a.date2, excluded = _a.excluded;\n    var date = date1;\n    var diff = 0;\n    while (date < date2) {\n        if (excluded.indexOf(dateAdapter.getDay(date)) === -1) {\n            diff++;\n        }\n        date = dateAdapter.addDays(date, 1);\n    }\n    return diff;\n}\nexport function getAllDayWeekEvents(dateAdapter, _a) {\n    var _b = _a.events, events = _b === void 0 ? [] : _b, _c = _a.excluded, excluded = _c === void 0 ? [] : _c, _d = _a.precision, precision = _d === void 0 ? 'days' : _d, _e = _a.absolutePositionedEvents, absolutePositionedEvents = _e === void 0 ? false : _e, viewStart = _a.viewStart, viewEnd = _a.viewEnd;\n    viewStart = dateAdapter.startOfDay(viewStart);\n    viewEnd = dateAdapter.endOfDay(viewEnd);\n    var differenceInSeconds = dateAdapter.differenceInSeconds, differenceInDays = dateAdapter.differenceInDays;\n    var maxRange = getDifferenceInDaysWithExclusions(dateAdapter, {\n        date1: viewStart,\n        date2: viewEnd,\n        excluded: excluded,\n    });\n    var totalDaysInView = differenceInDays(viewEnd, viewStart) + 1;\n    var eventsMapped = events\n        .filter(function (event) { return event.allDay; })\n        .map(function (event) {\n        var offset = getWeekViewEventOffset(dateAdapter, {\n            event: event,\n            startOfWeek: viewStart,\n            excluded: excluded,\n            precision: precision,\n        });\n        var span = getWeekViewEventSpan(dateAdapter, {\n            event: event,\n            offset: offset,\n            startOfWeekDate: viewStart,\n            excluded: excluded,\n            precision: precision,\n            totalDaysInView: totalDaysInView,\n        });\n        return { event: event, offset: offset, span: span };\n    })\n        .filter(function (e) { return e.offset < maxRange; })\n        .filter(function (e) { return e.span > 0; })\n        .map(function (entry) { return ({\n        event: entry.event,\n        offset: entry.offset,\n        span: entry.span,\n        startsBeforeWeek: entry.event.start < viewStart,\n        endsAfterWeek: (entry.event.end || entry.event.start) > viewEnd,\n    }); })\n        .sort(function (itemA, itemB) {\n        var startSecondsDiff = differenceInSeconds(itemA.event.start, itemB.event.start);\n        if (startSecondsDiff === 0) {\n            return differenceInSeconds(itemB.event.end || itemB.event.start, itemA.event.end || itemA.event.start);\n        }\n        return startSecondsDiff;\n    });\n    var allDayEventRows = [];\n    var allocatedEvents = [];\n    eventsMapped.forEach(function (event, index) {\n        if (allocatedEvents.indexOf(event) === -1) {\n            allocatedEvents.push(event);\n            var rowSpan_1 = event.span + event.offset;\n            var otherRowEvents = eventsMapped\n                .slice(index + 1)\n                .filter(function (nextEvent) {\n                if (nextEvent.offset >= rowSpan_1 &&\n                    rowSpan_1 + nextEvent.span <= totalDaysInView &&\n                    allocatedEvents.indexOf(nextEvent) === -1) {\n                    var nextEventOffset = nextEvent.offset - rowSpan_1;\n                    if (!absolutePositionedEvents) {\n                        nextEvent.offset = nextEventOffset;\n                    }\n                    rowSpan_1 += nextEvent.span + nextEventOffset;\n                    allocatedEvents.push(nextEvent);\n                    return true;\n                }\n            });\n            var weekEvents = __spreadArrays([event], otherRowEvents);\n            var id = weekEvents\n                .filter(function (weekEvent) { return weekEvent.event.id; })\n                .map(function (weekEvent) { return weekEvent.event.id; })\n                .join('-');\n            allDayEventRows.push(__assign({ row: weekEvents }, (id ? { id: id } : {})));\n        }\n    });\n    return allDayEventRows;\n}\nfunction getWeekViewHourGrid(dateAdapter, _a) {\n    var events = _a.events, viewDate = _a.viewDate, hourSegments = _a.hourSegments, hourDuration = _a.hourDuration, dayStart = _a.dayStart, dayEnd = _a.dayEnd, weekStartsOn = _a.weekStartsOn, excluded = _a.excluded, weekendDays = _a.weekendDays, segmentHeight = _a.segmentHeight, viewStart = _a.viewStart, viewEnd = _a.viewEnd, minimumEventHeight = _a.minimumEventHeight;\n    var dayViewHourGrid = getDayViewHourGrid(dateAdapter, {\n        viewDate: viewDate,\n        hourSegments: hourSegments,\n        hourDuration: hourDuration,\n        dayStart: dayStart,\n        dayEnd: dayEnd,\n    });\n    var weekDays = getWeekViewHeader(dateAdapter, {\n        viewDate: viewDate,\n        weekStartsOn: weekStartsOn,\n        excluded: excluded,\n        weekendDays: weekendDays,\n        viewStart: viewStart,\n        viewEnd: viewEnd,\n    });\n    var setHours = dateAdapter.setHours, setMinutes = dateAdapter.setMinutes, getHours = dateAdapter.getHours, getMinutes = dateAdapter.getMinutes;\n    return weekDays.map(function (day) {\n        var dayView = getDayView(dateAdapter, {\n            events: events,\n            viewDate: day.date,\n            hourSegments: hourSegments,\n            dayStart: dayStart,\n            dayEnd: dayEnd,\n            segmentHeight: segmentHeight,\n            eventWidth: 1,\n            hourDuration: hourDuration,\n            minimumEventHeight: minimumEventHeight,\n        });\n        var hours = dayViewHourGrid.map(function (hour) {\n            var segments = hour.segments.map(function (segment) {\n                var date = setMinutes(setHours(day.date, getHours(segment.date)), getMinutes(segment.date));\n                return __assign(__assign({}, segment), { date: date });\n            });\n            return __assign(__assign({}, hour), { segments: segments });\n        });\n        function getColumnCount(allEvents, prevOverlappingEvents) {\n            var columnCount = Math.max.apply(Math, prevOverlappingEvents.map(function (iEvent) { return iEvent.left + 1; }));\n            var nextOverlappingEvents = allEvents\n                .filter(function (iEvent) { return iEvent.left >= columnCount; })\n                .filter(function (iEvent) {\n                return (getOverLappingWeekViewEvents(prevOverlappingEvents, iEvent.top, iEvent.top + iEvent.height).length > 0);\n            });\n            if (nextOverlappingEvents.length > 0) {\n                return getColumnCount(allEvents, nextOverlappingEvents);\n            }\n            else {\n                return columnCount;\n            }\n        }\n        var mappedEvents = dayView.events.map(function (event) {\n            var columnCount = getColumnCount(dayView.events, getOverLappingWeekViewEvents(dayView.events, event.top, event.top + event.height));\n            var width = 100 / columnCount;\n            return __assign(__assign({}, event), { left: event.left * width, width: width });\n        });\n        return {\n            hours: hours,\n            date: day.date,\n            events: mappedEvents.map(function (event) {\n                var overLappingEvents = getOverLappingWeekViewEvents(mappedEvents.filter(function (otherEvent) { return otherEvent.left > event.left; }), event.top, event.top + event.height);\n                if (overLappingEvents.length > 0) {\n                    return __assign(__assign({}, event), { width: Math.min.apply(Math, overLappingEvents.map(function (otherEvent) { return otherEvent.left; })) - event.left });\n                }\n                return event;\n            }),\n        };\n    });\n}\nexport function getWeekView(dateAdapter, _a) {\n    var _b = _a.events, events = _b === void 0 ? [] : _b, viewDate = _a.viewDate, weekStartsOn = _a.weekStartsOn, _c = _a.excluded, excluded = _c === void 0 ? [] : _c, _d = _a.precision, precision = _d === void 0 ? 'days' : _d, _e = _a.absolutePositionedEvents, absolutePositionedEvents = _e === void 0 ? false : _e, hourSegments = _a.hourSegments, hourDuration = _a.hourDuration, dayStart = _a.dayStart, dayEnd = _a.dayEnd, weekendDays = _a.weekendDays, segmentHeight = _a.segmentHeight, minimumEventHeight = _a.minimumEventHeight, _f = _a.viewStart, viewStart = _f === void 0 ? dateAdapter.startOfWeek(viewDate, { weekStartsOn: weekStartsOn }) : _f, _g = _a.viewEnd, viewEnd = _g === void 0 ? dateAdapter.endOfWeek(viewDate, { weekStartsOn: weekStartsOn }) : _g;\n    if (!events) {\n        events = [];\n    }\n    var startOfDay = dateAdapter.startOfDay, endOfDay = dateAdapter.endOfDay;\n    viewStart = startOfDay(viewStart);\n    viewEnd = endOfDay(viewEnd);\n    var eventsInPeriod = getEventsInPeriod(dateAdapter, {\n        events: events,\n        periodStart: viewStart,\n        periodEnd: viewEnd,\n    });\n    var header = getWeekViewHeader(dateAdapter, {\n        viewDate: viewDate,\n        weekStartsOn: weekStartsOn,\n        excluded: excluded,\n        weekendDays: weekendDays,\n        viewStart: viewStart,\n        viewEnd: viewEnd,\n    });\n    return {\n        allDayEventRows: getAllDayWeekEvents(dateAdapter, {\n            events: eventsInPeriod,\n            excluded: excluded,\n            precision: precision,\n            absolutePositionedEvents: absolutePositionedEvents,\n            viewStart: viewStart,\n            viewEnd: viewEnd,\n        }),\n        period: {\n            events: eventsInPeriod,\n            start: header[0].date,\n            end: endOfDay(header[header.length - 1].date),\n        },\n        hourColumns: getWeekViewHourGrid(dateAdapter, {\n            events: events,\n            viewDate: viewDate,\n            hourSegments: hourSegments,\n            hourDuration: hourDuration,\n            dayStart: dayStart,\n            dayEnd: dayEnd,\n            weekStartsOn: weekStartsOn,\n            excluded: excluded,\n            weekendDays: weekendDays,\n            segmentHeight: segmentHeight,\n            viewStart: viewStart,\n            viewEnd: viewEnd,\n            minimumEventHeight: minimumEventHeight,\n        }),\n    };\n}\nexport function getMonthView(dateAdapter, _a) {\n    var _b = _a.events, events = _b === void 0 ? [] : _b, viewDate = _a.viewDate, weekStartsOn = _a.weekStartsOn, _c = _a.excluded, excluded = _c === void 0 ? [] : _c, _d = _a.viewStart, viewStart = _d === void 0 ? dateAdapter.startOfMonth(viewDate) : _d, _e = _a.viewEnd, viewEnd = _e === void 0 ? dateAdapter.endOfMonth(viewDate) : _e, weekendDays = _a.weekendDays;\n    if (!events) {\n        events = [];\n    }\n    var startOfWeek = dateAdapter.startOfWeek, endOfWeek = dateAdapter.endOfWeek, differenceInDays = dateAdapter.differenceInDays, startOfDay = dateAdapter.startOfDay, addHours = dateAdapter.addHours, endOfDay = dateAdapter.endOfDay, isSameMonth = dateAdapter.isSameMonth, getDay = dateAdapter.getDay, getMonth = dateAdapter.getMonth;\n    var start = startOfWeek(viewStart, { weekStartsOn: weekStartsOn });\n    var end = endOfWeek(viewEnd, { weekStartsOn: weekStartsOn });\n    var eventsInMonth = getEventsInPeriod(dateAdapter, {\n        events: events,\n        periodStart: start,\n        periodEnd: end,\n    });\n    var initialViewDays = [];\n    var previousDate;\n    var _loop_2 = function (i) {\n        // hacky fix for https://github.com/mattlewis92/angular-calendar/issues/173\n        var date;\n        if (previousDate) {\n            date = startOfDay(addHours(previousDate, HOURS_IN_DAY));\n            if (previousDate.getTime() === date.getTime()) {\n                // DST change, so need to add 25 hours\n                /* istanbul ignore next */\n                date = startOfDay(addHours(previousDate, HOURS_IN_DAY + 1));\n            }\n            previousDate = date;\n        }\n        else {\n            date = previousDate = start;\n        }\n        if (!excluded.some(function (e) { return getDay(date) === e; })) {\n            var day = getWeekDay(dateAdapter, {\n                date: date,\n                weekendDays: weekendDays,\n            });\n            var eventsInPeriod = getEventsInPeriod(dateAdapter, {\n                events: eventsInMonth,\n                periodStart: startOfDay(date),\n                periodEnd: endOfDay(date),\n            });\n            day.inMonth = isSameMonth(date, viewDate);\n            day.events = eventsInPeriod;\n            day.badgeTotal = eventsInPeriod.length;\n            initialViewDays.push(day);\n        }\n    };\n    for (var i = 0; i < differenceInDays(end, start) + 1; i++) {\n        _loop_2(i);\n    }\n    var days = [];\n    var totalDaysVisibleInWeek = DAYS_IN_WEEK - excluded.length;\n    if (totalDaysVisibleInWeek < DAYS_IN_WEEK) {\n        for (var i = 0; i < initialViewDays.length; i += totalDaysVisibleInWeek) {\n            var row = initialViewDays.slice(i, i + totalDaysVisibleInWeek);\n            var isRowInMonth = row.some(function (day) { return viewStart <= day.date && day.date < viewEnd; });\n            if (isRowInMonth) {\n                days = __spreadArrays(days, row);\n            }\n        }\n    }\n    else {\n        days = initialViewDays;\n    }\n    var rows = Math.floor(days.length / totalDaysVisibleInWeek);\n    var rowOffsets = [];\n    for (var i = 0; i < rows; i++) {\n        rowOffsets.push(i * totalDaysVisibleInWeek);\n    }\n    return {\n        rowOffsets: rowOffsets,\n        totalDaysVisibleInWeek: totalDaysVisibleInWeek,\n        days: days,\n        period: {\n            start: days[0].date,\n            end: endOfDay(days[days.length - 1].date),\n            events: eventsInMonth,\n        },\n    };\n}\nfunction getOverLappingWeekViewEvents(events, top, bottom) {\n    return events.filter(function (previousEvent) {\n        var previousEventTop = previousEvent.top;\n        var previousEventBottom = previousEvent.top + previousEvent.height;\n        if (top < previousEventBottom && previousEventBottom < bottom) {\n            return true;\n        }\n        else if (top < previousEventTop && previousEventTop < bottom) {\n            return true;\n        }\n        else if (previousEventTop <= top && bottom <= previousEventBottom) {\n            return true;\n        }\n        return false;\n    });\n}\nfunction getDayView(dateAdapter, _a) {\n    var events = _a.events, viewDate = _a.viewDate, hourSegments = _a.hourSegments, dayStart = _a.dayStart, dayEnd = _a.dayEnd, eventWidth = _a.eventWidth, segmentHeight = _a.segmentHeight, hourDuration = _a.hourDuration, minimumEventHeight = _a.minimumEventHeight;\n    var setMinutes = dateAdapter.setMinutes, setHours = dateAdapter.setHours, startOfDay = dateAdapter.startOfDay, startOfMinute = dateAdapter.startOfMinute, endOfDay = dateAdapter.endOfDay, differenceInMinutes = dateAdapter.differenceInMinutes;\n    var startOfView = setMinutes(setHours(startOfDay(viewDate), sanitiseHours(dayStart.hour)), sanitiseMinutes(dayStart.minute));\n    var endOfView = setMinutes(setHours(startOfMinute(endOfDay(viewDate)), sanitiseHours(dayEnd.hour)), sanitiseMinutes(dayEnd.minute));\n    endOfView.setSeconds(59, 999);\n    var previousDayEvents = [];\n    var eventsInPeriod = getEventsInPeriod(dateAdapter, {\n        events: events.filter(function (event) { return !event.allDay; }),\n        periodStart: startOfView,\n        periodEnd: endOfView,\n    });\n    var dayViewEvents = eventsInPeriod\n        .sort(function (eventA, eventB) {\n        return eventA.start.valueOf() - eventB.start.valueOf();\n    })\n        .map(function (event) {\n        var eventStart = event.start;\n        var eventEnd = event.end || eventStart;\n        var startsBeforeDay = eventStart < startOfView;\n        var endsAfterDay = eventEnd > endOfView;\n        var hourHeightModifier = (hourSegments * segmentHeight) / (hourDuration || MINUTES_IN_HOUR);\n        var top = 0;\n        if (eventStart > startOfView) {\n            // adjust the difference in minutes if the user's offset is different between the start of the day and the event (e.g. when going to or from DST)\n            var eventOffset = eventStart.getTimezoneOffset();\n            var startOffset = startOfView.getTimezoneOffset();\n            var diff = startOffset - eventOffset;\n            top += differenceInMinutes(eventStart, startOfView) + diff;\n        }\n        top *= hourHeightModifier;\n        top = Math.floor(top);\n        var startDate = startsBeforeDay ? startOfView : eventStart;\n        var endDate = endsAfterDay ? endOfView : eventEnd;\n        var timezoneOffset = startDate.getTimezoneOffset() - endDate.getTimezoneOffset();\n        var height = differenceInMinutes(endDate, startDate) + timezoneOffset;\n        if (!event.end) {\n            height = segmentHeight;\n        }\n        else {\n            height *= hourHeightModifier;\n        }\n        if (minimumEventHeight && height < minimumEventHeight) {\n            height = minimumEventHeight;\n        }\n        height = Math.floor(height);\n        var bottom = top + height;\n        var overlappingPreviousEvents = getOverLappingWeekViewEvents(previousDayEvents, top, bottom);\n        var left = 0;\n        while (overlappingPreviousEvents.some(function (previousEvent) { return previousEvent.left === left; })) {\n            left += eventWidth;\n        }\n        var dayEvent = {\n            event: event,\n            height: height,\n            width: eventWidth,\n            top: top,\n            left: left,\n            startsBeforeDay: startsBeforeDay,\n            endsAfterDay: endsAfterDay,\n        };\n        previousDayEvents.push(dayEvent);\n        return dayEvent;\n    });\n    var width = Math.max.apply(Math, dayViewEvents.map(function (event) { return event.left + event.width; }));\n    var allDayEvents = getEventsInPeriod(dateAdapter, {\n        events: events.filter(function (event) { return event.allDay; }),\n        periodStart: startOfDay(startOfView),\n        periodEnd: endOfDay(endOfView),\n    });\n    return {\n        events: dayViewEvents,\n        width: width,\n        allDayEvents: allDayEvents,\n        period: {\n            events: eventsInPeriod,\n            start: startOfView,\n            end: endOfView,\n        },\n    };\n}\nfunction sanitiseHours(hours) {\n    return Math.max(Math.min(23, hours), 0);\n}\nfunction sanitiseMinutes(minutes) {\n    return Math.max(Math.min(59, minutes), 0);\n}\nfunction getDayViewHourGrid(dateAdapter, _a) {\n    var viewDate = _a.viewDate, hourSegments = _a.hourSegments, hourDuration = _a.hourDuration, dayStart = _a.dayStart, dayEnd = _a.dayEnd;\n    var setMinutes = dateAdapter.setMinutes, setHours = dateAdapter.setHours, startOfDay = dateAdapter.startOfDay, startOfMinute = dateAdapter.startOfMinute, endOfDay = dateAdapter.endOfDay, addMinutes = dateAdapter.addMinutes, addHours = dateAdapter.addHours, addDays = dateAdapter.addDays;\n    var hours = [];\n    var startOfView = setMinutes(setHours(startOfDay(viewDate), sanitiseHours(dayStart.hour)), sanitiseMinutes(dayStart.minute));\n    var endOfView = setMinutes(setHours(startOfMinute(endOfDay(viewDate)), sanitiseHours(dayEnd.hour)), sanitiseMinutes(dayEnd.minute));\n    var segmentDuration = (hourDuration || MINUTES_IN_HOUR) / hourSegments;\n    var startOfViewDay = startOfDay(viewDate);\n    var endOfViewDay = endOfDay(viewDate);\n    var dateAdjustment = function (d) { return d; };\n    // this means that we change from or to DST on this day and that's going to cause problems so we bump the date\n    if (startOfViewDay.getTimezoneOffset() !== endOfViewDay.getTimezoneOffset()) {\n        startOfViewDay = addDays(startOfViewDay, 1);\n        startOfView = addDays(startOfView, 1);\n        endOfView = addDays(endOfView, 1);\n        dateAdjustment = function (d) { return addDays(d, -1); };\n    }\n    var dayDuration = hourDuration\n        ? (HOURS_IN_DAY * 60) / hourDuration\n        : MINUTES_IN_HOUR;\n    for (var i = 0; i < dayDuration; i++) {\n        var segments = [];\n        for (var j = 0; j < hourSegments; j++) {\n            var date = addMinutes(addMinutes(startOfView, i * (hourDuration || MINUTES_IN_HOUR)), j * segmentDuration);\n            if (date >= startOfView && date < endOfView) {\n                segments.push({\n                    date: dateAdjustment(date),\n                    displayDate: date,\n                    isStart: j === 0,\n                });\n            }\n        }\n        if (segments.length > 0) {\n            hours.push({ segments: segments });\n        }\n    }\n    return hours;\n}\nexport var EventValidationErrorMessage;\n(function (EventValidationErrorMessage) {\n    EventValidationErrorMessage[\"NotArray\"] = \"Events must be an array\";\n    EventValidationErrorMessage[\"StartPropertyMissing\"] = \"Event is missing the `start` property\";\n    EventValidationErrorMessage[\"StartPropertyNotDate\"] = \"Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.\";\n    EventValidationErrorMessage[\"EndPropertyNotDate\"] = \"Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.\";\n    EventValidationErrorMessage[\"EndsBeforeStart\"] = \"Event `start` property occurs after the `end`\";\n})(EventValidationErrorMessage || (EventValidationErrorMessage = {}));\nexport function validateEvents(events, log) {\n    var isValid = true;\n    function isError(msg, event) {\n        log(msg, event);\n        isValid = false;\n    }\n    if (!Array.isArray(events)) {\n        log(EventValidationErrorMessage.NotArray, events);\n        return false;\n    }\n    events.forEach(function (event) {\n        if (!event.start) {\n            isError(EventValidationErrorMessage.StartPropertyMissing, event);\n        }\n        else if (!(event.start instanceof Date)) {\n            isError(EventValidationErrorMessage.StartPropertyNotDate, event);\n        }\n        if (event.end) {\n            if (!(event.end instanceof Date)) {\n                isError(EventValidationErrorMessage.EndPropertyNotDate, event);\n            }\n            if (event.start > event.end) {\n                isError(EventValidationErrorMessage.EndsBeforeStart, event);\n            }\n        }\n    });\n    return isValid;\n}\n//# sourceMappingURL=calendar-utils.js.map","import { isPlatformBrowser } from '@angular/common';\nimport { Directive, Renderer2, ElementRef, Output, Input, EventEmitter, NgZone, Inject, PLATFORM_ID, Optional, NgModule } from '@angular/core';\nimport { Subject, Observable, merge, EMPTY, fromEvent } from 'rxjs';\nimport { map, mergeMap, takeUntil, filter, pairwise, take, share, auditTime, switchMap, startWith, tap } from 'rxjs/operators';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @hidden\n * @type {?}\n */\nconst IS_TOUCH_DEVICE = (() => {\n    // In case we're in Node.js environment.\n    if (typeof window === 'undefined') {\n        return false;\n    }\n    else {\n        return ('ontouchstart' in window ||\n            navigator.maxTouchPoints > 0 ||\n            navigator.msMaxTouchPoints > 0);\n    }\n})();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} value1\n * @param {?} value2\n * @param {?=} precision\n * @return {?}\n */\nfunction isNumberCloseTo(value1, value2, precision = 3) {\n    /** @type {?} */\n    const diff = Math.abs(value1 - value2);\n    return diff < precision;\n}\n/**\n * @param {?} startingRect\n * @param {?} edges\n * @param {?} clientX\n * @param {?} clientY\n * @return {?}\n */\nfunction getNewBoundingRectangle(startingRect, edges, clientX, clientY) {\n    /** @type {?} */\n    const newBoundingRect = {\n        top: startingRect.top,\n        bottom: startingRect.bottom,\n        left: startingRect.left,\n        right: startingRect.right\n    };\n    if (edges.top) {\n        newBoundingRect.top += clientY;\n    }\n    if (edges.bottom) {\n        newBoundingRect.bottom += clientY;\n    }\n    if (edges.left) {\n        newBoundingRect.left += clientX;\n    }\n    if (edges.right) {\n        newBoundingRect.right += clientX;\n    }\n    newBoundingRect.height = newBoundingRect.bottom - newBoundingRect.top;\n    newBoundingRect.width = newBoundingRect.right - newBoundingRect.left;\n    return newBoundingRect;\n}\n/**\n * @param {?} element\n * @param {?} ghostElementPositioning\n * @return {?}\n */\nfunction getElementRect(element, ghostElementPositioning) {\n    /** @type {?} */\n    let translateX = 0;\n    /** @type {?} */\n    let translateY = 0;\n    /** @type {?} */\n    const style = element.nativeElement.style;\n    /** @type {?} */\n    const transformProperties = [\n        'transform',\n        '-ms-transform',\n        '-moz-transform',\n        '-o-transform'\n    ];\n    /** @type {?} */\n    const transform = transformProperties\n        .map(property => style[property])\n        .find(value => !!value);\n    if (transform && transform.includes('translate')) {\n        translateX = transform.replace(/.*translate3?d?\\((-?[0-9]*)px, (-?[0-9]*)px.*/, '$1');\n        translateY = transform.replace(/.*translate3?d?\\((-?[0-9]*)px, (-?[0-9]*)px.*/, '$2');\n    }\n    if (ghostElementPositioning === 'absolute') {\n        return {\n            height: element.nativeElement.offsetHeight,\n            width: element.nativeElement.offsetWidth,\n            top: element.nativeElement.offsetTop - translateY,\n            bottom: element.nativeElement.offsetHeight +\n                element.nativeElement.offsetTop -\n                translateY,\n            left: element.nativeElement.offsetLeft - translateX,\n            right: element.nativeElement.offsetWidth +\n                element.nativeElement.offsetLeft -\n                translateX\n        };\n    }\n    else {\n        /** @type {?} */\n        const boundingRect = element.nativeElement.getBoundingClientRect();\n        return {\n            height: boundingRect.height,\n            width: boundingRect.width,\n            top: boundingRect.top - translateY,\n            bottom: boundingRect.bottom - translateY,\n            left: boundingRect.left - translateX,\n            right: boundingRect.right - translateX,\n            scrollTop: element.nativeElement.scrollTop,\n            scrollLeft: element.nativeElement.scrollLeft\n        };\n    }\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction isWithinBoundingY({ clientY, rect }) {\n    return clientY >= rect.top && clientY <= rect.bottom;\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction isWithinBoundingX({ clientX, rect }) {\n    return clientX >= rect.left && clientX <= rect.right;\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction getResizeEdges({ clientX, clientY, elm, allowedEdges, cursorPrecision }) {\n    /** @type {?} */\n    const elmPosition = elm.nativeElement.getBoundingClientRect();\n    /** @type {?} */\n    const edges = {};\n    if (allowedEdges.left &&\n        isNumberCloseTo(clientX, elmPosition.left, cursorPrecision) &&\n        isWithinBoundingY({ clientY, rect: elmPosition })) {\n        edges.left = true;\n    }\n    if (allowedEdges.right &&\n        isNumberCloseTo(clientX, elmPosition.right, cursorPrecision) &&\n        isWithinBoundingY({ clientY, rect: elmPosition })) {\n        edges.right = true;\n    }\n    if (allowedEdges.top &&\n        isNumberCloseTo(clientY, elmPosition.top, cursorPrecision) &&\n        isWithinBoundingX({ clientX, rect: elmPosition })) {\n        edges.top = true;\n    }\n    if (allowedEdges.bottom &&\n        isNumberCloseTo(clientY, elmPosition.bottom, cursorPrecision) &&\n        isWithinBoundingX({ clientX, rect: elmPosition })) {\n        edges.bottom = true;\n    }\n    return edges;\n}\n/** @type {?} */\nconst DEFAULT_RESIZE_CURSORS = Object.freeze({\n    topLeft: 'nw-resize',\n    topRight: 'ne-resize',\n    bottomLeft: 'sw-resize',\n    bottomRight: 'se-resize',\n    leftOrRight: 'col-resize',\n    topOrBottom: 'row-resize'\n});\n/**\n * @param {?} edges\n * @param {?} cursors\n * @return {?}\n */\nfunction getResizeCursor(edges, cursors) {\n    if (edges.left && edges.top) {\n        return cursors.topLeft;\n    }\n    else if (edges.right && edges.top) {\n        return cursors.topRight;\n    }\n    else if (edges.left && edges.bottom) {\n        return cursors.bottomLeft;\n    }\n    else if (edges.right && edges.bottom) {\n        return cursors.bottomRight;\n    }\n    else if (edges.left || edges.right) {\n        return cursors.leftOrRight;\n    }\n    else if (edges.top || edges.bottom) {\n        return cursors.topOrBottom;\n    }\n    else {\n        return '';\n    }\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction getEdgesDiff({ edges, initialRectangle, newRectangle }) {\n    /** @type {?} */\n    const edgesDiff = {};\n    Object.keys(edges).forEach(edge => {\n        edgesDiff[edge] = (newRectangle[edge] || 0) - (initialRectangle[edge] || 0);\n    });\n    return edgesDiff;\n}\n/** @type {?} */\nconst RESIZE_ACTIVE_CLASS = 'resize-active';\n/** @type {?} */\nconst RESIZE_LEFT_HOVER_CLASS = 'resize-left-hover';\n/** @type {?} */\nconst RESIZE_RIGHT_HOVER_CLASS = 'resize-right-hover';\n/** @type {?} */\nconst RESIZE_TOP_HOVER_CLASS = 'resize-top-hover';\n/** @type {?} */\nconst RESIZE_BOTTOM_HOVER_CLASS = 'resize-bottom-hover';\n/** @type {?} */\nconst RESIZE_GHOST_ELEMENT_CLASS = 'resize-ghost-element';\n/** @type {?} */\nconst MOUSE_MOVE_THROTTLE_MS = 50;\n/**\n * Place this on an element to make it resizable. For example:\n *\n * ```html\n * <div\n *   mwlResizable\n *   [resizeEdges]=\"{bottom: true, right: true, top: true, left: true}\"\n *   [enableGhostResize]=\"true\">\n * </div>\n * ```\n * Or in case they are sibling elements:\n * ```html\n * <div mwlResizable #resizableElement=\"mwlResizable\"></div>\n * <div mwlResizeHandle [resizableContainer]=\"resizableElement\" [resizeEdges]=\"{bottom: true, right: true}\"></div>\n * ```\n */\nclass ResizableDirective {\n    /**\n     * @hidden\n     * @param {?} platformId\n     * @param {?} renderer\n     * @param {?} elm\n     * @param {?} zone\n     */\n    constructor(platformId, renderer, elm, zone) {\n        this.platformId = platformId;\n        this.renderer = renderer;\n        this.elm = elm;\n        this.zone = zone;\n        /**\n         * The edges that an element can be resized from. Pass an object like `{top: true, bottom: false}`. By default no edges can be resized.\n         * @deprecated use a resize handle instead that positions itself to the side of the element you would like to resize\n         */\n        this.resizeEdges = {};\n        /**\n         * Set to `true` to enable a temporary resizing effect of the element in between the `resizeStart` and `resizeEnd` events.\n         */\n        this.enableGhostResize = false;\n        /**\n         * A snap grid that resize events will be locked to.\n         *\n         * e.g. to only allow the element to be resized every 10px set it to `{left: 10, right: 10}`\n         */\n        this.resizeSnapGrid = {};\n        /**\n         * The mouse cursors that will be set on the resize edges\n         */\n        this.resizeCursors = DEFAULT_RESIZE_CURSORS;\n        /**\n         * Mouse over thickness to active cursor.\n         * @deprecated invalid when you migrate to use resize handles instead of setting resizeEdges on the element\n         */\n        this.resizeCursorPrecision = 3;\n        /**\n         * Define the positioning of the ghost element (can be fixed or absolute)\n         */\n        this.ghostElementPositioning = 'fixed';\n        /**\n         * Allow elements to be resized to negative dimensions\n         */\n        this.allowNegativeResizes = false;\n        /**\n         * The mouse move throttle in milliseconds, default: 50 ms\n         */\n        this.mouseMoveThrottleMS = MOUSE_MOVE_THROTTLE_MS;\n        /**\n         * Called when the mouse is pressed and a resize event is about to begin. `$event` is a `ResizeEvent` object.\n         */\n        this.resizeStart = new EventEmitter();\n        /**\n         * Called as the mouse is dragged after a resize event has begun. `$event` is a `ResizeEvent` object.\n         */\n        this.resizing = new EventEmitter();\n        /**\n         * Called after the mouse is released after a resize event. `$event` is a `ResizeEvent` object.\n         */\n        this.resizeEnd = new EventEmitter();\n        /**\n         * @hidden\n         */\n        this.mouseup = new Subject();\n        /**\n         * @hidden\n         */\n        this.mousedown = new Subject();\n        /**\n         * @hidden\n         */\n        this.mousemove = new Subject();\n        this.destroy$ = new Subject();\n        this.resizeEdges$ = new Subject();\n        this.pointerEventListeners = PointerEventListeners.getInstance(renderer, zone);\n    }\n    /**\n     * @hidden\n     * @return {?}\n     */\n    ngOnInit() {\n        /** @type {?} */\n        const mousedown$ = merge(this.pointerEventListeners.pointerDown, this.mousedown);\n        /** @type {?} */\n        const mousemove$ = merge(this.pointerEventListeners.pointerMove, this.mousemove).pipe(tap(({ event }) => {\n            if (currentResize) {\n                try {\n                    event.preventDefault();\n                }\n                catch (e) {\n                    // just adding try-catch not to see errors in console if there is a passive listener for same event somewhere\n                    // browser does nothing except of writing errors to console\n                }\n            }\n        }), share());\n        /** @type {?} */\n        const mouseup$ = merge(this.pointerEventListeners.pointerUp, this.mouseup);\n        /** @type {?} */\n        let currentResize;\n        /** @type {?} */\n        const removeGhostElement = () => {\n            if (currentResize && currentResize.clonedNode) {\n                this.elm.nativeElement.parentElement.removeChild(currentResize.clonedNode);\n                this.renderer.setStyle(this.elm.nativeElement, 'visibility', 'inherit');\n            }\n        };\n        /** @type {?} */\n        const getResizeCursors = () => {\n            return Object.assign({}, DEFAULT_RESIZE_CURSORS, this.resizeCursors);\n        };\n        this.resizeEdges$\n            .pipe(startWith(this.resizeEdges), map(() => {\n            return (this.resizeEdges &&\n                Object.keys(this.resizeEdges).some(edge => !!this.resizeEdges[edge]));\n        }), switchMap(legacyResizeEdgesEnabled => legacyResizeEdgesEnabled ? mousemove$ : EMPTY), auditTime(this.mouseMoveThrottleMS), takeUntil(this.destroy$))\n            .subscribe(({ clientX, clientY }) => {\n            /** @type {?} */\n            const resizeEdges = getResizeEdges({\n                clientX,\n                clientY,\n                elm: this.elm,\n                allowedEdges: this.resizeEdges,\n                cursorPrecision: this.resizeCursorPrecision\n            });\n            /** @type {?} */\n            const resizeCursors = getResizeCursors();\n            if (!currentResize) {\n                /** @type {?} */\n                const cursor = getResizeCursor(resizeEdges, resizeCursors);\n                this.renderer.setStyle(this.elm.nativeElement, 'cursor', cursor);\n            }\n            this.setElementClass(this.elm, RESIZE_LEFT_HOVER_CLASS, resizeEdges.left === true);\n            this.setElementClass(this.elm, RESIZE_RIGHT_HOVER_CLASS, resizeEdges.right === true);\n            this.setElementClass(this.elm, RESIZE_TOP_HOVER_CLASS, resizeEdges.top === true);\n            this.setElementClass(this.elm, RESIZE_BOTTOM_HOVER_CLASS, resizeEdges.bottom === true);\n        });\n        /** @type {?} */\n        const mousedrag = mousedown$\n            .pipe(mergeMap(startCoords => {\n            /**\n             * @param {?} moveCoords\n             * @return {?}\n             */\n            function getDiff(moveCoords) {\n                return {\n                    clientX: moveCoords.clientX - startCoords.clientX,\n                    clientY: moveCoords.clientY - startCoords.clientY\n                };\n            }\n            /** @type {?} */\n            const getSnapGrid = () => {\n                /** @type {?} */\n                const snapGrid = { x: 1, y: 1 };\n                if (currentResize) {\n                    if (this.resizeSnapGrid.left && currentResize.edges.left) {\n                        snapGrid.x = +this.resizeSnapGrid.left;\n                    }\n                    else if (this.resizeSnapGrid.right &&\n                        currentResize.edges.right) {\n                        snapGrid.x = +this.resizeSnapGrid.right;\n                    }\n                    if (this.resizeSnapGrid.top && currentResize.edges.top) {\n                        snapGrid.y = +this.resizeSnapGrid.top;\n                    }\n                    else if (this.resizeSnapGrid.bottom &&\n                        currentResize.edges.bottom) {\n                        snapGrid.y = +this.resizeSnapGrid.bottom;\n                    }\n                }\n                return snapGrid;\n            };\n            /**\n             * @param {?} coords\n             * @param {?} snapGrid\n             * @return {?}\n             */\n            function getGrid(coords, snapGrid) {\n                return {\n                    x: Math.ceil(coords.clientX / snapGrid.x),\n                    y: Math.ceil(coords.clientY / snapGrid.y)\n                };\n            }\n            return ((/** @type {?} */ (merge(mousemove$.pipe(take(1)).pipe(map(coords => [, coords])), mousemove$.pipe(pairwise())))))\n                .pipe(map(([previousCoords, newCoords]) => {\n                return [\n                    previousCoords ? getDiff(previousCoords) : previousCoords,\n                    getDiff(newCoords)\n                ];\n            }))\n                .pipe(filter(([previousCoords, newCoords]) => {\n                if (!previousCoords) {\n                    return true;\n                }\n                /** @type {?} */\n                const snapGrid = getSnapGrid();\n                /** @type {?} */\n                const previousGrid = getGrid(previousCoords, snapGrid);\n                /** @type {?} */\n                const newGrid = getGrid(newCoords, snapGrid);\n                return (previousGrid.x !== newGrid.x || previousGrid.y !== newGrid.y);\n            }))\n                .pipe(map(([, newCoords]) => {\n                /** @type {?} */\n                const snapGrid = getSnapGrid();\n                return {\n                    clientX: Math.round(newCoords.clientX / snapGrid.x) * snapGrid.x,\n                    clientY: Math.round(newCoords.clientY / snapGrid.y) * snapGrid.y\n                };\n            }))\n                .pipe(takeUntil(merge(mouseup$, mousedown$)));\n        }))\n            .pipe(filter(() => !!currentResize));\n        mousedrag\n            .pipe(map(({ clientX, clientY }) => {\n            return getNewBoundingRectangle((/** @type {?} */ (currentResize)).startingRect, (/** @type {?} */ (currentResize)).edges, clientX, clientY);\n        }))\n            .pipe(filter((newBoundingRect) => {\n            return (this.allowNegativeResizes ||\n                !!(newBoundingRect.height &&\n                    newBoundingRect.width &&\n                    newBoundingRect.height > 0 &&\n                    newBoundingRect.width > 0));\n        }))\n            .pipe(filter((newBoundingRect) => {\n            return this.validateResize\n                ? this.validateResize({\n                    rectangle: newBoundingRect,\n                    edges: getEdgesDiff({\n                        edges: (/** @type {?} */ (currentResize)).edges,\n                        initialRectangle: (/** @type {?} */ (currentResize)).startingRect,\n                        newRectangle: newBoundingRect\n                    })\n                })\n                : true;\n        }), takeUntil(this.destroy$))\n            .subscribe((newBoundingRect) => {\n            if (currentResize && currentResize.clonedNode) {\n                this.renderer.setStyle(currentResize.clonedNode, 'height', `${newBoundingRect.height}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'width', `${newBoundingRect.width}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'top', `${newBoundingRect.top}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'left', `${newBoundingRect.left}px`);\n            }\n            if (this.resizing.observers.length > 0) {\n                this.zone.run(() => {\n                    this.resizing.emit({\n                        edges: getEdgesDiff({\n                            edges: (/** @type {?} */ (currentResize)).edges,\n                            initialRectangle: (/** @type {?} */ (currentResize)).startingRect,\n                            newRectangle: newBoundingRect\n                        }),\n                        rectangle: newBoundingRect\n                    });\n                });\n            }\n            (/** @type {?} */ (currentResize)).currentRect = newBoundingRect;\n        });\n        mousedown$\n            .pipe(map(({ clientX, clientY, edges }) => {\n            return (edges ||\n                getResizeEdges({\n                    clientX,\n                    clientY,\n                    elm: this.elm,\n                    allowedEdges: this.resizeEdges,\n                    cursorPrecision: this.resizeCursorPrecision\n                }));\n        }))\n            .pipe(filter((edges) => {\n            return Object.keys(edges).length > 0;\n        }), takeUntil(this.destroy$))\n            .subscribe((edges) => {\n            if (currentResize) {\n                removeGhostElement();\n            }\n            /** @type {?} */\n            const startingRect = getElementRect(this.elm, this.ghostElementPositioning);\n            currentResize = {\n                edges,\n                startingRect,\n                currentRect: startingRect\n            };\n            /** @type {?} */\n            const resizeCursors = getResizeCursors();\n            /** @type {?} */\n            const cursor = getResizeCursor(currentResize.edges, resizeCursors);\n            this.renderer.setStyle(document.body, 'cursor', cursor);\n            this.setElementClass(this.elm, RESIZE_ACTIVE_CLASS, true);\n            if (this.enableGhostResize) {\n                currentResize.clonedNode = this.elm.nativeElement.cloneNode(true);\n                this.elm.nativeElement.parentElement.appendChild(currentResize.clonedNode);\n                this.renderer.setStyle(this.elm.nativeElement, 'visibility', 'hidden');\n                this.renderer.setStyle(currentResize.clonedNode, 'position', this.ghostElementPositioning);\n                this.renderer.setStyle(currentResize.clonedNode, 'left', `${currentResize.startingRect.left}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'top', `${currentResize.startingRect.top}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'height', `${currentResize.startingRect.height}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'width', `${currentResize.startingRect.width}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'cursor', getResizeCursor(currentResize.edges, resizeCursors));\n                this.renderer.addClass(currentResize.clonedNode, RESIZE_GHOST_ELEMENT_CLASS);\n                (/** @type {?} */ (currentResize.clonedNode)).scrollTop = (/** @type {?} */ (currentResize.startingRect\n                    .scrollTop));\n                (/** @type {?} */ (currentResize.clonedNode)).scrollLeft = (/** @type {?} */ (currentResize.startingRect\n                    .scrollLeft));\n            }\n            if (this.resizeStart.observers.length > 0) {\n                this.zone.run(() => {\n                    this.resizeStart.emit({\n                        edges: getEdgesDiff({\n                            edges,\n                            initialRectangle: startingRect,\n                            newRectangle: startingRect\n                        }),\n                        rectangle: getNewBoundingRectangle(startingRect, {}, 0, 0)\n                    });\n                });\n            }\n        });\n        mouseup$.pipe(takeUntil(this.destroy$)).subscribe(() => {\n            if (currentResize) {\n                this.renderer.removeClass(this.elm.nativeElement, RESIZE_ACTIVE_CLASS);\n                this.renderer.setStyle(document.body, 'cursor', '');\n                this.renderer.setStyle(this.elm.nativeElement, 'cursor', '');\n                if (this.resizeEnd.observers.length > 0) {\n                    this.zone.run(() => {\n                        this.resizeEnd.emit({\n                            edges: getEdgesDiff({\n                                edges: (/** @type {?} */ (currentResize)).edges,\n                                initialRectangle: (/** @type {?} */ (currentResize)).startingRect,\n                                newRectangle: (/** @type {?} */ (currentResize)).currentRect\n                            }),\n                            rectangle: (/** @type {?} */ (currentResize)).currentRect\n                        });\n                    });\n                }\n                removeGhostElement();\n                currentResize = null;\n            }\n        });\n    }\n    /**\n     * @hidden\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (changes.resizeEdges) {\n            this.resizeEdges$.next(this.resizeEdges);\n        }\n    }\n    /**\n     * @hidden\n     * @return {?}\n     */\n    ngOnDestroy() {\n        // browser check for angular universal, because it doesn't know what document is\n        if (isPlatformBrowser(this.platformId)) {\n            this.renderer.setStyle(document.body, 'cursor', '');\n        }\n        this.mousedown.complete();\n        this.mouseup.complete();\n        this.mousemove.complete();\n        this.resizeEdges$.complete();\n        this.destroy$.next();\n    }\n    /**\n     * @private\n     * @param {?} elm\n     * @param {?} name\n     * @param {?} add\n     * @return {?}\n     */\n    setElementClass(elm, name, add) {\n        if (add) {\n            this.renderer.addClass(elm.nativeElement, name);\n        }\n        else {\n            this.renderer.removeClass(elm.nativeElement, name);\n        }\n    }\n}\nResizableDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlResizable]',\n                exportAs: 'mwlResizable'\n            },] }\n];\n/** @nocollapse */\nResizableDirective.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: Renderer2 },\n    { type: ElementRef },\n    { type: NgZone }\n];\nResizableDirective.propDecorators = {\n    validateResize: [{ type: Input }],\n    resizeEdges: [{ type: Input }],\n    enableGhostResize: [{ type: Input }],\n    resizeSnapGrid: [{ type: Input }],\n    resizeCursors: [{ type: Input }],\n    resizeCursorPrecision: [{ type: Input }],\n    ghostElementPositioning: [{ type: Input }],\n    allowNegativeResizes: [{ type: Input }],\n    mouseMoveThrottleMS: [{ type: Input }],\n    resizeStart: [{ type: Output }],\n    resizing: [{ type: Output }],\n    resizeEnd: [{ type: Output }]\n};\nclass PointerEventListeners {\n    // tslint:disable-line\n    /**\n     * @param {?} renderer\n     * @param {?} zone\n     * @return {?}\n     */\n    static getInstance(renderer, zone) {\n        if (!PointerEventListeners.instance) {\n            PointerEventListeners.instance = new PointerEventListeners(renderer, zone);\n        }\n        return PointerEventListeners.instance;\n    }\n    /**\n     * @param {?} renderer\n     * @param {?} zone\n     */\n    constructor(renderer, zone) {\n        this.pointerDown = new Observable((observer) => {\n            /** @type {?} */\n            let unsubscribeMouseDown;\n            /** @type {?} */\n            let unsubscribeTouchStart;\n            zone.runOutsideAngular(() => {\n                unsubscribeMouseDown = renderer.listen('document', 'mousedown', (event) => {\n                    observer.next({\n                        clientX: event.clientX,\n                        clientY: event.clientY,\n                        event\n                    });\n                });\n                if (IS_TOUCH_DEVICE) {\n                    unsubscribeTouchStart = renderer.listen('document', 'touchstart', (event) => {\n                        observer.next({\n                            clientX: event.touches[0].clientX,\n                            clientY: event.touches[0].clientY,\n                            event\n                        });\n                    });\n                }\n            });\n            return () => {\n                unsubscribeMouseDown();\n                if (IS_TOUCH_DEVICE) {\n                    (/** @type {?} */ (unsubscribeTouchStart))();\n                }\n            };\n        }).pipe(share());\n        this.pointerMove = new Observable((observer) => {\n            /** @type {?} */\n            let unsubscribeMouseMove;\n            /** @type {?} */\n            let unsubscribeTouchMove;\n            zone.runOutsideAngular(() => {\n                unsubscribeMouseMove = renderer.listen('document', 'mousemove', (event) => {\n                    observer.next({\n                        clientX: event.clientX,\n                        clientY: event.clientY,\n                        event\n                    });\n                });\n                if (IS_TOUCH_DEVICE) {\n                    unsubscribeTouchMove = renderer.listen('document', 'touchmove', (event) => {\n                        observer.next({\n                            clientX: event.targetTouches[0].clientX,\n                            clientY: event.targetTouches[0].clientY,\n                            event\n                        });\n                    });\n                }\n            });\n            return () => {\n                unsubscribeMouseMove();\n                if (IS_TOUCH_DEVICE) {\n                    (/** @type {?} */ (unsubscribeTouchMove))();\n                }\n            };\n        }).pipe(share());\n        this.pointerUp = new Observable((observer) => {\n            /** @type {?} */\n            let unsubscribeMouseUp;\n            /** @type {?} */\n            let unsubscribeTouchEnd;\n            /** @type {?} */\n            let unsubscribeTouchCancel;\n            zone.runOutsideAngular(() => {\n                unsubscribeMouseUp = renderer.listen('document', 'mouseup', (event) => {\n                    observer.next({\n                        clientX: event.clientX,\n                        clientY: event.clientY,\n                        event\n                    });\n                });\n                if (IS_TOUCH_DEVICE) {\n                    unsubscribeTouchEnd = renderer.listen('document', 'touchend', (event) => {\n                        observer.next({\n                            clientX: event.changedTouches[0].clientX,\n                            clientY: event.changedTouches[0].clientY,\n                            event\n                        });\n                    });\n                    unsubscribeTouchCancel = renderer.listen('document', 'touchcancel', (event) => {\n                        observer.next({\n                            clientX: event.changedTouches[0].clientX,\n                            clientY: event.changedTouches[0].clientY,\n                            event\n                        });\n                    });\n                }\n            });\n            return () => {\n                unsubscribeMouseUp();\n                if (IS_TOUCH_DEVICE) {\n                    (/** @type {?} */ (unsubscribeTouchEnd))();\n                    (/** @type {?} */ (unsubscribeTouchCancel))();\n                }\n            };\n        }).pipe(share());\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * An element placed inside a `mwlResizable` directive to be used as a drag and resize handle\n *\n * For example\n *\n * ```html\n * <div mwlResizable>\n *   <div mwlResizeHandle [resizeEdges]=\"{bottom: true, right: true}\"></div>\n * </div>\n * ```\n * Or in case they are sibling elements:\n * ```html\n * <div mwlResizable #resizableElement=\"mwlResizable\"></div>\n * <div mwlResizeHandle [resizableContainer]=\"resizableElement\" [resizeEdges]=\"{bottom: true, right: true}\"></div>\n * ```\n */\nclass ResizeHandleDirective {\n    /**\n     * @param {?} renderer\n     * @param {?} element\n     * @param {?} zone\n     * @param {?} resizableDirective\n     */\n    constructor(renderer, element, zone, resizableDirective) {\n        this.renderer = renderer;\n        this.element = element;\n        this.zone = zone;\n        this.resizableDirective = resizableDirective;\n        /**\n         * The `Edges` object that contains the edges of the parent element that dragging the handle will trigger a resize on\n         */\n        this.resizeEdges = {};\n        this.eventListeners = {};\n        this.destroy$ = new Subject();\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.zone.runOutsideAngular(() => {\n            this.listenOnTheHost('mousedown').subscribe(event => {\n                this.onMousedown(event, event.clientX, event.clientY);\n            });\n            this.listenOnTheHost('mouseup').subscribe(event => {\n                this.onMouseup(event.clientX, event.clientY);\n            });\n            if (IS_TOUCH_DEVICE) {\n                this.listenOnTheHost('touchstart').subscribe(event => {\n                    this.onMousedown(event, event.touches[0].clientX, event.touches[0].clientY);\n                });\n                merge(this.listenOnTheHost('touchend'), this.listenOnTheHost('touchcancel')).subscribe(event => {\n                    this.onMouseup(event.changedTouches[0].clientX, event.changedTouches[0].clientY);\n                });\n            }\n        });\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.destroy$.next();\n        this.unsubscribeEventListeners();\n    }\n    /**\n     * @hidden\n     * @param {?} event\n     * @param {?} clientX\n     * @param {?} clientY\n     * @return {?}\n     */\n    onMousedown(event, clientX, clientY) {\n        event.preventDefault();\n        if (!this.eventListeners.touchmove) {\n            this.eventListeners.touchmove = this.renderer.listen(this.element.nativeElement, 'touchmove', (touchMoveEvent) => {\n                this.onMousemove(touchMoveEvent, touchMoveEvent.targetTouches[0].clientX, touchMoveEvent.targetTouches[0].clientY);\n            });\n        }\n        if (!this.eventListeners.mousemove) {\n            this.eventListeners.mousemove = this.renderer.listen(this.element.nativeElement, 'mousemove', (mouseMoveEvent) => {\n                this.onMousemove(mouseMoveEvent, mouseMoveEvent.clientX, mouseMoveEvent.clientY);\n            });\n        }\n        this.resizable.mousedown.next({\n            clientX,\n            clientY,\n            edges: this.resizeEdges\n        });\n    }\n    /**\n     * @hidden\n     * @param {?} clientX\n     * @param {?} clientY\n     * @return {?}\n     */\n    onMouseup(clientX, clientY) {\n        this.unsubscribeEventListeners();\n        this.resizable.mouseup.next({\n            clientX,\n            clientY,\n            edges: this.resizeEdges\n        });\n    }\n    // directive might be passed from DI or as an input\n    /**\n     * @private\n     * @return {?}\n     */\n    get resizable() {\n        return this.resizableDirective || this.resizableContainer;\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @param {?} clientX\n     * @param {?} clientY\n     * @return {?}\n     */\n    onMousemove(event, clientX, clientY) {\n        this.resizable.mousemove.next({\n            clientX,\n            clientY,\n            edges: this.resizeEdges,\n            event\n        });\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    unsubscribeEventListeners() {\n        Object.keys(this.eventListeners).forEach(type => {\n            ((/** @type {?} */ (this))).eventListeners[type]();\n            delete this.eventListeners[type];\n        });\n    }\n    /**\n     * @private\n     * @template T\n     * @param {?} eventName\n     * @return {?}\n     */\n    listenOnTheHost(eventName) {\n        return fromEvent(this.element.nativeElement, eventName).pipe(takeUntil(this.destroy$));\n    }\n}\nResizeHandleDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlResizeHandle]'\n            },] }\n];\n/** @nocollapse */\nResizeHandleDirective.ctorParameters = () => [\n    { type: Renderer2 },\n    { type: ElementRef },\n    { type: NgZone },\n    { type: ResizableDirective, decorators: [{ type: Optional }] }\n];\nResizeHandleDirective.propDecorators = {\n    resizeEdges: [{ type: Input }],\n    resizableContainer: [{ type: Input }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ResizableModule {\n}\nResizableModule.decorators = [\n    { type: NgModule, args: [{\n                declarations: [ResizableDirective, ResizeHandleDirective],\n                exports: [ResizableDirective, ResizeHandleDirective]\n            },] }\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { ResizableDirective, ResizeHandleDirective, ResizableModule };\n\n//# sourceMappingURL=angular-resizable-element.js.map"]}