{"version":3,"sources":["webpack:///node_modules/flatpickr/dist/esm/utils/dates.js","webpack:///node_modules/calendar-utils/date-adapters/esm/date-fns/index.js","webpack:///node_modules/positioning/dist/entry.js","webpack:///node_modules/angular-calendar/date-adapters/esm/date-fns/index.js","webpack:///node_modules/@agm/core/fesm2015/agm-core.js","webpack:///node_modules/flatpickr/dist/esm/utils/index.js","webpack:///node_modules/angular-draggable-droppable/fesm2015/angular-draggable-droppable.js","webpack:///node_modules/flatpickr/dist/esm/l10n/default.js","webpack:///node_modules/flatpickr/dist/esm/index.js","webpack:///node_modules/positioning/dist/positioning.js","webpack:///node_modules/@angular/common/locales/es-BO.js","webpack:///node_modules/flatpickr/dist/esm/utils/dom.js","webpack:///node_modules/@mattlewis92/dom-autoscroller/dist/bundle.es.js","webpack:///node_modules/@agm/core/node_modules/tslib/tslib.es6.js","webpack:///node_modules/flatpickr/dist/esm/utils/polyfills.js","webpack:///node_modules/flatpickr/dist/esm/utils/formatting.js","webpack:///node_modules/angular-calendar/fesm2015/angular-calendar.js","webpack:///src/app/guards/form-deactivate.guard.ts","webpack:///node_modules/flatpickr/dist/esm/types/options.js","webpack:///node_modules/angularx-flatpickr/fesm2015/angularx-flatpickr.js","webpack:///node_modules/calendar-utils/calendar-utils.js","webpack:///node_modules/angular-resizable-element/fesm2015/angular-resizable-element.js"],"names":["createDateFormatter","_a","_b","config","_c","l10n","_d","isMobile","dateObj","frmt","overrideLocale","locale","formatDate","undefined","split","map","c","i","arr","join","createDateParser","date","givenFormat","timeless","customLocale","parsedDate","dateOrig","Date","getTime","toFixed","format","dateFormat","datestr","String","trim","parseDate","test","matched","ops","matchIndex","regexStr","length","token","isBackSlash","escaped","match","RegExp","exec","fn","val","noCalendar","getFullYear","setHours","forEach","isNaN","errorHandler","Error","compareDates","date1","date2","compareTimes","getHours","getMinutes","getSeconds","isBetween","ts","ts1","ts2","Math","min","max","calculateSecondsSinceMidnight","hours","minutes","seconds","parseSeconds","secondsSinceMidnight","floor","duration","DAY","getDefaultHours","defaultHour","defaultMinute","defaultSeconds","minDate","minHour","minMinutes","minSeconds","maxDate","maxHr","maxMinutes","adapterFactory","addDays","addHours","addMinutes","addSeconds","differenceInDays","differenceInMinutes","differenceInSeconds","endOfDay","endOfMonth","endOfWeek","getDay","getMonth","isSameDay","isSameMonth","isSameSecond","setMinutes","startOfDay","startOfMinute","startOfMonth","startOfWeek","addWeeks","addMonths","subDays","subWeeks","subMonths","getISOWeek","setDate","setMonth","setYear","getDate","getYear","MapsAPILoader","GoogleMapsAPIWrapper","_loader","_zone","_map","Promise","resolve","_mapResolver","el","mapOptions","runOutsideAngular","load","then","google","maps","Map","options","m","setOptions","addToMap","Marker","InfoWindow","strokePosition","StrokePosition","Circle","Rectangle","getNativeMap","line","Polyline","setMap","polygon","Polygon","data","Data","newLayer","TransitLayer","visible","BicyclingLayer","latLng","geometry","poly","containsLocation","eventName","observer","addListener","arg","run","next","event","clearInstanceListeners","setCenter","getZoom","getBounds","getMapTypeId","zoom","setZoom","getCenter","panTo","x","y","panBy","padding","fitBounds","panToBounds","trigger","ctorParameters","type","LayerManager","_wrapper","_layers","layer","createTransitLayer","set","createBicyclingLayer","get","currentLayer","layerId","AgmBicyclingLayer","_manager","_addedToManager","_id","toString","addBicyclingLayer","changes","toggleLayerVisibility","currentValue","deleteLayer","Object","prototype","selector","CircleManager","_apiWrapper","_circles","circle","createCircle","center","lat","latitude","lng","longitude","clickable","draggable","editable","fillColor","fillOpacity","radius","strokeColor","strokeOpacity","strokeWeight","zIndex","getRadius","setEditable","setDraggable","setVisible","setRadius","listener","e","remove","AgmCircle_1","AgmCircle","centerChange","circleClick","circleDblClick","drag","dragEnd","dragStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","radiusChange","rightClick","_circleAddedToManager","_eventSubscriptions","addCircle","_registerEventListeners","_updateCircleOptionsChanges","optionKeys","keys","filter","k","_mapOptions","indexOf","events","eventEmitter","push","createEventObservable","subscribe","value","emit","coords","s","unsubscribe","removeCircle","Number","DataLayerManager","createDataLayer","style","d","geoJson","getDataFeatures","features","l","feature","index","splice","setControlPosition","controlPosition","setControls","controls","setDrawingMode","drawingMode","setStyle","reject","addGeoJson","loadGeoJson","AgmDataLayer_1","layerId$1","AgmDataLayer","_subscriptions","layerClick","addDataLayer","_addEventListeners","listeners","name","handler","ev","obj","os","deleteDataLayer","geoJsonChange","updateGeoJson","dataOptions","_dataOptionsAttributes","hasOwnProperty","setDataOptions","Function","FitBoundsAccessor","FitBoundsService","loader","_boundsChangeSampleTime$","_includeInBounds$","bounds$","pipe","time","includeInBounds","_generateBounds","bounds","LatLngBounds","b","extend","id","_createIdentifier","has","timeMs","AgmFitBounds","_fitBoundsAccessor","_fitBoundsService","agmFitBounds","_destroyed$","_latestFitBoundsDetails","_updateBounds","getFitBoundsDetails$","details","newFitBoundsDetails","removeFromBounds","addToBounds","complete","decorators","MarkerManager","_mapsWrapper","_markers","uiAnim","Animation","marker","setPosition","setTitle","title","setLabel","label","setIcon","iconUrl","setOpacity","opacity","setZIndex","setClickable","convertAnimation","animation","setAnimation","markerPromise","position","icon","createMarker","InfoWindowManager","_markerManager","_infoWindows","infoWindow","iWindow","close","w","hostMarker","getNativeMarker","open","content","maxWidth","disableAutoPan","infoWindowPromise","createInfoWindow","AgmInfoWindow_1","infoWindowId","AgmInfoWindow","_infoWindowManager","_el","isOpen","infoWindowClose","_infoWindowAddedToManager","nativeElement","querySelector","addInfoWindow","_updateOpenState","_setInfoWindowOptions","_infoWindowOptionsInputs","deleteInfoWindow","Boolean","template","KmlLayerManager","KmlLayer","preserveViewport","screenOverlays","suppressInfoWindows","url","AgmKmlLayer_1","layerId$2","AgmKmlLayer","defaultViewportChange","statusChange","addKmlLayer","_updatePolygonOptions","_kmlLayerOptions","reduce","deleteKmlLayer","createMVCEventObservable","array","eventNames","evName","previous","apply","getArray","_handler","evListeners","evListener","MvcArrayMock","vals","removeAt","elem","insert_at","deleted","pop","remove_at","set_at","callback","listenerArr","PolygonManager","_polygons","path","polygonPromise","createPolygon","geodesic","paths","setPaths","getPath","getPaths","p","agmPolygon","pathsChanges$","newArr","parentMVEvent","chMVC","chMVCEvent","pathIndex","retVal","subArr","toJSON","PolylineManager_1","PolylineManager","_polylines","polylinePromise","_convertPoints","_convertIcons","icons","createPolyline","setPath","agmPolyline","polyline","getMVCPath","mvcPath","_getPoints","point","symbolPath","SymbolPath","_getIcons","agmIcon","fixedRotation","offset","repeat","anchor","Point","anchorX","anchorY","_convertPath","rotation","scale","entries","key","RectangleManager","_rectangles","rectangle","createRectangle","north","east","south","west","r","setBounds","create","AgmMap_1","AgmMap","_elem","_platformId","disableDoubleClickZoom","disableDefaultUI","scrollwheel","keyboardShortcuts","styles","usePanning","scaleControl","mapTypeControl","panControl","rotateControl","fullscreenControl","mapTypeId","clickableIcons","showDefaultInfoWindow","gestureHandling","tilt","_observableSubscriptions","mapClick","mapRightClick","mapDblClick","boundsChange","mapTypeIdChange","idle","zoomChange","mapReady","tilesLoaded","container","_initMapInstance","createMap","minZoom","maxZoom","controlSize","backgroundColor","draggableCursor","draggingCursor","zoomControl","zoomControlOptions","streetViewControl","streetViewControlOptions","scaleControlOptions","mapTypeControlOptions","panControlOptions","rotateControlOptions","fullscreenControlOptions","restriction","_handleMapCenterChange","_handleMapZoomChange","_handleMapMouseEvents","_handleBoundsChange","_handleMapTypeIdChange","_handleTilesLoadedEvent","_handleIdleEvent","_fitBoundsSubscription","_updateMapOptionsChanges","_updatePosition","_mapOptionsAttributes","setMapOptions","recenter","setTimeout","triggerMapEvent","_fitBounds","_setCenter","newCenter","_subscribeToFitBoundsUpdates","fitBoundsPadding","getBounds$","_isLatLngBoundsLiteral","newBounds","union","subscribeToMapEvent","z","emitter","placeId","stop","args","Array","providers","host","AgmMarker_1","markerId","AgmMarker","openInfoWindow","animationChange","markerClick","markerDblClick","markerRightClick","_markerAddedToManger","_fitBoundsDetails$","handleInfoWindowUpdate","addMarker","_updateFitBoundsDetails","updateMarkerPosition","updateTitle","updateLabel","updateDraggable","updateIcon","updateOpacity","updateVisible","updateZIndex","updateClickable","updateAnimation","asObservable","cs","dcs","rc","ds","de","mover","mout","anChng","deleteMarker","provide","useExisting","inputs","outputs","AgmPolygon_1","AgmPolygon","_polygonManager","polyClick","polyDblClick","polyDrag","polyDragEnd","polyDragStart","polyMouseDown","polyMouseMove","polyMouseOut","polyMouseOver","polyMouseUp","polyRightClick","polyPathsChange","_polygonAddedToManager","_init","setPolygonOptions","addPolygon","handlers","createPathEventObservable","paths$","pathEvent","_polygonOptionsAttributes","deletePolygon","AgmPolylineIcon","AgmPolylinePoint_1","AgmPolylinePoint","positionChanged","AgmPolyline_1","polylineId","AgmPolyline","_polylineManager","lineClick","lineDblClick","lineDrag","lineDragEnd","lineDragStart","lineMouseDown","lineMouseMove","lineMouseOut","lineMouseOver","lineMouseUp","lineRightClick","polyPathChange","_polylineAddedToManager","points","updatePolylinePoints","pointSub","iconSub","iconSequences","updateIconSequences","_polylineOptionsAttributes","setPolylineOptions","addPolyline","ob$","toArray","deletePolyline","AgmRectangle_1","AgmRectangle","rectangleClick","rectangleDblClick","_rectangleAddedToManager","addRectangle","_updateRectangleOptionsChanges","getNorthEast","getSouthWest","removeRectangle","layerId$3","AgmTransitLayer","addTransitLayer","google$1","ControlPosition","MapTypeId","MapTypeControlStyle","ScaleControlStyle","ZoomControlStyle","GeocoderLocationType","GeocoderStatus","AgmGeocoder","connectableGeocoder$","subscriber","_createGeocoder","connect","geocoder$","request","geocoder","_getGoogleResults","geocodeObservable","geocode","results","status","OK","Geocoder","ngInjectableDef","factory","AgmGeocoder_Factory","providedIn","WindowRef","window","DocumentRef","document","BROWSER_GLOBALS_PROVIDERS","GoogleMapsScriptProtocol","LAZY_MAPS_API_CONFIG","LazyMapsAPILoader","localeId","_SCRIPT_ID","callbackName","_config","_windowRef","_documentRef","getNativeWindow","_scriptLoadingPromise","scriptOnPage","getNativeDocument","getElementById","_assignScriptLoadingPromise","script","createElement","async","defer","src","_getScriptSrc","body","appendChild","scriptElem","onerror","error","protocolType","protocol","HTTPS","AUTO","HTTP","hostAndPath","queryParams","v","apiVersion","apiKey","client","clientId","channel","libraries","region","language","params","isArray","entry","NoOpMapsAPILoader","AgmCoreModule_1","coreDirectives","AgmCoreModule","lazyMapsAPILoaderConfig","ngModule","useClass","useValue","declarations","exports","pad","number","slice","int","bool","debounce","wait","t","_this","arguments","clearTimeout","arrayify","DraggableHelper","currentDrag","DraggableHelper_Factory","DraggableScrollContainerDirective","elementRef","activeLongPressDrag","longPressConfig","delta","propDecorators","addClass","renderer","element","classToAdd","className","removeClass","classToRemove","DraggableDirective","draggableHelper","zone","vcr","scrollContainer","dragAxis","dragSnapGrid","ghostDragEnabled","showOriginalElementWhileDragging","dragCursor","autoScroll","margin","dragPointerDown","ghostElementCreated","dragging","pointerDown$","pointerMove$","pointerUp$","eventListenerSubscriptions","destroy$","timeLongPress","timerBegin","timerEnd","checkEventListeners","pointerDragged$","canDrag","pointerDownEvent","stopPropagation","globalDragStyle","setAttribute","createText","requestAnimationFrame","head","startScrollPosition","getScrollPosition","scrollContainerScroll$","listen","currentDrag$","cancelDrag$","dragComplete$","pointerMove","pointerMoveEvent","scroll","transformX","clientX","transformY","clientY","scrollLeft","left","scrollTop","top","target","moveData","round","scrollX","scrollY","assign","validateDrag","transform","dragStarted$","dragEnded$","scroller","defaultView","dragActiveClass","rect","getBoundingClientRect","clone","cloneNode","ghostElementAppendTo","parentNode","insertBefore","nextSibling","ghostElement","cursor","setElementStyles","width","height","willChange","pointerEvents","ghostElementTemplate","viewRef","createEmbeddedView","innerHTML","rootNodes","node","Node","parentElement","removeChild","dragEndData","dragEndData$","calledCount","dragCancelled","destroy","dropData","unsubscribeEventListeners","hasEventListeners","mousedown","onMouseDown","mouseup","onMouseUp","touchstart","onTouchStart","touchend","onTouchEnd","touchcancel","mouseenter","onMouseEnter","mouseleave","onMouseLeave","button","mousemove","mouseMoveEvent","isDragActivated","hasContainerScrollbar","touchStartLongPress","now","hasScrollbar","touchmove","contextMenuListener","preventDefault","touchMoveListener","passive","touchMoveEvent","shouldBeginDrag","targetTouches","touches","enableScroll","changedTouches","setCursor","pageYOffset","documentElement","pageXOffset","moveScrollPosition","deltaScroll","abs","deltaX","deltaY","deltaTotal","delay","disableScroll","getScrollElement","containerHasHorizontalScroll","scrollWidth","clientWidth","containerHasVerticalScroll","scrollHeight","clientHeight","isCoordinateWithinRectangle","right","bottom","DroppableDirective","dragEnter","dragLeave","dragOver","drop","currentDragSubscription","drag$","droppableElement","updateCache","deregisterScrollListener","currentDragDropData","overlaps$","scrollContainerRect","isWithinElement","isDropAllowed","validateDrop","overlapsChanged$","dragOverActive","overlapsNow","dragOverClass","didOverlap","DragAndDropModule","english","weekdays","shorthand","longhand","months","daysInMonth","firstDayOfWeek","ordinal","nth","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","time_24hr","__assign","n","call","__spreadArrays","il","a","j","jl","DEBOUNCED_CHANGE_MS","FlatpickrInstance","instanceConfig","self","flatpickr","defaultConfig","_handlers","pluginElements","loadedPlugins","_bind","bind","_setHoursFromDate","setHoursFromDate","_positionCalendar","positionCalendar","changeMonth","changeYear","clear","onMouseOver","_createElement","createDay","isEnabled","jumpToDate","updateValue","redraw","toggle","setupHelperFunctions","utils","getDaysInMonth","month","yr","currentMonth","currentYear","init","input","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","selectedDates","enableTime","latestSelectedDateObj","setCalendarWidth","isSafari","navigator","userAgent","triggerEvent","getClosestActiveElement","calendarContainer","getRootNode","activeElement","bindToInstance","weekNumbers","showMonths","visibility","display","daysContainer","daysWidth","days","offsetWidth","weekWrapper","removeProperty","updateTime","defaultDate","defaults","getMilliseconds","timeWrapper","prevValue","_input","setHoursFromInputs","_debouncedChange","ampm2military","hour","military2ampm","hourElement","minuteElement","parseInt","secondElement","textContent","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","minBound","maxBound","currentTime","result","onYearInput","eventTarget","year","addEventListener","removeEventListener","triggerChange","wrap","evt","querySelectorAll","setupMobile","debouncedResize","onResize","mode","onKeyDown","inline","ontouchstart","documentClick","capture","clickOpens","monthNav","onMonthNavClick","selectDate","timeContainer","selText","select","timeIncrement","allowInput","onBlur","jumpDate","jumpTo","oldYear","oldMonth","message","buildMonthSwitch","incrementNumInput","classList","contains","inputElem","firstChild","createEvent","dispatchEvent","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","animate","customAppend","appendTo","nodeType","add","wrapper","altInput","_dayNumber","dateIsEnabled","dayElement","$i","ariaDateFormat","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","getWeek","focusOnDayElem","targetNode","focus","getFirstAvailableDay","startMonth","endMonth","children","startIndex","endIndex","getNextAvailableDay","current","givenMonth","loopDelta","numMonthDays","focusOnDay","dayFocused","isInView","startElem","buildMonthDays","firstOfMonth","prevMonthDays","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayNumber","dayIndex","dayNum","dayContainer","frag","monthSelectorType","shouldBuildMonth","monthsDropdownContainer","shorthandCurrentMonth","selected","buildMonth","monthNavFragment","monthElement","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","disabled","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","prevArrow","nextArrow","defineProperty","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","separator","hourInput","minuteInput","hourIncrement","minuteIncrement","enableSeconds","secondInput","getAttribute","weekdayContainer","updateWeekdays","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","triggerChangeEvent","toInitial","mobileInput","_initialDate","lastChild","_type","removeAttribute","_","isCalendarElem","eventTarget_1","isCalendarElement","isInput","lostFocus","relatedTarget","isIgnored","ignoredFocusElements","some","altFormat","newYear","newYearNum","isNewYear","dateToCheck","enable","disable","parsed","from","to","valueChanged","trimEnd","getDateStr","allowKeydown","allowInlineKeydown","keyCode","blur","isTimeObj","focusAndClose","delta_1","ctrlKey","elems","concat","shiftKey","charAt","toLowerCase","cellClass","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","hoverableCells","dayElem","timestamp","outOfRange","positionElement","_positionElement","click","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","JSON","parse","stringify","dataset","formats","_enable","dates","parseDateRules","_disable","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","disableMobile","plugins","pluginConf","altInputClass","getInputElem","l10ns","D","M","F","K","customPositionElement","calendarHeight","acc","child","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","distanceFromBottom","innerHeight","showOnTop","isCenter","isRight","rightMost","centerMost","doc","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","insertRule","editableSheet","styleSheets","sheet","err","createStyleSheet","msMaxTouchPoints","isSelectable","day","selectedDate","shouldChangeMonth","selectedIndex","sort","closeOnSelect","single","range","CALLBACKS","updatePositionElement","option","setSelectedDate","inputDate","conjunction","allowInvalidPreload","rule","preloadedDate","nodeName","placeholder","required","inputType","mobileFormatStr","defaultValue","step","hooks","initEvent","specificFormat","dObj","isPrevMonth","isNextMonth","isKeyDown","parseFloat","curValue","which","newValue","isHourElem","isMinuteElem","_flatpickr","nodeList","nodes","HTMLElement","instances","console","HTMLCollection","NodeList","en","localize","setDefaults","jQuery","fp_incr","Positioning","getAllStyles","getComputedStyle","getStyle","prop","isStaticPositioned","offsetParent","offsetParentEl","elPosition","parentOffset","clientTop","clientLeft","elBcr","viewportOffset","elOffset","positionElements","hostElement","targetElement","placement","appendToBody","placementPrimary","placementSecondary","hostElPosition","targetElStyles","marginTop","marginBottom","marginLeft","marginRight","topPosition","leftPosition","targetElBCR","html","windowHeight","windowWidth","innerWidth","placementSeparator","positionService","baseClass","placementVals","allowedPlacements","addClassesToTarget","targetPlacement","primary","secondary","classes","classname","placementToRemove","hasAuto","findIndex","find","search","testPlacement","isInViewport","_i","placementVals_1","addedClasses","module","require","u","plural","toggleClass","tag","clearNode","findParent","condition","createNumberInput","inputClassName","opts","numInput","arrowUp","arrowDown","pattern","getEventTarget","composedPath","getDef","f","boolean","func","def","arguments$1","_len","_key","_typeof","Symbol","iterator","constructor","isElement$1","ownerDocument","indexOfElement","elements","resolveElement","hasElement","pushElements","toAdd","addElements","len","removeElements","toRemove","last","noThrow","TypeError","createPointCB","object","allowUpdate","pointCB","srcElement","originalTarget","pageX","pageY","screenX","screenY","eventDoc","createWindowRect","props","enumerable","defineProperties","getClientRect","pointInside","objectCreate","undefined$1","Temp","propertiesObject","__proto__","objectCreate$1","mouseEventProps","createDispatcher","defaultSettings","altKey","metaKey","buttons","onMove","dispatch","MouseEvent","m1","initMove","createMoveInit","setSpecial","m2","settings","initMouseEvent","createEventObject","m3","log","dispatched","prefix","requestFrame","limit","lastTime","ttc","timer","cancelFrame","cancelAnimationFrame","AutoScroller","maxSpeed","scrolling","scrollWhenOutside","dispatcher","down","syncMove","forceCleanAnimation","onDown","onUp","onMouseOut","setScroll","cleanAnimation","hasWindow","windowAnimationFrame","temp","animationFrame","getTarget","getElementUnderPoint","underPoint","inside","scrollWindow","scrollTick","scrollx","scrolly","ceil","amount","scrollTo","AutoScrollerFactory","extendStatics","setPrototypeOf","__extends","__","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","adopt","fulfilled","rejected","done","__generator","sent","trys","g","verb","op","__createBinding","o","k2","__exportStar","__values","__read","ar","__spread","__await","__asyncGenerator","asyncIterator","q","resume","settle","fulfill","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","__importDefault","__classPrivateFieldGet","receiver","privateMap","__classPrivateFieldSet","_loop_1","source","args_1","doNothing","monthToStr","monthNumber","revFormat","monthName","G","H","J","shortMonth","S","setSeconds","U","unixSeconds","W","weekNum","weekNumber","Y","setFullYear","Z","ISODate","h","unixMillSeconds","tokenRegex","toISOString","substring","CalendarEventActionsComponent","trackByActionId","action","CalendarEventTitleComponent","CalendarTooltipWindowComponent","CalendarTooltipDirective","injector","componentFactoryResolver","viewContainerRef","cancelTooltipDelay$","tooltipFactory","resolveComponentFactory","tooltipRef","contents","customTemplate","instance","changeDetectorRef","markForCheck","hide","delay$","show","createComponent","location","positionTooltip","hostView","previousPositions","detectChanges","DateAdapter","CalendarView","validateEvents","warn","isInside","outer","inner","roundToNearest","precision","trackByEventId","trackByWeekDayHeaderDate","trackByHourSegment","segment","trackByHour","segments","trackByWeekAllDayEvent","weekEvent","trackByWeekTimeEvent","MINUTES_IN_HOUR","getPixelAmountInMinutes","hourSegments","hourSegmentHeight","getMinutesMoved","movedY","eventSnapSize","draggedInPixelsSnapSize","pixelAmountInMinutes","getMinimumEventHeightInMinutes","getDefaultEventEnd","dateAdapter","minimumMinutes","end","start","addDaysWithExclusions","excluded","daysCounter","daysToAdd","changeDays","isDraggedWithinPeriod","newStart","newEnd","period","shouldFireDroppedEvent","dropEvent","allDay","calendarId","getWeekViewPeriod","viewDate","weekStartsOn","daysInWeek","viewStart","viewEnd","isWithinThreshold","DRAG_THRESHOLD","CalendarPreviousViewDirective","excludeDays","viewDateChange","subFn","week","view","Day","Week","CalendarNextViewDirective","addFn","CalendarTodayDirective","CalendarAngularDateFormatter","dateToFormat","showYear","getUTCFullYear","CalendarDateFormatter","CalendarDatePipe","dateFormatter","method","allowedMethods","getOwnPropertyNames","getPrototypeOf","iMethod","CalendarEventTitleFormatter","CalendarEventTitlePipe","calendarEventTitle","titleType","ClickDirective","elm","clickListenerDisabled","KeydownEnterDirective","ngZone","keydown","keydownListener","CalendarUtils","CalendarA11y","i18nPlural","badgeTotal","other","allDayEventDescription","aria","a11yLabel","CalendarA11yPipe","calendarA11y","a11yParams","MOMENT","CalendarMomentDateFormatter","moment","CalendarNativeDateFormatter","Intl","DateTimeFormat","weekday","CalendarEventTimesChangedEventType","CalendarCommonModule_1","CalendarCommonModule","eventTitleFormatter","a11y","imports","entryComponents","CalendarMonthViewComponent","cdr","activeDayIsOpen","tooltipPlacement","tooltipAppendToBody","tooltipDelay","beforeViewRender","dayClicked","eventClicked","columnHeaderClicked","eventTimesChanged","trackByRowOffset","totalDaysVisibleInWeek","trackByDate","refresh","refreshSubscription","refreshAll","refreshHeader","weekendDays","refreshBody","emitBeforeViewRender","activeDay","checkActiveDayIsOpen","isHighlighted","color","droppedOn","draggedFrom","secondsDiff","Drop","columnHeaders","getWeekViewHeader","getMonthView","openDay","openRowIndex","header","CalendarMonthViewHeaderComponent","CalendarMonthCellComponent","highlightDay","unhighlightDay","collapseAnimation","overflow","CalendarOpenDayEventsComponent","animations","CalendarMonthModule","CalendarDragHelper","dragContainerElement","draggableElement","startPosition","snapDraggedEvents","dragAlreadyMoved","newRect","CalendarResizeHelper","resizeContainerElement","minWidth","CalendarWeekViewComponent","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","dayHeaderClicked","hourSegmentClicked","allDayEventResizes","timeEventResizes","eventDragEnterByType","dragActive","trackByHourColumn","column","trackById","row","eventsContainer","timeEvent","resizeEvent","resizeStarted","adjustedEvents","tempEvents","lastResizeEvent","newEventDates","getTimeEventResizedDates","adjustedEvent","eventIndex","restoreOriginalEvents","getWeekView","Resize","allDayEventsContainer","allDayEvent","originalOffset","originalSpan","span","edge","edges","getDayColumnWidth","dayWidth","currentResize","diff","allDayEventResizingBeforeStart","daysDiff","eventRowContainer","lastDragEnterDate","lastDraggedEvent","dayEvent","dayColumnWidth","dragHelper","size","hourColumns","linkedEvent","columnEvent","dragEvent","newEventTimes","getDragMovedEventTimes","originalEvent","dragEndEvent","useY","Drag","absolutePositionedEvents","dayStart","minute","dayEnd","segmentHeight","daysDragged","minutesMoved","previousView","adjustedEventsArray","columnIndex","hourIndex","segmentIndex","cssClass","existingColumnEvent","startsBeforeDay","endsAfterDay","tempEvent","calendarEvent","minimumEventHeight","eventWithoutEnd","smallestResizes","resizeHelper","validateResize","CalendarWeekViewHeaderComponent","eventDropped","CalendarWeekViewEventComponent","CalendarWeekViewHourSegmentComponent","CalendarWeekViewCurrentTimeMarkerComponent","columnDate$","columnDate","marker$","onStable","hourHeightModifier","isVisible","CalendarWeekModule","CalendarDayViewComponent","CalendarDayModule","CalendarModule_1","CalendarModule","FormDeactivateGuard","component","route","state","formCanDeactivate","HOOKS","autoFillDefaultTime","givenDate","week1","onChange","onClose","onDayCreate","onDestroy","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","FlatpickrDefaults","time24hr","utc","convertModelValue","FLATPICKR_CONTROL_VALUE_ACCESSOR","FlatpickrDirective","multi","flatpickrReady","flatpickrChange","flatpickrValueUpdate","flatpickrOpen","flatpickrClose","flatpickrMonthChange","flatpickrYearChange","flatpickrDayCreate","isDisabled","onChangeFn","onTouchedFn","initialValue","dateString","setDisabledState","inputKey","convertedValue","setProperty","str","exportAs","inputChanged","USER_DEFAULTS","defaultsFactory","userDefaults","FlatpickrModule","useFactory","deps","DAYS_OF_WEEK","DEFAULT_WEEKEND_DAYS","SUNDAY","SATURDAY","DAYS_IN_WEEK","HOURS_IN_DAY","SECONDS_IN_DAY","getExcludedSeconds","startDate","endDate","excludedDay","calculateExcludedSeconds","getWeekViewEventSpan","startOfWeekDate","totalDaysInView","begin","offsetSeconds","totalLength","secondsInView","getWeekViewEventOffset","isEventIsPeriod","periodStart","periodEnd","eventStart","eventEnd","getEventsInPeriod","getWeekDay","today","isPast","isToday","isFuture","isWeekend","getDifferenceInDaysWithExclusions","getAllDayWeekEvents","_e","eventsMapped","startsBeforeWeek","endsAfterWeek","itemA","itemB","startSecondsDiff","allDayEventRows","allocatedEvents","rowSpan_1","otherRowEvents","nextEvent","nextEventOffset","weekEvents","getWeekViewHourGrid","hourDuration","dayViewHourGrid","getDayViewHourGrid","weekDays","dayView","getDayView","eventWidth","getColumnCount","allEvents","prevOverlappingEvents","columnCount","iEvent","nextOverlappingEvents","getOverLappingWeekViewEvents","mappedEvents","overLappingEvents","otherEvent","_f","_g","eventsInPeriod","eventsInMonth","initialViewDays","previousDate","_loop_2","inMonth","isRowInMonth","rows","rowOffsets","previousEvent","previousEventTop","previousEventBottom","startOfView","sanitiseHours","sanitiseMinutes","endOfView","previousDayEvents","dayViewEvents","eventA","eventB","valueOf","eventOffset","getTimezoneOffset","startOffset","timezoneOffset","overlappingPreviousEvents","allDayEvents","segmentDuration","startOfViewDay","endOfViewDay","dateAdjustment","dayDuration","displayDate","isStart","EventValidationErrorMessage","isValid","isError","msg","NotArray","StartPropertyMissing","StartPropertyNotDate","EndPropertyNotDate","EndsBeforeStart","IS_TOUCH_DEVICE","maxTouchPoints","isNumberCloseTo","value1","value2","getNewBoundingRectangle","startingRect","newBoundingRect","getElementRect","ghostElementPositioning","translateX","translateY","transformProperties","property","includes","replace","offsetTop","offsetLeft","boundingRect","isWithinBoundingY","isWithinBoundingX","getResizeEdges","allowedEdges","cursorPrecision","elmPosition","DEFAULT_RESIZE_CURSORS","freeze","topLeft","topRight","bottomLeft","bottomRight","leftOrRight","topOrBottom","getResizeCursor","cursors","getEdgesDiff","initialRectangle","newRectangle","edgesDiff","RESIZE_ACTIVE_CLASS","RESIZE_LEFT_HOVER_CLASS","RESIZE_RIGHT_HOVER_CLASS","RESIZE_TOP_HOVER_CLASS","RESIZE_BOTTOM_HOVER_CLASS","RESIZE_GHOST_ELEMENT_CLASS","MOUSE_MOVE_THROTTLE_MS","ResizableDirective","platformId","resizeEdges","enableGhostResize","resizeSnapGrid","resizeCursors","resizeCursorPrecision","allowNegativeResizes","mouseMoveThrottleMS","resizeStart","resizing","resizeEnd","resizeEdges$","pointerEventListeners","PointerEventListeners","getInstance","mousedown$","pointerDown","mousemove$","mouseup$","pointerUp","removeGhostElement","clonedNode","getResizeCursors","legacyResizeEdgesEnabled","setElementClass","mousedrag","startCoords","getDiff","moveCoords","getSnapGrid","snapGrid","getGrid","previousCoords","newCoords","previousGrid","newGrid","observers","currentRect","unsubscribeMouseDown","unsubscribeTouchStart","unsubscribeMouseMove","unsubscribeTouchMove","unsubscribeMouseUp","unsubscribeTouchEnd","unsubscribeTouchCancel","ResizeHandleDirective","resizableDirective","eventListeners","listenOnTheHost","onMousedown","onMouseup","onMousemove","resizable","resizableContainer","ResizableModule"],"mappings":"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","file":"default~agenda-agenda-module~lote-lote-module-es5.js","sourcesContent":["import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport var createDateFormatter = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;\n    return function (dateObj, frmt, overrideLocale) {\n        var locale = overrideLocale || l10n;\n        if (config.formatDate !== undefined && !isMobile) {\n            return config.formatDate(dateObj, frmt, locale);\n        }\n        return frmt\n            .split(\"\")\n            .map(function (c, i, arr) {\n            return formats[c] && arr[i - 1] !== \"\\\\\"\n                ? formats[c](dateObj, locale, config)\n                : c !== \"\\\\\"\n                    ? c\n                    : \"\";\n        })\n            .join(\"\");\n    };\n};\nexport var createDateParser = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n    return function (date, givenFormat, timeless, customLocale) {\n        if (date !== 0 && !date)\n            return undefined;\n        var locale = customLocale || l10n;\n        var parsedDate;\n        var dateOrig = date;\n        if (date instanceof Date)\n            parsedDate = new Date(date.getTime());\n        else if (typeof date !== \"string\" &&\n            date.toFixed !== undefined)\n            parsedDate = new Date(date);\n        else if (typeof date === \"string\") {\n            var format = givenFormat || (config || defaults).dateFormat;\n            var datestr = String(date).trim();\n            if (datestr === \"today\") {\n                parsedDate = new Date();\n                timeless = true;\n            }\n            else if (config && config.parseDate) {\n                parsedDate = config.parseDate(date, format);\n            }\n            else if (/Z$/.test(datestr) ||\n                /GMT$/.test(datestr)) {\n                parsedDate = new Date(date);\n            }\n            else {\n                var matched = void 0, ops = [];\n                for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                    var token = format[i];\n                    var isBackSlash = token === \"\\\\\";\n                    var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                    if (tokenRegex[token] && !escaped) {\n                        regexStr += tokenRegex[token];\n                        var match = new RegExp(regexStr).exec(date);\n                        if (match && (matched = true)) {\n                            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                                fn: revFormat[token],\n                                val: match[++matchIndex],\n                            });\n                        }\n                    }\n                    else if (!isBackSlash)\n                        regexStr += \".\";\n                }\n                parsedDate =\n                    !config || !config.noCalendar\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                        : new Date(new Date().setHours(0, 0, 0, 0));\n                ops.forEach(function (_a) {\n                    var fn = _a.fn, val = _a.val;\n                    return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                });\n                parsedDate = matched ? parsedDate : undefined;\n            }\n        }\n        if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n            config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n            return undefined;\n        }\n        if (timeless === true)\n            parsedDate.setHours(0, 0, 0, 0);\n        return parsedDate;\n    };\n};\nexport function compareDates(date1, date2, timeless) {\n    if (timeless === void 0) { timeless = true; }\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport var isBetween = function (ts, ts1, ts2) {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {\n    return hours * 3600 + minutes * 60 + seconds;\n};\nexport var parseSeconds = function (secondsSinceMidnight) {\n    var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;\n    return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\n};\nexport var duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    var hours = config.defaultHour;\n    var minutes = config.defaultMinute;\n    var seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        var minHour = config.minDate.getHours();\n        var minMinutes = config.minDate.getMinutes();\n        var minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        var maxHr = config.maxDate.getHours();\n        var maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours: hours, minutes: minutes, seconds: seconds };\n}\n","import { addDays, addHours, addMinutes, addSeconds, differenceInDays, differenceInMinutes, differenceInSeconds, endOfDay, endOfMonth, endOfWeek, getDay, getMonth, isSameDay, isSameMonth, isSameSecond, max, setHours, setMinutes, startOfDay, startOfMinute, startOfMonth, startOfWeek, getHours, getMinutes, } from 'date-fns';\nexport function adapterFactory() {\n    return {\n        addDays: addDays,\n        addHours: addHours,\n        addMinutes: addMinutes,\n        addSeconds: addSeconds,\n        differenceInDays: differenceInDays,\n        differenceInMinutes: differenceInMinutes,\n        differenceInSeconds: differenceInSeconds,\n        endOfDay: endOfDay,\n        endOfMonth: endOfMonth,\n        endOfWeek: endOfWeek,\n        getDay: getDay,\n        getMonth: getMonth,\n        isSameDay: isSameDay,\n        isSameMonth: isSameMonth,\n        isSameSecond: isSameSecond,\n        max: max,\n        setHours: setHours,\n        setMinutes: setMinutes,\n        startOfDay: startOfDay,\n        startOfMinute: startOfMinute,\n        startOfMonth: startOfMonth,\n        startOfWeek: startOfWeek,\n        getHours: getHours,\n        getMinutes: getMinutes,\n    };\n}\n//# sourceMappingURL=index.js.map","export { positionElements } from './positioning';\n//# sourceMappingURL=entry.js.map","import { __assign } from \"tslib\";\nimport { adapterFactory as baseAdapterFactory } from 'calendar-utils/date-adapters/date-fns';\nimport { addWeeks, addMonths, subDays, subWeeks, subMonths, getISOWeek, setDate, setMonth, setYear, getDate, getYear, } from 'date-fns';\nexport function adapterFactory() {\n    return __assign(__assign({}, baseAdapterFactory()), { addWeeks: addWeeks,\n        addMonths: addMonths,\n        subDays: subDays,\n        subWeeks: subWeeks,\n        subMonths: subMonths,\n        getISOWeek: getISOWeek,\n        setDate: setDate,\n        setMonth: setMonth,\n        setYear: setYear,\n        getDate: getDate,\n        getYear: getYear });\n}\n//# sourceMappingURL=index.js.map","import { __decorate, __metadata, __param, __awaiter } from 'tslib';\nimport { Injectable, NgZone, Input, Directive, EventEmitter, Output, Self, ElementRef, Component, Inject, PLATFORM_ID, QueryList, ContentChildren, forwardRef, ɵɵdefineInjectable, ɵɵinject, InjectionToken, Optional, LOCALE_ID, NgModule } from '@angular/core';\nimport { Observable, BehaviorSubject, from, timer, Subject, fromEventPattern, merge, ReplaySubject, bindCallback, of, throwError } from 'rxjs';\nimport { flatMap, sample, switchMap, map, shareReplay, distinctUntilChanged, takeUntil, startWith, skip, multicast } from 'rxjs/operators';\nimport { isPlatformServer } from '@angular/common';\n\nlet MapsAPILoader = class MapsAPILoader {\n};\nMapsAPILoader = __decorate([\n    Injectable()\n], MapsAPILoader);\n\n/**\n * Wrapper class that handles the communication with the Google Maps Javascript\n * API v3\n */\nlet GoogleMapsAPIWrapper = class GoogleMapsAPIWrapper {\n    constructor(_loader, _zone) {\n        this._loader = _loader;\n        this._zone = _zone;\n        this._map =\n            new Promise((resolve) => { this._mapResolver = resolve; });\n    }\n    createMap(el, mapOptions) {\n        return this._zone.runOutsideAngular(() => {\n            return this._loader.load().then(() => {\n                const map = new google.maps.Map(el, mapOptions);\n                this._mapResolver(map);\n                return;\n            });\n        });\n    }\n    setMapOptions(options) {\n        return this._zone.runOutsideAngular(() => {\n            this._map.then((m) => { m.setOptions(options); });\n        });\n    }\n    /**\n     * Creates a google map marker with the map context\n     */\n    createMarker(options = {}, addToMap = true) {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then((map) => {\n                if (addToMap) {\n                    options.map = map;\n                }\n                return new google.maps.Marker(options);\n            });\n        });\n    }\n    createInfoWindow(options) {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then(() => { return new google.maps.InfoWindow(options); });\n        });\n    }\n    /**\n     * Creates a google.map.Circle for the current map.\n     */\n    createCircle(options) {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then((map) => {\n                if (typeof options.strokePosition === 'string') {\n                    options.strokePosition = google.maps.StrokePosition[options.strokePosition];\n                }\n                options.map = map;\n                return new google.maps.Circle(options);\n            });\n        });\n    }\n    /**\n     * Creates a google.map.Rectangle for the current map.\n     */\n    createRectangle(options) {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then((map) => {\n                options.map = map;\n                return new google.maps.Rectangle(options);\n            });\n        });\n    }\n    createPolyline(options) {\n        return this._zone.runOutsideAngular(() => {\n            return this.getNativeMap().then((map) => {\n                let line = new google.maps.Polyline(options);\n                line.setMap(map);\n                return line;\n            });\n        });\n    }\n    createPolygon(options) {\n        return this._zone.runOutsideAngular(() => {\n            return this.getNativeMap().then((map) => {\n                let polygon = new google.maps.Polygon(options);\n                polygon.setMap(map);\n                return polygon;\n            });\n        });\n    }\n    /**\n     * Creates a new google.map.Data layer for the current map\n     */\n    createDataLayer(options) {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then(m => {\n                let data = new google.maps.Data(options);\n                data.setMap(m);\n                return data;\n            });\n        });\n    }\n    /**\n     * Creates a TransitLayer instance for a map\n     * @param {TransitLayerOptions} options - used for setting layer options\n     * @returns {Promise<TransitLayer>} a new transit layer object\n     */\n    createTransitLayer(options) {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then((map) => {\n                let newLayer = new google.maps.TransitLayer();\n                newLayer.setMap(options.visible ? map : null);\n                return newLayer;\n            });\n        });\n    }\n    /**\n     * Creates a BicyclingLayer instance for a map\n     * @param {BicyclingLayerOptions} options - used for setting layer options\n     * @returns {Promise<BicyclingLayer>} a new bicycling layer object\n     */\n    createBicyclingLayer(options) {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then((map) => {\n                let newLayer = new google.maps.BicyclingLayer();\n                newLayer.setMap(options.visible ? map : null);\n                return newLayer;\n            });\n        });\n    }\n    /**\n     * Determines if given coordinates are insite a Polygon path.\n     */\n    containsLocation(latLng, polygon) {\n        return google.maps.geometry.poly.containsLocation(latLng, polygon);\n    }\n    subscribeToMapEvent(eventName) {\n        return new Observable((observer) => {\n            this._map.then((m) => {\n                m.addListener(eventName, (arg) => { this._zone.run(() => observer.next(arg)); });\n            });\n        });\n    }\n    clearInstanceListeners() {\n        return this._zone.runOutsideAngular(() => {\n            this._map.then((map) => {\n                google.maps.event.clearInstanceListeners(map);\n            });\n        });\n    }\n    setCenter(latLng) {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then((map) => map.setCenter(latLng));\n        });\n    }\n    getZoom() {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then((map) => map.getZoom());\n        });\n    }\n    getBounds() {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then((map) => map.getBounds());\n        });\n    }\n    getMapTypeId() {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then((map) => map.getMapTypeId());\n        });\n    }\n    setZoom(zoom) {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then((map) => map.setZoom(zoom));\n        });\n    }\n    getCenter() {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then((map) => map.getCenter());\n        });\n    }\n    panTo(latLng) {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then((map) => map.panTo(latLng));\n        });\n    }\n    panBy(x, y) {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then((map) => map.panBy(x, y));\n        });\n    }\n    fitBounds(latLng, padding) {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then((map) => map.fitBounds(latLng, padding));\n        });\n    }\n    panToBounds(latLng, padding) {\n        return this._zone.runOutsideAngular(() => {\n            return this._map.then((map) => map.panToBounds(latLng, padding));\n        });\n    }\n    /**\n     * Returns the native Google Maps Map instance. Be careful when using this instance directly.\n     */\n    getNativeMap() { return this._map; }\n    /**\n     * Triggers the given event name on the map instance.\n     */\n    triggerMapEvent(eventName) {\n        return this._map.then((m) => google.maps.event.trigger(m, eventName));\n    }\n};\nGoogleMapsAPIWrapper.ctorParameters = () => [\n    { type: MapsAPILoader },\n    { type: NgZone }\n];\nGoogleMapsAPIWrapper = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [MapsAPILoader, NgZone])\n], GoogleMapsAPIWrapper);\n\n/**\n * This class manages Transit and Bicycling Layers for a Google Map instance.\n */\nlet LayerManager = class LayerManager {\n    constructor(_wrapper) {\n        this._wrapper = _wrapper;\n        this._layers = new Map();\n    }\n    /**\n     * Adds a transit layer to a map instance.\n     * @param {AgmTransitLayer} layer - a TransitLayer object\n     * @param {TransitLayerOptions} options - TransitLayerOptions options\n     * @returns void\n     */\n    addTransitLayer(layer, options) {\n        const newLayer = this._wrapper.createTransitLayer(options);\n        this._layers.set(layer, newLayer);\n    }\n    /**\n     * Adds a bicycling layer to a map instance.\n     * @param {AgmBicyclingLayer} layer - a bicycling layer object\n     * @param {BicyclingLayerOptions} options - BicyclingLayer options\n     * @returns void\n     */\n    addBicyclingLayer(layer, options) {\n        const newLayer = this._wrapper.createBicyclingLayer(options);\n        this._layers.set(layer, newLayer);\n    }\n    /**\n     * Deletes a map layer\n     * @param {AgmTransitLayer|AgmBicyclingLayer} layer - the layer to delete\n     * @returns  Promise<void>\n     */\n    deleteLayer(layer) {\n        return this._layers.get(layer).then(currentLayer => {\n            currentLayer.setMap(null);\n            this._layers.delete(layer);\n        });\n    }\n    /**\n     * Hide/Show a google map layer\n     * @param { AgmTransitLayer|AgmBicyclingLayer} layer - the layer to hide/show\n     * @param {TransitLayerOptions|BicyclingLayerOptions} options - used to set visibility of the layer\n     * @returns Promise<void>\n     */\n    toggleLayerVisibility(layer, options) {\n        return this._layers.get(layer).then(currentLayer => {\n            if (!options.visible) {\n                currentLayer.setMap(null);\n                return;\n            }\n            else {\n                return this._wrapper.getNativeMap().then((map) => {\n                    currentLayer.setMap(map);\n                });\n            }\n        });\n    }\n};\nLayerManager.ctorParameters = () => [\n    { type: GoogleMapsAPIWrapper }\n];\nLayerManager = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [GoogleMapsAPIWrapper])\n], LayerManager);\n\nlet layerId = 0;\n/*\n * This directive adds a bicycling layer to a google map instance\n * <agm-bicycling-layer [visible]=\"true|false\"> <agm-bicycling-layer>\n * */\nlet AgmBicyclingLayer = class AgmBicyclingLayer {\n    constructor(_manager) {\n        this._manager = _manager;\n        this._addedToManager = false;\n        this._id = (layerId++).toString();\n        /**\n         * Hide/show bicycling layer\n         */\n        this.visible = true;\n    }\n    ngOnInit() {\n        if (this._addedToManager) {\n            return;\n        }\n        this._manager.addBicyclingLayer(this, { visible: this.visible });\n        this._addedToManager = true;\n    }\n    ngOnChanges(changes) {\n        if (!this._addedToManager) {\n            return;\n        }\n        if (changes['visible'] != null) {\n            this._manager.toggleLayerVisibility(this, { visible: changes['visible'].currentValue });\n        }\n    }\n    /** @internal */\n    id() { return this._id; }\n    /** @internal */\n    toString() { return `AgmBicyclingLayer-${this._id.toString()}`; }\n    /** @internal */\n    ngOnDestroy() {\n        this._manager.deleteLayer(this);\n    }\n};\nAgmBicyclingLayer.ctorParameters = () => [\n    { type: LayerManager }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmBicyclingLayer.prototype, \"visible\", void 0);\nAgmBicyclingLayer = __decorate([\n    Directive({\n        selector: 'agm-bicycling-layer',\n    }),\n    __metadata(\"design:paramtypes\", [LayerManager])\n], AgmBicyclingLayer);\n\nlet CircleManager = class CircleManager {\n    constructor(_apiWrapper, _zone) {\n        this._apiWrapper = _apiWrapper;\n        this._zone = _zone;\n        this._circles = new Map();\n    }\n    addCircle(circle) {\n        this._circles.set(circle, this._apiWrapper.createCircle({\n            center: { lat: circle.latitude, lng: circle.longitude },\n            clickable: circle.clickable,\n            draggable: circle.draggable,\n            editable: circle.editable,\n            fillColor: circle.fillColor,\n            fillOpacity: circle.fillOpacity,\n            radius: circle.radius,\n            strokeColor: circle.strokeColor,\n            strokeOpacity: circle.strokeOpacity,\n            strokePosition: circle.strokePosition,\n            strokeWeight: circle.strokeWeight,\n            visible: circle.visible,\n            zIndex: circle.zIndex,\n        }));\n    }\n    /**\n     * Removes the given circle from the map.\n     */\n    removeCircle(circle) {\n        return this._circles.get(circle).then((c) => {\n            c.setMap(null);\n            this._circles.delete(circle);\n        });\n    }\n    setOptions(circle, options) {\n        return this._circles.get(circle).then((c) => {\n            if (typeof options.strokePosition === 'string') {\n                options.strokePosition = google.maps.StrokePosition[options.strokePosition];\n            }\n            c.setOptions(options);\n        });\n    }\n    getBounds(circle) {\n        return this._circles.get(circle).then((c) => c.getBounds());\n    }\n    getCenter(circle) {\n        return this._circles.get(circle).then((c) => c.getCenter());\n    }\n    getRadius(circle) {\n        return this._circles.get(circle).then((c) => c.getRadius());\n    }\n    setCenter(circle) {\n        return this._circles.get(circle).then((c) => { return c.setCenter({ lat: circle.latitude, lng: circle.longitude }); });\n    }\n    setEditable(circle) {\n        return this._circles.get(circle).then((c) => { return c.setEditable(circle.editable); });\n    }\n    setDraggable(circle) {\n        return this._circles.get(circle).then((c) => { return c.setDraggable(circle.draggable); });\n    }\n    setVisible(circle) {\n        return this._circles.get(circle).then((c) => { return c.setVisible(circle.visible); });\n    }\n    setRadius(circle) {\n        return this._circles.get(circle).then((c) => { return c.setRadius(circle.radius); });\n    }\n    getNativeCircle(circle) {\n        return this._circles.get(circle);\n    }\n    createEventObservable(eventName, circle) {\n        return new Observable((observer) => {\n            let listener = null;\n            this._circles.get(circle).then((c) => {\n                listener = c.addListener(eventName, (e) => this._zone.run(() => observer.next(e)));\n            });\n            return () => {\n                if (listener !== null) {\n                    listener.remove();\n                }\n            };\n        });\n    }\n};\nCircleManager.ctorParameters = () => [\n    { type: GoogleMapsAPIWrapper },\n    { type: NgZone }\n];\nCircleManager = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [GoogleMapsAPIWrapper, NgZone])\n], CircleManager);\n\nvar AgmCircle_1;\nlet AgmCircle = AgmCircle_1 = class AgmCircle {\n    constructor(_manager) {\n        this._manager = _manager;\n        /**\n         * Indicates whether this Circle handles mouse events. Defaults to true.\n         */\n        this.clickable = true;\n        /**\n         * If set to true, the user can drag this circle over the map. Defaults to false.\n         */\n        // tslint:disable-next-line:no-input-rename\n        this.draggable = false;\n        /**\n         * If set to true, the user can edit this circle by dragging the control points shown at\n         * the center and around the circumference of the circle. Defaults to false.\n         */\n        this.editable = false;\n        /**\n         * The radius in meters on the Earth's surface.\n         */\n        this.radius = 0;\n        /**\n         * The stroke position. Defaults to CENTER.\n         * This property is not supported on Internet Explorer 8 and earlier.\n         */\n        this.strokePosition = 'CENTER';\n        /**\n         * The stroke width in pixels.\n         */\n        this.strokeWeight = 0;\n        /**\n         * Whether this circle is visible on the map. Defaults to true.\n         */\n        this.visible = true;\n        /**\n         * This event is fired when the circle's center is changed.\n         */\n        this.centerChange = new EventEmitter();\n        /**\n         * This event emitter gets emitted when the user clicks on the circle.\n         */\n        this.circleClick = new EventEmitter();\n        /**\n         * This event emitter gets emitted when the user clicks on the circle.\n         */\n        this.circleDblClick = new EventEmitter();\n        /**\n         * This event is repeatedly fired while the user drags the circle.\n         */\n        this.drag = new EventEmitter();\n        /**\n         * This event is fired when the user stops dragging the circle.\n         */\n        this.dragEnd = new EventEmitter();\n        /**\n         * This event is fired when the user starts dragging the circle.\n         */\n        this.dragStart = new EventEmitter();\n        /**\n         * This event is fired when the DOM mousedown event is fired on the circle.\n         */\n        this.mouseDown = new EventEmitter();\n        /**\n         * This event is fired when the DOM mousemove event is fired on the circle.\n         */\n        this.mouseMove = new EventEmitter();\n        /**\n         * This event is fired on circle mouseout.\n         */\n        this.mouseOut = new EventEmitter();\n        /**\n         * This event is fired on circle mouseover.\n         */\n        this.mouseOver = new EventEmitter();\n        /**\n         * This event is fired when the DOM mouseup event is fired on the circle.\n         */\n        this.mouseUp = new EventEmitter();\n        /**\n         * This event is fired when the circle's radius is changed.\n         */\n        this.radiusChange = new EventEmitter();\n        /**\n         * This event is fired when the circle is right-clicked on.\n         */\n        this.rightClick = new EventEmitter();\n        this._circleAddedToManager = false;\n        this._eventSubscriptions = [];\n    }\n    /** @internal */\n    ngOnInit() {\n        this._manager.addCircle(this);\n        this._circleAddedToManager = true;\n        this._registerEventListeners();\n    }\n    /** @internal */\n    ngOnChanges(changes) {\n        if (!this._circleAddedToManager) {\n            return;\n        }\n        if (changes['latitude'] || changes['longitude']) {\n            this._manager.setCenter(this);\n        }\n        if (changes['editable']) {\n            this._manager.setEditable(this);\n        }\n        if (changes['draggable']) {\n            this._manager.setDraggable(this);\n        }\n        if (changes['visible']) {\n            this._manager.setVisible(this);\n        }\n        if (changes['radius']) {\n            this._manager.setRadius(this);\n        }\n        this._updateCircleOptionsChanges(changes);\n    }\n    _updateCircleOptionsChanges(changes) {\n        let options = {};\n        let optionKeys = Object.keys(changes).filter(k => AgmCircle_1._mapOptions.indexOf(k) !== -1);\n        optionKeys.forEach((k) => { options[k] = changes[k].currentValue; });\n        if (optionKeys.length > 0) {\n            this._manager.setOptions(this, options);\n        }\n    }\n    _registerEventListeners() {\n        let events = new Map();\n        events.set('center_changed', this.centerChange);\n        events.set('click', this.circleClick);\n        events.set('dblclick', this.circleDblClick);\n        events.set('drag', this.drag);\n        events.set('dragend', this.dragEnd);\n        events.set('dragstart', this.dragStart);\n        events.set('mousedown', this.mouseDown);\n        events.set('mousemove', this.mouseMove);\n        events.set('mouseout', this.mouseOut);\n        events.set('mouseover', this.mouseOver);\n        events.set('mouseup', this.mouseUp);\n        events.set('radius_changed', this.radiusChange);\n        events.set('rightclick', this.rightClick);\n        events.forEach((eventEmitter, eventName) => {\n            this._eventSubscriptions.push(this._manager.createEventObservable(eventName, this).subscribe((value) => {\n                switch (eventName) {\n                    case 'radius_changed':\n                        this._manager.getRadius(this).then((radius) => eventEmitter.emit(radius));\n                        break;\n                    case 'center_changed':\n                        this._manager.getCenter(this).then((center) => eventEmitter.emit({ lat: center.lat(), lng: center.lng() }));\n                        break;\n                    default:\n                        eventEmitter.emit({ coords: { lat: value.latLng.lat(), lng: value.latLng.lng() } });\n                }\n            }));\n        });\n    }\n    /** @internal */\n    ngOnDestroy() {\n        this._eventSubscriptions.forEach(function (s) { s.unsubscribe(); });\n        this._eventSubscriptions = null;\n        this._manager.removeCircle(this);\n    }\n    /**\n     * Gets the LatLngBounds of this Circle.\n     */\n    getBounds() { return this._manager.getBounds(this); }\n    getCenter() { return this._manager.getCenter(this); }\n};\nAgmCircle._mapOptions = [\n    'fillColor', 'fillOpacity', 'strokeColor', 'strokeOpacity', 'strokePosition', 'strokeWeight',\n    'visible', 'zIndex', 'clickable',\n];\nAgmCircle.ctorParameters = () => [\n    { type: CircleManager }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmCircle.prototype, \"latitude\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmCircle.prototype, \"longitude\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmCircle.prototype, \"clickable\", void 0);\n__decorate([\n    Input('circleDraggable'),\n    __metadata(\"design:type\", Object)\n], AgmCircle.prototype, \"draggable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmCircle.prototype, \"editable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmCircle.prototype, \"fillColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmCircle.prototype, \"fillOpacity\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmCircle.prototype, \"radius\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmCircle.prototype, \"strokeColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmCircle.prototype, \"strokeOpacity\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmCircle.prototype, \"strokePosition\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmCircle.prototype, \"strokeWeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmCircle.prototype, \"visible\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmCircle.prototype, \"zIndex\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmCircle.prototype, \"centerChange\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmCircle.prototype, \"circleClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmCircle.prototype, \"circleDblClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmCircle.prototype, \"drag\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmCircle.prototype, \"dragEnd\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmCircle.prototype, \"dragStart\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmCircle.prototype, \"mouseDown\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmCircle.prototype, \"mouseMove\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmCircle.prototype, \"mouseOut\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmCircle.prototype, \"mouseOver\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmCircle.prototype, \"mouseUp\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmCircle.prototype, \"radiusChange\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmCircle.prototype, \"rightClick\", void 0);\nAgmCircle = AgmCircle_1 = __decorate([\n    Directive({\n        selector: 'agm-circle',\n    }),\n    __metadata(\"design:paramtypes\", [CircleManager])\n], AgmCircle);\n\n/**\n * Manages all Data Layers for a Google Map instance.\n */\nlet DataLayerManager = class DataLayerManager {\n    constructor(_wrapper, _zone) {\n        this._wrapper = _wrapper;\n        this._zone = _zone;\n        this._layers = new Map();\n    }\n    /**\n     * Adds a new Data Layer to the map.\n     */\n    addDataLayer(layer) {\n        const newLayer = this._wrapper.createDataLayer({\n            style: layer.style,\n        })\n            .then(d => {\n            if (layer.geoJson) {\n                this.getDataFeatures(d, layer.geoJson).then(features => d.features = features);\n            }\n            return d;\n        });\n        this._layers.set(layer, newLayer);\n    }\n    deleteDataLayer(layer) {\n        this._layers.get(layer).then(l => {\n            l.setMap(null);\n            this._layers.delete(layer);\n        });\n    }\n    updateGeoJson(layer, geoJson) {\n        this._layers.get(layer).then(l => {\n            l.forEach(function (feature) {\n                l.remove(feature);\n                var index = l.features.indexOf(feature, 0);\n                if (index > -1) {\n                    l.features.splice(index, 1);\n                }\n            });\n            this.getDataFeatures(l, geoJson).then(features => l.features = features);\n        });\n    }\n    setDataOptions(layer, options) {\n        this._layers.get(layer).then(l => {\n            l.setControlPosition(options.controlPosition);\n            l.setControls(options.controls);\n            l.setDrawingMode(options.drawingMode);\n            l.setStyle(options.style);\n        });\n    }\n    /**\n     * Creates a Google Maps event listener for the given DataLayer as an Observable\n     */\n    createEventObservable(eventName, layer) {\n        return new Observable((observer) => {\n            this._layers.get(layer).then((d) => {\n                d.addListener(eventName, (e) => this._zone.run(() => observer.next(e)));\n            });\n        });\n    }\n    /**\n     * Extract features from a geoJson using google.maps Data Class\n     * @param d : google.maps.Data class instance\n     * @param geoJson : url or geojson object\n     */\n    getDataFeatures(d, geoJson) {\n        return new Promise((resolve, reject) => {\n            if (typeof geoJson === 'object') {\n                try {\n                    const features = d.addGeoJson(geoJson);\n                    resolve(features);\n                }\n                catch (e) {\n                    reject(e);\n                }\n            }\n            else if (typeof geoJson === 'string') {\n                d.loadGeoJson(geoJson, null, resolve);\n            }\n            else {\n                reject(`Impossible to extract features from geoJson: wrong argument type`);\n            }\n        });\n    }\n};\nDataLayerManager.ctorParameters = () => [\n    { type: GoogleMapsAPIWrapper },\n    { type: NgZone }\n];\nDataLayerManager = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [GoogleMapsAPIWrapper, NgZone])\n], DataLayerManager);\n\nvar AgmDataLayer_1;\nlet layerId$1 = 0;\n/**\n * AgmDataLayer enables the user to add data layers to the map.\n *\n * ### Example\n * ```typescript\n * import { Component } from 'angular2/core';\n * import { AgmMap, AgmDataLayer } from\n * 'angular-google-maps/core';\n *\n * @Component({\n *  selector: 'my-map-cmp',\n *  directives: [AgmMap, AgmDataLayer],\n *  styles: [`\n *    .agm-container {\n *      height: 300px;\n *    }\n * `],\n *  template: `\n * <agm-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\">\n * \t  <agm-data-layer [geoJson]=\"geoJsonObject\" (layerClick)=\"clicked($event)\" [style]=\"styleFunc\">\n * \t  </agm-data-layer>\n * </agm-map>\n *  `\n * })\n * export class MyMapCmp {\n *   lat: number = -25.274449;\n *   lng: number = 133.775060;\n *   zoom: number = 5;\n *\n * clicked(clickEvent) {\n *    console.log(clickEvent);\n *  }\n *\n *  styleFunc(feature) {\n *    return ({\n *      clickable: false,\n *      fillColor: feature.getProperty('color'),\n *      strokeWeight: 1\n *    });\n *  }\n *\n *  geoJsonObject: Object = {\n *    \"type\": \"FeatureCollection\",\n *    \"features\": [\n *      {\n *        \"type\": \"Feature\",\n *        \"properties\": {\n *          \"letter\": \"G\",\n *          \"color\": \"blue\",\n *          \"rank\": \"7\",\n *          \"ascii\": \"71\"\n *        },\n *        \"geometry\": {\n *          \"type\": \"Polygon\",\n *          \"coordinates\": [\n *            [\n *              [123.61, -22.14], [122.38, -21.73], [121.06, -21.69], [119.66, -22.22], [119.00, -23.40],\n *              [118.65, -24.76], [118.43, -26.07], [118.78, -27.56], [119.22, -28.57], [120.23, -29.49],\n *              [121.77, -29.87], [123.57, -29.64], [124.45, -29.03], [124.71, -27.95], [124.80, -26.70],\n *              [124.80, -25.60], [123.61, -25.64], [122.56, -25.64], [121.72, -25.72], [121.81, -26.62],\n *              [121.86, -26.98], [122.60, -26.90], [123.57, -27.05], [123.57, -27.68], [123.35, -28.18],\n *              [122.51, -28.38], [121.77, -28.26], [121.02, -27.91], [120.49, -27.21], [120.14, -26.50],\n *              [120.10, -25.64], [120.27, -24.52], [120.67, -23.68], [121.72, -23.32], [122.43, -23.48],\n *              [123.04, -24.04], [124.54, -24.28], [124.58, -23.20], [123.61, -22.14]\n *            ]\n *          ]\n *        }\n *      },\n *      {\n *        \"type\": \"Feature\",\n *        \"properties\": {\n *          \"letter\": \"o\",\n *          \"color\": \"red\",\n *          \"rank\": \"15\",\n *          \"ascii\": \"111\"\n *        },\n *        \"geometry\": {\n *          \"type\": \"Polygon\",\n *          \"coordinates\": [\n *            [\n *              [128.84, -25.76], [128.18, -25.60], [127.96, -25.52], [127.88, -25.52], [127.70, -25.60],\n *              [127.26, -25.79], [126.60, -26.11], [126.16, -26.78], [126.12, -27.68], [126.21, -28.42],\n *              [126.69, -29.49], [127.74, -29.80], [128.80, -29.72], [129.41, -29.03], [129.72, -27.95],\n *              [129.68, -27.21], [129.33, -26.23], [128.84, -25.76]\n *            ],\n *            [\n *              [128.45, -27.44], [128.32, -26.94], [127.70, -26.82], [127.35, -27.05], [127.17, -27.80],\n *              [127.57, -28.22], [128.10, -28.42], [128.49, -27.80], [128.45, -27.44]\n *            ]\n *          ]\n *        }\n *      },\n *      {\n *        \"type\": \"Feature\",\n *        \"properties\": {\n *          \"letter\": \"o\",\n *          \"color\": \"yellow\",\n *          \"rank\": \"15\",\n *          \"ascii\": \"111\"\n *        },\n *        \"geometry\": {\n *          \"type\": \"Polygon\",\n *          \"coordinates\": [\n *            [\n *              [131.87, -25.76], [131.35, -26.07], [130.95, -26.78], [130.82, -27.64], [130.86, -28.53],\n *              [131.26, -29.22], [131.92, -29.76], [132.45, -29.87], [133.06, -29.76], [133.72, -29.34],\n *              [134.07, -28.80], [134.20, -27.91], [134.07, -27.21], [133.81, -26.31], [133.37, -25.83],\n *              [132.71, -25.64], [131.87, -25.76]\n *            ],\n *            [\n *              [133.15, -27.17], [132.71, -26.86], [132.09, -26.90], [131.74, -27.56], [131.79, -28.26],\n *              [132.36, -28.45], [132.93, -28.34], [133.15, -27.76], [133.15, -27.17]\n *            ]\n *          ]\n *        }\n *      },\n *      {\n *        \"type\": \"Feature\",\n *        \"properties\": {\n *          \"letter\": \"g\",\n *          \"color\": \"blue\",\n *          \"rank\": \"7\",\n *          \"ascii\": \"103\"\n *        },\n *        \"geometry\": {\n *          \"type\": \"Polygon\",\n *          \"coordinates\": [\n *            [\n *              [138.12, -25.04], [136.84, -25.16], [135.96, -25.36], [135.26, -25.99], [135, -26.90],\n *              [135.04, -27.91], [135.26, -28.88], [136.05, -29.45], [137.02, -29.49], [137.81, -29.49],\n *              [137.94, -29.99], [137.90, -31.20], [137.85, -32.24], [136.88, -32.69], [136.45, -32.36],\n *              [136.27, -31.80], [134.95, -31.84], [135.17, -32.99], [135.52, -33.43], [136.14, -33.76],\n *              [137.06, -33.83], [138.12, -33.65], [138.86, -33.21], [139.30, -32.28], [139.30, -31.24],\n *              [139.30, -30.14], [139.21, -28.96], [139.17, -28.22], [139.08, -27.41], [139.08, -26.47],\n *              [138.99, -25.40], [138.73, -25.00], [138.12, -25.04]\n *            ],\n *            [\n *              [137.50, -26.54], [136.97, -26.47], [136.49, -26.58], [136.31, -27.13], [136.31, -27.72],\n *              [136.58, -27.99], [137.50, -28.03], [137.68, -27.68], [137.59, -26.78], [137.50, -26.54]\n *            ]\n *          ]\n *        }\n *      },\n *      {\n *        \"type\": \"Feature\",\n *        \"properties\": {\n *          \"letter\": \"l\",\n *          \"color\": \"green\",\n *          \"rank\": \"12\",\n *          \"ascii\": \"108\"\n *        },\n *        \"geometry\": {\n *          \"type\": \"Polygon\",\n *          \"coordinates\": [\n *            [\n *              [140.14, -21.04], [140.31, -29.42], [141.67, -29.49], [141.59, -20.92], [140.14, -21.04]\n *            ]\n *          ]\n *        }\n *      },\n *      {\n *        \"type\": \"Feature\",\n *        \"properties\": {\n *          \"letter\": \"e\",\n *          \"color\": \"red\",\n *          \"rank\": \"5\",\n *          \"ascii\": \"101\"\n *        },\n *        \"geometry\": {\n *          \"type\": \"Polygon\",\n *          \"coordinates\": [\n *            [\n *              [144.14, -27.41], [145.67, -27.52], [146.86, -27.09], [146.82, -25.64], [146.25, -25.04],\n *              [145.45, -24.68], [144.66, -24.60], [144.09, -24.76], [143.43, -25.08], [142.99, -25.40],\n *              [142.64, -26.03], [142.64, -27.05], [142.64, -28.26], [143.30, -29.11], [144.18, -29.57],\n *              [145.41, -29.64], [146.46, -29.19], [146.64, -28.72], [146.82, -28.14], [144.84, -28.42],\n *              [144.31, -28.26], [144.14, -27.41]\n *            ],\n *            [\n *              [144.18, -26.39], [144.53, -26.58], [145.19, -26.62], [145.72, -26.35], [145.81, -25.91],\n *              [145.41, -25.68], [144.97, -25.68], [144.49, -25.64], [144, -25.99], [144.18, -26.39]\n *            ]\n *          ]\n *        }\n *      }\n *    ]\n *  };\n * }\n * ```\n */\nlet AgmDataLayer = AgmDataLayer_1 = class AgmDataLayer {\n    constructor(_manager) {\n        this._manager = _manager;\n        this._addedToManager = false;\n        this._id = (layerId$1++).toString();\n        this._subscriptions = [];\n        /**\n         * This event is fired when a feature in the layer is clicked.\n         */\n        this.layerClick = new EventEmitter();\n        /**\n         * The geoJson to be displayed\n         */\n        this.geoJson = null;\n    }\n    ngOnInit() {\n        if (this._addedToManager) {\n            return;\n        }\n        this._manager.addDataLayer(this);\n        this._addedToManager = true;\n        this._addEventListeners();\n    }\n    _addEventListeners() {\n        const listeners = [\n            { name: 'click', handler: (ev) => this.layerClick.emit(ev) },\n        ];\n        listeners.forEach((obj) => {\n            const os = this._manager.createEventObservable(obj.name, this).subscribe(obj.handler);\n            this._subscriptions.push(os);\n        });\n    }\n    /** @internal */\n    id() { return this._id; }\n    /** @internal */\n    toString() { return `AgmDataLayer-${this._id.toString()}`; }\n    /** @internal */\n    ngOnDestroy() {\n        this._manager.deleteDataLayer(this);\n        // unsubscribe all registered observable subscriptions\n        this._subscriptions.forEach(s => s.unsubscribe());\n    }\n    /** @internal */\n    ngOnChanges(changes) {\n        if (!this._addedToManager) {\n            return;\n        }\n        var geoJsonChange = changes['geoJson'];\n        if (geoJsonChange) {\n            this._manager.updateGeoJson(this, geoJsonChange.currentValue);\n        }\n        let dataOptions = {};\n        AgmDataLayer_1._dataOptionsAttributes.forEach(k => dataOptions[k] = changes.hasOwnProperty(k) ? changes[k].currentValue : this[k]);\n        this._manager.setDataOptions(this, dataOptions);\n    }\n};\nAgmDataLayer._dataOptionsAttributes = ['style'];\nAgmDataLayer.ctorParameters = () => [\n    { type: DataLayerManager }\n];\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmDataLayer.prototype, \"layerClick\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmDataLayer.prototype, \"geoJson\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Function)\n], AgmDataLayer.prototype, \"style\", void 0);\nAgmDataLayer = AgmDataLayer_1 = __decorate([\n    Directive({\n        selector: 'agm-data-layer',\n    }),\n    __metadata(\"design:paramtypes\", [DataLayerManager])\n], AgmDataLayer);\n\n/**\n * Class to implement when you what to be able to make it work with the auto fit bounds feature\n * of AGM.\n */\nclass FitBoundsAccessor {\n}\n/**\n * The FitBoundsService is responsible for computing the bounds of the a single map.\n */\nlet FitBoundsService = class FitBoundsService {\n    constructor(loader) {\n        this._boundsChangeSampleTime$ = new BehaviorSubject(200);\n        this._includeInBounds$ = new BehaviorSubject(new Map());\n        this.bounds$ = from(loader.load()).pipe(flatMap(() => this._includeInBounds$), sample(this._boundsChangeSampleTime$.pipe(switchMap(time => timer(0, time)))), map(includeInBounds => this._generateBounds(includeInBounds)), shareReplay(1));\n    }\n    _generateBounds(includeInBounds) {\n        const bounds = new google.maps.LatLngBounds();\n        includeInBounds.forEach(b => bounds.extend(b));\n        return bounds;\n    }\n    addToBounds(latLng) {\n        const id = this._createIdentifier(latLng);\n        if (this._includeInBounds$.value.has(id)) {\n            return;\n        }\n        const map = this._includeInBounds$.value;\n        map.set(id, latLng);\n        this._includeInBounds$.next(map);\n    }\n    removeFromBounds(latLng) {\n        const map = this._includeInBounds$.value;\n        map.delete(this._createIdentifier(latLng));\n        this._includeInBounds$.next(map);\n    }\n    changeFitBoundsChangeSampleTime(timeMs) {\n        this._boundsChangeSampleTime$.next(timeMs);\n    }\n    getBounds$() {\n        return this.bounds$;\n    }\n    _createIdentifier(latLng) {\n        return `${latLng.lat}+${latLng.lng}`;\n    }\n};\nFitBoundsService.ctorParameters = () => [\n    { type: MapsAPILoader }\n];\nFitBoundsService = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [MapsAPILoader])\n], FitBoundsService);\n\n/**\n * Adds the given directive to the auto fit bounds feature when the value is true.\n * To make it work with you custom AGM component, you also have to implement the {@link FitBoundsAccessor} abstract class.\n * @example\n * <agm-marker [agmFitBounds]=\"true\"></agm-marker>\n */\nlet AgmFitBounds = class AgmFitBounds {\n    constructor(_fitBoundsAccessor, _fitBoundsService) {\n        this._fitBoundsAccessor = _fitBoundsAccessor;\n        this._fitBoundsService = _fitBoundsService;\n        /**\n         * If the value is true, the element gets added to the bounds of the map.\n         * Default: true.\n         */\n        this.agmFitBounds = true;\n        this._destroyed$ = new Subject();\n        this._latestFitBoundsDetails = null;\n    }\n    /**\n     * @internal\n     */\n    ngOnChanges() {\n        this._updateBounds();\n    }\n    /**\n     * @internal\n     */\n    ngOnInit() {\n        this._fitBoundsAccessor\n            .getFitBoundsDetails$()\n            .pipe(distinctUntilChanged((x, y) => x.latLng.lat === y.latLng.lat && x.latLng.lng === y.latLng.lng), takeUntil(this._destroyed$))\n            .subscribe(details => this._updateBounds(details));\n    }\n    /*\n     Either the location changed, or visible status changed.\n     Possible state changes are\n     invisible -> visible\n     visible -> invisible\n     visible -> visible (new location)\n    */\n    _updateBounds(newFitBoundsDetails) {\n        // either visibility will change, or location, so remove the old one anyway\n        if (this._latestFitBoundsDetails) {\n            this._fitBoundsService.removeFromBounds(this._latestFitBoundsDetails.latLng);\n            // don't set latestFitBoundsDetails to null, because we can toggle visibility from\n            // true -> false -> true, in which case we still need old value cached here\n        }\n        if (newFitBoundsDetails) {\n            this._latestFitBoundsDetails = newFitBoundsDetails;\n        }\n        if (!this._latestFitBoundsDetails) {\n            return;\n        }\n        if (this.agmFitBounds === true) {\n            this._fitBoundsService.addToBounds(this._latestFitBoundsDetails.latLng);\n        }\n    }\n    /**\n     * @internal\n     */\n    ngOnDestroy() {\n        this._destroyed$.next();\n        this._destroyed$.complete();\n        if (this._latestFitBoundsDetails !== null) {\n            this._fitBoundsService.removeFromBounds(this._latestFitBoundsDetails.latLng);\n        }\n    }\n};\nAgmFitBounds.ctorParameters = () => [\n    { type: FitBoundsAccessor, decorators: [{ type: Self }] },\n    { type: FitBoundsService }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmFitBounds.prototype, \"agmFitBounds\", void 0);\nAgmFitBounds = __decorate([\n    Directive({\n        selector: '[agmFitBounds]',\n    }),\n    __param(0, Self()),\n    __metadata(\"design:paramtypes\", [FitBoundsAccessor,\n        FitBoundsService])\n], AgmFitBounds);\n\nlet MarkerManager = class MarkerManager {\n    constructor(_mapsWrapper, _zone) {\n        this._mapsWrapper = _mapsWrapper;\n        this._zone = _zone;\n        this._markers = new Map();\n    }\n    convertAnimation(uiAnim) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (uiAnim === null) {\n                return null;\n            }\n            else {\n                return this._mapsWrapper.getNativeMap().then(() => google.maps.Animation[uiAnim]);\n            }\n        });\n    }\n    deleteMarker(marker) {\n        const m = this._markers.get(marker);\n        if (m == null) {\n            // marker already deleted\n            return Promise.resolve();\n        }\n        return m.then((m) => {\n            return this._zone.run(() => {\n                m.setMap(null);\n                this._markers.delete(marker);\n            });\n        });\n    }\n    updateMarkerPosition(marker) {\n        return this._markers.get(marker).then((m) => m.setPosition({ lat: marker.latitude, lng: marker.longitude }));\n    }\n    updateTitle(marker) {\n        return this._markers.get(marker).then((m) => m.setTitle(marker.title));\n    }\n    updateLabel(marker) {\n        return this._markers.get(marker).then((m) => { m.setLabel(marker.label); });\n    }\n    updateDraggable(marker) {\n        return this._markers.get(marker).then((m) => m.setDraggable(marker.draggable));\n    }\n    updateIcon(marker) {\n        return this._markers.get(marker).then((m) => m.setIcon(marker.iconUrl));\n    }\n    updateOpacity(marker) {\n        return this._markers.get(marker).then((m) => m.setOpacity(marker.opacity));\n    }\n    updateVisible(marker) {\n        return this._markers.get(marker).then((m) => m.setVisible(marker.visible));\n    }\n    updateZIndex(marker) {\n        return this._markers.get(marker).then((m) => m.setZIndex(marker.zIndex));\n    }\n    updateClickable(marker) {\n        return this._markers.get(marker).then((m) => m.setClickable(marker.clickable));\n    }\n    updateAnimation(marker) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const m = yield this._markers.get(marker);\n            m.setAnimation(yield this.convertAnimation(marker.animation));\n        });\n    }\n    addMarker(marker) {\n        const markerPromise = new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n            return this._mapsWrapper.createMarker({\n                position: { lat: marker.latitude, lng: marker.longitude },\n                label: marker.label,\n                draggable: marker.draggable,\n                icon: marker.iconUrl,\n                opacity: marker.opacity,\n                visible: marker.visible,\n                zIndex: marker.zIndex,\n                title: marker.title,\n                clickable: marker.clickable,\n                animation: yield this.convertAnimation(marker.animation),\n            }).then(resolve);\n        }));\n        this._markers.set(marker, markerPromise);\n    }\n    getNativeMarker(marker) {\n        return this._markers.get(marker);\n    }\n    createEventObservable(eventName, marker) {\n        return new Observable((observer) => {\n            this._markers.get(marker).then((m) => {\n                m.addListener(eventName, (e) => this._zone.run(() => observer.next(e)));\n            });\n        });\n    }\n};\nMarkerManager.ctorParameters = () => [\n    { type: GoogleMapsAPIWrapper },\n    { type: NgZone }\n];\nMarkerManager = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [GoogleMapsAPIWrapper, NgZone])\n], MarkerManager);\n\nlet InfoWindowManager = class InfoWindowManager {\n    constructor(_mapsWrapper, _zone, _markerManager) {\n        this._mapsWrapper = _mapsWrapper;\n        this._zone = _zone;\n        this._markerManager = _markerManager;\n        this._infoWindows = new Map();\n    }\n    deleteInfoWindow(infoWindow) {\n        const iWindow = this._infoWindows.get(infoWindow);\n        if (iWindow == null) {\n            // info window already deleted\n            return Promise.resolve();\n        }\n        return iWindow.then((i) => {\n            return this._zone.run(() => {\n                i.close();\n                this._infoWindows.delete(infoWindow);\n            });\n        });\n    }\n    setPosition(infoWindow) {\n        return this._infoWindows.get(infoWindow).then((i) => i.setPosition({\n            lat: infoWindow.latitude,\n            lng: infoWindow.longitude,\n        }));\n    }\n    setZIndex(infoWindow) {\n        return this._infoWindows.get(infoWindow)\n            .then((i) => i.setZIndex(infoWindow.zIndex));\n    }\n    open(infoWindow) {\n        return this._infoWindows.get(infoWindow).then((w) => {\n            if (infoWindow.hostMarker != null) {\n                return this._markerManager.getNativeMarker(infoWindow.hostMarker).then((marker) => {\n                    return this._mapsWrapper.getNativeMap().then((map) => w.open(map, marker));\n                });\n            }\n            return this._mapsWrapper.getNativeMap().then((map) => w.open(map));\n        });\n    }\n    close(infoWindow) {\n        return this._infoWindows.get(infoWindow).then((w) => w.close());\n    }\n    setOptions(infoWindow, options) {\n        return this._infoWindows.get(infoWindow).then((i) => i.setOptions(options));\n    }\n    addInfoWindow(infoWindow) {\n        const options = {\n            content: infoWindow.content,\n            maxWidth: infoWindow.maxWidth,\n            zIndex: infoWindow.zIndex,\n            disableAutoPan: infoWindow.disableAutoPan,\n        };\n        if (typeof infoWindow.latitude === 'number' && typeof infoWindow.longitude === 'number') {\n            options.position = { lat: infoWindow.latitude, lng: infoWindow.longitude };\n        }\n        const infoWindowPromise = this._mapsWrapper.createInfoWindow(options);\n        this._infoWindows.set(infoWindow, infoWindowPromise);\n    }\n    /**\n     * Creates a Google Maps event listener for the given InfoWindow as an Observable\n     */\n    createEventObservable(eventName, infoWindow) {\n        return new Observable((observer) => {\n            this._infoWindows.get(infoWindow).then((i) => {\n                i.addListener(eventName, (e) => this._zone.run(() => observer.next(e)));\n            });\n        });\n    }\n};\nInfoWindowManager.ctorParameters = () => [\n    { type: GoogleMapsAPIWrapper },\n    { type: NgZone },\n    { type: MarkerManager }\n];\nInfoWindowManager = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [GoogleMapsAPIWrapper, NgZone,\n        MarkerManager])\n], InfoWindowManager);\n\nvar AgmInfoWindow_1;\nlet infoWindowId = 0;\n/**\n * AgmInfoWindow renders a info window inside a {@link AgmMarker} or standalone.\n *\n * ### Example\n * ```typescript\n * import { Component } from '@angular/core';\n *\n * @Component({\n *  selector: 'my-map-cmp',\n *  styles: [`\n *    .agm-map-container {\n *      height: 300px;\n *    }\n * `],\n *  template: `\n *    <agm-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\">\n *      <agm-marker [latitude]=\"lat\" [longitude]=\"lng\" [label]=\"'M'\">\n *        <agm-info-window [disableAutoPan]=\"true\">\n *          Hi, this is the content of the <strong>info window</strong>\n *        </agm-info-window>\n *      </agm-marker>\n *    </agm-map>\n *  `\n * })\n * ```\n */\nlet AgmInfoWindow = AgmInfoWindow_1 = class AgmInfoWindow {\n    constructor(_infoWindowManager, _el) {\n        this._infoWindowManager = _infoWindowManager;\n        this._el = _el;\n        /**\n         * Sets the open state for the InfoWindow. You can also call the open() and close() methods.\n         */\n        this.isOpen = false;\n        /**\n         * Emits an event when the info window is closed.\n         */\n        this.infoWindowClose = new EventEmitter();\n        this._infoWindowAddedToManager = false;\n        this._id = (infoWindowId++).toString();\n    }\n    ngOnInit() {\n        this.content = this._el.nativeElement.querySelector('.agm-info-window-content');\n        this._infoWindowManager.addInfoWindow(this);\n        this._infoWindowAddedToManager = true;\n        this._updateOpenState();\n        this._registerEventListeners();\n    }\n    /** @internal */\n    ngOnChanges(changes) {\n        if (!this._infoWindowAddedToManager) {\n            return;\n        }\n        if ((changes['latitude'] || changes['longitude']) && typeof this.latitude === 'number' &&\n            typeof this.longitude === 'number') {\n            this._infoWindowManager.setPosition(this);\n        }\n        if (changes['zIndex']) {\n            this._infoWindowManager.setZIndex(this);\n        }\n        if (changes['isOpen']) {\n            this._updateOpenState();\n        }\n        this._setInfoWindowOptions(changes);\n    }\n    _registerEventListeners() {\n        this._infoWindowManager.createEventObservable('closeclick', this).subscribe(() => {\n            this.isOpen = false;\n            this.infoWindowClose.emit();\n        });\n    }\n    _updateOpenState() {\n        this.isOpen ? this.open() : this.close();\n    }\n    _setInfoWindowOptions(changes) {\n        let options = {};\n        let optionKeys = Object.keys(changes).filter(k => AgmInfoWindow_1._infoWindowOptionsInputs.indexOf(k) !== -1);\n        optionKeys.forEach((k) => { options[k] = changes[k].currentValue; });\n        this._infoWindowManager.setOptions(this, options);\n    }\n    /**\n     * Opens the info window.\n     */\n    open() { return this._infoWindowManager.open(this); }\n    /**\n     * Closes the info window.\n     */\n    close() {\n        return this._infoWindowManager.close(this).then(() => { this.infoWindowClose.emit(); });\n    }\n    /** @internal */\n    id() { return this._id; }\n    /** @internal */\n    toString() { return 'AgmInfoWindow-' + this._id.toString(); }\n    /** @internal */\n    ngOnDestroy() { this._infoWindowManager.deleteInfoWindow(this); }\n};\nAgmInfoWindow._infoWindowOptionsInputs = ['disableAutoPan', 'maxWidth'];\nAgmInfoWindow.ctorParameters = () => [\n    { type: InfoWindowManager },\n    { type: ElementRef }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmInfoWindow.prototype, \"latitude\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmInfoWindow.prototype, \"longitude\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], AgmInfoWindow.prototype, \"disableAutoPan\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmInfoWindow.prototype, \"zIndex\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmInfoWindow.prototype, \"maxWidth\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmInfoWindow.prototype, \"isOpen\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmInfoWindow.prototype, \"infoWindowClose\", void 0);\nAgmInfoWindow = AgmInfoWindow_1 = __decorate([\n    Component({\n        selector: 'agm-info-window',\n        template: `<div class='agm-info-window-content'>\n      <ng-content></ng-content>\n    </div>\n  `\n    }),\n    __metadata(\"design:paramtypes\", [InfoWindowManager, ElementRef])\n], AgmInfoWindow);\n\n/**\n * Manages all KML Layers for a Google Map instance.\n */\nlet KmlLayerManager = class KmlLayerManager {\n    constructor(_wrapper, _zone) {\n        this._wrapper = _wrapper;\n        this._zone = _zone;\n        this._layers = new Map();\n    }\n    /**\n     * Adds a new KML Layer to the map.\n     */\n    addKmlLayer(layer) {\n        const newLayer = this._wrapper.getNativeMap().then(m => {\n            return new google.maps.KmlLayer({\n                clickable: layer.clickable,\n                map: m,\n                preserveViewport: layer.preserveViewport,\n                screenOverlays: layer.screenOverlays,\n                suppressInfoWindows: layer.suppressInfoWindows,\n                url: layer.url,\n                zIndex: layer.zIndex,\n            });\n        });\n        this._layers.set(layer, newLayer);\n    }\n    setOptions(layer, options) {\n        this._layers.get(layer).then(l => l.setOptions(options));\n    }\n    deleteKmlLayer(layer) {\n        this._layers.get(layer).then(l => {\n            l.setMap(null);\n            this._layers.delete(layer);\n        });\n    }\n    /**\n     * Creates a Google Maps event listener for the given KmlLayer as an Observable\n     */\n    createEventObservable(eventName, layer) {\n        return new Observable((observer) => {\n            this._layers.get(layer).then((m) => {\n                m.addListener(eventName, (e) => this._zone.run(() => observer.next(e)));\n            });\n        });\n    }\n};\nKmlLayerManager.ctorParameters = () => [\n    { type: GoogleMapsAPIWrapper },\n    { type: NgZone }\n];\nKmlLayerManager = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [GoogleMapsAPIWrapper, NgZone])\n], KmlLayerManager);\n\nvar AgmKmlLayer_1;\nlet layerId$2 = 0;\nlet AgmKmlLayer = AgmKmlLayer_1 = class AgmKmlLayer {\n    constructor(_manager) {\n        this._manager = _manager;\n        this._addedToManager = false;\n        this._id = (layerId$2++).toString();\n        this._subscriptions = [];\n        /**\n         * If true, the layer receives mouse events. Default value is true.\n         */\n        this.clickable = true;\n        /**\n         * By default, the input map is centered and zoomed to the bounding box of the contents of the\n         * layer.\n         * If this option is set to true, the viewport is left unchanged, unless the map's center and zoom\n         * were never set.\n         */\n        this.preserveViewport = false;\n        /**\n         * Whether to render the screen overlays. Default true.\n         */\n        this.screenOverlays = true;\n        /**\n         * Suppress the rendering of info windows when layer features are clicked.\n         */\n        this.suppressInfoWindows = false;\n        /**\n         * The URL of the KML document to display.\n         */\n        this.url = null;\n        /**\n         * The z-index of the layer.\n         */\n        this.zIndex = null;\n        /**\n         * This event is fired when a feature in the layer is clicked.\n         */\n        this.layerClick = new EventEmitter();\n        /**\n         * This event is fired when the KML layers default viewport has changed.\n         */\n        this.defaultViewportChange = new EventEmitter();\n        /**\n         * This event is fired when the KML layer has finished loading.\n         * At this point it is safe to read the status property to determine if the layer loaded\n         * successfully.\n         */\n        this.statusChange = new EventEmitter();\n    }\n    ngOnInit() {\n        if (this._addedToManager) {\n            return;\n        }\n        this._manager.addKmlLayer(this);\n        this._addedToManager = true;\n        this._addEventListeners();\n    }\n    ngOnChanges(changes) {\n        if (!this._addedToManager) {\n            return;\n        }\n        this._updatePolygonOptions(changes);\n    }\n    _updatePolygonOptions(changes) {\n        const options = Object.keys(changes)\n            .filter(k => AgmKmlLayer_1._kmlLayerOptions.indexOf(k) !== -1)\n            .reduce((obj, k) => {\n            obj[k] = changes[k].currentValue;\n            return obj;\n        }, {});\n        if (Object.keys(options).length > 0) {\n            this._manager.setOptions(this, options);\n        }\n    }\n    _addEventListeners() {\n        const listeners = [\n            { name: 'click', handler: (ev) => this.layerClick.emit(ev) },\n            { name: 'defaultviewport_changed', handler: () => this.defaultViewportChange.emit() },\n            { name: 'status_changed', handler: () => this.statusChange.emit() },\n        ];\n        listeners.forEach((obj) => {\n            const os = this._manager.createEventObservable(obj.name, this).subscribe(obj.handler);\n            this._subscriptions.push(os);\n        });\n    }\n    /** @internal */\n    id() { return this._id; }\n    /** @internal */\n    toString() { return `AgmKmlLayer-${this._id.toString()}`; }\n    /** @internal */\n    ngOnDestroy() {\n        this._manager.deleteKmlLayer(this);\n        // unsubscribe all registered observable subscriptions\n        this._subscriptions.forEach(s => s.unsubscribe());\n    }\n};\nAgmKmlLayer._kmlLayerOptions = ['clickable', 'preserveViewport', 'screenOverlays', 'suppressInfoWindows', 'url', 'zIndex'];\nAgmKmlLayer.ctorParameters = () => [\n    { type: KmlLayerManager }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmKmlLayer.prototype, \"clickable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmKmlLayer.prototype, \"preserveViewport\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmKmlLayer.prototype, \"screenOverlays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmKmlLayer.prototype, \"suppressInfoWindows\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmKmlLayer.prototype, \"url\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmKmlLayer.prototype, \"zIndex\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmKmlLayer.prototype, \"layerClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmKmlLayer.prototype, \"defaultViewportChange\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmKmlLayer.prototype, \"statusChange\", void 0);\nAgmKmlLayer = AgmKmlLayer_1 = __decorate([\n    Directive({\n        selector: 'agm-kml-layer',\n    }),\n    __metadata(\"design:paramtypes\", [KmlLayerManager])\n], AgmKmlLayer);\n\nfunction createMVCEventObservable(array) {\n    const eventNames = ['insert_at', 'remove_at', 'set_at'];\n    return fromEventPattern((handler) => eventNames.map(evName => array.addListener(evName, (index, previous) => handler.apply(array, [{ 'newArr': array.getArray(), evName, index, previous }]))), (_handler, evListeners) => evListeners.forEach(evListener => evListener.remove()));\n}\nclass MvcArrayMock {\n    constructor() {\n        this.vals = [];\n        this.listeners = {\n            'remove_at': [],\n            'insert_at': [],\n            'set_at': [],\n        };\n    }\n    clear() {\n        for (let i = this.vals.length - 1; i >= 0; i--) {\n            this.removeAt(i);\n        }\n    }\n    getArray() {\n        return [...this.vals];\n    }\n    getAt(i) {\n        return this.vals[i];\n    }\n    getLength() {\n        return this.vals.length;\n    }\n    insertAt(i, elem) {\n        this.vals.splice(i, 0, elem);\n        this.listeners.insert_at.map(listener => listener(i));\n    }\n    pop() {\n        const deleted = this.vals.pop();\n        this.listeners.remove_at.map(listener => listener(this.vals.length, deleted));\n        return deleted;\n    }\n    push(elem) {\n        this.vals.push(elem);\n        this.listeners.insert_at.map(listener => listener(this.vals.length - 1));\n        return this.vals.length;\n    }\n    removeAt(i) {\n        const deleted = this.vals.splice(i, 1)[0];\n        this.listeners.remove_at.map(listener => listener(i, deleted));\n        return deleted;\n    }\n    setAt(i, elem) {\n        const deleted = this.vals[i];\n        this.vals[i] = elem;\n        this.listeners.set_at.map(listener => listener(i, deleted));\n    }\n    forEach(callback) {\n        this.vals.forEach(callback);\n    }\n    addListener(eventName, handler) {\n        const listenerArr = this.listeners[eventName];\n        listenerArr.push(handler);\n        return {\n            remove: () => {\n                listenerArr.splice(listenerArr.indexOf(handler), 1);\n            },\n        };\n    }\n}\n\nlet PolygonManager = class PolygonManager {\n    constructor(_mapsWrapper, _zone) {\n        this._mapsWrapper = _mapsWrapper;\n        this._zone = _zone;\n        this._polygons = new Map();\n    }\n    addPolygon(path) {\n        const polygonPromise = this._mapsWrapper.createPolygon({\n            clickable: path.clickable,\n            draggable: path.draggable,\n            editable: path.editable,\n            fillColor: path.fillColor,\n            fillOpacity: path.fillOpacity,\n            geodesic: path.geodesic,\n            paths: path.paths,\n            strokeColor: path.strokeColor,\n            strokeOpacity: path.strokeOpacity,\n            strokeWeight: path.strokeWeight,\n            visible: path.visible,\n            zIndex: path.zIndex,\n        });\n        this._polygons.set(path, polygonPromise);\n    }\n    updatePolygon(polygon) {\n        const m = this._polygons.get(polygon);\n        if (m == null) {\n            return Promise.resolve();\n        }\n        return m.then((l) => this._zone.run(() => { l.setPaths(polygon.paths); }));\n    }\n    setPolygonOptions(path, options) {\n        return this._polygons.get(path).then((l) => { l.setOptions(options); });\n    }\n    deletePolygon(paths) {\n        const m = this._polygons.get(paths);\n        if (m == null) {\n            return Promise.resolve();\n        }\n        return m.then((l) => {\n            return this._zone.run(() => {\n                l.setMap(null);\n                this._polygons.delete(paths);\n            });\n        });\n    }\n    getPath(polygon) {\n        return this._polygons.get(polygon)\n            .then((polygon) => polygon.getPath().getArray());\n    }\n    getPaths(polygon) {\n        return this._polygons.get(polygon)\n            .then((polygon) => polygon.getPaths().getArray().map((p) => p.getArray()));\n    }\n    createEventObservable(eventName, path) {\n        return new Observable((observer) => {\n            this._polygons.get(path).then((l) => {\n                l.addListener(eventName, (e) => this._zone.run(() => observer.next(e)));\n            });\n        });\n    }\n    createPathEventObservable(agmPolygon) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const polygon = yield this._polygons.get(agmPolygon);\n            const paths = polygon.getPaths();\n            const pathsChanges$ = createMVCEventObservable(paths);\n            return pathsChanges$.pipe(startWith({ newArr: paths.getArray() }), // in order to subscribe to them all\n            switchMap(parentMVEvent => merge(... // rest parameter\n            parentMVEvent.newArr.map((chMVC, index) => createMVCEventObservable(chMVC)\n                .pipe(map(chMVCEvent => ({ parentMVEvent, chMVCEvent, pathIndex: index })))))\n                .pipe(startWith({ parentMVEvent, chMVCEvent: null, pathIndex: null }))), // start the merged ob with an event signinifing change to parent\n            skip(1), // skip the manually added event\n            map(({ parentMVEvent, chMVCEvent, pathIndex }) => {\n                let retVal;\n                if (!chMVCEvent) {\n                    retVal = {\n                        newArr: parentMVEvent.newArr.map(subArr => subArr.getArray().map(latLng => latLng.toJSON())),\n                        eventName: parentMVEvent.evName,\n                        index: parentMVEvent.index,\n                    };\n                    if (parentMVEvent.previous) {\n                        retVal.previous = parentMVEvent.previous.getArray();\n                    }\n                }\n                else {\n                    retVal = {\n                        newArr: parentMVEvent.newArr.map(subArr => subArr.getArray().map(latLng => latLng.toJSON())),\n                        pathIndex,\n                        eventName: chMVCEvent.evName,\n                        index: chMVCEvent.index,\n                    };\n                    if (chMVCEvent.previous) {\n                        retVal.previous = chMVCEvent.previous;\n                    }\n                }\n                return retVal;\n            }));\n        });\n    }\n};\nPolygonManager.ctorParameters = () => [\n    { type: GoogleMapsAPIWrapper },\n    { type: NgZone }\n];\nPolygonManager = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [GoogleMapsAPIWrapper, NgZone])\n], PolygonManager);\n\nvar PolylineManager_1;\nlet PolylineManager = PolylineManager_1 = class PolylineManager {\n    constructor(_mapsWrapper, _zone) {\n        this._mapsWrapper = _mapsWrapper;\n        this._zone = _zone;\n        this._polylines = new Map();\n    }\n    static _convertPoints(line) {\n        const path = line._getPoints().map((point) => {\n            return { lat: point.latitude, lng: point.longitude };\n        });\n        return path;\n    }\n    static _convertPath(path) {\n        const symbolPath = google.maps.SymbolPath[path];\n        if (typeof symbolPath === 'number') {\n            return symbolPath;\n        }\n        else {\n            return path;\n        }\n    }\n    static _convertIcons(line) {\n        const icons = line._getIcons().map(agmIcon => ({\n            fixedRotation: agmIcon.fixedRotation,\n            offset: agmIcon.offset,\n            repeat: agmIcon.repeat,\n            icon: {\n                anchor: new google.maps.Point(agmIcon.anchorX, agmIcon.anchorY),\n                fillColor: agmIcon.fillColor,\n                fillOpacity: agmIcon.fillOpacity,\n                path: PolylineManager_1._convertPath(agmIcon.path),\n                rotation: agmIcon.rotation,\n                scale: agmIcon.scale,\n                strokeColor: agmIcon.strokeColor,\n                strokeOpacity: agmIcon.strokeOpacity,\n                strokeWeight: agmIcon.strokeWeight,\n            },\n        }));\n        // prune undefineds;\n        icons.forEach(icon => {\n            Object.entries(icon).forEach(([key, val]) => {\n                if (typeof val === 'undefined') {\n                    delete icon[key];\n                }\n            });\n            if (typeof icon.icon.anchor.x === 'undefined' ||\n                typeof icon.icon.anchor.y === 'undefined') {\n                delete icon.icon.anchor;\n            }\n        });\n        return icons;\n    }\n    addPolyline(line) {\n        const polylinePromise = this._mapsWrapper.getNativeMap()\n            .then(() => [PolylineManager_1._convertPoints(line),\n            PolylineManager_1._convertIcons(line)])\n            .then(([path, icons]) => this._mapsWrapper.createPolyline({\n            clickable: line.clickable,\n            draggable: line.draggable,\n            editable: line.editable,\n            geodesic: line.geodesic,\n            strokeColor: line.strokeColor,\n            strokeOpacity: line.strokeOpacity,\n            strokeWeight: line.strokeWeight,\n            visible: line.visible,\n            zIndex: line.zIndex,\n            path: path,\n            icons: icons,\n        }));\n        this._polylines.set(line, polylinePromise);\n    }\n    updatePolylinePoints(line) {\n        const path = PolylineManager_1._convertPoints(line);\n        const m = this._polylines.get(line);\n        if (m == null) {\n            return Promise.resolve();\n        }\n        return m.then((l) => { return this._zone.run(() => { l.setPath(path); }); });\n    }\n    updateIconSequences(line) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._mapsWrapper.getNativeMap();\n            const icons = PolylineManager_1._convertIcons(line);\n            const m = this._polylines.get(line);\n            if (m == null) {\n                return;\n            }\n            return m.then(l => this._zone.run(() => l.setOptions({ icons: icons })));\n        });\n    }\n    setPolylineOptions(line, options) {\n        return this._polylines.get(line).then((l) => { l.setOptions(options); });\n    }\n    deletePolyline(line) {\n        const m = this._polylines.get(line);\n        if (m == null) {\n            return Promise.resolve();\n        }\n        return m.then((l) => {\n            return this._zone.run(() => {\n                l.setMap(null);\n                this._polylines.delete(line);\n            });\n        });\n    }\n    getMVCPath(agmPolyline) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const polyline = yield this._polylines.get(agmPolyline);\n            return polyline.getPath();\n        });\n    }\n    getPath(agmPolyline) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return (yield this.getMVCPath(agmPolyline)).getArray();\n        });\n    }\n    createEventObservable(eventName, line) {\n        return new Observable((observer) => {\n            this._polylines.get(line).then((l) => {\n                l.addListener(eventName, (e) => this._zone.run(() => observer.next(e)));\n            });\n        });\n    }\n    createPathEventObservable(line) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const mvcPath = yield this.getMVCPath(line);\n            return createMVCEventObservable(mvcPath);\n        });\n    }\n};\nPolylineManager.ctorParameters = () => [\n    { type: GoogleMapsAPIWrapper },\n    { type: NgZone }\n];\nPolylineManager = PolylineManager_1 = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [GoogleMapsAPIWrapper, NgZone])\n], PolylineManager);\n\nlet RectangleManager = class RectangleManager {\n    constructor(_apiWrapper, _zone) {\n        this._apiWrapper = _apiWrapper;\n        this._zone = _zone;\n        this._rectangles = new Map();\n    }\n    addRectangle(rectangle) {\n        this._rectangles.set(rectangle, this._apiWrapper.createRectangle({\n            bounds: {\n                north: rectangle.north,\n                east: rectangle.east,\n                south: rectangle.south,\n                west: rectangle.west,\n            },\n            clickable: rectangle.clickable,\n            draggable: rectangle.draggable,\n            editable: rectangle.editable,\n            fillColor: rectangle.fillColor,\n            fillOpacity: rectangle.fillOpacity,\n            strokeColor: rectangle.strokeColor,\n            strokeOpacity: rectangle.strokeOpacity,\n            strokePosition: rectangle.strokePosition,\n            strokeWeight: rectangle.strokeWeight,\n            visible: rectangle.visible,\n            zIndex: rectangle.zIndex,\n        }));\n    }\n    /**\n     * Removes the given rectangle from the map.\n     */\n    removeRectangle(rectangle) {\n        return this._rectangles.get(rectangle).then((r) => {\n            r.setMap(null);\n            this._rectangles.delete(rectangle);\n        });\n    }\n    setOptions(rectangle, options) {\n        return this._rectangles.get(rectangle).then((r) => r.setOptions(options));\n    }\n    getBounds(rectangle) {\n        return this._rectangles.get(rectangle).then((r) => r.getBounds());\n    }\n    setBounds(rectangle) {\n        return this._rectangles.get(rectangle).then((r) => {\n            return r.setBounds({\n                north: rectangle.north,\n                east: rectangle.east,\n                south: rectangle.south,\n                west: rectangle.west,\n            });\n        });\n    }\n    setEditable(rectangle) {\n        return this._rectangles.get(rectangle).then((r) => {\n            return r.setEditable(rectangle.editable);\n        });\n    }\n    setDraggable(rectangle) {\n        return this._rectangles.get(rectangle).then((r) => {\n            return r.setDraggable(rectangle.draggable);\n        });\n    }\n    setVisible(rectangle) {\n        return this._rectangles.get(rectangle).then((r) => {\n            return r.setVisible(rectangle.visible);\n        });\n    }\n    createEventObservable(eventName, rectangle) {\n        return Observable.create((observer) => {\n            let listener = null;\n            this._rectangles.get(rectangle).then((r) => {\n                listener = r.addListener(eventName, (e) => this._zone.run(() => observer.next(e)));\n            });\n            return () => {\n                if (listener !== null) {\n                    listener.remove();\n                }\n            };\n        });\n    }\n};\nRectangleManager.ctorParameters = () => [\n    { type: GoogleMapsAPIWrapper },\n    { type: NgZone }\n];\nRectangleManager = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [GoogleMapsAPIWrapper, NgZone])\n], RectangleManager);\n\nvar AgmMap_1;\n/**\n * AgmMap renders a Google Map.\n * **Important note**: To be able see a map in the browser, you have to define a height for the\n * element `agm-map`.\n *\n * ### Example\n * ```typescript\n * import { Component } from '@angular/core';\n *\n * @Component({\n *  selector: 'my-map-cmp',\n *  styles: [`\n *    agm-map {\n *      height: 300px;\n *    }\n * `],\n *  template: `\n *    <agm-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\">\n *    </agm-map>\n *  `\n * })\n * ```\n */\nlet AgmMap = AgmMap_1 = class AgmMap {\n    constructor(_elem, _mapsWrapper, _platformId, _fitBoundsService, _zone) {\n        this._elem = _elem;\n        this._mapsWrapper = _mapsWrapper;\n        this._platformId = _platformId;\n        this._fitBoundsService = _fitBoundsService;\n        this._zone = _zone;\n        /**\n         * The longitude that defines the center of the map.\n         */\n        this.longitude = 0;\n        /**\n         * The latitude that defines the center of the map.\n         */\n        this.latitude = 0;\n        /**\n         * The zoom level of the map. The default zoom level is 8.\n         */\n        this.zoom = 8;\n        /**\n         * Enables/disables if map is draggable.\n         */\n        // tslint:disable-next-line:no-input-rename\n        this.draggable = true;\n        /**\n         * Enables/disables zoom and center on double click. Enabled by default.\n         */\n        this.disableDoubleClickZoom = false;\n        /**\n         * Enables/disables all default UI of the Google map. Please note: When the map is created, this\n         * value cannot get updated.\n         */\n        this.disableDefaultUI = false;\n        /**\n         * If false, disables scrollwheel zooming on the map. The scrollwheel is enabled by default.\n         */\n        this.scrollwheel = true;\n        /**\n         * If false, prevents the map from being controlled by the keyboard. Keyboard shortcuts are\n         * enabled by default.\n         */\n        this.keyboardShortcuts = true;\n        /**\n         * Styles to apply to each of the default map types. Note that for Satellite/Hybrid and Terrain\n         * modes, these styles will only apply to labels and geometry.\n         */\n        this.styles = [];\n        /**\n         * When true and the latitude and/or longitude values changes, the Google Maps panTo method is\n         * used to\n         * center the map. See: https://developers.google.com/maps/documentation/javascript/reference#Map\n         */\n        this.usePanning = false;\n        /**\n         * Sets the viewport to contain the given bounds.\n         * If this option to `true`, the bounds get automatically computed from all elements that use the {@link AgmFitBounds} directive.\n         */\n        this.fitBounds = false;\n        /**\n         * The initial enabled/disabled state of the Scale control. This is disabled by default.\n         */\n        this.scaleControl = false;\n        /**\n         * The initial enabled/disabled state of the Map type control.\n         */\n        this.mapTypeControl = false;\n        /**\n         * The initial enabled/disabled state of the Pan control.\n         */\n        this.panControl = false;\n        /**\n         * The initial enabled/disabled state of the Rotate control.\n         */\n        this.rotateControl = false;\n        /**\n         * The initial enabled/disabled state of the Fullscreen control.\n         */\n        this.fullscreenControl = false;\n        /**\n         * The map mapTypeId. Defaults to 'roadmap'.\n         */\n        this.mapTypeId = 'roadmap';\n        /**\n         * When false, map icons are not clickable. A map icon represents a point of interest,\n         * also known as a POI. By default map icons are clickable.\n         */\n        this.clickableIcons = true;\n        /**\n         * A map icon represents a point of interest, also known as a POI.\n         * When map icons are clickable by default, an info window is displayed.\n         * When this property is set to false, the info window will not be shown but the click event\n         * will still fire\n         */\n        this.showDefaultInfoWindow = true;\n        /**\n         * This setting controls how gestures on the map are handled.\n         * Allowed values:\n         * - 'cooperative' (Two-finger touch gestures pan and zoom the map. One-finger touch gestures are not handled by the map.)\n         * - 'greedy'      (All touch gestures pan or zoom the map.)\n         * - 'none'        (The map cannot be panned or zoomed by user gestures.)\n         * - 'auto'        [default] (Gesture handling is either cooperative or greedy, depending on whether the page is scrollable or not.\n         */\n        this.gestureHandling = 'auto';\n        /**\n         * Controls the automatic switching behavior for the angle of incidence of\n         * the map. The only allowed values are 0 and 45. The value 0 causes the map\n         * to always use a 0° overhead view regardless of the zoom level and\n         * viewport. The value 45 causes the tilt angle to automatically switch to\n         * 45 whenever 45° imagery is available for the current zoom level and\n         * viewport, and switch back to 0 whenever 45° imagery is not available\n         * (this is the default behavior). 45° imagery is only available for\n         * satellite and hybrid map types, within some locations, and at some zoom\n         * levels. Note: getTilt returns the current tilt angle, not the value\n         * specified by this option. Because getTilt and this option refer to\n         * different things, do not bind() the tilt property; doing so may yield\n         * unpredictable effects. (Default of AGM is 0 (disabled). Enable it with value 45.)\n         */\n        this.tilt = 0;\n        this._observableSubscriptions = [];\n        /**\n         * This event emitter gets emitted when the user clicks on the map (but not when they click on a\n         * marker or infoWindow).\n         */\n        this.mapClick = new EventEmitter();\n        /**\n         * This event emitter gets emitted when the user right-clicks on the map (but not when they click\n         * on a marker or infoWindow).\n         */\n        this.mapRightClick = new EventEmitter();\n        /**\n         * This event emitter gets emitted when the user double-clicks on the map (but not when they click\n         * on a marker or infoWindow).\n         */\n        this.mapDblClick = new EventEmitter();\n        /**\n         * This event emitter is fired when the map center changes.\n         */\n        this.centerChange = new EventEmitter();\n        /**\n         * This event is fired when the viewport bounds have changed.\n         */\n        this.boundsChange = new EventEmitter();\n        /**\n         * This event is fired when the mapTypeId property changes.\n         */\n        this.mapTypeIdChange = new EventEmitter();\n        /**\n         * This event is fired when the map becomes idle after panning or zooming.\n         */\n        this.idle = new EventEmitter();\n        /**\n         * This event is fired when the zoom level has changed.\n         */\n        this.zoomChange = new EventEmitter();\n        /**\n         * This event is fired when the google map is fully initialized.\n         * You get the google.maps.Map instance as a result of this EventEmitter.\n         */\n        this.mapReady = new EventEmitter();\n        /**\n         * This event is fired when the visible tiles have finished loading.\n         */\n        this.tilesLoaded = new EventEmitter();\n    }\n    /** @internal */\n    ngOnInit() {\n        if (isPlatformServer(this._platformId)) {\n            // The code is running on the server, do nothing\n            return;\n        }\n        // todo: this should be solved with a new component and a viewChild decorator\n        const container = this._elem.nativeElement.querySelector('.agm-map-container-inner');\n        this._initMapInstance(container);\n    }\n    _initMapInstance(el) {\n        this._mapsWrapper.createMap(el, {\n            center: { lat: this.latitude || 0, lng: this.longitude || 0 },\n            zoom: this.zoom,\n            minZoom: this.minZoom,\n            maxZoom: this.maxZoom,\n            controlSize: this.controlSize,\n            disableDefaultUI: this.disableDefaultUI,\n            disableDoubleClickZoom: this.disableDoubleClickZoom,\n            scrollwheel: this.scrollwheel,\n            backgroundColor: this.backgroundColor,\n            draggable: this.draggable,\n            draggableCursor: this.draggableCursor,\n            draggingCursor: this.draggingCursor,\n            keyboardShortcuts: this.keyboardShortcuts,\n            styles: this.styles,\n            zoomControl: this.zoomControl,\n            zoomControlOptions: this.zoomControlOptions,\n            streetViewControl: this.streetViewControl,\n            streetViewControlOptions: this.streetViewControlOptions,\n            scaleControl: this.scaleControl,\n            scaleControlOptions: this.scaleControlOptions,\n            mapTypeControl: this.mapTypeControl,\n            mapTypeControlOptions: this.mapTypeControlOptions,\n            panControl: this.panControl,\n            panControlOptions: this.panControlOptions,\n            rotateControl: this.rotateControl,\n            rotateControlOptions: this.rotateControlOptions,\n            fullscreenControl: this.fullscreenControl,\n            fullscreenControlOptions: this.fullscreenControlOptions,\n            mapTypeId: this.mapTypeId,\n            clickableIcons: this.clickableIcons,\n            gestureHandling: this.gestureHandling,\n            tilt: this.tilt,\n            restriction: this.restriction,\n        })\n            .then(() => this._mapsWrapper.getNativeMap())\n            .then(map => this.mapReady.emit(map));\n        // register event listeners\n        this._handleMapCenterChange();\n        this._handleMapZoomChange();\n        this._handleMapMouseEvents();\n        this._handleBoundsChange();\n        this._handleMapTypeIdChange();\n        this._handleTilesLoadedEvent();\n        this._handleIdleEvent();\n    }\n    /** @internal */\n    ngOnDestroy() {\n        // unsubscribe all registered observable subscriptions\n        this._observableSubscriptions.forEach((s) => s.unsubscribe());\n        // remove all listeners from the map instance\n        this._mapsWrapper.clearInstanceListeners();\n        if (this._fitBoundsSubscription) {\n            this._fitBoundsSubscription.unsubscribe();\n        }\n    }\n    /* @internal */\n    ngOnChanges(changes) {\n        this._updateMapOptionsChanges(changes);\n        this._updatePosition(changes);\n    }\n    _updateMapOptionsChanges(changes) {\n        let options = {};\n        let optionKeys = Object.keys(changes).filter(k => AgmMap_1._mapOptionsAttributes.indexOf(k) !== -1);\n        optionKeys.forEach((k) => { options[k] = changes[k].currentValue; });\n        this._mapsWrapper.setMapOptions(options);\n    }\n    /**\n     * Triggers a resize event on the google map instance.\n     * When recenter is true, the of the google map gets called with the current lat/lng values or fitBounds value to recenter the map.\n     * Returns a promise that gets resolved after the event was triggered.\n     */\n    triggerResize(recenter = true) {\n        // Note: When we would trigger the resize event and show the map in the same turn (which is a\n        // common case for triggering a resize event), then the resize event would not\n        // work (to show the map), so we trigger the event in a timeout.\n        return new Promise((resolve) => {\n            setTimeout(() => {\n                return this._mapsWrapper.triggerMapEvent('resize').then(() => {\n                    if (recenter) {\n                        this.fitBounds != null ? this._fitBounds() : this._setCenter();\n                    }\n                    resolve();\n                });\n            });\n        });\n    }\n    _updatePosition(changes) {\n        if (changes['latitude'] == null && changes['longitude'] == null &&\n            !changes['fitBounds']) {\n            // no position update needed\n            return;\n        }\n        // we prefer fitBounds in changes\n        if ('fitBounds' in changes) {\n            this._fitBounds();\n            return;\n        }\n        if (typeof this.latitude !== 'number' || typeof this.longitude !== 'number') {\n            return;\n        }\n        this._setCenter();\n    }\n    _setCenter() {\n        let newCenter = {\n            lat: this.latitude,\n            lng: this.longitude,\n        };\n        if (this.usePanning) {\n            this._mapsWrapper.panTo(newCenter);\n        }\n        else {\n            this._mapsWrapper.setCenter(newCenter);\n        }\n    }\n    _fitBounds() {\n        switch (this.fitBounds) {\n            case true:\n                this._subscribeToFitBoundsUpdates();\n                break;\n            case false:\n                if (this._fitBoundsSubscription) {\n                    this._fitBoundsSubscription.unsubscribe();\n                }\n                break;\n            default:\n                this._updateBounds(this.fitBounds, this.fitBoundsPadding);\n        }\n    }\n    _subscribeToFitBoundsUpdates() {\n        this._zone.runOutsideAngular(() => {\n            this._fitBoundsSubscription = this._fitBoundsService.getBounds$().subscribe(b => {\n                this._zone.run(() => this._updateBounds(b, this.fitBoundsPadding));\n            });\n        });\n    }\n    _updateBounds(bounds, padding) {\n        if (!bounds) {\n            return;\n        }\n        if (this._isLatLngBoundsLiteral(bounds) && typeof google !== 'undefined' && google && google.maps && google.maps.LatLngBounds) {\n            const newBounds = new google.maps.LatLngBounds();\n            newBounds.union(bounds);\n            bounds = newBounds;\n        }\n        if (this.usePanning) {\n            this._mapsWrapper.panToBounds(bounds, padding);\n            return;\n        }\n        this._mapsWrapper.fitBounds(bounds, padding);\n    }\n    _isLatLngBoundsLiteral(bounds) {\n        return bounds != null && bounds.extend === undefined;\n    }\n    _handleMapCenterChange() {\n        const s = this._mapsWrapper.subscribeToMapEvent('center_changed').subscribe(() => {\n            this._mapsWrapper.getCenter().then((center) => {\n                this.latitude = center.lat();\n                this.longitude = center.lng();\n                this.centerChange.emit({ lat: this.latitude, lng: this.longitude });\n            });\n        });\n        this._observableSubscriptions.push(s);\n    }\n    _handleBoundsChange() {\n        const s = this._mapsWrapper.subscribeToMapEvent('bounds_changed').subscribe(() => {\n            this._mapsWrapper.getBounds().then((bounds) => { this.boundsChange.emit(bounds); });\n        });\n        this._observableSubscriptions.push(s);\n    }\n    _handleMapTypeIdChange() {\n        const s = this._mapsWrapper.subscribeToMapEvent('maptypeid_changed').subscribe(() => {\n            this._mapsWrapper.getMapTypeId().then((mapTypeId) => { this.mapTypeIdChange.emit(mapTypeId); });\n        });\n        this._observableSubscriptions.push(s);\n    }\n    _handleMapZoomChange() {\n        const s = this._mapsWrapper.subscribeToMapEvent('zoom_changed').subscribe(() => {\n            this._mapsWrapper.getZoom().then((z) => {\n                this.zoom = z;\n                this.zoomChange.emit(z);\n            });\n        });\n        this._observableSubscriptions.push(s);\n    }\n    _handleIdleEvent() {\n        const s = this._mapsWrapper.subscribeToMapEvent('idle').subscribe(() => { this.idle.emit(void 0); });\n        this._observableSubscriptions.push(s);\n    }\n    _handleTilesLoadedEvent() {\n        const s = this._mapsWrapper.subscribeToMapEvent('tilesloaded').subscribe(() => this.tilesLoaded.emit(void 0));\n        this._observableSubscriptions.push(s);\n    }\n    _handleMapMouseEvents() {\n        const events = [\n            { name: 'click', emitter: this.mapClick },\n            { name: 'rightclick', emitter: this.mapRightClick },\n            { name: 'dblclick', emitter: this.mapDblClick },\n        ];\n        events.forEach((e) => {\n            const s = this._mapsWrapper.subscribeToMapEvent(e.name).subscribe((event) => {\n                let value = {\n                    coords: {\n                        lat: event.latLng.lat(),\n                        lng: event.latLng.lng(),\n                    },\n                    placeId: event.placeId,\n                };\n                // the placeId will be undefined in case the event was not an IconMouseEvent (google types)\n                if (value.placeId && !this.showDefaultInfoWindow) {\n                    event.stop();\n                }\n                e.emitter.emit(value);\n            });\n            this._observableSubscriptions.push(s);\n        });\n    }\n};\n/**\n * Map option attributes that can change over time\n */\nAgmMap._mapOptionsAttributes = [\n    'disableDoubleClickZoom', 'scrollwheel', 'draggable', 'draggableCursor', 'draggingCursor',\n    'keyboardShortcuts', 'zoomControl', 'zoomControlOptions', 'styles', 'streetViewControl',\n    'streetViewControlOptions', 'zoom', 'mapTypeControl', 'mapTypeControlOptions', 'minZoom',\n    'maxZoom', 'panControl', 'panControlOptions', 'rotateControl', 'rotateControlOptions',\n    'fullscreenControl', 'fullscreenControlOptions', 'scaleControl', 'scaleControlOptions',\n    'mapTypeId', 'clickableIcons', 'gestureHandling', 'tilt', 'restriction',\n];\nAgmMap.ctorParameters = () => [\n    { type: ElementRef },\n    { type: GoogleMapsAPIWrapper },\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: FitBoundsService },\n    { type: NgZone }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"longitude\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"latitude\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"zoom\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmMap.prototype, \"minZoom\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmMap.prototype, \"maxZoom\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmMap.prototype, \"controlSize\", void 0);\n__decorate([\n    Input('mapDraggable'),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"draggable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"disableDoubleClickZoom\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"disableDefaultUI\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"scrollwheel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmMap.prototype, \"backgroundColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmMap.prototype, \"draggableCursor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmMap.prototype, \"draggingCursor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"keyboardShortcuts\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], AgmMap.prototype, \"zoomControl\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"zoomControlOptions\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], AgmMap.prototype, \"styles\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"usePanning\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], AgmMap.prototype, \"streetViewControl\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"streetViewControlOptions\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"fitBounds\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"fitBoundsPadding\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"scaleControl\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"scaleControlOptions\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"mapTypeControl\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"mapTypeControlOptions\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"panControl\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"panControlOptions\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"rotateControl\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"rotateControlOptions\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"fullscreenControl\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"fullscreenControlOptions\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmMap.prototype, \"mapTypeId\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"clickableIcons\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"showDefaultInfoWindow\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmMap.prototype, \"gestureHandling\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"tilt\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMap.prototype, \"restriction\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMap.prototype, \"mapClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMap.prototype, \"mapRightClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMap.prototype, \"mapDblClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMap.prototype, \"centerChange\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMap.prototype, \"boundsChange\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMap.prototype, \"mapTypeIdChange\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMap.prototype, \"idle\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMap.prototype, \"zoomChange\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMap.prototype, \"mapReady\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMap.prototype, \"tilesLoaded\", void 0);\nAgmMap = AgmMap_1 = __decorate([\n    Component({\n        selector: 'agm-map',\n        providers: [\n            CircleManager,\n            DataLayerManager,\n            DataLayerManager,\n            FitBoundsService,\n            GoogleMapsAPIWrapper,\n            InfoWindowManager,\n            KmlLayerManager,\n            LayerManager,\n            MarkerManager,\n            PolygonManager,\n            PolylineManager,\n            RectangleManager,\n        ],\n        host: {\n            // todo: deprecated - we will remove it with the next version\n            '[class.sebm-google-map-container]': 'true',\n        },\n        template: `\n              <div class='agm-map-container-inner sebm-google-map-container-inner'></div>\n              <div class='agm-map-content'>\n                <ng-content></ng-content>\n              </div>\n  `,\n        styles: [`\n    .agm-map-container-inner {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content {\n      display:none;\n    }\n  `]\n    }),\n    __param(2, Inject(PLATFORM_ID)),\n    __metadata(\"design:paramtypes\", [ElementRef,\n        GoogleMapsAPIWrapper,\n        Object,\n        FitBoundsService,\n        NgZone])\n], AgmMap);\n\nvar AgmMarker_1;\nlet markerId = 0;\n/**\n * AgmMarker renders a map marker inside a {@link AgmMap}.\n *\n * ### Example\n * ```typescript\n * import { Component } from '@angular/core';\n *\n * @Component({\n *  selector: 'my-map-cmp',\n *  styles: [`\n *    .agm-map-container {\n *      height: 300px;\n *    }\n * `],\n *  template: `\n *    <agm-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\">\n *      <agm-marker [latitude]=\"lat\" [longitude]=\"lng\" [label]=\"'M'\">\n *      </agm-marker>\n *    </agm-map>\n *  `\n * })\n * ```\n */\nlet AgmMarker = AgmMarker_1 = class AgmMarker {\n    constructor(_markerManager) {\n        this._markerManager = _markerManager;\n        /**\n         * If true, the marker can be dragged. Default value is false.\n         */\n        // tslint:disable-next-line:no-input-rename\n        this.draggable = false;\n        /**\n         * If true, the marker is visible\n         */\n        this.visible = true;\n        /**\n         * Whether to automatically open the child info window when the marker is clicked.\n         */\n        this.openInfoWindow = true;\n        /**\n         * The marker's opacity between 0.0 and 1.0.\n         */\n        this.opacity = 1;\n        /**\n         * All markers are displayed on the map in order of their zIndex, with higher values displaying in\n         * front of markers with lower values. By default, markers are displayed according to their\n         * vertical position on screen, with lower markers appearing in front of markers further up the\n         * screen.\n         */\n        this.zIndex = 1;\n        /**\n         * If true, the marker can be clicked. Default value is true.\n         */\n        // tslint:disable-next-line:no-input-rename\n        this.clickable = true;\n        /**\n         * This event is fired when the marker's animation property changes.\n         *\n         * @memberof AgmMarker\n         */\n        this.animationChange = new EventEmitter();\n        /**\n         * This event emitter gets emitted when the user clicks on the marker.\n         */\n        this.markerClick = new EventEmitter();\n        /**\n         * This event emitter gets emitted when the user clicks twice on the marker.\n         */\n        this.markerDblClick = new EventEmitter();\n        /**\n         * This event is fired when the user rightclicks on the marker.\n         */\n        this.markerRightClick = new EventEmitter();\n        /**\n         * This event is fired when the user starts dragging the marker.\n         */\n        this.dragStart = new EventEmitter();\n        /**\n         * This event is repeatedly fired while the user drags the marker.\n         */\n        this.drag = new EventEmitter();\n        /**\n         * This event is fired when the user stops dragging the marker.\n         */\n        this.dragEnd = new EventEmitter();\n        /**\n         * This event is fired when the user mouses over the marker.\n         */\n        this.mouseOver = new EventEmitter();\n        /**\n         * This event is fired when the user mouses outside the marker.\n         */\n        this.mouseOut = new EventEmitter();\n        /** @internal */\n        this.infoWindow = new QueryList();\n        this._markerAddedToManger = false;\n        this._observableSubscriptions = [];\n        this._fitBoundsDetails$ = new ReplaySubject(1);\n        this._id = (markerId++).toString();\n    }\n    /* @internal */\n    ngAfterContentInit() {\n        this.handleInfoWindowUpdate();\n        this.infoWindow.changes.subscribe(() => this.handleInfoWindowUpdate());\n    }\n    handleInfoWindowUpdate() {\n        if (this.infoWindow.length > 1) {\n            throw new Error('Expected no more than one info window.');\n        }\n        this.infoWindow.forEach(marker => {\n            marker.hostMarker = this;\n        });\n    }\n    /** @internal */\n    ngOnChanges(changes) {\n        if (typeof this.latitude === 'string') {\n            this.latitude = Number(this.latitude);\n        }\n        if (typeof this.longitude === 'string') {\n            this.longitude = Number(this.longitude);\n        }\n        if (typeof this.latitude !== 'number' || typeof this.longitude !== 'number') {\n            return;\n        }\n        if (!this._markerAddedToManger) {\n            this._markerManager.addMarker(this);\n            this._updateFitBoundsDetails();\n            this._markerAddedToManger = true;\n            this._addEventListeners();\n            return;\n        }\n        if (changes['latitude'] || changes['longitude']) {\n            this._markerManager.updateMarkerPosition(this);\n            this._updateFitBoundsDetails();\n        }\n        if (changes['title']) {\n            this._markerManager.updateTitle(this);\n        }\n        if (changes['label']) {\n            this._markerManager.updateLabel(this);\n        }\n        if (changes['draggable']) {\n            this._markerManager.updateDraggable(this);\n        }\n        if (changes['iconUrl']) {\n            this._markerManager.updateIcon(this);\n        }\n        if (changes['opacity']) {\n            this._markerManager.updateOpacity(this);\n        }\n        if (changes['visible']) {\n            this._markerManager.updateVisible(this);\n        }\n        if (changes['zIndex']) {\n            this._markerManager.updateZIndex(this);\n        }\n        if (changes['clickable']) {\n            this._markerManager.updateClickable(this);\n        }\n        if (changes['animation']) {\n            this._markerManager.updateAnimation(this);\n        }\n    }\n    /** @internal */\n    getFitBoundsDetails$() {\n        return this._fitBoundsDetails$.asObservable();\n    }\n    _updateFitBoundsDetails() {\n        this._fitBoundsDetails$.next({ latLng: { lat: this.latitude, lng: this.longitude } });\n    }\n    _addEventListeners() {\n        const cs = this._markerManager.createEventObservable('click', this).subscribe(() => {\n            if (this.openInfoWindow) {\n                this.infoWindow.forEach(infoWindow => infoWindow.open());\n            }\n            this.markerClick.emit(this);\n        });\n        this._observableSubscriptions.push(cs);\n        const dcs = this._markerManager.createEventObservable('dblclick', this).subscribe(() => {\n            this.markerDblClick.emit(null);\n        });\n        this._observableSubscriptions.push(dcs);\n        const rc = this._markerManager.createEventObservable('rightclick', this).subscribe(() => {\n            this.markerRightClick.emit(null);\n        });\n        this._observableSubscriptions.push(rc);\n        const ds = this._markerManager.createEventObservable('dragstart', this)\n            .subscribe((e) => {\n            this.dragStart.emit({ coords: { lat: e.latLng.lat(), lng: e.latLng.lng() } });\n        });\n        this._observableSubscriptions.push(ds);\n        const d = this._markerManager.createEventObservable('drag', this)\n            .subscribe((e) => {\n            this.drag.emit({ coords: { lat: e.latLng.lat(), lng: e.latLng.lng() } });\n        });\n        this._observableSubscriptions.push(d);\n        const de = this._markerManager.createEventObservable('dragend', this)\n            .subscribe((e) => {\n            this.dragEnd.emit({ coords: { lat: e.latLng.lat(), lng: e.latLng.lng() } });\n        });\n        this._observableSubscriptions.push(de);\n        const mover = this._markerManager.createEventObservable('mouseover', this)\n            .subscribe((e) => {\n            this.mouseOver.emit({ coords: { lat: e.latLng.lat(), lng: e.latLng.lng() } });\n        });\n        this._observableSubscriptions.push(mover);\n        const mout = this._markerManager.createEventObservable('mouseout', this)\n            .subscribe((e) => {\n            this.mouseOut.emit({ coords: { lat: e.latLng.lat(), lng: e.latLng.lng() } });\n        });\n        this._observableSubscriptions.push(mout);\n        const anChng = this._markerManager.createEventObservable('animation_changed', this)\n            .subscribe(() => {\n            this.animationChange.emit(this.animation);\n        });\n        this._observableSubscriptions.push(anChng);\n    }\n    /** @internal */\n    id() { return this._id; }\n    /** @internal */\n    toString() { return 'AgmMarker-' + this._id.toString(); }\n    /** @internal */\n    ngOnDestroy() {\n        this._markerManager.deleteMarker(this);\n        // unsubscribe all registered observable subscriptions\n        this._observableSubscriptions.forEach((s) => s.unsubscribe());\n    }\n};\nAgmMarker.ctorParameters = () => [\n    { type: MarkerManager }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmMarker.prototype, \"latitude\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmMarker.prototype, \"longitude\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmMarker.prototype, \"title\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMarker.prototype, \"label\", void 0);\n__decorate([\n    Input('markerDraggable'),\n    __metadata(\"design:type\", Object)\n], AgmMarker.prototype, \"draggable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmMarker.prototype, \"iconUrl\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMarker.prototype, \"visible\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMarker.prototype, \"openInfoWindow\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMarker.prototype, \"opacity\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmMarker.prototype, \"zIndex\", void 0);\n__decorate([\n    Input('markerClickable'),\n    __metadata(\"design:type\", Object)\n], AgmMarker.prototype, \"clickable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmMarker.prototype, \"animation\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], AgmMarker.prototype, \"animationChange\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMarker.prototype, \"markerClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMarker.prototype, \"markerDblClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMarker.prototype, \"markerRightClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMarker.prototype, \"dragStart\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMarker.prototype, \"drag\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMarker.prototype, \"dragEnd\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMarker.prototype, \"mouseOver\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmMarker.prototype, \"mouseOut\", void 0);\n__decorate([\n    ContentChildren(AgmInfoWindow),\n    __metadata(\"design:type\", QueryList)\n], AgmMarker.prototype, \"infoWindow\", void 0);\nAgmMarker = AgmMarker_1 = __decorate([\n    Directive({\n        selector: 'agm-marker',\n        providers: [\n            { provide: FitBoundsAccessor, useExisting: forwardRef(() => AgmMarker_1) },\n        ],\n        inputs: [\n            'latitude', 'longitude', 'title', 'label', 'draggable: markerDraggable', 'iconUrl',\n            'openInfoWindow', 'opacity', 'visible', 'zIndex', 'animation',\n        ],\n        outputs: ['markerClick', 'dragStart', 'drag', 'dragEnd', 'mouseOver', 'mouseOut'],\n    }),\n    __metadata(\"design:paramtypes\", [MarkerManager])\n], AgmMarker);\n\nvar AgmPolygon_1;\n/**\n * AgmPolygon renders a polygon on a {@link AgmMap}\n *\n * ### Example\n * ```typescript\n * import { Component } from '@angular/core';\n *\n * @Component({\n *  selector: 'my-map-cmp',\n *  styles: [`\n *    agm-map {\n *      height: 300px;\n *    }\n * `],\n *  template: `\n *    <agm-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\">\n *      <agm-polygon [paths]=\"paths\">\n *      </agm-polygon>\n *    </agm-map>\n *  `\n * })\n * export class MyMapCmp {\n *   lat: number = 0;\n *   lng: number = 0;\n *   zoom: number = 10;\n *   paths: Array<LatLngLiteral> = [\n *     { lat: 0,  lng: 10 },\n *     { lat: 0,  lng: 20 },\n *     { lat: 10, lng: 20 },\n *     { lat: 10, lng: 10 },\n *     { lat: 0,  lng: 10 }\n *   ]\n *   // Nesting paths will create a hole where they overlap;\n *   nestedPaths: Array<Array<LatLngLiteral>> = [[\n *     { lat: 0,  lng: 10 },\n *     { lat: 0,  lng: 20 },\n *     { lat: 10, lng: 20 },\n *     { lat: 10, lng: 10 },\n *     { lat: 0,  lng: 10 }\n *   ], [\n *     { lat: 0, lng: 15 },\n *     { lat: 0, lng: 20 },\n *     { lat: 5, lng: 20 },\n *     { lat: 5, lng: 15 },\n *     { lat: 0, lng: 15 }\n *   ]]\n * }\n * ```\n */\nlet AgmPolygon = AgmPolygon_1 = class AgmPolygon {\n    constructor(_polygonManager) {\n        this._polygonManager = _polygonManager;\n        /**\n         * Indicates whether this Polygon handles mouse events. Defaults to true.\n         */\n        this.clickable = true;\n        /**\n         * If set to true, the user can drag this shape over the map. The geodesic\n         * property defines the mode of dragging. Defaults to false.\n         */\n        // tslint:disable-next-line:no-input-rename\n        this.draggable = false;\n        /**\n         * If set to true, the user can edit this shape by dragging the control\n         * points shown at the vertices and on each segment. Defaults to false.\n         */\n        this.editable = false;\n        /**\n         * When true, edges of the polygon are interpreted as geodesic and will\n         * follow the curvature of the Earth. When false, edges of the polygon are\n         * rendered as straight lines in screen space. Note that the shape of a\n         * geodesic polygon may appear to change when dragged, as the dimensions\n         * are maintained relative to the surface of the earth. Defaults to false.\n         */\n        this.geodesic = false;\n        /**\n         * The ordered sequence of coordinates that designates a closed loop.\n         * Unlike polylines, a polygon may consist of one or more paths.\n         *  As a result, the paths property may specify one or more arrays of\n         * LatLng coordinates. Paths are closed automatically; do not repeat the\n         * first vertex of the path as the last vertex. Simple polygons may be\n         * defined using a single array of LatLngs. More complex polygons may\n         * specify an array of arrays. Any simple arrays are converted into Arrays.\n         * Inserting or removing LatLngs from the Array will automatically update\n         * the polygon on the map.\n         */\n        this.paths = [];\n        /**\n         * This event is fired when the DOM click event is fired on the Polygon.\n         */\n        this.polyClick = new EventEmitter();\n        /**\n         * This event is fired when the DOM dblclick event is fired on the Polygon.\n         */\n        this.polyDblClick = new EventEmitter();\n        /**\n         * This event is repeatedly fired while the user drags the polygon.\n         */\n        this.polyDrag = new EventEmitter();\n        /**\n         * This event is fired when the user stops dragging the polygon.\n         */\n        this.polyDragEnd = new EventEmitter();\n        /**\n         * This event is fired when the user starts dragging the polygon.\n         */\n        this.polyDragStart = new EventEmitter();\n        /**\n         * This event is fired when the DOM mousedown event is fired on the Polygon.\n         */\n        this.polyMouseDown = new EventEmitter();\n        /**\n         * This event is fired when the DOM mousemove event is fired on the Polygon.\n         */\n        this.polyMouseMove = new EventEmitter();\n        /**\n         * This event is fired on Polygon mouseout.\n         */\n        this.polyMouseOut = new EventEmitter();\n        /**\n         * This event is fired on Polygon mouseover.\n         */\n        this.polyMouseOver = new EventEmitter();\n        /**\n         * This event is fired whe the DOM mouseup event is fired on the Polygon\n         */\n        this.polyMouseUp = new EventEmitter();\n        /**\n         * This event is fired when the Polygon is right-clicked on.\n         */\n        this.polyRightClick = new EventEmitter();\n        /**\n         * This event is fired after Polygon first path changes.\n         */\n        this.polyPathsChange = new EventEmitter();\n        this._polygonAddedToManager = false;\n        this._subscriptions = [];\n    }\n    /** @internal */\n    ngAfterContentInit() {\n        if (!this._polygonAddedToManager) {\n            this._init();\n        }\n    }\n    ngOnChanges(changes) {\n        if (!this._polygonAddedToManager) {\n            this._init();\n            return;\n        }\n        this._polygonManager.setPolygonOptions(this, this._updatePolygonOptions(changes));\n    }\n    _init() {\n        this._polygonManager.addPolygon(this);\n        this._polygonAddedToManager = true;\n        this._addEventListeners();\n    }\n    _addEventListeners() {\n        const handlers = [\n            { name: 'click', handler: (ev) => this.polyClick.emit(ev) },\n            { name: 'dblclick', handler: (ev) => this.polyDblClick.emit(ev) },\n            { name: 'drag', handler: (ev) => this.polyDrag.emit(ev) },\n            { name: 'dragend', handler: (ev) => this.polyDragEnd.emit(ev) },\n            { name: 'dragstart', handler: (ev) => this.polyDragStart.emit(ev) },\n            { name: 'mousedown', handler: (ev) => this.polyMouseDown.emit(ev) },\n            { name: 'mousemove', handler: (ev) => this.polyMouseMove.emit(ev) },\n            { name: 'mouseout', handler: (ev) => this.polyMouseOut.emit(ev) },\n            { name: 'mouseover', handler: (ev) => this.polyMouseOver.emit(ev) },\n            { name: 'mouseup', handler: (ev) => this.polyMouseUp.emit(ev) },\n            { name: 'rightclick', handler: (ev) => this.polyRightClick.emit(ev) },\n        ];\n        handlers.forEach((obj) => {\n            const os = this._polygonManager.createEventObservable(obj.name, this).subscribe(obj.handler);\n            this._subscriptions.push(os);\n        });\n        this._polygonManager.createPathEventObservable(this)\n            .then(paths$ => {\n            const os = paths$.subscribe(pathEvent => this.polyPathsChange.emit(pathEvent));\n            this._subscriptions.push(os);\n        });\n    }\n    _updatePolygonOptions(changes) {\n        return Object.keys(changes)\n            .filter(k => AgmPolygon_1._polygonOptionsAttributes.indexOf(k) !== -1)\n            .reduce((obj, k) => {\n            obj[k] = changes[k].currentValue;\n            return obj;\n        }, {});\n    }\n    /** @internal */\n    id() { return this._id; }\n    /** @internal */\n    ngOnDestroy() {\n        this._polygonManager.deletePolygon(this);\n        // unsubscribe all registered observable subscriptions\n        this._subscriptions.forEach((s) => s.unsubscribe());\n    }\n    getPath() {\n        return this._polygonManager.getPath(this);\n    }\n    getPaths() {\n        return this._polygonManager.getPaths(this);\n    }\n};\nAgmPolygon._polygonOptionsAttributes = [\n    'clickable', 'draggable', 'editable', 'fillColor', 'fillOpacity', 'geodesic', 'icon', 'map',\n    'paths', 'strokeColor', 'strokeOpacity', 'strokeWeight', 'visible', 'zIndex', 'draggable',\n    'editable', 'visible',\n];\nAgmPolygon.ctorParameters = () => [\n    { type: PolygonManager }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmPolygon.prototype, \"clickable\", void 0);\n__decorate([\n    Input('polyDraggable'),\n    __metadata(\"design:type\", Object)\n], AgmPolygon.prototype, \"draggable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmPolygon.prototype, \"editable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmPolygon.prototype, \"fillColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmPolygon.prototype, \"fillOpacity\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmPolygon.prototype, \"geodesic\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], AgmPolygon.prototype, \"paths\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmPolygon.prototype, \"strokeColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmPolygon.prototype, \"strokeOpacity\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmPolygon.prototype, \"strokeWeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], AgmPolygon.prototype, \"visible\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmPolygon.prototype, \"zIndex\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolygon.prototype, \"polyClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolygon.prototype, \"polyDblClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolygon.prototype, \"polyDrag\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolygon.prototype, \"polyDragEnd\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolygon.prototype, \"polyDragStart\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolygon.prototype, \"polyMouseDown\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolygon.prototype, \"polyMouseMove\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolygon.prototype, \"polyMouseOut\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolygon.prototype, \"polyMouseOver\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolygon.prototype, \"polyMouseUp\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolygon.prototype, \"polyRightClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], AgmPolygon.prototype, \"polyPathsChange\", void 0);\nAgmPolygon = AgmPolygon_1 = __decorate([\n    Directive({\n        selector: 'agm-polygon',\n    }),\n    __metadata(\"design:paramtypes\", [PolygonManager])\n], AgmPolygon);\n\n/**\n * AgmPolylineIcon enables to add polyline sequences to add arrows, circle,\n * or custom icons either along the entire line, or in a specific part of it.\n * See https://developers.google.com/maps/documentation/javascript/shapes#polyline_customize\n *\n * ### Example\n * ```html\n *    <agm-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\">\n *      <agm-polyline>\n *          <agm-icon-sequence [fixedRotation]=\"true\" [path]=\"'FORWARD_OPEN_ARROW'\">\n *          </agm-icon-sequence>\n *      </agm-polyline>\n *    </agm-map>\n * ```\n *\n * @export\n * @class AgmPolylineIcon\n */\nlet AgmPolylineIcon = class AgmPolylineIcon {\n    ngOnInit() {\n        if (this.path == null) {\n            throw new Error('Icon Sequence path is required');\n        }\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], AgmPolylineIcon.prototype, \"fixedRotation\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmPolylineIcon.prototype, \"offset\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmPolylineIcon.prototype, \"repeat\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmPolylineIcon.prototype, \"anchorX\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmPolylineIcon.prototype, \"anchorY\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmPolylineIcon.prototype, \"fillColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmPolylineIcon.prototype, \"fillOpacity\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmPolylineIcon.prototype, \"path\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmPolylineIcon.prototype, \"rotation\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmPolylineIcon.prototype, \"scale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmPolylineIcon.prototype, \"strokeColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmPolylineIcon.prototype, \"strokeOpacity\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmPolylineIcon.prototype, \"strokeWeight\", void 0);\nAgmPolylineIcon = __decorate([\n    Directive({ selector: 'agm-polyline agm-icon-sequence' })\n], AgmPolylineIcon);\n\nvar AgmPolylinePoint_1;\n/**\n * AgmPolylinePoint represents one element of a polyline within a  {@link\n * AgmPolyline}\n */\nlet AgmPolylinePoint = AgmPolylinePoint_1 = class AgmPolylinePoint {\n    constructor() {\n        /**\n         * This event emitter gets emitted when the position of the point changed.\n         */\n        this.positionChanged = new EventEmitter();\n    }\n    ngOnChanges(changes) {\n        if (changes['latitude'] || changes['longitude']) {\n            const position = {\n                lat: changes['latitude'] ? changes['latitude'].currentValue : this.latitude,\n                lng: changes['longitude'] ? changes['longitude'].currentValue : this.longitude,\n            };\n            this.positionChanged.emit(position);\n        }\n    }\n    /** @internal */\n    getFitBoundsDetails$() {\n        return this.positionChanged.pipe(startWith({ lat: this.latitude, lng: this.longitude }), map(position => ({ latLng: position })));\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmPolylinePoint.prototype, \"latitude\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmPolylinePoint.prototype, \"longitude\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolylinePoint.prototype, \"positionChanged\", void 0);\nAgmPolylinePoint = AgmPolylinePoint_1 = __decorate([\n    Directive({\n        selector: 'agm-polyline-point',\n        providers: [\n            { provide: FitBoundsAccessor, useExisting: forwardRef(() => AgmPolylinePoint_1) },\n        ],\n    }),\n    __metadata(\"design:paramtypes\", [])\n], AgmPolylinePoint);\n\nvar AgmPolyline_1;\nlet polylineId = 0;\n/**\n * AgmPolyline renders a polyline on a {@link AgmMap}\n *\n * ### Example\n * ```typescript\n * import { Component } from '@angular/core';\n *\n * @Component({\n *  selector: 'my-map-cmp',\n *  styles: [`\n *    .agm-map-container {\n *      height: 300px;\n *    }\n * `],\n *  template: `\n *    <agm-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\">\n *      <agm-polyline>\n *          <agm-polyline-point [latitude]=\"latA\" [longitude]=\"lngA\">\n *          </agm-polyline-point>\n *          <agm-polyline-point [latitude]=\"latB\" [longitude]=\"lngB\">\n *          </agm-polyline-point>\n *      </agm-polyline>\n *    </agm-map>\n *  `\n * })\n * ```\n */\nlet AgmPolyline = AgmPolyline_1 = class AgmPolyline {\n    constructor(_polylineManager) {\n        this._polylineManager = _polylineManager;\n        /**\n         * Indicates whether this Polyline handles mouse events. Defaults to true.\n         */\n        this.clickable = true;\n        /**\n         * If set to true, the user can drag this shape over the map. The geodesic property defines the\n         * mode of dragging. Defaults to false.\n         */\n        // tslint:disable-next-line:no-input-rename\n        this.draggable = false;\n        /**\n         * If set to true, the user can edit this shape by dragging the control points shown at the\n         * vertices and on each segment. Defaults to false.\n         */\n        this.editable = false;\n        /**\n         * When true, edges of the polygon are interpreted as geodesic and will follow the curvature of\n         * the Earth. When false, edges of the polygon are rendered as straight lines in screen space.\n         * Note that the shape of a geodesic polygon may appear to change when dragged, as the dimensions\n         * are maintained relative to the surface of the earth. Defaults to false.\n         */\n        this.geodesic = false;\n        /**\n         * Whether this polyline is visible on the map. Defaults to true.\n         */\n        this.visible = true;\n        /**\n         * This event is fired when the DOM click event is fired on the Polyline.\n         */\n        this.lineClick = new EventEmitter();\n        /**\n         * This event is fired when the DOM dblclick event is fired on the Polyline.\n         */\n        this.lineDblClick = new EventEmitter();\n        /**\n         * This event is repeatedly fired while the user drags the polyline.\n         */\n        this.lineDrag = new EventEmitter();\n        /**\n         * This event is fired when the user stops dragging the polyline.\n         */\n        this.lineDragEnd = new EventEmitter();\n        /**\n         * This event is fired when the user starts dragging the polyline.\n         */\n        this.lineDragStart = new EventEmitter();\n        /**\n         * This event is fired when the DOM mousedown event is fired on the Polyline.\n         */\n        this.lineMouseDown = new EventEmitter();\n        /**\n         * This event is fired when the DOM mousemove event is fired on the Polyline.\n         */\n        this.lineMouseMove = new EventEmitter();\n        /**\n         * This event is fired on Polyline mouseout.\n         */\n        this.lineMouseOut = new EventEmitter();\n        /**\n         * This event is fired on Polyline mouseover.\n         */\n        this.lineMouseOver = new EventEmitter();\n        /**\n         * This event is fired whe the DOM mouseup event is fired on the Polyline\n         */\n        this.lineMouseUp = new EventEmitter();\n        /**\n         * This event is fired when the Polyline is right-clicked on.\n         */\n        this.lineRightClick = new EventEmitter();\n        /**\n         * This event is fired after Polyline's path changes.\n         */\n        this.polyPathChange = new EventEmitter();\n        this._polylineAddedToManager = false;\n        this._subscriptions = [];\n        this._id = (polylineId++).toString();\n    }\n    /** @internal */\n    ngAfterContentInit() {\n        if (this.points.length) {\n            this.points.forEach((point) => {\n                const s = point.positionChanged.subscribe(() => { this._polylineManager.updatePolylinePoints(this); });\n                this._subscriptions.push(s);\n            });\n        }\n        if (!this._polylineAddedToManager) {\n            this._init();\n        }\n        const pointSub = this.points.changes.subscribe(() => this._polylineManager.updatePolylinePoints(this));\n        this._subscriptions.push(pointSub);\n        this._polylineManager.updatePolylinePoints(this);\n        const iconSub = this.iconSequences.changes.subscribe(() => this._polylineManager.updateIconSequences(this));\n        this._subscriptions.push(iconSub);\n    }\n    ngOnChanges(changes) {\n        if (!this._polylineAddedToManager) {\n            this._init();\n            return;\n        }\n        let options = {};\n        const optionKeys = Object.keys(changes).filter(k => AgmPolyline_1._polylineOptionsAttributes.indexOf(k) !== -1);\n        optionKeys.forEach(k => options[k] = changes[k].currentValue);\n        this._polylineManager.setPolylineOptions(this, options);\n    }\n    getPath() {\n        return this._polylineManager.getPath(this);\n    }\n    _init() {\n        this._polylineManager.addPolyline(this);\n        this._polylineAddedToManager = true;\n        this._addEventListeners();\n    }\n    _addEventListeners() {\n        const handlers = [\n            { name: 'click', handler: (ev) => this.lineClick.emit(ev) },\n            { name: 'dblclick', handler: (ev) => this.lineDblClick.emit(ev) },\n            { name: 'drag', handler: (ev) => this.lineDrag.emit(ev) },\n            { name: 'dragend', handler: (ev) => this.lineDragEnd.emit(ev) },\n            { name: 'dragstart', handler: (ev) => this.lineDragStart.emit(ev) },\n            { name: 'mousedown', handler: (ev) => this.lineMouseDown.emit(ev) },\n            { name: 'mousemove', handler: (ev) => this.lineMouseMove.emit(ev) },\n            { name: 'mouseout', handler: (ev) => this.lineMouseOut.emit(ev) },\n            { name: 'mouseover', handler: (ev) => this.lineMouseOver.emit(ev) },\n            { name: 'mouseup', handler: (ev) => this.lineMouseUp.emit(ev) },\n            { name: 'rightclick', handler: (ev) => this.lineRightClick.emit(ev) },\n        ];\n        handlers.forEach((obj) => {\n            const os = this._polylineManager.createEventObservable(obj.name, this).subscribe(obj.handler);\n            this._subscriptions.push(os);\n        });\n        this._polylineManager.createPathEventObservable(this).then((ob$) => {\n            const os = ob$.subscribe(pathEvent => this.polyPathChange.emit(pathEvent));\n            this._subscriptions.push(os);\n        });\n    }\n    /** @internal */\n    _getPoints() {\n        if (this.points) {\n            return this.points.toArray();\n        }\n        return [];\n    }\n    _getIcons() {\n        if (this.iconSequences) {\n            return this.iconSequences.toArray();\n        }\n        return [];\n    }\n    /** @internal */\n    id() { return this._id; }\n    /** @internal */\n    ngOnDestroy() {\n        this._polylineManager.deletePolyline(this);\n        // unsubscribe all registered observable subscriptions\n        this._subscriptions.forEach((s) => s.unsubscribe());\n    }\n};\nAgmPolyline._polylineOptionsAttributes = [\n    'draggable', 'editable', 'visible', 'geodesic', 'strokeColor', 'strokeOpacity', 'strokeWeight',\n    'zIndex',\n];\nAgmPolyline.ctorParameters = () => [\n    { type: PolylineManager }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmPolyline.prototype, \"clickable\", void 0);\n__decorate([\n    Input('polylineDraggable'),\n    __metadata(\"design:type\", Object)\n], AgmPolyline.prototype, \"draggable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmPolyline.prototype, \"editable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmPolyline.prototype, \"geodesic\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmPolyline.prototype, \"strokeColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmPolyline.prototype, \"strokeOpacity\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmPolyline.prototype, \"strokeWeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmPolyline.prototype, \"visible\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmPolyline.prototype, \"zIndex\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolyline.prototype, \"lineClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolyline.prototype, \"lineDblClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolyline.prototype, \"lineDrag\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolyline.prototype, \"lineDragEnd\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolyline.prototype, \"lineDragStart\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolyline.prototype, \"lineMouseDown\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolyline.prototype, \"lineMouseMove\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolyline.prototype, \"lineMouseOut\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolyline.prototype, \"lineMouseOver\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolyline.prototype, \"lineMouseUp\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmPolyline.prototype, \"lineRightClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], AgmPolyline.prototype, \"polyPathChange\", void 0);\n__decorate([\n    ContentChildren(AgmPolylinePoint),\n    __metadata(\"design:type\", QueryList)\n], AgmPolyline.prototype, \"points\", void 0);\n__decorate([\n    ContentChildren(AgmPolylineIcon),\n    __metadata(\"design:type\", QueryList)\n], AgmPolyline.prototype, \"iconSequences\", void 0);\nAgmPolyline = AgmPolyline_1 = __decorate([\n    Directive({\n        selector: 'agm-polyline',\n    }),\n    __metadata(\"design:paramtypes\", [PolylineManager])\n], AgmPolyline);\n\nvar AgmRectangle_1;\nlet AgmRectangle = AgmRectangle_1 = class AgmRectangle {\n    constructor(_manager) {\n        this._manager = _manager;\n        /**\n         * Indicates whether this Rectangle handles mouse events. Defaults to true.\n         */\n        this.clickable = true;\n        /**\n         * If set to true, the user can drag this rectangle over the map. Defaults to false.\n         */\n        // tslint:disable-next-line:no-input-rename\n        this.draggable = false;\n        /**\n         * If set to true, the user can edit this rectangle by dragging the control points shown at\n         * the center and around the circumference of the rectangle. Defaults to false.\n         */\n        this.editable = false;\n        /**\n         * The stroke position. Defaults to CENTER.\n         * This property is not supported on Internet Explorer 8 and earlier.\n         */\n        this.strokePosition = 'CENTER';\n        /**\n         * The stroke width in pixels.\n         */\n        this.strokeWeight = 0;\n        /**\n         * Whether this rectangle is visible on the map. Defaults to true.\n         */\n        this.visible = true;\n        /**\n         * This event is fired when the rectangle's is changed.\n         */\n        this.boundsChange = new EventEmitter();\n        /**\n         * This event emitter gets emitted when the user clicks on the rectangle.\n         */\n        this.rectangleClick = new EventEmitter();\n        /**\n         * This event emitter gets emitted when the user clicks on the rectangle.\n         */\n        this.rectangleDblClick = new EventEmitter();\n        /**\n         * This event is repeatedly fired while the user drags the rectangle.\n         */\n        this.drag = new EventEmitter();\n        /**\n         * This event is fired when the user stops dragging the rectangle.\n         */\n        this.dragEnd = new EventEmitter();\n        /**\n         * This event is fired when the user starts dragging the rectangle.\n         */\n        this.dragStart = new EventEmitter();\n        /**\n         * This event is fired when the DOM mousedown event is fired on the rectangle.\n         */\n        this.mouseDown = new EventEmitter();\n        /**\n         * This event is fired when the DOM mousemove event is fired on the rectangle.\n         */\n        this.mouseMove = new EventEmitter();\n        /**\n         * This event is fired on rectangle mouseout.\n         */\n        this.mouseOut = new EventEmitter();\n        /**\n         * This event is fired on rectangle mouseover.\n         */\n        this.mouseOver = new EventEmitter();\n        /**\n         * This event is fired when the DOM mouseup event is fired on the rectangle.\n         */\n        this.mouseUp = new EventEmitter();\n        /**\n         * This event is fired when the rectangle is right-clicked on.\n         */\n        this.rightClick = new EventEmitter();\n        this._rectangleAddedToManager = false;\n        this._eventSubscriptions = [];\n    }\n    /** @internal */\n    ngOnInit() {\n        this._manager.addRectangle(this);\n        this._rectangleAddedToManager = true;\n        this._registerEventListeners();\n    }\n    /** @internal */\n    ngOnChanges(changes) {\n        if (!this._rectangleAddedToManager) {\n            return;\n        }\n        if (changes['north'] ||\n            changes['east'] ||\n            changes['south'] ||\n            changes['west']) {\n            this._manager.setBounds(this);\n        }\n        if (changes['editable']) {\n            this._manager.setEditable(this);\n        }\n        if (changes['draggable']) {\n            this._manager.setDraggable(this);\n        }\n        if (changes['visible']) {\n            this._manager.setVisible(this);\n        }\n        this._updateRectangleOptionsChanges(changes);\n    }\n    _updateRectangleOptionsChanges(changes) {\n        let options = {};\n        let optionKeys = Object.keys(changes).filter(k => AgmRectangle_1._mapOptions.indexOf(k) !== -1);\n        optionKeys.forEach(k => {\n            options[k] = changes[k].currentValue;\n        });\n        if (optionKeys.length > 0) {\n            this._manager.setOptions(this, options);\n        }\n    }\n    _registerEventListeners() {\n        let events = new Map();\n        events.set('bounds_changed', this.boundsChange);\n        events.set('click', this.rectangleClick);\n        events.set('dblclick', this.rectangleDblClick);\n        events.set('drag', this.drag);\n        events.set('dragend', this.dragEnd);\n        events.set('dragStart', this.dragStart);\n        events.set('mousedown', this.mouseDown);\n        events.set('mousemove', this.mouseMove);\n        events.set('mouseout', this.mouseOut);\n        events.set('mouseover', this.mouseOver);\n        events.set('mouseup', this.mouseUp);\n        events.set('rightclick', this.rightClick);\n        events.forEach((eventEmitter, eventName) => {\n            this._eventSubscriptions.push(this._manager\n                .createEventObservable(eventName, this)\n                .subscribe(value => {\n                switch (eventName) {\n                    case 'bounds_changed':\n                        this._manager.getBounds(this).then(bounds => eventEmitter.emit({\n                            north: bounds.getNorthEast().lat(),\n                            east: bounds.getNorthEast().lng(),\n                            south: bounds.getSouthWest().lat(),\n                            west: bounds.getSouthWest().lng(),\n                        }));\n                        break;\n                    default:\n                        eventEmitter.emit({\n                            coords: { lat: value.latLng.lat(), lng: value.latLng.lng() },\n                        });\n                }\n            }));\n        });\n    }\n    /** @internal */\n    ngOnDestroy() {\n        this._eventSubscriptions.forEach(function (s) {\n            s.unsubscribe();\n        });\n        this._eventSubscriptions = null;\n        this._manager.removeRectangle(this);\n    }\n    /**\n     * Gets the LatLngBounds of this Rectangle.\n     */\n    getBounds() {\n        return this._manager.getBounds(this);\n    }\n};\nAgmRectangle._mapOptions = [\n    'fillColor',\n    'fillOpacity',\n    'strokeColor',\n    'strokeOpacity',\n    'strokePosition',\n    'strokeWeight',\n    'visible',\n    'zIndex',\n    'clickable',\n];\nAgmRectangle.ctorParameters = () => [\n    { type: RectangleManager }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmRectangle.prototype, \"north\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmRectangle.prototype, \"east\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmRectangle.prototype, \"south\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmRectangle.prototype, \"west\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmRectangle.prototype, \"clickable\", void 0);\n__decorate([\n    Input('rectangleDraggable'),\n    __metadata(\"design:type\", Object)\n], AgmRectangle.prototype, \"draggable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmRectangle.prototype, \"editable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmRectangle.prototype, \"fillColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmRectangle.prototype, \"fillOpacity\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmRectangle.prototype, \"strokeColor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmRectangle.prototype, \"strokeOpacity\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], AgmRectangle.prototype, \"strokePosition\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmRectangle.prototype, \"strokeWeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmRectangle.prototype, \"visible\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], AgmRectangle.prototype, \"zIndex\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmRectangle.prototype, \"boundsChange\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmRectangle.prototype, \"rectangleClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmRectangle.prototype, \"rectangleDblClick\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmRectangle.prototype, \"drag\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmRectangle.prototype, \"dragEnd\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmRectangle.prototype, \"dragStart\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmRectangle.prototype, \"mouseDown\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmRectangle.prototype, \"mouseMove\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmRectangle.prototype, \"mouseOut\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmRectangle.prototype, \"mouseOver\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmRectangle.prototype, \"mouseUp\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgmRectangle.prototype, \"rightClick\", void 0);\nAgmRectangle = AgmRectangle_1 = __decorate([\n    Directive({\n        selector: 'agm-rectangle',\n    }),\n    __metadata(\"design:paramtypes\", [RectangleManager])\n], AgmRectangle);\n\nlet layerId$3 = 0;\n/*\n * This directive adds a transit layer to a google map instance\n * <agm-transit-layer [visible]=\"true|false\"> <agm-transit-layer>\n * */\nlet AgmTransitLayer = class AgmTransitLayer {\n    constructor(_manager) {\n        this._manager = _manager;\n        this._addedToManager = false;\n        this._id = (layerId$3++).toString();\n        /**\n         * Hide/show transit layer\n         */\n        this.visible = true;\n    }\n    ngOnInit() {\n        if (this._addedToManager) {\n            return;\n        }\n        this._manager.addTransitLayer(this, { visible: this.visible });\n        this._addedToManager = true;\n    }\n    ngOnChanges(changes) {\n        if (!this._addedToManager) {\n            return;\n        }\n        if (changes['visible'] != null) {\n            this._manager.toggleLayerVisibility(this, { visible: changes['visible'].currentValue });\n        }\n    }\n    /** @internal */\n    id() { return this._id; }\n    /** @internal */\n    toString() { return `AgmTransitLayer-${this._id.toString()}`; }\n    /** @internal */\n    ngOnDestroy() {\n        this._manager.deleteLayer(this);\n    }\n};\nAgmTransitLayer.ctorParameters = () => [\n    { type: LayerManager }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgmTransitLayer.prototype, \"visible\", void 0);\nAgmTransitLayer = __decorate([\n    Directive({\n        selector: 'agm-transit-layer',\n    }),\n    __metadata(\"design:paramtypes\", [LayerManager])\n], AgmTransitLayer);\n\nvar google$1;\nvar SymbolPath;\n(function (SymbolPath) {\n    SymbolPath[SymbolPath[\"BACKWARD_CLOSED_ARROW\"] = 3] = \"BACKWARD_CLOSED_ARROW\";\n    SymbolPath[SymbolPath[\"BACKWARD_OPEN_ARROW\"] = 4] = \"BACKWARD_OPEN_ARROW\";\n    SymbolPath[SymbolPath[\"CIRCLE\"] = 0] = \"CIRCLE\";\n    SymbolPath[SymbolPath[\"FORWARD_CLOSED_ARROW\"] = 1] = \"FORWARD_CLOSED_ARROW\";\n    SymbolPath[SymbolPath[\"FORWARD_OPEN_ARROW\"] = 2] = \"FORWARD_OPEN_ARROW\";\n})(SymbolPath || (SymbolPath = {}));\n/**\n * Identifiers used to specify the placement of controls on the map. Controls are\n * positioned relative to other controls in the same layout position. Controls that\n * are added first are positioned closer to the edge of the map.\n */\nvar ControlPosition;\n(function (ControlPosition) {\n    ControlPosition[ControlPosition[\"RIGHT_BOTTOM\"] = 0] = \"RIGHT_BOTTOM\";\n    ControlPosition[ControlPosition[\"TOP_LEFT\"] = 1] = \"TOP_LEFT\";\n    ControlPosition[ControlPosition[\"TOP_CENTER\"] = 2] = \"TOP_CENTER\";\n    ControlPosition[ControlPosition[\"TOP_RIGHT\"] = 3] = \"TOP_RIGHT\";\n    ControlPosition[ControlPosition[\"LEFT_CENTER\"] = 4] = \"LEFT_CENTER\";\n    ControlPosition[ControlPosition[\"LEFT_TOP\"] = 5] = \"LEFT_TOP\";\n    ControlPosition[ControlPosition[\"LEFT_BOTTOM\"] = 6] = \"LEFT_BOTTOM\";\n    ControlPosition[ControlPosition[\"RIGHT_TOP\"] = 7] = \"RIGHT_TOP\";\n    ControlPosition[ControlPosition[\"RIGHT_CENTER\"] = 8] = \"RIGHT_CENTER\";\n    ControlPosition[ControlPosition[\"BOTTOM_RIGHT\"] = 9] = \"BOTTOM_RIGHT\";\n    ControlPosition[ControlPosition[\"BOTTOM_LEFT\"] = 10] = \"BOTTOM_LEFT\";\n    ControlPosition[ControlPosition[\"BOTTOM_CENTER\"] = 11] = \"BOTTOM_CENTER\";\n})(ControlPosition || (ControlPosition = {}));\nvar MapTypeId;\n(function (MapTypeId) {\n    /** This map type displays a transparent layer of major streets on satellite images. */\n    MapTypeId[MapTypeId[\"HYBRID\"] = 0] = \"HYBRID\";\n    /** This map type displays a normal street map. */\n    MapTypeId[MapTypeId[\"ROADMAP\"] = 1] = \"ROADMAP\";\n    /** This map type displays satellite images. */\n    MapTypeId[MapTypeId[\"SATELLITE\"] = 2] = \"SATELLITE\";\n    /** This map type displays maps with physical features such as terrain and vegetation. */\n    MapTypeId[MapTypeId[\"TERRAIN\"] = 3] = \"TERRAIN\";\n})(MapTypeId || (MapTypeId = {}));\nvar MapTypeControlStyle;\n(function (MapTypeControlStyle) {\n    MapTypeControlStyle[MapTypeControlStyle[\"DEFAULT\"] = 0] = \"DEFAULT\";\n    MapTypeControlStyle[MapTypeControlStyle[\"DROPDOWN_MENU\"] = 2] = \"DROPDOWN_MENU\";\n    MapTypeControlStyle[MapTypeControlStyle[\"HORIZONTAL_BAR\"] = 1] = \"HORIZONTAL_BAR\";\n})(MapTypeControlStyle || (MapTypeControlStyle = {}));\nvar ScaleControlStyle;\n(function (ScaleControlStyle) {\n    ScaleControlStyle[ScaleControlStyle[\"DEFAULT\"] = 0] = \"DEFAULT\";\n})(ScaleControlStyle || (ScaleControlStyle = {}));\nvar ZoomControlStyle;\n(function (ZoomControlStyle) {\n    ZoomControlStyle[ZoomControlStyle[\"DEFAULT\"] = 0] = \"DEFAULT\";\n    ZoomControlStyle[ZoomControlStyle[\"LARGE\"] = 1] = \"LARGE\";\n    ZoomControlStyle[ZoomControlStyle[\"SMALL\"] = 2] = \"SMALL\";\n})(ZoomControlStyle || (ZoomControlStyle = {}));\nvar GeocoderLocationType;\n(function (GeocoderLocationType) {\n    GeocoderLocationType[\"APPROXIMATE\"] = \"APPROXIMATE\";\n    GeocoderLocationType[\"GEOMETRIC_CENTER\"] = \"GEOMETRIC_CENTER\";\n    GeocoderLocationType[\"RANGE_INTERPOLATED\"] = \"RANGE_INTERPOLATED\";\n    GeocoderLocationType[\"ROOFTOP\"] = \"ROOFTOP\";\n})(GeocoderLocationType || (GeocoderLocationType = {}));\nvar GeocoderStatus;\n(function (GeocoderStatus) {\n    GeocoderStatus[\"ERROR\"] = \"ERROR\";\n    GeocoderStatus[\"INVALID_REQUEST\"] = \"INVALID_REQUEST\";\n    GeocoderStatus[\"OK\"] = \"OK\";\n    GeocoderStatus[\"OVER_QUERY_LIMIT\"] = \"OVER_QUERY_LIMIT\";\n    GeocoderStatus[\"REQUEST_DENIED\"] = \"REQUEST_DENIED\";\n    GeocoderStatus[\"UNKNOWN_ERROR\"] = \"UNKNOWN_ERROR\";\n    GeocoderStatus[\"ZERO_RESULTS\"] = \"ZERO_RESULTS\";\n})(GeocoderStatus || (GeocoderStatus = {}));\n\nlet AgmGeocoder = class AgmGeocoder {\n    constructor(loader) {\n        const connectableGeocoder$ = new Observable(subscriber => {\n            loader.load().then(() => subscriber.next());\n        })\n            .pipe(map(() => this._createGeocoder()), multicast(new ReplaySubject(1)));\n        connectableGeocoder$.connect(); // ignore the subscription\n        // since we will remain subscribed till application exits\n        this.geocoder$ = connectableGeocoder$;\n    }\n    geocode(request) {\n        return this.geocoder$.pipe(switchMap((geocoder) => this._getGoogleResults(geocoder, request)));\n    }\n    _getGoogleResults(geocoder, request) {\n        const geocodeObservable = bindCallback(geocoder.geocode);\n        return geocodeObservable(request).pipe(switchMap(([results, status]) => {\n            if (status === GeocoderStatus.OK) {\n                return of(results);\n            }\n            return throwError(status);\n        }));\n    }\n    _createGeocoder() {\n        return new google.maps.Geocoder();\n    }\n};\nAgmGeocoder.ctorParameters = () => [\n    { type: MapsAPILoader }\n];\nAgmGeocoder.ngInjectableDef = ɵɵdefineInjectable({ factory: function AgmGeocoder_Factory() { return new AgmGeocoder(ɵɵinject(MapsAPILoader)); }, token: AgmGeocoder, providedIn: \"root\" });\nAgmGeocoder = __decorate([\n    Injectable({ providedIn: 'root' }),\n    __metadata(\"design:paramtypes\", [MapsAPILoader])\n], AgmGeocoder);\n\nclass WindowRef {\n    getNativeWindow() { return window; }\n}\nclass DocumentRef {\n    getNativeDocument() { return document; }\n}\nconst BROWSER_GLOBALS_PROVIDERS = [WindowRef, DocumentRef];\n\nvar GoogleMapsScriptProtocol;\n(function (GoogleMapsScriptProtocol) {\n    GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"HTTP\"] = 1] = \"HTTP\";\n    GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"HTTPS\"] = 2] = \"HTTPS\";\n    GoogleMapsScriptProtocol[GoogleMapsScriptProtocol[\"AUTO\"] = 3] = \"AUTO\";\n})(GoogleMapsScriptProtocol || (GoogleMapsScriptProtocol = {}));\n/**\n * Token for the config of the LazyMapsAPILoader. Please provide an object of type {@link\n * LazyMapsAPILoaderConfig}.\n */\nconst LAZY_MAPS_API_CONFIG = new InjectionToken('angular-google-maps LAZY_MAPS_API_CONFIG');\nlet LazyMapsAPILoader = class LazyMapsAPILoader extends MapsAPILoader {\n    constructor(config = null, w, d, localeId) {\n        super();\n        this.localeId = localeId;\n        this._SCRIPT_ID = 'agmGoogleMapsApiScript';\n        this.callbackName = `agmLazyMapsAPILoader`;\n        this._config = config || {};\n        this._windowRef = w;\n        this._documentRef = d;\n    }\n    load() {\n        const window = this._windowRef.getNativeWindow();\n        if (window.google && window.google.maps) {\n            // Google maps already loaded on the page.\n            return Promise.resolve();\n        }\n        if (this._scriptLoadingPromise) {\n            return this._scriptLoadingPromise;\n        }\n        // this can happen in HMR situations or Stackblitz.io editors.\n        const scriptOnPage = this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);\n        if (scriptOnPage) {\n            this._assignScriptLoadingPromise(scriptOnPage);\n            return this._scriptLoadingPromise;\n        }\n        const script = this._documentRef.getNativeDocument().createElement('script');\n        script.type = 'text/javascript';\n        script.async = true;\n        script.defer = true;\n        script.id = this._SCRIPT_ID;\n        script.src = this._getScriptSrc(this.callbackName);\n        this._assignScriptLoadingPromise(script);\n        this._documentRef.getNativeDocument().body.appendChild(script);\n        return this._scriptLoadingPromise;\n    }\n    _assignScriptLoadingPromise(scriptElem) {\n        this._scriptLoadingPromise = new Promise((resolve, reject) => {\n            this._windowRef.getNativeWindow()[this.callbackName] = () => {\n                resolve();\n            };\n            scriptElem.onerror = (error) => {\n                reject(error);\n            };\n        });\n    }\n    _getScriptSrc(callbackName) {\n        let protocolType = (this._config && this._config.protocol) || GoogleMapsScriptProtocol.HTTPS;\n        let protocol;\n        switch (protocolType) {\n            case GoogleMapsScriptProtocol.AUTO:\n                protocol = '';\n                break;\n            case GoogleMapsScriptProtocol.HTTP:\n                protocol = 'http:';\n                break;\n            case GoogleMapsScriptProtocol.HTTPS:\n                protocol = 'https:';\n                break;\n        }\n        const hostAndPath = this._config.hostAndPath || 'maps.googleapis.com/maps/api/js';\n        const queryParams = {\n            v: this._config.apiVersion || 'quarterly',\n            callback: callbackName,\n            key: this._config.apiKey,\n            client: this._config.clientId,\n            channel: this._config.channel,\n            libraries: this._config.libraries,\n            region: this._config.region,\n            language: this._config.language || this.localeId !== 'en-US' ? this.localeId : null,\n        };\n        const params = Object.keys(queryParams)\n            .filter((k) => queryParams[k] != null)\n            .filter((k) => {\n            // remove empty arrays\n            return !Array.isArray(queryParams[k]) ||\n                (Array.isArray(queryParams[k]) && queryParams[k].length > 0);\n        })\n            .map((k) => {\n            // join arrays as comma seperated strings\n            let i = queryParams[k];\n            if (Array.isArray(i)) {\n                return { key: k, value: i.join(',') };\n            }\n            return { key: k, value: queryParams[k] };\n        })\n            .map((entry) => {\n            return `${entry.key}=${entry.value}`;\n        })\n            .join('&');\n        return `${protocol}//${hostAndPath}?${params}`;\n    }\n};\nLazyMapsAPILoader.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [LAZY_MAPS_API_CONFIG,] }] },\n    { type: WindowRef },\n    { type: DocumentRef },\n    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] }\n];\nLazyMapsAPILoader = __decorate([\n    Injectable(),\n    __param(0, Optional()), __param(0, Inject(LAZY_MAPS_API_CONFIG)),\n    __param(3, Inject(LOCALE_ID)),\n    __metadata(\"design:paramtypes\", [Object, WindowRef, DocumentRef, String])\n], LazyMapsAPILoader);\n\n/**\n * When using the NoOpMapsAPILoader, the Google Maps API must be added to the page via a `<script>`\n * Tag.\n * It's important that the Google Maps API script gets loaded first on the page.\n */\nclass NoOpMapsAPILoader {\n    load() {\n        if (!window.google || !window.google.maps) {\n            throw new Error('Google Maps API not loaded on page. Make sure window.google.maps is available!');\n        }\n        return Promise.resolve();\n    }\n}\n\n// exported map types\n\nvar AgmCoreModule_1;\n/**\n * @internal\n */\nfunction coreDirectives() {\n    return [\n        AgmBicyclingLayer,\n        AgmCircle,\n        AgmDataLayer,\n        AgmFitBounds,\n        AgmInfoWindow,\n        AgmKmlLayer,\n        AgmMap,\n        AgmMarker,\n        AgmPolygon,\n        AgmPolyline,\n        AgmPolylineIcon,\n        AgmPolylinePoint,\n        AgmRectangle,\n        AgmTransitLayer,\n    ];\n}\n/**\n * The angular-google-maps core module. Contains all Directives/Services/Pipes\n * of the core module. Please use `AgmCoreModule.forRoot()` in your app module.\n */\nlet AgmCoreModule = AgmCoreModule_1 = class AgmCoreModule {\n    /**\n     * Please use this method when you register the module at the root level.\n     */\n    static forRoot(lazyMapsAPILoaderConfig) {\n        return {\n            ngModule: AgmCoreModule_1,\n            providers: [\n                ...BROWSER_GLOBALS_PROVIDERS, { provide: MapsAPILoader, useClass: LazyMapsAPILoader },\n                { provide: LAZY_MAPS_API_CONFIG, useValue: lazyMapsAPILoaderConfig },\n            ],\n        };\n    }\n};\nAgmCoreModule = AgmCoreModule_1 = __decorate([\n    NgModule({ declarations: coreDirectives(), exports: coreDirectives() })\n], AgmCoreModule);\n\n// main modules\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AgmBicyclingLayer, AgmCircle, AgmCoreModule, AgmDataLayer, AgmFitBounds, AgmGeocoder, AgmInfoWindow, AgmKmlLayer, AgmMap, AgmMarker, AgmPolygon, AgmPolyline, AgmPolylineIcon, AgmPolylinePoint, AgmRectangle, AgmTransitLayer, CircleManager, ControlPosition, DataLayerManager, FitBoundsAccessor, GeocoderLocationType, GeocoderStatus, GoogleMapsAPIWrapper, GoogleMapsScriptProtocol, InfoWindowManager, KmlLayerManager, LAZY_MAPS_API_CONFIG, LayerManager, LazyMapsAPILoader, MapTypeId, MapsAPILoader, MarkerManager, NoOpMapsAPILoader, PolygonManager, PolylineManager, RectangleManager, ScaleControlStyle, ZoomControlStyle, FitBoundsService as ɵa, coreDirectives as ɵb, WindowRef as ɵc, DocumentRef as ɵd, BROWSER_GLOBALS_PROVIDERS as ɵe };\n//# sourceMappingURL=agm-core.js.map\n","export var pad = function (number, length) {\n    if (length === void 0) { length = 2; }\n    return (\"000\" + number).slice(length * -1);\n};\nexport var int = function (bool) { return (bool === true ? 1 : 0); };\nexport function debounce(fn, wait) {\n    var t;\n    return function () {\n        var _this = this;\n        var args = arguments;\n        clearTimeout(t);\n        t = setTimeout(function () { return fn.apply(_this, args); }, wait);\n    };\n}\nexport var arrayify = function (obj) {\n    return obj instanceof Array ? obj : [obj];\n};\n","import { Subject, Observable, merge, ReplaySubject, combineLatest, fromEvent } from 'rxjs';\nimport { DOCUMENT } from '@angular/common';\nimport autoScroll from '@mattlewis92/dom-autoscroller';\nimport { Injectable, Directive, ElementRef, Input, Renderer2, Output, EventEmitter, NgZone, Inject, ViewContainerRef, Optional, NgModule, defineInjectable } from '@angular/core';\nimport { map, mergeMap, takeUntil, take, takeLast, pairwise, share, filter, count, startWith, distinctUntilChanged } from 'rxjs/operators';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass DraggableHelper {\n    constructor() {\n        this.currentDrag = new Subject();\n    }\n}\nDraggableHelper.decorators = [\n    { type: Injectable, args: [{\n                providedIn: 'root',\n            },] }\n];\n/** @nocollapse */ DraggableHelper.ngInjectableDef = defineInjectable({ factory: function DraggableHelper_Factory() { return new DraggableHelper(); }, token: DraggableHelper, providedIn: \"root\" });\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * If the window isn't scrollable, then place this on the scrollable container that draggable elements are inside. e.g.\n * ```html\n * <div style=\"overflow: scroll\" mwlDraggableScrollContainer>\n * <div mwlDraggable>Drag me!</div>\n * </div>\n * ```\n */\nclass DraggableScrollContainerDirective {\n    /**\n     * @hidden\n     * @param {?} elementRef\n     */\n    constructor(elementRef) {\n        this.elementRef = elementRef;\n        /**\n         * Trigger the DragStart after a long touch in scrollable container when true\n         * @deprecated will be removed in v5 (use [touchStartLongPress]=\"{delay: 300, delta: 30}\" on the mwlDraggable element instead)\n         */\n        this.activeLongPressDrag = false;\n        /**\n         * Configuration of a long touch\n         * Duration in ms of a long touch before activating DragStart\n         * Delta of the\n         * @deprecated will be removed in v5 (use [touchStartLongPress]=\"{delay: 300, delta: 30}\" on the mwlDraggable element instead)\n         */\n        this.longPressConfig = { duration: 300, delta: 30 };\n    }\n}\nDraggableScrollContainerDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlDraggableScrollContainer]',\n            },] }\n];\n/** @nocollapse */\nDraggableScrollContainerDirective.ctorParameters = () => [\n    { type: ElementRef }\n];\nDraggableScrollContainerDirective.propDecorators = {\n    activeLongPressDrag: [{ type: Input }],\n    longPressConfig: [{ type: Input }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} renderer\n * @param {?} element\n * @param {?} classToAdd\n * @return {?}\n */\nfunction addClass(renderer, element, classToAdd) {\n    if (classToAdd) {\n        classToAdd\n            .split(' ')\n            .forEach((/**\n         * @param {?} className\n         * @return {?}\n         */\n        (className) => renderer.addClass(element.nativeElement, className)));\n    }\n}\n/**\n * @param {?} renderer\n * @param {?} element\n * @param {?} classToRemove\n * @return {?}\n */\nfunction removeClass(renderer, element, classToRemove) {\n    if (classToRemove) {\n        classToRemove\n            .split(' ')\n            .forEach((/**\n         * @param {?} className\n         * @return {?}\n         */\n        (className) => renderer.removeClass(element.nativeElement, className)));\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass DraggableDirective {\n    /**\n     * @hidden\n     * @param {?} element\n     * @param {?} renderer\n     * @param {?} draggableHelper\n     * @param {?} zone\n     * @param {?} vcr\n     * @param {?} scrollContainer\n     * @param {?} document\n     */\n    constructor(element, renderer, draggableHelper, zone, vcr, scrollContainer, document) {\n        this.element = element;\n        this.renderer = renderer;\n        this.draggableHelper = draggableHelper;\n        this.zone = zone;\n        this.vcr = vcr;\n        this.scrollContainer = scrollContainer;\n        this.document = document;\n        /**\n         * The axis along which the element is draggable\n         */\n        this.dragAxis = { x: true, y: true };\n        /**\n         * Snap all drags to an x / y grid\n         */\n        this.dragSnapGrid = {};\n        /**\n         * Show a ghost element that shows the drag when dragging\n         */\n        this.ghostDragEnabled = true;\n        /**\n         * Show the original element when ghostDragEnabled is true\n         */\n        this.showOriginalElementWhileDragging = false;\n        /**\n         * The cursor to use when hovering over a draggable element\n         */\n        this.dragCursor = '';\n        /*\n           * Options used to control the behaviour of auto scrolling: https://www.npmjs.com/package/dom-autoscroller\n           */\n        this.autoScroll = {\n            margin: 20,\n        };\n        /**\n         * Called when the element can be dragged along one axis and has the mouse or pointer device pressed on it\n         */\n        this.dragPointerDown = new EventEmitter();\n        /**\n         * Called when the element has started to be dragged.\n         * Only called after at least one mouse or touch move event.\n         * If you call $event.cancelDrag$.emit() it will cancel the current drag\n         */\n        this.dragStart = new EventEmitter();\n        /**\n         * Called after the ghost element has been created\n         */\n        this.ghostElementCreated = new EventEmitter();\n        /**\n         * Called when the element is being dragged\n         */\n        this.dragging = new EventEmitter();\n        /**\n         * Called after the element is dragged\n         */\n        this.dragEnd = new EventEmitter();\n        /**\n         * @hidden\n         */\n        this.pointerDown$ = new Subject();\n        /**\n         * @hidden\n         */\n        this.pointerMove$ = new Subject();\n        /**\n         * @hidden\n         */\n        this.pointerUp$ = new Subject();\n        this.eventListenerSubscriptions = {};\n        this.destroy$ = new Subject();\n        this.timeLongPress = { timerBegin: 0, timerEnd: 0 };\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.checkEventListeners();\n        /** @type {?} */\n        const pointerDragged$ = this.pointerDown$.pipe(filter((/**\n         * @return {?}\n         */\n        () => this.canDrag())), mergeMap((/**\n         * @param {?} pointerDownEvent\n         * @return {?}\n         */\n        (pointerDownEvent) => {\n            // fix for https://github.com/mattlewis92/angular-draggable-droppable/issues/61\n            // stop mouse events propagating up the chain\n            if (pointerDownEvent.event.stopPropagation && !this.scrollContainer) {\n                pointerDownEvent.event.stopPropagation();\n            }\n            // hack to prevent text getting selected in safari while dragging\n            /** @type {?} */\n            const globalDragStyle = this.renderer.createElement('style');\n            this.renderer.setAttribute(globalDragStyle, 'type', 'text/css');\n            this.renderer.appendChild(globalDragStyle, this.renderer.createText(`\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        `));\n            requestAnimationFrame((/**\n             * @return {?}\n             */\n            () => {\n                this.document.head.appendChild(globalDragStyle);\n            }));\n            /** @type {?} */\n            const startScrollPosition = this.getScrollPosition();\n            /** @type {?} */\n            const scrollContainerScroll$ = new Observable((/**\n             * @param {?} observer\n             * @return {?}\n             */\n            (observer) => {\n                /** @type {?} */\n                const scrollContainer = this.scrollContainer\n                    ? this.scrollContainer.elementRef.nativeElement\n                    : 'window';\n                return this.renderer.listen(scrollContainer, 'scroll', (/**\n                 * @param {?} e\n                 * @return {?}\n                 */\n                (e) => observer.next(e)));\n            })).pipe(startWith(startScrollPosition), map((/**\n             * @return {?}\n             */\n            () => this.getScrollPosition())));\n            /** @type {?} */\n            const currentDrag$ = new Subject();\n            /** @type {?} */\n            const cancelDrag$ = new ReplaySubject();\n            this.zone.run((/**\n             * @return {?}\n             */\n            () => {\n                this.dragPointerDown.next({ x: 0, y: 0 });\n            }));\n            /** @type {?} */\n            const dragComplete$ = merge(this.pointerUp$, this.pointerDown$, cancelDrag$, this.destroy$).pipe(share());\n            /** @type {?} */\n            const pointerMove = combineLatest([\n                this.pointerMove$,\n                scrollContainerScroll$,\n            ]).pipe(map((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ([pointerMoveEvent, scroll]) => {\n                return {\n                    currentDrag$,\n                    transformX: pointerMoveEvent.clientX - pointerDownEvent.clientX,\n                    transformY: pointerMoveEvent.clientY - pointerDownEvent.clientY,\n                    clientX: pointerMoveEvent.clientX,\n                    clientY: pointerMoveEvent.clientY,\n                    scrollLeft: scroll.left,\n                    scrollTop: scroll.top,\n                    target: pointerMoveEvent.event.target,\n                };\n            })), map((/**\n             * @param {?} moveData\n             * @return {?}\n             */\n            (moveData) => {\n                if (this.dragSnapGrid.x) {\n                    moveData.transformX =\n                        Math.round(moveData.transformX / this.dragSnapGrid.x) *\n                            this.dragSnapGrid.x;\n                }\n                if (this.dragSnapGrid.y) {\n                    moveData.transformY =\n                        Math.round(moveData.transformY / this.dragSnapGrid.y) *\n                            this.dragSnapGrid.y;\n                }\n                return moveData;\n            })), map((/**\n             * @param {?} moveData\n             * @return {?}\n             */\n            (moveData) => {\n                if (!this.dragAxis.x) {\n                    moveData.transformX = 0;\n                }\n                if (!this.dragAxis.y) {\n                    moveData.transformY = 0;\n                }\n                return moveData;\n            })), map((/**\n             * @param {?} moveData\n             * @return {?}\n             */\n            (moveData) => {\n                /** @type {?} */\n                const scrollX = moveData.scrollLeft - startScrollPosition.left;\n                /** @type {?} */\n                const scrollY = moveData.scrollTop - startScrollPosition.top;\n                return Object.assign({}, moveData, { x: moveData.transformX + scrollX, y: moveData.transformY + scrollY });\n            })), filter((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ({ x, y, transformX, transformY }) => !this.validateDrag ||\n                this.validateDrag({\n                    x,\n                    y,\n                    transform: { x: transformX, y: transformY },\n                }))), takeUntil(dragComplete$), share());\n            /** @type {?} */\n            const dragStarted$ = pointerMove.pipe(take(1), share());\n            /** @type {?} */\n            const dragEnded$ = pointerMove.pipe(takeLast(1), share());\n            dragStarted$.subscribe((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ({ clientX, clientY, x, y }) => {\n                this.zone.run((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.dragStart.next({ cancelDrag$ });\n                }));\n                this.scroller = autoScroll([\n                    this.scrollContainer\n                        ? this.scrollContainer.elementRef.nativeElement\n                        : this.document.defaultView,\n                ], Object.assign({}, this.autoScroll, { /**\n                     * @return {?}\n                     */\n                    autoScroll() {\n                        return true;\n                    } }));\n                addClass(this.renderer, this.element, this.dragActiveClass);\n                if (this.ghostDragEnabled) {\n                    /** @type {?} */\n                    const rect = this.element.nativeElement.getBoundingClientRect();\n                    /** @type {?} */\n                    const clone = (/** @type {?} */ (this.element.nativeElement.cloneNode(true)));\n                    if (!this.showOriginalElementWhileDragging) {\n                        this.renderer.setStyle(this.element.nativeElement, 'visibility', 'hidden');\n                    }\n                    if (this.ghostElementAppendTo) {\n                        this.ghostElementAppendTo.appendChild(clone);\n                    }\n                    else {\n                        (/** @type {?} */ (this.element.nativeElement.parentNode)).insertBefore(clone, this.element.nativeElement.nextSibling);\n                    }\n                    this.ghostElement = clone;\n                    this.document.body.style.cursor = this.dragCursor;\n                    this.setElementStyles(clone, {\n                        position: 'fixed',\n                        top: `${rect.top}px`,\n                        left: `${rect.left}px`,\n                        width: `${rect.width}px`,\n                        height: `${rect.height}px`,\n                        cursor: this.dragCursor,\n                        margin: '0',\n                        willChange: 'transform',\n                        pointerEvents: 'none',\n                    });\n                    if (this.ghostElementTemplate) {\n                        /** @type {?} */\n                        const viewRef = this.vcr.createEmbeddedView(this.ghostElementTemplate);\n                        clone.innerHTML = '';\n                        viewRef.rootNodes\n                            .filter((/**\n                         * @param {?} node\n                         * @return {?}\n                         */\n                        (node) => node instanceof Node))\n                            .forEach((/**\n                         * @param {?} node\n                         * @return {?}\n                         */\n                        (node) => {\n                            clone.appendChild(node);\n                        }));\n                        dragEnded$.subscribe((/**\n                         * @return {?}\n                         */\n                        () => {\n                            this.vcr.remove(this.vcr.indexOf(viewRef));\n                        }));\n                    }\n                    this.zone.run((/**\n                     * @return {?}\n                     */\n                    () => {\n                        this.ghostElementCreated.emit({\n                            clientX: clientX - x,\n                            clientY: clientY - y,\n                            element: clone,\n                        });\n                    }));\n                    dragEnded$.subscribe((/**\n                     * @return {?}\n                     */\n                    () => {\n                        (/** @type {?} */ (clone.parentElement)).removeChild(clone);\n                        this.ghostElement = null;\n                        this.renderer.setStyle(this.element.nativeElement, 'visibility', '');\n                    }));\n                }\n                this.draggableHelper.currentDrag.next(currentDrag$);\n            }));\n            dragEnded$\n                .pipe(mergeMap((/**\n             * @param {?} dragEndData\n             * @return {?}\n             */\n            (dragEndData) => {\n                /** @type {?} */\n                const dragEndData$ = cancelDrag$.pipe(count(), take(1), map((/**\n                 * @param {?} calledCount\n                 * @return {?}\n                 */\n                (calledCount) => (Object.assign({}, dragEndData, { dragCancelled: calledCount > 0 })))));\n                cancelDrag$.complete();\n                return dragEndData$;\n            })))\n                .subscribe((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ({ x, y, dragCancelled }) => {\n                this.scroller.destroy();\n                this.zone.run((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.dragEnd.next({ x, y, dragCancelled });\n                }));\n                removeClass(this.renderer, this.element, this.dragActiveClass);\n                currentDrag$.complete();\n            }));\n            merge(dragComplete$, dragEnded$)\n                .pipe(take(1))\n                .subscribe((/**\n             * @return {?}\n             */\n            () => {\n                requestAnimationFrame((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.document.head.removeChild(globalDragStyle);\n                }));\n            }));\n            return pointerMove;\n        })), share());\n        merge(pointerDragged$.pipe(take(1), map((/**\n         * @param {?} value\n         * @return {?}\n         */\n        (value) => [, value]))), pointerDragged$.pipe(pairwise()))\n            .pipe(filter((/**\n         * @param {?} __0\n         * @return {?}\n         */\n        ([previous, next]) => {\n            if (!previous) {\n                return true;\n            }\n            return previous.x !== next.x || previous.y !== next.y;\n        })), map((/**\n         * @param {?} __0\n         * @return {?}\n         */\n        ([previous, next]) => next)))\n            .subscribe((/**\n         * @param {?} __0\n         * @return {?}\n         */\n        ({ x, y, currentDrag$, clientX, clientY, transformX, transformY, target, }) => {\n            this.zone.run((/**\n             * @return {?}\n             */\n            () => {\n                this.dragging.next({ x, y });\n            }));\n            requestAnimationFrame((/**\n             * @return {?}\n             */\n            () => {\n                if (this.ghostElement) {\n                    /** @type {?} */\n                    const transform = `translate3d(${transformX}px, ${transformY}px, 0px)`;\n                    this.setElementStyles(this.ghostElement, {\n                        transform,\n                        '-webkit-transform': transform,\n                        '-ms-transform': transform,\n                        '-moz-transform': transform,\n                        '-o-transform': transform,\n                    });\n                }\n            }));\n            currentDrag$.next({\n                clientX,\n                clientY,\n                dropData: this.dropData,\n                target,\n            });\n        }));\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (changes.dragAxis) {\n            this.checkEventListeners();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.unsubscribeEventListeners();\n        this.pointerDown$.complete();\n        this.pointerMove$.complete();\n        this.pointerUp$.complete();\n        this.destroy$.next();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    checkEventListeners() {\n        /** @type {?} */\n        const canDrag = this.canDrag();\n        /** @type {?} */\n        const hasEventListeners = Object.keys(this.eventListenerSubscriptions).length > 0;\n        if (canDrag && !hasEventListeners) {\n            this.zone.runOutsideAngular((/**\n             * @return {?}\n             */\n            () => {\n                this.eventListenerSubscriptions.mousedown = this.renderer.listen(this.element.nativeElement, 'mousedown', (/**\n                 * @param {?} event\n                 * @return {?}\n                 */\n                (event) => {\n                    this.onMouseDown(event);\n                }));\n                this.eventListenerSubscriptions.mouseup = this.renderer.listen('document', 'mouseup', (/**\n                 * @param {?} event\n                 * @return {?}\n                 */\n                (event) => {\n                    this.onMouseUp(event);\n                }));\n                this.eventListenerSubscriptions.touchstart = this.renderer.listen(this.element.nativeElement, 'touchstart', (/**\n                 * @param {?} event\n                 * @return {?}\n                 */\n                (event) => {\n                    this.onTouchStart(event);\n                }));\n                this.eventListenerSubscriptions.touchend = this.renderer.listen('document', 'touchend', (/**\n                 * @param {?} event\n                 * @return {?}\n                 */\n                (event) => {\n                    this.onTouchEnd(event);\n                }));\n                this.eventListenerSubscriptions.touchcancel = this.renderer.listen('document', 'touchcancel', (/**\n                 * @param {?} event\n                 * @return {?}\n                 */\n                (event) => {\n                    this.onTouchEnd(event);\n                }));\n                this.eventListenerSubscriptions.mouseenter = this.renderer.listen(this.element.nativeElement, 'mouseenter', (/**\n                 * @return {?}\n                 */\n                () => {\n                    this.onMouseEnter();\n                }));\n                this.eventListenerSubscriptions.mouseleave = this.renderer.listen(this.element.nativeElement, 'mouseleave', (/**\n                 * @return {?}\n                 */\n                () => {\n                    this.onMouseLeave();\n                }));\n            }));\n        }\n        else if (!canDrag && hasEventListeners) {\n            this.unsubscribeEventListeners();\n        }\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    onMouseDown(event) {\n        if (event.button === 0) {\n            if (!this.eventListenerSubscriptions.mousemove) {\n                this.eventListenerSubscriptions.mousemove = this.renderer.listen('document', 'mousemove', (/**\n                 * @param {?} mouseMoveEvent\n                 * @return {?}\n                 */\n                (mouseMoveEvent) => {\n                    this.pointerMove$.next({\n                        event: mouseMoveEvent,\n                        clientX: mouseMoveEvent.clientX,\n                        clientY: mouseMoveEvent.clientY,\n                    });\n                }));\n            }\n            this.pointerDown$.next({\n                event,\n                clientX: event.clientX,\n                clientY: event.clientY,\n            });\n        }\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    onMouseUp(event) {\n        if (event.button === 0) {\n            if (this.eventListenerSubscriptions.mousemove) {\n                this.eventListenerSubscriptions.mousemove();\n                delete this.eventListenerSubscriptions.mousemove;\n            }\n            this.pointerUp$.next({\n                event,\n                clientX: event.clientX,\n                clientY: event.clientY,\n            });\n        }\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    onTouchStart(event) {\n        /** @type {?} */\n        let startScrollPosition;\n        /** @type {?} */\n        let isDragActivated;\n        /** @type {?} */\n        let hasContainerScrollbar;\n        if ((this.scrollContainer && this.scrollContainer.activeLongPressDrag) ||\n            this.touchStartLongPress) {\n            this.timeLongPress.timerBegin = Date.now();\n            isDragActivated = false;\n            hasContainerScrollbar = this.hasScrollbar();\n            startScrollPosition = this.getScrollPosition();\n        }\n        if (!this.eventListenerSubscriptions.touchmove) {\n            /** @type {?} */\n            const contextMenuListener = fromEvent(this.document, 'contextmenu').subscribe((/**\n             * @param {?} e\n             * @return {?}\n             */\n            (e) => {\n                e.preventDefault();\n            }));\n            /** @type {?} */\n            const touchMoveListener = fromEvent(this.document, 'touchmove', {\n                passive: false,\n            }).subscribe((/**\n             * @param {?} touchMoveEvent\n             * @return {?}\n             */\n            (touchMoveEvent) => {\n                if (((this.scrollContainer && this.scrollContainer.activeLongPressDrag) ||\n                    this.touchStartLongPress) &&\n                    !isDragActivated &&\n                    hasContainerScrollbar) {\n                    isDragActivated = this.shouldBeginDrag(event, touchMoveEvent, startScrollPosition);\n                }\n                if (((!this.scrollContainer ||\n                    !this.scrollContainer.activeLongPressDrag) &&\n                    !this.touchStartLongPress) ||\n                    !hasContainerScrollbar ||\n                    isDragActivated) {\n                    touchMoveEvent.preventDefault();\n                    this.pointerMove$.next({\n                        event: touchMoveEvent,\n                        clientX: touchMoveEvent.targetTouches[0].clientX,\n                        clientY: touchMoveEvent.targetTouches[0].clientY,\n                    });\n                }\n            }));\n            this.eventListenerSubscriptions.touchmove = (/**\n             * @return {?}\n             */\n            () => {\n                contextMenuListener.unsubscribe();\n                touchMoveListener.unsubscribe();\n            });\n        }\n        this.pointerDown$.next({\n            event,\n            clientX: event.touches[0].clientX,\n            clientY: event.touches[0].clientY,\n        });\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    onTouchEnd(event) {\n        if (this.eventListenerSubscriptions.touchmove) {\n            this.eventListenerSubscriptions.touchmove();\n            delete this.eventListenerSubscriptions.touchmove;\n            if ((this.scrollContainer && this.scrollContainer.activeLongPressDrag) ||\n                this.touchStartLongPress) {\n                this.enableScroll();\n            }\n        }\n        this.pointerUp$.next({\n            event,\n            clientX: event.changedTouches[0].clientX,\n            clientY: event.changedTouches[0].clientY,\n        });\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    onMouseEnter() {\n        this.setCursor(this.dragCursor);\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    onMouseLeave() {\n        this.setCursor('');\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    canDrag() {\n        return this.dragAxis.x || this.dragAxis.y;\n    }\n    /**\n     * @private\n     * @param {?} value\n     * @return {?}\n     */\n    setCursor(value) {\n        if (!this.eventListenerSubscriptions.mousemove) {\n            this.renderer.setStyle(this.element.nativeElement, 'cursor', value);\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    unsubscribeEventListeners() {\n        Object.keys(this.eventListenerSubscriptions).forEach((/**\n         * @param {?} type\n         * @return {?}\n         */\n        (type) => {\n            ((/** @type {?} */ (this))).eventListenerSubscriptions[type]();\n            delete ((/** @type {?} */ (this))).eventListenerSubscriptions[type];\n        }));\n    }\n    /**\n     * @private\n     * @param {?} element\n     * @param {?} styles\n     * @return {?}\n     */\n    setElementStyles(element, styles) {\n        Object.keys(styles).forEach((/**\n         * @param {?} key\n         * @return {?}\n         */\n        (key) => {\n            this.renderer.setStyle(element, key, styles[key]);\n        }));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getScrollElement() {\n        if (this.scrollContainer) {\n            return this.scrollContainer.elementRef.nativeElement;\n        }\n        else {\n            return this.document.body;\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getScrollPosition() {\n        if (this.scrollContainer) {\n            return {\n                top: this.scrollContainer.elementRef.nativeElement.scrollTop,\n                left: this.scrollContainer.elementRef.nativeElement.scrollLeft,\n            };\n        }\n        else {\n            return {\n                top: window.pageYOffset || this.document.documentElement.scrollTop,\n                left: window.pageXOffset || this.document.documentElement.scrollLeft,\n            };\n        }\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @param {?} touchMoveEvent\n     * @param {?} startScrollPosition\n     * @return {?}\n     */\n    shouldBeginDrag(event, touchMoveEvent, startScrollPosition) {\n        /** @type {?} */\n        const moveScrollPosition = this.getScrollPosition();\n        /** @type {?} */\n        const deltaScroll = {\n            top: Math.abs(moveScrollPosition.top - startScrollPosition.top),\n            left: Math.abs(moveScrollPosition.left - startScrollPosition.left),\n        };\n        /** @type {?} */\n        const deltaX = Math.abs(touchMoveEvent.targetTouches[0].clientX - event.touches[0].clientX) - deltaScroll.left;\n        /** @type {?} */\n        const deltaY = Math.abs(touchMoveEvent.targetTouches[0].clientY - event.touches[0].clientY) - deltaScroll.top;\n        /** @type {?} */\n        const deltaTotal = deltaX + deltaY;\n        /** @type {?} */\n        const longPressConfig = this.touchStartLongPress\n            ? this.touchStartLongPress\n            : /* istanbul ignore next */\n                {\n                    delta: this.scrollContainer.longPressConfig.delta,\n                    delay: this.scrollContainer.longPressConfig.duration,\n                };\n        if (deltaTotal > longPressConfig.delta ||\n            deltaScroll.top > 0 ||\n            deltaScroll.left > 0) {\n            this.timeLongPress.timerBegin = Date.now();\n        }\n        this.timeLongPress.timerEnd = Date.now();\n        /** @type {?} */\n        const duration = this.timeLongPress.timerEnd - this.timeLongPress.timerBegin;\n        if (duration >= longPressConfig.delay) {\n            this.disableScroll();\n            return true;\n        }\n        return false;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    enableScroll() {\n        if (this.scrollContainer) {\n            this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement, 'overflow', '');\n        }\n        this.renderer.setStyle(this.document.body, 'overflow', '');\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    disableScroll() {\n        /* istanbul ignore next */\n        if (this.scrollContainer) {\n            this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement, 'overflow', 'hidden');\n        }\n        this.renderer.setStyle(this.document.body, 'overflow', 'hidden');\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    hasScrollbar() {\n        /** @type {?} */\n        const scrollContainer = this.getScrollElement();\n        /** @type {?} */\n        const containerHasHorizontalScroll = scrollContainer.scrollWidth > scrollContainer.clientWidth;\n        /** @type {?} */\n        const containerHasVerticalScroll = scrollContainer.scrollHeight > scrollContainer.clientHeight;\n        return containerHasHorizontalScroll || containerHasVerticalScroll;\n    }\n}\nDraggableDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlDraggable]',\n            },] }\n];\n/** @nocollapse */\nDraggableDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Renderer2 },\n    { type: DraggableHelper },\n    { type: NgZone },\n    { type: ViewContainerRef },\n    { type: DraggableScrollContainerDirective, decorators: [{ type: Optional }] },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\n];\nDraggableDirective.propDecorators = {\n    dropData: [{ type: Input }],\n    dragAxis: [{ type: Input }],\n    dragSnapGrid: [{ type: Input }],\n    ghostDragEnabled: [{ type: Input }],\n    showOriginalElementWhileDragging: [{ type: Input }],\n    validateDrag: [{ type: Input }],\n    dragCursor: [{ type: Input }],\n    dragActiveClass: [{ type: Input }],\n    ghostElementAppendTo: [{ type: Input }],\n    ghostElementTemplate: [{ type: Input }],\n    touchStartLongPress: [{ type: Input }],\n    autoScroll: [{ type: Input }],\n    dragPointerDown: [{ type: Output }],\n    dragStart: [{ type: Output }],\n    ghostElementCreated: [{ type: Output }],\n    dragging: [{ type: Output }],\n    dragEnd: [{ type: Output }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} clientX\n * @param {?} clientY\n * @param {?} rect\n * @return {?}\n */\nfunction isCoordinateWithinRectangle(clientX, clientY, rect) {\n    return (clientX >= rect.left &&\n        clientX <= rect.right &&\n        clientY >= rect.top &&\n        clientY <= rect.bottom);\n}\nclass DroppableDirective {\n    /**\n     * @param {?} element\n     * @param {?} draggableHelper\n     * @param {?} zone\n     * @param {?} renderer\n     * @param {?} scrollContainer\n     */\n    constructor(element, draggableHelper, zone, renderer, scrollContainer) {\n        this.element = element;\n        this.draggableHelper = draggableHelper;\n        this.zone = zone;\n        this.renderer = renderer;\n        this.scrollContainer = scrollContainer;\n        /**\n         * Called when a draggable element starts overlapping the element\n         */\n        this.dragEnter = new EventEmitter();\n        /**\n         * Called when a draggable element stops overlapping the element\n         */\n        this.dragLeave = new EventEmitter();\n        /**\n         * Called when a draggable element is moved over the element\n         */\n        this.dragOver = new EventEmitter();\n        /**\n         * Called when a draggable element is dropped on this element\n         */\n        this.drop = new EventEmitter(); // tslint:disable-line no-output-named-after-standard-event\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.currentDragSubscription = this.draggableHelper.currentDrag.subscribe((/**\n         * @param {?} drag$\n         * @return {?}\n         */\n        (drag$) => {\n            addClass(this.renderer, this.element, this.dragActiveClass);\n            /** @type {?} */\n            const droppableElement = {\n                updateCache: true,\n            };\n            /** @type {?} */\n            const deregisterScrollListener = this.renderer.listen(this.scrollContainer\n                ? this.scrollContainer.elementRef.nativeElement\n                : 'window', 'scroll', (/**\n             * @return {?}\n             */\n            () => {\n                droppableElement.updateCache = true;\n            }));\n            /** @type {?} */\n            let currentDragDropData;\n            /** @type {?} */\n            const overlaps$ = drag$.pipe(map((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ({ clientX, clientY, dropData, target }) => {\n                currentDragDropData = dropData;\n                if (droppableElement.updateCache) {\n                    droppableElement.rect = this.element.nativeElement.getBoundingClientRect();\n                    if (this.scrollContainer) {\n                        droppableElement.scrollContainerRect = this.scrollContainer.elementRef.nativeElement.getBoundingClientRect();\n                    }\n                    droppableElement.updateCache = false;\n                }\n                /** @type {?} */\n                const isWithinElement = isCoordinateWithinRectangle(clientX, clientY, (/** @type {?} */ (droppableElement.rect)));\n                /** @type {?} */\n                const isDropAllowed = !this.validateDrop ||\n                    this.validateDrop({ clientX, clientY, target });\n                if (droppableElement.scrollContainerRect) {\n                    return (isWithinElement &&\n                        isDropAllowed &&\n                        isCoordinateWithinRectangle(clientX, clientY, (/** @type {?} */ (droppableElement.scrollContainerRect))));\n                }\n                else {\n                    return isWithinElement && isDropAllowed;\n                }\n            })));\n            /** @type {?} */\n            const overlapsChanged$ = overlaps$.pipe(distinctUntilChanged());\n            /** @type {?} */\n            let dragOverActive;\n            overlapsChanged$\n                .pipe(filter((/**\n             * @param {?} overlapsNow\n             * @return {?}\n             */\n            (overlapsNow) => overlapsNow)))\n                .subscribe((/**\n             * @return {?}\n             */\n            () => {\n                dragOverActive = true;\n                addClass(this.renderer, this.element, this.dragOverClass);\n                this.zone.run((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.dragEnter.next({\n                        dropData: currentDragDropData,\n                    });\n                }));\n            }));\n            overlaps$.pipe(filter((/**\n             * @param {?} overlapsNow\n             * @return {?}\n             */\n            (overlapsNow) => overlapsNow))).subscribe((/**\n             * @return {?}\n             */\n            () => {\n                this.zone.run((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.dragOver.next({\n                        dropData: currentDragDropData,\n                    });\n                }));\n            }));\n            overlapsChanged$\n                .pipe(pairwise(), filter((/**\n             * @param {?} __0\n             * @return {?}\n             */\n            ([didOverlap, overlapsNow]) => didOverlap && !overlapsNow)))\n                .subscribe((/**\n             * @return {?}\n             */\n            () => {\n                dragOverActive = false;\n                removeClass(this.renderer, this.element, this.dragOverClass);\n                this.zone.run((/**\n                 * @return {?}\n                 */\n                () => {\n                    this.dragLeave.next({\n                        dropData: currentDragDropData,\n                    });\n                }));\n            }));\n            drag$.subscribe({\n                complete: (/**\n                 * @return {?}\n                 */\n                () => {\n                    deregisterScrollListener();\n                    removeClass(this.renderer, this.element, this.dragActiveClass);\n                    if (dragOverActive) {\n                        removeClass(this.renderer, this.element, this.dragOverClass);\n                        this.zone.run((/**\n                         * @return {?}\n                         */\n                        () => {\n                            this.drop.next({\n                                dropData: currentDragDropData,\n                            });\n                        }));\n                    }\n                }),\n            });\n        }));\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        if (this.currentDragSubscription) {\n            this.currentDragSubscription.unsubscribe();\n        }\n    }\n}\nDroppableDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlDroppable]',\n            },] }\n];\n/** @nocollapse */\nDroppableDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: DraggableHelper },\n    { type: NgZone },\n    { type: Renderer2 },\n    { type: DraggableScrollContainerDirective, decorators: [{ type: Optional }] }\n];\nDroppableDirective.propDecorators = {\n    dragOverClass: [{ type: Input }],\n    dragActiveClass: [{ type: Input }],\n    validateDrop: [{ type: Input }],\n    dragEnter: [{ type: Output }],\n    dragLeave: [{ type: Output }],\n    dragOver: [{ type: Output }],\n    drop: [{ type: Output }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass DragAndDropModule {\n}\nDragAndDropModule.decorators = [\n    { type: NgModule, args: [{\n                declarations: [\n                    DraggableDirective,\n                    DroppableDirective,\n                    DraggableScrollContainerDirective,\n                ],\n                exports: [\n                    DraggableDirective,\n                    DroppableDirective,\n                    DraggableScrollContainerDirective,\n                ],\n            },] }\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { DragAndDropModule, DraggableHelper as ɵc, DraggableScrollContainerDirective as ɵd, DraggableDirective as ɵb, DroppableDirective as ɵa };\n\n//# sourceMappingURL=angular-draggable-droppable.js.map","export var english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: function (nth) {\n        var s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, calculateSecondsSinceMidnight, parseSeconds, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nvar DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    var self = {\n        config: __assign(__assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self.onMouseOver = onMouseOver;\n    self._createElement = createElement;\n    self.createDay = createDay;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.updateValue = updateValue;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth: function (month, yr) {\n                if (month === void 0) { month = self.currentMonth; }\n                if (yr === void 0) { yr = self.currentYear; }\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function getClosestActiveElement() {\n        var _a;\n        return (((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode())\n            .activeElement || document.activeElement);\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        var config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            var defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            var defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        var prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        var limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        var limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (self.config.maxTime !== undefined &&\n            self.config.minTime !== undefined &&\n            self.config.minTime > self.config.maxTime) {\n            var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());\n            var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());\n            var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);\n            if (currentTime > maxBound && currentTime < minBound) {\n                var result = parseSeconds(minBound);\n                hours = result[0];\n                minutes = result[1];\n                seconds = result[2];\n            }\n        }\n        else {\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                    minutes = minTime.getMinutes();\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        var date = dateObj || self.latestSelectedDateObj;\n        if (date && date instanceof Date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        var eventTarget = getEventTarget(event);\n        var year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n        if (element instanceof Array)\n            return element.forEach(function (el) { return bind(el, event, handler, options); });\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: function () { return element.removeEventListener(event, handler, options); },\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                    return bind(el, \"click\", self[evt]);\n                });\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        var debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", function (e) {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(self._input, \"keydown\", onKeyDown);\n        if (self.calendarContainer !== undefined) {\n            bind(self.calendarContainer, \"keydown\", onKeyDown);\n        }\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            var selText = function (e) {\n                return getEventTarget(e).select();\n            };\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", function (e) {\n                    updateTime(e);\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        var jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        var oldYear = self.currentYear;\n        var oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        var eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        var target = e && getEventTarget(e);\n        var input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        var event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        var fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        var customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, _dayNumber, i) {\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            i % 7 === 6) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (var m = startMonth; m != endMonth; m += delta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = delta > 0 ? 0 : month.children.length - 1;\n            var endIndex = delta > 0 ? month.children.length : -1;\n            for (var i = startIndex; i != endIndex; i += delta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        var givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        var loopDelta = delta > 0 ? 1 : -1;\n        for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            var numMonthDays = month.children.length;\n            for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        var activeElement = getClosestActiveElement();\n        var dayFocused = isInView(activeElement || document.body);\n        var startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        var dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        var frag = document.createDocumentFragment();\n        for (var i = 0; i < self.config.showMonths; i++) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        var shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (var i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        var container = createElement(\"div\", \"flatpickr-month\");\n        var monthNavFragment = window.document.createDocumentFragment();\n        var monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", function (e) {\n                var target = getEventTarget(e);\n                var selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container: container,\n            yearElement: yearElement,\n            monthElement: monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (var m = self.config.showMonths; m--;) {\n            var month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: function () { return self.__hidePrevMonthArrow; },\n            set: function (bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: function () { return self.__hideNextMonthArrow; },\n            set: function (bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        var defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        var hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        var minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            var secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (var i = self.config.showMonths; i--;) {\n            var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\n        var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\n        }\n        for (var i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper: weekWrapper,\n            weekNumbers: weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset) {\n        if (isOffset === void 0) { isOffset = true; }\n        var delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent, toInitial) {\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n        if (toInitial === void 0) { toInitial = true; }\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (var i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                var wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach(function (k) {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            var eventTarget_1 = getEventTarget(e);\n            var isCalendarElement = isCalendarElem(eventTarget_1);\n            var isInput = eventTarget_1 === self.input ||\n                eventTarget_1 === self.altInput ||\n                self.element.contains(eventTarget_1) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            var lostFocus = !isInput &&\n                !isCalendarElement &&\n                !isCalendarElem(e.relatedTarget);\n            var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                return elem.contains(eventTarget_1);\n            });\n            if (lostFocus && isIgnored) {\n                if (self.config.allowInput) {\n                    self.setDate(self._input.value, false, self.config.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                }\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1)\n                    self.clear(false);\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless) {\n        var _a;\n        if (timeless === void 0) { timeless = true; }\n        var dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (var i = 0, d = void 0; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                var parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        var isInput = e.target === self._input;\n        var valueChanged = self._input.value.trimEnd() !== getDateStr();\n        if (isInput &&\n            valueChanged &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        var eventTarget = getEventTarget(e);\n        var isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        var allowInput = self.config.allowInput;\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                self.close();\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            var isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        var activeElement = getClosestActiveElement();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (activeElement && isInView(activeElement)))) {\n                            var delta_1 = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta_1);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta_1);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    var delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        var elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter(function (x) { return x; });\n                        var i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            var target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem, cellClass) {\n        if (cellClass === void 0) { cellClass = \"flatpickr-day\"; }\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(cellClass) ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        var hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        var containsDisabled = false;\n        var minRange = 0, maxRange = 0;\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        var hoverableCells = Array.from(self.rContainer.querySelectorAll(\"*:nth-child(-n+\" + self.config.showMonths + \") > .\" + cellClass));\n        hoverableCells.forEach(function (dayElem) {\n            var date = dayElem.dateObj;\n            var timestamp = date.getTime();\n            var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                (maxRange > 0 && timestamp > maxRange);\n            if (outOfRange) {\n                dayElem.classList.add(\"notAllowed\");\n                [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                    dayElem.classList.remove(c);\n                });\n                return;\n            }\n            else if (containsDisabled && !outOfRange)\n                return;\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                dayElem.classList.remove(c);\n            });\n            if (elem !== undefined) {\n                elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                    ? \"startRange\"\n                    : \"endRange\");\n                if (initialDate < hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"startRange\");\n                else if (initialDate > hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"endRange\");\n                if (timestamp >= minRange &&\n                    (maxRange === 0 || timestamp <= maxRange) &&\n                    isBetween(timestamp, initialDate, hoverDate))\n                    dayElem.classList.add(\"inRange\");\n            }\n        });\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement) {\n        if (positionElement === void 0) { positionElement = self._positionElement; }\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                var eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        var wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(function () { return self.hourElement.select(); }, 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return function (date) {\n            var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n            var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        var boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        var formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: function () { return self.config._enable; },\n            set: function (dates) {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: function () { return self.config._disable; },\n            set: function (dates) {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        var timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: function () { return self.config._minDate; },\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: function () { return self.config._maxDate; },\n            set: minMaxDateSetter(\"max\"),\n        });\n        var minMaxTimeSetter = function (type) { return function (val) {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        }; };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: function () { return self.config._minTime; },\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: function () { return self.config._maxTime; },\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (var i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (var i = 0; i < self.config.plugins.length; i++) {\n            var pluginConf = self.config.plugins[i](self) || {};\n            for (var key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n        self.l10n = __assign(__assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.D = \"(\" + self.l10n.weekdays.shorthand.join(\"|\") + \")\";\n        tokenRegex.l = \"(\" + self.l10n.weekdays.longhand.join(\"|\") + \")\";\n        tokenRegex.M = \"(\" + self.l10n.months.shorthand.join(\"|\") + \")\";\n        tokenRegex.F = \"(\" + self.l10n.months.longhand.join(\"|\") + \")\";\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n        var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        var positionElement = customPositionElement || self._positionElement;\n        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        var top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        var left = window.pageXOffset + inputBounds.left;\n        var isCenter = false;\n        var isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        var right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = top + \"px\";\n        if (!rightMost) {\n            self.calendarContainer.style.left = left + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = right + \"px\";\n        }\n        else {\n            var doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            var bodyWidth = window.document.body.offsetWidth;\n            var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            var centerBefore = \".flatpickr-calendar.centerMost:before\";\n            var centerAfter = \".flatpickr-calendar.centerMost:after\";\n            var centerIndex = doc.cssRules.length;\n            var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n            self.calendarContainer.style.left = centerLeft + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        var editableSheet = null;\n        for (var i = 0; i < document.styleSheets.length; i++) {\n            var sheet = document.styleSheets[i];\n            if (!sheet.cssRules)\n                continue;\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        var style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var isSelectable = function (day) {\n            return day.classList &&\n                day.classList.contains(\"flatpickr-day\") &&\n                !day.classList.contains(\"flatpickr-disabled\") &&\n                !day.classList.contains(\"notAllowed\");\n        };\n        var t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        var target = t;\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            var selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            var single = self.config.mode === \"single\" && !self.config.enableTime;\n            var range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    var CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        positionElement: [updatePositionElement],\n        clickOpens: [\n            function () {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (var key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach(function (x) { return x(); });\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach(function (x) { return x(); });\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        var dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); }));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n    }\n    function setDate(date, triggerChange, format) {\n        if (triggerChange === void 0) { triggerChange = false; }\n        if (format === void 0) { format = self.config.dateFormat; }\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map(function (rule) {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter(function (x) { return x; });\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        var preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        updatePositionElement();\n    }\n    function updatePositionElement() {\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        var inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", function (e) {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        var hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        var e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (var i = 0; i < self.selectedDates.length; i++) {\n            var selectedDate = self.selectedDates[i];\n            if (selectedDate instanceof Date &&\n                compareDates(selectedDate, date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach(function (yearElement, i) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(specificFormat) {\n        var format = specificFormat ||\n            (self.config.altInput ? self.config.altFormat : self.config.dateFormat);\n        return self.selectedDates\n            .map(function (dObj) { return self.formatDate(dObj, format); })\n            .filter(function (d, i, arr) {\n            return self.config.mode !== \"range\" ||\n                self.config.enableTime ||\n                arr.indexOf(d) === i;\n        })\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange) {\n        if (triggerChange === void 0) { triggerChange = true; }\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        var eventTarget = getEventTarget(e);\n        var isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        var isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        var isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        var newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    var nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter(function (x) { return x instanceof HTMLElement; });\n    var instances = [];\n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: __assign({}, English),\n    default: __assign({}, English),\n};\nflatpickr.localize = function (l10n) {\n    flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = function (config) {\n    flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","// previous version:\n// https://github.com/angular-ui/bootstrap/blob/07c31d0731f7cb068a1932b8e01d2312b796b4ec/src/position/position.js\nvar Positioning = /** @class */ (function () {\n    function Positioning() {\n    }\n    Positioning.prototype.getAllStyles = function (element) { return window.getComputedStyle(element); };\n    Positioning.prototype.getStyle = function (element, prop) { return this.getAllStyles(element)[prop]; };\n    Positioning.prototype.isStaticPositioned = function (element) {\n        return (this.getStyle(element, 'position') || 'static') === 'static';\n    };\n    Positioning.prototype.offsetParent = function (element) {\n        var offsetParentEl = element.offsetParent || document.documentElement;\n        while (offsetParentEl && offsetParentEl !== document.documentElement && this.isStaticPositioned(offsetParentEl)) {\n            offsetParentEl = offsetParentEl.offsetParent;\n        }\n        return offsetParentEl || document.documentElement;\n    };\n    Positioning.prototype.position = function (element, round) {\n        if (round === void 0) { round = true; }\n        var elPosition;\n        var parentOffset = { width: 0, height: 0, top: 0, bottom: 0, left: 0, right: 0 };\n        if (this.getStyle(element, 'position') === 'fixed') {\n            elPosition = element.getBoundingClientRect();\n            elPosition = {\n                top: elPosition.top,\n                bottom: elPosition.bottom,\n                left: elPosition.left,\n                right: elPosition.right,\n                height: elPosition.height,\n                width: elPosition.width\n            };\n        }\n        else {\n            var offsetParentEl = this.offsetParent(element);\n            elPosition = this.offset(element, false);\n            if (offsetParentEl !== document.documentElement) {\n                parentOffset = this.offset(offsetParentEl, false);\n            }\n            parentOffset.top += offsetParentEl.clientTop;\n            parentOffset.left += offsetParentEl.clientLeft;\n        }\n        elPosition.top -= parentOffset.top;\n        elPosition.bottom -= parentOffset.top;\n        elPosition.left -= parentOffset.left;\n        elPosition.right -= parentOffset.left;\n        if (round) {\n            elPosition.top = Math.round(elPosition.top);\n            elPosition.bottom = Math.round(elPosition.bottom);\n            elPosition.left = Math.round(elPosition.left);\n            elPosition.right = Math.round(elPosition.right);\n        }\n        return elPosition;\n    };\n    Positioning.prototype.offset = function (element, round) {\n        if (round === void 0) { round = true; }\n        var elBcr = element.getBoundingClientRect();\n        var viewportOffset = {\n            top: window.pageYOffset - document.documentElement.clientTop,\n            left: window.pageXOffset - document.documentElement.clientLeft\n        };\n        var elOffset = {\n            height: elBcr.height || element.offsetHeight,\n            width: elBcr.width || element.offsetWidth,\n            top: elBcr.top + viewportOffset.top,\n            bottom: elBcr.bottom + viewportOffset.top,\n            left: elBcr.left + viewportOffset.left,\n            right: elBcr.right + viewportOffset.left\n        };\n        if (round) {\n            elOffset.height = Math.round(elOffset.height);\n            elOffset.width = Math.round(elOffset.width);\n            elOffset.top = Math.round(elOffset.top);\n            elOffset.bottom = Math.round(elOffset.bottom);\n            elOffset.left = Math.round(elOffset.left);\n            elOffset.right = Math.round(elOffset.right);\n        }\n        return elOffset;\n    };\n    /*\n      Return false if the element to position is outside the viewport\n    */\n    Positioning.prototype.positionElements = function (hostElement, targetElement, placement, appendToBody) {\n        var _a = placement.split('-'), _b = _a[0], placementPrimary = _b === void 0 ? 'top' : _b, _c = _a[1], placementSecondary = _c === void 0 ? 'center' : _c;\n        var hostElPosition = appendToBody ? this.offset(hostElement, false) : this.position(hostElement, false);\n        var targetElStyles = this.getAllStyles(targetElement);\n        var marginTop = parseFloat(targetElStyles.marginTop);\n        var marginBottom = parseFloat(targetElStyles.marginBottom);\n        var marginLeft = parseFloat(targetElStyles.marginLeft);\n        var marginRight = parseFloat(targetElStyles.marginRight);\n        var topPosition = 0;\n        var leftPosition = 0;\n        switch (placementPrimary) {\n            case 'top':\n                topPosition = (hostElPosition.top - (targetElement.offsetHeight + marginTop + marginBottom));\n                break;\n            case 'bottom':\n                topPosition = (hostElPosition.top + hostElPosition.height);\n                break;\n            case 'left':\n                leftPosition = (hostElPosition.left - (targetElement.offsetWidth + marginLeft + marginRight));\n                break;\n            case 'right':\n                leftPosition = (hostElPosition.left + hostElPosition.width);\n                break;\n        }\n        switch (placementSecondary) {\n            case 'top':\n                topPosition = hostElPosition.top;\n                break;\n            case 'bottom':\n                topPosition = hostElPosition.top + hostElPosition.height - targetElement.offsetHeight;\n                break;\n            case 'left':\n                leftPosition = hostElPosition.left;\n                break;\n            case 'right':\n                leftPosition = hostElPosition.left + hostElPosition.width - targetElement.offsetWidth;\n                break;\n            case 'center':\n                if (placementPrimary === 'top' || placementPrimary === 'bottom') {\n                    leftPosition = (hostElPosition.left + hostElPosition.width / 2 - targetElement.offsetWidth / 2);\n                }\n                else {\n                    topPosition = (hostElPosition.top + hostElPosition.height / 2 - targetElement.offsetHeight / 2);\n                }\n                break;\n        }\n        /// The translate3d/gpu acceleration render a blurry text on chrome, the next line is commented until a browser fix\n        // targetElement.style.transform = `translate3d(${Math.round(leftPosition)}px, ${Math.floor(topPosition)}px, 0px)`;\n        targetElement.style.transform = \"translate(\" + Math.round(leftPosition) + \"px, \" + Math.round(topPosition) + \"px)\";\n        // Check if the targetElement is inside the viewport\n        var targetElBCR = targetElement.getBoundingClientRect();\n        var html = document.documentElement;\n        var windowHeight = window.innerHeight || html.clientHeight;\n        var windowWidth = window.innerWidth || html.clientWidth;\n        return targetElBCR.left >= 0 && targetElBCR.top >= 0 && targetElBCR.right <= windowWidth &&\n            targetElBCR.bottom <= windowHeight;\n    };\n    return Positioning;\n}());\nexport { Positioning };\nvar placementSeparator = /\\s+/;\nvar positionService = new Positioning();\n/*\n * Accept the placement array and applies the appropriate placement dependent on the viewport.\n * Returns the applied placement.\n * In case of auto placement, placements are selected in order\n *   'top', 'bottom', 'left', 'right',\n *   'top-left', 'top-right',\n *   'bottom-left', 'bottom-right',\n *   'left-top', 'left-bottom',\n *   'right-top', 'right-bottom'.\n * */\nexport function positionElements(hostElement, targetElement, placement, appendToBody, baseClass) {\n    var placementVals = Array.isArray(placement) ? placement : placement.split(placementSeparator);\n    var allowedPlacements = [\n        'top', 'bottom', 'left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right', 'left-top', 'left-bottom',\n        'right-top', 'right-bottom'\n    ];\n    var classList = targetElement.classList;\n    var addClassesToTarget = function (targetPlacement) {\n        var _a = targetPlacement.split('-'), primary = _a[0], secondary = _a[1];\n        var classes = [];\n        if (baseClass) {\n            classes.push(baseClass + \"-\" + primary);\n            if (secondary) {\n                classes.push(baseClass + \"-\" + primary + \"-\" + secondary);\n            }\n            classes.forEach(function (classname) { classList.add(classname); });\n        }\n        return classes;\n    };\n    // Remove old placement classes to avoid issues\n    if (baseClass) {\n        allowedPlacements.forEach(function (placementToRemove) { classList.remove(baseClass + \"-\" + placementToRemove); });\n    }\n    // replace auto placement with other placements\n    var hasAuto = placementVals.findIndex(function (val) { return val === 'auto'; });\n    if (hasAuto >= 0) {\n        allowedPlacements.forEach(function (obj) {\n            if (placementVals.find(function (val) { return val.search('^' + obj) !== -1; }) == null) {\n                placementVals.splice(hasAuto++, 1, obj);\n            }\n        });\n    }\n    // coordinates where to position\n    // Required for transform:\n    var style = targetElement.style;\n    style.position = 'absolute';\n    style.top = '0';\n    style.left = '0';\n    style['will-change'] = 'transform';\n    var testPlacement;\n    var isInViewport = false;\n    for (var _i = 0, placementVals_1 = placementVals; _i < placementVals_1.length; _i++) {\n        testPlacement = placementVals_1[_i];\n        var addedClasses = addClassesToTarget(testPlacement);\n        if (positionService.positionElements(hostElement, targetElement, testPlacement, appendToBody)) {\n            isInViewport = true;\n            break;\n        }\n        // Remove the baseClasses for further calculation\n        if (baseClass) {\n            addedClasses.forEach(function (classname) { classList.remove(classname); });\n        }\n    }\n    if (!isInViewport) {\n        // If nothing match, the first placement is the default one\n        testPlacement = placementVals[0];\n        addClassesToTarget(testPlacement);\n        positionService.positionElements(hostElement, targetElement, testPlacement, appendToBody);\n    }\n    return testPlacement;\n}\n//# sourceMappingURL=positioning.js.map","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n(function (factory) {\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\n        var v = factory(null, exports);\n        if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === \"function\" && define.amd) {\n        define(\"@angular/common/locales/es-BO\", [\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    // THIS CODE IS GENERATED - DO NOT MODIFY\n    // See angular/tools/gulp-tasks/cldr/extract.js\n    var u = undefined;\n    function plural(n) {\n        if (n === 1)\n            return 1;\n        return 5;\n    }\n    exports.default = [\n        'es-BO',\n        [['a. m.', 'p. m.'], u, u],\n        u,\n        [\n            ['d', 'l', 'm', 'm', 'j', 'v', 's'], ['dom.', 'lun.', 'mar.', 'mié.', 'jue.', 'vie.', 'sáb.'],\n            ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],\n            ['DO', 'LU', 'MA', 'MI', 'JU', 'VI', 'SA']\n        ],\n        [\n            ['D', 'L', 'M', 'M', 'J', 'V', 'S'], ['dom.', 'lun.', 'mar.', 'mié.', 'jue.', 'vie.', 'sáb.'],\n            ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],\n            ['DO', 'LU', 'MA', 'MI', 'JU', 'VI', 'SA']\n        ],\n        [\n            ['E', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n            [\n                'ene.', 'feb.', 'mar.', 'abr.', 'may.', 'jun.', 'jul.', 'ago.', 'sep.', 'oct.', 'nov.', 'dic.'\n            ],\n            [\n                'enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre',\n                'octubre', 'noviembre', 'diciembre'\n            ]\n        ],\n        u,\n        [['a. C.', 'd. C.'], u, ['antes de Cristo', 'después de Cristo']],\n        1,\n        [6, 0],\n        ['d/M/yy', 'd MMM \\'de\\' y', 'd \\'de\\' MMMM \\'de\\' y', 'EEEE, d \\'de\\' MMMM \\'de\\' y'],\n        ['HH:mm', 'HH:mm:ss', 'HH:mm:ss z', 'HH:mm:ss zzzz'],\n        ['{1} {0}', u, '{1} \\'a\\' \\'las\\' {0}', u],\n        [',', '.', ';', '%', '+', '-', 'E', '×', '‰', '∞', 'NaN', ':'],\n        ['#,##0.###', '#,##0 %', '¤#,##0.00', '#E0'],\n        'BOB',\n        'Bs',\n        'boliviano',\n        {\n            'AUD': [u, '$'],\n            'BOB': ['Bs'],\n            'BRL': [u, 'R$'],\n            'CAD': [u, '$'],\n            'CNY': [u, '¥'],\n            'ESP': ['₧'],\n            'EUR': [u, '€'],\n            'FKP': [u, 'FK£'],\n            'GBP': [u, '£'],\n            'HKD': [u, '$'],\n            'ILS': [u, '₪'],\n            'INR': [u, '₹'],\n            'JPY': [u, '¥'],\n            'KRW': [u, '₩'],\n            'MXN': [u, '$'],\n            'NZD': [u, '$'],\n            'RON': [u, 'L'],\n            'SSP': [u, 'SD£'],\n            'SYP': [u, 'S£'],\n            'TWD': [u, 'NT$'],\n            'USD': [u, '$'],\n            'VEF': [u, 'BsF'],\n            'VND': [u, '₫'],\n            'XAF': [],\n            'XCD': [u, '$'],\n            'XOF': []\n        },\n        'ltr',\n        plural\n    ];\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXMtQk8uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9jb21tb24vbG9jYWxlcy9lcy1CTy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7Ozs7Ozs7Ozs7OztJQUVILHlDQUF5QztJQUN6QywrQ0FBK0M7SUFFL0MsSUFBTSxDQUFDLEdBQUcsU0FBUyxDQUFDO0lBRXBCLFNBQVMsTUFBTSxDQUFDLENBQVM7UUFDdkIsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3RCLE9BQU8sQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUVELGtCQUFlO1FBQ2IsT0FBTztRQUNQLENBQUMsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMxQixDQUFDO1FBQ0Q7WUFDRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDO1lBQzdGLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDO1lBQzFFLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDO1NBQzNDO1FBQ0Q7WUFDRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDO1lBQzdGLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDO1lBQzFFLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDO1NBQzNDO1FBQ0Q7WUFDRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO1lBQzVEO2dCQUNFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTTthQUMvRjtZQUNEO2dCQUNFLE9BQU8sRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsWUFBWTtnQkFDdEYsU0FBUyxFQUFFLFdBQVcsRUFBRSxXQUFXO2FBQ3BDO1NBQ0Y7UUFDRCxDQUFDO1FBQ0QsQ0FBQyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1FBQ2pFLENBQUM7UUFDRCxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDTixDQUFDLFFBQVEsRUFBRSxnQkFBZ0IsRUFBRSx3QkFBd0IsRUFBRSw4QkFBOEIsQ0FBQztRQUN0RixDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLGVBQWUsQ0FBQztRQUNwRCxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsdUJBQXVCLEVBQUUsQ0FBQyxDQUFDO1FBQzFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUM7UUFDOUQsQ0FBQyxXQUFXLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxLQUFLLENBQUM7UUFDNUMsS0FBSztRQUNMLElBQUk7UUFDSixXQUFXO1FBQ1g7WUFDRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO1lBQ2YsS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDO1lBQ2IsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQztZQUNoQixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO1lBQ2YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztZQUNmLEtBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQztZQUNaLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDO1lBQ2pCLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO1lBQ2YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztZQUNmLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO1lBQ2YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztZQUNmLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO1lBQ2YsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztZQUNmLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUM7WUFDakIsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQztZQUNoQixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDO1lBQ2pCLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDO1lBQ2pCLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsRUFBRTtZQUNULEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7WUFDZixLQUFLLEVBQUUsRUFBRTtTQUNWO1FBQ0QsS0FBSztRQUNMLE1BQU07S0FDUCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8vIFRISVMgQ09ERSBJUyBHRU5FUkFURUQgLSBETyBOT1QgTU9ESUZZXG4vLyBTZWUgYW5ndWxhci90b29scy9ndWxwLXRhc2tzL2NsZHIvZXh0cmFjdC5qc1xuXG5jb25zdCB1ID0gdW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBwbHVyYWwobjogbnVtYmVyKTogbnVtYmVyIHtcbiAgaWYgKG4gPT09IDEpIHJldHVybiAxO1xuICByZXR1cm4gNTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgW1xuICAnZXMtQk8nLFxuICBbWydhLsKgbS4nLCAncC7CoG0uJ10sIHUsIHVdLFxuICB1LFxuICBbXG4gICAgWydkJywgJ2wnLCAnbScsICdtJywgJ2onLCAndicsICdzJ10sIFsnZG9tLicsICdsdW4uJywgJ21hci4nLCAnbWnDqS4nLCAnanVlLicsICd2aWUuJywgJ3PDoWIuJ10sXG4gICAgWydkb21pbmdvJywgJ2x1bmVzJywgJ21hcnRlcycsICdtacOpcmNvbGVzJywgJ2p1ZXZlcycsICd2aWVybmVzJywgJ3PDoWJhZG8nXSxcbiAgICBbJ0RPJywgJ0xVJywgJ01BJywgJ01JJywgJ0pVJywgJ1ZJJywgJ1NBJ11cbiAgXSxcbiAgW1xuICAgIFsnRCcsICdMJywgJ00nLCAnTScsICdKJywgJ1YnLCAnUyddLCBbJ2RvbS4nLCAnbHVuLicsICdtYXIuJywgJ21pw6kuJywgJ2p1ZS4nLCAndmllLicsICdzw6FiLiddLFxuICAgIFsnZG9taW5nbycsICdsdW5lcycsICdtYXJ0ZXMnLCAnbWnDqXJjb2xlcycsICdqdWV2ZXMnLCAndmllcm5lcycsICdzw6FiYWRvJ10sXG4gICAgWydETycsICdMVScsICdNQScsICdNSScsICdKVScsICdWSScsICdTQSddXG4gIF0sXG4gIFtcbiAgICBbJ0UnLCAnRicsICdNJywgJ0EnLCAnTScsICdKJywgJ0onLCAnQScsICdTJywgJ08nLCAnTicsICdEJ10sXG4gICAgW1xuICAgICAgJ2VuZS4nLCAnZmViLicsICdtYXIuJywgJ2Fici4nLCAnbWF5LicsICdqdW4uJywgJ2p1bC4nLCAnYWdvLicsICdzZXAuJywgJ29jdC4nLCAnbm92LicsICdkaWMuJ1xuICAgIF0sXG4gICAgW1xuICAgICAgJ2VuZXJvJywgJ2ZlYnJlcm8nLCAnbWFyem8nLCAnYWJyaWwnLCAnbWF5bycsICdqdW5pbycsICdqdWxpbycsICdhZ29zdG8nLCAnc2VwdGllbWJyZScsXG4gICAgICAnb2N0dWJyZScsICdub3ZpZW1icmUnLCAnZGljaWVtYnJlJ1xuICAgIF1cbiAgXSxcbiAgdSxcbiAgW1snYS4gQy4nLCAnZC4gQy4nXSwgdSwgWydhbnRlcyBkZSBDcmlzdG8nLCAnZGVzcHXDqXMgZGUgQ3Jpc3RvJ11dLFxuICAxLFxuICBbNiwgMF0sXG4gIFsnZC9NL3l5JywgJ2QgTU1NIFxcJ2RlXFwnIHknLCAnZCBcXCdkZVxcJyBNTU1NIFxcJ2RlXFwnIHknLCAnRUVFRSwgZCBcXCdkZVxcJyBNTU1NIFxcJ2RlXFwnIHknXSxcbiAgWydISDptbScsICdISDptbTpzcycsICdISDptbTpzcyB6JywgJ0hIOm1tOnNzIHp6enonXSxcbiAgWyd7MX0gezB9JywgdSwgJ3sxfSBcXCdhXFwnIFxcJ2xhc1xcJyB7MH0nLCB1XSxcbiAgWycsJywgJy4nLCAnOycsICclJywgJysnLCAnLScsICdFJywgJ8OXJywgJ+KAsCcsICfiiJ4nLCAnTmFOJywgJzonXSxcbiAgWycjLCMjMC4jIyMnLCAnIywjIzDCoCUnLCAnwqQjLCMjMC4wMCcsICcjRTAnXSxcbiAgJ0JPQicsXG4gICdCcycsXG4gICdib2xpdmlhbm8nLFxuICB7XG4gICAgJ0FVRCc6IFt1LCAnJCddLFxuICAgICdCT0InOiBbJ0JzJ10sXG4gICAgJ0JSTCc6IFt1LCAnUiQnXSxcbiAgICAnQ0FEJzogW3UsICckJ10sXG4gICAgJ0NOWSc6IFt1LCAnwqUnXSxcbiAgICAnRVNQJzogWyfigqcnXSxcbiAgICAnRVVSJzogW3UsICfigqwnXSxcbiAgICAnRktQJzogW3UsICdGS8KjJ10sXG4gICAgJ0dCUCc6IFt1LCAnwqMnXSxcbiAgICAnSEtEJzogW3UsICckJ10sXG4gICAgJ0lMUyc6IFt1LCAn4oKqJ10sXG4gICAgJ0lOUic6IFt1LCAn4oK5J10sXG4gICAgJ0pQWSc6IFt1LCAnwqUnXSxcbiAgICAnS1JXJzogW3UsICfigqknXSxcbiAgICAnTVhOJzogW3UsICckJ10sXG4gICAgJ05aRCc6IFt1LCAnJCddLFxuICAgICdST04nOiBbdSwgJ0wnXSxcbiAgICAnU1NQJzogW3UsICdTRMKjJ10sXG4gICAgJ1NZUCc6IFt1LCAnU8KjJ10sXG4gICAgJ1RXRCc6IFt1LCAnTlQkJ10sXG4gICAgJ1VTRCc6IFt1LCAnJCddLFxuICAgICdWRUYnOiBbdSwgJ0JzRiddLFxuICAgICdWTkQnOiBbdSwgJ+KCqyddLFxuICAgICdYQUYnOiBbXSxcbiAgICAnWENEJzogW3UsICckJ10sXG4gICAgJ1hPRic6IFtdXG4gIH0sXG4gICdsdHInLFxuICBwbHVyYWxcbl07XG4iXX0=","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    var e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (var key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","function getDef(f, d) {\n    if (typeof f === 'undefined') {\n        return typeof d === 'undefined' ? f : d;\n    }\n\n    return f;\n}\nfunction boolean(func, def) {\n\n    func = getDef(func, def);\n\n    if (typeof func === 'function') {\n        return function f() {\n            var arguments$1 = arguments;\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments$1[_key];\n            }\n\n            return !!func.apply(this, args);\n        };\n    }\n\n    return !!func ? function () {\n        return true;\n    } : function () {\n        return false;\n    };\n}\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\n/**\n * Returns `true` if provided input is Element.\n * @name isElement\n * @param {*} [input]\n * @returns {boolean}\n */\nvar isElement$1 = function (input) {\n  return input != null && (typeof input === 'undefined' ? 'undefined' : _typeof(input)) === 'object' && input.nodeType === 1 && _typeof(input.style) === 'object' && _typeof(input.ownerDocument) === 'object';\n};\n\nfunction indexOfElement(elements, element){\n    element = resolveElement(element, true);\n    if(!isElement$1(element)) { return -1; }\n    for(var i=0; i<elements.length; i++){\n        if(elements[i] === element){\n            return i;\n        }\n    }\n    return -1;\n}\n\nfunction hasElement(elements, element){\n    return -1 !== indexOfElement(elements, element);\n}\n\nfunction pushElements(elements, toAdd){\n\n    for(var i=0; i<toAdd.length; i++){\n        if(!hasElement(elements, toAdd[i]))\n            { elements.push(toAdd[i]); }\n    }\n\n    return toAdd;\n}\n\nfunction addElements(elements){\n    var arguments$1 = arguments;\n\n    var toAdd = [], len = arguments.length - 1;\n    while ( len-- > 0 ) { toAdd[ len ] = arguments$1[ len + 1 ]; }\n\n    toAdd = toAdd.map(resolveElement);\n    return pushElements(elements, toAdd);\n}\n\nfunction removeElements(elements){\n    var arguments$1 = arguments;\n\n    var toRemove = [], len = arguments.length - 1;\n    while ( len-- > 0 ) { toRemove[ len ] = arguments$1[ len + 1 ]; }\n\n    return toRemove.map(resolveElement).reduce(function (last, e){\n\n        var index = indexOfElement(elements, e);\n\n        if(index !== -1)\n            { return last.concat(elements.splice(index, 1)); }\n        return last;\n    }, []);\n}\n\nfunction resolveElement(element, noThrow){\n    if(typeof element === 'string'){\n        try{\n            return document.querySelector(element);\n        }catch(e){\n            throw e;\n        }\n\n    }\n\n    if(!isElement$1(element) && !noThrow){\n        throw new TypeError((element + \" is not a DOM element.\"));\n    }\n    return element;\n}\n\nfunction createPointCB(object, options) {\n\n    // A persistent object (as opposed to returned object) is used to save memory\n    // This is good to prevent layout thrashing, or for games, and such\n\n    // NOTE\n    // This uses IE fixes which should be OK to remove some day. :)\n    // Some speed will be gained by removal of these.\n\n    // pointCB should be saved in a variable on return\n    // This allows the usage of element.removeEventListener\n\n    options = options || {};\n\n    var allowUpdate = boolean(options.allowUpdate, true);\n\n    /*if(typeof options.allowUpdate === 'function'){\n        allowUpdate = options.allowUpdate;\n    }else{\n        allowUpdate = function(){return true;};\n    }*/\n\n    return function pointCB(event) {\n\n        event = event || window.event; // IE-ism\n        object.target = event.target || event.srcElement || event.originalTarget;\n        object.element = this;\n        object.type = event.type;\n\n        if (!allowUpdate(event)) {\n            return;\n        }\n\n        // Support touch\n        // http://www.creativebloq.com/javascript/make-your-site-work-touch-devices-51411644\n\n        if (event.targetTouches) {\n            object.x = event.targetTouches[0].clientX;\n            object.y = event.targetTouches[0].clientY;\n            object.pageX = event.targetTouches[0].pageX;\n            object.pageY = event.targetTouches[0].pageY;\n            object.screenX = event.targetTouches[0].screenX;\n            object.screenY = event.targetTouches[0].screenY;\n        } else {\n\n            // If pageX/Y aren't available and clientX/Y are,\n            // calculate pageX/Y - logic taken from jQuery.\n            // (This is to support old IE)\n            // NOTE Hopefully this can be removed soon.\n\n            if (event.pageX === null && event.clientX !== null) {\n                var eventDoc = event.target && event.target.ownerDocument || document;\n                var doc = eventDoc.documentElement;\n                var body = eventDoc.body;\n\n                object.pageX = event.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n                object.pageY = event.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n            } else {\n                object.pageX = event.pageX;\n                object.pageY = event.pageY;\n            }\n\n            // pageX, and pageY change with page scroll\n            // so we're not going to use those for x, and y.\n            // NOTE Most browsers also alias clientX/Y with x/y\n            // so that's something to consider down the road.\n\n            object.x = event.clientX;\n            object.y = event.clientY;\n\n            object.screenX = event.screenX;\n            object.screenY = event.screenY;\n        }\n\n        object.clientX = object.x;\n        object.clientY = object.y;\n    };\n\n    //NOTE Remember accessibility, Aria roles, and labels.\n}\n\nfunction createWindowRect() {\n    var props = {\n        top: { value: 0, enumerable: true },\n        left: { value: 0, enumerable: true },\n        right: { value: window.innerWidth, enumerable: true },\n        bottom: { value: window.innerHeight, enumerable: true },\n        width: { value: window.innerWidth, enumerable: true },\n        height: { value: window.innerHeight, enumerable: true },\n        x: { value: 0, enumerable: true },\n        y: { value: 0, enumerable: true }\n    };\n\n    if (Object.create) {\n        return Object.create({}, props);\n    } else {\n        var rect = {};\n        Object.defineProperties(rect, props);\n        return rect;\n    }\n}\n\nfunction getClientRect(el) {\n    if (el === window) {\n        return createWindowRect();\n    } else {\n        try {\n            var rect = el.getBoundingClientRect();\n            if (rect.x === undefined) {\n                rect.x = rect.left;\n                rect.y = rect.top;\n            }\n            return rect;\n        } catch (e) {\n            throw new TypeError(\"Can't call getBoundingClientRect on \" + el);\n        }\n    }\n}\n\nfunction pointInside(point, el) {\n    var rect = getClientRect(el);\n    return point.y > rect.top && point.y < rect.bottom && point.x > rect.left && point.x < rect.right;\n}\n\nvar objectCreate = void 0;\nif (typeof Object.create != 'function') {\n  objectCreate = function (undefined$1) {\n    var Temp = function Temp() {};\n    return function (prototype, propertiesObject) {\n      if (prototype !== Object(prototype) && prototype !== null) {\n        throw TypeError('Argument must be an object, or null');\n      }\n      Temp.prototype = prototype || {};\n      var result = new Temp();\n      Temp.prototype = null;\n      if (propertiesObject !== undefined$1) {\n        Object.defineProperties(result, propertiesObject);\n      }\n\n      // to imitate the case of Object.create(null)\n      if (prototype === null) {\n        result.__proto__ = null;\n      }\n      return result;\n    };\n  }();\n} else {\n  objectCreate = Object.create;\n}\n\nvar objectCreate$1 = objectCreate;\n\nvar mouseEventProps = ['altKey', 'button', 'buttons', 'clientX', 'clientY', 'ctrlKey', 'metaKey', 'movementX', 'movementY', 'offsetX', 'offsetY', 'pageX', 'pageY', 'region', 'relatedTarget', 'screenX', 'screenY', 'shiftKey', 'which', 'x', 'y'];\n\nfunction createDispatcher(element) {\n\n    var defaultSettings = {\n        screenX: 0,\n        screenY: 0,\n        clientX: 0,\n        clientY: 0,\n        ctrlKey: false,\n        shiftKey: false,\n        altKey: false,\n        metaKey: false,\n        button: 0,\n        buttons: 1,\n        relatedTarget: null,\n        region: null\n    };\n\n    if (element !== undefined) {\n        element.addEventListener('mousemove', onMove);\n    }\n\n    function onMove(e) {\n        for (var i = 0; i < mouseEventProps.length; i++) {\n            defaultSettings[mouseEventProps[i]] = e[mouseEventProps[i]];\n        }\n    }\n\n    var dispatch = function () {\n        if (MouseEvent) {\n            return function m1(element, initMove, data) {\n                var evt = new MouseEvent('mousemove', createMoveInit(defaultSettings, initMove));\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        } else if (typeof document.createEvent === 'function') {\n            return function m2(element, initMove, data) {\n                var settings = createMoveInit(defaultSettings, initMove);\n                var evt = document.createEvent('MouseEvents');\n\n                evt.initMouseEvent(\"mousemove\", true, //can bubble\n                true, //cancelable\n                window, //view\n                0, //detail\n                settings.screenX, //0, //screenX\n                settings.screenY, //0, //screenY\n                settings.clientX, //80, //clientX\n                settings.clientY, //20, //clientY\n                settings.ctrlKey, //false, //ctrlKey\n                settings.altKey, //false, //altKey\n                settings.shiftKey, //false, //shiftKey\n                settings.metaKey, //false, //metaKey\n                settings.button, //0, //button\n                settings.relatedTarget //null //relatedTarget\n                );\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        } else if (typeof document.createEventObject === 'function') {\n            return function m3(element, initMove, data) {\n                var evt = document.createEventObject();\n                var settings = createMoveInit(defaultSettings, initMove);\n                for (var name in settings) {\n                    evt[name] = settings[name];\n                }\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        }\n    }();\n\n    function destroy() {\n        if (element) { element.removeEventListener('mousemove', onMove, false); }\n        defaultSettings = null;\n    }\n\n    return {\n        destroy: destroy,\n        dispatch: dispatch\n    };\n}\n\nfunction createMoveInit(defaultSettings, initMove) {\n    initMove = initMove || {};\n    var settings = objectCreate$1(defaultSettings);\n    for (var i = 0; i < mouseEventProps.length; i++) {\n        if (initMove[mouseEventProps[i]] !== undefined) { settings[mouseEventProps[i]] = initMove[mouseEventProps[i]]; }\n    }\n\n    return settings;\n}\n\nfunction setSpecial(e, data) {\n    console.log('data ', data);\n    e.data = data || {};\n    e.dispatched = 'mousemove';\n}\n\nvar prefix = [ 'webkit', 'moz', 'ms', 'o' ];\n\nvar requestFrame = (function () {\n\n    if (typeof window === \"undefined\") {\n        return function () {};\n    }\n\n    for ( var i = 0, limit = prefix.length ; i < limit && ! window.requestAnimationFrame ; ++i ) {\n        window.requestAnimationFrame = window[ prefix[ i ] + 'RequestAnimationFrame' ];\n    }\n\n    if ( ! window.requestAnimationFrame ) {\n        var lastTime = 0;\n\n        window.requestAnimationFrame = function (callback) {\n            var now   = new Date().getTime();\n            var ttc   = Math.max( 0, 16 - now - lastTime );\n            var timer = window.setTimeout( function () { return callback( now + ttc ); }, ttc );\n\n            lastTime = now + ttc;\n\n            return timer;\n        };\n    }\n\n    return window.requestAnimationFrame.bind( window );\n})();\n\nvar cancelFrame = (function () {\n\n    if (typeof window === \"undefined\") {\n        return function () {};\n    }\n\n    for ( var i = 0, limit = prefix.length ; i < limit && ! window.cancelAnimationFrame ; ++i ) {\n        window.cancelAnimationFrame = window[ prefix[ i ] + 'CancelAnimationFrame' ] || window[ prefix[ i ] + 'CancelRequestAnimationFrame' ];\n    }\n\n    if ( ! window.cancelAnimationFrame ) {\n        window.cancelAnimationFrame = function (timer) {\n            window.clearTimeout( timer );\n        };\n    }\n\n    return window.cancelAnimationFrame.bind( window );\n})();\n\nfunction AutoScroller(elements, options){\n    if ( options === void 0 ) options = {};\n\n    var self = this;\n    var maxSpeed = 4, scrolling = false;\n\n    if (typeof options.margin !== 'object') {\n        var margin = options.margin || -1;\n\n        this.margin = {\n            left: margin,\n            right: margin,\n            top: margin,\n            bottom: margin\n        };\n    } else {\n        this.margin = options.margin;\n    }\n\n    //this.scrolling = false;\n    this.scrollWhenOutside = options.scrollWhenOutside || false;\n\n    var point = {},\n        pointCB = createPointCB(point),\n        dispatcher = createDispatcher(),\n        down = false;\n\n    window.addEventListener('mousemove', pointCB, false);\n    window.addEventListener('touchmove', pointCB, false);\n\n    if(!isNaN(options.maxSpeed)){\n        maxSpeed = options.maxSpeed;\n    }\n\n    if (typeof maxSpeed !== 'object') {\n        maxSpeed = {\n            left: maxSpeed,\n            right: maxSpeed,\n            top: maxSpeed,\n            bottom: maxSpeed\n        };\n    }\n\n    this.autoScroll = boolean(options.autoScroll);\n    this.syncMove = boolean(options.syncMove, false);\n\n    this.destroy = function(forceCleanAnimation) {\n        window.removeEventListener('mousemove', pointCB, false);\n        window.removeEventListener('touchmove', pointCB, false);\n        window.removeEventListener('mousedown', onDown, false);\n        window.removeEventListener('touchstart', onDown, false);\n        window.removeEventListener('mouseup', onUp, false);\n        window.removeEventListener('touchend', onUp, false);\n        window.removeEventListener('pointerup', onUp, false);\n        window.removeEventListener('mouseleave', onMouseOut, false);\n\n        window.removeEventListener('mousemove', onMove, false);\n        window.removeEventListener('touchmove', onMove, false);\n\n        window.removeEventListener('scroll', setScroll, true);\n        elements = [];\n        if(forceCleanAnimation){\n          cleanAnimation();\n        }\n    };\n\n    this.add = function(){\n        var element = [], len = arguments.length;\n        while ( len-- ) element[ len ] = arguments[ len ];\n\n        addElements.apply(void 0, [ elements ].concat( element ));\n        return this;\n    };\n\n    this.remove = function(){\n        var element = [], len = arguments.length;\n        while ( len-- ) element[ len ] = arguments[ len ];\n\n        return removeElements.apply(void 0, [ elements ].concat( element ));\n    };\n\n    var hasWindow = null, windowAnimationFrame;\n\n    if(Object.prototype.toString.call(elements) !== '[object Array]'){\n        elements = [elements];\n    }\n\n    (function(temp){\n        elements = [];\n        temp.forEach(function(element){\n            if(element === window){\n                hasWindow = window;\n            }else {\n                self.add(element);\n            }\n        });\n    }(elements));\n\n    Object.defineProperties(this, {\n        down: {\n            get: function(){ return down; }\n        },\n        maxSpeed: {\n            get: function(){ return maxSpeed; }\n        },\n        point: {\n            get: function(){ return point; }\n        },\n        scrolling: {\n            get: function(){ return scrolling; }\n        }\n    });\n\n    var current = null, animationFrame;\n\n    window.addEventListener('mousedown', onDown, false);\n    window.addEventListener('touchstart', onDown, false);\n    window.addEventListener('mouseup', onUp, false);\n    window.addEventListener('touchend', onUp, false);\n\n    /*\n    IE does not trigger mouseup event when scrolling.\n    It is a known issue that Microsoft won't fix.\n    https://connect.microsoft.com/IE/feedback/details/783058/scrollbar-trigger-mousedown-but-not-mouseup\n    IE supports pointer events instead\n    */\n    window.addEventListener('pointerup', onUp, false);\n\n    window.addEventListener('mousemove', onMove, false);\n    window.addEventListener('touchmove', onMove, false);\n\n    window.addEventListener('mouseleave', onMouseOut, false);\n\n    window.addEventListener('scroll', setScroll, true);\n\n    function setScroll(e){\n\n        for(var i=0; i<elements.length; i++){\n            if(elements[i] === e.target){\n                scrolling = true;\n                break;\n            }\n        }\n\n        if(scrolling){\n            requestFrame(function (){ return scrolling = false; });\n        }\n    }\n\n    function onDown(){\n        down = true;\n    }\n\n    function onUp(){\n        down = false;\n        cleanAnimation();\n    }\n    function cleanAnimation(){\n      cancelFrame(animationFrame);\n      cancelFrame(windowAnimationFrame);\n    }\n    function onMouseOut(){\n        down = false;\n    }\n\n    function getTarget(target){\n        if(!target){\n            return null;\n        }\n\n        if(current === target){\n            return target;\n        }\n\n        if(hasElement(elements, target)){\n            return target;\n        }\n\n        while(target = target.parentNode){\n            if(hasElement(elements, target)){\n                return target;\n            }\n        }\n\n        return null;\n    }\n\n    function getElementUnderPoint(){\n        var underPoint = null;\n\n        for(var i=0; i<elements.length; i++){\n            if(inside(point, elements[i])){\n                underPoint = elements[i];\n            }\n        }\n\n        return underPoint;\n    }\n\n\n    function onMove(event){\n\n        if(!self.autoScroll()) { return; }\n\n        if(event['dispatched']){ return; }\n\n        var target = event.target, body = document.body;\n\n        if(current && !inside(point, current)){\n            if(!self.scrollWhenOutside){\n                current = null;\n            }\n        }\n\n        if(target && target.parentNode === body){\n            //The special condition to improve speed.\n            target = getElementUnderPoint();\n        }else {\n            target = getTarget(target);\n\n            if(!target){\n                target = getElementUnderPoint();\n            }\n        }\n\n\n        if(target && target !== current){\n            current = target;\n        }\n\n        if(hasWindow){\n            cancelFrame(windowAnimationFrame);\n            windowAnimationFrame = requestFrame(scrollWindow);\n        }\n\n\n        if(!current){\n            return;\n        }\n\n        cancelFrame(animationFrame);\n        animationFrame = requestFrame(scrollTick);\n    }\n\n    function scrollWindow(){\n        autoScroll(hasWindow);\n\n        cancelFrame(windowAnimationFrame);\n        windowAnimationFrame = requestFrame(scrollWindow);\n    }\n\n    function scrollTick(){\n\n        if(!current){\n            return;\n        }\n\n        autoScroll(current);\n\n        cancelFrame(animationFrame);\n        animationFrame = requestFrame(scrollTick);\n\n    }\n\n\n    function autoScroll(el){\n        var rect = getClientRect(el), scrollx, scrolly;\n\n        if(point.x < rect.left + self.margin.left){\n            scrollx = Math.floor(\n                Math.max(-1, (point.x - rect.left) / self.margin.left - 1) * self.maxSpeed.left\n            );\n        }else if(point.x > rect.right - self.margin.right){\n            scrollx = Math.ceil(\n                Math.min(1, (point.x - rect.right) / self.margin.right + 1) * self.maxSpeed.right\n            );\n        }else {\n            scrollx = 0;\n        }\n\n        if(point.y < rect.top + self.margin.top){\n            scrolly = Math.floor(\n                Math.max(-1, (point.y - rect.top) / self.margin.top - 1) * self.maxSpeed.top\n            );\n        }else if(point.y > rect.bottom - self.margin.bottom){\n            scrolly = Math.ceil(\n                Math.min(1, (point.y - rect.bottom) / self.margin.bottom + 1) * self.maxSpeed.bottom\n            );\n        }else {\n            scrolly = 0;\n        }\n\n        if(self.syncMove()){\n            /*\n            Notes about mousemove event dispatch.\n            screen(X/Y) should need to be updated.\n            Some other properties might need to be set.\n            Keep the syncMove option default false until all inconsistencies are taken care of.\n            */\n            dispatcher.dispatch(el, {\n                pageX: point.pageX + scrollx,\n                pageY: point.pageY + scrolly,\n                clientX: point.x + scrollx,\n                clientY: point.y + scrolly\n            });\n        }\n\n        setTimeout(function (){\n\n            if(scrolly){\n                scrollY(el, scrolly);\n            }\n\n            if(scrollx){\n                scrollX(el, scrollx);\n            }\n\n        });\n    }\n\n    function scrollY(el, amount){\n        if(el === window){\n            window.scrollTo(el.pageXOffset, el.pageYOffset + amount);\n        }else {\n            el.scrollTop += amount;\n        }\n    }\n\n    function scrollX(el, amount){\n        if(el === window){\n            window.scrollTo(el.pageXOffset + amount, el.pageYOffset);\n        }else {\n            el.scrollLeft += amount;\n        }\n    }\n\n}\n\nfunction AutoScrollerFactory(element, options){\n    return new AutoScroller(element, options);\n}\n\nfunction inside(point, el, rect){\n    if(!rect){\n        return pointInside(point, el);\n    }else {\n        return (point.y > rect.top && point.y < rect.bottom &&\n                point.x > rect.left && point.x < rect.right);\n    }\n}\n\n/*\ngit remote add origin https://github.com/hollowdoor/dom_autoscroller.git\ngit push -u origin master\n*/\n\nexport default AutoScrollerFactory;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var _loop_1 = function (source) {\n            if (source) {\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n            }\n        };\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n            var source = args_1[_a];\n            _loop_1(source);\n        }\n        return target;\n    };\n}\n","import { int, pad } from \"../utils\";\nvar doNothing = function () { return undefined; };\nexport var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\nexport var revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    H: function (dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: function (dateObj, amPM, locale) {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n    W: function (dateObj, weekNum, locale) {\n        var weekNumber = parseInt(weekNum);\n        var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: function (dateObj, year) {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: function (_, ISODate) { return new Date(ISODate); },\n    d: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    i: function (dateObj, minutes) {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: function (_, unixMillSeconds) {\n        return new Date(parseFloat(unixMillSeconds));\n    },\n    w: doNothing,\n    y: function (dateObj, year) {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport var tokenRegex = {\n    D: \"\",\n    F: \"\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport var formats = {\n    Z: function (date) { return date.toISOString(); },\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: function (date) { return pad(date.getHours()); },\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: function (date) { return pad(date.getSeconds()); },\n    U: function (date) { return date.getTime() / 1000; },\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: function (date) { return pad(date.getFullYear(), 4); },\n    d: function (date) { return pad(date.getDate()); },\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n    i: function (date) { return pad(date.getMinutes()); },\n    j: function (date) { return date.getDate(); },\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: function (date) { return pad(date.getMonth() + 1); },\n    n: function (date) { return date.getMonth() + 1; },\n    s: function (date) { return date.getSeconds(); },\n    u: function (date) { return date.getTime(); },\n    w: function (date) { return date.getDay(); },\n    y: function (date) { return String(date.getFullYear()).substring(2); },\n};\n","import { __decorate, __metadata, __param, __rest } from 'tslib';\nimport { Input, TemplateRef, Component, ElementRef, Injector, Renderer2, ComponentFactoryResolver, ViewContainerRef, Inject, HostListener, Directive, EventEmitter, Output, Injectable, LOCALE_ID, Pipe, NgZone, InjectionToken, NgModule, ChangeDetectorRef } from '@angular/core';\nimport { DOCUMENT, formatDate, I18nPluralPipe, CommonModule } from '@angular/common';\nimport { positionElements } from 'positioning';\nimport { Subject, of, timer, Observable, BehaviorSubject, interval } from 'rxjs';\nimport { takeUntil, switchMap, startWith, switchMapTo, map } from 'rxjs/operators';\nimport { validateEvents as validateEvents$1, getMonthView, getWeekViewHeader, getWeekView } from 'calendar-utils';\nexport { DAYS_OF_WEEK } from 'calendar-utils';\nimport { DragAndDropModule } from 'angular-draggable-droppable';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { ResizableModule } from 'angular-resizable-element';\n\nlet CalendarEventActionsComponent = class CalendarEventActionsComponent {\n    constructor() {\n        this.trackByActionId = (index, action) => action.id ? action.id : action;\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarEventActionsComponent.prototype, \"event\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarEventActionsComponent.prototype, \"customTemplate\", void 0);\nCalendarEventActionsComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-event-actions',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-event=\"event\"\n      let-trackByActionId=\"trackByActionId\"\n    >\n      <span *ngIf=\"event.actions\" class=\"cal-event-actions\">\n        <a\n          class=\"cal-event-action\"\n          href=\"javascript:;\"\n          *ngFor=\"let action of event.actions; trackBy: trackByActionId\"\n          (mwlClick)=\"action.onClick({ event: event, sourceEvent: $event })\"\n          (mwlKeydownEnter)=\"\n            action.onClick({ event: event, sourceEvent: $event })\n          \"\n          [ngClass]=\"action.cssClass\"\n          [innerHtml]=\"action.label\"\n          tabindex=\"0\"\n          role=\"button\"\n          [attr.aria-label]=\"\n            { action: action } | calendarA11y: 'actionButtonLabel'\n          \"\n        >\n        </a>\n      </span>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        event: event,\n        trackByActionId: trackByActionId\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarEventActionsComponent);\n\nlet CalendarEventTitleComponent = class CalendarEventTitleComponent {\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarEventTitleComponent.prototype, \"event\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarEventTitleComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarEventTitleComponent.prototype, \"view\", void 0);\nCalendarEventTitleComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-event-title',\n        template: `\n    <ng-template #defaultTemplate let-event=\"event\" let-view=\"view\">\n      <span\n        class=\"cal-event-title\"\n        [innerHTML]=\"event.title | calendarEventTitle: view:event\"\n        [attr.aria-hidden]=\"{} | calendarA11y: 'hideEventTitle'\"\n      >\n      </span>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        event: event,\n        view: view\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarEventTitleComponent);\n\nlet CalendarTooltipWindowComponent = class CalendarTooltipWindowComponent {\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarTooltipWindowComponent.prototype, \"contents\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarTooltipWindowComponent.prototype, \"placement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarTooltipWindowComponent.prototype, \"event\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarTooltipWindowComponent.prototype, \"customTemplate\", void 0);\nCalendarTooltipWindowComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-tooltip-window',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-contents=\"contents\"\n      let-placement=\"placement\"\n      let-event=\"event\"\n    >\n      <div class=\"cal-tooltip\" [ngClass]=\"'cal-tooltip-' + placement\">\n        <div class=\"cal-tooltip-arrow\"></div>\n        <div class=\"cal-tooltip-inner\" [innerHtml]=\"contents\"></div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        contents: contents,\n        placement: placement,\n        event: event\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarTooltipWindowComponent);\nlet CalendarTooltipDirective = class CalendarTooltipDirective {\n    constructor(elementRef, injector, renderer, componentFactoryResolver, viewContainerRef, document //tslint:disable-line\n    ) {\n        this.elementRef = elementRef;\n        this.injector = injector;\n        this.renderer = renderer;\n        this.viewContainerRef = viewContainerRef;\n        this.document = document;\n        this.placement = 'auto'; // tslint:disable-line no-input-rename\n        this.delay = null; // tslint:disable-line no-input-rename\n        this.cancelTooltipDelay$ = new Subject();\n        this.tooltipFactory = componentFactoryResolver.resolveComponentFactory(CalendarTooltipWindowComponent);\n    }\n    ngOnChanges(changes) {\n        if (this.tooltipRef &&\n            (changes.contents || changes.customTemplate || changes.event)) {\n            this.tooltipRef.instance.contents = this.contents;\n            this.tooltipRef.instance.customTemplate = this.customTemplate;\n            this.tooltipRef.instance.event = this.event;\n            this.tooltipRef.changeDetectorRef.markForCheck();\n            if (!this.contents) {\n                this.hide();\n            }\n        }\n    }\n    ngOnDestroy() {\n        this.hide();\n    }\n    onMouseOver() {\n        const delay$ = this.delay === null ? of('now') : timer(this.delay);\n        delay$.pipe(takeUntil(this.cancelTooltipDelay$)).subscribe(() => {\n            this.show();\n        });\n    }\n    onMouseOut() {\n        this.hide();\n    }\n    show() {\n        if (!this.tooltipRef && this.contents) {\n            this.tooltipRef = this.viewContainerRef.createComponent(this.tooltipFactory, 0, this.injector, []);\n            this.tooltipRef.instance.contents = this.contents;\n            this.tooltipRef.instance.customTemplate = this.customTemplate;\n            this.tooltipRef.instance.event = this.event;\n            if (this.appendToBody) {\n                this.document.body.appendChild(this.tooltipRef.location.nativeElement);\n            }\n            requestAnimationFrame(() => {\n                this.positionTooltip();\n            });\n        }\n    }\n    hide() {\n        if (this.tooltipRef) {\n            this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView));\n            this.tooltipRef = null;\n        }\n        this.cancelTooltipDelay$.next();\n    }\n    positionTooltip(previousPositions = []) {\n        if (this.tooltipRef) {\n            this.tooltipRef.changeDetectorRef.detectChanges();\n            this.tooltipRef.instance.placement = positionElements(this.elementRef.nativeElement, this.tooltipRef.location.nativeElement.children[0], this.placement, this.appendToBody);\n            // keep re-positioning the tooltip until the arrow position doesn't make a difference\n            if (previousPositions.indexOf(this.tooltipRef.instance.placement) === -1) {\n                this.positionTooltip([\n                    ...previousPositions,\n                    this.tooltipRef.instance.placement,\n                ]);\n            }\n        }\n    }\n};\nCalendarTooltipDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Injector },\n    { type: Renderer2 },\n    { type: ComponentFactoryResolver },\n    { type: ViewContainerRef },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\n];\n__decorate([\n    Input('mwlCalendarTooltip'),\n    __metadata(\"design:type\", String)\n], CalendarTooltipDirective.prototype, \"contents\", void 0);\n__decorate([\n    Input('tooltipPlacement'),\n    __metadata(\"design:type\", Object)\n], CalendarTooltipDirective.prototype, \"placement\", void 0);\n__decorate([\n    Input('tooltipTemplate'),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarTooltipDirective.prototype, \"customTemplate\", void 0);\n__decorate([\n    Input('tooltipEvent'),\n    __metadata(\"design:type\", Object)\n], CalendarTooltipDirective.prototype, \"event\", void 0);\n__decorate([\n    Input('tooltipAppendToBody'),\n    __metadata(\"design:type\", Boolean)\n], CalendarTooltipDirective.prototype, \"appendToBody\", void 0);\n__decorate([\n    Input('tooltipDelay'),\n    __metadata(\"design:type\", Number)\n], CalendarTooltipDirective.prototype, \"delay\", void 0);\n__decorate([\n    HostListener('mouseenter'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], CalendarTooltipDirective.prototype, \"onMouseOver\", null);\n__decorate([\n    HostListener('mouseleave'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], CalendarTooltipDirective.prototype, \"onMouseOut\", null);\nCalendarTooltipDirective = __decorate([\n    Directive({\n        selector: '[mwlCalendarTooltip]',\n    }),\n    __param(5, Inject(DOCUMENT)),\n    __metadata(\"design:paramtypes\", [ElementRef,\n        Injector,\n        Renderer2,\n        ComponentFactoryResolver,\n        ViewContainerRef, Object])\n], CalendarTooltipDirective);\n\nclass DateAdapter {\n}\n\nvar CalendarView;\n(function (CalendarView) {\n    CalendarView[\"Month\"] = \"month\";\n    CalendarView[\"Week\"] = \"week\";\n    CalendarView[\"Day\"] = \"day\";\n})(CalendarView || (CalendarView = {}));\n\nconst validateEvents = (events) => {\n    const warn = (...args) => console.warn('angular-calendar', ...args);\n    return validateEvents$1(events, warn);\n};\nfunction isInside(outer, inner) {\n    return (Math.floor(outer.left) <= Math.ceil(inner.left) &&\n        Math.floor(inner.left) <= Math.ceil(outer.right) &&\n        Math.floor(outer.left) <= Math.ceil(inner.right) &&\n        Math.floor(inner.right) <= Math.ceil(outer.right) &&\n        Math.floor(outer.top) <= Math.ceil(inner.top) &&\n        Math.floor(inner.top) <= Math.ceil(outer.bottom) &&\n        Math.floor(outer.top) <= Math.ceil(inner.bottom) &&\n        Math.floor(inner.bottom) <= Math.ceil(outer.bottom));\n}\nfunction roundToNearest(amount, precision) {\n    return Math.round(amount / precision) * precision;\n}\nconst trackByEventId = (index, event) => event.id ? event.id : event;\nconst trackByWeekDayHeaderDate = (index, day) => day.date.toISOString();\nconst trackByHourSegment = (index, segment) => segment.date.toISOString();\nconst trackByHour = (index, hour) => hour.segments[0].date.toISOString();\nconst trackByWeekAllDayEvent = (index, weekEvent) => (weekEvent.event.id ? weekEvent.event.id : weekEvent.event);\nconst trackByWeekTimeEvent = (index, weekEvent) => (weekEvent.event.id ? weekEvent.event.id : weekEvent.event);\nconst MINUTES_IN_HOUR = 60;\nfunction getPixelAmountInMinutes(hourSegments, hourSegmentHeight) {\n    return MINUTES_IN_HOUR / (hourSegments * hourSegmentHeight);\n}\nfunction getMinutesMoved(movedY, hourSegments, hourSegmentHeight, eventSnapSize) {\n    const draggedInPixelsSnapSize = roundToNearest(movedY, eventSnapSize || hourSegmentHeight);\n    const pixelAmountInMinutes = getPixelAmountInMinutes(hourSegments, hourSegmentHeight);\n    return draggedInPixelsSnapSize * pixelAmountInMinutes;\n}\nfunction getMinimumEventHeightInMinutes(hourSegments, hourSegmentHeight) {\n    return (getPixelAmountInMinutes(hourSegments, hourSegmentHeight) * hourSegmentHeight);\n}\nfunction getDefaultEventEnd(dateAdapter, event, minimumMinutes) {\n    if (event.end) {\n        return event.end;\n    }\n    else {\n        return dateAdapter.addMinutes(event.start, minimumMinutes);\n    }\n}\nfunction addDaysWithExclusions(dateAdapter, date, days, excluded) {\n    let daysCounter = 0;\n    let daysToAdd = 0;\n    const changeDays = days < 0 ? dateAdapter.subDays : dateAdapter.addDays;\n    let result = date;\n    while (daysToAdd <= Math.abs(days)) {\n        result = changeDays(date, daysCounter);\n        const day = dateAdapter.getDay(result);\n        if (excluded.indexOf(day) === -1) {\n            daysToAdd++;\n        }\n        daysCounter++;\n    }\n    return result;\n}\nfunction isDraggedWithinPeriod(newStart, newEnd, period) {\n    const end = newEnd || newStart;\n    return ((period.start <= newStart && newStart <= period.end) ||\n        (period.start <= end && end <= period.end));\n}\nfunction shouldFireDroppedEvent(dropEvent, date, allDay, calendarId) {\n    return (dropEvent.dropData &&\n        dropEvent.dropData.event &&\n        (dropEvent.dropData.calendarId !== calendarId ||\n            (dropEvent.dropData.event.allDay && !allDay) ||\n            (!dropEvent.dropData.event.allDay && allDay)));\n}\nfunction getWeekViewPeriod(dateAdapter, viewDate, weekStartsOn, excluded = [], daysInWeek) {\n    let viewStart = daysInWeek\n        ? dateAdapter.startOfDay(viewDate)\n        : dateAdapter.startOfWeek(viewDate, { weekStartsOn });\n    const endOfWeek = dateAdapter.endOfWeek(viewDate, { weekStartsOn });\n    while (excluded.indexOf(dateAdapter.getDay(viewStart)) > -1 &&\n        viewStart < endOfWeek) {\n        viewStart = dateAdapter.addDays(viewStart, 1);\n    }\n    if (daysInWeek) {\n        const viewEnd = dateAdapter.endOfDay(addDaysWithExclusions(dateAdapter, viewStart, daysInWeek - 1, excluded));\n        return { viewStart, viewEnd };\n    }\n    else {\n        let viewEnd = endOfWeek;\n        while (excluded.indexOf(dateAdapter.getDay(viewEnd)) > -1 &&\n            viewEnd > viewStart) {\n            viewEnd = dateAdapter.subDays(viewEnd, 1);\n        }\n        return { viewStart, viewEnd };\n    }\n}\nfunction isWithinThreshold({ x, y }) {\n    const DRAG_THRESHOLD = 1;\n    return Math.abs(x) > DRAG_THRESHOLD || Math.abs(y) > DRAG_THRESHOLD;\n}\n\n/**\n * Change the view date to the previous view. For example:\n *\n * ```typescript\n * <button\n *  mwlCalendarPreviousView\n *  [(viewDate)]=\"viewDate\"\n *  [view]=\"view\">\n *  Previous\n * </button>\n * ```\n */\nlet CalendarPreviousViewDirective = class CalendarPreviousViewDirective {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n        /**\n         * Days to skip when going back by 1 day\n         */\n        this.excludeDays = [];\n        /**\n         * Called when the view date is changed\n         */\n        this.viewDateChange = new EventEmitter();\n    }\n    /**\n     * @hidden\n     */\n    onClick() {\n        const subFn = {\n            day: this.dateAdapter.subDays,\n            week: this.dateAdapter.subWeeks,\n            month: this.dateAdapter.subMonths,\n        }[this.view];\n        if (this.view === CalendarView.Day) {\n            this.viewDateChange.emit(addDaysWithExclusions(this.dateAdapter, this.viewDate, -1, this.excludeDays));\n        }\n        else if (this.view === CalendarView.Week && this.daysInWeek) {\n            this.viewDateChange.emit(addDaysWithExclusions(this.dateAdapter, this.viewDate, -this.daysInWeek, this.excludeDays));\n        }\n        else {\n            this.viewDateChange.emit(subFn(this.viewDate, 1));\n        }\n    }\n};\nCalendarPreviousViewDirective.ctorParameters = () => [\n    { type: DateAdapter }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarPreviousViewDirective.prototype, \"view\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarPreviousViewDirective.prototype, \"viewDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarPreviousViewDirective.prototype, \"excludeDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarPreviousViewDirective.prototype, \"daysInWeek\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], CalendarPreviousViewDirective.prototype, \"viewDateChange\", void 0);\n__decorate([\n    HostListener('click'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], CalendarPreviousViewDirective.prototype, \"onClick\", null);\nCalendarPreviousViewDirective = __decorate([\n    Directive({\n        selector: '[mwlCalendarPreviousView]',\n    }),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarPreviousViewDirective);\n\n/**\n * Change the view date to the next view. For example:\n *\n * ```typescript\n * <button\n *  mwlCalendarNextView\n *  [(viewDate)]=\"viewDate\"\n *  [view]=\"view\">\n *  Next\n * </button>\n * ```\n */\nlet CalendarNextViewDirective = class CalendarNextViewDirective {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n        /**\n         * Days to skip when going forward by 1 day\n         */\n        this.excludeDays = [];\n        /**\n         * Called when the view date is changed\n         */\n        this.viewDateChange = new EventEmitter();\n    }\n    /**\n     * @hidden\n     */\n    onClick() {\n        const addFn = {\n            day: this.dateAdapter.addDays,\n            week: this.dateAdapter.addWeeks,\n            month: this.dateAdapter.addMonths,\n        }[this.view];\n        if (this.view === CalendarView.Day) {\n            this.viewDateChange.emit(addDaysWithExclusions(this.dateAdapter, this.viewDate, 1, this.excludeDays));\n        }\n        else if (this.view === CalendarView.Week && this.daysInWeek) {\n            this.viewDateChange.emit(addDaysWithExclusions(this.dateAdapter, this.viewDate, this.daysInWeek, this.excludeDays));\n        }\n        else {\n            this.viewDateChange.emit(addFn(this.viewDate, 1));\n        }\n    }\n};\nCalendarNextViewDirective.ctorParameters = () => [\n    { type: DateAdapter }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarNextViewDirective.prototype, \"view\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarNextViewDirective.prototype, \"viewDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarNextViewDirective.prototype, \"excludeDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarNextViewDirective.prototype, \"daysInWeek\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], CalendarNextViewDirective.prototype, \"viewDateChange\", void 0);\n__decorate([\n    HostListener('click'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], CalendarNextViewDirective.prototype, \"onClick\", null);\nCalendarNextViewDirective = __decorate([\n    Directive({\n        selector: '[mwlCalendarNextView]',\n    }),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarNextViewDirective);\n\n/**\n * Change the view date to the current day. For example:\n *\n * ```typescript\n * <button\n *  mwlCalendarToday\n *  [(viewDate)]=\"viewDate\">\n *  Today\n * </button>\n * ```\n */\nlet CalendarTodayDirective = class CalendarTodayDirective {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n        /**\n         * Called when the view date is changed\n         */\n        this.viewDateChange = new EventEmitter();\n    }\n    /**\n     * @hidden\n     */\n    onClick() {\n        this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date()));\n    }\n};\nCalendarTodayDirective.ctorParameters = () => [\n    { type: DateAdapter }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarTodayDirective.prototype, \"viewDate\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], CalendarTodayDirective.prototype, \"viewDateChange\", void 0);\n__decorate([\n    HostListener('click'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], CalendarTodayDirective.prototype, \"onClick\", null);\nCalendarTodayDirective = __decorate([\n    Directive({\n        selector: '[mwlCalendarToday]',\n    }),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarTodayDirective);\n\n/**\n * This will use the angular date pipe to do all date formatting. It is the default date formatter used by the calendar.\n */\nlet CalendarAngularDateFormatter = class CalendarAngularDateFormatter {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n    }\n    /**\n     * The month view header week day labels\n     */\n    monthViewColumnHeader({ date, locale }) {\n        return formatDate(date, 'EEEE', locale);\n    }\n    /**\n     * The month view cell day number\n     */\n    monthViewDayNumber({ date, locale }) {\n        return formatDate(date, 'd', locale);\n    }\n    /**\n     * The month view title\n     */\n    monthViewTitle({ date, locale }) {\n        return formatDate(date, 'LLLL y', locale);\n    }\n    /**\n     * The week view header week day labels\n     */\n    weekViewColumnHeader({ date, locale }) {\n        return formatDate(date, 'EEEE', locale);\n    }\n    /**\n     * The week view sub header day and month labels\n     */\n    weekViewColumnSubHeader({ date, locale, }) {\n        return formatDate(date, 'MMM d', locale);\n    }\n    /**\n     * The week view title\n     */\n    weekViewTitle({ date, locale, weekStartsOn, excludeDays, daysInWeek, }) {\n        const { viewStart, viewEnd } = getWeekViewPeriod(this.dateAdapter, date, weekStartsOn, excludeDays, daysInWeek);\n        const format = (dateToFormat, showYear) => formatDate(dateToFormat, 'MMM d' + (showYear ? ', yyyy' : ''), locale);\n        return `${format(viewStart, viewStart.getUTCFullYear() !== viewEnd.getUTCFullYear())} - ${format(viewEnd, true)}`;\n    }\n    /**\n     * The time formatting down the left hand side of the week view\n     */\n    weekViewHour({ date, locale }) {\n        return formatDate(date, 'h a', locale);\n    }\n    /**\n     * The time formatting down the left hand side of the day view\n     */\n    dayViewHour({ date, locale }) {\n        return formatDate(date, 'h a', locale);\n    }\n    /**\n     * The day view title\n     */\n    dayViewTitle({ date, locale }) {\n        return formatDate(date, 'EEEE, MMMM d, y', locale);\n    }\n};\nCalendarAngularDateFormatter.ctorParameters = () => [\n    { type: DateAdapter }\n];\nCalendarAngularDateFormatter = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarAngularDateFormatter);\n\n/**\n * This class is responsible for all formatting of dates. There are 3 implementations available, the `CalendarAngularDateFormatter` (default) which uses the angular date pipe to format dates, the `CalendarNativeDateFormatter` which will use the <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Intl\" target=\"_blank\">Intl</a> API to format dates, or there is the `CalendarMomentDateFormatter` which uses <a href=\"http://momentjs.com/\" target=\"_blank\">moment</a>.\n *\n * If you wish, you may override any of the defaults via angulars DI. For example:\n *\n * ```typescript\n * import { CalendarDateFormatter, DateFormatterParams } from 'angular-calendar';\n * import { formatDate } from '@angular/common';\n * import { Injectable } from '@angular/core';\n *\n * @Injectable()\n * class CustomDateFormatter extends CalendarDateFormatter {\n *\n *   public monthViewColumnHeader({date, locale}: DateFormatterParams): string {\n *     return formatDate(date, 'EEE', locale); // use short week days\n *   }\n *\n * }\n *\n * // in your component that uses the calendar\n * providers: [{\n *   provide: CalendarDateFormatter,\n *   useClass: CustomDateFormatter\n * }]\n * ```\n */\nlet CalendarDateFormatter = class CalendarDateFormatter extends CalendarAngularDateFormatter {\n};\nCalendarDateFormatter = __decorate([\n    Injectable()\n], CalendarDateFormatter);\n\n/**\n * This pipe is primarily for rendering the current view title. Example usage:\n * ```typescript\n * // where `viewDate` is a `Date` and view is `'month' | 'week' | 'day'`\n * {{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}\n * ```\n */\nlet CalendarDatePipe = class CalendarDatePipe {\n    constructor(dateFormatter, locale) {\n        this.dateFormatter = dateFormatter;\n        this.locale = locale;\n    }\n    transform(date, method, locale = this.locale, weekStartsOn = 0, excludeDays = [], daysInWeek) {\n        if (typeof this.dateFormatter[method] === 'undefined') {\n            const allowedMethods = Object.getOwnPropertyNames(Object.getPrototypeOf(CalendarDateFormatter.prototype)).filter((iMethod) => iMethod !== 'constructor');\n            throw new Error(`${method} is not a valid date formatter. Can only be one of ${allowedMethods.join(', ')}`);\n        }\n        return this.dateFormatter[method]({\n            date,\n            locale,\n            weekStartsOn,\n            excludeDays,\n            daysInWeek,\n        });\n    }\n};\nCalendarDatePipe.ctorParameters = () => [\n    { type: CalendarDateFormatter },\n    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] }\n];\nCalendarDatePipe = __decorate([\n    Pipe({\n        name: 'calendarDate',\n    }),\n    __param(1, Inject(LOCALE_ID)),\n    __metadata(\"design:paramtypes\", [CalendarDateFormatter, String])\n], CalendarDatePipe);\n\n/**\n * This class is responsible for displaying all event titles within the calendar. You may override any of its methods via angulars DI to suit your requirements. For example:\n *\n * ```typescript\n * import { Injectable } from '@angular/core';\n * import { CalendarEventTitleFormatter, CalendarEvent } from 'angular-calendar';\n *\n * @Injectable()\n * class CustomEventTitleFormatter extends CalendarEventTitleFormatter {\n *\n *   month(event: CalendarEvent): string {\n *     return `Custom prefix: ${event.title}`;\n *   }\n *\n * }\n *\n * // in your component\n * providers: [{\n *  provide: CalendarEventTitleFormatter,\n *  useClass: CustomEventTitleFormatter\n * }]\n * ```\n */\nclass CalendarEventTitleFormatter {\n    /**\n     * The month view event title.\n     */\n    month(event, title) {\n        return event.title;\n    }\n    /**\n     * The month view event tooltip. Return a falsey value from this to disable the tooltip.\n     */\n    monthTooltip(event, title) {\n        return event.title;\n    }\n    /**\n     * The week view event title.\n     */\n    week(event, title) {\n        return event.title;\n    }\n    /**\n     * The week view event tooltip. Return a falsey value from this to disable the tooltip.\n     */\n    weekTooltip(event, title) {\n        return event.title;\n    }\n    /**\n     * The day view event title.\n     */\n    day(event, title) {\n        return event.title;\n    }\n    /**\n     * The day view event tooltip. Return a falsey value from this to disable the tooltip.\n     */\n    dayTooltip(event, title) {\n        return event.title;\n    }\n}\n\nlet CalendarEventTitlePipe = class CalendarEventTitlePipe {\n    constructor(calendarEventTitle) {\n        this.calendarEventTitle = calendarEventTitle;\n    }\n    transform(title, titleType, event) {\n        return this.calendarEventTitle[titleType](event, title);\n    }\n};\nCalendarEventTitlePipe.ctorParameters = () => [\n    { type: CalendarEventTitleFormatter }\n];\nCalendarEventTitlePipe = __decorate([\n    Pipe({\n        name: 'calendarEventTitle',\n    }),\n    __metadata(\"design:paramtypes\", [CalendarEventTitleFormatter])\n], CalendarEventTitlePipe);\n\nlet ClickDirective = class ClickDirective {\n    constructor(renderer, elm, document) {\n        this.renderer = renderer;\n        this.elm = elm;\n        this.document = document;\n        this.clickListenerDisabled = false;\n        this.click = new EventEmitter(); // tslint:disable-line\n        this.destroy$ = new Subject();\n    }\n    ngOnInit() {\n        if (!this.clickListenerDisabled) {\n            this.listen()\n                .pipe(takeUntil(this.destroy$))\n                .subscribe((event) => {\n                event.stopPropagation();\n                this.click.emit(event);\n            });\n        }\n    }\n    ngOnDestroy() {\n        this.destroy$.next();\n    }\n    listen() {\n        return new Observable((observer) => {\n            return this.renderer.listen(this.elm.nativeElement, 'click', (event) => {\n                observer.next(event);\n            });\n        });\n    }\n};\nClickDirective.ctorParameters = () => [\n    { type: Renderer2 },\n    { type: ElementRef },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], ClickDirective.prototype, \"clickListenerDisabled\", void 0);\n__decorate([\n    Output('mwlClick'),\n    __metadata(\"design:type\", Object)\n], ClickDirective.prototype, \"click\", void 0);\nClickDirective = __decorate([\n    Directive({\n        selector: '[mwlClick]',\n    }),\n    __param(2, Inject(DOCUMENT)),\n    __metadata(\"design:paramtypes\", [Renderer2,\n        ElementRef, Object])\n], ClickDirective);\n\nlet KeydownEnterDirective = class KeydownEnterDirective {\n    constructor(host, ngZone, renderer) {\n        this.host = host;\n        this.ngZone = ngZone;\n        this.renderer = renderer;\n        this.keydown = new EventEmitter(); // tslint:disable-line\n        this.keydownListener = null;\n    }\n    ngOnInit() {\n        this.ngZone.runOutsideAngular(() => {\n            this.keydownListener = this.renderer.listen(this.host.nativeElement, 'keydown', (event) => {\n                if (event.keyCode === 13 ||\n                    event.which === 13 ||\n                    event.key === 'Enter') {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    this.ngZone.run(() => {\n                        this.keydown.emit(event);\n                    });\n                }\n            });\n        });\n    }\n    ngOnDestroy() {\n        if (this.keydownListener !== null) {\n            this.keydownListener();\n            this.keydownListener = null;\n        }\n    }\n};\nKeydownEnterDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: NgZone },\n    { type: Renderer2 }\n];\n__decorate([\n    Output('mwlKeydownEnter'),\n    __metadata(\"design:type\", Object)\n], KeydownEnterDirective.prototype, \"keydown\", void 0);\nKeydownEnterDirective = __decorate([\n    Directive({ selector: '[mwlKeydownEnter]' }),\n    __metadata(\"design:paramtypes\", [ElementRef,\n        NgZone,\n        Renderer2])\n], KeydownEnterDirective);\n\nlet CalendarUtils = class CalendarUtils {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n    }\n    getMonthView(args) {\n        return getMonthView(this.dateAdapter, args);\n    }\n    getWeekViewHeader(args) {\n        return getWeekViewHeader(this.dateAdapter, args);\n    }\n    getWeekView(args) {\n        return getWeekView(this.dateAdapter, args);\n    }\n};\nCalendarUtils.ctorParameters = () => [\n    { type: DateAdapter }\n];\nCalendarUtils = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarUtils);\n\n/**\n * This class is responsible for adding accessibility to the calendar.\n * You may override any of its methods via angulars DI to suit your requirements.\n * For example:\n *\n * ```typescript\n * import { A11yParams, CalendarA11y } from 'angular-calendar';\n * import { formatDate, I18nPluralPipe } from '@angular/common';\n * import { Injectable } from '@angular/core';\n *\n * // adding your own a11y params\n * export interface CustomA11yParams extends A11yParams {\n *   isDrSuess?: boolean;\n * }\n *\n * @Injectable()\n * export class CustomCalendarA11y extends CalendarA11y {\n *   constructor(protected i18nPlural: I18nPluralPipe) {\n *     super(i18nPlural);\n *   }\n *\n *   // overriding a function\n *   public openDayEventsLandmark({ date, locale, isDrSuess }: CustomA11yParams): string {\n *     if (isDrSuess) {\n *       return `\n *         ${formatDate(date, 'EEEE MMMM d', locale)}\n *          Today you are you! That is truer than true! There is no one alive\n *          who is you-er than you!\n *       `;\n *     }\n *   }\n * }\n *\n * // in your component that uses the calendar\n * providers: [{\n *  provide: CalendarA11y,\n *  useClass: CustomCalendarA11y\n * }]\n * ```\n */\nlet CalendarA11y = class CalendarA11y {\n    constructor(i18nPlural) {\n        this.i18nPlural = i18nPlural;\n    }\n    /**\n     * Aria label for the badges/date of a cell\n     * @example: `Saturday October 19 1 event click to expand`\n     */\n    monthCell({ day, locale }) {\n        if (day.badgeTotal > 0) {\n            return `\n        ${formatDate(day.date, 'EEEE MMMM d', locale)},\n        ${this.i18nPlural.transform(day.badgeTotal, {\n                '=0': 'No events',\n                '=1': 'One event',\n                other: '# events',\n            })},\n         click to expand\n      `;\n        }\n        else {\n            return `${formatDate(day.date, 'EEEE MMMM d', locale)}`;\n        }\n    }\n    /**\n     * Aria label for the open day events start landmark\n     * @example: `Saturday October 19 expanded view`\n     */\n    openDayEventsLandmark({ date, locale }) {\n        return `\n      Beginning of expanded view for ${formatDate(date, 'EEEE MMMM dd', locale)}\n    `;\n    }\n    /**\n     * Aria label for alert that a day in the month view was expanded\n     * @example: `Saturday October 19 expanded`\n     */\n    openDayEventsAlert({ date, locale }) {\n        return `${formatDate(date, 'EEEE MMMM dd', locale)} expanded`;\n    }\n    /**\n     * Descriptive aria label for an event\n     * @example: `Saturday October 19th, Scott's Pizza Party, from 11:00am to 5:00pm`\n     */\n    eventDescription({ event, locale }) {\n        if (event.allDay === true) {\n            return this.allDayEventDescription({ event, locale });\n        }\n        const aria = `\n      ${formatDate(event.start, 'EEEE MMMM dd', locale)},\n      ${event.title}, from ${formatDate(event.start, 'hh:mm a', locale)}\n    `;\n        if (event.end) {\n            return aria + ` to ${formatDate(event.end, 'hh:mm a', locale)}`;\n        }\n        return aria;\n    }\n    /**\n     * Descriptive aria label for an all day event\n     * @example:\n     * `Scott's Party, event spans multiple days: start time October 19 5:00pm, no stop time`\n     */\n    allDayEventDescription({ event, locale }) {\n        const aria = `\n      ${event.title}, event spans multiple days:\n      start time ${formatDate(event.start, 'MMMM dd hh:mm a', locale)}\n    `;\n        if (event.end) {\n            return (aria + `, stop time ${formatDate(event.end, 'MMMM d hh:mm a', locale)}`);\n        }\n        return aria + `, no stop time`;\n    }\n    /**\n     * Aria label for the calendar event actions icons\n     * @returns 'Edit' for fa-pencil icons, and 'Delete' for fa-times icons\n     */\n    actionButtonLabel({ action }) {\n        return action.a11yLabel;\n    }\n    /**\n     * @returns {number} Tab index to be given to month cells\n     */\n    monthCellTabIndex() {\n        return 0;\n    }\n    /**\n     * @returns true if the events inside the month cell should be aria-hidden\n     */\n    hideMonthCellEvents() {\n        return true;\n    }\n    /**\n     * @returns true if event titles should be aria-hidden (global)\n     */\n    hideEventTitle() {\n        return true;\n    }\n    /**\n     * @returns true if hour segments in the week view should be aria-hidden\n     */\n    hideWeekHourSegment() {\n        return true;\n    }\n    /**\n     * @returns true if hour segments in the day view should be aria-hidden\n     */\n    hideDayHourSegment() {\n        return true;\n    }\n};\nCalendarA11y.ctorParameters = () => [\n    { type: I18nPluralPipe }\n];\nCalendarA11y = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [I18nPluralPipe])\n], CalendarA11y);\n\n/**\n * This pipe is primarily for rendering aria labels. Example usage:\n * ```typescript\n * // where `myEvent` is a `CalendarEvent` and myLocale is a locale identifier\n * {{ { event: myEvent, locale: myLocale } | calendarA11y: 'eventDescription' }}\n * ```\n */\nlet CalendarA11yPipe = class CalendarA11yPipe {\n    constructor(calendarA11y, locale) {\n        this.calendarA11y = calendarA11y;\n        this.locale = locale;\n    }\n    transform(a11yParams, method) {\n        a11yParams.locale = a11yParams.locale || this.locale;\n        if (typeof this.calendarA11y[method] === 'undefined') {\n            const allowedMethods = Object.getOwnPropertyNames(Object.getPrototypeOf(CalendarA11y.prototype)).filter((iMethod) => iMethod !== 'constructor');\n            throw new Error(`${method} is not a valid a11y method. Can only be one of ${allowedMethods.join(', ')}`);\n        }\n        return this.calendarA11y[method](a11yParams);\n    }\n};\nCalendarA11yPipe.ctorParameters = () => [\n    { type: CalendarA11y },\n    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] }\n];\nCalendarA11yPipe = __decorate([\n    Pipe({\n        name: 'calendarA11y',\n    }),\n    __param(1, Inject(LOCALE_ID)),\n    __metadata(\"design:paramtypes\", [CalendarA11y, String])\n], CalendarA11yPipe);\n\nconst MOMENT = new InjectionToken('Moment');\n/**\n * This will use <a href=\"http://momentjs.com/\" target=\"_blank\">moment</a> to do all date formatting. To use this class:\n *\n * ```typescript\n * import { CalendarDateFormatter, CalendarMomentDateFormatter, MOMENT } from 'angular-calendar';\n * import moment from 'moment';\n *\n * // in your component\n * provide: [{\n *   provide: MOMENT, useValue: moment\n * }, {\n *   provide: CalendarDateFormatter, useClass: CalendarMomentDateFormatter\n * }]\n *\n * ```\n */\nlet CalendarMomentDateFormatter = class CalendarMomentDateFormatter {\n    /**\n     * @hidden\n     */\n    constructor(moment, dateAdapter) {\n        this.moment = moment;\n        this.dateAdapter = dateAdapter;\n    }\n    /**\n     * The month view header week day labels\n     */\n    monthViewColumnHeader({ date, locale }) {\n        return this.moment(date).locale(locale).format('dddd');\n    }\n    /**\n     * The month view cell day number\n     */\n    monthViewDayNumber({ date, locale }) {\n        return this.moment(date).locale(locale).format('D');\n    }\n    /**\n     * The month view title\n     */\n    monthViewTitle({ date, locale }) {\n        return this.moment(date).locale(locale).format('MMMM YYYY');\n    }\n    /**\n     * The week view header week day labels\n     */\n    weekViewColumnHeader({ date, locale }) {\n        return this.moment(date).locale(locale).format('dddd');\n    }\n    /**\n     * The week view sub header day and month labels\n     */\n    weekViewColumnSubHeader({ date, locale, }) {\n        return this.moment(date).locale(locale).format('MMM D');\n    }\n    /**\n     * The week view title\n     */\n    weekViewTitle({ date, locale, weekStartsOn, excludeDays, daysInWeek, }) {\n        const { viewStart, viewEnd } = getWeekViewPeriod(this.dateAdapter, date, weekStartsOn, excludeDays, daysInWeek);\n        const format = (dateToFormat, showYear) => this.moment(dateToFormat)\n            .locale(locale)\n            .format('MMM D' + (showYear ? ', YYYY' : ''));\n        return `${format(viewStart, viewStart.getUTCFullYear() !== viewEnd.getUTCFullYear())} - ${format(viewEnd, true)}`;\n    }\n    /**\n     * The time formatting down the left hand side of the week view\n     */\n    weekViewHour({ date, locale }) {\n        return this.moment(date).locale(locale).format('ha');\n    }\n    /**\n     * The time formatting down the left hand side of the day view\n     */\n    dayViewHour({ date, locale }) {\n        return this.moment(date).locale(locale).format('ha');\n    }\n    /**\n     * The day view title\n     */\n    dayViewTitle({ date, locale }) {\n        return this.moment(date).locale(locale).format('dddd, D MMMM, YYYY');\n    }\n};\nCalendarMomentDateFormatter.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [MOMENT,] }] },\n    { type: DateAdapter }\n];\nCalendarMomentDateFormatter = __decorate([\n    Injectable(),\n    __param(0, Inject(MOMENT)),\n    __metadata(\"design:paramtypes\", [Object, DateAdapter])\n], CalendarMomentDateFormatter);\n\n/**\n * This will use <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Intl\" target=\"_blank\">Intl</a> API to do all date formatting.\n *\n * You will need to include a <a href=\"https://github.com/andyearnshaw/Intl.js/\">polyfill</a> for older browsers.\n */\nlet CalendarNativeDateFormatter = class CalendarNativeDateFormatter {\n    constructor(dateAdapter) {\n        this.dateAdapter = dateAdapter;\n    }\n    /**\n     * The month view header week day labels\n     */\n    monthViewColumnHeader({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, { weekday: 'long' }).format(date);\n    }\n    /**\n     * The month view cell day number\n     */\n    monthViewDayNumber({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, { day: 'numeric' }).format(date);\n    }\n    /**\n     * The month view title\n     */\n    monthViewTitle({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, {\n            year: 'numeric',\n            month: 'long',\n        }).format(date);\n    }\n    /**\n     * The week view header week day labels\n     */\n    weekViewColumnHeader({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, { weekday: 'long' }).format(date);\n    }\n    /**\n     * The week view sub header day and month labels\n     */\n    weekViewColumnSubHeader({ date, locale, }) {\n        return new Intl.DateTimeFormat(locale, {\n            day: 'numeric',\n            month: 'short',\n        }).format(date);\n    }\n    /**\n     * The week view title\n     */\n    weekViewTitle({ date, locale, weekStartsOn, excludeDays, daysInWeek, }) {\n        const { viewStart, viewEnd } = getWeekViewPeriod(this.dateAdapter, date, weekStartsOn, excludeDays, daysInWeek);\n        const format = (dateToFormat, showYear) => new Intl.DateTimeFormat(locale, {\n            day: 'numeric',\n            month: 'short',\n            year: showYear ? 'numeric' : undefined,\n        }).format(dateToFormat);\n        return `${format(viewStart, viewStart.getUTCFullYear() !== viewEnd.getUTCFullYear())} - ${format(viewEnd, true)}`;\n    }\n    /**\n     * The time formatting down the left hand side of the week view\n     */\n    weekViewHour({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, { hour: 'numeric' }).format(date);\n    }\n    /**\n     * The time formatting down the left hand side of the day view\n     */\n    dayViewHour({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, { hour: 'numeric' }).format(date);\n    }\n    /**\n     * The day view title\n     */\n    dayViewTitle({ date, locale }) {\n        return new Intl.DateTimeFormat(locale, {\n            day: 'numeric',\n            month: 'long',\n            year: 'numeric',\n            weekday: 'long',\n        }).format(date);\n    }\n};\nCalendarNativeDateFormatter.ctorParameters = () => [\n    { type: DateAdapter }\n];\nCalendarNativeDateFormatter = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [DateAdapter])\n], CalendarNativeDateFormatter);\n\nvar CalendarEventTimesChangedEventType;\n(function (CalendarEventTimesChangedEventType) {\n    CalendarEventTimesChangedEventType[\"Drag\"] = \"drag\";\n    CalendarEventTimesChangedEventType[\"Drop\"] = \"drop\";\n    CalendarEventTimesChangedEventType[\"Resize\"] = \"resize\";\n})(CalendarEventTimesChangedEventType || (CalendarEventTimesChangedEventType = {}));\n\nvar CalendarCommonModule_1;\n/**\n * Import this module to if you're just using a singular view and want to save on bundle size. Example usage:\n *\n * ```typescript\n * import { CalendarCommonModule, CalendarMonthModule } from 'angular-calendar';\n *\n * @NgModule({\n *   imports: [\n *     CalendarCommonModule.forRoot(),\n *     CalendarMonthModule\n *   ]\n * })\n * class MyModule {}\n * ```\n *\n */\nlet CalendarCommonModule = CalendarCommonModule_1 = class CalendarCommonModule {\n    static forRoot(dateAdapter, config = {}) {\n        return {\n            ngModule: CalendarCommonModule_1,\n            providers: [\n                dateAdapter,\n                config.eventTitleFormatter || CalendarEventTitleFormatter,\n                config.dateFormatter || CalendarDateFormatter,\n                config.utils || CalendarUtils,\n                config.a11y || CalendarA11y,\n            ],\n        };\n    }\n};\nCalendarCommonModule = CalendarCommonModule_1 = __decorate([\n    NgModule({\n        declarations: [\n            CalendarEventActionsComponent,\n            CalendarEventTitleComponent,\n            CalendarTooltipWindowComponent,\n            CalendarTooltipDirective,\n            CalendarPreviousViewDirective,\n            CalendarNextViewDirective,\n            CalendarTodayDirective,\n            CalendarDatePipe,\n            CalendarEventTitlePipe,\n            CalendarA11yPipe,\n            ClickDirective,\n            KeydownEnterDirective,\n        ],\n        imports: [CommonModule],\n        exports: [\n            CalendarEventActionsComponent,\n            CalendarEventTitleComponent,\n            CalendarTooltipWindowComponent,\n            CalendarTooltipDirective,\n            CalendarPreviousViewDirective,\n            CalendarNextViewDirective,\n            CalendarTodayDirective,\n            CalendarDatePipe,\n            CalendarEventTitlePipe,\n            CalendarA11yPipe,\n            ClickDirective,\n            KeydownEnterDirective,\n        ],\n        providers: [I18nPluralPipe],\n        entryComponents: [CalendarTooltipWindowComponent],\n    })\n], CalendarCommonModule);\n\n/**\n * Shows all events on a given month. Example usage:\n *\n * ```typescript\n * <mwl-calendar-month-view\n *  [viewDate]=\"viewDate\"\n *  [events]=\"events\">\n * </mwl-calendar-month-view>\n * ```\n */\nlet CalendarMonthViewComponent = class CalendarMonthViewComponent {\n    /**\n     * @hidden\n     */\n    constructor(cdr, utils, locale, dateAdapter) {\n        this.cdr = cdr;\n        this.utils = utils;\n        this.dateAdapter = dateAdapter;\n        /**\n         * An array of events to display on view.\n         * The schema is available here: https://github.com/mattlewis92/calendar-utils/blob/c51689985f59a271940e30bc4e2c4e1fee3fcb5c/src/calendarUtils.ts#L49-L63\n         */\n        this.events = [];\n        /**\n         * An array of day indexes (0 = sunday, 1 = monday etc) that will be hidden on the view\n         */\n        this.excludeDays = [];\n        /**\n         * Whether the events list for the day of the `viewDate` option is visible or not\n         */\n        this.activeDayIsOpen = false;\n        /**\n         * The placement of the event tooltip\n         */\n        this.tooltipPlacement = 'auto';\n        /**\n         * Whether to append tooltips to the body or next to the trigger element\n         */\n        this.tooltipAppendToBody = true;\n        /**\n         * The delay in milliseconds before the tooltip should be displayed. If not provided the tooltip\n         * will be displayed immediately.\n         */\n        this.tooltipDelay = null;\n        /**\n         * An output that will be called before the view is rendered for the current month.\n         * If you add the `cssClass` property to a day in the body it will add that class to the cell element in the template\n         */\n        this.beforeViewRender = new EventEmitter();\n        /**\n         * Called when the day cell is clicked\n         */\n        this.dayClicked = new EventEmitter();\n        /**\n         * Called when the event title is clicked\n         */\n        this.eventClicked = new EventEmitter();\n        /**\n         * Called when a header week day is clicked. Returns ISO day number.\n         */\n        this.columnHeaderClicked = new EventEmitter();\n        /**\n         * Called when an event is dragged and dropped\n         */\n        this.eventTimesChanged = new EventEmitter();\n        /**\n         * @hidden\n         */\n        this.trackByRowOffset = (index, offset) => this.view.days\n            .slice(offset, this.view.totalDaysVisibleInWeek)\n            .map((day) => day.date.toISOString())\n            .join('-');\n        /**\n         * @hidden\n         */\n        this.trackByDate = (index, day) => day.date.toISOString();\n        this.locale = locale;\n    }\n    /**\n     * @hidden\n     */\n    ngOnInit() {\n        if (this.refresh) {\n            this.refreshSubscription = this.refresh.subscribe(() => {\n                this.refreshAll();\n                this.cdr.markForCheck();\n            });\n        }\n    }\n    /**\n     * @hidden\n     */\n    ngOnChanges(changes) {\n        const refreshHeader = changes.viewDate || changes.excludeDays || changes.weekendDays;\n        const refreshBody = changes.viewDate ||\n            changes.events ||\n            changes.excludeDays ||\n            changes.weekendDays;\n        if (refreshHeader) {\n            this.refreshHeader();\n        }\n        if (changes.events) {\n            validateEvents(this.events);\n        }\n        if (refreshBody) {\n            this.refreshBody();\n        }\n        if (refreshHeader || refreshBody) {\n            this.emitBeforeViewRender();\n        }\n        if (changes.activeDayIsOpen ||\n            changes.viewDate ||\n            changes.events ||\n            changes.excludeDays ||\n            changes.activeDay) {\n            this.checkActiveDayIsOpen();\n        }\n    }\n    /**\n     * @hidden\n     */\n    ngOnDestroy() {\n        if (this.refreshSubscription) {\n            this.refreshSubscription.unsubscribe();\n        }\n    }\n    /**\n     * @hidden\n     */\n    toggleDayHighlight(event, isHighlighted) {\n        this.view.days.forEach((day) => {\n            if (isHighlighted && day.events.indexOf(event) > -1) {\n                day.backgroundColor =\n                    (event.color && event.color.secondary) || '#D1E8FF';\n            }\n            else {\n                delete day.backgroundColor;\n            }\n        });\n    }\n    /**\n     * @hidden\n     */\n    eventDropped(droppedOn, event, draggedFrom) {\n        if (droppedOn !== draggedFrom) {\n            const year = this.dateAdapter.getYear(droppedOn.date);\n            const month = this.dateAdapter.getMonth(droppedOn.date);\n            const date = this.dateAdapter.getDate(droppedOn.date);\n            const newStart = this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(event.start, year), month), date);\n            let newEnd;\n            if (event.end) {\n                const secondsDiff = this.dateAdapter.differenceInSeconds(newStart, event.start);\n                newEnd = this.dateAdapter.addSeconds(event.end, secondsDiff);\n            }\n            this.eventTimesChanged.emit({\n                event,\n                newStart,\n                newEnd,\n                day: droppedOn,\n                type: CalendarEventTimesChangedEventType.Drop,\n            });\n        }\n    }\n    refreshHeader() {\n        this.columnHeaders = this.utils.getWeekViewHeader({\n            viewDate: this.viewDate,\n            weekStartsOn: this.weekStartsOn,\n            excluded: this.excludeDays,\n            weekendDays: this.weekendDays,\n        });\n    }\n    refreshBody() {\n        this.view = this.utils.getMonthView({\n            events: this.events,\n            viewDate: this.viewDate,\n            weekStartsOn: this.weekStartsOn,\n            excluded: this.excludeDays,\n            weekendDays: this.weekendDays,\n        });\n    }\n    checkActiveDayIsOpen() {\n        if (this.activeDayIsOpen === true) {\n            const activeDay = this.activeDay || this.viewDate;\n            this.openDay = this.view.days.find((day) => this.dateAdapter.isSameDay(day.date, activeDay));\n            const index = this.view.days.indexOf(this.openDay);\n            this.openRowIndex =\n                Math.floor(index / this.view.totalDaysVisibleInWeek) *\n                    this.view.totalDaysVisibleInWeek;\n        }\n        else {\n            this.openRowIndex = null;\n            this.openDay = null;\n        }\n    }\n    refreshAll() {\n        this.refreshHeader();\n        this.refreshBody();\n        this.emitBeforeViewRender();\n        this.checkActiveDayIsOpen();\n    }\n    emitBeforeViewRender() {\n        if (this.columnHeaders && this.view) {\n            this.beforeViewRender.emit({\n                header: this.columnHeaders,\n                body: this.view.days,\n                period: this.view.period,\n            });\n        }\n    }\n};\nCalendarMonthViewComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef },\n    { type: CalendarUtils },\n    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] },\n    { type: DateAdapter }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarMonthViewComponent.prototype, \"viewDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarMonthViewComponent.prototype, \"events\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarMonthViewComponent.prototype, \"excludeDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarMonthViewComponent.prototype, \"activeDayIsOpen\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarMonthViewComponent.prototype, \"activeDay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Subject)\n], CalendarMonthViewComponent.prototype, \"refresh\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarMonthViewComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"tooltipPlacement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"tooltipTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarMonthViewComponent.prototype, \"tooltipAppendToBody\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarMonthViewComponent.prototype, \"tooltipDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarMonthViewComponent.prototype, \"weekStartsOn\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"headerTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"cellTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"openDayEventsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"eventTitleTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewComponent.prototype, \"eventActionsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarMonthViewComponent.prototype, \"weekendDays\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"beforeViewRender\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"dayClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"eventClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"columnHeaderClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewComponent.prototype, \"eventTimesChanged\", void 0);\nCalendarMonthViewComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-month-view',\n        template: `\n    <div class=\"cal-month-view\" role=\"grid\">\n      <mwl-calendar-month-view-header\n        [days]=\"columnHeaders\"\n        [locale]=\"locale\"\n        (columnHeaderClicked)=\"columnHeaderClicked.emit($event)\"\n        [customTemplate]=\"headerTemplate\"\n      >\n      </mwl-calendar-month-view-header>\n      <div class=\"cal-days\">\n        <div\n          *ngFor=\"let rowIndex of view.rowOffsets; trackBy: trackByRowOffset\"\n        >\n          <div role=\"row\" class=\"cal-cell-row\">\n            <mwl-calendar-month-cell\n              role=\"gridcell\"\n              *ngFor=\"\n                let day of view.days\n                  | slice: rowIndex:rowIndex + view.totalDaysVisibleInWeek;\n                trackBy: trackByDate\n              \"\n              [ngClass]=\"day?.cssClass\"\n              [day]=\"day\"\n              [openDay]=\"openDay\"\n              [locale]=\"locale\"\n              [tooltipPlacement]=\"tooltipPlacement\"\n              [tooltipAppendToBody]=\"tooltipAppendToBody\"\n              [tooltipTemplate]=\"tooltipTemplate\"\n              [tooltipDelay]=\"tooltipDelay\"\n              [customTemplate]=\"cellTemplate\"\n              [ngStyle]=\"{ backgroundColor: day.backgroundColor }\"\n              (mwlClick)=\"dayClicked.emit({ day: day, sourceEvent: $event })\"\n              [clickListenerDisabled]=\"dayClicked.observers.length === 0\"\n              (mwlKeydownEnter)=\"\n                dayClicked.emit({ day: day, sourceEvent: $event })\n              \"\n              (highlightDay)=\"toggleDayHighlight($event.event, true)\"\n              (unhighlightDay)=\"toggleDayHighlight($event.event, false)\"\n              mwlDroppable\n              dragOverClass=\"cal-drag-over\"\n              (drop)=\"\n                eventDropped(\n                  day,\n                  $event.dropData.event,\n                  $event.dropData.draggedFrom\n                )\n              \"\n              (eventClicked)=\"\n                eventClicked.emit({\n                  event: $event.event,\n                  sourceEvent: $event.sourceEvent\n                })\n              \"\n              [attr.tabindex]=\"{} | calendarA11y: 'monthCellTabIndex'\"\n            >\n            </mwl-calendar-month-cell>\n          </div>\n          <mwl-calendar-open-day-events\n            [locale]=\"locale\"\n            [isOpen]=\"openRowIndex === rowIndex\"\n            [events]=\"openDay?.events\"\n            [date]=\"openDay?.date\"\n            [customTemplate]=\"openDayEventsTemplate\"\n            [eventTitleTemplate]=\"eventTitleTemplate\"\n            [eventActionsTemplate]=\"eventActionsTemplate\"\n            (eventClicked)=\"\n              eventClicked.emit({\n                event: $event.event,\n                sourceEvent: $event.sourceEvent\n              })\n            \"\n            mwlDroppable\n            dragOverClass=\"cal-drag-over\"\n            (drop)=\"\n              eventDropped(\n                openDay,\n                $event.dropData.event,\n                $event.dropData.draggedFrom\n              )\n            \"\n          >\n          </mwl-calendar-open-day-events>\n        </div>\n      </div>\n    </div>\n  `\n    }),\n    __param(2, Inject(LOCALE_ID)),\n    __metadata(\"design:paramtypes\", [ChangeDetectorRef,\n        CalendarUtils, String, DateAdapter])\n], CalendarMonthViewComponent);\n\nlet CalendarMonthViewHeaderComponent = class CalendarMonthViewHeaderComponent {\n    constructor() {\n        this.columnHeaderClicked = new EventEmitter();\n        this.trackByWeekDayHeaderDate = trackByWeekDayHeaderDate;\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarMonthViewHeaderComponent.prototype, \"days\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarMonthViewHeaderComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthViewHeaderComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthViewHeaderComponent.prototype, \"columnHeaderClicked\", void 0);\nCalendarMonthViewHeaderComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-month-view-header',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-days=\"days\"\n      let-locale=\"locale\"\n      let-trackByWeekDayHeaderDate=\"trackByWeekDayHeaderDate\"\n    >\n      <div class=\"cal-cell-row cal-header\" role=\"row\">\n        <div\n          class=\"cal-cell\"\n          *ngFor=\"let day of days; trackBy: trackByWeekDayHeaderDate\"\n          [class.cal-past]=\"day.isPast\"\n          [class.cal-today]=\"day.isToday\"\n          [class.cal-future]=\"day.isFuture\"\n          [class.cal-weekend]=\"day.isWeekend\"\n          (click)=\"\n            columnHeaderClicked.emit({\n              isoDayNumber: day.day,\n              sourceEvent: $event\n            })\n          \"\n          [ngClass]=\"day.cssClass\"\n          tabindex=\"0\"\n          role=\"columnheader\"\n        >\n          {{ day.date | calendarDate: 'monthViewColumnHeader':locale }}\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        days: days,\n        locale: locale,\n        trackByWeekDayHeaderDate: trackByWeekDayHeaderDate\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarMonthViewHeaderComponent);\n\nlet CalendarMonthCellComponent = class CalendarMonthCellComponent {\n    constructor() {\n        this.highlightDay = new EventEmitter();\n        this.unhighlightDay = new EventEmitter();\n        this.eventClicked = new EventEmitter();\n        this.trackByEventId = trackByEventId;\n        this.validateDrag = isWithinThreshold;\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthCellComponent.prototype, \"day\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthCellComponent.prototype, \"openDay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarMonthCellComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthCellComponent.prototype, \"tooltipPlacement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarMonthCellComponent.prototype, \"tooltipAppendToBody\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthCellComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarMonthCellComponent.prototype, \"tooltipTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarMonthCellComponent.prototype, \"tooltipDelay\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], CalendarMonthCellComponent.prototype, \"highlightDay\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], CalendarMonthCellComponent.prototype, \"unhighlightDay\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarMonthCellComponent.prototype, \"eventClicked\", void 0);\nCalendarMonthCellComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-month-cell',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-day=\"day\"\n      let-openDay=\"openDay\"\n      let-locale=\"locale\"\n      let-tooltipPlacement=\"tooltipPlacement\"\n      let-highlightDay=\"highlightDay\"\n      let-unhighlightDay=\"unhighlightDay\"\n      let-eventClicked=\"eventClicked\"\n      let-tooltipTemplate=\"tooltipTemplate\"\n      let-tooltipAppendToBody=\"tooltipAppendToBody\"\n      let-tooltipDelay=\"tooltipDelay\"\n      let-trackByEventId=\"trackByEventId\"\n      let-validateDrag=\"validateDrag\"\n    >\n      <div\n        class=\"cal-cell-top\"\n        [attr.aria-label]=\"\n          { day: day, locale: locale } | calendarA11y: 'monthCell'\n        \"\n      >\n        <span aria-hidden=\"true\">\n          <span class=\"cal-day-badge\" *ngIf=\"day.badgeTotal > 0\">{{\n            day.badgeTotal\n          }}</span>\n          <span class=\"cal-day-number\">{{\n            day.date | calendarDate: 'monthViewDayNumber':locale\n          }}</span>\n        </span>\n      </div>\n      <div class=\"cal-events\" *ngIf=\"day.events.length > 0\">\n        <div\n          class=\"cal-event\"\n          *ngFor=\"let event of day.events; trackBy: trackByEventId\"\n          [ngStyle]=\"{ backgroundColor: event.color?.primary }\"\n          [ngClass]=\"event?.cssClass\"\n          (mouseenter)=\"highlightDay.emit({ event: event })\"\n          (mouseleave)=\"unhighlightDay.emit({ event: event })\"\n          [mwlCalendarTooltip]=\"\n            event.title | calendarEventTitle: 'monthTooltip':event\n          \"\n          [tooltipPlacement]=\"tooltipPlacement\"\n          [tooltipEvent]=\"event\"\n          [tooltipTemplate]=\"tooltipTemplate\"\n          [tooltipAppendToBody]=\"tooltipAppendToBody\"\n          [tooltipDelay]=\"tooltipDelay\"\n          mwlDraggable\n          [class.cal-draggable]=\"event.draggable\"\n          dragActiveClass=\"cal-drag-active\"\n          [dropData]=\"{ event: event, draggedFrom: day }\"\n          [dragAxis]=\"{ x: event.draggable, y: event.draggable }\"\n          [validateDrag]=\"validateDrag\"\n          [touchStartLongPress]=\"{ delay: 300, delta: 30 }\"\n          (mwlClick)=\"eventClicked.emit({ event: event, sourceEvent: $event })\"\n          [attr.aria-hidden]=\"{} | calendarA11y: 'hideMonthCellEvents'\"\n        ></div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        day: day,\n        openDay: openDay,\n        locale: locale,\n        tooltipPlacement: tooltipPlacement,\n        highlightDay: highlightDay,\n        unhighlightDay: unhighlightDay,\n        eventClicked: eventClicked,\n        tooltipTemplate: tooltipTemplate,\n        tooltipAppendToBody: tooltipAppendToBody,\n        tooltipDelay: tooltipDelay,\n        trackByEventId: trackByEventId,\n        validateDrag: validateDrag\n      }\"\n    >\n    </ng-template>\n  `,\n        host: {\n            class: 'cal-cell cal-day-cell',\n            '[class.cal-past]': 'day.isPast',\n            '[class.cal-today]': 'day.isToday',\n            '[class.cal-future]': 'day.isFuture',\n            '[class.cal-weekend]': 'day.isWeekend',\n            '[class.cal-in-month]': 'day.inMonth',\n            '[class.cal-out-month]': '!day.inMonth',\n            '[class.cal-has-events]': 'day.events.length > 0',\n            '[class.cal-open]': 'day === openDay',\n            '[class.cal-event-highlight]': '!!day.backgroundColor',\n        }\n    })\n], CalendarMonthCellComponent);\n\nconst collapseAnimation = trigger('collapse', [\n    state('void', style({\n        height: 0,\n        overflow: 'hidden',\n        'padding-top': 0,\n        'padding-bottom': 0,\n    })),\n    state('*', style({\n        height: '*',\n        overflow: 'hidden',\n        'padding-top': '*',\n        'padding-bottom': '*',\n    })),\n    transition('* => void', animate('150ms ease-out')),\n    transition('void => *', animate('150ms ease-in')),\n]);\nlet CalendarOpenDayEventsComponent = class CalendarOpenDayEventsComponent {\n    constructor() {\n        this.isOpen = false;\n        this.eventClicked = new EventEmitter();\n        this.trackByEventId = trackByEventId;\n        this.validateDrag = isWithinThreshold;\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarOpenDayEventsComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarOpenDayEventsComponent.prototype, \"isOpen\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarOpenDayEventsComponent.prototype, \"events\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarOpenDayEventsComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarOpenDayEventsComponent.prototype, \"eventTitleTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarOpenDayEventsComponent.prototype, \"eventActionsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarOpenDayEventsComponent.prototype, \"date\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarOpenDayEventsComponent.prototype, \"eventClicked\", void 0);\nCalendarOpenDayEventsComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-open-day-events',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-events=\"events\"\n      let-eventClicked=\"eventClicked\"\n      let-isOpen=\"isOpen\"\n      let-trackByEventId=\"trackByEventId\"\n      let-validateDrag=\"validateDrag\"\n    >\n      <div\n        class=\"cal-open-day-events\"\n        [@collapse]\n        *ngIf=\"isOpen\"\n        role=\"application\"\n      >\n        <span\n          tabindex=\"-1\"\n          role=\"alert\"\n          [attr.aria-label]=\"\n            { date: date, locale: locale } | calendarA11y: 'openDayEventsAlert'\n          \"\n        ></span>\n        <span\n          tabindex=\"0\"\n          role=\"landmark\"\n          [attr.aria-label]=\"\n            { date: date, locale: locale }\n              | calendarA11y: 'openDayEventsLandmark'\n          \"\n        ></span>\n        <div\n          *ngFor=\"let event of events; trackBy: trackByEventId\"\n          [ngClass]=\"event?.cssClass\"\n          mwlDraggable\n          [class.cal-draggable]=\"event.draggable\"\n          dragActiveClass=\"cal-drag-active\"\n          [dropData]=\"{ event: event }\"\n          [dragAxis]=\"{ x: event.draggable, y: event.draggable }\"\n          [validateDrag]=\"validateDrag\"\n          [touchStartLongPress]=\"{ delay: 300, delta: 30 }\"\n        >\n          <span\n            class=\"cal-event\"\n            [ngStyle]=\"{ backgroundColor: event.color?.primary }\"\n          >\n          </span>\n          &ngsp;\n          <mwl-calendar-event-title\n            [event]=\"event\"\n            [customTemplate]=\"eventTitleTemplate\"\n            view=\"month\"\n            (mwlClick)=\"\n              eventClicked.emit({ event: event, sourceEvent: $event })\n            \"\n            (mwlKeydownEnter)=\"\n              eventClicked.emit({ event: event, sourceEvent: $event })\n            \"\n            tabindex=\"0\"\n            [attr.aria-label]=\"\n              { event: event, locale: locale }\n                | calendarA11y: 'eventDescription'\n            \"\n          >\n          </mwl-calendar-event-title>\n          &ngsp;\n          <mwl-calendar-event-actions\n            [event]=\"event\"\n            [customTemplate]=\"eventActionsTemplate\"\n          >\n          </mwl-calendar-event-actions>\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        events: events,\n        eventClicked: eventClicked,\n        isOpen: isOpen,\n        trackByEventId: trackByEventId,\n        validateDrag: validateDrag\n      }\"\n    >\n    </ng-template>\n  `,\n        animations: [collapseAnimation]\n    })\n], CalendarOpenDayEventsComponent);\n\nlet CalendarMonthModule = class CalendarMonthModule {\n};\nCalendarMonthModule = __decorate([\n    NgModule({\n        imports: [CommonModule, DragAndDropModule, CalendarCommonModule],\n        declarations: [\n            CalendarMonthViewComponent,\n            CalendarMonthCellComponent,\n            CalendarOpenDayEventsComponent,\n            CalendarMonthViewHeaderComponent,\n        ],\n        exports: [\n            DragAndDropModule,\n            CalendarMonthViewComponent,\n            CalendarMonthCellComponent,\n            CalendarOpenDayEventsComponent,\n            CalendarMonthViewHeaderComponent,\n        ],\n    })\n], CalendarMonthModule);\n\nclass CalendarDragHelper {\n    constructor(dragContainerElement, draggableElement) {\n        this.dragContainerElement = dragContainerElement;\n        this.startPosition = draggableElement.getBoundingClientRect();\n    }\n    validateDrag({ x, y, snapDraggedEvents, dragAlreadyMoved, transform, }) {\n        if (snapDraggedEvents) {\n            const newRect = Object.assign({}, this.startPosition, {\n                left: this.startPosition.left + transform.x,\n                right: this.startPosition.right + transform.x,\n                top: this.startPosition.top + transform.y,\n                bottom: this.startPosition.bottom + transform.y,\n            });\n            return ((isWithinThreshold({ x, y }) || dragAlreadyMoved) &&\n                isInside(this.dragContainerElement.getBoundingClientRect(), newRect));\n        }\n        else {\n            return isWithinThreshold({ x, y }) || dragAlreadyMoved;\n        }\n    }\n}\n\nclass CalendarResizeHelper {\n    constructor(resizeContainerElement, minWidth) {\n        this.resizeContainerElement = resizeContainerElement;\n        this.minWidth = minWidth;\n    }\n    validateResize({ rectangle }) {\n        if (this.minWidth &&\n            Math.ceil(rectangle.width) < Math.ceil(this.minWidth)) {\n            return false;\n        }\n        return isInside(this.resizeContainerElement.getBoundingClientRect(), rectangle);\n    }\n}\n\n/**\n * Shows all events on a given week. Example usage:\n *\n * ```typescript\n * <mwl-calendar-week-view\n *  [viewDate]=\"viewDate\"\n *  [events]=\"events\">\n * </mwl-calendar-week-view>\n * ```\n */\nlet CalendarWeekViewComponent = class CalendarWeekViewComponent {\n    /**\n     * @hidden\n     */\n    constructor(cdr, utils, locale, dateAdapter) {\n        this.cdr = cdr;\n        this.utils = utils;\n        this.dateAdapter = dateAdapter;\n        /**\n         * An array of events to display on view\n         * The schema is available here: https://github.com/mattlewis92/calendar-utils/blob/c51689985f59a271940e30bc4e2c4e1fee3fcb5c/src/calendarUtils.ts#L49-L63\n         */\n        this.events = [];\n        /**\n         * An array of day indexes (0 = sunday, 1 = monday etc) that will be hidden on the view\n         */\n        this.excludeDays = [];\n        /**\n         * The placement of the event tooltip\n         */\n        this.tooltipPlacement = 'auto';\n        /**\n         * Whether to append tooltips to the body or next to the trigger element\n         */\n        this.tooltipAppendToBody = true;\n        /**\n         * The delay in milliseconds before the tooltip should be displayed. If not provided the tooltip\n         * will be displayed immediately.\n         */\n        this.tooltipDelay = null;\n        /**\n         * The precision to display events.\n         * `days` will round event start and end dates to the nearest day and `minutes` will not do this rounding\n         */\n        this.precision = 'days';\n        /**\n         * Whether to snap events to a grid when dragging\n         */\n        this.snapDraggedEvents = true;\n        /**\n         * The number of segments in an hour. Must divide equally into 60.\n         */\n        this.hourSegments = 2;\n        /**\n         * The height in pixels of each hour segment\n         */\n        this.hourSegmentHeight = 30;\n        /**\n         * The day start hours in 24 hour time. Must be 0-23\n         */\n        this.dayStartHour = 0;\n        /**\n         * The day start minutes. Must be 0-59\n         */\n        this.dayStartMinute = 0;\n        /**\n         * The day end hours in 24 hour time. Must be 0-23\n         */\n        this.dayEndHour = 23;\n        /**\n         * The day end minutes. Must be 0-59\n         */\n        this.dayEndMinute = 59;\n        /**\n         * Called when a header week day is clicked. Adding a `cssClass` property on `$event.day` will add that class to the header element\n         */\n        this.dayHeaderClicked = new EventEmitter();\n        /**\n         * Called when the event title is clicked\n         */\n        this.eventClicked = new EventEmitter();\n        /**\n         * Called when an event is resized or dragged and dropped\n         */\n        this.eventTimesChanged = new EventEmitter();\n        /**\n         * An output that will be called before the view is rendered for the current week.\n         * If you add the `cssClass` property to a day in the header it will add that class to the cell element in the template\n         */\n        this.beforeViewRender = new EventEmitter();\n        /**\n         * Called when an hour segment is clicked\n         */\n        this.hourSegmentClicked = new EventEmitter();\n        /**\n         * @hidden\n         */\n        this.allDayEventResizes = new Map();\n        /**\n         * @hidden\n         */\n        this.timeEventResizes = new Map();\n        /**\n         * @hidden\n         */\n        this.eventDragEnterByType = {\n            allDay: 0,\n            time: 0,\n        };\n        /**\n         * @hidden\n         */\n        this.dragActive = false;\n        /**\n         * @hidden\n         */\n        this.dragAlreadyMoved = false;\n        /**\n         * @hidden\n         */\n        this.calendarId = Symbol('angular calendar week view id');\n        /**\n         * @hidden\n         */\n        this.trackByWeekDayHeaderDate = trackByWeekDayHeaderDate;\n        /**\n         * @hidden\n         */\n        this.trackByHourSegment = trackByHourSegment;\n        /**\n         * @hidden\n         */\n        this.trackByHour = trackByHour;\n        /**\n         * @hidden\n         */\n        this.trackByWeekAllDayEvent = trackByWeekAllDayEvent;\n        /**\n         * @hidden\n         */\n        this.trackByWeekTimeEvent = trackByWeekTimeEvent;\n        /**\n         * @hidden\n         */\n        this.trackByHourColumn = (index, column) => column.hours[0] ? column.hours[0].segments[0].date.toISOString() : column;\n        /**\n         * @hidden\n         */\n        this.trackById = (index, row) => row.id;\n        this.locale = locale;\n    }\n    /**\n     * @hidden\n     */\n    ngOnInit() {\n        if (this.refresh) {\n            this.refreshSubscription = this.refresh.subscribe(() => {\n                this.refreshAll();\n                this.cdr.markForCheck();\n            });\n        }\n    }\n    /**\n     * @hidden\n     */\n    ngOnChanges(changes) {\n        const refreshHeader = changes.viewDate ||\n            changes.excludeDays ||\n            changes.weekendDays ||\n            changes.daysInWeek ||\n            changes.weekStartsOn;\n        const refreshBody = changes.viewDate ||\n            changes.dayStartHour ||\n            changes.dayStartMinute ||\n            changes.dayEndHour ||\n            changes.dayEndMinute ||\n            changes.hourSegments ||\n            changes.weekStartsOn ||\n            changes.weekendDays ||\n            changes.excludeDays ||\n            changes.hourSegmentHeight ||\n            changes.events ||\n            changes.daysInWeek;\n        if (refreshHeader) {\n            this.refreshHeader();\n        }\n        if (changes.events) {\n            validateEvents(this.events);\n        }\n        if (refreshBody) {\n            this.refreshBody();\n        }\n        if (refreshHeader || refreshBody) {\n            this.emitBeforeViewRender();\n        }\n    }\n    /**\n     * @hidden\n     */\n    ngOnDestroy() {\n        if (this.refreshSubscription) {\n            this.refreshSubscription.unsubscribe();\n        }\n    }\n    /**\n     * @hidden\n     */\n    timeEventResizeStarted(eventsContainer, timeEvent, resizeEvent) {\n        this.timeEventResizes.set(timeEvent.event, resizeEvent);\n        this.resizeStarted(eventsContainer);\n    }\n    /**\n     * @hidden\n     */\n    timeEventResizing(timeEvent, resizeEvent) {\n        this.timeEventResizes.set(timeEvent.event, resizeEvent);\n        const adjustedEvents = new Map();\n        const tempEvents = [...this.events];\n        this.timeEventResizes.forEach((lastResizeEvent, event) => {\n            const newEventDates = this.getTimeEventResizedDates(event, lastResizeEvent);\n            const adjustedEvent = Object.assign(Object.assign({}, event), newEventDates);\n            adjustedEvents.set(adjustedEvent, event);\n            const eventIndex = tempEvents.indexOf(event);\n            tempEvents[eventIndex] = adjustedEvent;\n        });\n        this.restoreOriginalEvents(tempEvents, adjustedEvents, true);\n    }\n    /**\n     * @hidden\n     */\n    timeEventResizeEnded(timeEvent) {\n        this.view = this.getWeekView(this.events);\n        const lastResizeEvent = this.timeEventResizes.get(timeEvent.event);\n        if (lastResizeEvent) {\n            this.timeEventResizes.delete(timeEvent.event);\n            const newEventDates = this.getTimeEventResizedDates(timeEvent.event, lastResizeEvent);\n            this.eventTimesChanged.emit({\n                newStart: newEventDates.start,\n                newEnd: newEventDates.end,\n                event: timeEvent.event,\n                type: CalendarEventTimesChangedEventType.Resize,\n            });\n        }\n    }\n    /**\n     * @hidden\n     */\n    allDayEventResizeStarted(allDayEventsContainer, allDayEvent, resizeEvent) {\n        this.allDayEventResizes.set(allDayEvent, {\n            originalOffset: allDayEvent.offset,\n            originalSpan: allDayEvent.span,\n            edge: typeof resizeEvent.edges.left !== 'undefined' ? 'left' : 'right',\n        });\n        this.resizeStarted(allDayEventsContainer, this.getDayColumnWidth(allDayEventsContainer));\n    }\n    /**\n     * @hidden\n     */\n    allDayEventResizing(allDayEvent, resizeEvent, dayWidth) {\n        const currentResize = this.allDayEventResizes.get(allDayEvent);\n        if (typeof resizeEvent.edges.left !== 'undefined') {\n            const diff = Math.round(+resizeEvent.edges.left / dayWidth);\n            allDayEvent.offset = currentResize.originalOffset + diff;\n            allDayEvent.span = currentResize.originalSpan - diff;\n        }\n        else if (typeof resizeEvent.edges.right !== 'undefined') {\n            const diff = Math.round(+resizeEvent.edges.right / dayWidth);\n            allDayEvent.span = currentResize.originalSpan + diff;\n        }\n    }\n    /**\n     * @hidden\n     */\n    allDayEventResizeEnded(allDayEvent) {\n        const currentResize = this.allDayEventResizes.get(allDayEvent);\n        if (currentResize) {\n            const allDayEventResizingBeforeStart = currentResize.edge === 'left';\n            let daysDiff;\n            if (allDayEventResizingBeforeStart) {\n                daysDiff = allDayEvent.offset - currentResize.originalOffset;\n            }\n            else {\n                daysDiff = allDayEvent.span - currentResize.originalSpan;\n            }\n            allDayEvent.offset = currentResize.originalOffset;\n            allDayEvent.span = currentResize.originalSpan;\n            let newStart = allDayEvent.event.start;\n            let newEnd = allDayEvent.event.end || allDayEvent.event.start;\n            if (allDayEventResizingBeforeStart) {\n                newStart = addDaysWithExclusions(this.dateAdapter, newStart, daysDiff, this.excludeDays);\n            }\n            else {\n                newEnd = addDaysWithExclusions(this.dateAdapter, newEnd, daysDiff, this.excludeDays);\n            }\n            this.eventTimesChanged.emit({\n                newStart,\n                newEnd,\n                event: allDayEvent.event,\n                type: CalendarEventTimesChangedEventType.Resize,\n            });\n            this.allDayEventResizes.delete(allDayEvent);\n        }\n    }\n    /**\n     * @hidden\n     */\n    getDayColumnWidth(eventRowContainer) {\n        return Math.floor(eventRowContainer.offsetWidth / this.days.length);\n    }\n    /**\n     * @hidden\n     */\n    dateDragEnter(date) {\n        this.lastDragEnterDate = date;\n    }\n    /**\n     * @hidden\n     */\n    eventDropped(dropEvent, date, allDay) {\n        if (shouldFireDroppedEvent(dropEvent, date, allDay, this.calendarId) &&\n            this.lastDragEnterDate.getTime() === date.getTime() &&\n            (!this.snapDraggedEvents ||\n                dropEvent.dropData.event !== this.lastDraggedEvent)) {\n            this.eventTimesChanged.emit({\n                type: CalendarEventTimesChangedEventType.Drop,\n                event: dropEvent.dropData.event,\n                newStart: date,\n                allDay,\n            });\n        }\n        this.lastDraggedEvent = null;\n    }\n    /**\n     * @hidden\n     */\n    dragEnter(type) {\n        this.eventDragEnterByType[type]++;\n    }\n    /**\n     * @hidden\n     */\n    dragLeave(type) {\n        this.eventDragEnterByType[type]--;\n    }\n    /**\n     * @hidden\n     */\n    dragStarted(eventsContainer, event, dayEvent) {\n        this.dayColumnWidth = this.getDayColumnWidth(eventsContainer);\n        const dragHelper = new CalendarDragHelper(eventsContainer, event);\n        this.validateDrag = ({ x, y, transform }) => this.allDayEventResizes.size === 0 &&\n            this.timeEventResizes.size === 0 &&\n            dragHelper.validateDrag({\n                x,\n                y,\n                snapDraggedEvents: this.snapDraggedEvents,\n                dragAlreadyMoved: this.dragAlreadyMoved,\n                transform,\n            });\n        this.dragActive = true;\n        this.dragAlreadyMoved = false;\n        this.lastDraggedEvent = null;\n        this.eventDragEnterByType = {\n            allDay: 0,\n            time: 0,\n        };\n        if (!this.snapDraggedEvents && dayEvent) {\n            this.view.hourColumns.forEach((column) => {\n                const linkedEvent = column.events.find((columnEvent) => columnEvent.event === dayEvent.event && columnEvent !== dayEvent);\n                // hide any linked events while dragging\n                if (linkedEvent) {\n                    linkedEvent.width = 0;\n                    linkedEvent.height = 0;\n                }\n            });\n        }\n        this.cdr.markForCheck();\n    }\n    /**\n     * @hidden\n     */\n    dragMove(dayEvent, dragEvent) {\n        const newEventTimes = this.getDragMovedEventTimes(dayEvent, dragEvent, this.dayColumnWidth, true);\n        const originalEvent = dayEvent.event;\n        const adjustedEvent = Object.assign(Object.assign({}, originalEvent), newEventTimes);\n        const tempEvents = this.events.map((event) => {\n            if (event === originalEvent) {\n                return adjustedEvent;\n            }\n            return event;\n        });\n        this.restoreOriginalEvents(tempEvents, new Map([[adjustedEvent, originalEvent]]), this.snapDraggedEvents);\n        this.dragAlreadyMoved = true;\n    }\n    /**\n     * @hidden\n     */\n    allDayEventDragMove() {\n        this.dragAlreadyMoved = true;\n    }\n    /**\n     * @hidden\n     */\n    dragEnded(weekEvent, dragEndEvent, dayWidth, useY = false) {\n        this.view = this.getWeekView(this.events);\n        this.dragActive = false;\n        this.validateDrag = null;\n        const { start, end } = this.getDragMovedEventTimes(weekEvent, dragEndEvent, dayWidth, useY);\n        if ((this.snapDraggedEvents ||\n            this.eventDragEnterByType[useY ? 'time' : 'allDay'] > 0) &&\n            isDraggedWithinPeriod(start, end, this.view.period)) {\n            this.lastDraggedEvent = weekEvent.event;\n            this.eventTimesChanged.emit({\n                newStart: start,\n                newEnd: end,\n                event: weekEvent.event,\n                type: CalendarEventTimesChangedEventType.Drag,\n                allDay: !useY,\n            });\n        }\n    }\n    refreshHeader() {\n        this.days = this.utils.getWeekViewHeader(Object.assign({ viewDate: this.viewDate, weekStartsOn: this.weekStartsOn, excluded: this.excludeDays, weekendDays: this.weekendDays }, getWeekViewPeriod(this.dateAdapter, this.viewDate, this.weekStartsOn, this.excludeDays, this.daysInWeek)));\n    }\n    refreshBody() {\n        this.view = this.getWeekView(this.events);\n    }\n    refreshAll() {\n        this.refreshHeader();\n        this.refreshBody();\n        this.emitBeforeViewRender();\n    }\n    emitBeforeViewRender() {\n        if (this.days && this.view) {\n            this.beforeViewRender.emit(Object.assign({ header: this.days }, this.view));\n        }\n    }\n    getWeekView(events) {\n        return this.utils.getWeekView(Object.assign({ events, viewDate: this.viewDate, weekStartsOn: this.weekStartsOn, excluded: this.excludeDays, precision: this.precision, absolutePositionedEvents: true, hourSegments: this.hourSegments, dayStart: {\n                hour: this.dayStartHour,\n                minute: this.dayStartMinute,\n            }, dayEnd: {\n                hour: this.dayEndHour,\n                minute: this.dayEndMinute,\n            }, segmentHeight: this.hourSegmentHeight, weekendDays: this.weekendDays }, getWeekViewPeriod(this.dateAdapter, this.viewDate, this.weekStartsOn, this.excludeDays, this.daysInWeek)));\n    }\n    getDragMovedEventTimes(weekEvent, dragEndEvent, dayWidth, useY) {\n        const daysDragged = roundToNearest(dragEndEvent.x, dayWidth) / dayWidth;\n        const minutesMoved = useY\n            ? getMinutesMoved(dragEndEvent.y, this.hourSegments, this.hourSegmentHeight, this.eventSnapSize)\n            : 0;\n        const start = this.dateAdapter.addMinutes(addDaysWithExclusions(this.dateAdapter, weekEvent.event.start, daysDragged, this.excludeDays), minutesMoved);\n        let end;\n        if (weekEvent.event.end) {\n            end = this.dateAdapter.addMinutes(addDaysWithExclusions(this.dateAdapter, weekEvent.event.end, daysDragged, this.excludeDays), minutesMoved);\n        }\n        return { start, end };\n    }\n    restoreOriginalEvents(tempEvents, adjustedEvents, snapDraggedEvents = true) {\n        const previousView = this.view;\n        if (snapDraggedEvents) {\n            this.view = this.getWeekView(tempEvents);\n        }\n        const adjustedEventsArray = tempEvents.filter((event) => adjustedEvents.has(event));\n        this.view.hourColumns.forEach((column, columnIndex) => {\n            previousView.hourColumns[columnIndex].hours.forEach((hour, hourIndex) => {\n                hour.segments.forEach((segment, segmentIndex) => {\n                    column.hours[hourIndex].segments[segmentIndex].cssClass =\n                        segment.cssClass;\n                });\n            });\n            adjustedEventsArray.forEach((adjustedEvent) => {\n                const originalEvent = adjustedEvents.get(adjustedEvent);\n                const existingColumnEvent = column.events.find((columnEvent) => columnEvent.event ===\n                    (snapDraggedEvents ? adjustedEvent : originalEvent));\n                if (existingColumnEvent) {\n                    // restore the original event so trackBy kicks in and the dom isn't changed\n                    existingColumnEvent.event = originalEvent;\n                    existingColumnEvent['tempEvent'] = adjustedEvent;\n                    if (!snapDraggedEvents) {\n                        existingColumnEvent.height = 0;\n                        existingColumnEvent.width = 0;\n                    }\n                }\n                else {\n                    // add a dummy event to the drop so if the event was removed from the original column the drag doesn't end early\n                    const event = {\n                        event: originalEvent,\n                        left: 0,\n                        top: 0,\n                        height: 0,\n                        width: 0,\n                        startsBeforeDay: false,\n                        endsAfterDay: false,\n                        tempEvent: adjustedEvent,\n                    };\n                    column.events.push(event);\n                }\n            });\n        });\n        adjustedEvents.clear();\n    }\n    getTimeEventResizedDates(calendarEvent, resizeEvent) {\n        const minimumEventHeight = getMinimumEventHeightInMinutes(this.hourSegments, this.hourSegmentHeight);\n        const newEventDates = {\n            start: calendarEvent.start,\n            end: getDefaultEventEnd(this.dateAdapter, calendarEvent, minimumEventHeight),\n        };\n        const { end } = calendarEvent, eventWithoutEnd = __rest(calendarEvent, [\"end\"]);\n        const smallestResizes = {\n            start: this.dateAdapter.addMinutes(newEventDates.end, minimumEventHeight * -1),\n            end: getDefaultEventEnd(this.dateAdapter, eventWithoutEnd, minimumEventHeight),\n        };\n        if (typeof resizeEvent.edges.left !== 'undefined') {\n            const daysDiff = Math.round(+resizeEvent.edges.left / this.dayColumnWidth);\n            const newStart = addDaysWithExclusions(this.dateAdapter, newEventDates.start, daysDiff, this.excludeDays);\n            if (newStart < smallestResizes.start) {\n                newEventDates.start = newStart;\n            }\n            else {\n                newEventDates.start = smallestResizes.start;\n            }\n        }\n        else if (typeof resizeEvent.edges.right !== 'undefined') {\n            const daysDiff = Math.round(+resizeEvent.edges.right / this.dayColumnWidth);\n            const newEnd = addDaysWithExclusions(this.dateAdapter, newEventDates.end, daysDiff, this.excludeDays);\n            if (newEnd > smallestResizes.end) {\n                newEventDates.end = newEnd;\n            }\n            else {\n                newEventDates.end = smallestResizes.end;\n            }\n        }\n        if (typeof resizeEvent.edges.top !== 'undefined') {\n            const minutesMoved = getMinutesMoved(resizeEvent.edges.top, this.hourSegments, this.hourSegmentHeight, this.eventSnapSize);\n            const newStart = this.dateAdapter.addMinutes(newEventDates.start, minutesMoved);\n            if (newStart < smallestResizes.start) {\n                newEventDates.start = newStart;\n            }\n            else {\n                newEventDates.start = smallestResizes.start;\n            }\n        }\n        else if (typeof resizeEvent.edges.bottom !== 'undefined') {\n            const minutesMoved = getMinutesMoved(resizeEvent.edges.bottom, this.hourSegments, this.hourSegmentHeight, this.eventSnapSize);\n            const newEnd = this.dateAdapter.addMinutes(newEventDates.end, minutesMoved);\n            if (newEnd > smallestResizes.end) {\n                newEventDates.end = newEnd;\n            }\n            else {\n                newEventDates.end = smallestResizes.end;\n            }\n        }\n        return newEventDates;\n    }\n    resizeStarted(eventsContainer, minWidth) {\n        this.dayColumnWidth = this.getDayColumnWidth(eventsContainer);\n        const resizeHelper = new CalendarResizeHelper(eventsContainer, minWidth);\n        this.validateResize = ({ rectangle }) => resizeHelper.validateResize({ rectangle });\n        this.cdr.markForCheck();\n    }\n};\nCalendarWeekViewComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef },\n    { type: CalendarUtils },\n    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] },\n    { type: DateAdapter }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarWeekViewComponent.prototype, \"viewDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarWeekViewComponent.prototype, \"events\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarWeekViewComponent.prototype, \"excludeDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Subject)\n], CalendarWeekViewComponent.prototype, \"refresh\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarWeekViewComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"tooltipPlacement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"tooltipTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarWeekViewComponent.prototype, \"tooltipAppendToBody\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"tooltipDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"weekStartsOn\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"headerTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"eventTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"eventTitleTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"eventActionsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarWeekViewComponent.prototype, \"precision\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarWeekViewComponent.prototype, \"weekendDays\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarWeekViewComponent.prototype, \"snapDraggedEvents\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"hourSegments\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"hourSegmentHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"dayStartHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"dayStartMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"dayEndHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"dayEndMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"hourSegmentTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"eventSnapSize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"allDayEventsLabelTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewComponent.prototype, \"daysInWeek\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewComponent.prototype, \"currentTimeMarkerTemplate\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"dayHeaderClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"eventClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"eventTimesChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"beforeViewRender\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewComponent.prototype, \"hourSegmentClicked\", void 0);\nCalendarWeekViewComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-week-view',\n        template: `\n    <div class=\"cal-week-view\" role=\"grid\">\n      <mwl-calendar-week-view-header\n        [days]=\"days\"\n        [locale]=\"locale\"\n        [customTemplate]=\"headerTemplate\"\n        (dayHeaderClicked)=\"dayHeaderClicked.emit($event)\"\n        (eventDropped)=\"\n          eventDropped({ dropData: $event }, $event.newStart, true)\n        \"\n        (dragEnter)=\"dateDragEnter($event.date)\"\n      >\n      </mwl-calendar-week-view-header>\n      <div\n        class=\"cal-all-day-events\"\n        #allDayEventsContainer\n        *ngIf=\"view.allDayEventRows.length > 0\"\n        mwlDroppable\n        (dragEnter)=\"dragEnter('allDay')\"\n        (dragLeave)=\"dragLeave('allDay')\"\n      >\n        <div class=\"cal-day-columns\">\n          <div\n            class=\"cal-time-label-column\"\n            [ngTemplateOutlet]=\"allDayEventsLabelTemplate\"\n          ></div>\n          <div\n            class=\"cal-day-column\"\n            *ngFor=\"let day of days; trackBy: trackByWeekDayHeaderDate\"\n            mwlDroppable\n            dragOverClass=\"cal-drag-over\"\n            (drop)=\"eventDropped($event, day.date, true)\"\n            (dragEnter)=\"dateDragEnter(day.date)\"\n          ></div>\n        </div>\n        <div\n          *ngFor=\"let eventRow of view.allDayEventRows; trackBy: trackById\"\n          #eventRowContainer\n          class=\"cal-events-row\"\n        >\n          <div\n            *ngFor=\"\n              let allDayEvent of eventRow.row;\n              trackBy: trackByWeekAllDayEvent\n            \"\n            #event\n            class=\"cal-event-container\"\n            [class.cal-draggable]=\"\n              allDayEvent.event.draggable && allDayEventResizes.size === 0\n            \"\n            [class.cal-starts-within-week]=\"!allDayEvent.startsBeforeWeek\"\n            [class.cal-ends-within-week]=\"!allDayEvent.endsAfterWeek\"\n            [ngClass]=\"allDayEvent.event?.cssClass\"\n            [style.width.%]=\"(100 / days.length) * allDayEvent.span\"\n            [style.marginLeft.%]=\"(100 / days.length) * allDayEvent.offset\"\n            mwlResizable\n            [resizeSnapGrid]=\"{ left: dayColumnWidth, right: dayColumnWidth }\"\n            [validateResize]=\"validateResize\"\n            (resizeStart)=\"\n              allDayEventResizeStarted(eventRowContainer, allDayEvent, $event)\n            \"\n            (resizing)=\"\n              allDayEventResizing(allDayEvent, $event, dayColumnWidth)\n            \"\n            (resizeEnd)=\"allDayEventResizeEnded(allDayEvent)\"\n            mwlDraggable\n            dragActiveClass=\"cal-drag-active\"\n            [dropData]=\"{ event: allDayEvent.event, calendarId: calendarId }\"\n            [dragAxis]=\"{\n              x: allDayEvent.event.draggable && allDayEventResizes.size === 0,\n              y:\n                !snapDraggedEvents &&\n                allDayEvent.event.draggable &&\n                allDayEventResizes.size === 0\n            }\"\n            [dragSnapGrid]=\"snapDraggedEvents ? { x: dayColumnWidth } : {}\"\n            [validateDrag]=\"validateDrag\"\n            [touchStartLongPress]=\"{ delay: 300, delta: 30 }\"\n            (dragStart)=\"dragStarted(eventRowContainer, event)\"\n            (dragging)=\"allDayEventDragMove()\"\n            (dragEnd)=\"dragEnded(allDayEvent, $event, dayColumnWidth)\"\n          >\n            <div\n              class=\"cal-resize-handle cal-resize-handle-before-start\"\n              *ngIf=\"\n                allDayEvent.event?.resizable?.beforeStart &&\n                !allDayEvent.startsBeforeWeek\n              \"\n              mwlResizeHandle\n              [resizeEdges]=\"{ left: true }\"\n            ></div>\n            <mwl-calendar-week-view-event\n              [locale]=\"locale\"\n              [weekEvent]=\"allDayEvent\"\n              [tooltipPlacement]=\"tooltipPlacement\"\n              [tooltipTemplate]=\"tooltipTemplate\"\n              [tooltipAppendToBody]=\"tooltipAppendToBody\"\n              [tooltipDelay]=\"tooltipDelay\"\n              [customTemplate]=\"eventTemplate\"\n              [eventTitleTemplate]=\"eventTitleTemplate\"\n              [eventActionsTemplate]=\"eventActionsTemplate\"\n              [daysInWeek]=\"daysInWeek\"\n              (eventClicked)=\"\n                eventClicked.emit({\n                  event: allDayEvent.event,\n                  sourceEvent: $event.sourceEvent\n                })\n              \"\n            >\n            </mwl-calendar-week-view-event>\n            <div\n              class=\"cal-resize-handle cal-resize-handle-after-end\"\n              *ngIf=\"\n                allDayEvent.event?.resizable?.afterEnd &&\n                !allDayEvent.endsAfterWeek\n              \"\n              mwlResizeHandle\n              [resizeEdges]=\"{ right: true }\"\n            ></div>\n          </div>\n        </div>\n      </div>\n      <div\n        class=\"cal-time-events\"\n        mwlDroppable\n        (dragEnter)=\"dragEnter('time')\"\n        (dragLeave)=\"dragLeave('time')\"\n      >\n        <div\n          class=\"cal-time-label-column\"\n          *ngIf=\"view.hourColumns.length > 0 && daysInWeek !== 1\"\n        >\n          <div\n            *ngFor=\"\n              let hour of view.hourColumns[0].hours;\n              trackBy: trackByHour;\n              let odd = odd\n            \"\n            class=\"cal-hour\"\n            [class.cal-hour-odd]=\"odd\"\n          >\n            <mwl-calendar-week-view-hour-segment\n              *ngFor=\"let segment of hour.segments; trackBy: trackByHourSegment\"\n              [style.height.px]=\"hourSegmentHeight\"\n              [segment]=\"segment\"\n              [segmentHeight]=\"hourSegmentHeight\"\n              [locale]=\"locale\"\n              [customTemplate]=\"hourSegmentTemplate\"\n              [isTimeLabel]=\"true\"\n              [daysInWeek]=\"daysInWeek\"\n            >\n            </mwl-calendar-week-view-hour-segment>\n          </div>\n        </div>\n        <div\n          class=\"cal-day-columns\"\n          [class.cal-resize-active]=\"timeEventResizes.size > 0\"\n          #dayColumns\n        >\n          <div\n            class=\"cal-day-column\"\n            *ngFor=\"let column of view.hourColumns; trackBy: trackByHourColumn\"\n          >\n            <mwl-calendar-week-view-current-time-marker\n              [columnDate]=\"column.date\"\n              [dayStartHour]=\"dayStartHour\"\n              [dayStartMinute]=\"dayStartMinute\"\n              [dayEndHour]=\"dayEndHour\"\n              [dayEndMinute]=\"dayEndMinute\"\n              [hourSegments]=\"hourSegments\"\n              [hourSegmentHeight]=\"hourSegmentHeight\"\n              [customTemplate]=\"currentTimeMarkerTemplate\"\n            ></mwl-calendar-week-view-current-time-marker>\n            <div class=\"cal-events-container\">\n              <div\n                *ngFor=\"\n                  let timeEvent of column.events;\n                  trackBy: trackByWeekTimeEvent\n                \"\n                #event\n                class=\"cal-event-container\"\n                [class.cal-draggable]=\"\n                  timeEvent.event.draggable && timeEventResizes.size === 0\n                \"\n                [class.cal-starts-within-day]=\"!timeEvent.startsBeforeDay\"\n                [class.cal-ends-within-day]=\"!timeEvent.endsAfterDay\"\n                [ngClass]=\"timeEvent.event.cssClass\"\n                [hidden]=\"timeEvent.height === 0 && timeEvent.width === 0\"\n                [style.top.px]=\"timeEvent.top\"\n                [style.height.px]=\"timeEvent.height\"\n                [style.left.%]=\"timeEvent.left\"\n                [style.width.%]=\"timeEvent.width\"\n                mwlResizable\n                [resizeSnapGrid]=\"{\n                  left: dayColumnWidth,\n                  right: dayColumnWidth,\n                  top: eventSnapSize || hourSegmentHeight,\n                  bottom: eventSnapSize || hourSegmentHeight\n                }\"\n                [validateResize]=\"validateResize\"\n                [allowNegativeResizes]=\"true\"\n                (resizeStart)=\"\n                  timeEventResizeStarted(dayColumns, timeEvent, $event)\n                \"\n                (resizing)=\"timeEventResizing(timeEvent, $event)\"\n                (resizeEnd)=\"timeEventResizeEnded(timeEvent)\"\n                mwlDraggable\n                dragActiveClass=\"cal-drag-active\"\n                [dropData]=\"{ event: timeEvent.event, calendarId: calendarId }\"\n                [dragAxis]=\"{\n                  x: timeEvent.event.draggable && timeEventResizes.size === 0,\n                  y: timeEvent.event.draggable && timeEventResizes.size === 0\n                }\"\n                [dragSnapGrid]=\"\n                  snapDraggedEvents\n                    ? {\n                        x: dayColumnWidth,\n                        y: eventSnapSize || hourSegmentHeight\n                      }\n                    : {}\n                \"\n                [touchStartLongPress]=\"{ delay: 300, delta: 30 }\"\n                [ghostDragEnabled]=\"!snapDraggedEvents\"\n                [ghostElementTemplate]=\"weekEventTemplate\"\n                [validateDrag]=\"validateDrag\"\n                (dragStart)=\"dragStarted(dayColumns, event, timeEvent)\"\n                (dragging)=\"dragMove(timeEvent, $event)\"\n                (dragEnd)=\"dragEnded(timeEvent, $event, dayColumnWidth, true)\"\n              >\n                <div\n                  class=\"cal-resize-handle cal-resize-handle-before-start\"\n                  *ngIf=\"\n                    timeEvent.event?.resizable?.beforeStart &&\n                    !timeEvent.startsBeforeDay\n                  \"\n                  mwlResizeHandle\n                  [resizeEdges]=\"{\n                    left: true,\n                    top: true\n                  }\"\n                ></div>\n                <ng-template\n                  [ngTemplateOutlet]=\"weekEventTemplate\"\n                ></ng-template>\n                <ng-template #weekEventTemplate>\n                  <mwl-calendar-week-view-event\n                    [locale]=\"locale\"\n                    [weekEvent]=\"timeEvent\"\n                    [tooltipPlacement]=\"tooltipPlacement\"\n                    [tooltipTemplate]=\"tooltipTemplate\"\n                    [tooltipAppendToBody]=\"tooltipAppendToBody\"\n                    [tooltipDisabled]=\"dragActive || timeEventResizes.size > 0\"\n                    [tooltipDelay]=\"tooltipDelay\"\n                    [customTemplate]=\"eventTemplate\"\n                    [eventTitleTemplate]=\"eventTitleTemplate\"\n                    [eventActionsTemplate]=\"eventActionsTemplate\"\n                    [column]=\"column\"\n                    [daysInWeek]=\"daysInWeek\"\n                    (eventClicked)=\"\n                      eventClicked.emit({\n                        event: timeEvent.event,\n                        sourceEvent: $event.sourceEvent\n                      })\n                    \"\n                  >\n                  </mwl-calendar-week-view-event>\n                </ng-template>\n                <div\n                  class=\"cal-resize-handle cal-resize-handle-after-end\"\n                  *ngIf=\"\n                    timeEvent.event?.resizable?.afterEnd &&\n                    !timeEvent.endsAfterDay\n                  \"\n                  mwlResizeHandle\n                  [resizeEdges]=\"{\n                    right: true,\n                    bottom: true\n                  }\"\n                ></div>\n              </div>\n            </div>\n\n            <div\n              *ngFor=\"\n                let hour of column.hours;\n                trackBy: trackByHour;\n                let odd = odd\n              \"\n              class=\"cal-hour\"\n              [class.cal-hour-odd]=\"odd\"\n            >\n              <mwl-calendar-week-view-hour-segment\n                *ngFor=\"\n                  let segment of hour.segments;\n                  trackBy: trackByHourSegment\n                \"\n                [style.height.px]=\"hourSegmentHeight\"\n                [segment]=\"segment\"\n                [segmentHeight]=\"hourSegmentHeight\"\n                [locale]=\"locale\"\n                [customTemplate]=\"hourSegmentTemplate\"\n                [daysInWeek]=\"daysInWeek\"\n                (mwlClick)=\"\n                  hourSegmentClicked.emit({\n                    date: segment.date,\n                    sourceEvent: $event\n                  })\n                \"\n                [clickListenerDisabled]=\"\n                  hourSegmentClicked.observers.length === 0\n                \"\n                mwlDroppable\n                [dragOverClass]=\"\n                  !dragActive || !snapDraggedEvents ? 'cal-drag-over' : null\n                \"\n                dragActiveClass=\"cal-drag-active\"\n                (drop)=\"eventDropped($event, segment.date, false)\"\n                (dragEnter)=\"dateDragEnter(segment.date)\"\n                [isTimeLabel]=\"daysInWeek === 1\"\n              >\n              </mwl-calendar-week-view-hour-segment>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n    }),\n    __param(2, Inject(LOCALE_ID)),\n    __metadata(\"design:paramtypes\", [ChangeDetectorRef,\n        CalendarUtils, String, DateAdapter])\n], CalendarWeekViewComponent);\n\nlet CalendarWeekViewHeaderComponent = class CalendarWeekViewHeaderComponent {\n    constructor() {\n        this.dayHeaderClicked = new EventEmitter();\n        this.eventDropped = new EventEmitter();\n        this.dragEnter = new EventEmitter();\n        this.trackByWeekDayHeaderDate = trackByWeekDayHeaderDate;\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarWeekViewHeaderComponent.prototype, \"days\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarWeekViewHeaderComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewHeaderComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewHeaderComponent.prototype, \"dayHeaderClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewHeaderComponent.prototype, \"eventDropped\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewHeaderComponent.prototype, \"dragEnter\", void 0);\nCalendarWeekViewHeaderComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-week-view-header',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-days=\"days\"\n      let-locale=\"locale\"\n      let-dayHeaderClicked=\"dayHeaderClicked\"\n      let-eventDropped=\"eventDropped\"\n      let-trackByWeekDayHeaderDate=\"trackByWeekDayHeaderDate\"\n      let-dragEnter=\"dragEnter\"\n    >\n      <div class=\"cal-day-headers\" role=\"row\">\n        <div\n          class=\"cal-header\"\n          *ngFor=\"let day of days; trackBy: trackByWeekDayHeaderDate\"\n          [class.cal-past]=\"day.isPast\"\n          [class.cal-today]=\"day.isToday\"\n          [class.cal-future]=\"day.isFuture\"\n          [class.cal-weekend]=\"day.isWeekend\"\n          [ngClass]=\"day.cssClass\"\n          (mwlClick)=\"dayHeaderClicked.emit({ day: day, sourceEvent: $event })\"\n          mwlDroppable\n          dragOverClass=\"cal-drag-over\"\n          (drop)=\"\n            eventDropped.emit({\n              event: $event.dropData.event,\n              newStart: day.date\n            })\n          \"\n          (dragEnter)=\"dragEnter.emit({ date: day.date })\"\n          tabindex=\"0\"\n          role=\"columnheader\"\n        >\n          <b>{{ day.date | calendarDate: 'weekViewColumnHeader':locale }}</b\n          ><br />\n          <span>{{\n            day.date | calendarDate: 'weekViewColumnSubHeader':locale\n          }}</span>\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        days: days,\n        locale: locale,\n        dayHeaderClicked: dayHeaderClicked,\n        eventDropped: eventDropped,\n        dragEnter: dragEnter,\n        trackByWeekDayHeaderDate: trackByWeekDayHeaderDate\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarWeekViewHeaderComponent);\n\nlet CalendarWeekViewEventComponent = class CalendarWeekViewEventComponent {\n    constructor() {\n        this.eventClicked = new EventEmitter();\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarWeekViewEventComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewEventComponent.prototype, \"weekEvent\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewEventComponent.prototype, \"tooltipPlacement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarWeekViewEventComponent.prototype, \"tooltipAppendToBody\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarWeekViewEventComponent.prototype, \"tooltipDisabled\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewEventComponent.prototype, \"tooltipDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewEventComponent.prototype, \"customTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewEventComponent.prototype, \"eventTitleTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewEventComponent.prototype, \"eventActionsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewEventComponent.prototype, \"tooltipTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewEventComponent.prototype, \"column\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewEventComponent.prototype, \"daysInWeek\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewEventComponent.prototype, \"eventClicked\", void 0);\nCalendarWeekViewEventComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-week-view-event',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-weekEvent=\"weekEvent\"\n      let-tooltipPlacement=\"tooltipPlacement\"\n      let-eventClicked=\"eventClicked\"\n      let-tooltipTemplate=\"tooltipTemplate\"\n      let-tooltipAppendToBody=\"tooltipAppendToBody\"\n      let-tooltipDisabled=\"tooltipDisabled\"\n      let-tooltipDelay=\"tooltipDelay\"\n      let-column=\"column\"\n      let-daysInWeek=\"daysInWeek\"\n    >\n      <div\n        class=\"cal-event\"\n        [ngStyle]=\"{\n          backgroundColor: weekEvent.event.color?.secondary,\n          borderColor: weekEvent.event.color?.primary\n        }\"\n        [mwlCalendarTooltip]=\"\n          !tooltipDisabled\n            ? (weekEvent.event.title\n              | calendarEventTitle\n                : (daysInWeek === 1 ? 'dayTooltip' : 'weekTooltip')\n                : weekEvent.tempEvent || weekEvent.event)\n            : ''\n        \"\n        [tooltipPlacement]=\"tooltipPlacement\"\n        [tooltipEvent]=\"weekEvent.tempEvent || weekEvent.event\"\n        [tooltipTemplate]=\"tooltipTemplate\"\n        [tooltipAppendToBody]=\"tooltipAppendToBody\"\n        [tooltipDelay]=\"tooltipDelay\"\n        (mwlClick)=\"eventClicked.emit({ sourceEvent: $event })\"\n        (mwlKeydownEnter)=\"eventClicked.emit({ sourceEvent: $event })\"\n        tabindex=\"0\"\n        role=\"application\"\n        [attr.aria-label]=\"\n          { event: weekEvent.tempEvent || weekEvent.event, locale: locale }\n            | calendarA11y: 'eventDescription'\n        \"\n      >\n        <mwl-calendar-event-actions\n          [event]=\"weekEvent.tempEvent || weekEvent.event\"\n          [customTemplate]=\"eventActionsTemplate\"\n        >\n        </mwl-calendar-event-actions>\n        &ngsp;\n        <mwl-calendar-event-title\n          [event]=\"weekEvent.tempEvent || weekEvent.event\"\n          [customTemplate]=\"eventTitleTemplate\"\n          [view]=\"daysInWeek === 1 ? 'day' : 'week'\"\n        >\n        </mwl-calendar-event-title>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        weekEvent: weekEvent,\n        tooltipPlacement: tooltipPlacement,\n        eventClicked: eventClicked,\n        tooltipTemplate: tooltipTemplate,\n        tooltipAppendToBody: tooltipAppendToBody,\n        tooltipDisabled: tooltipDisabled,\n        tooltipDelay: tooltipDelay,\n        column: column,\n        daysInWeek: daysInWeek\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarWeekViewEventComponent);\n\nlet CalendarWeekViewHourSegmentComponent = class CalendarWeekViewHourSegmentComponent {\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarWeekViewHourSegmentComponent.prototype, \"segment\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewHourSegmentComponent.prototype, \"segmentHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarWeekViewHourSegmentComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarWeekViewHourSegmentComponent.prototype, \"isTimeLabel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewHourSegmentComponent.prototype, \"daysInWeek\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewHourSegmentComponent.prototype, \"customTemplate\", void 0);\nCalendarWeekViewHourSegmentComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-week-view-hour-segment',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-segment=\"segment\"\n      let-locale=\"locale\"\n      let-segmentHeight=\"segmentHeight\"\n      let-isTimeLabel=\"isTimeLabel\"\n      let-daysInWeek=\"daysInWeek\"\n    >\n      <div\n        [attr.aria-hidden]=\"\n          {}\n            | calendarA11y\n              : (daysInWeek === 1\n                  ? 'hideDayHourSegment'\n                  : 'hideWeekHourSegment')\n        \"\n        class=\"cal-hour-segment\"\n        [style.height.px]=\"segmentHeight\"\n        [class.cal-hour-start]=\"segment.isStart\"\n        [class.cal-after-hour-start]=\"!segment.isStart\"\n        [ngClass]=\"segment.cssClass\"\n      >\n        <div class=\"cal-time\" *ngIf=\"isTimeLabel\">\n          {{\n            segment.displayDate\n              | calendarDate\n                : (daysInWeek === 1 ? 'dayViewHour' : 'weekViewHour')\n                : locale\n          }}\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        segment: segment,\n        locale: locale,\n        segmentHeight: segmentHeight,\n        isTimeLabel: isTimeLabel,\n        daysInWeek: daysInWeek\n      }\"\n    >\n    </ng-template>\n  `\n    })\n], CalendarWeekViewHourSegmentComponent);\n\nlet CalendarWeekViewCurrentTimeMarkerComponent = class CalendarWeekViewCurrentTimeMarkerComponent {\n    constructor(dateAdapter, zone) {\n        this.dateAdapter = dateAdapter;\n        this.zone = zone;\n        this.columnDate$ = new BehaviorSubject(this.columnDate);\n        this.marker$ = this.zone.onStable.pipe(switchMap(() => interval(60 * 1000)), startWith(0), switchMapTo(this.columnDate$), map((columnDate) => {\n            const startOfDay = this.dateAdapter.setMinutes(this.dateAdapter.setHours(columnDate, this.dayStartHour), this.dayStartMinute);\n            const endOfDay = this.dateAdapter.setMinutes(this.dateAdapter.setHours(columnDate, this.dayEndHour), this.dayEndMinute);\n            const hourHeightModifier = (this.hourSegments * this.hourSegmentHeight) / 60;\n            const now = new Date();\n            return {\n                isVisible: this.dateAdapter.isSameDay(columnDate, now) &&\n                    now >= startOfDay &&\n                    now <= endOfDay,\n                top: this.dateAdapter.differenceInMinutes(now, startOfDay) *\n                    hourHeightModifier,\n            };\n        }));\n    }\n    ngOnChanges(changes) {\n        if (changes.columnDate) {\n            this.columnDate$.next(changes.columnDate.currentValue);\n        }\n    }\n};\nCalendarWeekViewCurrentTimeMarkerComponent.ctorParameters = () => [\n    { type: DateAdapter },\n    { type: NgZone }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"columnDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"dayStartHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"dayStartMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"dayEndHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"dayEndMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"hourSegments\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"hourSegmentHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarWeekViewCurrentTimeMarkerComponent.prototype, \"customTemplate\", void 0);\nCalendarWeekViewCurrentTimeMarkerComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-week-view-current-time-marker',\n        template: `\n    <ng-template\n      #defaultTemplate\n      let-columnDate=\"columnDate\"\n      let-dayStartHour=\"dayStartHour\"\n      let-dayStartMinute=\"dayStartMinute\"\n      let-dayEndHour=\"dayEndHour\"\n      let-dayEndMinute=\"dayEndMinute\"\n      let-isVisible=\"isVisible\"\n      let-topPx=\"topPx\"\n    >\n      <div\n        class=\"cal-current-time-marker\"\n        *ngIf=\"isVisible\"\n        [style.top.px]=\"topPx\"\n      ></div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        columnDate: columnDate,\n        dayStartHour: dayStartHour,\n        dayStartMinute: dayStartMinute,\n        dayEndHour: dayEndHour,\n        dayEndMinute: dayEndMinute,\n        isVisible: (marker$ | async)?.isVisible,\n        topPx: (marker$ | async)?.top\n      }\"\n    >\n    </ng-template>\n  `\n    }),\n    __metadata(\"design:paramtypes\", [DateAdapter, NgZone])\n], CalendarWeekViewCurrentTimeMarkerComponent);\n\nlet CalendarWeekModule = class CalendarWeekModule {\n};\nCalendarWeekModule = __decorate([\n    NgModule({\n        imports: [\n            CommonModule,\n            ResizableModule,\n            DragAndDropModule,\n            CalendarCommonModule,\n        ],\n        declarations: [\n            CalendarWeekViewComponent,\n            CalendarWeekViewHeaderComponent,\n            CalendarWeekViewEventComponent,\n            CalendarWeekViewHourSegmentComponent,\n            CalendarWeekViewCurrentTimeMarkerComponent,\n        ],\n        exports: [\n            ResizableModule,\n            DragAndDropModule,\n            CalendarWeekViewComponent,\n            CalendarWeekViewHeaderComponent,\n            CalendarWeekViewEventComponent,\n            CalendarWeekViewHourSegmentComponent,\n            CalendarWeekViewCurrentTimeMarkerComponent,\n        ],\n    })\n], CalendarWeekModule);\n\n/**\n * Shows all events on a given day. Example usage:\n *\n * ```typescript\n * <mwl-calendar-day-view\n *  [viewDate]=\"viewDate\"\n *  [events]=\"events\">\n * </mwl-calendar-day-view>\n * ```\n */\nlet CalendarDayViewComponent = class CalendarDayViewComponent {\n    constructor() {\n        /**\n         * An array of events to display on view\n         * The schema is available here: https://github.com/mattlewis92/calendar-utils/blob/c51689985f59a271940e30bc4e2c4e1fee3fcb5c/src/calendarUtils.ts#L49-L63\n         */\n        this.events = [];\n        /**\n         * The number of segments in an hour. Must divide equally into 60.\n         */\n        this.hourSegments = 2;\n        /**\n         * The height in pixels of each hour segment\n         */\n        this.hourSegmentHeight = 30;\n        /**\n         * The day start hours in 24 hour time. Must be 0-23\n         */\n        this.dayStartHour = 0;\n        /**\n         * The day start minutes. Must be 0-59\n         */\n        this.dayStartMinute = 0;\n        /**\n         * The day end hours in 24 hour time. Must be 0-23\n         */\n        this.dayEndHour = 23;\n        /**\n         * The day end minutes. Must be 0-59\n         */\n        this.dayEndMinute = 59;\n        /**\n         * The placement of the event tooltip\n         */\n        this.tooltipPlacement = 'auto';\n        /**\n         * Whether to append tooltips to the body or next to the trigger element\n         */\n        this.tooltipAppendToBody = true;\n        /**\n         * The delay in milliseconds before the tooltip should be displayed. If not provided the tooltip\n         * will be displayed immediately.\n         */\n        this.tooltipDelay = null;\n        /**\n         * Whether to snap events to a grid when dragging\n         */\n        this.snapDraggedEvents = true;\n        /**\n         * Called when an event title is clicked\n         */\n        this.eventClicked = new EventEmitter();\n        /**\n         * Called when an hour segment is clicked\n         */\n        this.hourSegmentClicked = new EventEmitter();\n        /**\n         * Called when an event is resized or dragged and dropped\n         */\n        this.eventTimesChanged = new EventEmitter();\n        /**\n         * An output that will be called before the view is rendered for the current day.\n         * If you add the `cssClass` property to an hour grid segment it will add that class to the hour segment in the template\n         */\n        this.beforeViewRender = new EventEmitter();\n    }\n};\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Date)\n], CalendarDayViewComponent.prototype, \"viewDate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], CalendarDayViewComponent.prototype, \"events\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"hourSegments\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"hourSegmentHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"dayStartHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"dayStartMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"dayEndHour\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"dayEndMinute\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Subject)\n], CalendarDayViewComponent.prototype, \"refresh\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CalendarDayViewComponent.prototype, \"locale\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"eventSnapSize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CalendarDayViewComponent.prototype, \"tooltipPlacement\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"tooltipTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarDayViewComponent.prototype, \"tooltipAppendToBody\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CalendarDayViewComponent.prototype, \"tooltipDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"hourSegmentTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"eventTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"eventTitleTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"eventActionsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], CalendarDayViewComponent.prototype, \"snapDraggedEvents\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"allDayEventsLabelTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", TemplateRef)\n], CalendarDayViewComponent.prototype, \"currentTimeMarkerTemplate\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarDayViewComponent.prototype, \"eventClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarDayViewComponent.prototype, \"hourSegmentClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarDayViewComponent.prototype, \"eventTimesChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CalendarDayViewComponent.prototype, \"beforeViewRender\", void 0);\nCalendarDayViewComponent = __decorate([\n    Component({\n        selector: 'mwl-calendar-day-view',\n        template: `\n    <mwl-calendar-week-view\n      class=\"cal-day-view\"\n      [daysInWeek]=\"1\"\n      [viewDate]=\"viewDate\"\n      [events]=\"events\"\n      [hourSegments]=\"hourSegments\"\n      [hourSegmentHeight]=\"hourSegmentHeight\"\n      [dayStartHour]=\"dayStartHour\"\n      [dayStartMinute]=\"dayStartMinute\"\n      [dayEndHour]=\"dayEndHour\"\n      [dayEndMinute]=\"dayEndMinute\"\n      [refresh]=\"refresh\"\n      [locale]=\"locale\"\n      [eventSnapSize]=\"eventSnapSize\"\n      [tooltipPlacement]=\"tooltipPlacement\"\n      [tooltipTemplate]=\"tooltipTemplate\"\n      [tooltipAppendToBody]=\"tooltipAppendToBody\"\n      [tooltipDelay]=\"tooltipDelay\"\n      [hourSegmentTemplate]=\"hourSegmentTemplate\"\n      [eventTemplate]=\"eventTemplate\"\n      [eventTitleTemplate]=\"eventTitleTemplate\"\n      [eventActionsTemplate]=\"eventActionsTemplate\"\n      [snapDraggedEvents]=\"snapDraggedEvents\"\n      [allDayEventsLabelTemplate]=\"allDayEventsLabelTemplate\"\n      [currentTimeMarkerTemplate]=\"currentTimeMarkerTemplate\"\n      (eventClicked)=\"eventClicked.emit($event)\"\n      (hourSegmentClicked)=\"hourSegmentClicked.emit($event)\"\n      (eventTimesChanged)=\"eventTimesChanged.emit($event)\"\n      (beforeViewRender)=\"beforeViewRender.emit($event)\"\n    ></mwl-calendar-week-view>\n  `\n    })\n], CalendarDayViewComponent);\n\nlet CalendarDayModule = class CalendarDayModule {\n};\nCalendarDayModule = __decorate([\n    NgModule({\n        imports: [CommonModule, CalendarCommonModule, CalendarWeekModule],\n        declarations: [CalendarDayViewComponent],\n        exports: [CalendarDayViewComponent],\n    })\n], CalendarDayModule);\n\nvar CalendarModule_1;\n/**\n * The main module of this library. Example usage:\n *\n * ```typescript\n * import { CalenderModule } from 'angular-calendar';\n *\n * @NgModule({\n *   imports: [\n *     CalenderModule.forRoot()\n *   ]\n * })\n * class MyModule {}\n * ```\n *\n */\nlet CalendarModule = CalendarModule_1 = class CalendarModule {\n    static forRoot(dateAdapter, config = {}) {\n        return {\n            ngModule: CalendarModule_1,\n            providers: [\n                dateAdapter,\n                config.eventTitleFormatter || CalendarEventTitleFormatter,\n                config.dateFormatter || CalendarDateFormatter,\n                config.utils || CalendarUtils,\n                config.a11y || CalendarA11y,\n            ],\n        };\n    }\n};\nCalendarModule = CalendarModule_1 = __decorate([\n    NgModule({\n        imports: [\n            CalendarCommonModule,\n            CalendarMonthModule,\n            CalendarWeekModule,\n            CalendarDayModule,\n        ],\n        exports: [\n            CalendarCommonModule,\n            CalendarMonthModule,\n            CalendarWeekModule,\n            CalendarDayModule,\n        ],\n    })\n], CalendarModule);\n\n/*\n * Public API Surface of angular-calendar\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CalendarA11y, CalendarAngularDateFormatter, CalendarCommonModule, CalendarDateFormatter, CalendarDayModule, CalendarDayViewComponent, CalendarEventTimesChangedEventType, CalendarEventTitleFormatter, CalendarModule, CalendarMomentDateFormatter, CalendarMonthModule, CalendarMonthViewComponent, CalendarNativeDateFormatter, CalendarUtils, CalendarView, CalendarWeekModule, CalendarWeekViewComponent, DateAdapter, MOMENT, collapseAnimation, getWeekViewPeriod, CalendarOpenDayEventsComponent as ɵa, CalendarEventActionsComponent as ɵb, CalendarEventTitleComponent as ɵc, CalendarTooltipWindowComponent as ɵd, CalendarTooltipDirective as ɵe, CalendarPreviousViewDirective as ɵf, CalendarNextViewDirective as ɵg, CalendarTodayDirective as ɵh, CalendarDatePipe as ɵi, CalendarEventTitlePipe as ɵj, CalendarA11yPipe as ɵk, ClickDirective as ɵl, KeydownEnterDirective as ɵm, CalendarMonthCellComponent as ɵn, CalendarMonthViewHeaderComponent as ɵo, CalendarWeekViewHeaderComponent as ɵp, CalendarWeekViewEventComponent as ɵq, CalendarWeekViewHourSegmentComponent as ɵr, CalendarWeekViewCurrentTimeMarkerComponent as ɵs };\n//# sourceMappingURL=angular-calendar.js.map\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  CanDeactivate,\r\n  ActivatedRouteSnapshot,\r\n  RouterStateSnapshot,\r\n  UrlTree\r\n} from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\n// Interfaces\r\nimport { IFormCanDeactivate } from './iform-candeactivate';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FormDeactivateGuard implements CanDeactivate<IFormCanDeactivate> {\r\n  canDeactivate(\r\n    component: IFormCanDeactivate,\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ):\r\n    | Observable<boolean | UrlTree>\r\n    | Promise<boolean | UrlTree>\r\n    | boolean\r\n    | UrlTree {\r\n    return component.formCanDeactivate();\r\n  }\r\n}\r\n","export var HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport var defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: function (err) {\n        return typeof console !== \"undefined\" && console.warn(err);\n    },\n    getWeek: function (givenDate) {\n        var date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","import { Injectable, Directive, ElementRef, Input, Output, EventEmitter, forwardRef, HostListener, Renderer2, NgModule, InjectionToken } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport flatpickr from 'flatpickr';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nclass FlatpickrDefaults {\n    constructor() {\n        /**\n         * Exactly the same as date format, but for the altInput field.\n         */\n        this.altFormat = 'F j, Y';\n        /**\n         * \tShow the user a readable date (as per altFormat), but return something totally different to the server.\n         */\n        this.altInput = false;\n        /**\n         * This class will be added to the input element created by the altInput option.\n         * Note that `altInput` already inherits classes from the original input.\n         */\n        this.altInputClass = '';\n        /**\n         * Allows the user to enter a date directly input the input field. By default, direct entry is disabled.\n         */\n        this.allowInput = false;\n        /**\n         * Instead of `body`, appends the calendar to the specified node instead.\n         */\n        this.appendTo = undefined;\n        /**\n         * Defines how the date will be formatted in the aria-label for calendar days, using the same tokens as dateFormat. If you change this, you should choose a value that will make sense if a screen reader reads it out loud.\n         */\n        this.ariaDateFormat = 'F j, Y';\n        /**\n         * Whether clicking on the input should open the picker.\n         * You could disable this if you wish to open the calendar manually `with.open()`.\n         */\n        this.clickOpens = true;\n        /**\n         * A string of characters which are used to define how the date will be displayed in the input box.\n         * The supported characters are defined in the table below.\n         */\n        this.dateFormat = 'Y-m-d';\n        /**\n         * Initial value of the hour element.\n         */\n        this.defaultHour = 12;\n        /**\n         * Initial value of the minute element.\n         */\n        this.defaultMinute = 0;\n        /**\n         * Initial value of the seconds element.\n         */\n        this.defaultSeconds = 0;\n        /**\n         * See <a href=\"https://chmln.github.io/flatpickr/examples/#disabling-specific-dates\">disabling dates</a>.\n         */\n        this.disable = [];\n        /**\n         * Set disableMobile to true to always use the non-native picker.\n         * By default, Flatpickr utilizes native datetime widgets unless certain options (e.g. disable) are used.\n         */\n        this.disableMobile = false;\n        /**\n         * Enables time picker.\n         */\n        this.enableTime = false;\n        /**\n         * Enables seconds in the time picker.\n         */\n        this.enableSeconds = false;\n        /**\n         * Allows using a custom date formatting function instead of the built-in handling for date formats using dateFormat, altFormat, etc.\n         */\n        this.formatDate = undefined;\n        /**\n         * Adjusts the step for the hour input (incl. scrolling).\n         */\n        this.hourIncrement = 1;\n        /**\n         * Displays the calendar inline.\n         */\n        this.inline = false;\n        /**\n         * The maximum date that a user can pick to (inclusive).\n         */\n        this.maxDate = undefined;\n        /**\n         * The minimum date that a user can start picking from (inclusive).\n         */\n        this.minDate = undefined;\n        /**\n         * Adjusts the step for the minute input (incl. scrolling).\n         */\n        this.minuteIncrement = 5;\n        /**\n         * Select a single date, multiple dates or a date range.\n         */\n        this.mode = 'single';\n        /**\n         * HTML for the arrow icon, used to switch months.\n         */\n        this.nextArrow = '>';\n        /**\n         * Hides the day selection in calendar. Use it along with `enableTime` to create a time picker.\n         */\n        this.noCalendar = false;\n        /**\n         * Default now to the current date\n         */\n        this.now = new Date();\n        /**\n         * HTML for the left arrow icon.\n         */\n        this.prevArrow = '<';\n        /**\n         * Show the month using the shorthand version (ie, Sep instead of September).\n         */\n        this.shorthandCurrentMonth = false;\n        /**\n         * Position the calendar inside the wrapper and next to the input element. (Leave `false` unless you know what you're doing).\n         */\n        this.static = false;\n        /**\n         * Displays time picker in 24 hour mode without AM/PM selection when enabled.\n         */\n        this.time24hr = false;\n        /**\n         * When true, dates will parsed, formatted, and displayed in UTC.\n         * It's recommended that date strings contain the timezone, but not necessary.\n         */\n        this.utc = false;\n        /**\n         * Enables display of week numbers in calendar.\n         */\n        this.weekNumbers = false;\n        /**\n         * Custom elements and input groups.\n         */\n        this.wrap = false;\n        /**\n         * Array of plugin instances to use.\n         */\n        this.plugins = [];\n        /**\n         * The locale object or string to use for the locale.\n         */\n        this.locale = 'default';\n        /**\n         * Auto convert the ngModel value from a string to a date / array of dates / from - to date object depending on the `mode`\n         */\n        this.convertModelValue = false;\n        /**\n         * The number of months shown.\n         */\n        this.showMonths = 1;\n        /**\n         * How the month should be displayed in the header of the calendar.\n         */\n        this.monthSelectorType = 'static';\n    }\n}\nFlatpickrDefaults.decorators = [\n    { type: Injectable },\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nconst /** @type {?} */ FLATPICKR_CONTROL_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => FlatpickrDirective),\n    //tslint:disable-line\n    multi: true\n};\nclass FlatpickrDirective {\n    /**\n     * @param {?} elm\n     * @param {?} defaults\n     * @param {?} renderer\n     */\n    constructor(elm, defaults, renderer) {\n        this.elm = elm;\n        this.defaults = defaults;\n        this.renderer = renderer;\n        /**\n         * Object-options that can be user for multiple instances of Flatpickr.\n         * Option from this object is applied only if specific option is not specified.\n         * Example:\n         * ```typescript\n         * options: FlatpickrDefaultsInterface = {\n         *      altFormat: 'd/m/Y',   // will be ignored since altFormat is provided via specific attribute\n         *      altInput: true        // will be used since specific attribute is not provided\n         * };\n         * ```\n         * ```html\n         * <input\n         *   class=\"form-control\"\n         *   type=\"text\"\n         *   mwlFlatpickr\n         *   [options]=\"options\"\n         *   altFormat=\"d/m/Y\">\n         * ```\n         */\n        this.options = {};\n        /**\n         * Gets triggered once the calendar is in a ready state\n         */\n        this.flatpickrReady = new EventEmitter();\n        /**\n         * Gets triggered when the user selects a date, or changes the time on a selected date.\n         */\n        this.flatpickrChange = new EventEmitter();\n        /**\n         * Gets triggered when the input value is updated with a new date string.\n         */\n        this.flatpickrValueUpdate = new EventEmitter();\n        /**\n         * Gets triggered when the calendar is opened.\n         */\n        this.flatpickrOpen = new EventEmitter();\n        /**\n         * Gets triggered when the calendar is closed.\n         */\n        this.flatpickrClose = new EventEmitter();\n        /**\n         * Gets triggered when the month is changed, either by the user or programmatically.\n         */\n        this.flatpickrMonthChange = new EventEmitter();\n        /**\n         * Gets triggered when the year is changed, either by the user or programmatically.\n         */\n        this.flatpickrYearChange = new EventEmitter();\n        /**\n         * Take full control of every date cell with this output\n         */\n        this.flatpickrDayCreate = new EventEmitter();\n        this.isDisabled = false;\n        this.onChangeFn = () => { };\n        this.onTouchedFn = () => { };\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterViewInit() {\n        const /** @type {?} */ options = {\n            altFormat: this.altFormat,\n            altInput: this.altInput,\n            altInputClass: this.altInputClass,\n            allowInput: this.allowInput,\n            appendTo: this.appendTo,\n            ariaDateFormat: this.ariaDateFormat,\n            clickOpens: this.clickOpens,\n            dateFormat: this.dateFormat,\n            defaultHour: this.defaultHour,\n            defaultMinute: this.defaultMinute,\n            defaultSeconds: this.defaultSeconds,\n            disable: this.disable,\n            disableMobile: this.disableMobile,\n            enable: this.enable,\n            enableTime: this.enableTime,\n            enableSeconds: this.enableSeconds,\n            formatDate: this.formatDate,\n            hourIncrement: this.hourIncrement,\n            defaultDate: this.initialValue,\n            inline: this.inline,\n            maxDate: this.maxDate,\n            minDate: this.minDate,\n            minuteIncrement: this.minuteIncrement,\n            mode: this.mode,\n            nextArrow: this.nextArrow,\n            noCalendar: this.noCalendar,\n            now: this.now,\n            parseDate: this.parseDate,\n            prevArrow: this.prevArrow,\n            shorthandCurrentMonth: this.shorthandCurrentMonth,\n            showMonths: this.showMonths,\n            monthSelectorType: this.monthSelectorType,\n            static: this.static,\n            time24hr: this.time24hr,\n            weekNumbers: this.weekNumbers,\n            getWeek: this.getWeek,\n            wrap: this.wrap,\n            plugins: this.plugins,\n            locale: this.locale,\n            onChange: (selectedDates, dateString, instance) => {\n                this.flatpickrChange.emit({ selectedDates, dateString, instance });\n            },\n            onOpen: (selectedDates, dateString, instance) => {\n                this.flatpickrOpen.emit({ selectedDates, dateString, instance });\n            },\n            onClose: (selectedDates, dateString, instance) => {\n                this.flatpickrClose.emit({ selectedDates, dateString, instance });\n            },\n            onMonthChange: (selectedDates, dateString, instance) => {\n                this.flatpickrMonthChange.emit({ selectedDates, dateString, instance });\n            },\n            onYearChange: (selectedDates, dateString, instance) => {\n                this.flatpickrYearChange.emit({ selectedDates, dateString, instance });\n            },\n            onReady: (selectedDates, dateString, instance) => {\n                this.flatpickrReady.emit({ selectedDates, dateString, instance });\n            },\n            onValueUpdate: (selectedDates, dateString, instance) => {\n                this.flatpickrValueUpdate.emit({ selectedDates, dateString, instance });\n            },\n            onDayCreate: (selectedDates, dateString, instance, dayElement) => {\n                this.flatpickrDayCreate.emit({\n                    selectedDates,\n                    dateString,\n                    instance,\n                    dayElement\n                });\n            }\n        };\n        Object.keys(options).forEach(key => {\n            if (typeof options[key] === 'undefined') {\n                if (typeof this.options[key] !== 'undefined') {\n                    options[key] = (/** @type {?} */ (this.options))[key];\n                }\n                else {\n                    options[key] = (/** @type {?} */ (this.defaults))[key];\n                }\n            }\n        });\n        options.time_24hr = options.time24hr;\n        // workaround bug in flatpickr 4.6 where it doesn't copy the classes across\n        // TODO - remove once fix in https://github.com/flatpickr/flatpickr/issues/1860 is released\n        options.altInputClass =\n            (options.altInputClass || '') + ' ' + this.elm.nativeElement.className;\n        if (!options.enable) {\n            delete options.enable;\n        }\n        this.instance = /** @type {?} */ (flatpickr(this.elm.nativeElement, options));\n        this.setDisabledState(this.isDisabled);\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (this.instance) {\n            Object.keys(changes).forEach(inputKey => {\n                this.instance.set(/** @type {?} */ (inputKey), (/** @type {?} */ (this))[inputKey]);\n            });\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        if (this.instance) {\n            this.instance.destroy();\n        }\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    writeValue(value) {\n        let /** @type {?} */ convertedValue = value;\n        if (this.convertModelValue && this.mode === 'range' && value) {\n            convertedValue = [value.from, value.to];\n        }\n        if (this.instance) {\n            this.instance.setDate(convertedValue);\n        }\n        else {\n            // flatpickr hasn't been initialised yet, store the value for later use\n            this.initialValue = convertedValue;\n        }\n    }\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    registerOnChange(fn) {\n        this.onChangeFn = fn;\n    }\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    registerOnTouched(fn) {\n        this.onTouchedFn = fn;\n    }\n    /**\n     * @param {?} isDisabled\n     * @return {?}\n     */\n    setDisabledState(isDisabled) {\n        this.isDisabled = isDisabled;\n        if (this.instance) {\n            if (this.isDisabled) {\n                this.renderer.setProperty(this.instance._input, 'disabled', 'disabled');\n            }\n            else {\n                this.renderer.removeAttribute(this.instance._input, 'disabled');\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    inputChanged() {\n        const /** @type {?} */ value = this.elm.nativeElement.value;\n        if (this.convertModelValue && typeof value === 'string') {\n            switch (this.mode) {\n                case 'multiple':\n                    const /** @type {?} */ dates = value\n                        .split('; ')\n                        .map(str => this.instance.parseDate(str, this.instance.config.dateFormat, !this.instance.config.enableTime));\n                    this.onChangeFn(dates);\n                    break;\n                case 'range':\n                    const [from, to] = value\n                        .split(this.instance.l10n.rangeSeparator)\n                        .map(str => this.instance.parseDate(str, this.instance.config.dateFormat, !this.instance.config.enableTime));\n                    this.onChangeFn({ from, to });\n                    break;\n                case 'single':\n                default:\n                    this.onChangeFn(this.instance.parseDate(value, this.instance.config.dateFormat, !this.instance.config.enableTime));\n            }\n        }\n        else {\n            this.onChangeFn(value);\n        }\n    }\n}\nFlatpickrDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlFlatpickr]',\n                providers: [FLATPICKR_CONTROL_VALUE_ACCESSOR],\n                host: {\n                    // tslint:disable-line use-host-property-decorator\n                    '(blur)': 'onTouchedFn()'\n                },\n                exportAs: 'mwlFlatpickr'\n            },] },\n];\n/** @nocollapse */\nFlatpickrDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: FlatpickrDefaults },\n    { type: Renderer2 }\n];\nFlatpickrDirective.propDecorators = {\n    options: [{ type: Input }],\n    altFormat: [{ type: Input }],\n    altInput: [{ type: Input }],\n    altInputClass: [{ type: Input }],\n    allowInput: [{ type: Input }],\n    appendTo: [{ type: Input }],\n    ariaDateFormat: [{ type: Input }],\n    clickOpens: [{ type: Input }],\n    dateFormat: [{ type: Input }],\n    defaultHour: [{ type: Input }],\n    defaultMinute: [{ type: Input }],\n    defaultSeconds: [{ type: Input }],\n    disable: [{ type: Input }],\n    disableMobile: [{ type: Input }],\n    enable: [{ type: Input }],\n    enableTime: [{ type: Input }],\n    enableSeconds: [{ type: Input }],\n    formatDate: [{ type: Input }],\n    hourIncrement: [{ type: Input }],\n    inline: [{ type: Input }],\n    maxDate: [{ type: Input }],\n    minDate: [{ type: Input }],\n    minuteIncrement: [{ type: Input }],\n    mode: [{ type: Input }],\n    nextArrow: [{ type: Input }],\n    noCalendar: [{ type: Input }],\n    now: [{ type: Input }],\n    parseDate: [{ type: Input }],\n    prevArrow: [{ type: Input }],\n    shorthandCurrentMonth: [{ type: Input }],\n    showMonths: [{ type: Input }],\n    static: [{ type: Input }],\n    time24hr: [{ type: Input }],\n    weekNumbers: [{ type: Input }],\n    getWeek: [{ type: Input }],\n    wrap: [{ type: Input }],\n    plugins: [{ type: Input }],\n    locale: [{ type: Input }],\n    convertModelValue: [{ type: Input }],\n    monthSelectorType: [{ type: Input }],\n    flatpickrReady: [{ type: Output }],\n    flatpickrChange: [{ type: Output }],\n    flatpickrValueUpdate: [{ type: Output }],\n    flatpickrOpen: [{ type: Output }],\n    flatpickrClose: [{ type: Output }],\n    flatpickrMonthChange: [{ type: Output }],\n    flatpickrYearChange: [{ type: Output }],\n    flatpickrDayCreate: [{ type: Output }],\n    inputChanged: [{ type: HostListener, args: ['input',] }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nconst /** @type {?} */ USER_DEFAULTS = new InjectionToken('flatpickr defaults');\n/**\n * @param {?} userDefaults\n * @return {?}\n */\nfunction defaultsFactory(userDefaults) {\n    const /** @type {?} */ defaults = new FlatpickrDefaults();\n    Object.assign(defaults, userDefaults);\n    return defaults;\n}\nclass FlatpickrModule {\n    /**\n     * @param {?=} userDefaults\n     * @return {?}\n     */\n    static forRoot(userDefaults = {}) {\n        return {\n            ngModule: FlatpickrModule,\n            providers: [\n                {\n                    provide: USER_DEFAULTS,\n                    useValue: userDefaults\n                },\n                {\n                    provide: FlatpickrDefaults,\n                    useFactory: defaultsFactory,\n                    deps: [USER_DEFAULTS]\n                }\n            ]\n        };\n    }\n}\nFlatpickrModule.decorators = [\n    { type: NgModule, args: [{\n                declarations: [FlatpickrDirective],\n                exports: [FlatpickrDirective]\n            },] },\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\nexport { FlatpickrDefaults, FlatpickrDirective, USER_DEFAULTS, defaultsFactory, FlatpickrModule, FLATPICKR_CONTROL_VALUE_ACCESSOR as ɵa };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcngtZmxhdHBpY2tyLmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9hbmd1bGFyeC1mbGF0cGlja3IvZmxhdHBpY2tyLWRlZmF1bHRzLnNlcnZpY2UudHMiLCJuZzovL2FuZ3VsYXJ4LWZsYXRwaWNrci9mbGF0cGlja3IuZGlyZWN0aXZlLnRzIiwibmc6Ly9hbmd1bGFyeC1mbGF0cGlja3IvZmxhdHBpY2tyLm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCB0eXBlIERpc2FibGVFbmFibGVEYXRlID1cbiAgfCBzdHJpbmdcbiAgfCBEYXRlXG4gIHwgeyBmcm9tOiBEYXRlIHwgc3RyaW5nOyB0bzogRGF0ZSB8IHN0cmluZyB9XG4gIHwgKChkYXRlOiBEYXRlKSA9PiBib29sZWFuKTtcblxuLy8gdHNsaW50OmRpc2FibGUgbm8taW5mZXJyYWJsZS10eXBlc1xuXG5leHBvcnQgaW50ZXJmYWNlIEZsYXRwaWNrckRlZmF1bHRzSW50ZXJmYWNlIHtcbiAgLyoqXG4gICAqIEV4YWN0bHkgdGhlIHNhbWUgYXMgZGF0ZSBmb3JtYXQsIGJ1dCBmb3IgdGhlIGFsdElucHV0IGZpZWxkLlxuICAgKi9cbiAgYWx0Rm9ybWF0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBcdFNob3cgdGhlIHVzZXIgYSByZWFkYWJsZSBkYXRlIChhcyBwZXIgYWx0Rm9ybWF0KSwgYnV0IHJldHVybiBzb21ldGhpbmcgdG90YWxseSBkaWZmZXJlbnQgdG8gdGhlIHNlcnZlci5cbiAgICovXG4gIGFsdElucHV0PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhpcyBjbGFzcyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBpbnB1dCBlbGVtZW50IGNyZWF0ZWQgYnkgdGhlIGFsdElucHV0IG9wdGlvbi5cbiAgICogTm90ZSB0aGF0IGBhbHRJbnB1dGAgYWxyZWFkeSBpbmhlcml0cyBjbGFzc2VzIGZyb20gdGhlIG9yaWdpbmFsIGlucHV0LlxuICAgKi9cbiAgYWx0SW5wdXRDbGFzcz86IHN0cmluZztcblxuICAvKipcbiAgICogQWxsb3dzIHRoZSB1c2VyIHRvIGVudGVyIGEgZGF0ZSBkaXJlY3RseSBpbnB1dCB0aGUgaW5wdXQgZmllbGQuIEJ5IGRlZmF1bHQsIGRpcmVjdCBlbnRyeSBpcyBkaXNhYmxlZC5cbiAgICovXG4gIGFsbG93SW5wdXQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJbnN0ZWFkIG9mIGBib2R5YCwgYXBwZW5kcyB0aGUgY2FsZW5kYXIgdG8gdGhlIHNwZWNpZmllZCBub2RlIGluc3RlYWQuXG4gICAqL1xuICBhcHBlbmRUbz86IEhUTUxFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIGhvdyB0aGUgZGF0ZSB3aWxsIGJlIGZvcm1hdHRlZCBpbiB0aGUgYXJpYS1sYWJlbCBmb3IgY2FsZW5kYXIgZGF5cywgdXNpbmcgdGhlIHNhbWUgdG9rZW5zIGFzIGRhdGVGb3JtYXQuIElmIHlvdSBjaGFuZ2UgdGhpcywgeW91IHNob3VsZCBjaG9vc2UgYSB2YWx1ZSB0aGF0IHdpbGwgbWFrZSBzZW5zZSBpZiBhIHNjcmVlbiByZWFkZXIgcmVhZHMgaXQgb3V0IGxvdWQuXG4gICAqL1xuICBhcmlhRGF0ZUZvcm1hdD86IHN0cmluZztcblxuICAvKipcbiAgICogV2hldGhlciBjbGlja2luZyBvbiB0aGUgaW5wdXQgc2hvdWxkIG9wZW4gdGhlIHBpY2tlci5cbiAgICogWW91IGNvdWxkIGRpc2FibGUgdGhpcyBpZiB5b3Ugd2lzaCB0byBvcGVuIHRoZSBjYWxlbmRhciBtYW51YWxseSBgd2l0aC5vcGVuKClgLlxuICAgKi9cbiAgY2xpY2tPcGVucz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEEgc3RyaW5nIG9mIGNoYXJhY3RlcnMgd2hpY2ggYXJlIHVzZWQgdG8gZGVmaW5lIGhvdyB0aGUgZGF0ZSB3aWxsIGJlIGRpc3BsYXllZCBpbiB0aGUgaW5wdXQgYm94LlxuICAgKiBUaGUgc3VwcG9ydGVkIGNoYXJhY3RlcnMgYXJlIGRlZmluZWQgaW4gdGhlIHRhYmxlIGJlbG93LlxuICAgKi9cbiAgZGF0ZUZvcm1hdD86IHN0cmluZztcbiAgLyoqXG4gICAqIEluaXRpYWwgdmFsdWUgb2YgdGhlIGhvdXIgZWxlbWVudC5cbiAgICovXG4gIGRlZmF1bHRIb3VyPzogbnVtYmVyO1xuICAvKipcbiAgICogSW5pdGlhbCB2YWx1ZSBvZiB0aGUgbWludXRlIGVsZW1lbnQuXG4gICAqL1xuICBkZWZhdWx0TWludXRlPzogbnVtYmVyO1xuICAvKipcbiAgICogSW5pdGlhbCB2YWx1ZSBvZiB0aGUgc2Vjb25kcyBlbGVtZW50LlxuICAgKi9cbiAgZGVmYXVsdFNlY29uZHM/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFNlZSA8YSBocmVmPVwiaHR0cHM6Ly9jaG1sbi5naXRodWIuaW8vZmxhdHBpY2tyL2V4YW1wbGVzLyNkaXNhYmxpbmctc3BlY2lmaWMtZGF0ZXNcIj5kaXNhYmxpbmcgZGF0ZXM8L2E+LlxuICAgKi9cbiAgZGlzYWJsZT86IERpc2FibGVFbmFibGVEYXRlW107XG5cbiAgLyoqXG4gICAqIFNldCBkaXNhYmxlTW9iaWxlIHRvIHRydWUgdG8gYWx3YXlzIHVzZSB0aGUgbm9uLW5hdGl2ZSBwaWNrZXIuXG4gICAqIEJ5IGRlZmF1bHQsIEZsYXRwaWNrciB1dGlsaXplcyBuYXRpdmUgZGF0ZXRpbWUgd2lkZ2V0cyB1bmxlc3MgY2VydGFpbiBvcHRpb25zIChlLmcuIGRpc2FibGUpIGFyZSB1c2VkLlxuICAgKi9cbiAgZGlzYWJsZU1vYmlsZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNlZSA8YSBocmVmPVwiaHR0cHM6Ly9jaG1sbi5naXRodWIuaW8vZmxhdHBpY2tyL2V4YW1wbGVzLyNkaXNhYmxpbmctYWxsLWRhdGVzLWV4Y2VwdC1zZWxlY3QtZmV3XCI+ZW5hYmxpbmcgZGF0ZXM8L2E+LlxuICAgKi9cbiAgZW5hYmxlPzogRGlzYWJsZUVuYWJsZURhdGVbXTtcblxuICAvKipcbiAgICogRW5hYmxlcyB0aW1lIHBpY2tlci5cbiAgICovXG4gIGVuYWJsZVRpbWU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIHNlY29uZHMgaW4gdGhlIHRpbWUgcGlja2VyLlxuICAgKi9cbiAgZW5hYmxlU2Vjb25kcz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBBbGxvd3MgdXNpbmcgYSBjdXN0b20gZGF0ZSBmb3JtYXR0aW5nIGZ1bmN0aW9uIGluc3RlYWQgb2YgdGhlIGJ1aWx0LWluIGhhbmRsaW5nIGZvciBkYXRlIGZvcm1hdHMgdXNpbmcgZGF0ZUZvcm1hdCwgYWx0Rm9ybWF0LCBldGMuXG4gICAqL1xuICBmb3JtYXREYXRlPzogKHZhbHVlOiBhbnkpID0+IHN0cmluZztcbiAgLyoqXG4gICAqIEFkanVzdHMgdGhlIHN0ZXAgZm9yIHRoZSBob3VyIGlucHV0IChpbmNsLiBzY3JvbGxpbmcpLlxuICAgKi9cbiAgaG91ckluY3JlbWVudD86IG51bWJlcjtcblxuICAvKipcbiAgICogRGlzcGxheXMgdGhlIGNhbGVuZGFyIGlubGluZS5cbiAgICovXG4gIGlubGluZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIGRhdGUgdGhhdCBhIHVzZXIgY2FuIHBpY2sgdG8gKGluY2x1c2l2ZSkuXG4gICAqL1xuICBtYXhEYXRlPzogc3RyaW5nIHwgRGF0ZTtcblxuICAvKipcbiAgICogVGhlIG1pbmltdW0gZGF0ZSB0aGF0IGEgdXNlciBjYW4gc3RhcnQgcGlja2luZyBmcm9tIChpbmNsdXNpdmUpLlxuICAgKi9cbiAgbWluRGF0ZT86IHN0cmluZyB8IERhdGU7XG5cbiAgLyoqXG4gICAqIEFkanVzdHMgdGhlIHN0ZXAgZm9yIHRoZSBtaW51dGUgaW5wdXQgKGluY2wuIHNjcm9sbGluZykuXG4gICAqL1xuICBtaW51dGVJbmNyZW1lbnQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFNlbGVjdCBhIHNpbmdsZSBkYXRlLCBtdWx0aXBsZSBkYXRlcyBvciBhIGRhdGUgcmFuZ2UuXG4gICAqL1xuICBtb2RlPzogJ3NpbmdsZScgfCAnbXVsdGlwbGUnIHwgJ3JhbmdlJztcblxuICAvKipcbiAgICogSFRNTCBmb3IgdGhlIGFycm93IGljb24sIHVzZWQgdG8gc3dpdGNoIG1vbnRocy5cbiAgICovXG4gIG5leHRBcnJvdz86IHN0cmluZztcblxuICAvKipcbiAgICogSGlkZXMgdGhlIGRheSBzZWxlY3Rpb24gaW4gY2FsZW5kYXIuIFVzZSBpdCBhbG9uZyB3aXRoIGBlbmFibGVUaW1lYCB0byBjcmVhdGUgYSB0aW1lIHBpY2tlci5cbiAgICovXG4gIG5vQ2FsZW5kYXI/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBQcm92aWRlIGEgZGF0ZSBmb3IgJ3RvZGF5Jywgd2hpY2ggd2lsbCBiZSB1c2VkIGluc3RlYWQgb2YgXCJuZXcgRGF0ZSgpXCJcbiAgICovXG4gIG5vdz86IERhdGUgfCBzdHJpbmcgfCBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRoYXQgZXhwZWN0cyBhIGRhdGUgc3RyaW5nIGFuZCBtdXN0IHJldHVybiBhIERhdGUgb2JqZWN0LlxuICAgKi9cbiAgcGFyc2VEYXRlPzogKHN0cjogc3RyaW5nKSA9PiBEYXRlO1xuXG4gIC8qKlxuICAgKiBIVE1MIGZvciB0aGUgbGVmdCBhcnJvdyBpY29uLlxuICAgKi9cbiAgcHJldkFycm93Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTaG93IHRoZSBtb250aCB1c2luZyB0aGUgc2hvcnRoYW5kIHZlcnNpb24gKGllLCBTZXAgaW5zdGVhZCBvZiBTZXB0ZW1iZXIpLlxuICAgKi9cbiAgc2hvcnRoYW5kQ3VycmVudE1vbnRoPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogUG9zaXRpb24gdGhlIGNhbGVuZGFyIGluc2lkZSB0aGUgd3JhcHBlciBhbmQgbmV4dCB0byB0aGUgaW5wdXQgZWxlbWVudC4gKExlYXZlIGBmYWxzZWAgdW5sZXNzIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nKS5cbiAgICovXG4gIHN0YXRpYz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRpbWUgcGlja2VyIGluIDI0IGhvdXIgbW9kZSB3aXRob3V0IEFNL1BNIHNlbGVjdGlvbiB3aGVuIGVuYWJsZWQuXG4gICAqL1xuICB0aW1lMjRocj86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgZGF0ZXMgd2lsbCBwYXJzZWQsIGZvcm1hdHRlZCwgYW5kIGRpc3BsYXllZCBpbiBVVEMuXG4gICAqIEl0J3MgcmVjb21tZW5kZWQgdGhhdCBkYXRlIHN0cmluZ3MgY29udGFpbiB0aGUgdGltZXpvbmUsIGJ1dCBub3QgbmVjZXNzYXJ5LlxuICAgKi9cbiAgdXRjPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogRW5hYmxlcyBkaXNwbGF5IG9mIHdlZWsgbnVtYmVycyBpbiBjYWxlbmRhci5cbiAgICovXG4gIHdlZWtOdW1iZXJzPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogWW91IG1heSBvdmVycmlkZSB0aGUgZnVuY3Rpb24gdGhhdCBleHRyYWN0cyB0aGUgd2VlayBudW1iZXJzIGZyb20gYSBEYXRlIGJ5IHN1cHBseWluZyBhIGdldFdlZWsgZnVuY3Rpb24uXG4gICAqIEl0IHRha2VzIGluIGEgZGF0ZSBhcyBhIHBhcmFtZXRlciBhbmQgc2hvdWxkIHJldHVybiBhIGNvcnJlc3BvbmRpbmcgc3RyaW5nIHRoYXQgeW91IHdhbnQgdG8gYXBwZWFyIGxlZnQgb2YgZXZlcnkgd2Vlay5cbiAgICovXG4gIGdldFdlZWs/OiAoZGF0ZTogRGF0ZSkgPT4gc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBDdXN0b20gZWxlbWVudHMgYW5kIGlucHV0IGdyb3Vwcy5cbiAgICovXG4gIHdyYXA/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBBcnJheSBvZiBwbHVnaW4gaW5zdGFuY2VzIHRvIHVzZS5cbiAgICovXG4gIHBsdWdpbnM/OiBhbnlbXTtcblxuICAvKipcbiAgICogVGhlIGxvY2FsZSBvYmplY3Qgb3Igc3RyaW5nIHRvIHVzZSBmb3IgdGhlIGxvY2FsZS5cbiAgICovXG4gIGxvY2FsZT86IG9iamVjdCB8IHN0cmluZztcblxuICAvKipcbiAgICogQXV0byBjb252ZXJ0IHRoZSBuZ01vZGVsIHZhbHVlIGZyb20gYSBzdHJpbmcgdG8gYSBkYXRlIC8gYXJyYXkgb2YgZGF0ZXMgLyBmcm9tIC0gdG8gZGF0ZSBvYmplY3QgZGVwZW5kaW5nIG9uIHRoZSBgbW9kZWBcbiAgICovXG4gIGNvbnZlcnRNb2RlbFZhbHVlPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBtb250aHMgc2hvd24uXG4gICAqL1xuICBzaG93TW9udGhzPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBIb3cgdGhlIG1vbnRoIHNob3VsZCBiZSBkaXNwbGF5ZWQgaW4gdGhlIGhlYWRlciBvZiB0aGUgY2FsZW5kYXIuXG4gICAqL1xuICBtb250aFNlbGVjdG9yVHlwZT86ICdzdGF0aWMnIHwgJ2Ryb3Bkb3duJztcbn1cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEZsYXRwaWNrckRlZmF1bHRzIGltcGxlbWVudHMgRmxhdHBpY2tyRGVmYXVsdHNJbnRlcmZhY2Uge1xuICAvKipcbiAgICogRXhhY3RseSB0aGUgc2FtZSBhcyBkYXRlIGZvcm1hdCwgYnV0IGZvciB0aGUgYWx0SW5wdXQgZmllbGQuXG4gICAqL1xuICBhbHRGb3JtYXQ6IHN0cmluZyA9ICdGIGosIFknO1xuXG4gIC8qKlxuICAgKiBcdFNob3cgdGhlIHVzZXIgYSByZWFkYWJsZSBkYXRlIChhcyBwZXIgYWx0Rm9ybWF0KSwgYnV0IHJldHVybiBzb21ldGhpbmcgdG90YWxseSBkaWZmZXJlbnQgdG8gdGhlIHNlcnZlci5cbiAgICovXG4gIGFsdElucHV0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIFRoaXMgY2xhc3Mgd2lsbCBiZSBhZGRlZCB0byB0aGUgaW5wdXQgZWxlbWVudCBjcmVhdGVkIGJ5IHRoZSBhbHRJbnB1dCBvcHRpb24uXG4gICAqIE5vdGUgdGhhdCBgYWx0SW5wdXRgIGFscmVhZHkgaW5oZXJpdHMgY2xhc3NlcyBmcm9tIHRoZSBvcmlnaW5hbCBpbnB1dC5cbiAgICovXG4gIGFsdElucHV0Q2xhc3M6IHN0cmluZyA9ICcnO1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHVzZXIgdG8gZW50ZXIgYSBkYXRlIGRpcmVjdGx5IGlucHV0IHRoZSBpbnB1dCBmaWVsZC4gQnkgZGVmYXVsdCwgZGlyZWN0IGVudHJ5IGlzIGRpc2FibGVkLlxuICAgKi9cbiAgYWxsb3dJbnB1dDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBJbnN0ZWFkIG9mIGBib2R5YCwgYXBwZW5kcyB0aGUgY2FsZW5kYXIgdG8gdGhlIHNwZWNpZmllZCBub2RlIGluc3RlYWQuXG4gICAqL1xuICBhcHBlbmRUbzogSFRNTEVsZW1lbnQgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIERlZmluZXMgaG93IHRoZSBkYXRlIHdpbGwgYmUgZm9ybWF0dGVkIGluIHRoZSBhcmlhLWxhYmVsIGZvciBjYWxlbmRhciBkYXlzLCB1c2luZyB0aGUgc2FtZSB0b2tlbnMgYXMgZGF0ZUZvcm1hdC4gSWYgeW91IGNoYW5nZSB0aGlzLCB5b3Ugc2hvdWxkIGNob29zZSBhIHZhbHVlIHRoYXQgd2lsbCBtYWtlIHNlbnNlIGlmIGEgc2NyZWVuIHJlYWRlciByZWFkcyBpdCBvdXQgbG91ZC5cbiAgICovXG4gIGFyaWFEYXRlRm9ybWF0Pzogc3RyaW5nID0gJ0YgaiwgWSc7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgY2xpY2tpbmcgb24gdGhlIGlucHV0IHNob3VsZCBvcGVuIHRoZSBwaWNrZXIuXG4gICAqIFlvdSBjb3VsZCBkaXNhYmxlIHRoaXMgaWYgeW91IHdpc2ggdG8gb3BlbiB0aGUgY2FsZW5kYXIgbWFudWFsbHkgYHdpdGgub3BlbigpYC5cbiAgICovXG4gIGNsaWNrT3BlbnM6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBBIHN0cmluZyBvZiBjaGFyYWN0ZXJzIHdoaWNoIGFyZSB1c2VkIHRvIGRlZmluZSBob3cgdGhlIGRhdGUgd2lsbCBiZSBkaXNwbGF5ZWQgaW4gdGhlIGlucHV0IGJveC5cbiAgICogVGhlIHN1cHBvcnRlZCBjaGFyYWN0ZXJzIGFyZSBkZWZpbmVkIGluIHRoZSB0YWJsZSBiZWxvdy5cbiAgICovXG4gIGRhdGVGb3JtYXQ6IHN0cmluZyA9ICdZLW0tZCc7XG5cbiAgLyoqXG4gICAqIEluaXRpYWwgdmFsdWUgb2YgdGhlIGhvdXIgZWxlbWVudC5cbiAgICovXG4gIGRlZmF1bHRIb3VyPzogbnVtYmVyID0gMTI7XG5cbiAgLyoqXG4gICAqIEluaXRpYWwgdmFsdWUgb2YgdGhlIG1pbnV0ZSBlbGVtZW50LlxuICAgKi9cbiAgZGVmYXVsdE1pbnV0ZT86IG51bWJlciA9IDA7XG5cbiAgLyoqXG4gICAqIEluaXRpYWwgdmFsdWUgb2YgdGhlIHNlY29uZHMgZWxlbWVudC5cbiAgICovXG4gIGRlZmF1bHRTZWNvbmRzPzogbnVtYmVyID0gMDtcblxuICAvKipcbiAgICogU2VlIDxhIGhyZWY9XCJodHRwczovL2NobWxuLmdpdGh1Yi5pby9mbGF0cGlja3IvZXhhbXBsZXMvI2Rpc2FibGluZy1zcGVjaWZpYy1kYXRlc1wiPmRpc2FibGluZyBkYXRlczwvYT4uXG4gICAqL1xuICBkaXNhYmxlOiBEaXNhYmxlRW5hYmxlRGF0ZVtdID0gW107XG5cbiAgLyoqXG4gICAqIFNldCBkaXNhYmxlTW9iaWxlIHRvIHRydWUgdG8gYWx3YXlzIHVzZSB0aGUgbm9uLW5hdGl2ZSBwaWNrZXIuXG4gICAqIEJ5IGRlZmF1bHQsIEZsYXRwaWNrciB1dGlsaXplcyBuYXRpdmUgZGF0ZXRpbWUgd2lkZ2V0cyB1bmxlc3MgY2VydGFpbiBvcHRpb25zIChlLmcuIGRpc2FibGUpIGFyZSB1c2VkLlxuICAgKi9cbiAgZGlzYWJsZU1vYmlsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBTZWUgPGEgaHJlZj1cImh0dHBzOi8vY2htbG4uZ2l0aHViLmlvL2ZsYXRwaWNrci9leGFtcGxlcy8jZGlzYWJsaW5nLWFsbC1kYXRlcy1leGNlcHQtc2VsZWN0LWZld1wiPmVuYWJsaW5nIGRhdGVzPC9hPi5cbiAgICovXG4gIGVuYWJsZTogRGlzYWJsZUVuYWJsZURhdGVbXTtcblxuICAvKipcbiAgICogRW5hYmxlcyB0aW1lIHBpY2tlci5cbiAgICovXG4gIGVuYWJsZVRpbWU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogRW5hYmxlcyBzZWNvbmRzIGluIHRoZSB0aW1lIHBpY2tlci5cbiAgICovXG4gIGVuYWJsZVNlY29uZHM6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogQWxsb3dzIHVzaW5nIGEgY3VzdG9tIGRhdGUgZm9ybWF0dGluZyBmdW5jdGlvbiBpbnN0ZWFkIG9mIHRoZSBidWlsdC1pbiBoYW5kbGluZyBmb3IgZGF0ZSBmb3JtYXRzIHVzaW5nIGRhdGVGb3JtYXQsIGFsdEZvcm1hdCwgZXRjLlxuICAgKi9cbiAgZm9ybWF0RGF0ZT86ICh2YWx1ZTogYW55KSA9PiBzdHJpbmcgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEFkanVzdHMgdGhlIHN0ZXAgZm9yIHRoZSBob3VyIGlucHV0IChpbmNsLiBzY3JvbGxpbmcpLlxuICAgKi9cbiAgaG91ckluY3JlbWVudDogbnVtYmVyID0gMTtcblxuICAvKipcbiAgICogRGlzcGxheXMgdGhlIGNhbGVuZGFyIGlubGluZS5cbiAgICovXG4gIGlubGluZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBkYXRlIHRoYXQgYSB1c2VyIGNhbiBwaWNrIHRvIChpbmNsdXNpdmUpLlxuICAgKi9cbiAgbWF4RGF0ZTogc3RyaW5nIHwgRGF0ZSA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIG1pbmltdW0gZGF0ZSB0aGF0IGEgdXNlciBjYW4gc3RhcnQgcGlja2luZyBmcm9tIChpbmNsdXNpdmUpLlxuICAgKi9cbiAgbWluRGF0ZTogc3RyaW5nIHwgRGF0ZSA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogQWRqdXN0cyB0aGUgc3RlcCBmb3IgdGhlIG1pbnV0ZSBpbnB1dCAoaW5jbC4gc2Nyb2xsaW5nKS5cbiAgICovXG4gIG1pbnV0ZUluY3JlbWVudDogbnVtYmVyID0gNTtcblxuICAvKipcbiAgICogU2VsZWN0IGEgc2luZ2xlIGRhdGUsIG11bHRpcGxlIGRhdGVzIG9yIGEgZGF0ZSByYW5nZS5cbiAgICovXG4gIG1vZGU6ICdzaW5nbGUnIHwgJ211bHRpcGxlJyB8ICdyYW5nZScgPSAnc2luZ2xlJztcblxuICAvKipcbiAgICogSFRNTCBmb3IgdGhlIGFycm93IGljb24sIHVzZWQgdG8gc3dpdGNoIG1vbnRocy5cbiAgICovXG4gIG5leHRBcnJvdzogc3RyaW5nID0gJz4nO1xuXG4gIC8qKlxuICAgKiBIaWRlcyB0aGUgZGF5IHNlbGVjdGlvbiBpbiBjYWxlbmRhci4gVXNlIGl0IGFsb25nIHdpdGggYGVuYWJsZVRpbWVgIHRvIGNyZWF0ZSBhIHRpbWUgcGlja2VyLlxuICAgKi9cbiAgbm9DYWxlbmRhcjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBEZWZhdWx0IG5vdyB0byB0aGUgY3VycmVudCBkYXRlXG4gICAqL1xuICBub3c6IERhdGUgfCBzdHJpbmcgfCBudW1iZXIgPSBuZXcgRGF0ZSgpO1xuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0aGF0IGV4cGVjdHMgYSBkYXRlIHN0cmluZyBhbmQgbXVzdCByZXR1cm4gYSBEYXRlIG9iamVjdC5cbiAgICovXG4gIHBhcnNlRGF0ZTogKHN0cjogc3RyaW5nKSA9PiBEYXRlO1xuXG4gIC8qKlxuICAgKiBIVE1MIGZvciB0aGUgbGVmdCBhcnJvdyBpY29uLlxuICAgKi9cbiAgcHJldkFycm93OiBzdHJpbmcgPSAnPCc7XG5cbiAgLyoqXG4gICAqIFNob3cgdGhlIG1vbnRoIHVzaW5nIHRoZSBzaG9ydGhhbmQgdmVyc2lvbiAoaWUsIFNlcCBpbnN0ZWFkIG9mIFNlcHRlbWJlcikuXG4gICAqL1xuICBzaG9ydGhhbmRDdXJyZW50TW9udGg6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogUG9zaXRpb24gdGhlIGNhbGVuZGFyIGluc2lkZSB0aGUgd3JhcHBlciBhbmQgbmV4dCB0byB0aGUgaW5wdXQgZWxlbWVudC4gKExlYXZlIGBmYWxzZWAgdW5sZXNzIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nKS5cbiAgICovXG4gIHN0YXRpYzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aW1lIHBpY2tlciBpbiAyNCBob3VyIG1vZGUgd2l0aG91dCBBTS9QTSBzZWxlY3Rpb24gd2hlbiBlbmFibGVkLlxuICAgKi9cbiAgdGltZTI0aHI6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogV2hlbiB0cnVlLCBkYXRlcyB3aWxsIHBhcnNlZCwgZm9ybWF0dGVkLCBhbmQgZGlzcGxheWVkIGluIFVUQy5cbiAgICogSXQncyByZWNvbW1lbmRlZCB0aGF0IGRhdGUgc3RyaW5ncyBjb250YWluIHRoZSB0aW1lem9uZSwgYnV0IG5vdCBuZWNlc3NhcnkuXG4gICAqL1xuICB1dGM6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogRW5hYmxlcyBkaXNwbGF5IG9mIHdlZWsgbnVtYmVycyBpbiBjYWxlbmRhci5cbiAgICovXG4gIHdlZWtOdW1iZXJzOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIFlvdSBtYXkgb3ZlcnJpZGUgdGhlIGZ1bmN0aW9uIHRoYXQgZXh0cmFjdHMgdGhlIHdlZWsgbnVtYmVycyBmcm9tIGEgRGF0ZSBieSBzdXBwbHlpbmcgYSBnZXRXZWVrIGZ1bmN0aW9uLlxuICAgKiBJdCB0YWtlcyBpbiBhIGRhdGUgYXMgYSBwYXJhbWV0ZXIgYW5kIHNob3VsZCByZXR1cm4gYSBjb3JyZXNwb25kaW5nIHN0cmluZyB0aGF0IHlvdSB3YW50IHRvIGFwcGVhciBsZWZ0IG9mIGV2ZXJ5IHdlZWsuXG4gICAqL1xuICBnZXRXZWVrOiAoZGF0ZTogRGF0ZSkgPT4gc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBDdXN0b20gZWxlbWVudHMgYW5kIGlucHV0IGdyb3Vwcy5cbiAgICovXG4gIHdyYXA6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogQXJyYXkgb2YgcGx1Z2luIGluc3RhbmNlcyB0byB1c2UuXG4gICAqL1xuICBwbHVnaW5zOiBhbnlbXSA9IFtdO1xuXG4gIC8qKlxuICAgKiBUaGUgbG9jYWxlIG9iamVjdCBvciBzdHJpbmcgdG8gdXNlIGZvciB0aGUgbG9jYWxlLlxuICAgKi9cbiAgbG9jYWxlOiBvYmplY3QgfCBzdHJpbmcgPSAnZGVmYXVsdCc7XG5cbiAgLyoqXG4gICAqIEF1dG8gY29udmVydCB0aGUgbmdNb2RlbCB2YWx1ZSBmcm9tIGEgc3RyaW5nIHRvIGEgZGF0ZSAvIGFycmF5IG9mIGRhdGVzIC8gZnJvbSAtIHRvIGRhdGUgb2JqZWN0IGRlcGVuZGluZyBvbiB0aGUgYG1vZGVgXG4gICAqL1xuICBjb252ZXJ0TW9kZWxWYWx1ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIG1vbnRocyBzaG93bi5cbiAgICovXG4gIHNob3dNb250aHM6IG51bWJlciA9IDE7XG5cbiAgLyoqXG4gICAqIEhvdyB0aGUgbW9udGggc2hvdWxkIGJlIGRpc3BsYXllZCBpbiB0aGUgaGVhZGVyIG9mIHRoZSBjYWxlbmRhci5cbiAgICovXG4gIG1vbnRoU2VsZWN0b3JUeXBlOiAnc3RhdGljJyB8ICdkcm9wZG93bicgPSAnc3RhdGljJztcbn1cbiIsImltcG9ydCB7XG4gIERpcmVjdGl2ZSxcbiAgRWxlbWVudFJlZixcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgSW5wdXQsXG4gIE91dHB1dCxcbiAgRXZlbnRFbWl0dGVyLFxuICBPbkNoYW5nZXMsXG4gIFNpbXBsZUNoYW5nZXMsXG4gIE9uRGVzdHJveSxcbiAgZm9yd2FyZFJlZixcbiAgSG9zdExpc3RlbmVyLFxuICBSZW5kZXJlcjJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBGbGF0cGlja3JEZWZhdWx0cyxcbiAgRGlzYWJsZUVuYWJsZURhdGUsXG4gIEZsYXRwaWNrckRlZmF1bHRzSW50ZXJmYWNlXG59IGZyb20gJy4vZmxhdHBpY2tyLWRlZmF1bHRzLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29udHJvbFZhbHVlQWNjZXNzb3IsIE5HX1ZBTFVFX0FDQ0VTU09SIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IGZsYXRwaWNrciBmcm9tICdmbGF0cGlja3InO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZsYXRQaWNrck91dHB1dE9wdGlvbnMge1xuICBzZWxlY3RlZERhdGVzOiBEYXRlW107XG4gIGRhdGVTdHJpbmc6IHN0cmluZztcbiAgaW5zdGFuY2U6IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGbGF0UGlja3JEYXlDcmVhdGVPdXRwdXRPcHRpb25zXG4gIGV4dGVuZHMgRmxhdFBpY2tyT3V0cHV0T3B0aW9ucyB7XG4gIGRheUVsZW1lbnQ6IEhUTUxFbGVtZW50O1xufVxuXG5leHBvcnQgY29uc3QgRkxBVFBJQ0tSX0NPTlRST0xfVkFMVUVfQUNDRVNTT1I6IGFueSA9IHtcbiAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IEZsYXRwaWNrckRpcmVjdGl2ZSksIC8vdHNsaW50OmRpc2FibGUtbGluZVxuICBtdWx0aTogdHJ1ZVxufTtcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW213bEZsYXRwaWNrcl0nLFxuICBwcm92aWRlcnM6IFtGTEFUUElDS1JfQ09OVFJPTF9WQUxVRV9BQ0NFU1NPUl0sXG4gIGhvc3Q6IHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lIHVzZS1ob3N0LXByb3BlcnR5LWRlY29yYXRvclxuICAgICcoYmx1ciknOiAnb25Ub3VjaGVkRm4oKSdcbiAgfSxcbiAgZXhwb3J0QXM6ICdtd2xGbGF0cGlja3InXG59KVxuZXhwb3J0IGNsYXNzIEZsYXRwaWNrckRpcmVjdGl2ZVxuICBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsIE9uQ2hhbmdlcywgT25EZXN0cm95LCBDb250cm9sVmFsdWVBY2Nlc3NvciB7XG4gIC8qKlxuICAgKiBPYmplY3Qtb3B0aW9ucyB0aGF0IGNhbiBiZSB1c2VyIGZvciBtdWx0aXBsZSBpbnN0YW5jZXMgb2YgRmxhdHBpY2tyLlxuICAgKiBPcHRpb24gZnJvbSB0aGlzIG9iamVjdCBpcyBhcHBsaWVkIG9ubHkgaWYgc3BlY2lmaWMgb3B0aW9uIGlzIG5vdCBzcGVjaWZpZWQuXG4gICAqIEV4YW1wbGU6XG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogb3B0aW9uczogRmxhdHBpY2tyRGVmYXVsdHNJbnRlcmZhY2UgPSB7XG4gICAqICAgICAgYWx0Rm9ybWF0OiAnZC9tL1knLCAgIC8vIHdpbGwgYmUgaWdub3JlZCBzaW5jZSBhbHRGb3JtYXQgaXMgcHJvdmlkZWQgdmlhIHNwZWNpZmljIGF0dHJpYnV0ZVxuICAgKiAgICAgIGFsdElucHV0OiB0cnVlICAgICAgICAvLyB3aWxsIGJlIHVzZWQgc2luY2Ugc3BlY2lmaWMgYXR0cmlidXRlIGlzIG5vdCBwcm92aWRlZFxuICAgKiB9O1xuICAgKiBgYGBcbiAgICogYGBgaHRtbFxuICAgKiA8aW5wdXRcbiAgICogICBjbGFzcz1cImZvcm0tY29udHJvbFwiXG4gICAqICAgdHlwZT1cInRleHRcIlxuICAgKiAgIG13bEZsYXRwaWNrclxuICAgKiAgIFtvcHRpb25zXT1cIm9wdGlvbnNcIlxuICAgKiAgIGFsdEZvcm1hdD1cImQvbS9ZXCI+XG4gICAqIGBgYFxuICAgKi9cbiAgQElucHV0KCkgb3B0aW9uczogRmxhdHBpY2tyRGVmYXVsdHNJbnRlcmZhY2UgPSB7fTtcblxuICAvKipcbiAgICogRXhhY3RseSB0aGUgc2FtZSBhcyBkYXRlIGZvcm1hdCwgYnV0IGZvciB0aGUgYWx0SW5wdXQgZmllbGQuXG4gICAqL1xuICBASW5wdXQoKSBhbHRGb3JtYXQ6IHN0cmluZztcblxuICAvKipcbiAgICogXHRTaG93IHRoZSB1c2VyIGEgcmVhZGFibGUgZGF0ZSAoYXMgcGVyIGFsdEZvcm1hdCksIGJ1dCByZXR1cm4gc29tZXRoaW5nIHRvdGFsbHkgZGlmZmVyZW50IHRvIHRoZSBzZXJ2ZXIuXG4gICAqL1xuICBASW5wdXQoKSBhbHRJbnB1dDogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhpcyBjbGFzcyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBpbnB1dCBlbGVtZW50IGNyZWF0ZWQgYnkgdGhlIGFsdElucHV0IG9wdGlvbi5cbiAgICogTm90ZSB0aGF0IGBhbHRJbnB1dGAgYWxyZWFkeSBpbmhlcml0cyBjbGFzc2VzIGZyb20gdGhlIG9yaWdpbmFsIGlucHV0LlxuICAgKi9cbiAgQElucHV0KCkgYWx0SW5wdXRDbGFzczogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHVzZXIgdG8gZW50ZXIgYSBkYXRlIGRpcmVjdGx5IGlucHV0IHRoZSBpbnB1dCBmaWVsZC4gQnkgZGVmYXVsdCwgZGlyZWN0IGVudHJ5IGlzIGRpc2FibGVkLlxuICAgKi9cbiAgQElucHV0KCkgYWxsb3dJbnB1dDogYm9vbGVhbjtcblxuICAvKipcbiAgICogSW5zdGVhZCBvZiBgYm9keWAsIGFwcGVuZHMgdGhlIGNhbGVuZGFyIHRvIHRoZSBzcGVjaWZpZWQgbm9kZSBpbnN0ZWFkLlxuICAgKi9cbiAgQElucHV0KCkgYXBwZW5kVG86IEhUTUxFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIGhvdyB0aGUgZGF0ZSB3aWxsIGJlIGZvcm1hdHRlZCBpbiB0aGUgYXJpYS1sYWJlbCBmb3IgY2FsZW5kYXIgZGF5cywgdXNpbmcgdGhlIHNhbWUgdG9rZW5zIGFzIGRhdGVGb3JtYXQuIElmIHlvdSBjaGFuZ2UgdGhpcywgeW91IHNob3VsZCBjaG9vc2UgYSB2YWx1ZSB0aGF0IHdpbGwgbWFrZSBzZW5zZSBpZiBhIHNjcmVlbiByZWFkZXIgcmVhZHMgaXQgb3V0IGxvdWQuXG4gICAqL1xuICBASW5wdXQoKSBhcmlhRGF0ZUZvcm1hdD86IHN0cmluZztcblxuICAvKipcbiAgICogV2hldGhlciBjbGlja2luZyBvbiB0aGUgaW5wdXQgc2hvdWxkIG9wZW4gdGhlIHBpY2tlci5cbiAgICogWW91IGNvdWxkIGRpc2FibGUgdGhpcyBpZiB5b3Ugd2lzaCB0byBvcGVuIHRoZSBjYWxlbmRhciBtYW51YWxseSBgd2l0aC5vcGVuKClgLlxuICAgKi9cbiAgQElucHV0KCkgY2xpY2tPcGVuczogYm9vbGVhbjtcblxuICAvKipcbiAgICogQSBzdHJpbmcgb2YgY2hhcmFjdGVycyB3aGljaCBhcmUgdXNlZCB0byBkZWZpbmUgaG93IHRoZSBkYXRlIHdpbGwgYmUgZGlzcGxheWVkIGluIHRoZSBpbnB1dCBib3guXG4gICAqIFRoZSBzdXBwb3J0ZWQgY2hhcmFjdGVycyBhcmUgZGVmaW5lZCBpbiB0aGUgdGFibGUgYmVsb3cuXG4gICAqL1xuICBASW5wdXQoKSBkYXRlRm9ybWF0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEluaXRpYWwgdmFsdWUgb2YgdGhlIGhvdXIgZWxlbWVudC5cbiAgICovXG4gIEBJbnB1dCgpIGRlZmF1bHRIb3VyPzogbnVtYmVyO1xuICAvKipcbiAgICogSW5pdGlhbCB2YWx1ZSBvZiB0aGUgbWludXRlIGVsZW1lbnQuXG4gICAqL1xuICBASW5wdXQoKSBkZWZhdWx0TWludXRlPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBJbml0aWFsIHZhbHVlIG9mIHRoZSBzZWNvbmRzIGVsZW1lbnQuXG4gICAqL1xuICBASW5wdXQoKSBkZWZhdWx0U2Vjb25kcz86IG51bWJlcjtcblxuICAvKipcbiAgICogU2VlIDxhIGhyZWY9XCJodHRwczovL2NobWxuLmdpdGh1Yi5pby9mbGF0cGlja3IvZXhhbXBsZXMvI2Rpc2FibGluZy1zcGVjaWZpYy1kYXRlc1wiPmRpc2FibGluZyBkYXRlczwvYT4uXG4gICAqL1xuICBASW5wdXQoKSBkaXNhYmxlOiBEaXNhYmxlRW5hYmxlRGF0ZVtdO1xuXG4gIC8qKlxuICAgKiBTZXQgZGlzYWJsZU1vYmlsZSB0byB0cnVlIHRvIGFsd2F5cyB1c2UgdGhlIG5vbi1uYXRpdmUgcGlja2VyLlxuICAgKiBCeSBkZWZhdWx0LCBGbGF0cGlja3IgdXRpbGl6ZXMgbmF0aXZlIGRhdGV0aW1lIHdpZGdldHMgdW5sZXNzIGNlcnRhaW4gb3B0aW9ucyAoZS5nLiBkaXNhYmxlKSBhcmUgdXNlZC5cbiAgICovXG4gIEBJbnB1dCgpIGRpc2FibGVNb2JpbGU6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNlZSA8YSBocmVmPVwiaHR0cHM6Ly9jaG1sbi5naXRodWIuaW8vZmxhdHBpY2tyL2V4YW1wbGVzLyNkaXNhYmxpbmctYWxsLWRhdGVzLWV4Y2VwdC1zZWxlY3QtZmV3XCI+ZW5hYmxpbmcgZGF0ZXM8L2E+LlxuICAgKi9cbiAgQElucHV0KCkgZW5hYmxlOiBEaXNhYmxlRW5hYmxlRGF0ZVtdO1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIHRpbWUgcGlja2VyLlxuICAgKi9cbiAgQElucHV0KCkgZW5hYmxlVGltZTogYm9vbGVhbjtcblxuICAvKipcbiAgICogRW5hYmxlcyBzZWNvbmRzIGluIHRoZSB0aW1lIHBpY2tlci5cbiAgICovXG4gIEBJbnB1dCgpIGVuYWJsZVNlY29uZHM6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEFsbG93cyB1c2luZyBhIGN1c3RvbSBkYXRlIGZvcm1hdHRpbmcgZnVuY3Rpb24gaW5zdGVhZCBvZiB0aGUgYnVpbHQtaW4gaGFuZGxpbmcgZm9yIGRhdGUgZm9ybWF0cyB1c2luZyBkYXRlRm9ybWF0LCBhbHRGb3JtYXQsIGV0Yy5cbiAgICovXG4gIEBJbnB1dCgpIGZvcm1hdERhdGU/OiAodmFsdWU6IGFueSkgPT4gc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBZGp1c3RzIHRoZSBzdGVwIGZvciB0aGUgaG91ciBpbnB1dCAoaW5jbC4gc2Nyb2xsaW5nKS5cbiAgICovXG4gIEBJbnB1dCgpIGhvdXJJbmNyZW1lbnQ6IG51bWJlcjtcblxuICAvKipcbiAgICogRGlzcGxheXMgdGhlIGNhbGVuZGFyIGlubGluZS5cbiAgICovXG4gIEBJbnB1dCgpIGlubGluZTogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gZGF0ZSB0aGF0IGEgdXNlciBjYW4gcGljayB0byAoaW5jbHVzaXZlKS5cbiAgICovXG4gIEBJbnB1dCgpIG1heERhdGU6IHN0cmluZyB8IERhdGU7XG5cbiAgLyoqXG4gICAqIFRoZSBtaW5pbXVtIGRhdGUgdGhhdCBhIHVzZXIgY2FuIHN0YXJ0IHBpY2tpbmcgZnJvbSAoaW5jbHVzaXZlKS5cbiAgICovXG4gIEBJbnB1dCgpIG1pbkRhdGU6IHN0cmluZyB8IERhdGU7XG5cbiAgLyoqXG4gICAqIEFkanVzdHMgdGhlIHN0ZXAgZm9yIHRoZSBtaW51dGUgaW5wdXQgKGluY2wuIHNjcm9sbGluZykuXG4gICAqL1xuICBASW5wdXQoKSBtaW51dGVJbmNyZW1lbnQ6IG51bWJlcjtcblxuICAvKipcbiAgICogU2VsZWN0IGEgc2luZ2xlIGRhdGUsIG11bHRpcGxlIGRhdGVzIG9yIGEgZGF0ZSByYW5nZS5cbiAgICovXG4gIEBJbnB1dCgpIG1vZGU6ICdzaW5nbGUnIHwgJ211bHRpcGxlJyB8ICdyYW5nZSc7XG5cbiAgLyoqXG4gICAqIEhUTUwgZm9yIHRoZSBhcnJvdyBpY29uLCB1c2VkIHRvIHN3aXRjaCBtb250aHMuXG4gICAqL1xuICBASW5wdXQoKSBuZXh0QXJyb3c6IHN0cmluZztcblxuICAvKipcbiAgICogSGlkZXMgdGhlIGRheSBzZWxlY3Rpb24gaW4gY2FsZW5kYXIuIFVzZSBpdCBhbG9uZyB3aXRoIGBlbmFibGVUaW1lYCB0byBjcmVhdGUgYSB0aW1lIHBpY2tlci5cbiAgICovXG4gIEBJbnB1dCgpIG5vQ2FsZW5kYXI6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFByb3ZpZGUgYSBkYXRlIGZvciAndG9kYXknLCB3aGljaCB3aWxsIGJlIHVzZWQgaW5zdGVhZCBvZiBcIm5ldyBEYXRlKClcIlxuICAgKi9cbiAgQElucHV0KCkgbm93PzogRGF0ZSB8IHN0cmluZyB8IG51bWJlcjtcblxuICAvKipcbiAgICogRnVuY3Rpb24gdGhhdCBleHBlY3RzIGEgZGF0ZSBzdHJpbmcgYW5kIG11c3QgcmV0dXJuIGEgRGF0ZSBvYmplY3QuXG4gICAqL1xuICBASW5wdXQoKSBwYXJzZURhdGU6IChzdHI6IHN0cmluZykgPT4gRGF0ZTtcblxuICAvKipcbiAgICogSFRNTCBmb3IgdGhlIGxlZnQgYXJyb3cgaWNvbi5cbiAgICovXG4gIEBJbnB1dCgpIHByZXZBcnJvdzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTaG93IHRoZSBtb250aCB1c2luZyB0aGUgc2hvcnRoYW5kIHZlcnNpb24gKGllLCBTZXAgaW5zdGVhZCBvZiBTZXB0ZW1iZXIpLlxuICAgKi9cbiAgQElucHV0KCkgc2hvcnRoYW5kQ3VycmVudE1vbnRoOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIG1vbnRocyBzaG93bi5cbiAgICovXG4gIEBJbnB1dCgpIHNob3dNb250aHM6IG51bWJlcjtcblxuICAvKipcbiAgICogUG9zaXRpb24gdGhlIGNhbGVuZGFyIGluc2lkZSB0aGUgd3JhcHBlciBhbmQgbmV4dCB0byB0aGUgaW5wdXQgZWxlbWVudC4gKExlYXZlIGBmYWxzZWAgdW5sZXNzIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nKS5cbiAgICovXG4gIEBJbnB1dCgpIHN0YXRpYzogYm9vbGVhbjtcblxuICAvKipcbiAgICogRGlzcGxheXMgdGltZSBwaWNrZXIgaW4gMjQgaG91ciBtb2RlIHdpdGhvdXQgQU0vUE0gc2VsZWN0aW9uIHdoZW4gZW5hYmxlZC5cbiAgICovXG4gIEBJbnB1dCgpIHRpbWUyNGhyOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIGRpc3BsYXkgb2Ygd2VlayBudW1iZXJzIGluIGNhbGVuZGFyLlxuICAgKi9cbiAgQElucHV0KCkgd2Vla051bWJlcnM6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFlvdSBtYXkgb3ZlcnJpZGUgdGhlIGZ1bmN0aW9uIHRoYXQgZXh0cmFjdHMgdGhlIHdlZWsgbnVtYmVycyBmcm9tIGEgRGF0ZSBieSBzdXBwbHlpbmcgYSBnZXRXZWVrIGZ1bmN0aW9uLlxuICAgKiBJdCB0YWtlcyBpbiBhIGRhdGUgYXMgYSBwYXJhbWV0ZXIgYW5kIHNob3VsZCByZXR1cm4gYSBjb3JyZXNwb25kaW5nIHN0cmluZyB0aGF0IHlvdSB3YW50IHRvIGFwcGVhciBsZWZ0IG9mIGV2ZXJ5IHdlZWsuXG4gICAqL1xuICBASW5wdXQoKSBnZXRXZWVrOiAoZGF0ZTogRGF0ZSkgPT4gc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBDdXN0b20gZWxlbWVudHMgYW5kIGlucHV0IGdyb3Vwcy5cbiAgICovXG4gIEBJbnB1dCgpIHdyYXA6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEFycmF5IG9mIHBsdWdpbiBpbnN0YW5jZXMgdG8gdXNlLlxuICAgKi9cbiAgQElucHV0KCkgcGx1Z2luczogYW55W107XG5cbiAgLyoqXG4gICAqIFRoZSBsb2NhbGUgb2JqZWN0IG9yIHN0cmluZyB0byB1c2UgZm9yIHRoZSBsb2NhbGUuXG4gICAqL1xuICBASW5wdXQoKSBsb2NhbGU6IG9iamVjdCB8IHN0cmluZztcblxuICAvKipcbiAgICogQXV0byBjb252ZXJ0IHRoZSBuZ01vZGVsIHZhbHVlIGZyb20gYSBzdHJpbmcgdG8gYSBkYXRlIC8gYXJyYXkgb2YgZGF0ZXMgLyBmcm9tIC0gdG8gZGF0ZSBvYmplY3QgZGVwZW5kaW5nIG9uIHRoZSBgbW9kZWBcbiAgICovXG4gIEBJbnB1dCgpIGNvbnZlcnRNb2RlbFZhbHVlOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBIb3cgdGhlIG1vbnRoIHNob3VsZCBiZSBkaXNwbGF5ZWQgaW4gdGhlIGhlYWRlciBvZiB0aGUgY2FsZW5kYXIuXG4gICAqL1xuICBASW5wdXQoKSBtb250aFNlbGVjdG9yVHlwZTogJ3N0YXRpYycgfCAnZHJvcGRvd24nO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRyaWdnZXJlZCBvbmNlIHRoZSBjYWxlbmRhciBpcyBpbiBhIHJlYWR5IHN0YXRlXG4gICAqL1xuICBAT3V0cHV0KClcbiAgZmxhdHBpY2tyUmVhZHk6IEV2ZW50RW1pdHRlcjxGbGF0UGlja3JPdXRwdXRPcHRpb25zPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvKipcbiAgICogR2V0cyB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBzZWxlY3RzIGEgZGF0ZSwgb3IgY2hhbmdlcyB0aGUgdGltZSBvbiBhIHNlbGVjdGVkIGRhdGUuXG4gICAqL1xuICBAT3V0cHV0KClcbiAgZmxhdHBpY2tyQ2hhbmdlOiBFdmVudEVtaXR0ZXI8RmxhdFBpY2tyT3V0cHV0T3B0aW9ucz4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLyoqXG4gICAqIEdldHMgdHJpZ2dlcmVkIHdoZW4gdGhlIGlucHV0IHZhbHVlIGlzIHVwZGF0ZWQgd2l0aCBhIG5ldyBkYXRlIHN0cmluZy5cbiAgICovXG4gIEBPdXRwdXQoKVxuICBmbGF0cGlja3JWYWx1ZVVwZGF0ZTogRXZlbnRFbWl0dGVyPFxuICAgIEZsYXRQaWNrck91dHB1dE9wdGlvbnNcbiAgPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvKipcbiAgICogR2V0cyB0cmlnZ2VyZWQgd2hlbiB0aGUgY2FsZW5kYXIgaXMgb3BlbmVkLlxuICAgKi9cbiAgQE91dHB1dCgpXG4gIGZsYXRwaWNrck9wZW46IEV2ZW50RW1pdHRlcjxGbGF0UGlja3JPdXRwdXRPcHRpb25zPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvKipcbiAgICogR2V0cyB0cmlnZ2VyZWQgd2hlbiB0aGUgY2FsZW5kYXIgaXMgY2xvc2VkLlxuICAgKi9cbiAgQE91dHB1dCgpXG4gIGZsYXRwaWNrckNsb3NlOiBFdmVudEVtaXR0ZXI8RmxhdFBpY2tyT3V0cHV0T3B0aW9ucz4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLyoqXG4gICAqIEdldHMgdHJpZ2dlcmVkIHdoZW4gdGhlIG1vbnRoIGlzIGNoYW5nZWQsIGVpdGhlciBieSB0aGUgdXNlciBvciBwcm9ncmFtbWF0aWNhbGx5LlxuICAgKi9cbiAgQE91dHB1dCgpXG4gIGZsYXRwaWNrck1vbnRoQ2hhbmdlOiBFdmVudEVtaXR0ZXI8XG4gICAgRmxhdFBpY2tyT3V0cHV0T3B0aW9uc1xuICA+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRyaWdnZXJlZCB3aGVuIHRoZSB5ZWFyIGlzIGNoYW5nZWQsIGVpdGhlciBieSB0aGUgdXNlciBvciBwcm9ncmFtbWF0aWNhbGx5LlxuICAgKi9cbiAgQE91dHB1dCgpXG4gIGZsYXRwaWNrclllYXJDaGFuZ2U6IEV2ZW50RW1pdHRlcjxcbiAgICBGbGF0UGlja3JPdXRwdXRPcHRpb25zXG4gID4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLyoqXG4gICAqIFRha2UgZnVsbCBjb250cm9sIG9mIGV2ZXJ5IGRhdGUgY2VsbCB3aXRoIHRoaXMgb3V0cHV0XG4gICAqL1xuICBAT3V0cHV0KClcbiAgZmxhdHBpY2tyRGF5Q3JlYXRlOiBFdmVudEVtaXR0ZXI8XG4gICAgRmxhdFBpY2tyRGF5Q3JlYXRlT3V0cHV0T3B0aW9uc1xuICA+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIC8qKlxuICAgKiBUaGUgZmxhdHBpY2tyIGluc3RhbmNlIHdoZXJlIHlvdSBjYW4gY2FsbCBtZXRob2RzIGxpa2UgdG9nZ2xlKCksIG9wZW4oKSwgY2xvc2UoKSBldGNcbiAgICovXG4gIGluc3RhbmNlOiBmbGF0cGlja3IuSW5zdGFuY2U7XG5cbiAgcHJpdmF0ZSBpc0Rpc2FibGVkID0gZmFsc2U7XG4gIHByaXZhdGUgaW5pdGlhbFZhbHVlOiBhbnk7XG5cbiAgb25DaGFuZ2VGbjogKHZhbHVlOiBhbnkpID0+IHZvaWQgPSAoKSA9PiB7fTsgLy8gdHNsaW50OmRpc2FibGUtbGluZVxuXG4gIG9uVG91Y2hlZEZuID0gKCkgPT4ge307XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBlbG06IEVsZW1lbnRSZWYsXG4gICAgcHJpdmF0ZSBkZWZhdWx0czogRmxhdHBpY2tyRGVmYXVsdHMsXG4gICAgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyXG4gICkge31cblxuICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XG4gICAgY29uc3Qgb3B0aW9uczogYW55ID0ge1xuICAgICAgYWx0Rm9ybWF0OiB0aGlzLmFsdEZvcm1hdCxcbiAgICAgIGFsdElucHV0OiB0aGlzLmFsdElucHV0LFxuICAgICAgYWx0SW5wdXRDbGFzczogdGhpcy5hbHRJbnB1dENsYXNzLFxuICAgICAgYWxsb3dJbnB1dDogdGhpcy5hbGxvd0lucHV0LFxuICAgICAgYXBwZW5kVG86IHRoaXMuYXBwZW5kVG8sXG4gICAgICBhcmlhRGF0ZUZvcm1hdDogdGhpcy5hcmlhRGF0ZUZvcm1hdCxcbiAgICAgIGNsaWNrT3BlbnM6IHRoaXMuY2xpY2tPcGVucyxcbiAgICAgIGRhdGVGb3JtYXQ6IHRoaXMuZGF0ZUZvcm1hdCxcbiAgICAgIGRlZmF1bHRIb3VyOiB0aGlzLmRlZmF1bHRIb3VyLFxuICAgICAgZGVmYXVsdE1pbnV0ZTogdGhpcy5kZWZhdWx0TWludXRlLFxuICAgICAgZGVmYXVsdFNlY29uZHM6IHRoaXMuZGVmYXVsdFNlY29uZHMsXG4gICAgICBkaXNhYmxlOiB0aGlzLmRpc2FibGUsXG4gICAgICBkaXNhYmxlTW9iaWxlOiB0aGlzLmRpc2FibGVNb2JpbGUsXG4gICAgICBlbmFibGU6IHRoaXMuZW5hYmxlLFxuICAgICAgZW5hYmxlVGltZTogdGhpcy5lbmFibGVUaW1lLFxuICAgICAgZW5hYmxlU2Vjb25kczogdGhpcy5lbmFibGVTZWNvbmRzLFxuICAgICAgZm9ybWF0RGF0ZTogdGhpcy5mb3JtYXREYXRlLFxuICAgICAgaG91ckluY3JlbWVudDogdGhpcy5ob3VySW5jcmVtZW50LFxuICAgICAgZGVmYXVsdERhdGU6IHRoaXMuaW5pdGlhbFZhbHVlLFxuICAgICAgaW5saW5lOiB0aGlzLmlubGluZSxcbiAgICAgIG1heERhdGU6IHRoaXMubWF4RGF0ZSxcbiAgICAgIG1pbkRhdGU6IHRoaXMubWluRGF0ZSxcbiAgICAgIG1pbnV0ZUluY3JlbWVudDogdGhpcy5taW51dGVJbmNyZW1lbnQsXG4gICAgICBtb2RlOiB0aGlzLm1vZGUsXG4gICAgICBuZXh0QXJyb3c6IHRoaXMubmV4dEFycm93LFxuICAgICAgbm9DYWxlbmRhcjogdGhpcy5ub0NhbGVuZGFyLFxuICAgICAgbm93OiB0aGlzLm5vdyxcbiAgICAgIHBhcnNlRGF0ZTogdGhpcy5wYXJzZURhdGUsXG4gICAgICBwcmV2QXJyb3c6IHRoaXMucHJldkFycm93LFxuICAgICAgc2hvcnRoYW5kQ3VycmVudE1vbnRoOiB0aGlzLnNob3J0aGFuZEN1cnJlbnRNb250aCxcbiAgICAgIHNob3dNb250aHM6IHRoaXMuc2hvd01vbnRocyxcbiAgICAgIG1vbnRoU2VsZWN0b3JUeXBlOiB0aGlzLm1vbnRoU2VsZWN0b3JUeXBlLFxuICAgICAgc3RhdGljOiB0aGlzLnN0YXRpYyxcbiAgICAgIHRpbWUyNGhyOiB0aGlzLnRpbWUyNGhyLFxuICAgICAgd2Vla051bWJlcnM6IHRoaXMud2Vla051bWJlcnMsXG4gICAgICBnZXRXZWVrOiB0aGlzLmdldFdlZWssXG4gICAgICB3cmFwOiB0aGlzLndyYXAsXG4gICAgICBwbHVnaW5zOiB0aGlzLnBsdWdpbnMsXG4gICAgICBsb2NhbGU6IHRoaXMubG9jYWxlLFxuICAgICAgb25DaGFuZ2U6IChzZWxlY3RlZERhdGVzOiBEYXRlW10sIGRhdGVTdHJpbmc6IHN0cmluZywgaW5zdGFuY2U6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLmZsYXRwaWNrckNoYW5nZS5lbWl0KHsgc2VsZWN0ZWREYXRlcywgZGF0ZVN0cmluZywgaW5zdGFuY2UgfSk7XG4gICAgICB9LFxuICAgICAgb25PcGVuOiAoc2VsZWN0ZWREYXRlczogRGF0ZVtdLCBkYXRlU3RyaW5nOiBzdHJpbmcsIGluc3RhbmNlOiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy5mbGF0cGlja3JPcGVuLmVtaXQoeyBzZWxlY3RlZERhdGVzLCBkYXRlU3RyaW5nLCBpbnN0YW5jZSB9KTtcbiAgICAgIH0sXG4gICAgICBvbkNsb3NlOiAoc2VsZWN0ZWREYXRlczogRGF0ZVtdLCBkYXRlU3RyaW5nOiBzdHJpbmcsIGluc3RhbmNlOiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy5mbGF0cGlja3JDbG9zZS5lbWl0KHsgc2VsZWN0ZWREYXRlcywgZGF0ZVN0cmluZywgaW5zdGFuY2UgfSk7XG4gICAgICB9LFxuICAgICAgb25Nb250aENoYW5nZTogKFxuICAgICAgICBzZWxlY3RlZERhdGVzOiBEYXRlW10sXG4gICAgICAgIGRhdGVTdHJpbmc6IHN0cmluZyxcbiAgICAgICAgaW5zdGFuY2U6IGFueVxuICAgICAgKSA9PiB7XG4gICAgICAgIHRoaXMuZmxhdHBpY2tyTW9udGhDaGFuZ2UuZW1pdCh7IHNlbGVjdGVkRGF0ZXMsIGRhdGVTdHJpbmcsIGluc3RhbmNlIH0pO1xuICAgICAgfSxcbiAgICAgIG9uWWVhckNoYW5nZTogKFxuICAgICAgICBzZWxlY3RlZERhdGVzOiBEYXRlW10sXG4gICAgICAgIGRhdGVTdHJpbmc6IHN0cmluZyxcbiAgICAgICAgaW5zdGFuY2U6IGFueVxuICAgICAgKSA9PiB7XG4gICAgICAgIHRoaXMuZmxhdHBpY2tyWWVhckNoYW5nZS5lbWl0KHsgc2VsZWN0ZWREYXRlcywgZGF0ZVN0cmluZywgaW5zdGFuY2UgfSk7XG4gICAgICB9LFxuICAgICAgb25SZWFkeTogKHNlbGVjdGVkRGF0ZXM6IERhdGVbXSwgZGF0ZVN0cmluZzogc3RyaW5nLCBpbnN0YW5jZTogYW55KSA9PiB7XG4gICAgICAgIHRoaXMuZmxhdHBpY2tyUmVhZHkuZW1pdCh7IHNlbGVjdGVkRGF0ZXMsIGRhdGVTdHJpbmcsIGluc3RhbmNlIH0pO1xuICAgICAgfSxcbiAgICAgIG9uVmFsdWVVcGRhdGU6IChcbiAgICAgICAgc2VsZWN0ZWREYXRlczogRGF0ZVtdLFxuICAgICAgICBkYXRlU3RyaW5nOiBzdHJpbmcsXG4gICAgICAgIGluc3RhbmNlOiBhbnlcbiAgICAgICkgPT4ge1xuICAgICAgICB0aGlzLmZsYXRwaWNrclZhbHVlVXBkYXRlLmVtaXQoeyBzZWxlY3RlZERhdGVzLCBkYXRlU3RyaW5nLCBpbnN0YW5jZSB9KTtcbiAgICAgIH0sXG4gICAgICBvbkRheUNyZWF0ZTogKFxuICAgICAgICBzZWxlY3RlZERhdGVzOiBEYXRlW10sXG4gICAgICAgIGRhdGVTdHJpbmc6IHN0cmluZyxcbiAgICAgICAgaW5zdGFuY2U6IGFueSxcbiAgICAgICAgZGF5RWxlbWVudDogSFRNTEVsZW1lbnRcbiAgICAgICkgPT4ge1xuICAgICAgICB0aGlzLmZsYXRwaWNrckRheUNyZWF0ZS5lbWl0KHtcbiAgICAgICAgICBzZWxlY3RlZERhdGVzLFxuICAgICAgICAgIGRhdGVTdHJpbmcsXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgZGF5RWxlbWVudFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zW2tleV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgb3B0aW9uc1trZXldID0gKHRoaXMub3B0aW9ucyBhcyBhbnkpW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9uc1trZXldID0gKHRoaXMuZGVmYXVsdHMgYXMgYW55KVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgb3B0aW9ucy50aW1lXzI0aHIgPSBvcHRpb25zLnRpbWUyNGhyO1xuXG4gICAgLy8gd29ya2Fyb3VuZCBidWcgaW4gZmxhdHBpY2tyIDQuNiB3aGVyZSBpdCBkb2Vzbid0IGNvcHkgdGhlIGNsYXNzZXMgYWNyb3NzXG4gICAgLy8gVE9ETyAtIHJlbW92ZSBvbmNlIGZpeCBpbiBodHRwczovL2dpdGh1Yi5jb20vZmxhdHBpY2tyL2ZsYXRwaWNrci9pc3N1ZXMvMTg2MCBpcyByZWxlYXNlZFxuICAgIG9wdGlvbnMuYWx0SW5wdXRDbGFzcyA9XG4gICAgICAob3B0aW9ucy5hbHRJbnB1dENsYXNzIHx8ICcnKSArICcgJyArIHRoaXMuZWxtLm5hdGl2ZUVsZW1lbnQuY2xhc3NOYW1lO1xuXG4gICAgaWYgKCFvcHRpb25zLmVuYWJsZSkge1xuICAgICAgZGVsZXRlIG9wdGlvbnMuZW5hYmxlO1xuICAgIH1cblxuICAgIHRoaXMuaW5zdGFuY2UgPSBmbGF0cGlja3IoXG4gICAgICB0aGlzLmVsbS5uYXRpdmVFbGVtZW50LFxuICAgICAgb3B0aW9uc1xuICAgICkgYXMgZmxhdHBpY2tyLkluc3RhbmNlO1xuICAgIHRoaXMuc2V0RGlzYWJsZWRTdGF0ZSh0aGlzLmlzRGlzYWJsZWQpO1xuICB9XG5cbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xuICAgIGlmICh0aGlzLmluc3RhbmNlKSB7XG4gICAgICBPYmplY3Qua2V5cyhjaGFuZ2VzKS5mb3JFYWNoKGlucHV0S2V5ID0+IHtcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5zZXQoaW5wdXRLZXkgYXMgYW55LCAodGhpcyBhcyBhbnkpW2lucHV0S2V5XSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pbnN0YW5jZSkge1xuICAgICAgdGhpcy5pbnN0YW5jZS5kZXN0cm95KCk7XG4gICAgfVxuICB9XG5cbiAgd3JpdGVWYWx1ZSh2YWx1ZTogYW55KTogdm9pZCB7XG4gICAgbGV0IGNvbnZlcnRlZFZhbHVlOiBhbnkgPSB2YWx1ZTtcbiAgICBpZiAodGhpcy5jb252ZXJ0TW9kZWxWYWx1ZSAmJiB0aGlzLm1vZGUgPT09ICdyYW5nZScgJiYgdmFsdWUpIHtcbiAgICAgIGNvbnZlcnRlZFZhbHVlID0gW3ZhbHVlLmZyb20sIHZhbHVlLnRvXTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pbnN0YW5jZSkge1xuICAgICAgdGhpcy5pbnN0YW5jZS5zZXREYXRlKGNvbnZlcnRlZFZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZmxhdHBpY2tyIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIHlldCwgc3RvcmUgdGhlIHZhbHVlIGZvciBsYXRlciB1c2VcbiAgICAgIHRoaXMuaW5pdGlhbFZhbHVlID0gY29udmVydGVkVmFsdWU7XG4gICAgfVxuICB9XG5cbiAgcmVnaXN0ZXJPbkNoYW5nZShmbjogYW55KTogdm9pZCB7XG4gICAgdGhpcy5vbkNoYW5nZUZuID0gZm47XG4gIH1cblxuICByZWdpc3Rlck9uVG91Y2hlZChmbjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMub25Ub3VjaGVkRm4gPSBmbjtcbiAgfVxuXG4gIHNldERpc2FibGVkU3RhdGUoaXNEaXNhYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuaXNEaXNhYmxlZCA9IGlzRGlzYWJsZWQ7XG4gICAgaWYgKHRoaXMuaW5zdGFuY2UpIHtcbiAgICAgIGlmICh0aGlzLmlzRGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRQcm9wZXJ0eSh0aGlzLmluc3RhbmNlLl9pbnB1dCwgJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLmluc3RhbmNlLl9pbnB1dCwgJ2Rpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignaW5wdXQnKVxuICBpbnB1dENoYW5nZWQoKTogdm9pZCB7XG4gICAgY29uc3QgdmFsdWU6IHN0cmluZyA9IHRoaXMuZWxtLm5hdGl2ZUVsZW1lbnQudmFsdWU7XG4gICAgaWYgKHRoaXMuY29udmVydE1vZGVsVmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcbiAgICAgICAgY2FzZSAnbXVsdGlwbGUnOlxuICAgICAgICAgIGNvbnN0IGRhdGVzOiBEYXRlW10gPSB2YWx1ZVxuICAgICAgICAgICAgLnNwbGl0KCc7ICcpXG4gICAgICAgICAgICAubWFwKHN0ciA9PlxuICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlLnBhcnNlRGF0ZShcbiAgICAgICAgICAgICAgICBzdHIsXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5jb25maWcuZGF0ZUZvcm1hdCxcbiAgICAgICAgICAgICAgICAhdGhpcy5pbnN0YW5jZS5jb25maWcuZW5hYmxlVGltZVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMub25DaGFuZ2VGbihkYXRlcyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmFuZ2UnOlxuICAgICAgICAgIGNvbnN0IFtmcm9tLCB0b10gPSB2YWx1ZVxuICAgICAgICAgICAgLnNwbGl0KHRoaXMuaW5zdGFuY2UubDEwbi5yYW5nZVNlcGFyYXRvcilcbiAgICAgICAgICAgIC5tYXAoc3RyID0+XG4gICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucGFyc2VEYXRlKFxuICAgICAgICAgICAgICAgIHN0cixcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlLmNvbmZpZy5kYXRlRm9ybWF0LFxuICAgICAgICAgICAgICAgICF0aGlzLmluc3RhbmNlLmNvbmZpZy5lbmFibGVUaW1lXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5vbkNoYW5nZUZuKHsgZnJvbSwgdG8gfSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnc2luZ2xlJzpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aGlzLm9uQ2hhbmdlRm4oXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLnBhcnNlRGF0ZShcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UuY29uZmlnLmRhdGVGb3JtYXQsXG4gICAgICAgICAgICAgICF0aGlzLmluc3RhbmNlLmNvbmZpZy5lbmFibGVUaW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vbkNoYW5nZUZuKHZhbHVlKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIE5nTW9kdWxlLFxuICBNb2R1bGVXaXRoUHJvdmlkZXJzLFxuICBJbmplY3Rpb25Ub2tlbixcbiAgUHJvdmlkZXJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGbGF0cGlja3JEaXJlY3RpdmUgfSBmcm9tICcuL2ZsYXRwaWNrci5kaXJlY3RpdmUnO1xuaW1wb3J0IHtcbiAgRmxhdHBpY2tyRGVmYXVsdHMsXG4gIEZsYXRwaWNrckRlZmF1bHRzSW50ZXJmYWNlXG59IGZyb20gJy4vZmxhdHBpY2tyLWRlZmF1bHRzLnNlcnZpY2UnO1xuXG5leHBvcnQgY29uc3QgVVNFUl9ERUZBVUxUUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignZmxhdHBpY2tyIGRlZmF1bHRzJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0c0ZhY3RvcnkoXG4gIHVzZXJEZWZhdWx0czogRmxhdHBpY2tyRGVmYXVsdHNJbnRlcmZhY2Vcbik6IEZsYXRwaWNrckRlZmF1bHRzIHtcbiAgY29uc3QgZGVmYXVsdHM6IEZsYXRwaWNrckRlZmF1bHRzID0gbmV3IEZsYXRwaWNrckRlZmF1bHRzKCk7XG4gIE9iamVjdC5hc3NpZ24oZGVmYXVsdHMsIHVzZXJEZWZhdWx0cyk7XG4gIHJldHVybiBkZWZhdWx0cztcbn1cblxuQE5nTW9kdWxlKHtcbiAgZGVjbGFyYXRpb25zOiBbRmxhdHBpY2tyRGlyZWN0aXZlXSxcbiAgZXhwb3J0czogW0ZsYXRwaWNrckRpcmVjdGl2ZV1cbn0pXG5leHBvcnQgY2xhc3MgRmxhdHBpY2tyTW9kdWxlIHtcbiAgc3RhdGljIGZvclJvb3QoXG4gICAgdXNlckRlZmF1bHRzOiBGbGF0cGlja3JEZWZhdWx0c0ludGVyZmFjZSA9IHt9XG4gICk6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xuICAgIHJldHVybiB7XG4gICAgICBuZ01vZHVsZTogRmxhdHBpY2tyTW9kdWxlLFxuICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBwcm92aWRlOiBVU0VSX0RFRkFVTFRTLFxuICAgICAgICAgIHVzZVZhbHVlOiB1c2VyRGVmYXVsdHNcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHByb3ZpZGU6IEZsYXRwaWNrckRlZmF1bHRzLFxuICAgICAgICAgIHVzZUZhY3Rvcnk6IGRlZmF1bHRzRmFjdG9yeSxcbiAgICAgICAgICBkZXBzOiBbVVNFUl9ERUZBVUxUU11cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH07XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7Ozt5QkEwTnNCLFFBQVE7Ozs7d0JBS1IsS0FBSzs7Ozs7NkJBTUQsRUFBRTs7OzswQkFLSixLQUFLOzs7O3dCQUtILFNBQVM7Ozs7OEJBS1AsUUFBUTs7Ozs7MEJBTVosSUFBSTs7Ozs7MEJBTUwsT0FBTzs7OzsyQkFLTCxFQUFFOzs7OzZCQUtBLENBQUM7Ozs7OEJBS0EsQ0FBQzs7Ozt1QkFLSSxFQUFFOzs7Ozs2QkFNUixLQUFLOzs7OzBCQVVSLEtBQUs7Ozs7NkJBS0YsS0FBSzs7OzswQkFLUSxTQUFTOzs7OzZCQUt2QixDQUFDOzs7O3NCQUtQLEtBQUs7Ozs7dUJBS0UsU0FBUzs7Ozt1QkFLVCxTQUFTOzs7OytCQUtSLENBQUM7Ozs7b0JBS2EsUUFBUTs7Ozt5QkFLNUIsR0FBRzs7OzswQkFLRCxLQUFLOzs7O21CQUtHLElBQUksSUFBSSxFQUFFOzs7O3lCQVVw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","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nexport var DAYS_OF_WEEK;\n(function (DAYS_OF_WEEK) {\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"SUNDAY\"] = 0] = \"SUNDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"MONDAY\"] = 1] = \"MONDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"TUESDAY\"] = 2] = \"TUESDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"WEDNESDAY\"] = 3] = \"WEDNESDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"THURSDAY\"] = 4] = \"THURSDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"FRIDAY\"] = 5] = \"FRIDAY\";\n    DAYS_OF_WEEK[DAYS_OF_WEEK[\"SATURDAY\"] = 6] = \"SATURDAY\";\n})(DAYS_OF_WEEK || (DAYS_OF_WEEK = {}));\nvar DEFAULT_WEEKEND_DAYS = [\n    DAYS_OF_WEEK.SUNDAY,\n    DAYS_OF_WEEK.SATURDAY,\n];\nvar DAYS_IN_WEEK = 7;\nvar HOURS_IN_DAY = 24;\nvar MINUTES_IN_HOUR = 60;\nexport var SECONDS_IN_DAY = 60 * 60 * 24;\nfunction getExcludedSeconds(dateAdapter, _a) {\n    var startDate = _a.startDate, seconds = _a.seconds, excluded = _a.excluded, precision = _a.precision;\n    if (excluded.length < 1) {\n        return 0;\n    }\n    var addSeconds = dateAdapter.addSeconds, getDay = dateAdapter.getDay, addDays = dateAdapter.addDays;\n    var endDate = addSeconds(startDate, seconds - 1);\n    var dayStart = getDay(startDate);\n    var dayEnd = getDay(endDate);\n    var result = 0; // Calculated in seconds\n    var current = startDate;\n    var _loop_1 = function () {\n        var day = getDay(current);\n        if (excluded.some(function (excludedDay) { return excludedDay === day; })) {\n            result += calculateExcludedSeconds(dateAdapter, {\n                dayStart: dayStart,\n                dayEnd: dayEnd,\n                day: day,\n                precision: precision,\n                startDate: startDate,\n                endDate: endDate,\n            });\n        }\n        current = addDays(current, 1);\n    };\n    while (current < endDate) {\n        _loop_1();\n    }\n    return result;\n}\nfunction calculateExcludedSeconds(dateAdapter, _a) {\n    var precision = _a.precision, day = _a.day, dayStart = _a.dayStart, dayEnd = _a.dayEnd, startDate = _a.startDate, endDate = _a.endDate;\n    var differenceInSeconds = dateAdapter.differenceInSeconds, endOfDay = dateAdapter.endOfDay, startOfDay = dateAdapter.startOfDay;\n    if (precision === 'minutes') {\n        if (day === dayStart) {\n            return differenceInSeconds(endOfDay(startDate), startDate) + 1;\n        }\n        else if (day === dayEnd) {\n            return differenceInSeconds(endDate, startOfDay(endDate)) + 1;\n        }\n    }\n    return SECONDS_IN_DAY;\n}\nfunction getWeekViewEventSpan(dateAdapter, _a) {\n    var event = _a.event, offset = _a.offset, startOfWeekDate = _a.startOfWeekDate, excluded = _a.excluded, precision = _a.precision, totalDaysInView = _a.totalDaysInView;\n    var max = dateAdapter.max, differenceInSeconds = dateAdapter.differenceInSeconds, addDays = dateAdapter.addDays, endOfDay = dateAdapter.endOfDay, differenceInDays = dateAdapter.differenceInDays;\n    var span = SECONDS_IN_DAY;\n    var begin = max([event.start, startOfWeekDate]);\n    if (event.end) {\n        switch (precision) {\n            case 'minutes':\n                span = differenceInSeconds(event.end, begin);\n                break;\n            default:\n                span =\n                    differenceInDays(addDays(endOfDay(event.end), 1), begin) *\n                        SECONDS_IN_DAY;\n                break;\n        }\n    }\n    var offsetSeconds = offset * SECONDS_IN_DAY;\n    var totalLength = offsetSeconds + span;\n    // the best way to detect if an event is outside the week-view\n    // is to check if the total span beginning (from startOfWeekDay or event start) exceeds the total days in the view\n    var secondsInView = totalDaysInView * SECONDS_IN_DAY;\n    if (totalLength > secondsInView) {\n        span = secondsInView - offsetSeconds;\n    }\n    span -= getExcludedSeconds(dateAdapter, {\n        startDate: begin,\n        seconds: span,\n        excluded: excluded,\n        precision: precision,\n    });\n    return span / SECONDS_IN_DAY;\n}\nfunction getWeekViewEventOffset(dateAdapter, _a) {\n    var event = _a.event, startOfWeekDate = _a.startOfWeek, excluded = _a.excluded, precision = _a.precision;\n    var differenceInDays = dateAdapter.differenceInDays, startOfDay = dateAdapter.startOfDay, differenceInSeconds = dateAdapter.differenceInSeconds;\n    if (event.start < startOfWeekDate) {\n        return 0;\n    }\n    var offset = 0;\n    switch (precision) {\n        case 'days':\n            offset =\n                differenceInDays(startOfDay(event.start), startOfWeekDate) *\n                    SECONDS_IN_DAY;\n            break;\n        case 'minutes':\n            offset = differenceInSeconds(event.start, startOfWeekDate);\n            break;\n    }\n    offset -= getExcludedSeconds(dateAdapter, {\n        startDate: startOfWeekDate,\n        seconds: offset,\n        excluded: excluded,\n        precision: precision,\n    });\n    return Math.abs(offset / SECONDS_IN_DAY);\n}\nfunction isEventIsPeriod(dateAdapter, _a) {\n    var event = _a.event, periodStart = _a.periodStart, periodEnd = _a.periodEnd;\n    var isSameSecond = dateAdapter.isSameSecond;\n    var eventStart = event.start;\n    var eventEnd = event.end || event.start;\n    if (eventStart > periodStart && eventStart < periodEnd) {\n        return true;\n    }\n    if (eventEnd > periodStart && eventEnd < periodEnd) {\n        return true;\n    }\n    if (eventStart < periodStart && eventEnd > periodEnd) {\n        return true;\n    }\n    if (isSameSecond(eventStart, periodStart) ||\n        isSameSecond(eventStart, periodEnd)) {\n        return true;\n    }\n    if (isSameSecond(eventEnd, periodStart) ||\n        isSameSecond(eventEnd, periodEnd)) {\n        return true;\n    }\n    return false;\n}\nexport function getEventsInPeriod(dateAdapter, _a) {\n    var events = _a.events, periodStart = _a.periodStart, periodEnd = _a.periodEnd;\n    return events.filter(function (event) {\n        return isEventIsPeriod(dateAdapter, { event: event, periodStart: periodStart, periodEnd: periodEnd });\n    });\n}\nfunction getWeekDay(dateAdapter, _a) {\n    var date = _a.date, _b = _a.weekendDays, weekendDays = _b === void 0 ? DEFAULT_WEEKEND_DAYS : _b;\n    var startOfDay = dateAdapter.startOfDay, isSameDay = dateAdapter.isSameDay, getDay = dateAdapter.getDay;\n    var today = startOfDay(new Date());\n    var day = getDay(date);\n    return {\n        date: date,\n        day: day,\n        isPast: date < today,\n        isToday: isSameDay(date, today),\n        isFuture: date > today,\n        isWeekend: weekendDays.indexOf(day) > -1,\n    };\n}\nexport function getWeekViewHeader(dateAdapter, _a) {\n    var viewDate = _a.viewDate, weekStartsOn = _a.weekStartsOn, _b = _a.excluded, excluded = _b === void 0 ? [] : _b, weekendDays = _a.weekendDays, _c = _a.viewStart, viewStart = _c === void 0 ? dateAdapter.startOfWeek(viewDate, { weekStartsOn: weekStartsOn }) : _c, _d = _a.viewEnd, viewEnd = _d === void 0 ? dateAdapter.addDays(viewStart, DAYS_IN_WEEK) : _d;\n    var addDays = dateAdapter.addDays, getDay = dateAdapter.getDay;\n    var days = [];\n    var date = viewStart;\n    while (date < viewEnd) {\n        if (!excluded.some(function (e) { return getDay(date) === e; })) {\n            days.push(getWeekDay(dateAdapter, { date: date, weekendDays: weekendDays }));\n        }\n        date = addDays(date, 1);\n    }\n    return days;\n}\nexport function getDifferenceInDaysWithExclusions(dateAdapter, _a) {\n    var date1 = _a.date1, date2 = _a.date2, excluded = _a.excluded;\n    var date = date1;\n    var diff = 0;\n    while (date < date2) {\n        if (excluded.indexOf(dateAdapter.getDay(date)) === -1) {\n            diff++;\n        }\n        date = dateAdapter.addDays(date, 1);\n    }\n    return diff;\n}\nexport function getAllDayWeekEvents(dateAdapter, _a) {\n    var _b = _a.events, events = _b === void 0 ? [] : _b, _c = _a.excluded, excluded = _c === void 0 ? [] : _c, _d = _a.precision, precision = _d === void 0 ? 'days' : _d, _e = _a.absolutePositionedEvents, absolutePositionedEvents = _e === void 0 ? false : _e, viewStart = _a.viewStart, viewEnd = _a.viewEnd;\n    viewStart = dateAdapter.startOfDay(viewStart);\n    viewEnd = dateAdapter.endOfDay(viewEnd);\n    var differenceInSeconds = dateAdapter.differenceInSeconds, differenceInDays = dateAdapter.differenceInDays;\n    var maxRange = getDifferenceInDaysWithExclusions(dateAdapter, {\n        date1: viewStart,\n        date2: viewEnd,\n        excluded: excluded,\n    });\n    var totalDaysInView = differenceInDays(viewEnd, viewStart) + 1;\n    var eventsMapped = events\n        .filter(function (event) { return event.allDay; })\n        .map(function (event) {\n        var offset = getWeekViewEventOffset(dateAdapter, {\n            event: event,\n            startOfWeek: viewStart,\n            excluded: excluded,\n            precision: precision,\n        });\n        var span = getWeekViewEventSpan(dateAdapter, {\n            event: event,\n            offset: offset,\n            startOfWeekDate: viewStart,\n            excluded: excluded,\n            precision: precision,\n            totalDaysInView: totalDaysInView,\n        });\n        return { event: event, offset: offset, span: span };\n    })\n        .filter(function (e) { return e.offset < maxRange; })\n        .filter(function (e) { return e.span > 0; })\n        .map(function (entry) { return ({\n        event: entry.event,\n        offset: entry.offset,\n        span: entry.span,\n        startsBeforeWeek: entry.event.start < viewStart,\n        endsAfterWeek: (entry.event.end || entry.event.start) > viewEnd,\n    }); })\n        .sort(function (itemA, itemB) {\n        var startSecondsDiff = differenceInSeconds(itemA.event.start, itemB.event.start);\n        if (startSecondsDiff === 0) {\n            return differenceInSeconds(itemB.event.end || itemB.event.start, itemA.event.end || itemA.event.start);\n        }\n        return startSecondsDiff;\n    });\n    var allDayEventRows = [];\n    var allocatedEvents = [];\n    eventsMapped.forEach(function (event, index) {\n        if (allocatedEvents.indexOf(event) === -1) {\n            allocatedEvents.push(event);\n            var rowSpan_1 = event.span + event.offset;\n            var otherRowEvents = eventsMapped\n                .slice(index + 1)\n                .filter(function (nextEvent) {\n                if (nextEvent.offset >= rowSpan_1 &&\n                    rowSpan_1 + nextEvent.span <= totalDaysInView &&\n                    allocatedEvents.indexOf(nextEvent) === -1) {\n                    var nextEventOffset = nextEvent.offset - rowSpan_1;\n                    if (!absolutePositionedEvents) {\n                        nextEvent.offset = nextEventOffset;\n                    }\n                    rowSpan_1 += nextEvent.span + nextEventOffset;\n                    allocatedEvents.push(nextEvent);\n                    return true;\n                }\n            });\n            var weekEvents = __spreadArrays([event], otherRowEvents);\n            var id = weekEvents\n                .filter(function (weekEvent) { return weekEvent.event.id; })\n                .map(function (weekEvent) { return weekEvent.event.id; })\n                .join('-');\n            allDayEventRows.push(__assign({ row: weekEvents }, (id ? { id: id } : {})));\n        }\n    });\n    return allDayEventRows;\n}\nfunction getWeekViewHourGrid(dateAdapter, _a) {\n    var events = _a.events, viewDate = _a.viewDate, hourSegments = _a.hourSegments, hourDuration = _a.hourDuration, dayStart = _a.dayStart, dayEnd = _a.dayEnd, weekStartsOn = _a.weekStartsOn, excluded = _a.excluded, weekendDays = _a.weekendDays, segmentHeight = _a.segmentHeight, viewStart = _a.viewStart, viewEnd = _a.viewEnd, minimumEventHeight = _a.minimumEventHeight;\n    var dayViewHourGrid = getDayViewHourGrid(dateAdapter, {\n        viewDate: viewDate,\n        hourSegments: hourSegments,\n        hourDuration: hourDuration,\n        dayStart: dayStart,\n        dayEnd: dayEnd,\n    });\n    var weekDays = getWeekViewHeader(dateAdapter, {\n        viewDate: viewDate,\n        weekStartsOn: weekStartsOn,\n        excluded: excluded,\n        weekendDays: weekendDays,\n        viewStart: viewStart,\n        viewEnd: viewEnd,\n    });\n    var setHours = dateAdapter.setHours, setMinutes = dateAdapter.setMinutes, getHours = dateAdapter.getHours, getMinutes = dateAdapter.getMinutes;\n    return weekDays.map(function (day) {\n        var dayView = getDayView(dateAdapter, {\n            events: events,\n            viewDate: day.date,\n            hourSegments: hourSegments,\n            dayStart: dayStart,\n            dayEnd: dayEnd,\n            segmentHeight: segmentHeight,\n            eventWidth: 1,\n            hourDuration: hourDuration,\n            minimumEventHeight: minimumEventHeight,\n        });\n        var hours = dayViewHourGrid.map(function (hour) {\n            var segments = hour.segments.map(function (segment) {\n                var date = setMinutes(setHours(day.date, getHours(segment.date)), getMinutes(segment.date));\n                return __assign(__assign({}, segment), { date: date });\n            });\n            return __assign(__assign({}, hour), { segments: segments });\n        });\n        function getColumnCount(allEvents, prevOverlappingEvents) {\n            var columnCount = Math.max.apply(Math, prevOverlappingEvents.map(function (iEvent) { return iEvent.left + 1; }));\n            var nextOverlappingEvents = allEvents\n                .filter(function (iEvent) { return iEvent.left >= columnCount; })\n                .filter(function (iEvent) {\n                return (getOverLappingWeekViewEvents(prevOverlappingEvents, iEvent.top, iEvent.top + iEvent.height).length > 0);\n            });\n            if (nextOverlappingEvents.length > 0) {\n                return getColumnCount(allEvents, nextOverlappingEvents);\n            }\n            else {\n                return columnCount;\n            }\n        }\n        var mappedEvents = dayView.events.map(function (event) {\n            var columnCount = getColumnCount(dayView.events, getOverLappingWeekViewEvents(dayView.events, event.top, event.top + event.height));\n            var width = 100 / columnCount;\n            return __assign(__assign({}, event), { left: event.left * width, width: width });\n        });\n        return {\n            hours: hours,\n            date: day.date,\n            events: mappedEvents.map(function (event) {\n                var overLappingEvents = getOverLappingWeekViewEvents(mappedEvents.filter(function (otherEvent) { return otherEvent.left > event.left; }), event.top, event.top + event.height);\n                if (overLappingEvents.length > 0) {\n                    return __assign(__assign({}, event), { width: Math.min.apply(Math, overLappingEvents.map(function (otherEvent) { return otherEvent.left; })) - event.left });\n                }\n                return event;\n            }),\n        };\n    });\n}\nexport function getWeekView(dateAdapter, _a) {\n    var _b = _a.events, events = _b === void 0 ? [] : _b, viewDate = _a.viewDate, weekStartsOn = _a.weekStartsOn, _c = _a.excluded, excluded = _c === void 0 ? [] : _c, _d = _a.precision, precision = _d === void 0 ? 'days' : _d, _e = _a.absolutePositionedEvents, absolutePositionedEvents = _e === void 0 ? false : _e, hourSegments = _a.hourSegments, hourDuration = _a.hourDuration, dayStart = _a.dayStart, dayEnd = _a.dayEnd, weekendDays = _a.weekendDays, segmentHeight = _a.segmentHeight, minimumEventHeight = _a.minimumEventHeight, _f = _a.viewStart, viewStart = _f === void 0 ? dateAdapter.startOfWeek(viewDate, { weekStartsOn: weekStartsOn }) : _f, _g = _a.viewEnd, viewEnd = _g === void 0 ? dateAdapter.endOfWeek(viewDate, { weekStartsOn: weekStartsOn }) : _g;\n    if (!events) {\n        events = [];\n    }\n    var startOfDay = dateAdapter.startOfDay, endOfDay = dateAdapter.endOfDay;\n    viewStart = startOfDay(viewStart);\n    viewEnd = endOfDay(viewEnd);\n    var eventsInPeriod = getEventsInPeriod(dateAdapter, {\n        events: events,\n        periodStart: viewStart,\n        periodEnd: viewEnd,\n    });\n    var header = getWeekViewHeader(dateAdapter, {\n        viewDate: viewDate,\n        weekStartsOn: weekStartsOn,\n        excluded: excluded,\n        weekendDays: weekendDays,\n        viewStart: viewStart,\n        viewEnd: viewEnd,\n    });\n    return {\n        allDayEventRows: getAllDayWeekEvents(dateAdapter, {\n            events: eventsInPeriod,\n            excluded: excluded,\n            precision: precision,\n            absolutePositionedEvents: absolutePositionedEvents,\n            viewStart: viewStart,\n            viewEnd: viewEnd,\n        }),\n        period: {\n            events: eventsInPeriod,\n            start: header[0].date,\n            end: endOfDay(header[header.length - 1].date),\n        },\n        hourColumns: getWeekViewHourGrid(dateAdapter, {\n            events: events,\n            viewDate: viewDate,\n            hourSegments: hourSegments,\n            hourDuration: hourDuration,\n            dayStart: dayStart,\n            dayEnd: dayEnd,\n            weekStartsOn: weekStartsOn,\n            excluded: excluded,\n            weekendDays: weekendDays,\n            segmentHeight: segmentHeight,\n            viewStart: viewStart,\n            viewEnd: viewEnd,\n            minimumEventHeight: minimumEventHeight,\n        }),\n    };\n}\nexport function getMonthView(dateAdapter, _a) {\n    var _b = _a.events, events = _b === void 0 ? [] : _b, viewDate = _a.viewDate, weekStartsOn = _a.weekStartsOn, _c = _a.excluded, excluded = _c === void 0 ? [] : _c, _d = _a.viewStart, viewStart = _d === void 0 ? dateAdapter.startOfMonth(viewDate) : _d, _e = _a.viewEnd, viewEnd = _e === void 0 ? dateAdapter.endOfMonth(viewDate) : _e, weekendDays = _a.weekendDays;\n    if (!events) {\n        events = [];\n    }\n    var startOfWeek = dateAdapter.startOfWeek, endOfWeek = dateAdapter.endOfWeek, differenceInDays = dateAdapter.differenceInDays, startOfDay = dateAdapter.startOfDay, addHours = dateAdapter.addHours, endOfDay = dateAdapter.endOfDay, isSameMonth = dateAdapter.isSameMonth, getDay = dateAdapter.getDay, getMonth = dateAdapter.getMonth;\n    var start = startOfWeek(viewStart, { weekStartsOn: weekStartsOn });\n    var end = endOfWeek(viewEnd, { weekStartsOn: weekStartsOn });\n    var eventsInMonth = getEventsInPeriod(dateAdapter, {\n        events: events,\n        periodStart: start,\n        periodEnd: end,\n    });\n    var initialViewDays = [];\n    var previousDate;\n    var _loop_2 = function (i) {\n        // hacky fix for https://github.com/mattlewis92/angular-calendar/issues/173\n        var date;\n        if (previousDate) {\n            date = startOfDay(addHours(previousDate, HOURS_IN_DAY));\n            if (previousDate.getTime() === date.getTime()) {\n                // DST change, so need to add 25 hours\n                /* istanbul ignore next */\n                date = startOfDay(addHours(previousDate, HOURS_IN_DAY + 1));\n            }\n            previousDate = date;\n        }\n        else {\n            date = previousDate = start;\n        }\n        if (!excluded.some(function (e) { return getDay(date) === e; })) {\n            var day = getWeekDay(dateAdapter, {\n                date: date,\n                weekendDays: weekendDays,\n            });\n            var eventsInPeriod = getEventsInPeriod(dateAdapter, {\n                events: eventsInMonth,\n                periodStart: startOfDay(date),\n                periodEnd: endOfDay(date),\n            });\n            day.inMonth = isSameMonth(date, viewDate);\n            day.events = eventsInPeriod;\n            day.badgeTotal = eventsInPeriod.length;\n            initialViewDays.push(day);\n        }\n    };\n    for (var i = 0; i < differenceInDays(end, start) + 1; i++) {\n        _loop_2(i);\n    }\n    var days = [];\n    var totalDaysVisibleInWeek = DAYS_IN_WEEK - excluded.length;\n    if (totalDaysVisibleInWeek < DAYS_IN_WEEK) {\n        for (var i = 0; i < initialViewDays.length; i += totalDaysVisibleInWeek) {\n            var row = initialViewDays.slice(i, i + totalDaysVisibleInWeek);\n            var isRowInMonth = row.some(function (day) { return viewStart <= day.date && day.date < viewEnd; });\n            if (isRowInMonth) {\n                days = __spreadArrays(days, row);\n            }\n        }\n    }\n    else {\n        days = initialViewDays;\n    }\n    var rows = Math.floor(days.length / totalDaysVisibleInWeek);\n    var rowOffsets = [];\n    for (var i = 0; i < rows; i++) {\n        rowOffsets.push(i * totalDaysVisibleInWeek);\n    }\n    return {\n        rowOffsets: rowOffsets,\n        totalDaysVisibleInWeek: totalDaysVisibleInWeek,\n        days: days,\n        period: {\n            start: days[0].date,\n            end: endOfDay(days[days.length - 1].date),\n            events: eventsInMonth,\n        },\n    };\n}\nfunction getOverLappingWeekViewEvents(events, top, bottom) {\n    return events.filter(function (previousEvent) {\n        var previousEventTop = previousEvent.top;\n        var previousEventBottom = previousEvent.top + previousEvent.height;\n        if (top < previousEventBottom && previousEventBottom < bottom) {\n            return true;\n        }\n        else if (top < previousEventTop && previousEventTop < bottom) {\n            return true;\n        }\n        else if (previousEventTop <= top && bottom <= previousEventBottom) {\n            return true;\n        }\n        return false;\n    });\n}\nfunction getDayView(dateAdapter, _a) {\n    var events = _a.events, viewDate = _a.viewDate, hourSegments = _a.hourSegments, dayStart = _a.dayStart, dayEnd = _a.dayEnd, eventWidth = _a.eventWidth, segmentHeight = _a.segmentHeight, hourDuration = _a.hourDuration, minimumEventHeight = _a.minimumEventHeight;\n    var setMinutes = dateAdapter.setMinutes, setHours = dateAdapter.setHours, startOfDay = dateAdapter.startOfDay, startOfMinute = dateAdapter.startOfMinute, endOfDay = dateAdapter.endOfDay, differenceInMinutes = dateAdapter.differenceInMinutes;\n    var startOfView = setMinutes(setHours(startOfDay(viewDate), sanitiseHours(dayStart.hour)), sanitiseMinutes(dayStart.minute));\n    var endOfView = setMinutes(setHours(startOfMinute(endOfDay(viewDate)), sanitiseHours(dayEnd.hour)), sanitiseMinutes(dayEnd.minute));\n    endOfView.setSeconds(59, 999);\n    var previousDayEvents = [];\n    var eventsInPeriod = getEventsInPeriod(dateAdapter, {\n        events: events.filter(function (event) { return !event.allDay; }),\n        periodStart: startOfView,\n        periodEnd: endOfView,\n    });\n    var dayViewEvents = eventsInPeriod\n        .sort(function (eventA, eventB) {\n        return eventA.start.valueOf() - eventB.start.valueOf();\n    })\n        .map(function (event) {\n        var eventStart = event.start;\n        var eventEnd = event.end || eventStart;\n        var startsBeforeDay = eventStart < startOfView;\n        var endsAfterDay = eventEnd > endOfView;\n        var hourHeightModifier = (hourSegments * segmentHeight) / (hourDuration || MINUTES_IN_HOUR);\n        var top = 0;\n        if (eventStart > startOfView) {\n            // adjust the difference in minutes if the user's offset is different between the start of the day and the event (e.g. when going to or from DST)\n            var eventOffset = eventStart.getTimezoneOffset();\n            var startOffset = startOfView.getTimezoneOffset();\n            var diff = startOffset - eventOffset;\n            top += differenceInMinutes(eventStart, startOfView) + diff;\n        }\n        top *= hourHeightModifier;\n        top = Math.floor(top);\n        var startDate = startsBeforeDay ? startOfView : eventStart;\n        var endDate = endsAfterDay ? endOfView : eventEnd;\n        var timezoneOffset = startDate.getTimezoneOffset() - endDate.getTimezoneOffset();\n        var height = differenceInMinutes(endDate, startDate) + timezoneOffset;\n        if (!event.end) {\n            height = segmentHeight;\n        }\n        else {\n            height *= hourHeightModifier;\n        }\n        if (minimumEventHeight && height < minimumEventHeight) {\n            height = minimumEventHeight;\n        }\n        height = Math.floor(height);\n        var bottom = top + height;\n        var overlappingPreviousEvents = getOverLappingWeekViewEvents(previousDayEvents, top, bottom);\n        var left = 0;\n        while (overlappingPreviousEvents.some(function (previousEvent) { return previousEvent.left === left; })) {\n            left += eventWidth;\n        }\n        var dayEvent = {\n            event: event,\n            height: height,\n            width: eventWidth,\n            top: top,\n            left: left,\n            startsBeforeDay: startsBeforeDay,\n            endsAfterDay: endsAfterDay,\n        };\n        previousDayEvents.push(dayEvent);\n        return dayEvent;\n    });\n    var width = Math.max.apply(Math, dayViewEvents.map(function (event) { return event.left + event.width; }));\n    var allDayEvents = getEventsInPeriod(dateAdapter, {\n        events: events.filter(function (event) { return event.allDay; }),\n        periodStart: startOfDay(startOfView),\n        periodEnd: endOfDay(endOfView),\n    });\n    return {\n        events: dayViewEvents,\n        width: width,\n        allDayEvents: allDayEvents,\n        period: {\n            events: eventsInPeriod,\n            start: startOfView,\n            end: endOfView,\n        },\n    };\n}\nfunction sanitiseHours(hours) {\n    return Math.max(Math.min(23, hours), 0);\n}\nfunction sanitiseMinutes(minutes) {\n    return Math.max(Math.min(59, minutes), 0);\n}\nfunction getDayViewHourGrid(dateAdapter, _a) {\n    var viewDate = _a.viewDate, hourSegments = _a.hourSegments, hourDuration = _a.hourDuration, dayStart = _a.dayStart, dayEnd = _a.dayEnd;\n    var setMinutes = dateAdapter.setMinutes, setHours = dateAdapter.setHours, startOfDay = dateAdapter.startOfDay, startOfMinute = dateAdapter.startOfMinute, endOfDay = dateAdapter.endOfDay, addMinutes = dateAdapter.addMinutes, addHours = dateAdapter.addHours, addDays = dateAdapter.addDays;\n    var hours = [];\n    var startOfView = setMinutes(setHours(startOfDay(viewDate), sanitiseHours(dayStart.hour)), sanitiseMinutes(dayStart.minute));\n    var endOfView = setMinutes(setHours(startOfMinute(endOfDay(viewDate)), sanitiseHours(dayEnd.hour)), sanitiseMinutes(dayEnd.minute));\n    var segmentDuration = (hourDuration || MINUTES_IN_HOUR) / hourSegments;\n    var startOfViewDay = startOfDay(viewDate);\n    var endOfViewDay = endOfDay(viewDate);\n    var dateAdjustment = function (d) { return d; };\n    // this means that we change from or to DST on this day and that's going to cause problems so we bump the date\n    if (startOfViewDay.getTimezoneOffset() !== endOfViewDay.getTimezoneOffset()) {\n        startOfViewDay = addDays(startOfViewDay, 1);\n        startOfView = addDays(startOfView, 1);\n        endOfView = addDays(endOfView, 1);\n        dateAdjustment = function (d) { return addDays(d, -1); };\n    }\n    var dayDuration = hourDuration\n        ? (HOURS_IN_DAY * 60) / hourDuration\n        : MINUTES_IN_HOUR;\n    for (var i = 0; i < dayDuration; i++) {\n        var segments = [];\n        for (var j = 0; j < hourSegments; j++) {\n            var date = addMinutes(addMinutes(startOfView, i * (hourDuration || MINUTES_IN_HOUR)), j * segmentDuration);\n            if (date >= startOfView && date < endOfView) {\n                segments.push({\n                    date: dateAdjustment(date),\n                    displayDate: date,\n                    isStart: j === 0,\n                });\n            }\n        }\n        if (segments.length > 0) {\n            hours.push({ segments: segments });\n        }\n    }\n    return hours;\n}\nexport var EventValidationErrorMessage;\n(function (EventValidationErrorMessage) {\n    EventValidationErrorMessage[\"NotArray\"] = \"Events must be an array\";\n    EventValidationErrorMessage[\"StartPropertyMissing\"] = \"Event is missing the `start` property\";\n    EventValidationErrorMessage[\"StartPropertyNotDate\"] = \"Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.\";\n    EventValidationErrorMessage[\"EndPropertyNotDate\"] = \"Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.\";\n    EventValidationErrorMessage[\"EndsBeforeStart\"] = \"Event `start` property occurs after the `end`\";\n})(EventValidationErrorMessage || (EventValidationErrorMessage = {}));\nexport function validateEvents(events, log) {\n    var isValid = true;\n    function isError(msg, event) {\n        log(msg, event);\n        isValid = false;\n    }\n    if (!Array.isArray(events)) {\n        log(EventValidationErrorMessage.NotArray, events);\n        return false;\n    }\n    events.forEach(function (event) {\n        if (!event.start) {\n            isError(EventValidationErrorMessage.StartPropertyMissing, event);\n        }\n        else if (!(event.start instanceof Date)) {\n            isError(EventValidationErrorMessage.StartPropertyNotDate, event);\n        }\n        if (event.end) {\n            if (!(event.end instanceof Date)) {\n                isError(EventValidationErrorMessage.EndPropertyNotDate, event);\n            }\n            if (event.start > event.end) {\n                isError(EventValidationErrorMessage.EndsBeforeStart, event);\n            }\n        }\n    });\n    return isValid;\n}\n//# sourceMappingURL=calendar-utils.js.map","import { isPlatformBrowser } from '@angular/common';\nimport { Directive, Renderer2, ElementRef, Output, Input, EventEmitter, NgZone, Inject, PLATFORM_ID, Optional, NgModule } from '@angular/core';\nimport { Subject, Observable, merge, EMPTY, fromEvent } from 'rxjs';\nimport { map, mergeMap, takeUntil, filter, pairwise, take, share, auditTime, switchMap, startWith, tap } from 'rxjs/operators';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @hidden\n * @type {?}\n */\nconst IS_TOUCH_DEVICE = (() => {\n    // In case we're in Node.js environment.\n    if (typeof window === 'undefined') {\n        return false;\n    }\n    else {\n        return ('ontouchstart' in window ||\n            navigator.maxTouchPoints > 0 ||\n            navigator.msMaxTouchPoints > 0);\n    }\n})();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} value1\n * @param {?} value2\n * @param {?=} precision\n * @return {?}\n */\nfunction isNumberCloseTo(value1, value2, precision = 3) {\n    /** @type {?} */\n    const diff = Math.abs(value1 - value2);\n    return diff < precision;\n}\n/**\n * @param {?} startingRect\n * @param {?} edges\n * @param {?} clientX\n * @param {?} clientY\n * @return {?}\n */\nfunction getNewBoundingRectangle(startingRect, edges, clientX, clientY) {\n    /** @type {?} */\n    const newBoundingRect = {\n        top: startingRect.top,\n        bottom: startingRect.bottom,\n        left: startingRect.left,\n        right: startingRect.right\n    };\n    if (edges.top) {\n        newBoundingRect.top += clientY;\n    }\n    if (edges.bottom) {\n        newBoundingRect.bottom += clientY;\n    }\n    if (edges.left) {\n        newBoundingRect.left += clientX;\n    }\n    if (edges.right) {\n        newBoundingRect.right += clientX;\n    }\n    newBoundingRect.height = newBoundingRect.bottom - newBoundingRect.top;\n    newBoundingRect.width = newBoundingRect.right - newBoundingRect.left;\n    return newBoundingRect;\n}\n/**\n * @param {?} element\n * @param {?} ghostElementPositioning\n * @return {?}\n */\nfunction getElementRect(element, ghostElementPositioning) {\n    /** @type {?} */\n    let translateX = 0;\n    /** @type {?} */\n    let translateY = 0;\n    /** @type {?} */\n    const style = element.nativeElement.style;\n    /** @type {?} */\n    const transformProperties = [\n        'transform',\n        '-ms-transform',\n        '-moz-transform',\n        '-o-transform'\n    ];\n    /** @type {?} */\n    const transform = transformProperties\n        .map(property => style[property])\n        .find(value => !!value);\n    if (transform && transform.includes('translate')) {\n        translateX = transform.replace(/.*translate3?d?\\((-?[0-9]*)px, (-?[0-9]*)px.*/, '$1');\n        translateY = transform.replace(/.*translate3?d?\\((-?[0-9]*)px, (-?[0-9]*)px.*/, '$2');\n    }\n    if (ghostElementPositioning === 'absolute') {\n        return {\n            height: element.nativeElement.offsetHeight,\n            width: element.nativeElement.offsetWidth,\n            top: element.nativeElement.offsetTop - translateY,\n            bottom: element.nativeElement.offsetHeight +\n                element.nativeElement.offsetTop -\n                translateY,\n            left: element.nativeElement.offsetLeft - translateX,\n            right: element.nativeElement.offsetWidth +\n                element.nativeElement.offsetLeft -\n                translateX\n        };\n    }\n    else {\n        /** @type {?} */\n        const boundingRect = element.nativeElement.getBoundingClientRect();\n        return {\n            height: boundingRect.height,\n            width: boundingRect.width,\n            top: boundingRect.top - translateY,\n            bottom: boundingRect.bottom - translateY,\n            left: boundingRect.left - translateX,\n            right: boundingRect.right - translateX,\n            scrollTop: element.nativeElement.scrollTop,\n            scrollLeft: element.nativeElement.scrollLeft\n        };\n    }\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction isWithinBoundingY({ clientY, rect }) {\n    return clientY >= rect.top && clientY <= rect.bottom;\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction isWithinBoundingX({ clientX, rect }) {\n    return clientX >= rect.left && clientX <= rect.right;\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction getResizeEdges({ clientX, clientY, elm, allowedEdges, cursorPrecision }) {\n    /** @type {?} */\n    const elmPosition = elm.nativeElement.getBoundingClientRect();\n    /** @type {?} */\n    const edges = {};\n    if (allowedEdges.left &&\n        isNumberCloseTo(clientX, elmPosition.left, cursorPrecision) &&\n        isWithinBoundingY({ clientY, rect: elmPosition })) {\n        edges.left = true;\n    }\n    if (allowedEdges.right &&\n        isNumberCloseTo(clientX, elmPosition.right, cursorPrecision) &&\n        isWithinBoundingY({ clientY, rect: elmPosition })) {\n        edges.right = true;\n    }\n    if (allowedEdges.top &&\n        isNumberCloseTo(clientY, elmPosition.top, cursorPrecision) &&\n        isWithinBoundingX({ clientX, rect: elmPosition })) {\n        edges.top = true;\n    }\n    if (allowedEdges.bottom &&\n        isNumberCloseTo(clientY, elmPosition.bottom, cursorPrecision) &&\n        isWithinBoundingX({ clientX, rect: elmPosition })) {\n        edges.bottom = true;\n    }\n    return edges;\n}\n/** @type {?} */\nconst DEFAULT_RESIZE_CURSORS = Object.freeze({\n    topLeft: 'nw-resize',\n    topRight: 'ne-resize',\n    bottomLeft: 'sw-resize',\n    bottomRight: 'se-resize',\n    leftOrRight: 'col-resize',\n    topOrBottom: 'row-resize'\n});\n/**\n * @param {?} edges\n * @param {?} cursors\n * @return {?}\n */\nfunction getResizeCursor(edges, cursors) {\n    if (edges.left && edges.top) {\n        return cursors.topLeft;\n    }\n    else if (edges.right && edges.top) {\n        return cursors.topRight;\n    }\n    else if (edges.left && edges.bottom) {\n        return cursors.bottomLeft;\n    }\n    else if (edges.right && edges.bottom) {\n        return cursors.bottomRight;\n    }\n    else if (edges.left || edges.right) {\n        return cursors.leftOrRight;\n    }\n    else if (edges.top || edges.bottom) {\n        return cursors.topOrBottom;\n    }\n    else {\n        return '';\n    }\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction getEdgesDiff({ edges, initialRectangle, newRectangle }) {\n    /** @type {?} */\n    const edgesDiff = {};\n    Object.keys(edges).forEach(edge => {\n        edgesDiff[edge] = (newRectangle[edge] || 0) - (initialRectangle[edge] || 0);\n    });\n    return edgesDiff;\n}\n/** @type {?} */\nconst RESIZE_ACTIVE_CLASS = 'resize-active';\n/** @type {?} */\nconst RESIZE_LEFT_HOVER_CLASS = 'resize-left-hover';\n/** @type {?} */\nconst RESIZE_RIGHT_HOVER_CLASS = 'resize-right-hover';\n/** @type {?} */\nconst RESIZE_TOP_HOVER_CLASS = 'resize-top-hover';\n/** @type {?} */\nconst RESIZE_BOTTOM_HOVER_CLASS = 'resize-bottom-hover';\n/** @type {?} */\nconst RESIZE_GHOST_ELEMENT_CLASS = 'resize-ghost-element';\n/** @type {?} */\nconst MOUSE_MOVE_THROTTLE_MS = 50;\n/**\n * Place this on an element to make it resizable. For example:\n *\n * ```html\n * <div\n *   mwlResizable\n *   [resizeEdges]=\"{bottom: true, right: true, top: true, left: true}\"\n *   [enableGhostResize]=\"true\">\n * </div>\n * ```\n * Or in case they are sibling elements:\n * ```html\n * <div mwlResizable #resizableElement=\"mwlResizable\"></div>\n * <div mwlResizeHandle [resizableContainer]=\"resizableElement\" [resizeEdges]=\"{bottom: true, right: true}\"></div>\n * ```\n */\nclass ResizableDirective {\n    /**\n     * @hidden\n     * @param {?} platformId\n     * @param {?} renderer\n     * @param {?} elm\n     * @param {?} zone\n     */\n    constructor(platformId, renderer, elm, zone) {\n        this.platformId = platformId;\n        this.renderer = renderer;\n        this.elm = elm;\n        this.zone = zone;\n        /**\n         * The edges that an element can be resized from. Pass an object like `{top: true, bottom: false}`. By default no edges can be resized.\n         * @deprecated use a resize handle instead that positions itself to the side of the element you would like to resize\n         */\n        this.resizeEdges = {};\n        /**\n         * Set to `true` to enable a temporary resizing effect of the element in between the `resizeStart` and `resizeEnd` events.\n         */\n        this.enableGhostResize = false;\n        /**\n         * A snap grid that resize events will be locked to.\n         *\n         * e.g. to only allow the element to be resized every 10px set it to `{left: 10, right: 10}`\n         */\n        this.resizeSnapGrid = {};\n        /**\n         * The mouse cursors that will be set on the resize edges\n         */\n        this.resizeCursors = DEFAULT_RESIZE_CURSORS;\n        /**\n         * Mouse over thickness to active cursor.\n         * @deprecated invalid when you migrate to use resize handles instead of setting resizeEdges on the element\n         */\n        this.resizeCursorPrecision = 3;\n        /**\n         * Define the positioning of the ghost element (can be fixed or absolute)\n         */\n        this.ghostElementPositioning = 'fixed';\n        /**\n         * Allow elements to be resized to negative dimensions\n         */\n        this.allowNegativeResizes = false;\n        /**\n         * The mouse move throttle in milliseconds, default: 50 ms\n         */\n        this.mouseMoveThrottleMS = MOUSE_MOVE_THROTTLE_MS;\n        /**\n         * Called when the mouse is pressed and a resize event is about to begin. `$event` is a `ResizeEvent` object.\n         */\n        this.resizeStart = new EventEmitter();\n        /**\n         * Called as the mouse is dragged after a resize event has begun. `$event` is a `ResizeEvent` object.\n         */\n        this.resizing = new EventEmitter();\n        /**\n         * Called after the mouse is released after a resize event. `$event` is a `ResizeEvent` object.\n         */\n        this.resizeEnd = new EventEmitter();\n        /**\n         * @hidden\n         */\n        this.mouseup = new Subject();\n        /**\n         * @hidden\n         */\n        this.mousedown = new Subject();\n        /**\n         * @hidden\n         */\n        this.mousemove = new Subject();\n        this.destroy$ = new Subject();\n        this.resizeEdges$ = new Subject();\n        this.pointerEventListeners = PointerEventListeners.getInstance(renderer, zone);\n    }\n    /**\n     * @hidden\n     * @return {?}\n     */\n    ngOnInit() {\n        /** @type {?} */\n        const mousedown$ = merge(this.pointerEventListeners.pointerDown, this.mousedown);\n        /** @type {?} */\n        const mousemove$ = merge(this.pointerEventListeners.pointerMove, this.mousemove).pipe(tap(({ event }) => {\n            if (currentResize) {\n                try {\n                    event.preventDefault();\n                }\n                catch (e) {\n                    // just adding try-catch not to see errors in console if there is a passive listener for same event somewhere\n                    // browser does nothing except of writing errors to console\n                }\n            }\n        }), share());\n        /** @type {?} */\n        const mouseup$ = merge(this.pointerEventListeners.pointerUp, this.mouseup);\n        /** @type {?} */\n        let currentResize;\n        /** @type {?} */\n        const removeGhostElement = () => {\n            if (currentResize && currentResize.clonedNode) {\n                this.elm.nativeElement.parentElement.removeChild(currentResize.clonedNode);\n                this.renderer.setStyle(this.elm.nativeElement, 'visibility', 'inherit');\n            }\n        };\n        /** @type {?} */\n        const getResizeCursors = () => {\n            return Object.assign({}, DEFAULT_RESIZE_CURSORS, this.resizeCursors);\n        };\n        this.resizeEdges$\n            .pipe(startWith(this.resizeEdges), map(() => {\n            return (this.resizeEdges &&\n                Object.keys(this.resizeEdges).some(edge => !!this.resizeEdges[edge]));\n        }), switchMap(legacyResizeEdgesEnabled => legacyResizeEdgesEnabled ? mousemove$ : EMPTY), auditTime(this.mouseMoveThrottleMS), takeUntil(this.destroy$))\n            .subscribe(({ clientX, clientY }) => {\n            /** @type {?} */\n            const resizeEdges = getResizeEdges({\n                clientX,\n                clientY,\n                elm: this.elm,\n                allowedEdges: this.resizeEdges,\n                cursorPrecision: this.resizeCursorPrecision\n            });\n            /** @type {?} */\n            const resizeCursors = getResizeCursors();\n            if (!currentResize) {\n                /** @type {?} */\n                const cursor = getResizeCursor(resizeEdges, resizeCursors);\n                this.renderer.setStyle(this.elm.nativeElement, 'cursor', cursor);\n            }\n            this.setElementClass(this.elm, RESIZE_LEFT_HOVER_CLASS, resizeEdges.left === true);\n            this.setElementClass(this.elm, RESIZE_RIGHT_HOVER_CLASS, resizeEdges.right === true);\n            this.setElementClass(this.elm, RESIZE_TOP_HOVER_CLASS, resizeEdges.top === true);\n            this.setElementClass(this.elm, RESIZE_BOTTOM_HOVER_CLASS, resizeEdges.bottom === true);\n        });\n        /** @type {?} */\n        const mousedrag = mousedown$\n            .pipe(mergeMap(startCoords => {\n            /**\n             * @param {?} moveCoords\n             * @return {?}\n             */\n            function getDiff(moveCoords) {\n                return {\n                    clientX: moveCoords.clientX - startCoords.clientX,\n                    clientY: moveCoords.clientY - startCoords.clientY\n                };\n            }\n            /** @type {?} */\n            const getSnapGrid = () => {\n                /** @type {?} */\n                const snapGrid = { x: 1, y: 1 };\n                if (currentResize) {\n                    if (this.resizeSnapGrid.left && currentResize.edges.left) {\n                        snapGrid.x = +this.resizeSnapGrid.left;\n                    }\n                    else if (this.resizeSnapGrid.right &&\n                        currentResize.edges.right) {\n                        snapGrid.x = +this.resizeSnapGrid.right;\n                    }\n                    if (this.resizeSnapGrid.top && currentResize.edges.top) {\n                        snapGrid.y = +this.resizeSnapGrid.top;\n                    }\n                    else if (this.resizeSnapGrid.bottom &&\n                        currentResize.edges.bottom) {\n                        snapGrid.y = +this.resizeSnapGrid.bottom;\n                    }\n                }\n                return snapGrid;\n            };\n            /**\n             * @param {?} coords\n             * @param {?} snapGrid\n             * @return {?}\n             */\n            function getGrid(coords, snapGrid) {\n                return {\n                    x: Math.ceil(coords.clientX / snapGrid.x),\n                    y: Math.ceil(coords.clientY / snapGrid.y)\n                };\n            }\n            return ((/** @type {?} */ (merge(mousemove$.pipe(take(1)).pipe(map(coords => [, coords])), mousemove$.pipe(pairwise())))))\n                .pipe(map(([previousCoords, newCoords]) => {\n                return [\n                    previousCoords ? getDiff(previousCoords) : previousCoords,\n                    getDiff(newCoords)\n                ];\n            }))\n                .pipe(filter(([previousCoords, newCoords]) => {\n                if (!previousCoords) {\n                    return true;\n                }\n                /** @type {?} */\n                const snapGrid = getSnapGrid();\n                /** @type {?} */\n                const previousGrid = getGrid(previousCoords, snapGrid);\n                /** @type {?} */\n                const newGrid = getGrid(newCoords, snapGrid);\n                return (previousGrid.x !== newGrid.x || previousGrid.y !== newGrid.y);\n            }))\n                .pipe(map(([, newCoords]) => {\n                /** @type {?} */\n                const snapGrid = getSnapGrid();\n                return {\n                    clientX: Math.round(newCoords.clientX / snapGrid.x) * snapGrid.x,\n                    clientY: Math.round(newCoords.clientY / snapGrid.y) * snapGrid.y\n                };\n            }))\n                .pipe(takeUntil(merge(mouseup$, mousedown$)));\n        }))\n            .pipe(filter(() => !!currentResize));\n        mousedrag\n            .pipe(map(({ clientX, clientY }) => {\n            return getNewBoundingRectangle((/** @type {?} */ (currentResize)).startingRect, (/** @type {?} */ (currentResize)).edges, clientX, clientY);\n        }))\n            .pipe(filter((newBoundingRect) => {\n            return (this.allowNegativeResizes ||\n                !!(newBoundingRect.height &&\n                    newBoundingRect.width &&\n                    newBoundingRect.height > 0 &&\n                    newBoundingRect.width > 0));\n        }))\n            .pipe(filter((newBoundingRect) => {\n            return this.validateResize\n                ? this.validateResize({\n                    rectangle: newBoundingRect,\n                    edges: getEdgesDiff({\n                        edges: (/** @type {?} */ (currentResize)).edges,\n                        initialRectangle: (/** @type {?} */ (currentResize)).startingRect,\n                        newRectangle: newBoundingRect\n                    })\n                })\n                : true;\n        }), takeUntil(this.destroy$))\n            .subscribe((newBoundingRect) => {\n            if (currentResize && currentResize.clonedNode) {\n                this.renderer.setStyle(currentResize.clonedNode, 'height', `${newBoundingRect.height}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'width', `${newBoundingRect.width}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'top', `${newBoundingRect.top}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'left', `${newBoundingRect.left}px`);\n            }\n            if (this.resizing.observers.length > 0) {\n                this.zone.run(() => {\n                    this.resizing.emit({\n                        edges: getEdgesDiff({\n                            edges: (/** @type {?} */ (currentResize)).edges,\n                            initialRectangle: (/** @type {?} */ (currentResize)).startingRect,\n                            newRectangle: newBoundingRect\n                        }),\n                        rectangle: newBoundingRect\n                    });\n                });\n            }\n            (/** @type {?} */ (currentResize)).currentRect = newBoundingRect;\n        });\n        mousedown$\n            .pipe(map(({ clientX, clientY, edges }) => {\n            return (edges ||\n                getResizeEdges({\n                    clientX,\n                    clientY,\n                    elm: this.elm,\n                    allowedEdges: this.resizeEdges,\n                    cursorPrecision: this.resizeCursorPrecision\n                }));\n        }))\n            .pipe(filter((edges) => {\n            return Object.keys(edges).length > 0;\n        }), takeUntil(this.destroy$))\n            .subscribe((edges) => {\n            if (currentResize) {\n                removeGhostElement();\n            }\n            /** @type {?} */\n            const startingRect = getElementRect(this.elm, this.ghostElementPositioning);\n            currentResize = {\n                edges,\n                startingRect,\n                currentRect: startingRect\n            };\n            /** @type {?} */\n            const resizeCursors = getResizeCursors();\n            /** @type {?} */\n            const cursor = getResizeCursor(currentResize.edges, resizeCursors);\n            this.renderer.setStyle(document.body, 'cursor', cursor);\n            this.setElementClass(this.elm, RESIZE_ACTIVE_CLASS, true);\n            if (this.enableGhostResize) {\n                currentResize.clonedNode = this.elm.nativeElement.cloneNode(true);\n                this.elm.nativeElement.parentElement.appendChild(currentResize.clonedNode);\n                this.renderer.setStyle(this.elm.nativeElement, 'visibility', 'hidden');\n                this.renderer.setStyle(currentResize.clonedNode, 'position', this.ghostElementPositioning);\n                this.renderer.setStyle(currentResize.clonedNode, 'left', `${currentResize.startingRect.left}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'top', `${currentResize.startingRect.top}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'height', `${currentResize.startingRect.height}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'width', `${currentResize.startingRect.width}px`);\n                this.renderer.setStyle(currentResize.clonedNode, 'cursor', getResizeCursor(currentResize.edges, resizeCursors));\n                this.renderer.addClass(currentResize.clonedNode, RESIZE_GHOST_ELEMENT_CLASS);\n                (/** @type {?} */ (currentResize.clonedNode)).scrollTop = (/** @type {?} */ (currentResize.startingRect\n                    .scrollTop));\n                (/** @type {?} */ (currentResize.clonedNode)).scrollLeft = (/** @type {?} */ (currentResize.startingRect\n                    .scrollLeft));\n            }\n            if (this.resizeStart.observers.length > 0) {\n                this.zone.run(() => {\n                    this.resizeStart.emit({\n                        edges: getEdgesDiff({\n                            edges,\n                            initialRectangle: startingRect,\n                            newRectangle: startingRect\n                        }),\n                        rectangle: getNewBoundingRectangle(startingRect, {}, 0, 0)\n                    });\n                });\n            }\n        });\n        mouseup$.pipe(takeUntil(this.destroy$)).subscribe(() => {\n            if (currentResize) {\n                this.renderer.removeClass(this.elm.nativeElement, RESIZE_ACTIVE_CLASS);\n                this.renderer.setStyle(document.body, 'cursor', '');\n                this.renderer.setStyle(this.elm.nativeElement, 'cursor', '');\n                if (this.resizeEnd.observers.length > 0) {\n                    this.zone.run(() => {\n                        this.resizeEnd.emit({\n                            edges: getEdgesDiff({\n                                edges: (/** @type {?} */ (currentResize)).edges,\n                                initialRectangle: (/** @type {?} */ (currentResize)).startingRect,\n                                newRectangle: (/** @type {?} */ (currentResize)).currentRect\n                            }),\n                            rectangle: (/** @type {?} */ (currentResize)).currentRect\n                        });\n                    });\n                }\n                removeGhostElement();\n                currentResize = null;\n            }\n        });\n    }\n    /**\n     * @hidden\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (changes.resizeEdges) {\n            this.resizeEdges$.next(this.resizeEdges);\n        }\n    }\n    /**\n     * @hidden\n     * @return {?}\n     */\n    ngOnDestroy() {\n        // browser check for angular universal, because it doesn't know what document is\n        if (isPlatformBrowser(this.platformId)) {\n            this.renderer.setStyle(document.body, 'cursor', '');\n        }\n        this.mousedown.complete();\n        this.mouseup.complete();\n        this.mousemove.complete();\n        this.resizeEdges$.complete();\n        this.destroy$.next();\n    }\n    /**\n     * @private\n     * @param {?} elm\n     * @param {?} name\n     * @param {?} add\n     * @return {?}\n     */\n    setElementClass(elm, name, add) {\n        if (add) {\n            this.renderer.addClass(elm.nativeElement, name);\n        }\n        else {\n            this.renderer.removeClass(elm.nativeElement, name);\n        }\n    }\n}\nResizableDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlResizable]',\n                exportAs: 'mwlResizable'\n            },] }\n];\n/** @nocollapse */\nResizableDirective.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: Renderer2 },\n    { type: ElementRef },\n    { type: NgZone }\n];\nResizableDirective.propDecorators = {\n    validateResize: [{ type: Input }],\n    resizeEdges: [{ type: Input }],\n    enableGhostResize: [{ type: Input }],\n    resizeSnapGrid: [{ type: Input }],\n    resizeCursors: [{ type: Input }],\n    resizeCursorPrecision: [{ type: Input }],\n    ghostElementPositioning: [{ type: Input }],\n    allowNegativeResizes: [{ type: Input }],\n    mouseMoveThrottleMS: [{ type: Input }],\n    resizeStart: [{ type: Output }],\n    resizing: [{ type: Output }],\n    resizeEnd: [{ type: Output }]\n};\nclass PointerEventListeners {\n    // tslint:disable-line\n    /**\n     * @param {?} renderer\n     * @param {?} zone\n     * @return {?}\n     */\n    static getInstance(renderer, zone) {\n        if (!PointerEventListeners.instance) {\n            PointerEventListeners.instance = new PointerEventListeners(renderer, zone);\n        }\n        return PointerEventListeners.instance;\n    }\n    /**\n     * @param {?} renderer\n     * @param {?} zone\n     */\n    constructor(renderer, zone) {\n        this.pointerDown = new Observable((observer) => {\n            /** @type {?} */\n            let unsubscribeMouseDown;\n            /** @type {?} */\n            let unsubscribeTouchStart;\n            zone.runOutsideAngular(() => {\n                unsubscribeMouseDown = renderer.listen('document', 'mousedown', (event) => {\n                    observer.next({\n                        clientX: event.clientX,\n                        clientY: event.clientY,\n                        event\n                    });\n                });\n                if (IS_TOUCH_DEVICE) {\n                    unsubscribeTouchStart = renderer.listen('document', 'touchstart', (event) => {\n                        observer.next({\n                            clientX: event.touches[0].clientX,\n                            clientY: event.touches[0].clientY,\n                            event\n                        });\n                    });\n                }\n            });\n            return () => {\n                unsubscribeMouseDown();\n                if (IS_TOUCH_DEVICE) {\n                    (/** @type {?} */ (unsubscribeTouchStart))();\n                }\n            };\n        }).pipe(share());\n        this.pointerMove = new Observable((observer) => {\n            /** @type {?} */\n            let unsubscribeMouseMove;\n            /** @type {?} */\n            let unsubscribeTouchMove;\n            zone.runOutsideAngular(() => {\n                unsubscribeMouseMove = renderer.listen('document', 'mousemove', (event) => {\n                    observer.next({\n                        clientX: event.clientX,\n                        clientY: event.clientY,\n                        event\n                    });\n                });\n                if (IS_TOUCH_DEVICE) {\n                    unsubscribeTouchMove = renderer.listen('document', 'touchmove', (event) => {\n                        observer.next({\n                            clientX: event.targetTouches[0].clientX,\n                            clientY: event.targetTouches[0].clientY,\n                            event\n                        });\n                    });\n                }\n            });\n            return () => {\n                unsubscribeMouseMove();\n                if (IS_TOUCH_DEVICE) {\n                    (/** @type {?} */ (unsubscribeTouchMove))();\n                }\n            };\n        }).pipe(share());\n        this.pointerUp = new Observable((observer) => {\n            /** @type {?} */\n            let unsubscribeMouseUp;\n            /** @type {?} */\n            let unsubscribeTouchEnd;\n            /** @type {?} */\n            let unsubscribeTouchCancel;\n            zone.runOutsideAngular(() => {\n                unsubscribeMouseUp = renderer.listen('document', 'mouseup', (event) => {\n                    observer.next({\n                        clientX: event.clientX,\n                        clientY: event.clientY,\n                        event\n                    });\n                });\n                if (IS_TOUCH_DEVICE) {\n                    unsubscribeTouchEnd = renderer.listen('document', 'touchend', (event) => {\n                        observer.next({\n                            clientX: event.changedTouches[0].clientX,\n                            clientY: event.changedTouches[0].clientY,\n                            event\n                        });\n                    });\n                    unsubscribeTouchCancel = renderer.listen('document', 'touchcancel', (event) => {\n                        observer.next({\n                            clientX: event.changedTouches[0].clientX,\n                            clientY: event.changedTouches[0].clientY,\n                            event\n                        });\n                    });\n                }\n            });\n            return () => {\n                unsubscribeMouseUp();\n                if (IS_TOUCH_DEVICE) {\n                    (/** @type {?} */ (unsubscribeTouchEnd))();\n                    (/** @type {?} */ (unsubscribeTouchCancel))();\n                }\n            };\n        }).pipe(share());\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * An element placed inside a `mwlResizable` directive to be used as a drag and resize handle\n *\n * For example\n *\n * ```html\n * <div mwlResizable>\n *   <div mwlResizeHandle [resizeEdges]=\"{bottom: true, right: true}\"></div>\n * </div>\n * ```\n * Or in case they are sibling elements:\n * ```html\n * <div mwlResizable #resizableElement=\"mwlResizable\"></div>\n * <div mwlResizeHandle [resizableContainer]=\"resizableElement\" [resizeEdges]=\"{bottom: true, right: true}\"></div>\n * ```\n */\nclass ResizeHandleDirective {\n    /**\n     * @param {?} renderer\n     * @param {?} element\n     * @param {?} zone\n     * @param {?} resizableDirective\n     */\n    constructor(renderer, element, zone, resizableDirective) {\n        this.renderer = renderer;\n        this.element = element;\n        this.zone = zone;\n        this.resizableDirective = resizableDirective;\n        /**\n         * The `Edges` object that contains the edges of the parent element that dragging the handle will trigger a resize on\n         */\n        this.resizeEdges = {};\n        this.eventListeners = {};\n        this.destroy$ = new Subject();\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.zone.runOutsideAngular(() => {\n            this.listenOnTheHost('mousedown').subscribe(event => {\n                this.onMousedown(event, event.clientX, event.clientY);\n            });\n            this.listenOnTheHost('mouseup').subscribe(event => {\n                this.onMouseup(event.clientX, event.clientY);\n            });\n            if (IS_TOUCH_DEVICE) {\n                this.listenOnTheHost('touchstart').subscribe(event => {\n                    this.onMousedown(event, event.touches[0].clientX, event.touches[0].clientY);\n                });\n                merge(this.listenOnTheHost('touchend'), this.listenOnTheHost('touchcancel')).subscribe(event => {\n                    this.onMouseup(event.changedTouches[0].clientX, event.changedTouches[0].clientY);\n                });\n            }\n        });\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.destroy$.next();\n        this.unsubscribeEventListeners();\n    }\n    /**\n     * @hidden\n     * @param {?} event\n     * @param {?} clientX\n     * @param {?} clientY\n     * @return {?}\n     */\n    onMousedown(event, clientX, clientY) {\n        event.preventDefault();\n        if (!this.eventListeners.touchmove) {\n            this.eventListeners.touchmove = this.renderer.listen(this.element.nativeElement, 'touchmove', (touchMoveEvent) => {\n                this.onMousemove(touchMoveEvent, touchMoveEvent.targetTouches[0].clientX, touchMoveEvent.targetTouches[0].clientY);\n            });\n        }\n        if (!this.eventListeners.mousemove) {\n            this.eventListeners.mousemove = this.renderer.listen(this.element.nativeElement, 'mousemove', (mouseMoveEvent) => {\n                this.onMousemove(mouseMoveEvent, mouseMoveEvent.clientX, mouseMoveEvent.clientY);\n            });\n        }\n        this.resizable.mousedown.next({\n            clientX,\n            clientY,\n            edges: this.resizeEdges\n        });\n    }\n    /**\n     * @hidden\n     * @param {?} clientX\n     * @param {?} clientY\n     * @return {?}\n     */\n    onMouseup(clientX, clientY) {\n        this.unsubscribeEventListeners();\n        this.resizable.mouseup.next({\n            clientX,\n            clientY,\n            edges: this.resizeEdges\n        });\n    }\n    // directive might be passed from DI or as an input\n    /**\n     * @private\n     * @return {?}\n     */\n    get resizable() {\n        return this.resizableDirective || this.resizableContainer;\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @param {?} clientX\n     * @param {?} clientY\n     * @return {?}\n     */\n    onMousemove(event, clientX, clientY) {\n        this.resizable.mousemove.next({\n            clientX,\n            clientY,\n            edges: this.resizeEdges,\n            event\n        });\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    unsubscribeEventListeners() {\n        Object.keys(this.eventListeners).forEach(type => {\n            ((/** @type {?} */ (this))).eventListeners[type]();\n            delete this.eventListeners[type];\n        });\n    }\n    /**\n     * @private\n     * @template T\n     * @param {?} eventName\n     * @return {?}\n     */\n    listenOnTheHost(eventName) {\n        return fromEvent(this.element.nativeElement, eventName).pipe(takeUntil(this.destroy$));\n    }\n}\nResizeHandleDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[mwlResizeHandle]'\n            },] }\n];\n/** @nocollapse */\nResizeHandleDirective.ctorParameters = () => [\n    { type: Renderer2 },\n    { type: ElementRef },\n    { type: NgZone },\n    { type: ResizableDirective, decorators: [{ type: Optional }] }\n];\nResizeHandleDirective.propDecorators = {\n    resizeEdges: [{ type: Input }],\n    resizableContainer: [{ type: Input }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ResizableModule {\n}\nResizableModule.decorators = [\n    { type: NgModule, args: [{\n                declarations: [ResizableDirective, ResizeHandleDirective],\n                exports: [ResizableDirective, ResizeHandleDirective]\n            },] }\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { ResizableDirective, ResizeHandleDirective, ResizableModule };\n\n//# sourceMappingURL=angular-resizable-element.js.map"]}