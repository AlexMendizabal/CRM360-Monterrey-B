{"version":3,"sources":["webpack:///src/app/modules/comercial/agenda/guards/detalhes-resolver.guard.ts","webpack:///src/app/modules/comercial/agenda/agenda.module.ts","webpack:///src/app/modules/comercial/agenda/compromissos/compromissos.component.scss","webpack:///src/app/shared/modules/confirm-modal/confirm-modal.service.ts","webpack:///src/app/modules/comercial/agenda/guards/acessos-resolver.guard.ts","webpack:///src/app/modules/comercial/agenda/compromissos/compromissos.component.ts","webpack:///src/app/modules/comercial/agenda/agenda-routing.module.ts","webpack:///src/app/modules/comercial/agenda/formulario/formulario.service.ts","webpack:///src/app/modules/comercial/agenda/compromissos/compromissos.component.html","webpack:///src/app/modules/comercial/agenda/formulario/formulario.component.scss","webpack:///src/app/modules/comercial/agenda/detalhes/detalhes.component.html","webpack:///src/app/modules/comercial/agenda/formulario/formulario.component.html","webpack:///src/app/modules/comercial/agenda/detalhes/detalhes.component.ts","webpack:///src/app/modules/comercial/agenda/detalhes/detalhes.component.scss","webpack:///src/app/modules/comercial/agenda/formulario/formulario.component.ts","webpack:///src/app/modules/comercial/cadastros/titulos-agenda/titulos-agenda.service.ts","webpack:///src/app/modules/comercial/tid-software/tid-software.service.ts"],"names":["ComercialAgendaDetalhesResolverGuard","agendaService","route","params","getCompromisso","codCliente","parseInt","responseCode","result","id","title","codTitulo","codClient","formContactId","typeContactId","start","end","allDay","description","rescheduleId","color","primary","providedIn","ComercialAgendaModule","declarations","imports","forRoot","provide","useFactory","apiKey","providers","useValue","ConfirmModalService","modalService","type","message","cancelTxt","okTxt","modalRef","show","animated","ignoreBackdropClick","keyboard","content","messageAlerts","confirmResult","ComercialAgendaAcessosResolverGuard","getAcessos","ComercialAgendaCompromissosComponent","router","activatedRoute","authService","comercialService","atividadesService","titleService","dateService","user","getCurrentUser","profile","destroy$","loaderFullScreen","breadCrumbTree","descricao","routerLink","showFilter","showCalendar","showPermissionDenied","view","viewDate","Date","activeDayIsOpen","queryParamsChecked","fetchEvents","registrarAcesso","getPerfil","setTitle","pipe","subscribe","info","matricula","switchEdit","next","complete","date","getFullMonth","getFullYear","response","coordenador","gestor","vendedor","hasVinculoOperadores","checkRouterParams","idVendedor","idEscritorio","error","event","nomeEscritorio","nomeCompleto","nomeVendedor","formValue","activatedRouteSubscription","queryParams","Object","keys","length","atob","JSON","parse","console","log","forEach","formKey","paramKey","isNaN","Number","unsubscribe","getStart","month","week","day","getEnd","paramsObj","queryDate","inicio","split","setFullYear","setMonth","setDate","fim","statusnome","events$","getCompromissos","compromissos","map","compromisso","client","formContactDesc","typeContactDesc","draggable","setRouterParams","events","navigate","relativeTo","q","btoa","stringify","queryParamsHandling","selector","template","routes","path","component","resolve","detalhes","acessos","canDeactivate","redirectTo","pathMatch","ComercialAgendaRoutingModule","forChild","exports","ComercialAgendaFormularioService","http","vendedoresService","titulosAgendaService","API","clientes","getCarteiraClientes","vendedores","getVendedores","formasContato","getFormasContato","origensContato","getOrigensContato","motivosReagendamento","getMotivosReagendamento","listarTitulosAgenda","getListaTitulosAgenda","codSituacao","get","ComercialAgendaDetalhesComponent","authservice","confirmModalService","pnotifyService","status","imagenes","img","getPNotify","$event","Error","snapshot","data","motivo","anexo","observacionFinal","latitud","longitud","url_web","filtrarPosiciones","imagenesAnexo","replace","fullDate","getFullDate","sameDay","confirm$","showConfirm","asObservable","deleteCompromisso","success","id_agenda","getPosicionPromotor","posiciones","getImagenes","base64String","binaryString","window","byteArray","Uint8Array","i","charCodeAt","blob","Blob","URL","createObjectURL","urlImagen","abrirVentana","open","ComercialAgendaFormularioComponent","formService","formBuilder","location","localeService","cotacoesService","ComercialVendedoresService","colors","hex","loaderNavbar","formChanged","submittingForm","promotores","marcadorArrastrable","attachedFiles","adjunto","showInputClientes","showInputVendedores","hideInputVendedores","mostrarFormulario","isDisabledTime","showFormulario","hideFormulario","use","bsConfig","assign","containerClass","adaptivePosition","showWeekNumbers","checkAcessos","checkUrlParams","getFormFields","permissoesAcesso","simuladorVendas","routerUrl","url","action","setBreadCrumb","setFormBuilder","isFinalizarAction","inicioData","inicioHorario","terminoData","terminoHorario","form","group","cor","value","disabled","required","cliente","promotor","id_vendedor","direccion","codFormaContato","latitud_clie","longitud_clie","codigo_cliente","codOrigemContato","gerarCotacaoPedido","diaInteiro","motivoReagendamento","observacao","Obsfinalizar","controls","setValidators","updateValueAndValidity","back","loadDependencies","handleLoadDependenciesError","unshift","nomeFormaContato","nomeOrigemContato","setValue","selectedIndex","selectedColor","onColorChange","enable","disable","validation","setHours","getHours","getMinutes","getTime","field","control","onFieldInvalid","invalid","touched","dirty","formControl","validator","validationResult","checkValidatorsDate","notice","valid","getRawValue","obsFinalizar","msgSuccess","msgError","index","razaoSocial","convert2PhpDate","termino","observacaoUpperCase","undefined","toUpperCase","formObj","save","onAddCotacaoPedido","handleErrorOnSubmit","direccion_cliente","latitud_cliente","longitud_cliente","coords","lat","lng","actualizarDireccion","fetch","then","json","resultado","results","formatted_address","obtenerDireccion","direccion_mapa","confirm","markAsTouched","setErrors","incorrect","getReservarIdCotacao","hasOwnProperty","idReservado","f","reporte","ComercialCadastrosTitulosAgendaService","httpParams","param","append","titulosAgenda","post","put","updateTitulosAgenda","saveTitulosAgenda","codigo","ComercialTidSoftwareService","empresas","getEmpresas","linhas","getLinhas","modulosVendas","getModulosVendas","modulosProducaoTela","getModulosProducaoTela","acao"],"mappings":"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","file":"agenda-agenda-module-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Resolve } from '@angular/router';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n// Services\r\nimport { ComercialAgendaService } from 'src/app/modules/comercial/agenda/agenda.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialAgendaDetalhesResolverGuard implements Resolve<any> {\r\n  constructor(private agendaService: ComercialAgendaService) {}\r\n\r\n  resolve(route: ActivatedRouteSnapshot): Observable<any> {\r\n    if (route.params && route.params['id']) {\r\n      return this.agendaService.getCompromisso(route.params['id']);\r\n    }\r\n\r\n    let codCliente: any = '';\r\n    if (route.params && route.params['codCliente']) {\r\n      codCliente = parseInt(route.params['codCliente']);\r\n    }\r\n\r\n    //  implementado o mtodo \"of\" para manter a tipagem de retorno com Observable.\r\n    return of({\r\n      responseCode: 200,\r\n      result: {\r\n        id: null,\r\n        title: null,\r\n        codTitulo:null, \r\n        codClient: codCliente,\r\n        formContactId: '',\r\n        typeContactId: '',\r\n        start: null,\r\n        end: null,\r\n        allDay: false,\r\n        description: null,\r\n        rescheduleId: null,\r\n        color: {\r\n          primary: '#0033FF',\r\n        },\r\n      },\r\n    });\r\n  }\r\n}\r\n","import { NgModule, LOCALE_ID } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { registerLocaleData } from '@angular/common';\r\nimport LocalBO from '@angular/common/locales/es-BO';\r\n\r\nregisterLocaleData(LocalBO, 'es-BO');\r\n\r\n// Angular Calendar\r\nimport { FlatpickrModule } from 'angularx-flatpickr';\r\nimport { CalendarModule, DateAdapter } from 'angular-calendar';\r\nimport { adapterFactory } from 'angular-calendar/date-adapters/date-fns';\r\n\r\n// ngx-bootstrap\r\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\r\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\r\nimport { TimepickerModule } from 'ngx-bootstrap/timepicker';\r\n\r\n// ng-select\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\n// Guards\r\nimport { FormDeactivateGuard } from 'src/app/guards/form-deactivate.guard';\r\n\r\n// Modules\r\nimport { ComercialAgendaRoutingModule } from './agenda-routing.module';\r\nimport { NotFoundModule } from 'src/app/core/not-found/not-found.module';\r\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\r\nimport { TemplatesModule } from 'src/app/shared/templates/templates.module';\r\nimport { ComercialTemplatesModule } from '../templates/templates.module';\r\n\r\n// Components\r\nimport { ComercialAgendaCompromissosComponent } from './compromissos/compromissos.component';\r\nimport { ComercialAgendaDetalhesComponent } from './detalhes/detalhes.component';\r\nimport { ComercialAgendaFormularioComponent } from './formulario/formulario.component';\r\nimport { AgmCoreModule } from '@agm/core';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ComercialAgendaCompromissosComponent,\r\n    ComercialAgendaDetalhesComponent,\r\n    ComercialAgendaFormularioComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    ComercialAgendaRoutingModule,\r\n    FlatpickrModule.forRoot(),\r\n    CalendarModule.forRoot({\r\n      provide: DateAdapter,\r\n      useFactory: adapterFactory\r\n    }),\r\n    BsDropdownModule.forRoot(),\r\n    BsDatepickerModule.forRoot(),\r\n    TimepickerModule.forRoot(),\r\n    NgSelectModule,\r\n    NotFoundModule,\r\n    SharedModule,\r\n    TemplatesModule.forRoot(),\r\n    ComercialTemplatesModule,\r\n    AgmCoreModule.forRoot({\r\n      apiKey: 'AIzaSyDl5b7STz9xYNDhybTTer2POVncX9FYqCc' // Reemplaza con tu propia clave de API de Google Maps\r\n    }),\r\n  ],\r\n  providers: [FormDeactivateGuard, { provide: LOCALE_ID, useValue: 'es-BO' }]\r\n})\r\nexport class ComercialAgendaModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2FnZW5kYS9jb21wcm9taXNzb3MvY29tcHJvbWlzc29zLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Injectable } from '@angular/core';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\n\r\n// Components\r\nimport { ConfirmModalComponent } from './confirm-modal.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ConfirmModalService {\r\n  constructor(private modalService: BsModalService) {}\r\n\r\n  showConfirm(\r\n    type: string,\r\n    title: string,\r\n    message: string,\r\n    cancelTxt?: string,\r\n    okTxt?: string\r\n  ) {\r\n    const modalRef = this.modalService.show(ConfirmModalComponent, {\r\n      animated: false,\r\n      ignoreBackdropClick: true,\r\n      keyboard: false,\r\n      class: 'confirm'\r\n    });\r\n\r\n    modalRef.content.type = type;\r\n    modalRef.content.title = title;\r\n    modalRef.content.message = message;\r\n\r\n    if (type === 'delete') {\r\n      modalRef.content.messageAlerts = [\r\n        \"Se eliminar toda la informacin relacionada.\",\r\n        \"Esta accin no se puede deshacer.\"\r\n      ];\r\n    }\r\n\r\n    if (type === 'inactivate') {\r\n      modalRef.content.messageAlerts = [\r\n        'Las informaciones sern inactivadas.'\r\n      ];\r\n    }\r\n\r\n    if (cancelTxt) {\r\n      modalRef.content.cancelTxt = cancelTxt;\r\n    }\r\n\r\n    if (okTxt) {\r\n      modalRef.content.okTxt = okTxt;\r\n    }\r\n\r\n    //  uma boa prtica tipar o retorno.\r\n    // Obs.: ao tipar o retorno  possvel acessar o intellisense do servio.\r\n    return (<ConfirmModalComponent>modalRef.content).confirmResult;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\n// Services\r\nimport { ComercialAgendaService } from 'src/app/modules/comercial/agenda/agenda.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialAgendaAcessosResolverGuard implements Resolve<any> {\r\n  constructor(private agendaService: ComercialAgendaService) {}\r\n\r\n  resolve(): Observable<Object | JsonResponse> {\r\n    return this.agendaService.getAcessos();\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { map, finalize } from 'rxjs/operators';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { interval, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n// angular-calendar\r\nimport { CalendarEvent } from 'angular-calendar';\r\nimport {\r\n  isSameMonth,\r\n  isSameDay,\r\n  startOfMonth,\r\n  endOfMonth,\r\n  startOfWeek,\r\n  endOfWeek,\r\n  startOfDay,\r\n  endOfDay,\r\n  format\r\n} from 'date-fns';\r\n\r\n// Services\r\nimport { AuthService } from 'src/app/shared/services/core/auth.service';\r\nimport { ComercialAgendaService } from 'src/app/modules/comercial/agenda/agenda.service';\r\nimport { ComercialService } from '../../comercial.service';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\nimport { TitleService } from 'src/app/shared/services/core/title.service';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\n\r\n// Interfaces\r\n\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\nimport { userInfo } from 'os';\r\nexport interface Compromisso {\r\n  id: string;\r\n  color: {\r\n    primary: string;\r\n  };\r\n  title: string;\r\n  client: string;\r\n  start: Date;\r\n  end: Date;\r\n  allDay: boolean;\r\n  description: string;\r\n  draggable: boolean;\r\n  codClient: string; // Nueva propiedad para el cdigo del cliente\r\n  formContactId: string; // Nueva propiedad para el ID del formulario de contacto\r\n  formContactDesc: string; // Nueva propiedad para la descripcin del formulario de contacto\r\n  typeContactId: string; // Nueva propiedad para el ID del tipo de contacto\r\n  typeContactDesc: string; // Nueva propiedad para la descripcin del tipo de contacto\r\n  statusnome : string;\r\n}\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'comercial-agenda-compromissos',\r\n  templateUrl: './compromissos.component.html',\r\n  styleUrls: ['./compromissos.component.scss']\r\n})\r\nexport class ComercialAgendaCompromissosComponent implements OnInit {\r\n  private user = this.authService.getCurrentUser();\r\n  profile: any = {};\r\n  destroy$: Subject<void> = new Subject<void>();\r\n  refreshEvents(): void {\r\n    this.fetchEvents();\r\n  }\r\n  loaderFullScreen = true;\r\n\r\n  breadCrumbTree: Array<Breadcrumb> = [\r\n    {\r\n      descricao: 'Home',\r\n      routerLink: '/comercial/home'\r\n    },\r\n    {\r\n      descricao: 'Agenda'\r\n    }\r\n  ];\r\n\r\n  activatedRouteSubscription: Subscription;\r\n\r\n  showFilter = false;\r\n  showCalendar = false;\r\n  showPermissionDenied = false;\r\n\r\n  view = 'month';\r\n  viewDate: Date = new Date();\r\n  activeDayIsOpen = false;\r\n\r\n  idEscritorio: number;\r\n  idVendedor: number;\r\n  nomeVendedor: string;\r\n  nomeEscritorio: string;\r\n\r\n\r\n  events$: Observable<Array<CalendarEvent<{ compromisso: Compromisso }>>>;\r\n  eventSelected: Compromisso;\r\n\r\n  queryParamsChecked = false;\r\n  // ...\r\n  // estado: number;\r\n  // ...\r\n\r\n  switchEdit: boolean;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private authService: AuthService,\r\n    private agendaService: ComercialAgendaService,\r\n    private comercialService: ComercialService,\r\n    private atividadesService: AtividadesService,\r\n    private titleService: TitleService,\r\n    private dateService: DateService\r\n  ) { }\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.registrarAcesso();\r\n    this.getPerfil();\r\n    this.titleService.setTitle('Agenda');\r\n    // Actualizar los eventos cada 20 seg\r\n  interval(20 * 1000) // 20 seg en milisegundos\r\n  .pipe(takeUntil(this.destroy$))\r\n  .subscribe(() => {\r\n  this.fetchEvents();\r\n  if (this.user.info.matricula == 1) {\r\n    this.switchEdit = true;\r\n  } else {\r\n    this.switchEdit = false;\r\n  }\r\n});\r\n\r\n\r\n  }\r\nngOnDestroy(): void {\r\n  this.destroy$.next();\r\n  this.destroy$.complete();\r\n}\r\n\r\n  appTitle(date: Date): string {\r\n    if (this.showCalendar) {\r\n      return `Agenda (${this.dateService.getFullMonth(\r\n        date\r\n      )}/${date.getFullYear()})`;\r\n    }\r\n\r\n    return 'Agenda';\r\n  }\r\n\r\n  registrarAcesso(): void {\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n  }\r\n\r\n  getPerfil(): void {\r\n    this.comercialService\r\n      .getPerfil()\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderFullScreen = false;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: any) => {\r\n          if (response.responseCode === 200) {\r\n            this.profile = response.result;\r\n            if (\r\n              this.profile.coordenador === true ||\r\n              this.profile.gestor === true ||\r\n              (this.profile.vendedor === true &&\r\n                this.profile.coordenador === false &&\r\n                this.profile.gestor === false &&\r\n                this.profile.hasVinculoOperadores === true)\r\n            ) {\r\n              this.checkRouterParams();\r\n            } else if (\r\n              this.profile.vendedor === true &&\r\n              this.profile.coordenador === false &&\r\n              this.profile.gestor === false &&\r\n              this.profile.hasVinculoOperadores === false\r\n            ) {\r\n              this.fetchEvents();\r\n              this.idVendedor = this.user.info.idVendedor;\r\n              this.idEscritorio = this.user.info.idEscritorio;\r\n              this.showCalendar = true;\r\n            } else {\r\n              this.showPermissionDenied = true;\r\n            }\r\n          } else {\r\n            this.showPermissionDenied = true;\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.showPermissionDenied = true;\r\n        }\r\n      });\r\n  }\r\n\r\n  enableFilterButton(): boolean {\r\n    if (\r\n      this.profile.coordenador === true ||\r\n      this.profile.gestor === true ||\r\n      (this.profile.vendedor === true &&\r\n        this.profile.coordenador === false &&\r\n        this.profile.gestor === false &&\r\n        this.profile.hasVinculoOperadores === true)\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n  dataFilter(event: any): void {\r\n   // console.log(event)\r\n    this.idVendedor = event.idVendedor;\r\n    this.nomeEscritorio = this.user.info.nomeCompleto;\r\n    this.idEscritorio = event.idEscritorio;\r\n    this.nomeVendedor = event.nomeVendedor;\r\n  }\r\n\r\n  checkRouterParams(): void {\r\n    let formValue = {\r\n      idEscritorio: null,\r\n      idVendedor: null,\r\n      nomeEscritorio: null,\r\n      nomeVendedor: null\r\n    };\r\n\r\n    this.activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      (queryParams: any) => {\r\n        if (Object.keys(queryParams).length > 0) {\r\n          let params: any = atob(queryParams['q']);\r\n          \r\n          params = JSON.parse(params);\r\n          console.log(params);\r\n\r\n          this.idEscritorio = parseInt(params.idEscritorio);\r\n          this.idVendedor = parseInt(params.idVendedor);\r\n          this.nomeEscritorio = params.nomeEscritorio;\r\n          this.nomeVendedor = params.nomeVendedor;\r\n\r\n          this.showFilter = false;\r\n          this.showCalendar = true;\r\n          this.fetchEvents();\r\n\r\n          Object.keys(formValue).forEach(formKey => {\r\n            Object.keys(params).forEach(paramKey => {\r\n              if (\r\n                formKey == paramKey &&\r\n                formValue[formKey] != params[paramKey]\r\n              ) {\r\n                if (!isNaN(Number(params[paramKey]))) {\r\n                  formValue[formKey] = Number(params[paramKey]);\r\n                } else {\r\n                  formValue[formKey] = params[paramKey];\r\n                }\r\n              }\r\n            });\r\n          });\r\n        } else {\r\n          this.showFilter = true;\r\n          this.showCalendar = false;\r\n        }\r\n      }\r\n    );\r\n    this.activatedRouteSubscription.unsubscribe();\r\n  }\r\n\r\n  fetchEvents(): void {\r\n    const getStart: any = {\r\n      month: startOfMonth,\r\n      week: startOfWeek,\r\n      day: startOfDay\r\n    }[this.view];\r\n\r\n    const getEnd: any = {\r\n      month: endOfMonth,\r\n      week: endOfWeek,\r\n      day: endOfDay\r\n    }[this.view];\r\n\r\n    let paramsObj = {};\r\n   \r\n    if (!this.queryParamsChecked) {\r\n      this.activatedRoute.queryParams.subscribe((queryParams: any) => {\r\n        if (Object.keys(queryParams).length > 0) {\r\n          let params: any = atob(queryParams['q']);\r\n          params = JSON.parse(params);\r\n\r\n          const queryDate = params.inicio.split('-');\r\n          this.viewDate.setFullYear(queryDate[0]);\r\n          this.viewDate.setMonth(queryDate[1] - 1);\r\n          this.viewDate.setDate(queryDate[2]);\r\n        \r\n          paramsObj = {\r\n            inicio: params.inicio,\r\n            fim: params.fim,\r\n            idEscritorio: params.idEscritorio,\r\n            idVendedor: params.idVendedor,\r\n            nomeEscritorio: params.nomeEscritorio,\r\n            nomeVendedor: params.nomeVendedor,\r\n            statusnome : params.statusnome\r\n          };\r\n          \r\n\r\n        } else {\r\n          this.viewDate = new Date();\r\n          paramsObj = {\r\n            inicio: format(getStart(this.viewDate), 'yyyy-MM-dd'),\r\n            fim: format(getEnd(this.viewDate), 'yyyy-MM-dd'),\r\n            idEscritorio: this.idEscritorio,\r\n            idVendedor: this.idVendedor,\r\n            nomeEscritorio: this.nomeEscritorio,\r\n            nomeVendedor: this.nomeVendedor,\r\n          };\r\n          \r\n        }\r\n      });\r\n    } else {\r\n      paramsObj = {\r\n        inicio: format(getStart(this.viewDate), 'yyyy-MM-dd'),\r\n        fim: format(getEnd(this.viewDate), 'yyyy-MM-dd'),\r\n        idEscritorio: this.idEscritorio,\r\n        idVendedor: this.idVendedor,\r\n        nomeEscritorio: this.nomeEscritorio,\r\n        nomeVendedor: this.nomeVendedor\r\n      };\r\n    \r\n    }\r\n\r\n    this.queryParamsChecked = true;\r\n    this.activeDayIsOpen = false;\r\n\r\n    this.events$ = this.agendaService.getCompromissos(paramsObj).pipe(\r\n      map((compromissos: Compromisso[]) => {\r\n        if (compromissos['responseCode'] === 200) {\r\n          return compromissos['result'].map((compromisso: Compromisso) => {\r\n            return {\r\n              id: compromisso.id,\r\n              color: {\r\n                primary: compromisso.color, //getColorFromVariable()\r\n              },\r\n              title: `${compromisso.title} - ${compromisso.client} - ${compromisso.statusnome}`,\r\n              codClient: compromisso.codClient,\r\n              client: compromisso.client,\r\n              formContactId: compromisso.formContactId,\r\n              formContactDesc: compromisso.formContactDesc,\r\n              typeContactId: compromisso.typeContactId,\r\n              typeContactDesc: compromisso.typeContactDesc,\r\n              start: new Date(compromisso.start),\r\n              end: new Date(compromisso.end),\r\n              allDay: compromisso.allDay,\r\n              description: compromisso.description,\r\n              draggable: false,\r\n              statusnome : compromisso.statusnome\r\n            };\r\n          });\r\n        }else{\r\n          return[];\r\n        }\r\n      }),\r\n      finalize(() => {\r\n        this.setRouterParams(paramsObj);\r\n      })\r\n    );\r\n  }\r\n\r\n  dayClicked({\r\n    date,\r\n    events\r\n  }: {\r\n    date: Date;\r\n    events: Array<CalendarEvent<{ compromisso: Compromisso }>>;\r\n  }): void {\r\n    if (isSameMonth(date, this.viewDate)) {\r\n      if (\r\n        (isSameDay(this.viewDate, date) && this.activeDayIsOpen === true) ||\r\n        events.length === 0\r\n      ) {\r\n        this.activeDayIsOpen = false;\r\n      } else {\r\n        this.activeDayIsOpen = true;\r\n        this.viewDate = date;\r\n      }\r\n    }\r\n  }\r\n\r\n  eventClicked(event: CalendarEvent<{ compromisso: Compromisso }>): void {\r\n    this.router.navigate(['../detalhes', event.id], {\r\n      relativeTo: this.activatedRoute\r\n    });\r\n  }\r\n\r\n  onFilter(showFilter: boolean): void {\r\n    if (showFilter) {\r\n      this.showCalendar = true;\r\n      this.fetchEvents();\r\n    } else {\r\n      this.showCalendar = false;\r\n      this.setRouterParams(null);\r\n    }\r\n    this.showFilter = !this.showFilter;\r\n  }\r\n\r\n  setRouterParams(params: any): void {\r\n    if (params === null) {\r\n      this.router.navigate([], {\r\n        relativeTo: this.activatedRoute\r\n      });\r\n    } else {\r\n      this.router.navigate([], {\r\n        relativeTo: this.activatedRoute,\r\n        queryParams: { q: btoa(JSON.stringify(params)) },\r\n        queryParamsHandling: 'merge'\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\n// Guards\r\nimport { FormDeactivateGuard } from 'src/app/guards/form-deactivate.guard';\r\nimport { ComercialAgendaAcessosResolverGuard } from './guards/acessos-resolver.guard';\r\nimport { ComercialAgendaDetalhesResolverGuard } from './guards/detalhes-resolver.guard';\r\n\r\n// Components\r\nimport { ComercialAgendaCompromissosComponent } from './compromissos/compromissos.component';\r\nimport { ComercialAgendaDetalhesComponent } from './detalhes/detalhes.component';\r\nimport { ComercialAgendaFormularioComponent } from './formulario/formulario.component';\r\nimport { NotFoundComponent } from 'src/app/core/not-found/not-found.component';\r\n\r\nconst routes: Routes = [\r\n  { path: 'compromissos', component: ComercialAgendaCompromissosComponent },\r\n  {\r\n    path: 'detalhes/:id',\r\n    component: ComercialAgendaDetalhesComponent,\r\n    resolve: { detalhes: ComercialAgendaDetalhesResolverGuard },\r\n  },\r\n  {\r\n    path: 'novo/:codCliente',\r\n    component: ComercialAgendaFormularioComponent,\r\n    resolve: {\r\n      acessos: ComercialAgendaAcessosResolverGuard,\r\n      detalhes: ComercialAgendaDetalhesResolverGuard,\r\n    },\r\n    canDeactivate: [FormDeactivateGuard],\r\n  },\r\n\r\n  {\r\n    path: 'finalizar/:id',\r\n    component: ComercialAgendaFormularioComponent,\r\n    resolve: {\r\n      detalhes: ComercialAgendaDetalhesResolverGuard,\r\n    },\r\n    canDeactivate: [FormDeactivateGuard],\r\n  },\r\n\r\n  {\r\n    path: 'finalizar/:id',\r\n    component: ComercialAgendaFormularioComponent,\r\n    resolve: {\r\n      detalhes: ComercialAgendaDetalhesResolverGuard,\r\n    },\r\n    canDeactivate: [FormDeactivateGuard],\r\n  },\r\n  {\r\n    path: 'novo',\r\n    component: ComercialAgendaFormularioComponent,\r\n    resolve: {\r\n      acessos: ComercialAgendaAcessosResolverGuard,\r\n      detalhes: ComercialAgendaDetalhesResolverGuard,\r\n    },\r\n    canDeactivate: [FormDeactivateGuard],\r\n  },\r\n  {\r\n    path: 'editar/:id',\r\n    component: ComercialAgendaFormularioComponent,\r\n    resolve: {\r\n      detalhes: ComercialAgendaDetalhesResolverGuard,\r\n    },\r\n    canDeactivate: [FormDeactivateGuard],\r\n  },\r\n  {\r\n    path: 'reagendar/:id',\r\n    component: ComercialAgendaFormularioComponent,\r\n    resolve: {\r\n      detalhes: ComercialAgendaDetalhesResolverGuard,\r\n    },\r\n    canDeactivate: [FormDeactivateGuard],\r\n  },\r\n  {\r\n    path: '',\r\n    redirectTo: 'compromissos',\r\n    pathMatch: 'full',\r\n  },\r\n  {\r\n    path: '**',\r\n    component: NotFoundComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ComercialAgendaRoutingModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { take, retry } from 'rxjs/operators';\r\nimport { forkJoin, Observable } from 'rxjs';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\n// Services\r\nimport { ComercialCadastrosTitulosAgendaService } from './../../cadastros/titulos-agenda/titulos-agenda.service';\r\nimport { ComercialVendedoresService } from '../../services/vendedores.service';\r\nimport { AuthService } from 'src/app/shared/services/core/auth.service';\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialAgendaFormularioService {\r\n  private readonly API = `http://23.254.204.187/api/comercial/agenda/formulario`;\r\n\r\n  constructor(\r\n    protected http: HttpClient,\r\n    private vendedoresService: ComercialVendedoresService,\r\n    private titulosAgendaService: ComercialCadastrosTitulosAgendaService\r\n  ) {}\r\n\r\n  loadDependencies(): Observable<Object | JsonResponse> {\r\n    let clientes = this.vendedoresService.getCarteiraClientes();\r\n    let vendedores = this.vendedoresService.getVendedores();\r\n    let formasContato = this.getFormasContato();\r\n    let origensContato = this.getOrigensContato();\r\n    let motivosReagendamento = this.getMotivosReagendamento();\r\n\r\n    let listarTitulosAgenda = this.titulosAgendaService.getListaTitulosAgenda({\r\n      codSituacao: '1',\r\n    });\r\n\r\n    return forkJoin([\r\n      clientes,\r\n      formasContato,\r\n      origensContato,\r\n      motivosReagendamento,\r\n      listarTitulosAgenda,\r\n      vendedores,\r\n    ]);\r\n  }\r\n\r\n  getFormasContato(): Observable<Object | JsonResponse> {\r\n    return this.http.get(`${this.API}/formas-contato`).pipe(take(1), retry(2));\r\n  }\r\n\r\n  getOrigensContato(): Observable<Object | JsonResponse> {\r\n    return this.http.get(`${this.API}/origens-contato`).pipe(take(1), retry(2));\r\n  }\r\n\r\n  getMotivosReagendamento(): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/motivos-reagendamento`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n}\r\n","export default \"<ng-template #loading>\\r\\n  <loader-spinner-full-screen></loader-spinner-full-screen>\\r\\n</ng-template>\\r\\n<app-header [appTitle]=\\\"appTitle(viewDate)\\\">\\r\\n  <button type=\\\"button\\\"\\r\\n    *ngIf=\\\"showCalendar\\\"\\r\\n    (click)=\\\"refreshEvents()\\\">Actualizar</button>\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    *ngIf=\\\"showCalendar\\\"\\r\\n    mwlCalendarPreviousView\\r\\n    [view]=\\\"view\\\"\\r\\n    [(viewDate)]=\\\"viewDate\\\"\\r\\n    (viewDateChange)=\\\"fetchEvents()\\\">\\r\\n    Mes Anterior\\r\\n  </button>\\r\\n  <button type=\\\"button\\\"\\r\\n    *ngIf=\\\"showCalendar\\\"\\r\\n    mwlCalendarToday\\r\\n    [(viewDate)]=\\\"viewDate\\\"\\r\\n    (viewDateChange)=\\\"fetchEvents()\\\">\\r\\n    Mes Actual\\r\\n  </button>\\r\\n  <button type=\\\"button\\\"\\r\\n    *ngIf=\\\"showCalendar\\\"\\r\\n    mwlCalendarNextView\\r\\n    [view]=\\\"view\\\"\\r\\n    [(viewDate)]=\\\"viewDate\\\"\\r\\n    (viewDateChange)=\\\"fetchEvents()\\\">\\r\\n    Siguiente mes\\r\\n  </button>\\r\\n  <button type=\\\"button\\\"\\r\\n    *ngIf=\\\"showCalendar\\\"\\r\\n    [routerLink]=\\\"['../novo']\\\">\\r\\n    Adicionar\\r\\n  </button>\\r\\n  <button type=\\\"button\\\"\\r\\n    (click)=\\\"onFilter(showFilter)\\\"\\r\\n    *ngIf=\\\"enableFilterButton()\\\"\\r\\n    [disabled]=\\\"idEscritorio == null || idVendedor == null\\\">\\r\\n    Filtrar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\" [show]=\\\"!loaderFullScreen\\\">\\r\\n  <div class=\\\"row\\\" *ngIf=\\\"showFilter\\\">\\r\\n    <div class=\\\"col\\\">\\r\\n      <comercial-templates-filtro-vendedor-escritorio\\r\\n        [profile]=\\\"profile\\\"\\r\\n        [showAll]=\\\"false\\\"\\r\\n        (formValue)=\\\"dataFilter($event)\\\">\\r\\n      </comercial-templates-filtro-vendedor-escritorio>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"row\\\" *ngIf=\\\"showCalendar\\\">\\r\\n    <div class=\\\"col\\\">\\r\\n      <div class=\\\"row mb-3\\\"\\r\\n        *ngIf=\\\"(this.nomeEscritorio !== null ) || (this.nomeVendedor != null )\\\">\\r\\n        <div class=\\\"col\\\">\\r\\n          <div class=\\\"d-flex\\\">\\r\\n            <h6 class=\\\"mb-0 mr-2\\\" *ngIf=\\\"this.nomeVendedor != null || this.nomeEscritorio != null \\\">\\r\\n              <span class=\\\"badge badge-secondary\\\">{{ this.nomeEscritorio }}</span>\\r\\n            </h6>\\r\\n            <h6 class=\\\"mb-0\\\">\\r\\n              <span class=\\\"badge badge-primary\\\">{{ nomeVendedor }}</span>\\r\\n            </h6>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col\\\">\\r\\n          <div *ngIf=\\\"events$ | async; else loading; let events\\\">\\r\\n            <div [ngSwitch]=\\\"view\\\">\\r\\n              <mwl-calendar-month-view\\r\\n                *ngSwitchCase=\\\"'month'\\\"\\r\\n                [@.disabled]=\\\"true\\\"\\r\\n                [viewDate]=\\\"viewDate\\\"\\r\\n                [events]=\\\"events\\\"\\r\\n                [activeDayIsOpen]=\\\"activeDayIsOpen\\\"\\r\\n                (dayClicked)=\\\"dayClicked($event.day)\\\"\\r\\n                (eventClicked)=\\\"eventClicked($event.event)\\\">\\r\\n              </mwl-calendar-month-view>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <permission-denied\\r\\n    message=\\\"Su perfil no tiene permisos para acceder a esta aplicacion\\\"\\r\\n    *ngIf=\\\"showPermissionDenied\\\">\\r\\n  </permission-denied>\\r\\n</app-body>\\r\\n\";","export default \"::ng-deep .input-group .custom-select:not(:last-child),\\n::ng-deep .input-group .form-control:not(:last-child) {\\n  border-top-right-radius: 0.25rem;\\n  border-bottom-right-radius: 0.25rem;\\n}\\n::ng-deep .color-dropdown {\\n  background-color: transparent;\\n  border: unset;\\n  display: -ms-flexbox;\\n  display: flex;\\n  padding: 0px;\\n}\\n::ng-deep .color-dropdown div {\\n  border-radius: 50%;\\n  content: \\\"\\\";\\n  height: 15px;\\n  width: 15px;\\n}\\n::ng-deep .color-dropdown::after {\\n  margin-top: 4px;\\n  margin-left: 5px !important;\\n}\\n::ng-deep .color-dropdown:focus {\\n  outline: unset;\\n}\\n::ng-deep ul#color-dropdown li a.dropdown-item {\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n::ng-deep ul#color-dropdown li a.dropdown-item .color-hex {\\n  border-radius: 50%;\\n  content: \\\"\\\";\\n  height: 15px;\\n  margin-right: 8px;\\n  margin-top: 4px;\\n  width: 15px;\\n}\\n::ng-deep .custom-mt {\\n  margin: -1px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb21lcmNpYWwvYWdlbmRhL2Zvcm11bGFyaW8vZm9ybXVsYXJpby5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJTTs7RUFDRSxnQ0FBQTtFQUNBLG1DQUFBO0FBRlI7QUFNRTtFQUNFLDZCQUFBO0VBQ0EsYUFBQTtFQUNBLG9CQUFBO0VBQUEsYUFBQTtFQUNBLFlBQUE7QUFKSjtBQUtJO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7QUFITjtBQUtJO0VBQ0UsZUFBQTtFQUNBLDJCQUFBO0FBSE47QUFLSTtFQUNFLGNBQUE7QUFITjtBQVFNO0VBQ0Usb0JBQUE7RUFBQSxhQUFBO0FBTlI7QUFPUTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0FBTFY7QUFVRTtFQUNFLFlBQUE7QUFSSiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2FnZW5kYS9mb3JtdWxhcmlvL2Zvcm11bGFyaW8uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6Om5nLWRlZXAge1xyXG4gIC5pbnB1dC1ncm91cCB7XHJcbiAgICAuY3VzdG9tLXNlbGVjdCxcclxuICAgIC5mb3JtLWNvbnRyb2wge1xyXG4gICAgICAmOm5vdCg6bGFzdC1jaGlsZCkge1xyXG4gICAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwLjI1cmVtO1xyXG4gICAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwLjI1cmVtO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC5jb2xvci1kcm9wZG93biB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlcjogdW5zZXQ7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgcGFkZGluZzogMHB4O1xyXG4gICAgZGl2IHtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICBjb250ZW50OiAnJztcclxuICAgICAgaGVpZ2h0OiAxNXB4O1xyXG4gICAgICB3aWR0aDogMTVweDtcclxuICAgIH1cclxuICAgICY6OmFmdGVyIHtcclxuICAgICAgbWFyZ2luLXRvcDogNHB4O1xyXG4gICAgICBtYXJnaW4tbGVmdDogNXB4ICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcbiAgICAmOmZvY3VzIHtcclxuICAgICAgb3V0bGluZTogdW5zZXQ7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHVsI2NvbG9yLWRyb3Bkb3duIHtcclxuICAgIGxpIHtcclxuICAgICAgYS5kcm9wZG93bi1pdGVtIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIC5jb2xvci1oZXgge1xyXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAgICAgY29udGVudDogJyc7XHJcbiAgICAgICAgICBoZWlnaHQ6IDE1cHg7XHJcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDhweDtcclxuICAgICAgICAgIG1hcmdpbi10b3A6IDRweDtcclxuICAgICAgICAgIHdpZHRoOiAxNXB4O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICAuY3VzdG9tLW10IHtcclxuICAgIG1hcmdpbjogLTFweDtcclxuICB9XHJcbn1cclxuIl19 */\";","export default \"<app-header appTitle=\\\"Detalles del compromiso\\\">\\r\\n  <button type=\\\"button\\\" *ngIf=\\\"switchEdit\\\" (click)=\\\"onEdit(detalhes)\\\"[disabled]=\\\"detalhes.status === 'FINALIZADO'\\\">Editar</button>\\r\\n\\r\\n  <button type=\\\"button\\\" (click)=\\\"onReschedule(detalhes)\\\"[disabled]=\\\"detalhes.status === 'FINALIZADO'\\\">Reagendar</button>\\r\\n\\r\\n  <button type=\\\"button\\\" *ngIf=\\\"switchEdit\\\" (click)=\\\"onDelete(detalhes)\\\"[disabled]=\\\"detalhes.status === 'FINALIZADO'\\\">Excluir</button>\\r\\n\\r\\n  <button type=\\\"button\\\" *ngIf=\\\"switchEdit || detalhes.title === 'LLAMADA'\\\"(click)=\\\"onFinish(detalhes)\\\" [disabled]=\\\"detalhes.status === 'FINALIZADO'\\\">Finalizado</button>\\r\\n  <!-- Nuevo botn -->\\r\\n\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\">\\r\\n  <div class=\\\"row justify-content-center\\\">\\r\\n    <div class=\\\"col-6\\\">\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col\\\">\\r\\n          <label>Ttulo</label>\\r\\n          <div>{{ detalhes.title }}</div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col\\\">\\r\\n          <label>Cliente</label>\\r\\n          <div *ngIf=\\\"!detalhes.client\\\">Sin informacion</div>\\r\\n          <div *ngIf=\\\"detalhes.client\\\">{{ detalhes.client }}</div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col-sm-6\\\">\\r\\n          <label>FORMA DE CONTACTO</label>\\r\\n          <div *ngIf=\\\"!detalhes.formContactDesc\\\">Sin informacion</div>\\r\\n          <div *ngIf=\\\"detalhes.formContactDesc\\\">\\r\\n            {{ detalhes.formContactDesc }}\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col\\\">\\r\\n          <label>Fecha</label>\\r\\n          <div>{{ detalhes.fullDate | uppercase }}</div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <!-- <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col\\\">\\r\\n          <label>Hora Inicio</label>\\r\\n          <div>{{ detalhes.fullDate | uppercase }}</div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col\\\">\\r\\n          <label>Hora Final</label>\\r\\n          <div>{{ detalhes.fullDate | uppercase }}</div>\\r\\n        </div>\\r\\n      </div> -->\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col\\\">\\r\\n          <label>Observacin</label>\\r\\n          <div *ngIf=\\\"!detalhes.description\\\">Sin informacion</div>\\r\\n          <div *ngIf=\\\"detalhes.description\\\" [innerHTML]=\\\"detalhes.description | uppercase\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col\\\">\\r\\n          <label>Reprogramacin</label>\\r\\n          <div *ngIf=\\\"!detalhes.motivo\\\">No reprogramado</div>\\r\\n          <div *ngIf=\\\"detalhes.motivo\\\" [innerHTML]=\\\"detalhes.motivo | uppercase\\\"></div>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col\\\">\\r\\n          <label>Observacion de Finalizado</label>\\r\\n          <div *ngIf=\\\"!detalhes.observacionFinal\\\">Sin informacion</div>\\r\\n          <div *ngIf=\\\"detalhes.observacionFinal\\\" [innerHTML]=\\\"detalhes.observacionFinal\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col\\\">\\r\\n          <label>Estado</label>\\r\\n          <div *ngIf=\\\"!detalhes.status\\\">Registrado</div>\\r\\n          <div *ngIf=\\\"detalhes.status\\\" [innerHTML]=\\\"detalhes.status | uppercase\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col\\\">\\r\\n          <label>Anexo</label>\\r\\n          <div>\\r\\n            <ng-container *ngIf=\\\"imagenes.length === 0\\\">\\r\\n              <img src=\\\"../../../assets/images/system-alerts/404.png\\\" alt=\\\"Sin informacin\\\" style=\\\"width: 80px; height: 80px\\\" />\\r\\n            </ng-container>\\r\\n          </div>\\r\\n          <ng-container *ngIf=\\\"imagenes.length > 0\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div *ngFor=\\\"let image of imagenes\\\" class=\\\"col\\\">\\r\\n                <div class=\\\"row image-container\\\">\\r\\n                  <a (click)=\\\"abrirModal(modalTemplate)\\\">\\r\\n                    <img src=\\\"data:image/jpeg;base64,{{image.url_imagen}}\\\" class=\\\"m-3\\\" style=\\\"width: 80px; height: 80px;\\\" />\\r\\n                  </a>\\r\\n                </div>\\r\\n                <ng-template #modalTemplate>\\r\\n                  <div class=\\\"modal-container\\\">\\r\\n                    <div class=\\\"modal-header\\\">\\r\\n                      <h4 class=\\\"modal-title\\\">Imagen en tamao completo</h4>\\r\\n                      <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef?.hide()\\\">\\r\\n                        <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n                      </button>\\r\\n                    </div>\\r\\n                    <div class=\\\"modal-body\\\">\\r\\n                      <img class=\\\"modal-image\\\" src=\\\"data:image/jpeg;base64,{{image.url_imagen}}\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n              </div>\\r\\n            </div>\\r\\n          </ng-container>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-md-6\\\">\\r\\n      <p class=\\\"marker-info\\\"><strong> SEGUIMIENTO DEL PROMOTOR</strong></p>\\r\\n      <div class=\\\"embed-responsive embed-responsive-16by9\\\">\\r\\n        <agm-map [latitude]=\\\"latitud\\\" [longitude]=\\\"longitud\\\" [zoom]=\\\"13\\\" class=\\\"embed-responsive-item\\\"\\r\\n          (mapClick)=\\\"actualizarMarcador($event)\\\">\\r\\n          <agm-marker [latitude]=\\\"latitud\\\" [longitude]=\\\"longitud\\\" [label]=\\\"'C'\\\">\\r\\n            <agm-info-window [disableAutoPan]=\\\"true\\\">\\r\\n              <div class=\\\"marker-info-window\\\">\\r\\n                <p class=\\\"marker-name mb-0\\\"><strong> Cliente: </strong> {{detalhes.client}}</p>\\r\\n              </div>\\r\\n            </agm-info-window>\\r\\n            <agm-marker *ngFor=\\\"let posicion of posiciones\\\" [latitude]=\\\"posicion.latitud\\\"\\r\\n              [longitude]=\\\"posicion.longitud\\\" [iconUrl]=\\\"'http://maps.google.com/mapfiles/ms/icons/blue-dot.png'\\\">\\r\\n              <agm-info-window [disableAutoPan]=\\\"true\\\" >\\r\\n                <div class=\\\"marker-info-window\\\">\\r\\n                 <!--  <p class=\\\"marker-name mb-0\\\"><strong> Promotor: </strong> {{posicion.vendedor}}</p> -->\\r\\n                  <p class=\\\"marker-name mb-0\\\"><strong> Fecha: </strong> {{posicion.fecha}}</p>\\r\\n                </div>\\r\\n              </agm-info-window>\\r\\n            </agm-marker>\\r\\n          </agm-marker>\\r\\n          <agm-polyline [strokeColor]=\\\"'blue'\\\">\\r\\n            <ng-container *ngFor=\\\"let posicion of posiciones\\\">\\r\\n              <agm-polyline-point [latitude]=\\\"posicion.latitud\\\" [longitude]=\\\"posicion.longitud\\\">\\r\\n              </agm-polyline-point>\\r\\n            </ng-container>\\r\\n          </agm-polyline>\\r\\n        </agm-map>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</app-body>\\r\\n\";","export default \"<loader-spinner-navbar *ngIf=\\\"loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<loader-spinner-full-screen *ngIf=\\\"loaderFullScreen\\\"></loader-spinner-full-screen>\\r\\n<app-header [appTitle]=\\\"appTitle()\\\">\\r\\n  <button type=\\\"button\\\" (click)=\\\"onCancel()\\\" [disabled]=\\\"submittingForm\\\">\\r\\n    Cancelar\\r\\n  </button>\\r\\n  <button type=\\\"button\\\" (click)=\\\"onSubmit()\\\" [disabled]=\\\"submittingForm || !form.valid\\\">\\r\\n    Guardar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\" [show]=\\\"!loaderFullScreen\\\">\\r\\n  <div class=\\\"row justify-content-center\\\">\\r\\n    <div class=\\\"col-lg-5\\\">\\r\\n      <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n        <div class=\\\"form-row justify-content-center\\\">\\r\\n          <div class=\\\"form-group col\\\">\\r\\n            <label for=\\\"codTitulo\\\">Ttulo</label>\\r\\n            <div class=\\\"input-group-prepend\\\">\\r\\n              <ng-select class=\\\"custom-control-input form-control\\\" [searchable]=\\\"true\\\" [clearable]=\\\"true\\\"\\r\\n                class=\\\"col p-0\\\" [items]=\\\"listarTitulosAgenda\\\" [virtualScroll]=\\\"true\\\" placeholder=\\\"Selecione...\\\"\\r\\n                labelForId=\\\"codTitulo\\\" bindLabel=\\\"descricaoTitulo\\\" bindValue=\\\"codTitulo\\\" id=\\\"codTitulo\\\"\\r\\n                formControlName=\\\"codTitulo\\\" (change)=\\\"onCodTituloChange()\\\">\\r\\n              </ng-select>\\r\\n            </div>\\r\\n            <invalid-form-control [show]=\\\"onFieldInvalid('codTitulo')\\\"\\r\\n              message=\\\"Ttulo obligatorio.\\\"></invalid-form-control>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"showInputVendedores\\\">\\r\\n          <div class=\\\"form-row\\\" *ngIf=\\\"permissoesAcesso.simuladorVendas === true\\\">\\r\\n            <div class=\\\"form-group col my-3\\\">\\r\\n              <div class=\\\"custom-control custom-checkbox\\\">\\r\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"gerar-cotacao-pedido\\\"\\r\\n                  formControlName=\\\"gerarCotacaoPedido\\\" (change)=\\\"onGerarCotacaoPedido()\\\" />\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"gerar-cotacao-pedido\\\">\\r\\n                  Generar presupuesto/solicitud para este contacto\\r\\n                </label>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-row\\\">\\r\\n            <div class=\\\"form-group col\\\">\\r\\n              <label for=\\\"promotor\\\">Promotor</label>\\r\\n              <ng-select [searchable]=\\\"true\\\" [clearable]=\\\"false\\\" [items]=\\\"promotores\\\" [virtualScroll]=\\\"true\\\"\\r\\n                labelForId=\\\"promotor\\\" bindLabel=\\\"nombre\\\" bindValue=\\\"ID\\\" formControlName=\\\"promotor\\\"\\r\\n                [ngClass]=\\\"onFieldError('promotor') + ' ' + onFieldRequired('promotor')\\\" (change)=\\\"onInput()\\\">\\r\\n              </ng-select>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"showInputClientes\\\">\\r\\n          <div class=\\\"form-row\\\" *ngIf=\\\"permissoesAcesso.simuladorVendas === true\\\">\\r\\n            <div class=\\\"form-group col my-3\\\">\\r\\n              <div class=\\\"custom-control custom-checkbox\\\">\\r\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"gerar-cotacao-pedido\\\"\\r\\n                  formControlName=\\\"gerarCotacaoPedido\\\" (change)=\\\"onGerarCotacaoPedido()\\\" />\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"gerar-cotacao-pedido\\\">\\r\\n                  Generar presupuesto/solicitud para este contacto\\r\\n                </label>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-row\\\">\\r\\n            <div class=\\\"form-group col\\\">\\r\\n              <label for=\\\"cliente\\\">Cliente</label>\\r\\n              <ng-select [searchable]=\\\"true\\\" [clearable]=\\\"false\\\" [items]=\\\"clientes\\\" [virtualScroll]=\\\"true\\\"\\r\\n                labelForId=\\\"cliente\\\" bindLabel=\\\"nomeCliente\\\" bindValue=\\\"codCliente\\\" formControlName=\\\"cliente\\\"\\r\\n                [ngClass]=\\\"onFieldError('cliente') + ' ' + onFieldRequired('cliente')\\\"\\r\\n                (change)=\\\"updateDireccion($event)\\\">\\r\\n              </ng-select>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-md-6\\\">\\r\\n            <label for=\\\"codFormaContato\\\">FORMA DE CONTACTO</label>\\r\\n            <ng-select [searchable]=\\\"true\\\" [clearable]=\\\"false\\\" [items]=\\\"formasContato\\\" formControlName=\\\"codFormaContato\\\"\\r\\n              [virtualScroll]=\\\"false\\\" bindLabel=\\\"descricao\\\" bindValue=\\\"codFormaContato\\\" [ngClass]=\\\"\\r\\n                onFieldError('codFormaContato') +\\r\\n                ' ' +\\r\\n                onFieldRequired('codFormaContato')\\r\\n              \\\">\\r\\n            </ng-select>\\r\\n            <invalid-form-control [show]=\\\"onFieldInvalid('codFormaContato')\\\"\\r\\n              message=\\\"Forma de contacto es obligatorio.\\\"></invalid-form-control>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-md-6\\\">\\r\\n            <label for=\\\"codOrigemContato\\\">ORIGEN DE CONTACTO</label>\\r\\n            <ng-select [searchable]=\\\"true\\\" [clearable]=\\\"false\\\" [items]=\\\"origensContato\\\"\\r\\n              formControlName=\\\"codOrigemContato\\\" [virtualScroll]=\\\"false\\\" bindLabel=\\\"DS_MEIO_CONT\\\"\\r\\n              bindValue=\\\"ID_MEIO_CONT\\\" [ngClass]=\\\"\\r\\n                onFieldError('codOrigemContato') +\\r\\n                ' ' +\\r\\n                onFieldRequired('codOrigemContato')\\r\\n              \\\">\\r\\n            </ng-select>\\r\\n            <invalid-form-control [show]=\\\"onFieldInvalid('codOrigemContato')\\\"\\r\\n              message=\\\"Origen de contacto es obligatorio.\\\"></invalid-form-control>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-md-12\\\">\\r\\n            <label for=\\\"codOrigemContato\\\">DIRECCION</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"direccion\\\" [ngClass]=\\\"\\r\\n                onFieldError('codOrigemContato') +\\r\\n                ' ' +\\r\\n                onFieldRequired('codOrigemContato')\\r\\n              \\\" />\\r\\n            <input type=\\\"hidden\\\" formControlName=\\\"latitud_clie\\\" />\\r\\n            <input type=\\\"hidden\\\" formControlName=\\\"longitud_clie\\\" />\\r\\n            <input type=\\\"hidden\\\" formControlName=\\\"codigo_cliente\\\" />\\r\\n\\r\\n            <invalid-form-control [show]=\\\"onFieldInvalid('codOrigemContato')\\\"\\r\\n              message=\\\"Origen de contacto es obligatorio.\\\"></invalid-form-control>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-md-12\\\">\\r\\n            <div class=\\\"embed-responsive embed-responsive-16by9\\\">\\r\\n              <agm-map [latitude]=\\\"latitud\\\" [longitude]=\\\"longitud\\\" [zoom]=\\\"16\\\" class=\\\"embed-responsive-item\\\"\\r\\n                (mapClick)=\\\"actualizarMarcador($event)\\\">\\r\\n                <agm-marker [latitude]=\\\"latitud\\\" [longitude]=\\\"longitud\\\" (markerDragEnd)=\\\"actualizarDireccion($event)\\\">\\r\\n                </agm-marker>\\r\\n              </agm-map>\\r\\n              <div id=\\\"map-zoom-control\\\" class=\\\"map-control\\\"></div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"col\\\">\\r\\n                <label for=\\\"inicioData\\\">Fecha Inicial</label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"col-md-6 pr-0\\\">\\r\\n                <div class=\\\"input-group\\\">\\r\\n                  <div class=\\\"input-group-prepend\\\">\\r\\n                    <span class=\\\"input-group-text\\\"><i class=\\\"far fa-calendar-alt\\\"></i></span>\\r\\n                  </div>\\r\\n                  <input class=\\\"form-control\\\" id=\\\"inicioData\\\" type=\\\"text\\\" bsDatepicker [bsConfig]=\\\"bsConfig\\\"\\r\\n                    formControlName=\\\"inicioData\\\" (input)=\\\"onInput()\\\" [ngClass]=\\\"\\r\\n                      onFieldError('inicioData') +\\r\\n                      ' ' +\\r\\n                      onFieldRequired('inicioData')\\r\\n                    \\\" />\\r\\n                </div>\\r\\n                <invalid-form-control [show]=\\\"onFieldInvalid('inicioData')\\\"\\r\\n                  message=\\\"Incio  obrigatrio.\\\"></invalid-form-control>\\r\\n              </div>\\r\\n              <div class=\\\"col-md-6\\\">\\r\\n                <div class=\\\"custom-mt d-flex\\\">\\r\\n                  <timepicker [showMeridian]=\\\"false\\\" [showSpinners]=\\\"false\\\" [mousewheel]=\\\"true\\\"\\r\\n                    formControlName=\\\"inicioHorario\\\" (input)=\\\"onInput()\\\">\\r\\n                  </timepicker>\\r\\n                  <div class=\\\"custom-control custom-checkbox ml-3 mt-2\\\">\\r\\n                    <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"diaInteiro\\\" formControlName=\\\"diaInteiro\\\"\\r\\n                      (input)=\\\"onInput()\\\" (change)=\\\"triggerAllDay()\\\" />\\r\\n                    <label class=\\\"custom-control-label\\\" for=\\\"diaInteiro\\\">Dia completo</label>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"col\\\">\\r\\n                <label [ngClass]=\\\"{ required: !isDisabledTime }\\\" for=\\\"terminoData\\\">Fecha Final</label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"col-md-6 pr-0\\\">\\r\\n                <div class=\\\"input-group\\\">\\r\\n                  <div class=\\\"input-group-prepend\\\">\\r\\n                    <span class=\\\"input-group-text\\\"><i class=\\\"far fa-calendar-alt\\\"></i></span>\\r\\n                  </div>\\r\\n                  <input class=\\\"form-control\\\" id=\\\"terminoData\\\" type=\\\"text\\\" bsDatepicker [bsConfig]=\\\"bsConfig\\\"\\r\\n                    formControlName=\\\"terminoData\\\" (input)=\\\"onInput()\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"col-md-6\\\">\\r\\n                <div class=\\\"custom-mt\\\">\\r\\n                  <timepicker [showMeridian]=\\\"false\\\" [showSpinners]=\\\"false\\\" [mousewheel]=\\\"true\\\"\\r\\n                    formControlName=\\\"terminoHorario\\\" (input)=\\\"onInput()\\\">\\r\\n                  </timepicker>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\" *ngIf=\\\"action == 'reagendar'\\\">\\r\\n          <div class=\\\"form-group col\\\">\\r\\n            <label for=\\\"motivoReagendamento\\\">Motivo de la reprogramacin</label>\\r\\n            <select class=\\\"form-control custom-select\\\" id=\\\"motivoReagendamento\\\" formControlName=\\\"motivoReagendamento\\\"\\r\\n              (change)=\\\"onInput()\\\" [ngClass]=\\\"{\\r\\n                'is-invalid': onFieldInvalid(form.get('motivoReagendamento'))\\r\\n              }\\\">\\r\\n              <option *ngFor=\\\"let item of motivosReagendamento\\\" [value]=\\\"item.ID_REAG_MOTI\\\">\\r\\n                {{ item.DS_REAG_MOTI }}\\r\\n              </option>\\r\\n            </select>\\r\\n            <invalid-form-control [show]=\\\"\\r\\n                form.get('motivoReagendamento').invalid &&\\r\\n                form.get('motivoReagendamento').touched\\r\\n              \\\" message=\\\"Motivo de reagendamiento es obligatorio.\\\"></invalid-form-control>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col\\\">\\r\\n            <label for=\\\"observacao\\\">Observacin</label>\\r\\n            <textarea class=\\\"form-control\\\" id=\\\"observacao\\\" formControlName=\\\"observacao\\\" (input)=\\\"onInput()\\\">\\r\\n            </textarea>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-row\\\" *ngIf=\\\"action == 'finalizar'\\\">\\r\\n          <div class=\\\"form-group col\\\">\\r\\n            <label for=\\\"Obsfinalizar\\\">Observacin al finalizar</label>\\r\\n            <textarea class=\\\"form-control\\\" id=\\\"Obsfinalizar\\\" formControlName=\\\"Obsfinalizar\\\" (input)=\\\"onInput()\\\">\\r\\n            </textarea>\\r\\n          </div>\\r\\n        </div>\\r\\n      </form>\\r\\n    </div>\\r\\n  </div>\\r\\n</app-body>\";","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { map, toArray, take, switchMap } from 'rxjs/operators';\r\nimport { EMPTY } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { from } from 'rxjs';\r\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap/modal';\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\nimport { ConfirmModalService } from 'src/app/shared/modules/confirm-modal/confirm-modal.service';\r\nimport { ComercialAgendaService } from 'src/app/modules/comercial/agenda/agenda.service';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\nimport { TitleService } from 'src/app/shared/services/core/title.service';\r\nimport { AuthService } from 'src/app/shared/services/core/auth.service';\r\n\r\nimport { Injectable } from '@angular/core';\r\n// Interfaces\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\nimport { array } from '@amcharts/amcharts4/core';\r\n\r\n@Component({\r\n  selector: 'comercial-agenda-detalhes',\r\n  templateUrl: './detalhes.component.html',\r\n  styleUrls: ['./detalhes.component.scss']\r\n})\r\n\r\nexport class ComercialAgendaDetalhesComponent implements OnInit {\r\nlatitud: any;\r\nlongitud: any;\r\nmodalRef: BsModalRef | undefined;\r\nactualizarMarcador($event: any) {\r\nthrow new Error('Method not implemented.');\r\n}\r\n  breadCrumbTree: Array<Breadcrumb> = [\r\n\r\n    {\r\n      descricao: 'Home',\r\n      routerLink: '/comercial/home'\r\n    },\r\n\r\n    {\r\n      descricao: 'Agenda',\r\n      routerLink: `/comercial/agenda/compromissos`\r\n    },\r\n\r\n    {\r\n      descricao: 'Detalles de cita'\r\n    }\r\n\r\n  ];\r\n\r\n  detalhes: any = {\r\n    status: null\r\n  };\r\n\r\n  imagenes: any = [];\r\n  img: any = [];\r\n  //mostrarElemento: boolean = true;\r\n  //ocultarFormulario(){\r\n   // this.mostrarElemento = false;\r\n // }\r\n\r\n  switchEdit: boolean;\r\n  private user = this.authservice.getCurrentUser();\r\n  posiciones: any;\r\n\r\n\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private atividadesService: AtividadesService,\r\n    private authservice: AuthService,\r\n    private router: Router,\r\n    private dateService: DateService,\r\n    private http: HttpClient,\r\n    private agendaService: ComercialAgendaService,\r\n    private confirmModalService: ConfirmModalService,\r\n    private pnotifyService: PNotifyService,\r\n    private titleService: TitleService,\r\n    private modalService: BsModalService\r\n  ) {\r\n\r\n    this.pnotifyService.getPNotify();\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  ngOnInit() {\r\n\r\n    this.registrarAcesso();\r\n    this.titleService.setTitle('Detalles de cita');\r\n    const detalhes = this.activatedRoute.snapshot.data['detalhes']['result'];\r\n    const inicio = new Date(detalhes['start']);\r\n    const fim = new Date(detalhes['end']);\r\n    this.detalhes.status = detalhes.status;\r\n    if (this.user.info.matricula == 1) {\r\n      this.switchEdit = true;\r\n    } else {\r\n      this.switchEdit = false;\r\n    }\r\n    this.detalhes.id = detalhes.id;\r\n    this.detalhes.title = detalhes.title;\r\n    this.detalhes.codClient = detalhes.codClient;\r\n    this.detalhes.motivo = detalhes.motivo;\r\n    this.detalhes.client = detalhes.client;\r\n    this.detalhes.formContactDesc = detalhes.formContactDesc;\r\n    this.detalhes.typeContactDesc = detalhes.typeContactDesc;\r\n    this.detalhes.allDay = detalhes.allDay;\r\n    this.detalhes.anexo = detalhes.anexo;\r\n    this.detalhes.observacionFinal = detalhes.observacionFinal;\r\n    this.latitud = detalhes.latitud;\r\n    this.longitud = detalhes.longitud;\r\n    this.detalhes.url_web = detalhes.url_web;\r\n\r\n    this.filtrarPosiciones(detalhes.id)\r\n    this.imagenesAnexo(detalhes.id)\r\n    console.log(this.imagenesAnexo(detalhes.id));\r\n\r\n\r\n\r\n    console.log(detalhes);\r\n    this.detalhes.description =\r\n\r\n      detalhes.description != null\r\n\r\n        ? detalhes.description.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />')\r\n\r\n        : null;\r\n\r\n    if (this.detalhes.allDay === true) {\r\n\r\n      this.detalhes.fullDate = `${this.dateService.getFullDate(\r\n        inicio,\r\n        fim,\r\n        false\r\n      )} (Dia completo)`;\r\n\r\n    } else {\r\n      if (this.dateService.sameDay(inicio, fim)) {\r\n        this.detalhes.fullDate = this.dateService.getFullDate(inicio, fim);\r\n      } else {\r\n      }\r\n    }\r\n  }\r\n\r\n  registrarAcesso() {\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n  }\r\n\r\n  onEliminar(detalhes: any) {\r\n    this.router.navigate(['../../eliminar', detalhes.id], {\r\n      relativeTo: this.activatedRoute\r\n    });\r\n  }\r\n\r\n  onEdit(detalhes: any) {\r\n    detalhes.status = 2;\r\n    this.router.navigate(['../../editar', detalhes.id], {\r\n      relativeTo: this.activatedRoute\r\n    });\r\n  }\r\n\r\n  onReschedule(detalhes: any) {\r\n\r\n    detalhes.status = 4;\r\n\r\n    this.router.navigate(['../../reagendar', detalhes.id], {\r\n\r\n      relativeTo: this.activatedRoute\r\n\r\n    });\r\n\r\n  }\r\n\r\n  onFinish(detalhes: any) {\r\n    detalhes.status = 3;\r\n    this.router.navigate(['../../finalizar', detalhes.id], {\r\n      relativeTo: this.activatedRoute\r\n    });\r\n  }\r\n\r\n  onDelete(detalhes: any) {\r\n\r\n    let confirm$ = this.confirmModalService.showConfirm(\r\n      'Borrar',\r\n      'Confirmar borrado',\r\n      'Desea realmente borrar la cita?',\r\n      'Cancelar',\r\n      'Confirmar'\r\n    );\r\n\r\n\r\n\r\n\r\n    confirm$\r\n      .asObservable()\r\n      .pipe(\r\n        take(1),\r\n        switchMap(result =>\r\n          result ? this.agendaService.deleteCompromisso(detalhes.id) : EMPTY\r\n        )\r\n      )\r\n\r\n      .subscribe({\r\n        next: (success) => {\r\n          this.pnotifyService.success('Cita borrada con exito!');\r\n          this.router.navigate(['../../compromissos'], {\r\n            relativeTo: this.activatedRoute\r\n          });\r\n        },\r\n\r\n        error: (error) => {\r\n          this.pnotifyService.error(\r\n            'Error al borrar, intente nuevamente!'\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  filtrarPosiciones(id_agenda: any) {\r\n    this.agendaService.getPosicionPromotor(id_agenda).subscribe(\r\n      (response: any) => {\r\n        this.posiciones = response.result;\r\n      }\r\n    )\r\n  }\r\n\r\n  imagenesAnexo(id_agenda: any) {\r\n    this.agendaService.getImagenes(id_agenda).subscribe(\r\n      (response: any) => {\r\n        this.imagenes = response.result;\r\n      },\r\n      (error: any) => {\r\n        console.error('Error al obtener las imgenes:', error);\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  // decodeBase64Image(base64Image: string): string{\r\n  //   const decodedString = atob(base64Image);\r\n  //   return decodedString;\r\n  // }\r\n\r\n  decodificarBase64(base64String: string): string {\r\n    const binaryString = window.atob(base64String);\r\n    const byteArray = new Uint8Array(binaryString.length);\r\n    for (let i = 0; i < binaryString.length; i++) {\r\n      byteArray[i] = binaryString.charCodeAt(i);\r\n    }\r\n    const blob = new Blob([byteArray], { type: 'image/jpeg' }); // Cambia 'image/png' al tipo de imagen correcto si no es PNG\r\n    return URL.createObjectURL(blob);\r\n  }\r\n\r\n  mostrarImagen(urlImagen: string) {\r\n    this.abrirVentana(\"data:image/jpeg;base64;\"+urlImagen);\r\n  }\r\n\r\n  abrirVentana(urlImagen: string) {\r\n    window.open(urlImagen, \"_blank\");\r\n  }\r\n\r\n  abrirModal(template: any) {\r\n    this.modalRef = this.modalService.show(template);\r\n  }\r\n\r\n}\r\n","export default \".modal-image {\\n  width: 100%;\\n  height: 430px;\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb21lcmNpYWwvYWdlbmRhL2RldGFsaGVzL2RldGFsaGVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BO0VBQ0UsV0FBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtLQUFBLG1CQUFBO0FBTkYiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2NvbWVyY2lhbC9hZ2VuZGEvZGV0YWxoZXMvZGV0YWxoZXMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAubW9kYWwtY29udGFpbmVyIHtcclxuLy8gICBkaXNwbGF5OiBmbGV4O1xyXG4vLyAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbi8vICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbi8vICAgaGVpZ2h0OiAxMDB2aDtcclxuLy8gfVxyXG5cclxuLm1vZGFsLWltYWdlIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDQzMHB4O1xyXG4gIG9iamVjdC1maXQ6IGNvbnRhaW47XHJcbn1cclxuIl19 */\";","import { Component, OnInit } from '@angular/core';\r\n\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  Validators,\r\n  FormControl,\r\n} from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n// ngx-bootstrap\r\nimport { BsLocaleService, BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\r\nimport { defineLocale } from 'ngx-bootstrap/chronos';\r\nimport { esLocale } from 'ngx-bootstrap/locale';\r\n\r\ndefineLocale('es', esLocale);\r\n\r\n// Services\r\nimport { AuthService } from 'src/app/shared/services/core/auth.service';\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\nimport { ComercialAgendaFormularioService } from './formulario.service';\r\nimport { ComercialAgendaService } from 'src/app/modules/comercial/agenda/agenda.service';\r\nimport { TitleService } from 'src/app/shared/services/core/title.service';\r\nimport { ComercialCicloVendasCotacoesService } from '../../ciclo-vendas/cotacoes/cotacoes.service';\r\nimport { ComercialCadastrosTitulosAgendaService } from './../../cadastros/titulos-agenda/titulos-agenda.service';\r\nimport { AbstractControl } from '@angular/forms';\r\nimport { ComercialVendedoresService } from '../../services/vendedores.service';\r\n\r\n// Interfaces\r\nimport { IFormCanDeactivate } from 'src/app/guards/iform-candeactivate';\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\nimport { id } from 'date-fns/locale';\r\nimport { Column3D } from '@amcharts/amcharts4/charts';\r\nimport { titulo } from 'ng-brazil/titulo/validator';\r\n\r\nimport { compileDirectiveFromRender2 } from '@angular/compiler/src/render3/view/compiler';\r\n\r\n@Component({\r\n  selector: 'comercial-agenda-formulario',\r\n  templateUrl: './formulario.component.html',\r\n  styleUrls: ['./formulario.component.scss'],\r\n})\r\nexport class ComercialAgendaFormularioComponent\r\n  implements OnInit, IFormCanDeactivate\r\n{\r\n  private user = this.authService.getCurrentUser();\r\n  permissoesAcesso: {\r\n    simuladorVendas: boolean;\r\n  };\r\n\r\n  colors = [\r\n    {\r\n      hex: '#FFFF01',\r\n      descricao: 'Amarillo',\r\n    },\r\n    {\r\n      hex: '#0076d4',\r\n      descricao: 'Azul',\r\n    },\r\n    {\r\n      hex: '#FB6602',\r\n      descricao: 'Naranja',\r\n    },\r\n    {\r\n      hex: '#FF0087',\r\n      descricao: 'Rosado',\r\n    },\r\n    {\r\n      hex: '#610069',\r\n      descricao: 'Morado',\r\n    },\r\n    {\r\n      hex: '#FA1100',\r\n      descricao: 'Rojo',\r\n    },\r\n  ];\r\n  selectedColor: any; // Declaracin en el componente\r\n\r\n  loaderNavbar = false;\r\n  loaderFullScreen = true;\r\n  action: string;\r\n  latitud: number = -17.78629;\r\n  longitud: number = -63.18117;\r\n\r\n  direccion: string;\r\n\r\n  breadCrumbTree: Array<Breadcrumb> = [];\r\n\r\n  form: FormGroup;\r\n  formChanged = false;\r\n  submittingForm = false;\r\n\r\n  clientes: any = [];\r\n  promotores: any = [];\r\n  formasContato: any = [];\r\n  origensContato: any = [];\r\n  listarTitulosAgenda: any = [];\r\n  motivosReagendamento: any = [];\r\n  marcadorArrastrable = true;\r\n  attachedFiles: File[] = [];\r\n  adjunto: File = null;\r\n\r\n  showInputClientes = true;\r\n  showInputVendedores = true;\r\n  hideInputVendedores = true;\r\n\r\n  mostrarFormulario: boolean = true;\r\n\r\n  isDisabledTime = false;\r\n\r\n  showFormulario = true;\r\n  hideFormulario = true;\r\n  color: string;\r\n  userData: any;\r\n\r\n  bsConfig: Partial<BsDatepickerConfig>;\r\n  mostrarElemento: any;\r\n  detalhes: any = {\r\n    status: null,\r\n  };\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private atividadesService: AtividadesService,\r\n    private formService: ComercialAgendaFormularioService,\r\n    private agendaService: ComercialAgendaService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private location: Location,\r\n    private localeService: BsLocaleService,\r\n    private pnotifyService: PNotifyService,\r\n    private dateService: DateService,\r\n    private titleService: TitleService,\r\n    private cotacoesService: ComercialCicloVendasCotacoesService,\r\n    private ComercialVendedoresService: ComercialVendedoresService,\r\n    private authService: AuthService,\r\n  ) {\r\n    this.localeService.use('es');\r\n    this.bsConfig = Object.assign(\r\n      {},\r\n      { containerClass: 'theme-dark-blue' },\r\n      { adaptivePosition: true },\r\n      { showWeekNumbers: false }\r\n    );\r\n    this.pnotifyService.getPNotify();\r\n    \r\n  }\r\n\r\n  ngOnInit() {\r\n    this.registrarAcesso();\r\n    this.checkAcessos();\r\n    this.checkUrlParams();\r\n    this.getFormFields();\r\n  }\r\n\r\n  registrarAcesso(): void {\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n  }\r\n\r\n  // checkAcessos(): void {\r\n  //   const acessos: JsonResponse = this.activatedRoute.snapshot.data.acessos;\r\n  //   if (acessos.success === true) {\r\n\r\n  //     this.permissoesAcesso = acessos.data;\r\n  //   } else {\r\n  //     this.permissoesAcesso.simuladorVendas = false;\r\n  //   }\r\n  // }\r\n\r\n  checkAcessos(): void {\r\n    const acessos = this.activatedRoute.snapshot.data.detalhes;\r\n    if (acessos.responseCode === 200) {\r\n      this.permissoesAcesso = acessos.result;\r\n    } else {\r\n      this.permissoesAcesso.simuladorVendas == false;\r\n    }\r\n  }\r\n\r\n  checkUrlParams(): void {\r\n    this.activatedRoute.params.subscribe((params: any) => {\r\n      if (params.id) {\r\n        let routerUrl = this.router.url.split('/');\r\n        this.action = routerUrl[routerUrl.length - 2];\r\n        this.setBreadCrumb(this.action, params.id);\r\n      } else {\r\n        this.action = 'novo';\r\n        this.setBreadCrumb(this.action);\r\n      }\r\n      this.setFormBuilder();\r\n    });\r\n  }\r\n\r\n  // agregarAdjunto() {\r\n  //   const archivo = this.form.get('adjunto').value;\r\n  //   if (archivo) {\r\n  //     this.attachedFiles.push(archivo);\r\n  //     // Borra el campo 'adjunto' para permitir agregar ms archivos\r\n  //     this.form.get('adjunto').setValue(null);\r\n  //   }\r\n  // }\r\n\r\n  appTitle(): string {\r\n    let title: string;\r\n\r\n    if (this.action == 'novo') {\r\n      title = 'Nuevo contacto';\r\n    } else if (this.action == 'editar') {\r\n      title = 'Editar contacto';\r\n    } else if (this.action == 'reagendar') {\r\n      title = 'Reagendar contato';\r\n    } else if (this.action == 'finalizar') {\r\n      title = 'Finalizar Contacto';\r\n    }\r\n\r\n    return title;\r\n  }\r\n\r\n  setFormBuilder(): void {\r\n    if (this.activatedRoute.snapshot.data.detalhes.responseCode === 200) \r\n    {\r\n      const detalhes = this.activatedRoute.snapshot.data.detalhes.result;\r\n      const isFinalizarAction = this.action === 'finalizar';\r\n      let inicioData: Date,\r\n        inicioHorario: Date,\r\n        terminoData: Date,\r\n        terminoHorario: Date;\r\n\r\n      if (detalhes.start === null) {\r\n        inicioData = new Date();\r\n        inicioHorario = new Date();\r\n        terminoData = new Date();\r\n        terminoHorario = new Date();\r\n      } else {\r\n        inicioData = new Date(detalhes.start);\r\n        inicioHorario = new Date(detalhes.start);\r\n        terminoData = new Date(detalhes.end);\r\n        terminoHorario = new Date(detalhes.end);\r\n      }\r\n\r\n      this.form = this.formBuilder.group({\r\n        id: [detalhes.id], // Agrega el campo 'id' al formulario\r\n        cor: [detalhes.color.primary],\r\n\r\n        codTitulo: [\r\n          {\r\n            value: detalhes.codTitulo,\r\n            disabled: this.action == 'reagendar' || this.action == 'finalizar',\r\n          },\r\n          [Validators.required],\r\n        ],\r\n\r\n        cliente: [\r\n          {\r\n            value: detalhes.codClient,\r\n            disabled: this.action != 'novo',\r\n          },\r\n        ],\r\n\r\n        promotor: [\r\n          {\r\n            value: detalhes.id_vendedor,\r\n            disabled:\r\n              this.action == 'reagendar' || this.action === 'finalizar'\r\n                ? true\r\n                : false,\r\n          },\r\n        ],\r\n        direccion: [\r\n          {\r\n            value: detalhes.direccion,\r\n            disabled:\r\n              this.action === 'reagendar' || this.action === 'finalizar'\r\n                ? true\r\n                : false,\r\n          },\r\n        ],\r\n        codFormaContato: [\r\n          {\r\n            value: detalhes.formContactId,\r\n            disabled:\r\n              this.action === 'novo' || this.action === 'editar' ? false : true,\r\n          },\r\n        ],\r\n\r\n        latitud_clie: [\r\n          {\r\n            value: detalhes.latitud,\r\n          },\r\n        ],\r\n        longitud_clie: [\r\n          {\r\n            value: detalhes.longitud,\r\n          },\r\n        ],\r\n        codigo_cliente: [\r\n          {\r\n            value: detalhes.codigo_cliente,\r\n          },\r\n        ],\r\n        codOrigemContato: [\r\n          {\r\n            value: detalhes.typeContactId,\r\n            disabled:\r\n              this.action === 'novo' || this.action === 'editar' ?  false : true,\r\n          },\r\n        ],\r\n\r\n        gerarCotacaoPedido: [false],\r\n        inicioData: [\r\n          { value: inicioData, disabled: this.action == 'finalizar' },\r\n          [Validators.required],\r\n        ],\r\n        inicioHorario: [\r\n          { value: inicioHorario, disabled: this.action == 'finalizar' },\r\n          [Validators.required],\r\n        ],\r\n        terminoData: [\r\n          { value: terminoData, disabled: this.action == 'finalizar' },\r\n        ],\r\n        terminoHorario: [\r\n          { value: terminoHorario, disabled: this.action === 'finalizar' },\r\n        ],\r\n        diaInteiro: [\r\n          {\r\n            value: (detalhes.allDay = false),\r\n            disabled: this.action === 'finalizar',\r\n          },\r\n        ],\r\n        motivoReagendamento: [\r\n          {\r\n            value: detalhes.rescheduleId,\r\n            disabled: this.action == 'finalizar',\r\n          },\r\n          this.action == 'reagendar' ? [Validators.required] : null,\r\n        ],\r\n        observacao: [\r\n          {\r\n            value: detalhes.description,\r\n            disabled: this.action == 'finalizar',\r\n          },\r\n        ],\r\n        Obsfinalizar: [\r\n          { value: '', disabled: !isFinalizarAction },\r\n          isFinalizarAction ? [Validators.required] : null,\r\n        ],\r\n      });\r\n\r\n      if (detalhes.allDay) {\r\n        this.isDisabledTime = true;\r\n      }\r\n      this.latitud = detalhes.latitud;\r\n      this.longitud = detalhes.longitud;\r\n      if (this.action == 'reagendar') {\r\n        this.form.controls.motivoReagendamento.setValidators([\r\n          Validators.required,\r\n        ]);\r\n        this.form.controls.motivoReagendamento.updateValueAndValidity();\r\n      }\r\n\r\n      if (this.action == 'finalizar') {\r\n        this.form.controls.Obsfinalizar.setValidators([Validators.required]);\r\n        this.form.controls.Obsfinalizar.updateValueAndValidity();\r\n      }\r\n    } else {\r\n      this.pnotifyService.error();\r\n      this.location.back();\r\n    }\r\n  }\r\n\r\n  setBreadCrumb(action: string, id: number = null): void {\r\n    if (action == 'novo') {\r\n      this.breadCrumbTree = [\r\n        {\r\n          descricao: 'Home',\r\n          routerLink: '/comercial/home',\r\n        },\r\n        {\r\n          descricao: 'Agenda',\r\n          routerLink: `/comercial/agenda/compromissos`,\r\n        },\r\n        {\r\n          descricao: 'Nuevo contacto',\r\n        },\r\n      ];\r\n    } else {\r\n      this.breadCrumbTree = [\r\n        {\r\n          descricao: 'Home',\r\n          routerLink: '/comercial/home',\r\n        },\r\n        {\r\n          descricao: 'Agenda',\r\n          routerLink: `/comercial/agenda/compromissos`,\r\n        },\r\n        {\r\n          descricao: 'Detalles',\r\n          routerLink: `/comercial/agenda/detalhes/${id}`,\r\n        },\r\n        {\r\n          descricao:\r\n            this.action === 'editar'\r\n              ? 'Editar contato'\r\n              : this.action === 'reagendar'\r\n              ? 'Reagendar contato'\r\n              : this.action === 'finalizar'\r\n              ? 'Finalizar contato'\r\n              : '',\r\n        },\r\n      ];\r\n    }\r\n\r\n    this.titleService.setTitle(\r\n      this.breadCrumbTree[this.breadCrumbTree.length - 1].descricao\r\n    );\r\n  }\r\n\r\n  getFormFields(): void {\r\n    this.loaderFullScreen = true;\r\n\r\n    this.formService\r\n      .loadDependencies()\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderFullScreen = false;\r\n        })\r\n      )\r\n      .subscribe((response: Array<JsonResponse>) => {\r\n        if (response[0].success === true)\r\n        {\r\n          this.clientes = response[0].data;\r\n        } else if (response[0].success === false) \r\n        {\r\n          this.showInputClientes = false;\r\n        } else {\r\n          this.handleLoadDependenciesError();\r\n        }\r\n\r\n        if (response[1].success === true) {\r\n          this.formasContato = response[1].data;\r\n          this.formasContato.unshift({\r\n            codFormaContato: null,\r\n            nomeFormaContato: '',\r\n          });\r\n        } else {\r\n          this.handleLoadDependenciesError();\r\n        }\r\n\r\n        if (response[2].success === true) {\r\n          this.origensContato = response[2].data;\r\n\r\n          this.origensContato.unshift({\r\n            codOrigemContato: null,\r\n            nomeOrigemContato: '',\r\n          });\r\n        } else {\r\n          this.handleLoadDependenciesError();\r\n        }\r\n\r\n        if (response[3].success === true) {\r\n          this.motivosReagendamento = response[3].data;\r\n        } else {\r\n          this.handleLoadDependenciesError();\r\n        }\r\n\r\n        if (response[4].success === true) {\r\n          this.listarTitulosAgenda = response[4].data;\r\n        } else {\r\n          this.handleLoadDependenciesError();\r\n        }\r\n        if(this.user.info.matricula != 1)\r\n        {\r\n          this.promotores =[{\r\n            'id': this.user.info.idVendedor,\r\n            'nombre': this.user.info.nomeCompleto\r\n          }];\r\n        }\r\n        else\r\n        {\r\n          if (response[5].success == true) {\r\n            this.promotores = response[5].data;\r\n          } else {\r\n            this.showInputVendedores = false;\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  handleLoadDependenciesError(): void {\r\n    this.pnotifyService.error();\r\n    this.location.back();\r\n  }\r\n\r\n  onColorChange(color: any): void {\r\n    this.form.controls.cor.setValue(color.hex);\r\n  }\r\n  onCodTituloChange(): void {\r\n    const selectedIndex = this.form.controls.codTitulo.value; // Obtener el ndice del elemento seleccionado en el dropdown \"codTitulo\"\r\n    const selectedColor = this.colors[selectedIndex]; // Obtener el color correspondiente al ndice seleccionado en el dropdown \"codTitulo\"\r\n    this.onColorChange(selectedColor); // Establecer el valor del color correspondiente en el dropdown \"color-dropdown\"\r\n  }\r\n\r\n  triggerAllDay(): void {\r\n    this.isDisabledTime = !this.isDisabledTime;\r\n\r\n    if (!this.isDisabledTime) {\r\n      this.form.controls.inicioHorario.enable();\r\n      this.form.controls.terminoHorario.enable();\r\n      this.form.controls.terminoData.enable();\r\n    } else {\r\n      this.form.controls.inicioHorario.disable();\r\n      this.form.controls.terminoHorario.disable();\r\n      this.form.controls.terminoData.disable();\r\n    }\r\n  }\r\n\r\n  checkValidatorsDate(): boolean {\r\n    let validation = true;\r\n    let inicioData: Date;\r\n    let inicioHorario: Date;\r\n    let terminoData: Date;\r\n    let terminoHorario: Date;\r\n\r\n    if (!this.form.value.diaInteiro) {\r\n      inicioData = this.form.value.inicioData;\r\n      inicioHorario = this.form.value.inicioHorario;\r\n      terminoData = this.form.value.terminoData;\r\n      terminoHorario = this.form.value.terminoHorario;\r\n\r\n      if (inicioData && inicioHorario && terminoData && terminoHorario) {\r\n        inicioData.setHours(\r\n          inicioHorario.getHours(),\r\n          inicioHorario.getMinutes()\r\n        );\r\n        terminoData.setHours(\r\n          terminoHorario.getHours(),\r\n          terminoHorario.getMinutes()\r\n        );\r\n\r\n        if (inicioData.getTime() > terminoData.getTime()) {\r\n          validation = false;\r\n        }\r\n      }\r\n    }\r\n\r\n    return validation;\r\n  }\r\n\r\n  onFieldError(field: string): string {\r\n    const control = this.form.get(field);\r\n    if (this.onFieldInvalid(control)) {\r\n      return 'is-invalid';\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(control: AbstractControl): boolean {\r\n    return control && control.invalid && (control.touched || control.dirty);\r\n  }\r\n\r\n  onFieldRequired(field: string): string {\r\n    let required = false;\r\n    let formControl = new FormControl();\r\n\r\n    if (this.form.controls[field].validator) {\r\n      let validationResult = this.form.controls[field].validator(formControl);\r\n      required =\r\n        validationResult !== null && validationResult.required === true;\r\n    }\r\n\r\n    if (required) {\r\n      return 'is-required';\r\n    }\r\n  }\r\n\r\n  onSubmit(): void {\r\n    if (!this.checkValidatorsDate()) {\r\n      this.pnotifyService.notice(\r\n        'La fecha de trmino debe ser mayor que la de inicio.'\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (this.form && this.form.valid) {\r\n      this.loaderNavbar = true;\r\n      this.submittingForm = true;\r\n      const formValue = this.form.getRawValue();\r\n      const obsFinalizar = this.form.get('Obsfinalizar');\r\n      let client: string,\r\n        formContactDesc: string,\r\n        typeContactDesc: string,\r\n        inicioData: Date,\r\n        inicioHorario: Date,\r\n        terminoData: Date,\r\n        terminoHorario: Date;\r\n\r\n      let msgSuccess = 'Su cita fue creada.';\r\n      let msgError = 'Ocurri un error al crear la cita.';\r\n\r\n      if (formValue.id) {\r\n        msgSuccess = 'Su cita fue editada.';\r\n        msgError = 'Ocurri un error al editar la cita.';\r\n      }\r\n\r\n      if (formValue.cliente != '') {\r\n        for (let index = 0; index < this.clientes.length; index++) {\r\n          if (this.clientes[index].id == formValue.cliente) {\r\n            client = this.clientes[index].razaoSocial;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (formValue.codFormaContato != '') {\r\n        for (let index = 0; index < this.formasContato.length; index++) {\r\n          if (\r\n            this.formasContato[index].codFormaContato ==\r\n            formValue.codFormaContato\r\n          ) {\r\n            formContactDesc = this.formasContato[index].nomeFormaContato;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (formValue.codOrigemContato != '') {\r\n        for (let index = 0; index < this.origensContato.length; index++) {\r\n          if (\r\n            this.origensContato[index].codOrigemContato ==\r\n            formValue.codOrigemContato\r\n          ) {\r\n            typeContactDesc = this.origensContato[index].nomeOrigemContato;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (formValue.diaInteiro) {\r\n        inicioData = formValue.inicioData;\r\n        terminoData = inicioData;\r\n\r\n        inicioData.setHours(0, 0, 0);\r\n        terminoData.setHours(0, 0, 0);\r\n      } else {\r\n        inicioData = formValue.inicioData;\r\n        inicioHorario = formValue.inicioHorario;\r\n        terminoData = formValue.terminoData;\r\n        terminoHorario = formValue.terminoHorario;\r\n\r\n        inicioData.setHours(\r\n          inicioHorario.getHours(),\r\n          inicioHorario.getMinutes()\r\n        );\r\n        terminoData.setHours(\r\n          terminoHorario.getHours(),\r\n          terminoHorario.getMinutes()\r\n        );\r\n      }\r\n\r\n      let status: number;\r\n\r\n      // if (formValue.id) {\r\n      //   status = 0; // 'editar'\r\n      // } else {\r\n      switch (this.action) {\r\n        case 'novo':\r\n          status = 1;\r\n          break;\r\n        case 'finalizar':\r\n          status = 3;\r\n          break;\r\n        case 'reagendar':\r\n          status = 4;\r\n          break;\r\n\r\n        case 'editar':\r\n          status = 2;\r\n          break;\r\n        default:\r\n          status = 0;\r\n          break;\r\n      }\r\n      // }\r\n\r\n      const inicio = this.dateService.convert2PhpDate(inicioData);\r\n      const termino = this.dateService.convert2PhpDate(terminoData);\r\n\r\n      const observacaoUpperCase =\r\n        formValue.observacao !== null && formValue.observacao !== undefined\r\n          ? formValue.observacao.toUpperCase()\r\n          : null;\r\n\r\n      let formObj = {\r\n        id: formValue.id,\r\n        color: {\r\n          primary: formValue.cor,\r\n        },\r\n        codTitulo: formValue.codTitulo,\r\n        codClient: formValue.cliente,\r\n        idVendedor: formValue.promotor,\r\n        client: client,\r\n        formContactId: formValue.codFormaContato,\r\n        codigo_cliente: formValue.codigo_cliente.value,\r\n        formContactDesc: formContactDesc,\r\n        typeContactId: formValue.codOrigemContato,\r\n        typeContactDesc: typeContactDesc,\r\n        start: inicio,\r\n        end: termino,\r\n        allDay: formValue.diaInteiro,\r\n        rescheduleId: formValue.motivoReagendamento,\r\n        description: formValue.observacao,\r\n        direccion: formValue.direccion,\r\n        latitud: this.latitud,\r\n        longitud: this.longitud,\r\n        status: status,\r\n        /* id_status: id_status, */\r\n        obsFinalizar: formValue.Obsfinalizar,\r\n      };\r\n      this.agendaService.save(this.action, formObj).subscribe({\r\n        next: (response: any) => {\r\n          if (response.responseCode === 200) {\r\n            this.pnotifyService.success(msgSuccess);\r\n            this.formChanged = false;\r\n\r\n            if (this.action == 'reagendar') {\r\n              this.router.navigate(['../../compromissos'], {\r\n                relativeTo: this.activatedRoute,\r\n              });\r\n            } else {\r\n              if (\r\n                this.permissoesAcesso.simuladorVendas === true &&\r\n                this.form.value.gerarCotacaoPedido === true\r\n              ) {\r\n                this.onAddCotacaoPedido();\r\n              } else {\r\n                this.location.back();\r\n              }\r\n            }\r\n          } else {\r\n            this.handleErrorOnSubmit(msgError);\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.handleErrorOnSubmit(msgError);\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  handleErrorOnSubmit(message: string): void {\r\n    this.loaderNavbar = false;\r\n    this.submittingForm = false;\r\n    this.pnotifyService.error(message);\r\n  }\r\n\r\n  onInput(): void {\r\n    this.formChanged = true;\r\n    const idVendedor = this.form.value.promotor;\r\n    let params = {\r\n      idVendedor: idVendedor,\r\n    }\r\n    this.ComercialVendedoresService.getCarteiraClientes(params).subscribe((response: JsonResponse) => {\r\n      if(response.success== true){\r\n        this.clientes = response.data;\r\n      }\r\n    })\r\n  }\r\n\r\n  updateDireccion(event: any) {\r\n    var direccion_cliente = event.direccion;\r\n    var latitud_cliente = event.latitud;\r\n    var longitud_cliente = event.longitud;\r\n    var codigo_cliente = event.codigo_cliente;\r\n\r\n    this.form.controls['latitud_clie'].setValue(latitud_cliente);\r\n    this.form.controls['longitud_clie'].setValue(longitud_cliente);\r\n    this.form.controls['direccion'].setValue(direccion_cliente);\r\n    this.form.controls['codigo_cliente'].setValue(codigo_cliente);\r\n\r\n    this.latitud = latitud_cliente;\r\n    this.longitud = longitud_cliente;\r\n  }\r\n  actualizarMarcador(event: any) {\r\n    this.latitud = event.coords.lat;\r\n    this.longitud = event.coords.lng;\r\n    this.form.controls['latitud_clie'].setValue(this.latitud);\r\n    this.form.controls['longitud_clie'].setValue(this.longitud);\r\n    this.actualizarDireccion(event);\r\n  }\r\n\r\n  public obtenerDireccion(latitud: number, longitud: number): Promise<string> {\r\n    return fetch(\r\n      `https://maps.googleapis.com/maps/api/geocode/json?latlng=${latitud},${longitud}&key=AIzaSyDl5b7STz9xYNDhybTTer2POVncX9FYqCc`\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        const resultado = data.results[0];\r\n        if (resultado) {\r\n          return resultado.formatted_address;\r\n        } else {\r\n          return 'Direccin no encontrada';\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        return 'Error al obtener la direccin';\r\n      });\r\n  }\r\n\r\n  actualizarDireccion(event: any) {\r\n    this.obtenerDireccion(event.coords.lat, event.coords.lng)\r\n      .then((direccion_mapa: string) => {\r\n        this.form.controls['direccion'].setValue(direccion_mapa );\r\n      })\r\n      .catch((error: any) => {\r\n        this.form.controls['direccion'].setValue(\r\n          'Error al obtener la direccin'\r\n        );\r\n      });\r\n  }\r\n\r\n  formCanDeactivate(): boolean {\r\n    if (this.formChanged) {\r\n      if (confirm('La informacin no guardada se perder. Desea continuar?')) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  onCancel(): void {\r\n    this.location.back();\r\n  }\r\n\r\n  onGerarCotacaoPedido(): void {\r\n    if (this.form.value.gerarCotacaoPedido === true) {\r\n      this.form.controls.cliente.setValidators([Validators.required]);\r\n      this.form.controls.codFormaContato.setValidators([Validators.required]);\r\n      this.form.controls.codOrigemContato.setValidators([Validators.required]);\r\n\r\n      if (this.form.value.cliente === null) {\r\n        this.form.controls.cliente.markAsTouched();\r\n        this.form.controls.cliente.setErrors({ incorrect: true });\r\n      }\r\n      if (this.form.value.promotor === null) {\r\n        this.form.controls.promotor.markAsTouched();\r\n        this.form.controls.promotor.setErrors({ incorrect: true });\r\n      }\r\n\r\n      if (this.form.value.codFormaContato === null) {\r\n        this.form.controls.codFormaContato.markAsTouched();\r\n        this.form.controls.codFormaContato.setErrors({ incorrect: true });\r\n      }\r\n\r\n      if (this.form.value.codOrigemContato === null) {\r\n        this.form.controls.codOrigemContato.markAsTouched();\r\n        this.form.controls.codOrigemContato.setErrors({ incorrect: true });\r\n      }\r\n    } else if (this.form.value.gerarCotacaoPedido === false) {\r\n      this.form.controls.cliente.setValidators(null);\r\n      this.form.controls.codFormaContato.setValidators(null);\r\n      this.form.controls.codOrigemContato.setValidators(null);\r\n    }\r\n\r\n    this.form.controls.cliente.updateValueAndValidity();\r\n    this.form.controls.codFormaContato.updateValueAndValidity();\r\n    this.form.controls.codOrigemContato.updateValueAndValidity();\r\n  }\r\n\r\n  onAddCotacaoPedido(): void {\r\n    this.loaderNavbar = true;\r\n\r\n    const params = {\r\n      codFormaContato: this.form.value.codFormaContato,\r\n      codOrigemContato: this.form.value.codOrigemContato,\r\n    };\r\n\r\n    this.cotacoesService\r\n      .getReservarIdCotacao()\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n        })\r\n      )\r\n      .subscribe((response: JsonResponse) => {\r\n        if (response.hasOwnProperty('success') && response.success === true) {\r\n          this.router.navigate(\r\n            [\r\n              '/comercial/ciclo-vendas/cotacoes-pedidos/novo/',\r\n              response.data.idReservado,\r\n              this.form.value.cliente,\r\n            ],\r\n            {\r\n              queryParams: { f: btoa(JSON.stringify(params)) },\r\n            }\r\n          );\r\n        } else {\r\n          this.pnotifyService.error();\r\n        }\r\n      });\r\n  }\r\n  filtrovendedor(): void {\r\n    var params = this.form.value.promotor\r\n    this.agendaService.reporte(params);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { take } from 'rxjs/operators';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\n// Interfaces\r\nimport { TitulosAgenda } from './models/titulos-agenda';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCadastrosTitulosAgendaService {\r\n  private readonly API = `http://23.254.204.187/api/comercial/cadastros/titulos-agenda`;\r\n\r\n  constructor(protected http: HttpClient) {}\r\n\r\n  getListaTitulosAgenda(params: any): Observable<any> {\r\n    let httpParams = new HttpParams();\r\n\r\n    for (let param in params) {\r\n      httpParams = httpParams.append(param, params[param]);\r\n    }\r\n\r\n    return this.http\r\n      .get(`${this.API}/lista`, { params: httpParams })\r\n      .pipe(take(1));\r\n  }\r\n\r\n\r\n  getDetalhes(codTitulo: number): Observable<any> {\r\n    return this.http\r\n      .get(`${this.API}/detalhes/${codTitulo}`)\r\n      .pipe(take(1));\r\n  }\r\n\r\n  private saveTitulosAgenda(titulosAgenda: TitulosAgenda) {\r\n    return this.http.post(`${this.API}/salvar`, titulosAgenda).pipe(take(1));\r\n  }\r\n\r\n  private updateTitulosAgenda(titulosAgenda: TitulosAgenda) {\r\n    return this.http.put(`${this.API}/atualizar`, titulosAgenda).pipe(take(1));\r\n  }\r\n\r\n  save(titulosAgenda: TitulosAgenda): Observable<any> {\r\n    if (titulosAgenda.codTitulo !== null) {\r\n      return this.updateTitulosAgenda(titulosAgenda);\r\n    }\r\n\r\n    return this.saveTitulosAgenda(titulosAgenda);\r\n  }\r\n\r\n  activateTitulosAgenda(codigo: number): Observable<any> {\r\n    return this.http.post(`${this.API}/ativar`, codigo).pipe(take(1));\r\n  }\r\n\r\n  inactivateTitulosAgenda(codigo: number): Observable<any> {\r\n    return this.http.post(`${this.API}/inativar`, codigo).pipe(take(1));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { take, retry } from 'rxjs/operators';\r\nimport { forkJoin } from 'rxjs';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ComercialTidSoftwareService {\r\n  private readonly API = `http://23.254.204.187/api/comercial/tid-software`;\r\n\r\n  constructor(protected http: HttpClient) {}\r\n\r\n  loadDependencies() {\r\n    let empresas = this.getEmpresas('vendas');\r\n    let linhas = this.getLinhas();\r\n    let modulosVendas = this.getModulosVendas();\r\n    let modulosProducaoTela = this.getModulosProducaoTela();\r\n\r\n    return forkJoin([\r\n      empresas,\r\n      linhas,\r\n      modulosVendas,\r\n      modulosProducaoTela\r\n    ]).pipe(take(1), retry(2));\r\n  }\r\n\r\n  getEmpresas(acao: any) {\r\n    return this.http\r\n      .get(`${this.API}/empresas/${acao}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getLinhas() {\r\n    return this.http.get(`${this.API}/linhas`).pipe(take(1), retry(2));\r\n  }\r\n\r\n\r\n  getModulosVendas() {\r\n    return this.http.get(`${this.API}/modulos/vendas`).pipe(take(1), retry(2));\r\n  }\r\n\r\n  getModulosProducaoTela() {\r\n    return this.http\r\n      .get(`${this.API}/modulos/producao-tela`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postGerarAcesso(data: any) {\r\n    return this.http\r\n      .post(`${this.API}/gerar-acesso`, data)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n}\r\n"]}