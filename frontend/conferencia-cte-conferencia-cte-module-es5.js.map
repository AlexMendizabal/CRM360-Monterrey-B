{"version":3,"sources":["webpack:///src/app/modules/logistica/dashboards/conferencia-cte/conferencia-cte-routing.modulte.ts","webpack:///src/app/modules/logistica/dashboards/conferencia-cte/conferencia-cte.component.scss","webpack:///src/app/modules/logistica/dashboards/conferencia-cte/conferencia-cte.component.html","webpack:///src/app/modules/logistica/dashboards/conferencia-cte/conferencia-cte.component.ts","webpack:///src/app/modules/logistica/dashboards/conferencia-cte/conferencia-cte.module.ts"],"names":["routes","path","component","LogisticaDashboadsConferenciaCteRoutingModule","imports","forChild","exports","LogisticaDashboardsConferenciaCteComponent","route","pnotify","localeService","activatedRoute","conferenciaCteService","formBuilder","routerService","dateService","modalService","xlsxService","MASKS","dados","total","loading","loadingNavBar","tableConfig","subtitleBorder","isFixed","border","small","hover","theme","color","modoViewIncorretas","modoViewNaoEmitidas","relatorio","relatorioCache","colunas","inColunas","tipos","cod","nome","itemsPerPage","currentPage","begin","end","totalItems","keepOriginalOrder","a","b","key","use","bsConfig","Object","assign","containerClass","adaptivePosition","showWeekNumbers","buildForm","setBreadCrumb","onActivatedRoute","$activatedRouteSubscription","unsubscribe","hide","queryParams","subscribe","response","_response","getBase64UrlParams","form","patchValue","getConferencia","getParams","cnpjs","group","DS_STAT","DS_USUA","DT_INIC","getFirstDayMonth","required","DT_FINA","Date","PAGI","TT_REGI_PAGI","TIME","getTime","onFilter","id","snapshot","params","idSubModulo","breadCrumbTree","descricao","routerLink","template","modalRef","show","animated","ignoreBackdropClick","get","setValue","navigate","relativeTo","setBase64UrlParams","pipe","status","body","noResult","foreach","el","valor","quantidade","notice","error","conferencia","undefined","message","reset","_params","_obj","value","prop","convertToUrlDate","hasOwnProperty","length","cache","getRelatorioCache","values","columns","openModal","getRelatorio","config","getColumnsConfig","keys","promise","forEach","Promise","resolve","setRelatorioCache","colunms","column","getLocalStorageKey","localStorage","setItem","JSON","stringify","data","event","page","storage","getItem","parse","selector","LogisticaDashboardsConferenciaCteModule","declarations","forRoot"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,6CAA6C;AAAA;AAAA,Q;;AAA7CA,mDAA6C,6DAJzD,+DAAS;AACRC,eAAO,EAAC,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADA;AAERM,eAAO,EAAC,CAAC,4DAAD;AAFA,OAAT,CAIyD,GAA7CH,6CAA6C,CAA7C;;;;;;;;;;;;;;;;AChBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCAf;AAKA;AAQA;AASA;;;UASaI,0CAA0C;AAuDrD,4DACUC,KADV,EAEUC,OAFV,EAGUC,aAHV,EAIUC,cAJV,EAKUC,qBALV,EAMUC,WANV,EAOUC,aAPV,EAQUC,WARV,EASUC,YATV,EAUUC,WAVV,EAUkC;AAAA;;AATxB,eAAAT,KAAA,GAAAA,KAAA;AACA,eAAAC,OAAA,GAAAA,OAAA;AACA,eAAAC,aAAA,GAAAA,aAAA;AACA,eAAAC,cAAA,GAAAA,cAAA;AACA,eAAAC,qBAAA,GAAAA,qBAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AACA,eAAAC,aAAA,GAAAA,aAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AACA,eAAAC,YAAA,GAAAA,YAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AAhEH,eAAAC,KAAA,GAAQ,gDAAR;AAKP,eAAAC,KAAA,GAAQ,EAAR;AACA,eAAAC,KAAA,GAAQ,EAAR;AAEA,eAAAC,OAAA,GAAU,IAAV,CAwDkC,CAxDlB;;AAChB,eAAAC,aAAA,GAAgB,KAAhB,CAuDkC,CAvDX;;AAEvB,eAAAC,WAAA,GAA0C;AACxCC,0BAAc,EAAE,KADwB;AAExCC,mBAAO,EAAE,IAF+B;AAGxCC,kBAAM,EAAE,KAHgC;AAIxCC,iBAAK,EAAE,KAJiC;AAKxCC,iBAAK,EAAE,KALiC;AAMxCC,iBAAK,EAAE;AACLC,mBAAK,EAAE;AADF;AANiC,WAA1C;AAUA,eAAAC,kBAAA,GAAqB,CAArB;AACA,eAAAC,mBAAA,GAAqB,CAArB;AAGA,eAAAC,SAAA,GAAY,EAAZ;AACA,eAAAC,cAAA,GAAiB,EAAjB;AACA,eAAAC,OAAA,GAAU,EAAV;AACA,eAAAC,SAAA,GAAY,KAAZ,CAoCkC,CAhClC;;AACA,eAAAC,KAAA,GAAQ,CACN;AACEC,eAAG,EAAE,GADP;AAEEC,gBAAI,EAAE;AAFR,WADM,EAKN;AACED,eAAG,EAAE,GADP;AAEEC,gBAAI,EAAE;AAFR,WALM,CAAR;AAWA;;AACA,eAAAC,YAAA,GAAuB,GAAvB;AACA,eAAAC,WAAA,GAAsB,CAAtB;AACA,eAAAC,KAAA,GAAgB,CAAhB;AACA,eAAAC,GAAA,GAAc,KAAKH,YAAnB;AACA,eAAAI,UAAA,GAAqB,CAArB;;AAiTA,eAAAC,iBAAA,GAAoB,UAACC,CAAD,EAAIC,CAAJ;AAAA,mBAAUD,CAAC,CAACE,GAAZ;AAAA,WAApB;;AAhSE,eAAKtC,aAAL,CAAmBuC,GAAnB,CAAuB,OAAvB;AACA,eAAKC,QAAL,GAAgBC,MAAM,CAACC,MAAP,CACd,EADc,EAEd;AAAEC,0BAAc,EAAE;AAAlB,WAFc,EAGd;AAAEC,4BAAgB,EAAE;AAApB,WAHc,EAId;AAAEC,2BAAe,EAAE;AAAnB,WAJc,CAAhB;AAMD;;AA1EoD;AAAA;AAAA,iBA4ErD,oBAAW;AACT,iBAAKC,SAAL;AACA,iBAAKC,aAAL;AACA,iBAAKC,gBAAL;AACD;AAhFoD;AAAA;AAAA,iBAkFrD,uBAAc;AACZ,iBAAKC,2BAAL,CAAiCC,WAAjC;;AAEA,gBAAG,KAAK5C,YAAR,EAAqB;AACnB,mBAAKA,YAAL,CAAkB6C,IAAlB,CAAuB,CAAvB;AACD;AACF;AAxFoD;AAAA;AAAA,iBA0FrD,4BAAmB;AAAA;;AACjB,iBAAKF,2BAAL,GAAmC,KAAKhD,cAAL,CAAoBmD,WAApB,CAAgCC,SAAhC,CACjC,UAACC,QAAD,EAAc;AACZ,kBAAMC,SAAS,GAAG,KAAI,CAACnD,aAAL,CAAmBoD,kBAAnB,CAAsCF,QAAtC,CAAlB;;AACA,mBAAI,CAACG,IAAL,CAAUC,UAAV,CAAqBH,SAArB;;AACA,mBAAI,CAACI,cAAL,CAAoB,KAAI,CAACC,SAAL,EAApB;AACD,aALgC,CAAnC;AAOD;AAlGoD;AAAA;AAAA,iBAoGrD,qBAAY;AAEV,gBAAMC,KAAK,GAAG,2FAAd;AAEA,iBAAKJ,IAAL,GAAY,KAAKtD,WAAL,CAAiB2D,KAAjB,CAAuB;AACjCC,qBAAO,EAAE,CAAC,IAAD,CADwB;AAEjCC,qBAAO,EAAE,CAAC,IAAD,CAFwB;AAGjCC,qBAAO,EAAE,CAAC,KAAK5D,WAAL,CAAiB6D,gBAAjB,EAAD,EAAsC,CAAC,0DAAWC,QAAZ,CAAtC,CAHwB;AAIjCC,qBAAO,EAAE,CAAC,IAAIC,IAAJ,EAAD,EAAa,CAAC,0DAAWF,QAAZ,CAAb,CAJwB;AAKjCG,kBAAI,EAAE,CAAC,CAAD,CAL2B;AAMjCC,0BAAY,EAAE,CAAC,KAAKzC,YAAN,CANmB;AAOjC0C,kBAAI,EAAE,CAAC,IAAIH,IAAJ,GAAWI,OAAX,EAAD;AAP2B,aAAvB,CAAZ;AASD;AAjHoD;AAAA;AAAA,iBAkHrD,0BAAiB3C,YAAjB,EAA+B;AAC7B,iBAAKA,YAAL,GAAoBA,YAApB;AACA,iBAAK4C,QAAL;AACD;AArHoD;AAAA;AAAA,iBAsHrD,yBAAgB;AACd,gBAAMC,EAAE,GAAG,KAAK1E,cAAL,CAAoB2E,QAApB,CAA6BC,MAA7B,CAAoCC,WAA/C;AACA,iBAAKC,cAAL,GAAsB,CACpB;AACEC,uBAAS,EAAE,MADb;AAEEC,wBAAU;AAFZ,aADoB,EAKpB;AACED,uBAAS,EAAE,WADb;AAEEC,wBAAU,kCAA2BN,EAA3B;AAFZ,aALoB,EASpB;AACEK,uBAAS,EAAE;AADb,aAToB,CAAtB;AAaD;AAED;;;;;;;;AAvIqD;AAAA;AAAA,iBA+IrD,mBAAUE,QAAV,EAAsC;AACpC,iBAAKC,QAAL,GAAgB,KAAK7E,YAAL,CAAkB8E,IAAlB,CAAuBF,QAAvB,EAAiC;AAAC,uBAAO,WAAR;AAAqBG,sBAAQ,EAAE,KAA/B;AAAsCC,iCAAmB,EAAE;AAA3D,aAAjC,CAAhB;AACD;AAED;;;;;;;;AAnJqD;AAAA;AAAA,iBA2JrD,oBAAW;AACT,iBAAK7B,IAAL,CAAU8B,GAAV,CAAc,MAAd,EAAsBC,QAAtB,CAA+B,IAAInB,IAAJ,GAAWI,OAAX,EAA/B;AACA,iBAAK3E,KAAL,CAAW2F,QAAX,CAAoB,EAApB,EAAwB;AACtBC,wBAAU,EAAE,KAAKzF,cADK;AAEtBmD,yBAAW,EAAE,KAAKhD,aAAL,CAAmBuF,kBAAnB,CAAsC,KAAK/B,SAAL,EAAtC;AAFS,aAAxB;AAID;AAjKoD;AAAA;AAAA,iBAmKrD,wBAAeiB,MAAf,EAAwB;AAAA;;AACtB,gBAAI,CAAC,KAAKlE,OAAV,EAAmB,KAAKC,aAAL,GAAqB,IAArB;AAEnB,iBAAKV,qBAAL,CACGyD,cADH,CACkBkB,MADlB,EAEGe,IAFH,CAGI,iEAAS,YAAM;AACb,oBAAI,CAACjF,OAAL,GAAe,KAAf;AACA,oBAAI,CAACC,aAAL,GAAqB,KAArB;AACD,aAHD,CAHJ,EAQGyC,SARH,CASI,UAACC,QAAD,EAAc;AACZ,kBAAIA,QAAQ,CAACuC,MAAT,KAAoB,GAAxB,EAA6B;AAE3B,sBAAI,CAACpF,KAAL,GAAa6C,QAAQ,CAACwC,IAAT,CAAc,MAAd,CAAb;AACA,sBAAI,CAACC,QAAL,GAAgB,KAAhB;;AAH2B,gDAKG;AAE5B,wBAAI,CAACrF,KAAL,CAAW4B,GAAX,IAAkB;AAAC,6BAAS,CAAV;AAAa,kCAAc;AAA3B,mBAAlB;;AAEA,sBAAG,CAAC,MAAI,CAAC7B,KAAL,CAAW6B,GAAX,CAAJ,EAAoB;AAAA;AAEnB;;AAED,wBAAI,CAAC7B,KAAL,CAAW6B,GAAX,EAAgB0D,OAAhB,CAAwB,UAAAC,EAAE,EAAI;AAC5B,0BAAI,CAACvF,KAAL,CAAW4B,GAAX,EAAgB4D,KAAhB,IAAyBD,EAAE,SAAF,IAAAA,EAAE,WAAF,GAAE,MAAF,GAAAA,EAAE,CAAEC,KAA7B;AACA,0BAAI,CAACxF,KAAL,CAAW4B,GAAX,EAAgB6D,UAAhB,IAA8BF,EAAE,SAAF,IAAAA,EAAE,WAAF,GAAE,MAAF,GAAAA,EAAE,CAAEE,UAAlC;AACD,mBAHD;AAKD,iBAlB0B;;AAK3B,qBAAK,IAAM7D,GAAX,IAAkB,MAAI,CAAC7B,KAAvB;AAAA,kCAKI;AALJ;AAeD,eApBD,MAoBO;AACL,sBAAI,CAACsF,QAAL,GAAgB,IAAhB;;AACA,sBAAI,CAAChG,OAAL,CAAaqG,MAAb,CAAoB,gCAApB;AACD;AACF,aAlCL,EAmCI,UAACC,KAAD,EAAW;AACT,oBAAI,CAACC,WAAL,GAAmBC,SAAnB;AACA,oBAAI,CAACR,QAAL,GAAgB,IAAhB;;AACA,kBAAI;AACF,sBAAI,CAAChG,OAAL,CAAasG,KAAb,CAAmBA,KAAK,CAACA,KAAN,CAAYG,OAA/B;AACD,eAFD,CAEE,OAAOH,KAAP,EAAc;AACd,sBAAI,CAACtG,OAAL,CAAasG,KAAb;AACD;AACF,aA3CL;AA6CD;AAnNoD;AAAA;AAAA,iBAqNrD,mBAAU;AACR,iBAAK5C,IAAL,CAAUgD,KAAV;AACA,iBAAKhD,IAAL,CAAUC,UAAV,CAAqB;AACnBY,kBAAI,EAAE,CADa;AAEnBC,0BAAY,EAAE,GAFK;AAGnBC,kBAAI,EAAE,CAAC,IAAIH,IAAJ,GAAWI,OAAX,EAAD;AAHa,aAArB;AAKD;AAED;;;;;AA9NqD;AAAA;AAAA,iBAmOrD,qBAAY;AACV,gBAAIiC,OAAO,GAAG,EAAd;AACA,gBAAIC,IAAI,GAAG,KAAKlD,IAAL,CAAUmD,KAArB;;AAEA,iBAAK,IAAIC,IAAT,IAAiBF,IAAjB,EAAuB;AACrB,kBAAIA,IAAI,CAACE,IAAD,CAAR,EAAgB;AACd,oBAAIF,IAAI,CAACE,IAAD,CAAJ,YAAsBxC,IAA1B,EACEqC,OAAO,CAACG,IAAD,CAAP,GAAgB,KAAKxG,WAAL,CAAiByG,gBAAjB,CAAkCH,IAAI,CAACE,IAAD,CAAtC,CAAhB,CADF,KAEKH,OAAO,CAACG,IAAD,CAAP,GAAgBF,IAAI,CAACE,IAAD,CAApB;AACN;AACF;;AAED,mBAAOH,OAAP;AACD;AAhPoD;AAAA;AAAA,iBAkPrD,iBAAQpE,GAAR,EAAW;AAET,gBAAG,CAAC,KAAK7B,KAAT,EACE,OAAO,KAAP;AAEF,gBAAG,CAAC,KAAKA,KAAL,CAAWsG,cAAX,CAA0BzE,GAA1B,CAAJ,EACE,OAAO,KAAP;AAEF,gBAAG,KAAK7B,KAAL,CAAW6B,GAAX,EAAgB0E,MAAhB,IAA0B,CAA7B,EACE,OAAO,KAAP;AAEF,mBAAO,IAAP;AACD;AA9PoD;AAAA;AAAA,iBAgQrD,sBAAa9B,QAAb,EAAyCW,MAAzC,EAA+C;AAAA;;AAE7C,iBAAKnE,SAAL,GAAiB,KAAjB;AACA,iBAAK+B,IAAL,CAAU8B,GAAV,CAAc,SAAd,EAAyBC,QAAzB,CAAkCK,MAAlC;AACA,gBAAMhB,MAAM,GAAG,MAAH,OAAG,CAAH,kBAAO,KAAKjB,SAAL,EAAP,CAAG,EAAoB;AAAE,yBAAWiC;AAAb,aAApB,CAAf;AAEA,gBAAMoB,KAAK,GAAG,KAAKC,iBAAL,CAAuBrB,MAAvB,EAA+BhB,MAA/B,CAAd;;AAEA,gBAAGoC,KAAH,EAAS;AACP,mBAAK1F,SAAL,GAAiB0F,KAAK,CAACE,MAAvB;AACA,mBAAK1F,OAAL,GAAewF,KAAK,CAACG,OAArB;AACA,mBAAKC,SAAL,CAAenC,QAAf;AACA;AACD;;AAGD,gBAAI,CAAC,KAAKvE,OAAV,EACE,KAAKC,aAAL,GAAqB,IAArB;AAEF,iBAAKV,qBAAL,CACGoH,YADH,CACgBzC,MADhB,EAEGe,IAFH,CAGI,iEAAS,YAAM;AACb,oBAAI,CAACjF,OAAL,GAAe,KAAf;AACA,oBAAI,CAACC,aAAL,GAAqB,KAArB;AACD,aAHD,CAHJ,EAQGyC,SARH,CASI,UAAOC,QAAP;AAAA,qBAAoB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,4BACdA,QAAQ,CAACuC,MAAT,KAAoB,GADN;AAAA;AAAA;AAAA;;AAGhB,2BAAKtE,SAAL,GAAiB+B,QAAQ,CAACwC,IAAT,CAAc,MAAd,CAAjB;AACA,2BAAK5D,UAAL,GAAkB,KAAKX,SAAL,CAAeyF,MAAjC;AAEMO,4BANU,GAMD,KAAKC,gBAAL,CAAsB3B,MAAtB,CANC;AAOV4B,0BAPU,GAOHhF,MAAM,CAACgF,IAAP,CAAY,KAAKlG,SAAL,CAAe,CAAf,CAAZ,CAPG;;AAQVmG,6BARU,GAQA,SAAVA,OAAU;AAAA,+BAAMD,IAAI,CAACE,OAAL,CAAa,UAAArF,GAAG;AAAA,iCAAI,MAAI,CAACb,OAAL,CAAaa,GAAb,IAAoB,CAAAiF,MAAM,SAAN,IAAAA,MAAM,WAAN,GAAM,MAAN,GAAAA,MAAM,CAAER,cAAR,CAAuBzE,GAAvB,KAA8BiF,MAAM,CAACjF,GAAD,CAApC,GAA4C,KAApE;AAAA,yBAAhB,CAAN;AAAA,uBARA;;AAAA;AAUhB,6BAAMsF,OAAO,CAACC,OAAR,CAAgBH,OAAO,EAAvB,CAAN;;AAVgB;AAYhB,2BAAKI,iBAAL,CAAuBjC,MAAvB,EAA+BhB,MAA/B,EAAuC,KAAKtD,SAA5C,EAAuD,KAAKE,OAA5D;AAEA,2BAAKsE,QAAL,GAAgB,KAAhB;AAEA,2BAAKsB,SAAL,CAAenC,QAAf;AAhBgB;AAAA;;AAAA;AAmBhB,2BAAKa,QAAL,GAAgB,IAAhB;AACA,2BAAKxE,SAAL,GAAiB,EAAjB;AACA,2BAAKxB,OAAL,CAAaqG,MAAb,CAAoB,gCAApB;;AArBgB;AAAA;AAAA;AAAA;AAAA;AAAA,iBAApB;AAAA,aATJ,EAiCI,UAACC,KAAD,EAAW;AACT,oBAAI,CAAC9E,SAAL,GAAiB,EAAjB;AACA,oBAAI,CAACwE,QAAL,GAAgB,IAAhB;;AACA,kBAAI;AACF,sBAAI,CAAChG,OAAL,CAAasG,KAAb,CAAmBA,KAAK,CAACA,KAAN,CAAYG,OAA/B;AACD,eAFD,CAEE,OAAOH,KAAP,EAAc;AACd,sBAAI,CAACtG,OAAL,CAAasG,KAAb;AACD;AACF,aAzCL;AA2CD;AA9ToD;AAAA;AAAA,iBAgUrD,2BAAkBR,MAAlB,EAA0BhB,MAA1B,EAAkCsC,MAAlC,EAA0CY,OAA1C,EAAiD;AAC/C,iBAAKvG,cAAL,CAAoBqE,MAApB,IAA8B;AAC5B,wBAAUhB,MADkB;AAE5B,wBAAUsC,MAFkB;AAG5B,yBAAWY;AAHiB,aAA9B;AAKD;AAtUoD;AAAA;AAAA,iBAwUrD,2BAAkBlC,MAAlB,EAA0BhB,MAA1B,EAAgC;AAE9B,gBAAI;AAEF,kBAAM6B,OAAO,GAAG,KAAKlF,cAAL,CAAoBqE,MAApB,EAA4B,QAA5B,CAAhB;AAEA,kBAAG,CAAAhB,MAAM,SAAN,IAAAA,MAAM,WAAN,GAAM,MAAN,GAAAA,MAAM,CAAEZ,OAAR,MAAmByC,OAAO,SAAP,IAAAA,OAAO,WAAP,GAAO,MAAP,GAAAA,OAAO,CAAEzC,OAA5B,KAAuC,CAAAY,MAAM,SAAN,IAAAA,MAAM,WAAN,GAAM,MAAN,GAAAA,MAAM,CAAET,OAAR,MAAmBsC,OAAO,SAAP,IAAAA,OAAO,WAAP,GAAO,MAAP,GAAAA,OAAO,CAAEtC,OAA5B,CAAvC,IAA8E,CAAAS,MAAM,SAAN,IAAAA,MAAM,WAAN,GAAM,MAAN,GAAAA,MAAM,CAAEb,OAAR,MAAmB0C,OAAO,SAAP,IAAAA,OAAO,WAAP,GAAO,MAAP,GAAAA,OAAO,CAAE1C,OAA5B,CAAjF,EACE,OAAO,KAAKxC,cAAL,CAAoBqE,MAApB,CAAP;AAEH,aAPD,CAOE,OAAOQ,KAAP,EAAc;AACd,qBAAO,KAAP;AACD;;AACD,mBAAO,KAAP;AACD;AArVoD;AAAA;AAAA,iBAuVrD,2BAAe;AACb,iBAAK3E,SAAL,GAAiB,CAAC,KAAKA,SAAvB;AACA,mBAAO,KAAKA,SAAZ;AACD;AA1VoD;AAAA;AAAA,iBA4VrD,wBAAesG,MAAf,EAAqB;AACnB,iBAAKvG,OAAL,CAAauG,MAAM,CAAC1F,GAApB,IAA2B0F,MAAM,CAACpB,KAAP,GAAe,KAAf,GAAuB,IAAlD;AACA,gBAAMf,MAAM,GAAG,KAAKpC,IAAL,CAAU8B,GAAV,CAAc,SAAd,EAAyBqB,KAAxC;AACA,gBAAMtE,GAAG,aAAM,KAAK2F,kBAAL,EAAN,cAAmCpC,MAAnC,CAAT;AACAqC,wBAAY,CAACC,OAAb,CAAqB7F,GAArB,EAA0B8F,IAAI,CAACC,SAAL,CAAe,KAAK5G,OAApB,CAA1B;AACD;AAjWoD;AAAA;AAAA,iBAqWrD,mBAAM;AACJ,iBAAKlB,WAAL,WAAwB;AAAC+H,kBAAI,EAAE,KAAK/G;AAAZ,aAAxB;AACD;AAED;;AAzWqD;AAAA;AAAA,iBA0WrD,uBAAcgH,KAAd,EAAqC;AACnC,iBAAKvG,KAAL,GAAa,CAACuG,KAAK,CAACC,IAAN,GAAa,CAAd,IAAmBD,KAAK,CAACzG,YAAtC;AACA,iBAAKG,GAAL,GAAWsG,KAAK,CAACC,IAAN,GAAaD,KAAK,CAACzG,YAA9B;AACD;AACD;;AA9WqD;AAAA;AAAA,iBAgXrD,0BAAiB+D,MAAjB,EAAwB;AACtB,gBAAM0B,MAAM,GAAG;AACb,qCAAsB;AACpB,wBAAQ,IADY;AAEpB,iCAAiB,IAFG;AAGpB,sCAAsB,IAHF;AAIpB,sCAAsB,IAJF;AAKpB,8BAAc,IALM;AAMpB,gCAAgB,IANI;AAOpB,qCAAqB;AAPD,eADT;AAUb,6BAAc;AACZ,wBAAQ,IADI;AAEZ,iCAAiB,IAFL;AAGZ,gCAAgB,IAHJ;AAIZ,kCAAkB,IAJN;AAKZ,8BAAc,IALF;AAMZ,+BAAe;AANH,eAVD;AAkBb,iCAAkB;AAChB,wBAAQ,IADQ;AAEhB,sCAAsB,IAFN;AAGhB,qCAAqB,IAHL;AAIhB,8BAAc,IAJE;AAKhB,8BAAc,IALE;AAMhB,+BAAe;AANC;AAlBL,aAAf;AA4BA,gBAAMjF,GAAG,aAAM,KAAK2F,kBAAL,EAAN,cAAmCpC,MAAnC,CAAT;AACA,gBAAM4C,OAAO,GAAGP,YAAY,CAACQ,OAAb,CAAqBpG,GAArB,CAAhB;AAEA,gBAAGmG,OAAH,EACE,OAAOL,IAAI,CAACO,KAAL,CAAWF,OAAX,CAAP;AAEF,gBAAG5C,MAAH,EACE,OAAO0B,MAAM,CAAC1B,MAAD,CAAb;AAEF,mBAAO0B,MAAP;AACD;AAvZoD;AAAA;AAAA,iBAyZrD,8BAAkB;AAChB,gBAAMjF,GAAG,gDAAT;AACA,mBAAOA,GAAP;AACD;AA5ZoD;;AAAA;AAAA,S;;;;gBA7B9C;;gBAIA;;gBAKoB;;gBATZ;;gBAMR;;gBALW;;gBAIX;;gBAYA;;gBARiD;;gBAFjD;;;;AAsBIzC,gDAA0C,6DALtD,gEAAU;AACT+I,gBAAQ,EAAE,qCADD;AAET1D,gBAAQ,EAAR,kFAFS;;AAAA,OAAV,CAKsD,E,+EAwDpC,sD,EACE,2F,EACM,8D,EACC,8D,EACO,gG,EACV,0D,EACE,yF,EACF,sF,EACC,6D,EACD,8E,EAjE8B,GAA1CrF,0CAA0C,CAA1C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCMAgJ,uCAAuC;AAAA;AAAA,Q;;AAAvCA,6CAAuC,6DAnBnD,+DAAS;AACRC,oBAAY,EAAE,CACZ,qGADY,CADN;AAIRpJ,eAAO,EAAE,CACP,4DADO,EAEP,8GAFO,EAGP,0DAHO,EAIP,kEAJO,EAKP,+DAAiBqJ,OAAjB,EALO,EAMP,iEAAmBA,OAAnB,EANO,EAOP,4DAAcA,OAAd,EAPO,EAQP,mEARO,EASP,4DATO,EAUP,+EAVO,EAWP,kFAXO,EAYP,0FAZO;AAJD,OAAT,CAmBmD,GAAvCF,uCAAuC,CAAvC","file":"conferencia-cte-conferencia-cte-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport {RouterModule, Routes } from '@angular/router'\r\n\r\nimport { LogisticaDashboardsConferenciaCteComponent } from './conferencia-cte.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LogisticaDashboardsConferenciaCteComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  imports:[RouterModule.forChild(routes)],\r\n  exports:[RouterModule]\r\n})\r\nexport class LogisticaDashboadsConferenciaCteRoutingModule{}","export default \"li {\\n  list-style: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9sb2dpc3RpY2EvZGFzaGJvYXJkcy9jb25mZXJlbmNpYS1jdGUvY29uZmVyZW5jaWEtY3RlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQUE7QUFDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbG9naXN0aWNhL2Rhc2hib2FyZHMvY29uZmVyZW5jaWEtY3RlL2NvbmZlcmVuY2lhLWN0ZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImxpe1xyXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbn0iXX0= */\";","export default \"<loader-spinner-navbar *ngIf=\\\"loadingNavBar\\\"></loader-spinner-navbar>\\r\\n<loader-spinner-full-screen *ngIf=\\\"loading\\\"></loader-spinner-full-screen>\\r\\n<app-header appTitle=\\\"Conferência de CTEs\\\">\\r\\n  <!-- <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"getExport()\\\">\\r\\n    Exportar\\r\\n  </button> -->\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onReset()\\\">\\r\\n    Limpar\\r\\n  </button>\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onFilter()\\\">\\r\\n    Filtrar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\" [show]=\\\"!loading\\\">\\r\\n  <div class=\\\"row\\\" #scrollToFilter>\\r\\n    <div class=\\\"col\\\">\\r\\n      <advanced-filter>\\r\\n        <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n          <div class=\\\"form-row\\\">\\r\\n            <div class=\\\"form-group col-3\\\">\\r\\n              <label for=\\\"empresa\\\">Data Inicial</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"far fa-calendar-alt\\\"></i></span>\\r\\n                </div>\\r\\n                <input\\r\\n                  class=\\\"form-control\\\"\\r\\n                  id=\\\"dataInicial\\\"\\r\\n                  type=\\\"text\\\"\\r\\n                  bsDatepicker\\r\\n                  [bsConfig]=\\\"bsConfig\\\"\\r\\n                  formControlName=\\\"DT_INIC\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group col-3\\\">\\r\\n              <label for=\\\"empresa\\\">Data Final</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"far fa-calendar-alt\\\"></i></span>\\r\\n                </div>\\r\\n                <input\\r\\n                class=\\\"form-control\\\"\\r\\n                id=\\\"dataFinal\\\"\\r\\n                type=\\\"text\\\"\\r\\n                bsDatepicker\\r\\n                [bsConfig]=\\\"bsConfig\\\"\\r\\n                formControlName=\\\"DT_FINA\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group col\\\">\\r\\n              <label for=\\\"usuario\\\">Usuário de emissão do cte</label>\\r\\n              <input\\r\\n                type=\\\"text\\\"\\r\\n                class=\\\"form-control\\\"\\r\\n                formControlName=\\\"DS_USUA\\\"\\r\\n                placeholder=\\\"Nome ou matrícula\\\"\\r\\n                (keyup.enter)=\\\"onFilter()\\\"\\r\\n              >\\r\\n            </div>\\r\\n          </div>\\r\\n          <!-- <div class=\\\"form-row\\\">\\r\\n            <div class=\\\"form-group col\\\">\\r\\n              <label for=\\\"cnpj\\\">CNPJ's não considerados</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"DS_REMV_CNPJ\\\" class=\\\"form-control\\\" (keyup.enter)=\\\"onFilter()\\\">\\r\\n            </div>\\r\\n          </div> -->\\r\\n        </form>\\r\\n      </advanced-filter>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"row justify-content-between\\\">\\r\\n    <div class=\\\"col-lg-7\\\">\\r\\n      <div [ngClass]=\\\"modoViewIncorretas != 1 ? 'card border-primary w-100 mb-5' : 'card border-danger w-100 mb-5' \\\">\\r\\n        <div class=\\\"card-body\\\" >\\r\\n          <div class=\\\"row\\\">\\r\\n            <h5 [ngClass]=\\\"modoViewIncorretas != 1 ? 'card-title text-primary col' : 'card-title text-danger col' \\\">EMISSÕES INCORRETAS</h5>\\r\\n            <div class=\\\"col\\\">\\r\\n              <div class=\\\"d-flex justify-content-end\\\">\\r\\n                <button\\r\\n                  type=\\\"button\\\"\\r\\n                  class=\\\"btn btn-sm btn-outline-primary mr-3\\\"\\r\\n                  (click)=\\\"getRelatorio(relatorioModal, 'EMISSOES_INCORRETAS')\\\"\\r\\n                  >\\r\\n                  <i class=\\\"fas fa-file-alt\\\"></i>\\r\\n                  <span>Relatório</span>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div [hidden]=\\\"loading || !hasData('emissoesIncorretas')\\\">\\r\\n            <custom-table\\r\\n              [config]=\\\"tableConfig\\\"\\r\\n            >\\r\\n              <ng-template #thead let-thead>\\r\\n                <tr>\\r\\n                  <th width=\\\"20%\\\">Tipo</th>\\r\\n                  <th class=\\\"text-center\\\">Emitente</th>\\r\\n                  <th class=\\\"text-center\\\">Destinatário</th>\\r\\n                  <th class=\\\"text-center\\\">Tomador</th>\\r\\n                  <th class=\\\"text-center\\\">Valor</th>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n              <ng-template #tbody let-tbody>\\r\\n                <tr>\\r\\n                <tr *ngFor=\\\"let item of dados?.emissoesIncorretas?.dados\\\">\\r\\n                  <td class=\\\"border-right\\\" width=\\\"20%\\\"><strong>{{ item?.descricao }}</strong></td>\\r\\n                  <td class=\\\"text-center\\\">{{item?.emitente || 0}}</td>\\r\\n                  <td class=\\\"text-center\\\">{{item?.destinatario || 0}}</td>\\r\\n                  <td class=\\\"text-center\\\">{{item?.pagador || 0}}</td>\\r\\n                  <td class=\\\"text-center\\\">{{item?.valor || 0}}</td>\\r\\n                </tr>\\r\\n                <tr >\\r\\n                  <td class=\\\"bg-dark text-white text-center\\\"><strong>TOTAL:</strong></td>\\r\\n                  <td class=\\\"bg-dark text-white text-center\\\"><strong>{{dados?.emissoesIncorretas?.total?.emitente || 0}}</strong></td>\\r\\n                  <td class=\\\"bg-dark text-white text-center\\\"><strong>{{dados?.emissoesIncorretas?.total?.destinatario || 0}}</strong></td>\\r\\n                  <td class=\\\"bg-dark text-white text-center\\\"><strong>{{dados?.emissoesIncorretas?.total?.pagador || 0}}</strong></td>\\r\\n                  <td class=\\\"bg-dark text-white text-center\\\"><strong>{{dados?.emissoesIncorretas?.total?.valor || 0}}</strong></td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n            </custom-table>\\r\\n          </div>\\r\\n          <div *ngIf=\\\"loading || !hasData('emissoesIncorretas')\\\" class=\\\"text-center d-flex justify-content-center align-items-center\\\">\\r\\n            <empty-result message=\\\"Nenhuma informação encontrada\\\"></empty-result>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"card border-primary w-100 mb-5\\\">\\r\\n        <div class=\\\"card-body\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <h5 class=\\\"card-title text-primary col\\\">NÃO EMITIDOS</h5>\\r\\n            <div class=\\\"col\\\">\\r\\n              <div class=\\\"d-flex justify-content-end\\\">\\r\\n                <button\\r\\n                  type=\\\"button\\\"\\r\\n                  class=\\\"btn btn-sm btn-outline-primary mr-3\\\"\\r\\n                  (click)=\\\"getRelatorio(relatorioModal, 'NAO_EMITIDO')\\\"\\r\\n                  >\\r\\n                  <i class=\\\"fas fa-file-alt\\\"></i>\\r\\n                  <span>Relatório</span>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div [hidden]=\\\"loading || !hasData('naoEmitidos')\\\">\\r\\n            <custom-table [config]=\\\"tableConfig\\\">\\r\\n              <ng-template #thead let-thead>\\r\\n                <tr>\\r\\n                  <th width=\\\"25%\\\">Tipo</th>\\r\\n                  <th class=\\\"text-center\\\">Quantidade</th>\\r\\n                  <th class=\\\"text-center\\\">Valor</th>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n              <ng-template #tbody let-tbody>\\r\\n                <tr *ngFor=\\\"let item of dados?.naoEmitidos?.dados\\\">\\r\\n                  <td class=\\\"border-right\\\"><strong>{{ item?.descricao }}</strong></td>\\r\\n                  <td class=\\\"text-center\\\">{{item?.quantidade}}</td>\\r\\n                  <td class=\\\"text-center\\\">{{item?.valor || 0 | currency: 'BRL'}}</td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td class=\\\"bg-dark text-white\\\" style=\\\"width:160px;\\\"><strong>TOTAL:</strong></td>\\r\\n                  <td class=\\\"bg-dark text-white text-center\\\"><strong>{{dados?.naoEmitidos?.total?.quantidade}}</strong></td>\\r\\n                  <td class=\\\"bg-dark text-white text-center\\\"><strong>{{dados?.naoEmitidos?.total?.valor | currency : 'BRL'}}</strong></td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n            </custom-table>\\r\\n          </div>\\r\\n          <div *ngIf=\\\"loading || !hasData('naoEmitidos')\\\" class=\\\"text-center d-flex justify-content-center align-items-center\\\">\\r\\n            <empty-result message=\\\"Nenhuma informação encontrada\\\"></empty-result>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-lg-5 border-left\\\">\\r\\n      <div class=\\\"card w-100 mb-5\\\">\\r\\n        <div class=\\\"card-body\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <h5 class=\\\"card-title col\\\">DEMAIS EMISSÕES</h5>\\r\\n            <div class=\\\"col\\\">\\r\\n              <div class=\\\"d-flex justify-content-end\\\">\\r\\n                <button\\r\\n                  type=\\\"button\\\"\\r\\n                  class=\\\"btn btn-sm btn-outline-primary mr-3\\\"\\r\\n                  (click)=\\\"getRelatorio(relatorioModal, 'DEMAIS_EMISSOES')\\\"\\r\\n                  >\\r\\n                  <i class=\\\"fas fa-file-alt\\\"></i>\\r\\n                  <span>Relatório</span>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div [hidden]=\\\"loading || !hasData('demaisEmissoes')\\\">\\r\\n            <custom-table [config]=\\\"tableConfig\\\" >\\r\\n              <ng-template #thead let-thead>\\r\\n                <tr>\\r\\n                  <th>Filial</th>\\r\\n                  <th>Quantidade</th>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n              <ng-template #tbody let-tbody>  \\r\\n                <tr *ngFor=\\\"let item of dados?.demaisEmissoes?.dados\\\">\\r\\n                  <td\\r\\n                    style=\\\"width:160px\\\"\\r\\n                    class=\\\"border-right\\\"\\r\\n                  >\\r\\n                    {{item?.descricao}}\\r\\n                  </td>\\r\\n                  <td>{{item?.quantidade}}</td>\\r\\n                </tr>\\r\\n                <tr >\\r\\n                  <td  class=\\\"bg-dark text-white\\\" style=\\\"width:160px;\\\"><strong>TOTAL:</strong></td>\\r\\n                  <td class=\\\"bg-dark text-white\\\"><strong>{{dados?.demaisEmissoes?.total?.quantidade}}</strong></td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n            </custom-table>\\r\\n          </div>\\r\\n          <div *ngIf=\\\"loading || !hasData('demaisEmissoes')\\\" class=\\\"text-center d-flex justify-content-center align-items-center\\\">\\r\\n            <empty-result message=\\\"Nenhuma informação encontrada\\\"></empty-result>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</app-body>\\r\\n\\r\\n\\r\\n<ng-template #relatorioModal>\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title pull-left\\\">Relatorio</h4>\\r\\n    <div>\\r\\n      <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n      </button>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <div>\\r\\n      <div class=\\\"mb-2 d-flex justify-content-between\\\">\\r\\n        <div>\\r\\n          <span>Colunas</span>\\r\\n          <button\\r\\n            class=\\\"btn-icon-sm ml-2\\\"\\r\\n            (click)=\\\"hideListColumns()\\\"\\r\\n            >\\r\\n            <i class=\\\"fas\\\" [ngClass]=\\\"{'fa-sort-up': !inColunas, 'fa-sort-down': inColunas}\\\"></i>\\r\\n          </button>\\r\\n        </div>\\r\\n        <button\\r\\n          class=\\\"btn btn-outline-primary\\\"\\r\\n          (click)=\\\"export()\\\"\\r\\n          >\\r\\n          Exportar\\r\\n        </button>\\r\\n      </div>\\r\\n      <ul *ngIf=\\\"inColunas\\\">\\r\\n        <li *ngFor=\\\"let item of colunas | keyvalue : keepOriginalOrder\\\">\\r\\n          <div class=\\\"custom-control custom-checkbox\\\">\\r\\n            <input\\r\\n              type=\\\"checkbox\\\"\\r\\n              class=\\\"custom-control-input\\\"\\r\\n              [checked]=\\\"item.value\\\"\\r\\n              (change)=\\\"setColumnState(item)\\\"\\r\\n              [id]=\\\"item.key\\\">\\r\\n            <label class=\\\"custom-control-label\\\" [for]=\\\"item.key\\\">{{item.key}}</label>\\r\\n          </div>\\r\\n        </li>\\r\\n      </ul>\\r\\n    </div>\\r\\n    <div style=\\\"display: block; overflow-x: auto;\\\">\\r\\n      <custom-table [config]=\\\"tableConfig\\\">\\r\\n        <ng-template #thead let-thead>\\r\\n          <tr>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['TIPO']\\\">TIPO</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CNPJ_EMITENTE']\\\">CNPJ_EMITENTE</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CNPJ_EMITENTE_CTRC']\\\">CNPJ_EMITENTE_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CNPJ_DESTINATARIO']\\\">CNPJ_DESTINATARIO</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CNPJ_DESTINATARIO_CTRC']\\\">CNPJ_DESTINATARIO_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CNPJ_PAGADOR']\\\">CNPJ_PAGADOR</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CNPJ_PAGADOR_CTRC']\\\">CNPJ_PAGADOR_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['FRETE_PESO']\\\">FRETE_PESO</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['FRETE_PESO_ARCELOR']\\\">FRETE_PESO_ARCELOR</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['DATA_EMISSAO']\\\">DATA_EMISSAO</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['NOTA_FISCAL']\\\">NOTA_FISCAL</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['PESO_NF']\\\">PESO_NF</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['VALOR_NF']\\\">VALOR_NF</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CHAVE_ACESSO_NF']\\\">CHAVE_ACESSO_NF</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CUSTO_FRETE_NF']\\\">CUSTO_FRETE_NF</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['HORA_IMPORTACAO']\\\">HORA_IMPORTACAO</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CODIGO_CTRC']\\\">CODIGO_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['FILIAL_CTRC']\\\">FILIAL_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['SERIE_CTRC']\\\">SERIE_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['TIPOCTE']\\\">TIPOCTE</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['ALIQ_ICMS']\\\">ALIQ_ICMS</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['OBS_CTE']\\\">OBS_CTE</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CIDADE_EMITENTE_CTRC']\\\">CIDADE_EMITENTE_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CIDADE_DESTINATARIO_CTRC']\\\">CIDADE_DESTINATARIO_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['NOTA_FISCAL_CTRC']\\\">NOTA_FISCAL_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['SERIE_NOTA_FISCAL_CTRC']\\\">SERIE_NOTA_FISCAL_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['PESO_NOTA_FISCAL_CTRC']\\\">PESO_NOTA_FISCAL_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['VALOR_NOTA_CTRC']\\\">VALOR_NOTA_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['TRASNPORTE_CTRC']\\\">TRASNPORTE_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CNPJ_TRANSPORTADORA']\\\">CNPJ_TRANSPORTADORA</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['PESO_DESCARREGADO']\\\">PESO_DESCARREGADO</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['BRM']\\\">BRM</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['DATA_BRM']\\\">DATA_BRM</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['PAGADOR_FRETE']\\\">PAGADOR_FRETE</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['INCLUSAO_CTRC']\\\">INCLUSAO_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['ENVIO_CTRC_ARCELOR']\\\">ENVIO_CTRC_ARCELOR</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['XML_CTRC']\\\">XML_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['SITUACAO_CTRC']\\\">SITUACAO_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['STATUS_ARCELOR']\\\">STATUS_ARCELOR</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['MENSAGEM']\\\">MENSAGEM</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['DATA_PAGAMENTO']\\\">DATA_PAGAMENTO</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['VALOR_FATURA']\\\">VALOR_FATURA</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['LOCAL_TRANSPORTE']\\\">LOCAL_TRANSPORTE</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['NOME_USUARIO_EMISSAO_CTRC']\\\">NOME_USUARIO_EMISSAO_CTRC</th>\\r\\n            <th class=\\\"text-truncate\\\" *ngIf=\\\"colunas['MATRICULA_USUARIO_EMISSAO_CTRC']\\\">MATRICULA_USUARIO_EMISSAO_CTRC</th>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n        <ng-template #tbody let-tbody>  \\r\\n          <tr *ngFor=\\\"let item of relatorio | slice : begin : end;\\\">\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['TIPO']\\\">{{item?.TIPO}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CNPJ_EMITENTE']\\\">{{item?.CNPJ_EMITENTE}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CNPJ_EMITENTE_CTRC']\\\">{{item?.CNPJ_EMITENTE_CTRC}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CNPJ_DESTINATARIO']\\\">{{item?.CNPJ_DESTINATARIO}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CNPJ_DESTINATARIO_CTRC']\\\">{{item?.CNPJ_DESTINATARIO_CTRC}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CNPJ_PAGADOR']\\\">{{item?.CNPJ_PAGADOR}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CNPJ_PAGADOR_CTRC']\\\">{{item?.CNPJ_PAGADOR_CTRC}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['FRETE_PESO']\\\">{{item?.FRETE_PESO | currency:'BRL'}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['FRETE_PESO_ARCELOR']\\\">{{item?.FRETE_PESO_ARCELOR | currency:'BRL'}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['DATA_EMISSAO']\\\">{{item?.DATA_EMISSAO | date : 'dd/MM/yyyy HH:mm'}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['NOTA_FISCAL']\\\">{{item?.NOTA_FISCAL}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['PESO_NF']\\\">{{item?.PESO_NF | number:'0.3-3'}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['VALOR_NF']\\\">{{item?.VALOR_NF | currency:'BRL'}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CHAVE_ACESSO_NF']\\\">{{item?.CHAVE_ACESSO_NF}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CUSTO_FRETE_NF']\\\">{{item?.CUSTO_FRETE_NF | currency:'BRL'}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['HORA_IMPORTACAO']\\\">{{item?.HORA_IMPORTACAO}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CODIGO_CTRC']\\\">{{item?.CODIGO_CTRC}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['FILIAL_CTRC']\\\">{{item?.FILIAL_CTRC}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['SERIE_CTRC']\\\">{{item?.SERIE_CTRC}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['TIPOCTE']\\\">{{item?.TIPOCTE}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['ALIQ_ICMS']\\\">{{item?.ALIQ_ICMS}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['OBS_CTE']\\\">{{item?.OBS_CTE}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CIDADE_EMITENTE_CTRC']\\\">{{item?.CIDADE_EMITENTE_CTRC}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CIDADE_DESTINATARIO_CTRC']\\\">{{item?.CIDADE_DESTINATARIO_CTRC}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['NOTA_FISCAL_CTRC']\\\">{{item?.NOTA_FISCAL_CTRC}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['SERIE_NOTA_FISCAL_CTRC']\\\">{{item?.SERIE_NOTA_FISCAL_CTRC}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['PESO_NOTA_FISCAL_CTRC']\\\">{{item?.PESO_NOTA_FISCAL_CTRC}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['VALOR_NOTA_CTRC']\\\">{{item?.VALOR_NOTA_CTRC | currency:'BRL'}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['TRASNPORTE_CTRC']\\\">{{item?.TRASNPORTE_CTRC}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['CNPJ_TRANSPORTADORA']\\\">{{item?.CNPJ_TRANSPORTADORA}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['PESO_DESCARREGADO']\\\">{{item?.PESO_DESCARREGADO}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['BRM']\\\">{{item?.BRM}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['DATA_BRM']\\\">{{item?.DATA_BRM}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['PAGADOR_FRETE']\\\">{{item?.PAGADOR_FRETE}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['INCLUSAO_CTRC']\\\">{{item?.INCLUSAO_CTRC}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['ENVIO_CTRC_ARCELOR']\\\">{{item?.ENVIO_CTRC_ARCELOR}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['XML_CTRC']\\\">{{item?.XML_CTRC}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['SITUACAO_CTRC']\\\">{{item?.SITUACAO_CTRC}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['STATUS_ARCELOR']\\\">{{item?.STATUS_ARCELOR}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['MENSAGEM']\\\">{{item?.MENSAGEM}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['DATA_PAGAMENTO']\\\">{{item?.DATA_PAGAMENTO}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['VALOR_FATURA']\\\">{{item?.VALOR_FATURA | currency:'BRL'}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['LOCAL_TRANSPORTE']\\\">{{item?.LOCAL_TRANSPORTE}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['NOME_USUARIO_EMISSAO_CTRC']\\\">{{item?.NOME_USUARIO_EMISSAO_CTRC}}</td>\\r\\n            <td class=\\\"text-truncate\\\" *ngIf=\\\"colunas['MATRICULA_USUARIO_EMISSAO_CTRC']\\\">{{item?.MATRICULA_USUARIO_EMISSAO_CTRC}}</td>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n      </custom-table>\\r\\n      <div class=\\\"mt-3 col p-0\\\" [hidden]=\\\"noResult\\\">\\r\\n        Exibindo {{ itemsPerPage*(currentPage - 1) + 1 }} a {{ currentPage*(itemsPerPage) > totalItems ? totalItems : currentPage*(itemsPerPage) }} de {{ totalItems }}\\r\\n        <pagination\\r\\n          [maxSize]=\\\"5\\\"\\r\\n          [totalItems]=\\\"totalItems\\\"\\r\\n          [(itemsPerPage)]=\\\"itemsPerPage\\\"\\r\\n          (pageChanged)=\\\"onPageChanged($event)\\\"\\r\\n          [boundaryLinks]=\\\"true\\\"\\r\\n          [(ngModel)]=\\\"currentPage\\\"\\r\\n          previousText=\\\"&lsaquo;\\\"\\r\\n          nextText=\\\"&rsaquo;\\\"\\r\\n          firstText=\\\"&laquo;\\\"\\r\\n          lastText=\\\"&raquo;\\\">\\r\\n        </pagination>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</ng-template>\";","//angular\r\nimport { Component, OnInit, OnDestroy, TemplateRef } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\n\r\n//servicos\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { RouterService } from 'src/app/shared/services/core/router.service';\r\nimport { LogisticaDashboardConferenciaCteService } from './conferencia-cte.service';\r\nimport { XlsxService } from './../../../../shared/services/core/xlsx.service';\r\n\r\nimport { BsDatepickerConfig, BsLocaleService, BsModalRef, BsModalService, PageChangedEvent } from 'ngx-bootstrap';\r\n\r\n// rxjs\r\nimport { finalize } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n\r\n//modelos\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\nimport { CustomTableConfig } from './../../../../shared/templates/custom-table/models/config';\r\n\r\n//masks\r\nimport { MASKS } from 'ng-brazil';\r\n\r\n\r\n@Component({\r\n  selector: 'logistica-dashboard-conferencia-cte',\r\n  templateUrl: './conferencia-cte.component.html',\r\n  styleUrls: ['./conferencia-cte.component.scss'],\r\n})\r\nexport class LogisticaDashboardsConferenciaCteComponent implements OnInit, OnDestroy {\r\n  public MASKS = MASKS;\r\n\r\n  breadCrumbTree: Array<Breadcrumb>;\r\n  idSubModulo: number;\r\n  conferencia: any;\r\n  dados = {};\r\n  total = {};\r\n  noResult: boolean;\r\n  loading = true; //Loading FullPage\r\n  loadingNavBar = false; //Loading do NAVBAR\r\n  $activatedRouteSubscription: Subscription;\r\n  tableConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: false,\r\n    isFixed: true,\r\n    border: false,\r\n    small: false,\r\n    hover: false,\r\n    theme: {\r\n      color: 'white',\r\n    },\r\n  };\r\n  modoViewIncorretas = 0;\r\n  modoViewNaoEmitidas= 0;\r\n  form: FormGroup;\r\n\r\n  relatorio = [];\r\n  relatorioCache = {};\r\n  colunas = {};\r\n  inColunas = false;\r\n\r\n  bsConfig: Partial<BsDatepickerConfig>;\r\n  \r\n  // Tipos de Operações (Ativo/Inativo)\r\n  tipos = [\r\n    {\r\n      cod: '1',\r\n      nome: 'Abastecimento',\r\n    },\r\n    {\r\n      cod: '2',\r\n      nome: 'Escoamento',\r\n    },\r\n  ];\r\n\r\n  /* Paginação */\r\n  itemsPerPage: number = 100;\r\n  currentPage: number = 1;\r\n  begin: number = 0;\r\n  end: number = this.itemsPerPage;\r\n  totalItems: number = 0;\r\n  /* Paginação */\r\n\r\n  modalRef: BsModalRef;\r\n  \r\n  constructor(\r\n    private route: Router,\r\n    private pnotify: PNotifyService,\r\n    private localeService: BsLocaleService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private conferenciaCteService: LogisticaDashboardConferenciaCteService,\r\n    private formBuilder: FormBuilder,\r\n    private routerService: RouterService,\r\n    private dateService: DateService,\r\n    private modalService: BsModalService,\r\n    private xlsxService: XlsxService\r\n  ) {\r\n    this.localeService.use('pt-br');\r\n    this.bsConfig = Object.assign(\r\n      {},\r\n      { containerClass: 'theme-dark-blue' },\r\n      { adaptivePosition: true },\r\n      { showWeekNumbers: false }\r\n    );\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.buildForm();\r\n    this.setBreadCrumb();\r\n    this.onActivatedRoute();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.$activatedRouteSubscription.unsubscribe();\r\n\r\n    if(this.modalService){\r\n      this.modalService.hide(1);\r\n    }\r\n  }\r\n\r\n  onActivatedRoute() {\r\n    this.$activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      (response) => {\r\n        const _response = this.routerService.getBase64UrlParams(response);\r\n        this.form.patchValue(_response);\r\n        this.getConferencia(this.getParams());\r\n      }\r\n    );\r\n  }\r\n\r\n  buildForm() {\r\n\r\n    const cnpjs = \"1170112600290,30456615000198,30456615000279,479795800001298,49795800001530,49795800001883\"\r\n\r\n    this.form = this.formBuilder.group({\r\n      DS_STAT: [null],\r\n      DS_USUA: [null],\r\n      DT_INIC: [this.dateService.getFirstDayMonth(), [Validators.required]],\r\n      DT_FINA: [new Date(), [Validators.required]],\r\n      PAGI: [1],\r\n      TT_REGI_PAGI: [this.itemsPerPage],\r\n      TIME: [new Date().getTime()],\r\n    });\r\n  }\r\n  setPageRegistros(itemsPerPage) {\r\n    this.itemsPerPage = itemsPerPage;\r\n    this.onFilter();\r\n  }\r\n  setBreadCrumb() {\r\n    const id = this.activatedRoute.snapshot.params.idSubModulo;\r\n    this.breadCrumbTree = [\r\n      {\r\n        descricao: 'Home',\r\n        routerLink: `/logistica/home`,\r\n      },\r\n      {\r\n        descricao: 'Dashboard',\r\n        routerLink: `/logistica/dashboards/${id}`,\r\n      },\r\n      {\r\n        descricao: 'Conferência de CTEs',\r\n      },\r\n    ];\r\n  }\r\n\r\n  /* changeViewIncorretas(event?){\r\n    if(this.modoViewIncorretas == 1){\r\n      this.modoViewIncorretas = 0\r\n    }else{\r\n      this.modoViewIncorretas = 1\r\n    }\r\n  } */\r\n\r\n  openModal(template: TemplateRef<any>) {\r\n    this.modalRef = this.modalService.show(template, {class: 'modal-xxl', animated: false, ignoreBackdropClick: true});\r\n  }\r\n\r\n  /* changeViewNaoEmitidas(event?){\r\n    if(this.modoViewNaoEmitidas == 1){\r\n      this.modoViewNaoEmitidas = 0\r\n    }else{\r\n      this.modoViewNaoEmitidas = 1\r\n    }\r\n  } */\r\n\r\n  onFilter() {\r\n    this.form.get('TIME').setValue(new Date().getTime());\r\n    this.route.navigate([], {\r\n      relativeTo: this.activatedRoute,\r\n      queryParams: this.routerService.setBase64UrlParams(this.getParams()),\r\n    });\r\n  }\r\n\r\n  getConferencia(params?) {\r\n    if (!this.loading) this.loadingNavBar = true;\r\n\r\n    this.conferenciaCteService\r\n      .getConferencia(params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loading = false;\r\n          this.loadingNavBar = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response) => {\r\n          if (response.status === 200) {\r\n            \r\n            this.dados = response.body['data'];\r\n            this.noResult = false;\r\n\r\n            for (const key in this.dados) {\r\n              \r\n              this.total[key] = {'valor': 0, 'quantidade': 0};\r\n              \r\n              if(!this.dados[key]){\r\n                continue;\r\n              }\r\n\r\n              this.dados[key].foreach(el => {\r\n                this.total[key].valor += el?.valor;\r\n                this.total[key].quantidade += el?.quantidade;\r\n              });\r\n\r\n            }\r\n\r\n          } else {\r\n            this.noResult = true;\r\n            this.pnotify.notice(\"Nenhuma informação encontrada.\")\r\n          }\r\n        },\r\n        (error) => {\r\n          this.conferencia = undefined;\r\n          this.noResult = true;\r\n          try {\r\n            this.pnotify.error(error.error.message)\r\n          } catch (error) {\r\n            this.pnotify.error();\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  onReset() {\r\n    this.form.reset();\r\n    this.form.patchValue({\r\n      PAGI: 1,\r\n      TT_REGI_PAGI: 100,\r\n      TIME: [new Date().getTime()],\r\n    });\r\n  }\r\n\r\n  /* onPageChanged(event) {\r\n    this.form.get('PAGI').setValue(event.page);\r\n    this.onFilter();\r\n  } */\r\n\r\n  getParams() {\r\n    let _params = {};\r\n    let _obj = this.form.value;\r\n\r\n    for (let prop in _obj) {\r\n      if (_obj[prop]) {\r\n        if (_obj[prop] instanceof Date)\r\n          _params[prop] = this.dateService.convertToUrlDate(_obj[prop]);\r\n        else _params[prop] = _obj[prop];\r\n      }\r\n    }\r\n\r\n    return _params;\r\n  }\r\n\r\n  hasData(key){\r\n\r\n    if(!this.dados)\r\n      return false;\r\n\r\n    if(!this.dados.hasOwnProperty(key))\r\n      return false;\r\n\r\n    if(this.dados[key].length == 0)\r\n      return false\r\n\r\n    return true;\r\n  }\r\n\r\n  getRelatorio(template: TemplateRef<any>, status){\r\n\r\n    this.inColunas = false;\r\n    this.form.get('DS_STAT').setValue(status)\r\n    const params = {...this.getParams(), 'DS_STAT': status}\r\n\r\n    const cache = this.getRelatorioCache(status, params);\r\n\r\n    if(cache){\r\n      this.relatorio = cache.values;\r\n      this.colunas = cache.columns;\r\n      this.openModal(template)\r\n      return\r\n    }\r\n\r\n\r\n    if (!this.loading)\r\n      this.loadingNavBar = true;\r\n\r\n    this.conferenciaCteService\r\n      .getRelatorio(params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loading = false;\r\n          this.loadingNavBar = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        async (response) => {\r\n          if (response.status === 200) {\r\n            \r\n            this.relatorio = response.body['data'];\r\n            this.totalItems = this.relatorio.length;\r\n            \r\n            const config = this.getColumnsConfig(status)\r\n            const keys = Object.keys(this.relatorio[0]);\r\n            const promise = () => keys.forEach(key => this.colunas[key] = config?.hasOwnProperty(key) ? config[key] : false); \r\n\r\n            await Promise.resolve(promise());\r\n\r\n            this.setRelatorioCache(status, params, this.relatorio, this.colunas);\r\n          \r\n            this.noResult = false;\r\n\r\n            this.openModal(template)\r\n          \r\n          } else {\r\n            this.noResult = true;\r\n            this.relatorio = [];\r\n            this.pnotify.notice(\"Nenhuma informação encontrada.\")\r\n          }\r\n        },\r\n        (error) => {\r\n          this.relatorio = [];\r\n          this.noResult = true;\r\n          try {\r\n            this.pnotify.error(error.error.message)\r\n          } catch (error) {\r\n            this.pnotify.error();\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  setRelatorioCache(status, params, values, colunms){\r\n    this.relatorioCache[status] = {\r\n      'params': params,\r\n      'values': values,\r\n      'columns': colunms\r\n    }\r\n  }\r\n\r\n  getRelatorioCache(status, params){\r\n    \r\n    try {\r\n      \r\n      const _params = this.relatorioCache[status]['params'];\r\n\r\n      if(params?.DT_INIC == _params?.DT_INIC && params?.DT_FINA == _params?.DT_FINA && params?.DS_USUA == _params?.DS_USUA)\r\n        return this.relatorioCache[status];\r\n      \r\n    } catch (error) {\r\n      return false\r\n    }\r\n    return false\r\n  }\r\n\r\n  hideListColumns(): boolean{\r\n    this.inColunas = !this.inColunas;\r\n    return this.inColunas;\r\n  }\r\n\r\n  setColumnState(column){\r\n    this.colunas[column.key] = column.value ? false : true;\r\n    const status = this.form.get('DS_STAT').value;\r\n    const key = `${this.getLocalStorageKey()}.${status}`\r\n    localStorage.setItem(key, JSON.stringify(this.colunas))\r\n  }\r\n\r\n  keepOriginalOrder = (a, b) => a.key\r\n\r\n  export(){\r\n    this.xlsxService.export({data: this.relatorio})\r\n  }\r\n\r\n  /* Paginação */\r\n  onPageChanged(event: PageChangedEvent): void {\r\n    this.begin = (event.page - 1) * event.itemsPerPage;\r\n    this.end = event.page * event.itemsPerPage;\r\n  }\r\n  /* Paginação */\r\n\r\n  getColumnsConfig(status?){\r\n    const config = {\r\n      \"EMISSOES_INCORRETAS\":{\r\n        \"TIPO\": true,\r\n        \"CNPJ_EMITENTE\": true,\r\n        \"CNPJ_EMITENTE_CTRC\": true,\r\n        \"FRETE_PESO_ARCELOR\": true,\r\n        \"FRETE_PESO\": true,\r\n        \"CNPJ_PAGADOR\": true,\r\n        \"CNPJ_PAGADOR_CTRC\": true\r\n      },\r\n      \"NAO_EMITIDO\":{\r\n        \"TIPO\": true,\r\n        \"CNPJ_EMITENTE\": true,\r\n        \"CNPJ_PAGADOR\": true,\r\n        \"CUSTO_FRETE_NF\": true,\r\n        \"TRANSPORTE\": true,\r\n        \"NOTA_FISCAL\": true\r\n      },\r\n      \"DEMAIS_EMISSOES\":{\r\n        \"TIPO\": true,\r\n        \"CNPJ_EMITENTE_CTRC\": true,\r\n        \"CNPJ_PAGADOR_CTRC\": true,\r\n        \"FRETE_PESO\": true,\r\n        \"TRANSPORTE\": true,\r\n        \"NOTA_FISCAL\": true\r\n      }\r\n    }\r\n\r\n    const key = `${this.getLocalStorageKey()}.${status}`\r\n    const storage = localStorage.getItem(key)\r\n\r\n    if(storage)\r\n      return JSON.parse(storage)\r\n\r\n    if(status)\r\n      return config[status]\r\n\r\n    return config;\r\n  }\r\n\r\n  getLocalStorageKey(){\r\n    const key = `logistica.dashboards.conferenciaCte.colunas`\r\n    return key;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { LogisticaDashboardsConferenciaCteComponent } from './conferencia-cte.component';\r\nimport { LogisticaDashboadsConferenciaCteRoutingModule } from './conferencia-cte-routing.modulte';\r\n\r\nimport { NotFoundModule } from './../../../../core/not-found/not-found.module';\r\n\r\nimport { BsDatepickerModule, PaginationModule, TooltipModule } from 'ngx-bootstrap';\r\n\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { CountoModule } from 'angular2-counto';\r\n\r\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\r\nimport { TemplatesModule } from 'src/app/shared/templates/templates.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LogisticaDashboardsConferenciaCteComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    LogisticaDashboadsConferenciaCteRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    PaginationModule.forRoot(),\r\n    BsDatepickerModule.forRoot(),\r\n    TooltipModule.forRoot(),\r\n    NgSelectModule,\r\n    CountoModule,\r\n    NotFoundModule,\r\n    SharedModule,\r\n    TemplatesModule\r\n  ]\r\n})\r\nexport class LogisticaDashboardsConferenciaCteModule { }\r\n"]}