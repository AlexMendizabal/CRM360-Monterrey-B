{"version":3,"sources":["webpack:///src/app/modules/logistica/estoque/painel-inventario/painel-inventario.module.ts","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/lista/lista.component.html","webpack:///src/app/modules/logistica/estoque/painel-inventario/painel-inventario.component.scss","webpack:///src/app/modules/logistica/estoque/painel-inventario/painel-inventario.component.html","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/materiais-notas-fiscais/materiais-notas-fiscais.component.html","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/materiais-ocorrencias/materiais-ocorrencias.service.ts","webpack:///src/app/modules/logistica/estoque/painel-inventario/cadastro/cadastro.component.scss","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/lista/lista.component.ts","webpack:///src/app/modules/logistica/estoque/painel-inventario/cadastro/cadastro.service.ts","webpack:///src/app/modules/logistica/estoque/painel-inventario/cadastro/cadastro.component.ts","webpack:///src/app/modules/logistica/estoque/painel-inventario/painel-inventario-routing.module.ts","webpack:///src/app/modules/logistica/estoque/painel-inventario/painel-inventario.component.ts","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/inventario.component.scss","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/inventario.component.html","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/materiais-notas-fiscais/materiais-notas-fiscais.component.ts","webpack:///src/app/modules/logistica/estoque/painel-inventario/models/totalInventario.ts","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/relatorio/relatorio.component.scss","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/inventario.component.ts","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/lista/lista.component.scss","webpack:///src/app/modules/logistica/estoque/painel-inventario/cadastro/cadastro.component.html","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/relatorio/relatorio.service.ts","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/relatorio/relatorio.component.html","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/materiais-notas-fiscais/materiais-notas-fiscais.component.scss","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/materiais-ocorrencias/materiais-ocorrencias.component.ts","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/relatorio/relatorio.component.ts","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/materiais-ocorrencias/materiais-ocorrencias.component.scss","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/materiais-ocorrencias/materiais-ocorrencias.component.html","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/lista/lista.service.ts","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/inventario.service.ts","webpack:///src/app/modules/logistica/estoque/painel-inventario/inventario/materiais-notas-fiscais/materiais-notas-fiscais.service.ts"],"names":["LogisticaEstoquePainelInventarioModule","declarations","imports","forRoot","providers","provide","useValue","LogisticaEstoquePainelInventarioInventarioMateriaisOcorrenciasService","http","BASE_URL","cdInventario","get","params","observe","idInventario","ocorrencia","ocorrencias","matriculaAuditor","put","notasFiscais","providedIn","LogisticaEstoquePainelInventarioInventarioListaComponent","xlsxService","activatedRoute","notice","listaInventarioService","dateSevice","route","modalService","formBuilder","atividadesService","detailPanelService","snapshot","currentUser","JSON","parse","localStorage","getItem","showAdvancedFilter","cdNotaFiscal","cdNotaFiscalRo","tipoInventario","adminProfile","loaderNavbar","spinnerFullScreen","loading","noResult","compressedTable","considerarMaterialSemEstoque","perfilTipo","listas","listaInfo","disabledBotoes","finalizar","editar","aprovar","reabrir","habilita","info","ativAprovar","ativFinaliza","ativReabrir","ativCancelar","ativEditar","ativSalvar","ativNotaFiscal","ativExport","inativBotoes","desabilitarBotoes","appTitle","appTitleInventario","appTitleNotasFiscais","config","animated","parametros","breadCrumbTree","descricao","routerLink","tableConfig","tableFilterConfig","border","tableNotasFiscaisConfig","subtitleBorder","tableNotasFiscaisMateriaisConfig","showDetailPanel","itemsPerPage","currentPage","begin","end","beginP","endP","selectedPeople","listaMateriaisFiltro","materiaisNotaFiscalRo","totalInventario","form","group","cdMaterial","required","getListaMateriaisParaFiltro","getInfoInventario","onLoadAplication","registrarAcesso","subscribe","getPerfil","onSubscription","setTimeout","perfilLoaded","getLista","totalItems","pipe","getTotal","response","data","forEach","element","totalContagem","qtPecaContagem","pesoPeca","parseFloat","qtPesoContagem","getInfoInventarioRotativo","status","somaInventarioRotativo","body","saldoEstoque","resultadoInventario","error","materiais","requisicao","push","idInventarioMaterial","qtPeca","qtPeso","length","postSalvar","success","template","dateDiff","dateRef","Date","modalRef","show","finaliza","confirm","atualizarInventario","valor","cancela","date1","date2","diffTime","Math","abs","getTime","diffDays","ceil","justificativa","statusInventario","finalizacao","idStatusInventario","observacao","dsErro","dNow","localdate","getDate","getMonth","getFullYear","getHours","getMinutes","dataNow","dtInclusao","siglaStatusInventario","dsTipoInventario","controlaAcessoBotoes","exportFile","event","page","value","notaFiscal","getMateriaisNotasFiscaisRo","notaFiscalSelecionadaRo","navigate","relativeTo","getNotasFiscaisRo","notasFiscaisRo","tempNotasFiscaisRo","qtNotasFiscaisRo","message","childModal","hide","childModalRo","notaFiscalSelecionada","checkAlterado","particao","qtEnvios","req","index","salvarNotasFiscaisRo","slice","contador","material","undefined","pesoFisico","estoque","qtPesoEstoque","qtMaterialNotaFiscal","saldo","precoMinimo","$showDetailPanelSubscription","showing","i","loadedFinished","saldoInventario","getSaldoInventario","getTotalContagem","getResultadoInventario","resultadoMonetario","getResultadoMonetario","enderecoPatio","saldoFinanceiro","dsClasse","unsubscribe","selector","LogisticaEstoquePainelInventarioCadastroService","idEmpresa","descricaoLinhas","linhas","btoa","idClasses","classes","post","matricula","LogisticaEstoquePainelInventarioCadastroComponent","localeService","cadastroService","codigo","descNome","use","bsConfig","Object","assign","containerClass","adaptivePosition","showWeekNumbers","cdEmpresa","cdDeposito","sigla","pagina","getEmpresas","keys","empresas","getLinhas","getDepositos","depositos","getClasses","getMateriais","result","postCadastraInventario","postMateriais","cdMateriais","codigoMaterial","mat","field","onFieldInvalid","touched","formControl","controls","validator","validationResult","formReset","reset","routes","path","redirectTo","pathMatch","component","LogisticaEstoquePainelInventarioRoutingModule","forChild","exports","LogisticaEstoquePainelInventarioComponent","LogisticaEstoquePainelInventarioInventarioMateriaisNotasFiscaisComponent","notaFiscalService","cdEmp","materiaisNotaFiscal","appTitleBreadcrumb","openModalNotaFiscal","getListaExistente","getListaCarregadaMaisNotaFiscal","val","tempNotasFiscais","temp","filter","row","some","property","toString","indexOf","getInventario","containsNotaFiscal","isNotUndefined","find","getNotasFiscais","qtNotasFiscais","getMateriaisNotasFiscais","salvarNotasFiscais","LogisticaEstoquePainelInventarioTotalInventario","LogisticaEstoquePainelInventarioInventarioComponent","inventarioService","dateService","routerService","listaInventarios","inventarios","ultimoStatusEnviado","noResultado","noLista","inve","infoClasses","infoLinha","infoIdInventario","parametro","checked","filtroEmpresas","filtroDepositos","filtroLinhas","filtroClasses","filtroMateriais","dadosEmpty","subtitles","id","text","color","empresa","dataInicial","dataFinal","$activatedRouteSubscription","queryParams","_response","getBase64UrlParams","patchValue","getParams","onDetailPanel","_params","obj","prop","convertToUrlDate","substring","setBase64UrlParams","lancamentos","deposito","informacoes","getClassesInventario","dsLinha","setValue","onSearch","LogisticaEstoquePainelInventarioInventarioRelatorioService","LogisticaEstoquePainelInventarioInventarioMateriaisOcorrenciasComponent","ocorrenciasService","cdOcorrencia","tempOcorrencias","containsOcorrencia","getOcorrencias","param","LogisticaEstoquePainelInventarioInventarioRelatorioComponent","pdfService","relatorioService","infoClasse","getInfoInventarioRotativoGeral","infoMateriais","resultadoDiferenca","inventarioRotativoTotal","resultTotalInventario","download","LogisticaEstoquePainelInventarioInventarioListaService","naoConsideraEstoqueZerado","qtPagina","nrNotaFiscalRo","notaFiscalRo","LogisticaEstoquePainelInventarioInventarioService","LogisticaEstoquePainelInventarioInventarioMateriaisNotasFiscaisService","nrNotaFiscal"],"mappings":"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","file":"estoque-painel-inventario-painel-inventario-module-es5.js","sourcesContent":["import { NgModule, LOCALE_ID } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n// ngx-bootstrap\r\nimport { ModalModule } from 'ngx-bootstrap/modal';\r\nimport { PaginationModule } from 'ngx-bootstrap/pagination';\r\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\r\nimport { TimepickerModule } from 'ngx-bootstrap/timepicker';\r\nimport { TabsModule } from 'ngx-bootstrap/tabs';\r\nimport { TemplatesModule } from 'src/app/shared/templates/templates.module';\r\n\r\n// ng-select\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\n// ng2-currency-mask\r\nimport { CurrencyMaskModule } from 'ng2-currency-mask';\r\n\r\nimport { NotFoundModule } from 'src/app/core/not-found/not-found.module';\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\r\nimport { FilterPipeModule } from 'ngx-filter-pipe';\r\n\r\nimport { LogisticaEstoquePainelInventarioRoutingModule } from './painel-inventario-routing.module';\r\nimport { LogisticaEstoquePainelInventarioComponent } from './painel-inventario.component';\r\nimport { LogisticaEstoquePainelInventarioCadastroComponent } from './cadastro/cadastro.component';\r\nimport { LogisticaEstoquePainelInventarioInventarioComponent } from './inventario/inventario.component';\r\nimport { LogisticaEstoquePainelInventarioInventarioListaComponent } from './inventario/lista/lista.component';\r\nimport { LogisticaEstoquePainelInventarioInventarioMateriaisNotasFiscaisComponent } from './inventario/materiais-notas-fiscais/materiais-notas-fiscais.component';\r\nimport { LogisticaEstoquePainelInventarioInventarioMateriaisOcorrenciasComponent } from './inventario/materiais-ocorrencias/materiais-ocorrencias.component';\r\nimport { LogisticaEstoquePainelInventarioInventarioRelatorioComponent } from './inventario/relatorio/relatorio.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LogisticaEstoquePainelInventarioComponent,\r\n    LogisticaEstoquePainelInventarioCadastroComponent,\r\n    LogisticaEstoquePainelInventarioInventarioComponent,\r\n    LogisticaEstoquePainelInventarioInventarioListaComponent,\r\n    LogisticaEstoquePainelInventarioInventarioMateriaisNotasFiscaisComponent,\r\n    LogisticaEstoquePainelInventarioInventarioMateriaisOcorrenciasComponent,\r\n    LogisticaEstoquePainelInventarioInventarioRelatorioComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    FilterPipeModule,\r\n    ModalModule.forRoot(),\r\n    TabsModule.forRoot(),\r\n    TimepickerModule.forRoot(),\r\n    BsDatepickerModule.forRoot(),\r\n    PaginationModule.forRoot(),\r\n    TemplatesModule.forRoot(),\r\n    NgSelectModule,\r\n    CurrencyMaskModule,\r\n    LogisticaEstoquePainelInventarioRoutingModule,\r\n    NotFoundModule,\r\n    SharedModule,\r\n  ],\r\n  providers: [PNotifyService, { provide: LOCALE_ID, useValue: 'pt-PT' }],\r\n})\r\nexport class LogisticaEstoquePainelInventarioModule {}\r\n","export default \"<loader-spinner-full-screen [hidden]=\\\"!spinnerFullScreen\\\"></loader-spinner-full-screen>\\r\\n<loader-spinner-navbar [hidden]=\\\"!loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<app-header [appTitle]=\\\"appTitle\\\">\\r\\n  <button \\r\\n    (click)=\\\"onSearch()\\\"\\r\\n    >\\r\\n    Pesquisar\\r\\n  </button>\\r\\n  <button \\r\\n    (click)=\\\"openOcorrencias(idInventario)\\\"\\r\\n    *ngIf=\\\"ativNotaFiscal\\\"\\r\\n    >\\r\\n    Ocorrências\\r\\n  </button>\\r\\n  <button \\r\\n    (click)=\\\"openNotaFiscal(idInventario)\\\"\\r\\n    *ngIf=\\\"ativNotaFiscal\\\"\\r\\n    >\\r\\n    Notas Fiscais\\r\\n  </button>\\r\\n  <button \\r\\n    (click)=\\\"exportarExcel()\\\"\\r\\n    [disabled]=\\\"!info || noResult\\\"\\r\\n    *ngIf=\\\"ativExport\\\"\\r\\n    >\\r\\n    Exportar\\r\\n  </button>\\r\\n  <button\\r\\n    class=\\\"hover\\\" \\r\\n    (click)=\\\"cancelar(template, 1)\\\"\\r\\n    *ngIf=\\\"ativCancelar\\\"\\r\\n    >\\r\\n    Cancelar\\r\\n  </button>\\r\\n  <button \\r\\n    (click)=\\\"habilitaCampos()\\\"\\r\\n    [disabled]=\\\"(habilita && !info) || inativBotoes || noResult\\\"\\r\\n    *ngIf=\\\"ativEditar\\\"\\r\\n    >\\r\\n    Editar\\r\\n  </button>\\r\\n  <button \\r\\n    (click)=\\\"postSalvar()\\\"\\r\\n    [disabled]=\\\"info || inativBotoes || noResult\\\"\\r\\n    *ngIf=\\\"ativSalvar\\\"\\r\\n    >\\r\\n    Salvar\\r\\n  </button>\\r\\n  <button \\r\\n    (click)=\\\"finalizar(template)\\\"\\r\\n    *ngIf=\\\"ativFinaliza\\\"\\r\\n    >\\r\\n    Finalizar\\r\\n  </button>\\r\\n  <button \\r\\n    (click)=\\\"atualizarInventario('',1)\\\"\\r\\n    *ngIf=\\\"ativReabrir\\\"\\r\\n    >\\r\\n    Reabrir\\r\\n  </button>\\r\\n  <button\\r\\n    class=\\\"hover\\\" \\r\\n    (click)=\\\"atualizarInventario('',5)\\\"\\r\\n    [disabled]=\\\"!ativAprovar\\\"\\r\\n    *ngIf=\\\"ativAprovar\\\"\\r\\n    >\\r\\n    Aprovar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\">\\r\\n  <div class=\\\"d-flex justify-content-between align-items-center col-12 p-0\\\" [hidden]=\\\"noResult || spinnerFullScreen\\\">\\r\\n    <div>\\r\\n      <strong style=\\\"font-size: 1.25rem\\\">Código do Inventário: {{ idInventario | number : '6.0-0'}} - {{ tipoInventario | uppercase }}</strong>\\r\\n      <div \\r\\n        class=\\\"d-flex justify-content-start align-items-center\\\" \\r\\n        style=\\\"cursor: pointer; font-size: 1rem\\\"\\r\\n        *ngIf=\\\"disabledBotoes.editar\\\"\\r\\n        >\\r\\n          <i [ngClass]=\\\"{'fa-toggle-off': considerarMaterialSemEstoque == 1, 'fa-toggle-on': considerarMaterialSemEstoque == 0}\\\" \\r\\n          class=\\\"fas pr-1\\\" \\r\\n          (click)=\\\"onToggleListaMateriais();\\\" \\r\\n          >\\r\\n        </i> Considerar materiais sem estoque\\r\\n      </div>\\r\\n    </div>\\r\\n    <form class=\\\"col-4 p-0\\\" [formGroup]=\\\"form\\\">\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col-12\\\">\\r\\n          <label for=\\\"dsMaterial\\\">Material</label>\\r\\n          <ng-select\\r\\n              [items]= \\\"listaMateriaisFiltro\\\"\\r\\n              [closeOnSelect]=\\\"true\\\"\\r\\n              [hideSelected]=\\\"true\\\"\\r\\n              bindLabel=\\\"dsMaterial\\\"\\r\\n              bindValue=\\\"cdMaterial\\\"\\r\\n              placeholder=\\\"Pesquise por um material\\\"\\r\\n              formControlName=\\\"cdMaterial\\\"\\r\\n          >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n  <div class=\\\"row mb-3\\\" [hidden]=\\\"spinnerFullScreen\\\">\\r\\n    <div class=\\\"col-lg-12\\\">\\r\\n      <div class=\\\"border shadow-sm\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col\\\">\\r\\n            <div\\r\\n              id=\\\"filter-header\\\"\\r\\n              class=\\\"hover w-100 d-flex justify-content-between\\\"\\r\\n              [ngClass]=\\\"{'shadow-sm border-bottom': showAdvancedFilter}\\\"\\r\\n              (click)=\\\"onAdvancedFilter()\\\">\\r\\n              <div class=\\\"mtc-title mb-0 pl-2 pt-1\\\"> Totalizador </div>\\r\\n              <button\\r\\n                type=\\\"button\\\"\\r\\n                class=\\\"btn-icon-sm my-auto mr-1\\\">\\r\\n                <i class=\\\"fas fa-chevron-down\\\" [hidden]=\\\"showAdvancedFilter\\\"></i>\\r\\n                <i class=\\\"fas fa-chevron-up\\\" [hidden]=\\\"!showAdvancedFilter\\\"></i>\\r\\n              </button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div id=\\\"filter-body\\\" [hidden]=\\\"showAdvancedFilter\\\">\\r\\n          <custom-table [config]=\\\"tableFilterConfig\\\">\\r\\n            <ng-template #thead let-thead>\\r\\n              <tr>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\" style=\\\"border-top: none\\\"></th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\" style=\\\"border-top: none\\\"></th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\" style=\\\"border-top: none\\\"></th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\" style=\\\"border-top: none\\\"></th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\" style=\\\"border-top: none\\\"></th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\" style=\\\"border-top: none\\\"></th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\" style=\\\"border-top: none\\\"></th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\" style=\\\"border-top: none\\\"></th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\" style=\\\"border-top: none\\\"></th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\" style=\\\"border-top: none\\\"></th>\\r\\n                <th scope=\\\"col\\\" class=\\\"text-center\\\" style=\\\"border-top: none\\\"></th>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n            <ng-template #tbody let-tbody>\\r\\n              <tr>\\r\\n                <td style=\\\"border-top: none\\\"><h6>Total Estoque (tons)</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>=</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>{{ listaInfo.qtPesoEstoque | number: '1.3-3' }}</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6></h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>Total geral da contagem</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>=</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>{{ listaInfo.saldoEstoqueLancamento | number: '1.3-3' }}</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6></h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>Total inventário rotativo</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>=</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6></h6></td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td style=\\\"border-top: none\\\"><h6>Total qtd. peças</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>=</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>{{ listaInfo.qtPecaLancamento }}</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6></h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>Total notas fiscais</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>=</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>{{ listaInfo.qtTotalNf | number: '1.3-3' }}</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6></h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>Total valor unitário</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>=</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>{{ listaInfo.precoMinimo | currency:'BRL' }}</h6></td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td style=\\\"border-top: none\\\"><h6>Total peso físico (tons)</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>=</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>{{ listaInfo.qtPesoLancamento | number: '1.3-3' }}</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6></h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>Total saldo inventário</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>=</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>{{ listaInfo.saldoEstoque | number: '1.3-3' }}</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6></h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>Total resultado inventário</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>=</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6></h6></td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td style=\\\"border-top: none\\\"></td>\\r\\n                <td style=\\\"border-top: none\\\"></td>\\r\\n                <td style=\\\"border-top: none\\\"></td>\\r\\n                <td style=\\\"border-top: none\\\"></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>Total notas fiscais R.O.</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>=</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6></h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6></h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>Total resultado monetário</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>=</h6></td>\\r\\n                <td style=\\\"border-top: none\\\"><h6>{{ listaInfo.saldoFinanceiro | currency:'BRL' }}</h6></td>\\r\\n              </tr>  \\r\\n            </ng-template>\\r\\n          </custom-table>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"row\\\">\\r\\n    <div [ngClass]=\\\"{'col': !showDetailPanel, 'col-8 pr-0': showDetailPanel}\\\">\\r\\n      <custom-table [config]=\\\"tableConfig\\\" [hidden]=\\\"noResult || spinnerFullScreen\\\">\\r\\n        <ng-template #thead let-thead>\\r\\n          <tr>\\r\\n            <th scope=\\\"col\\\" style=\\\"width: 150px;\\\" class=\\\"text-center\\\" [hidden]=\\\"showDetailPanel\\\">Classe</th>\\r\\n            <th scope=\\\"col\\\" style=\\\"width: 150px;\\\" class=\\\"text-center\\\">Cod. material</th>\\r\\n            <th scope=\\\"col\\\" style=\\\"width: 350px;\\\" class=\\\"text-center\\\">Material</th>\\r\\n            <th scope=\\\"col\\\" style=\\\"width: 150px;\\\" class=\\\"text-center\\\">Estoque (tons)</th>\\r\\n            <th scope=\\\"col\\\" style=\\\"width: 150px;\\\" class=\\\"text-center\\\" [hidden]=\\\"showDetailPanel\\\">Qtd. peças</th>\\r\\n            <th scope=\\\"col\\\" style=\\\"width: 150px;\\\" class=\\\"text-center\\\">Peso físico (tons)</th>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n        <ng-template #tbody let-tbody>\\r\\n          <tr class=\\\"hover\\\" *ngFor=\\\"let lista of listas | slice : begin : end; let i = index\\\" (click)='onDetailPanel(i)'>\\r\\n            <td class=\\\"text-center\\\" [hidden]=\\\"showDetailPanel\\\"> {{ lista?.dsClasse | uppercase }}</td>\\r\\n            <td class=\\\"text-center\\\">{{ lista.cdMaterial }}</td>\\r\\n            <td class=\\\"text-center\\\" style=\\\"width: 350px;\\\">{{ lista.dsMaterial | uppercase }}</td>\\r\\n            <td class=\\\"text-center\\\" [hidden]=\\\"showDetailPanel\\\">{{ lista.qtPesoEstoque | number: '1.3-3'}}</td>\\r\\n            <td class=\\\"text-center\\\">\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <input \\r\\n                  class=\\\"form-control form-control-sm\\\" \\r\\n                  type=\\\"text\\\" \\r\\n                  [(ngModel)]=\\\"lista.qtPecaContagem\\\"\\r\\n                  [disabled]=\\\"info\\\">\\r\\n              </div>\\r\\n            </td>\\r\\n            <td class=\\\"align-middle\\\">\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <input \\r\\n                  class=\\\"form-control form-control-sm\\\" \\r\\n                  type=\\\"text\\\"\\r\\n                  [(ngModel)]=\\\"lista.qtPesoContagem\\\"\\r\\n                  [disabled]=\\\"info\\\"\\r\\n                  currencyMask [options]=\\\"{ align: 'left', prefix: '', thousands: '.', decimal: ',', precision: 3 }\\\">\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n      </custom-table>\\r\\n      <div class=\\\"row\\\" [hidden]=\\\"noResult || spinnerFullScreen\\\">\\r\\n        <div class=\\\"mt-3 col\\\">\\r\\n            Exibindo {{ itemsPerPage*(currentPage - 1) + 1 }} a {{ currentPage*(itemsPerPage) > totalItems ? totalItems : currentPage*(itemsPerPage) }} de {{ totalItems }}\\r\\n          <pagination\\r\\n            [maxSize]=\\\"10\\\"\\r\\n            [totalItems]=\\\"totalItems\\\"\\r\\n            (pageChanged)=\\\"onPageChanged($event)\\\"\\r\\n            [(itemsPerPage)]=\\\"itemsPerPage\\\"\\r\\n            [boundaryLinks]=\\\"true\\\"\\r\\n            [(ngModel)]=\\\"currentPage\\\"\\r\\n            previousText=\\\"&lsaquo;\\\"\\r\\n            nextText=\\\"&rsaquo;\\\"\\r\\n            firstText=\\\"&laquo;\\\"\\r\\n            lastText=\\\"&raquo;\\\">\\r\\n          </pagination>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-4\\\" [hidden]=\\\"!showDetailPanel\\\">\\r\\n      <detail-panel [panelTitle]=\\\"appTitleInventario\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-6\\\">\\r\\n              <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col-md-12\\\">\\r\\n                  <label>Classe</label>\\r\\n                  <div class=\\\"text-nowrap\\\">{{ totalInventario.dsClasse | uppercase }}</div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col-md-12\\\">\\r\\n                  <label>Endereço</label>\\r\\n                  <div class=\\\"text-nowrap\\\">{{ totalInventario.enderecoPatio | uppercase }}</div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col-md-12\\\">\\r\\n                  <label>Estoque (tons)</label>\\r\\n                  <div class=\\\"text-nowrap\\\">{{ totalInventario.qtPesoEstoque | number: '1.3-3'}}</div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col-md-12\\\">\\r\\n                  <label>Peso por peça (Kg)</label>\\r\\n                  <div class=\\\"text-nowrap\\\">{{ totalInventario.pesoPeca | number: '1.3-3' }}</div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col-md-12\\\">\\r\\n                  <label>Total da contagem</label>\\r\\n                  <div class=\\\"text-nowrap\\\">{{ totalInventario.totalContagem | number: '1.3-3' }}</div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col-md-12\\\">\\r\\n                  <label>Notas fiscais</label>\\r\\n                  <div class=\\\"text-nowrap\\\">{{ totalInventario.qtMaterialNotaFiscal | number: '1.3-3' }}</div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-6\\\">\\r\\n              <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col-md-12\\\">\\r\\n                  <label>Saldo inventário</label>\\r\\n                  <div class=\\\"text-nowrap\\\">{{ totalInventario.saldoInventario | number: '1.3-3' }}</div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col-md-12\\\">\\r\\n                  <label>Soma inventário rotativo</label>\\r\\n                  <div class=\\\"text-nowrap\\\">{{ totalInventario.somaInventarioRotativo }}</div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col-md-12\\\">\\r\\n                  <label>Valor unitário</label>\\r\\n                  <div class=\\\"text-nowrap\\\">{{ totalInventario.precoMinimo | currency:'BRL' }}</div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col-md-12\\\">\\r\\n                  <label>Resultado inventário</label>\\r\\n                  <div class=\\\"text-nowrap\\\">{{ totalInventario.resultadoInventario | number: '1.3-3' }}</div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col-md-12\\\">\\r\\n                  <label>Resultado monetário</label>\\r\\n                  <div class=\\\"text-nowrap\\\">{{ totalInventario.resultadoMonetario | currency:'BRL' }}</div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n      </detail-panel>\\r\\n    </div>\\r\\n    <div class=\\\"d-flex align-items-center justify-content-center\\\" style=\\\"width: 100%; height: 70%;\\\" [hidden]=\\\"!noResult\\\">\\r\\n      <empty-result message=\\\"Não há materiais cadastrados para este inventário\\\"></empty-result>\\r\\n    </div>\\r\\n  </div>\\r\\n  <ng-template #template>\\r\\n    <div class=\\\"modal-header\\\">\\r\\n      <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n      </button>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n      <textarea name=\\\"\\\" id=\\\"\\\" cols=\\\"63\\\" rows=\\\"10\\\" #justificativa></textarea>\\r\\n      <button  \\r\\n        type=\\\"button\\\" \\r\\n        class=\\\"btn btn-primary justify-content-end \\\" \\r\\n        style=\\\"margin-left: 51vh\\\"\\r\\n        (click)=\\\"atualizarInventario(justificativa.value, 3); modalRef.hide()\\\"> Finalizar </button>\\r\\n    </div>\\r\\n  </ng-template>\\r\\n</app-body>\\r\\n\\r\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbG9naXN0aWNhL2VzdG9xdWUvcGFpbmVsLWludmVudGFyaW8vcGFpbmVsLWludmVudGFyaW8uY29tcG9uZW50LnNjc3MifQ== */\";","export default \"\\r\\n\";","export default \"<loader-spinner-full-screen [hidden]=\\\"!spinnerFullScreen\\\"></loader-spinner-full-screen>\\r\\n<loader-spinner-navbar [hidden]=\\\"!loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<app-header [appTitle]=\\\"appTitle\\\">\\r\\n  <button \\r\\n    (click)=\\\"fecharSalvar(idInventario)\\\"\\r\\n  >\\r\\n    Fechar e Salvar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\">\\r\\n  <advanced-filter #scrollToFilter>\\r\\n    <form autocomplete=\\\"off\\\" [formGroup]=\\\"form\\\">\\r\\n      <div class=\\\"form-row justify-content-left\\\">\\r\\n        <div class=\\\"form-group col-md-2 justify-content-end\\\">\\r\\n          <label for=\\\"cdInventario\\\"> Número Nota Fiscal </label>\\r\\n          <input \\r\\n            id=\\\"cdNotaFiscal\\\"\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            placeholder=\\\"DIGITE...\\\"\\r\\n            formControlName=\\\"cdNotaFiscal\\\"\\r\\n            (keyup.enter)=\\\"getListaExistente()\\\"\\r\\n          >\\r\\n        </div>\\r\\n      </div>  \\r\\n    </form>\\r\\n  </advanced-filter>\\r\\n  <div class=\\\"row\\\">\\r\\n    <div [ngClass]=\\\"{'col': !showDetailPanel, 'col-4 pr-0': showDetailPanel}\\\">\\r\\n      <custom-table [config]=\\\"tableFilterConfig\\\">\\r\\n        <ng-template #thead let-thead>\\r\\n          <tr>\\r\\n            <th style=\\\"width: 50px\\\"></th>\\r\\n            <th>Nota Fiscal</th>\\r\\n            <th>Data de Emissão</th>\\r\\n            <th style=\\\"width: 50px\\\"></th>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n        <ng-template #tbody let-tbody>\\r\\n          <tr class=\\\"hover\\\" *ngFor=\\\"let notaFiscal of notasFiscais | slice : begin : end; let i = index\\\" [ngClass]=\\\"{'bg-active': notaFiscalSelecionada == notaFiscal.notaFiscal}\\\">\\r\\n            <td \\r\\n            style=\\\"width: 50px\\\"\\r\\n            [ngClass]=\\\"{ 'border-success': notaFiscal.situacao == 'Emitida',\\r\\n            'border-warning': notaFiscal.situacao != 'Emitida'}\\\" >\\r\\n              <div class=\\\"custom-control custom-checkbox\\\" style=\\\"cursor: pointer;\\\">\\r\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" \\r\\n                        [(ngModel)]=\\\"notaFiscal.check\\\" \\r\\n                        (change)=\\\"verificaCheck(notaFiscal)\\\" \\r\\n                        id=\\\"customCheck{{ i }}\\\" \\r\\n                        style=\\\"cursor: pointer;\\\">\\r\\n                  <label class=\\\"custom-control-label\\\" for=\\\"customCheck{{ i }}\\\" style=\\\"cursor: pointer;\\\"></label>\\r\\n              </div>\\r\\n            </td>\\r\\n            <td (click)=\\\"getMateriaisNotasFiscais(notaFiscal.notaFiscal)\\\">{{ notaFiscal.notaFiscal }}</td>\\r\\n            <td (click)=\\\"getMateriaisNotasFiscais(notaFiscal.notaFiscal)\\\">{{ notaFiscal.dtEmissao | date: 'dd/MM/yyyy HH:mm' }}</td>\\r\\n            <td style=\\\"width: 50px; cursor: pointer;\\\" (click)=\\\"getMateriaisNotasFiscais(notaFiscal.notaFiscal)\\\"><i class=\\\"far fa-file-alt\\\"></i></td>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n      </custom-table><div class=\\\"mt-3 col-6\\\"></div>\\r\\n      <div *ngIf=\\\"qtNotasFiscais >= itemsPerPage\\\">\\r\\n        Exibindo {{ itemsPerPage*(currentPage - 1) + 1 }} a {{ currentPage*(itemsPerPage) > qtNotasFiscais ? qtNotasFiscais : currentPage*(itemsPerPage) }} de {{ qtNotasFiscais }}\\r\\n        <pagination\\r\\n          [maxSize]=\\\"10\\\"\\r\\n          [totalItems]=\\\"qtNotasFiscais\\\"\\r\\n          [(itemsPerPage)]=\\\"itemsPerPage\\\"\\r\\n          (pageChanged)=\\\"onPageChanged($event)\\\"\\r\\n          [boundaryLinks]=\\\"true\\\"\\r\\n          [(ngModel)]=\\\"currentPage\\\"\\r\\n          previousText=\\\"&lsaquo;\\\"\\r\\n          nextText=\\\"&rsaquo;\\\"\\r\\n          firstText=\\\"&laquo;\\\"\\r\\n          lastText=\\\"&raquo;\\\">\\r\\n        </pagination>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-8\\\" [hidden]=\\\"!showDetailPanel\\\">\\r\\n      <detail-panel [panelTitle]=\\\"appTitleNotasFiscais\\\">\\r\\n        <custom-table [config]=\\\"tableNotasFiscaisMateriaisConfig\\\"> <!-- [heading]=\\\"notaFiscalSelecionada\\\" -->\\r\\n          <ng-template #thead let-thead>\\r\\n            <tr>\\r\\n              <th>Código</th>\\r\\n              <th style=\\\"width: 50%\\\">Descrição</th>\\r\\n              <th>Peso Liq.</th>\\r\\n              <th>Valor</th>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n          <ng-template #tbody let-tbody>\\r\\n            <tr *ngFor=\\\"let materialNotaFiscal of materiaisNotaFiscal; let i = index\\\">\\r\\n              <td>{{ materialNotaFiscal.cdMaterial }}</td>\\r\\n              <td style=\\\"width: 50%\\\">{{ materialNotaFiscal.dsMaterial  }}</td>\\r\\n              <td>{{ materialNotaFiscal.pesoLiquido | number : '1.3-3' }}</td>\\r\\n              <td>{{ materialNotaFiscal.vlTotal  | currency:'BRL':'symbol':'1.2-2'}}</td>\\r\\n            </tr> \\r\\n          </ng-template>\\r\\n        </custom-table>\\r\\n      </detail-panel>\\r\\n    </div>\\r\\n  </div>\\r\\n</app-body>\\r\\n\\r\\n<!-- <div bsModal #childModal=\\\"bs-modal\\\" class=\\\"modal fade\\\" [config]=\\\"{backdrop: 'static', keyboard: false}\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"dialog-child-name\\\">\\r\\n  <div class=\\\"modal-dialog modal-sm\\\">\\r\\n    <div class=\\\"modal-content\\\" style=\\\"position: absolute; left: -100%; width: 58rem;\\\">\\r\\n      <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"d-flex position-relative\\\">\\r\\n          <div class=\\\"form-group justify-content-end mr-2 mb-0\\\">\\r\\n            <label for=\\\"cdNotaFiscal\\\"> Número Nota Fiscal </label>\\r\\n            <input \\r\\n              id=\\\"cdNotaFiscal\\\"\\r\\n              type=\\\"text\\\"\\r\\n              class=\\\"form-control\\\"\\r\\n              placeholder=\\\"DIGITE...\\\"\\r\\n              [(ngModel)]=\\\"cdNotaFiscal\\\"\\r\\n              (keyup.enter)=\\\"getListaExistente()\\\"\\r\\n            >\\r\\n          </div>\\r\\n          <div class=\\\"spinner-border text-primary position-absolut positionSpinner\\\" role=\\\"status\\\" [hidden]=\\\"!loading\\\">\\r\\n            <span class=\\\"sr-only\\\">Loading...</span>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"actions justify-content-end d-flex\\\">\\r\\n          <button type=\\\"button\\\" class=\\\"btn btn-light\\\" (click)=\\\"hideChildModal()\\\">\\r\\n            Fechar\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div> -->\\r\\n\";","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LogisticaEstoquePainelInventarioInventarioMateriaisOcorrenciasService {\r\n  private readonly BASE_URL: string = `https://crm360.monterrey.com.bo/api`;\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getInventario(cdInventario) {\r\n    return this.http.get(`${this.BASE_URL}/logistica/estoque/inventarios`, {\r\n      params: {cdInventario: cdInventario\r\n      },\r\n      observe: 'response'\r\n    });\r\n  }\r\n\r\n  getOcorrencias(idInventario, params) {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventarios/${idInventario}/ocorrencias`,\r\n      {\r\n        params: params,\r\n        observe: 'response',\r\n      }\r\n    );\r\n  }\r\n\r\n  getMateriaisNotasFiscais(idInventario, ocorrencia) {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventarios/${idInventario}/ocorrencias/${ocorrencia}`,\r\n      {\r\n        observe: 'response',\r\n      }\r\n    );\r\n  }\r\n\r\n  salvarNotasFiscais(idInventario, ocorrencias, matriculaAuditor) {\r\n    return this.http.put(\r\n      `${this.BASE_URL}/logistica/estoque/inventarios/${idInventario}/ocorrencias`,\r\n      {\r\n        notasFiscais: ocorrencias,\r\n        matriculaAuditor: matriculaAuditor,\r\n      },\r\n      { observe: 'response' }\r\n    );\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbG9naXN0aWNhL2VzdG9xdWUvcGFpbmVsLWludmVudGFyaW8vY2FkYXN0cm8vY2FkYXN0cm8uY29tcG9uZW50LnNjc3MifQ== */\";","import {\r\n  BsModalService,\r\n  BsModalRef,\r\n  ModalDirective,\r\n} from 'ngx-bootstrap/modal';\r\nimport { XlsxService } from 'src/app/shared/modules/xlsx/xlsx.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Component, OnInit, ViewChild, OnDestroy } from '@angular/core';\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { DetailPanelService } from 'src/app/shared/templates/detail-panel/detal-panel.service';\r\nimport { PageChangedEvent } from 'ngx-bootstrap/pagination';\r\nimport { LogisticaEstoquePainelInventarioInventarioListaService } from './lista.service';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { finalize, retry } from 'rxjs/operators';\r\nimport { forkJoin, Subscription } from 'rxjs';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\n\r\nimport { LogisticaEstoquePainelInventarioTotalInventario } from './../../models/totalInventario';\r\n\r\n@Component({\r\n  selector: 'logistica-estoque-inventario-lista',\r\n  templateUrl: './lista.component.html',\r\n  styleUrls: ['./lista.component.scss'],\r\n  providers: [DetailPanelService],\r\n})\r\nexport class LogisticaEstoquePainelInventarioInventarioListaComponent\r\n  implements OnInit, OnDestroy {\r\n  @ViewChild('childModal', { static: false }) childModal: ModalDirective;\r\n  @ViewChild('childModalRo', { static: false }) childModalRo: ModalDirective;\r\n\r\n  idInventario: number = this.activatedRoute.snapshot.params['id'];\r\n  currentUser: any = JSON.parse(localStorage.getItem('currentUser'));\r\n  matriculaAuditor: any = this.currentUser['info']['matricula'];\r\n\r\n  form: FormGroup;\r\n  showAdvancedFilter = true;\r\n  dateRef: Date;\r\n  dataNow: any;\r\n  cdNotaFiscal = '';\r\n  cdNotaFiscalRo = '';\r\n  tipoInventario = '';\r\n  status: any;\r\n  adminProfile = true;\r\n\r\n  perfilLoaded: boolean;\r\n  loaderNavbar = true;\r\n  spinnerFullScreen = true;\r\n  loading = false;\r\n  noResult = false;\r\n  compressedTable = false;\r\n  considerarMaterialSemEstoque = 1;\r\n  perfilTipo = '';\r\n\r\n  listaColunas: any;\r\n  listas = [];\r\n  listaInfo: any = {};\r\n  disabledBotoes = {\r\n    finalizar: false,\r\n    editar: false,\r\n    aprovar: false,\r\n    reabrir: false,\r\n  };\r\n  habilita = false;\r\n  info = false;\r\n  ativAprovar = false;\r\n  ativFinaliza = false;\r\n  ativReabrir = false;\r\n  ativCancelar = false;\r\n  ativEditar = false;\r\n  ativSalvar = false;\r\n  ativNotaFiscal = false;\r\n  ativExport = false;\r\n  inativBotoes = false;\r\n  desabilitarBotoes = true;\r\n  notaFiscalSelecionada: number;\r\n  notaFiscalSelecionadaRo: number;\r\n\r\n  appTitle = 'Contagem de Materiais';\r\n  appTitleInventario = 'Detalhes do Inventário';\r\n  appTitleNotasFiscais = 'Lista de Materiais da Nota';\r\n\r\n  modalRef: BsModalRef;\r\n  config = {\r\n    animated: true,\r\n  };\r\n\r\n  parametros = {};\r\n  breadCrumbTree: Array<Breadcrumb> = [\r\n    {\r\n      descricao: 'Lista',\r\n      routerLink: '/logistica/estoque/painel-inventario/lista',\r\n    },\r\n    {\r\n      descricao: this.appTitle,\r\n    },\r\n  ];\r\n\r\n  /* Config Table */\r\n  tableConfig: Partial<CustomTableConfig> = {};\r\n\r\n  tableFilterConfig: Partial<CustomTableConfig> = {\r\n    border: false,\r\n  };\r\n\r\n  tableNotasFiscaisConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: true,\r\n  };\r\n\r\n  tableNotasFiscaisMateriaisConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: true,\r\n  };\r\n\r\n  /* Painel de detalhes */\r\n  $showDetailPanelSubscription: Subscription;\r\n  showDetailPanel = false;\r\n\r\n  /* Paginação */\r\n  itemsPerPage: number = 10;\r\n  totalItems: number;\r\n  currentPage: number = 1;\r\n  begin: number = 0;\r\n  end: number = 10;\r\n  beginP: number = 0;\r\n  endP: number = 10;\r\n  /* Paginação */\r\n\r\n  /* Seleção de Colunas */\r\n  itens: FormGroup;\r\n  selectedPeople = [];\r\n  listaMateriaisFiltro: any = [];\r\n  notasFiscaisRo: any;\r\n  tempNotasFiscaisRo: any;\r\n  materiaisNotaFiscalRo: any = [];\r\n  qtNotasFiscaisRo: any;\r\n\r\n  totalInventario = new LogisticaEstoquePainelInventarioTotalInventario();\r\n\r\n  constructor(\r\n    private xlsxService: XlsxService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private notice: PNotifyService,\r\n    private listaInventarioService: LogisticaEstoquePainelInventarioInventarioListaService,\r\n    private dateSevice: DateService,\r\n    private route: Router,\r\n    private modalService: BsModalService,\r\n    private formBuilder: FormBuilder,\r\n    private atividadesService: AtividadesService,\r\n    private detailPanelService: DetailPanelService\r\n  ) {\r\n    this.form = this.formBuilder.group({\r\n      cdMaterial: [null, Validators.required],\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getListaMateriaisParaFiltro();\r\n    this.getInfoInventario();\r\n    this.onLoadAplication();\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n    this.getPerfil();\r\n    this.onSubscription();\r\n  }\r\n\r\n  onLoadAplication() {\r\n    this.adminProfile = true;\r\n    this.loaderNavbar = true;\r\n    let params = {};\r\n\r\n    if (!this.adminProfile) {\r\n      setTimeout(() => {\r\n        this.perfilLoaded = true;\r\n        this.loaderNavbar = false;\r\n      }, 500);\r\n    } else if (this.adminProfile) {\r\n      setTimeout(() => {\r\n        this.perfilLoaded = false;\r\n        this.loaderNavbar = false;\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  onAdvancedFilter() {\r\n    this.showAdvancedFilter = !this.showAdvancedFilter;\r\n  }\r\n\r\n  onToggleListaMateriais() {\r\n    this.considerarMaterialSemEstoque =\r\n      this.considerarMaterialSemEstoque == 1 ? 0 : 1;\r\n    this.getLista('', this.considerarMaterialSemEstoque);\r\n  }\r\n\r\n  getLista(cdMaterial = '', considerarMaterialSemEstoque = 1) {\r\n    if (this.activatedRoute.snapshot.params['id'] > 0) {\r\n      this.idInventario = this.activatedRoute.snapshot.params['id'];\r\n      this.spinnerFullScreen = true;\r\n\r\n      this.listas = [];\r\n      this.totalItems = 0;\r\n      //Carrega a lista de materiais em inventário\r\n      this.listaInventarioService\r\n        .getLista(\r\n          this.idInventario,\r\n          this.matriculaAuditor,\r\n          cdMaterial,\r\n          considerarMaterialSemEstoque\r\n        )\r\n        .pipe(\r\n          finalize(() => {\r\n            this.spinnerFullScreen = false;\r\n            this.loaderNavbar = false;\r\n            this.getTotal();\r\n          })\r\n        )\r\n        .subscribe(\r\n          (response: any) => {\r\n            if (response.data == null) {\r\n              this.notice.notice('Não há materiais cadastrados para esse inventário.');\r\n            } else {\r\n              this.listas = response.data['materiais'];\r\n              this.totalItems = response.data['qtRegistros'];\r\n              this.noResult = false;\r\n              this.listas.forEach((element) => {\r\n                element.totalContagem =\r\n                  element.qtPecaContagem * element.pesoPeca +\r\n                  parseFloat(element.qtPesoContagem);\r\n                this.getInfoInventarioRotativo(element.cdMaterial).subscribe(\r\n                  (response: any) => {\r\n                    if (response.status == 204) {\r\n                      element.somaInventarioRotativo = 0;\r\n                    } else\r\n                      element.somaInventarioRotativo = parseFloat(\r\n                        response.body.saldoEstoque\r\n                      );\r\n                    element.resultadoInventario =\r\n                      parseFloat(element.saldoEstoque) +\r\n                      element.somaInventarioRotativo;\r\n                  }\r\n                );\r\n              });\r\n            }\r\n          },\r\n          (error) => {\r\n            this.notice.notice(\r\n              'Não há materiais cadastrados para esse inventário.'\r\n            );\r\n            this.noResult = true;\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  getListaMateriaisParaFiltro() {\r\n    if (this.activatedRoute.snapshot.params['id'] > 0) {\r\n      this.idInventario = this.activatedRoute.snapshot.params['id'];\r\n\r\n      //Carrega a lista de materiais para o filtro\r\n      this.listaInventarioService\r\n        .getListaMateriaisParaFiltro(this.idInventario, this.matriculaAuditor)\r\n        .pipe(finalize(() => (this.loaderNavbar = false)))\r\n        .subscribe((response: any) => {\r\n          if (response['status'] === 200)\r\n            this.listaMateriaisFiltro = response['body']['materiais'];\r\n        });\r\n    }\r\n  }\r\n\r\n  postSalvar() {\r\n    let materiais = [];\r\n    let requisicao = {};\r\n    this.loaderNavbar = true;\r\n\r\n    this.listas.forEach((element) => {\r\n      if (element.qtPecaContagem != null || element.qtPesoContagem != null) {\r\n        materiais.push({\r\n          idInventarioMaterial: element.idInventarioMaterial,\r\n          qtPeca: element.qtPecaContagem ? element.qtPecaContagem : null,\r\n          qtPeso: element.qtPesoContagem ? element.qtPesoContagem : null,\r\n          cdMaterial: element.cdMaterial ? element.cdMaterial : null,\r\n        });\r\n      } /* else {\r\n        this.getLista();\r\n      } */\r\n    });\r\n\r\n    if (materiais.length > 0) {\r\n      requisicao = {\r\n        matriculaAuditor: this.matriculaAuditor,\r\n        materiais,\r\n      };\r\n      this.listaInventarioService\r\n        .postSalvar(requisicao, this.idInventario)\r\n        .pipe(finalize(() => (this.loaderNavbar = false)))\r\n        .subscribe(\r\n          (response: any) => {\r\n            if (response['body']['erros'].length === 0) {\r\n              this.notice.success('Registros atualizados com sucesso!');\r\n            } else {\r\n              this.notice.error('Alguns registros não puderam ser atualizados');\r\n            }\r\n            this.getLista();\r\n          },\r\n          (error: any) => {\r\n            this.notice.error('Erro ao salvar registros');\r\n          }\r\n        );\r\n    } else {\r\n      this.notice.notice('Inventário não teve alterações para ser salvo');\r\n      /* this.getLista(); */\r\n    }\r\n  }\r\n\r\n  finalizar(template) {\r\n    if (this.dateDiff(this.dateRef, new Date()) >= 7)\r\n      this.modalRef = this.modalService.show(template);\r\n    else {\r\n      let finaliza = confirm('Tem certeza que deseja finalizar o inventário?');\r\n\r\n      if (finaliza) this.atualizarInventario('', 2);\r\n    }\r\n  }\r\n\r\n  cancelar(template, valor) {\r\n    let cancela = confirm('Tem certeza que deseja cancelar o inventário?');\r\n    if (valor == 1)\r\n      if (cancela) this.modalRef = this.modalService.show(template);\r\n  }\r\n\r\n  dateDiff(date1, date2) {\r\n    const diffTime = Math.abs(date2.getTime() - date1.getTime());\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n    return diffDays;\r\n  }\r\n\r\n  atualizarInventario(justificativa, statusInventario) {\r\n    this.loaderNavbar = true;\r\n    let finalizacao = {};\r\n\r\n    finalizacao = {\r\n      idStatusInventario: statusInventario,\r\n      matriculaAuditor: this.matriculaAuditor,\r\n      idInventario: this.idInventario,\r\n      observacao: justificativa,\r\n    };\r\n    this.listaInventarioService\r\n      .atualizarInventario(\r\n        justificativa,\r\n        statusInventario,\r\n        this.idInventario,\r\n        this.matriculaAuditor\r\n      )\r\n      .pipe(\r\n        finalize(\r\n          () => (\r\n            (this.loaderNavbar = false),\r\n            this.getLista(),\r\n            this.getInfoInventario()\r\n          )\r\n        )\r\n      )\r\n      .subscribe(\r\n        (response: any) => {\r\n          if (response['status'] === 200)\r\n            this.notice.success(response['body']['message']);\r\n        },\r\n        (error) => {\r\n          this.notice.error(error.error.dsErro);\r\n        }\r\n      );\r\n  }\r\n\r\n  getInfoInventarioRotativo(cdMaterial) {\r\n    return this.listaInventarioService.getInfoInventarioRotativo(\r\n      this.idInventario,\r\n      cdMaterial\r\n    );\r\n  }\r\n\r\n  /* TRATA HORA ATUAL */\r\n  RetornaDataHoraAtual() {\r\n    var dNow = new Date();\r\n    var localdate =\r\n      dNow.getDate() +\r\n      '/' +\r\n      (dNow.getMonth() + 1) +\r\n      '/' +\r\n      dNow.getFullYear() +\r\n      ' ' +\r\n      dNow.getHours() +\r\n      ':' +\r\n      dNow.getMinutes();\r\n    return (this.dataNow = localdate);\r\n  }\r\n\r\n  /* TRATA CAMPOS DE INPUT - DESABILITA EXIGINDO O CLICK NO BOTÃO EDITAR */\r\n  getInfoInventario() {\r\n    this.listaInventarioService\r\n      .getInfoInventario(this.idInventario)\r\n      .subscribe((response: any) => {\r\n        this.dateRef = new Date(response.dtInclusao);\r\n        this.status = response.siglaStatusInventario;\r\n        this.tipoInventario = response.dsTipoInventario;\r\n        if (\r\n          response.siglaStatusInventario == 'LOGI_INVE_STAT_ABER' ||\r\n          response.siglaStatusInventario == 'LOGI_INVE_STAT_FINA' ||\r\n          response.siglaStatusInventario == 'LOGI_INVE_STAT_CANC' ||\r\n          response.siglaStatusInventario == 'LOGI_INVE_STAT_CANC_SIST' ||\r\n          response.siglaStatusInventario == 'LOGI_INVE_STAT_APRO'\r\n        ) {\r\n          this.info = true;\r\n        } else {\r\n          this.info;\r\n        }\r\n\r\n        if (response.siglaStatusInventario == 'LOGI_INVE_STAT_CANC_SIST') {\r\n          this.noResult = true;\r\n        }\r\n\r\n        this.controlaAcessoBotoes();\r\n      });\r\n  }\r\n\r\n  /* HABILITA CAMPOS PARA EDITAR */\r\n  habilitaCampos() {\r\n    if (this.listas !== null) {\r\n      this.info = false;\r\n      this.habilita = true;\r\n    }\r\n  }\r\n\r\n  exportarExcel() {\r\n    this.xlsxService.exportFile(this.listas, 'inventario');\r\n  }\r\n\r\n  /* Paginação */\r\n  onPageChanged(event: PageChangedEvent): void {\r\n    this.begin = (event.page - 1) * event.itemsPerPage;\r\n    this.end = event.page * event.itemsPerPage;\r\n  }\r\n  /* Paginação */\r\n\r\n  /* Pesquisa a lista de materiais para popular o filtro */\r\n  onSearch() {\r\n    this.loaderNavbar = true;\r\n    if (this.form.get('cdMaterial').status == 'VALID')\r\n      this.getLista(this.form.get('cdMaterial').value, 0);\r\n    else this.getLista();\r\n  }\r\n  /* */\r\n\r\n  getMateriaisNotasFiscaisRo(notaFiscal) {\r\n    this.loading = true;\r\n    this.materiaisNotaFiscalRo = [];\r\n    this.listaInventarioService\r\n      .getMateriaisNotasFiscaisRo(this.idInventario, notaFiscal)\r\n      .pipe(finalize(() => (this.loading = false)))\r\n      .subscribe((data) => {\r\n        if (data['status'] === 200) {\r\n          this.materiaisNotaFiscalRo = data['body'];\r\n          this.compressedTable = true;\r\n          this.notaFiscalSelecionadaRo = notaFiscal;\r\n        }\r\n      });\r\n  }\r\n\r\n  openNotaFiscal(idInventario) {\r\n    this.route.navigate([`../../${idInventario}/notas-fiscais`], {\r\n      relativeTo: this.activatedRoute,\r\n    });\r\n  }\r\n\r\n  openOcorrencias(idInventario) {\r\n    this.route.navigate([`../../${idInventario}/ocorrencias`], {\r\n      relativeTo: this.activatedRoute,\r\n    });\r\n  }\r\n\r\n  /* Função para abertura de modal de Notas Fiscais relacionadas a R.O's */\r\n  /* openModalRo() {\r\n    this.getListaExistenteRo();\r\n    this.childModalRo.show();\r\n  } */\r\n\r\n  /*   getListaCarregadaMaisNotaFiscalRo() {\r\n    let containsNotaFiscal = false;\r\n    let isNotUndefined = typeof this.tempNotasFiscais !== 'undefined';\r\n\r\n    if (isNotUndefined) {\r\n      containsNotaFiscal = this.tempNotasFiscais.find(\r\n        (element) => element.notaFiscal === this.cdNotaFiscalRo\r\n      );\r\n    }\r\n\r\n    return isNotUndefined && containsNotaFiscal;\r\n  } */\r\n\r\n  /*   getListaExistenteRo() {\r\n    if (this.getListaCarregadaMaisNotaFiscalRo()) {\r\n      const val = this.cdNotaFiscalRo;\r\n\r\n      if (!val) {\r\n        this.notasFiscaisRo = this.tempNotasFiscais;\r\n      }\r\n\r\n      const temp = this.tempNotasFiscais.filter((row) => {\r\n        return Object.keys(row).some((property) => {\r\n          return row[property] === null\r\n            ? null\r\n            : row[property].toString().indexOf(val) !== -1;\r\n        });\r\n      });\r\n\r\n      this.notasFiscaisRo = temp;\r\n      this.loading = false;\r\n    } else this.getNotasFiscaisRo();\r\n  } */\r\n\r\n  /* Função consulta lista de notas fiscais, seja ela uma lista com 1 ou mais resultados */\r\n  getNotasFiscaisRo() {\r\n    this.loading = true;\r\n    this.listaInventarioService\r\n      .getNotasFiscaisRo(this.idInventario, this.cdNotaFiscalRo)\r\n      .pipe(finalize(() => (this.loading = false)))\r\n      .subscribe(\r\n        (data) => {\r\n          if (data['status'] === 200) {\r\n            this.notasFiscaisRo = data['body']['notasFiscais'];\r\n            this.tempNotasFiscaisRo = data['body']['notasFiscais'];\r\n            this.qtNotasFiscaisRo = data['body']['qtRegistros'];\r\n          } else this.notice.notice('Não houve retorno para sua consulta');\r\n        },\r\n        (error) => this.notice.error(error.message)\r\n      );\r\n  }\r\n\r\n  hideChildModal(): void {\r\n    this.childModal.hide();\r\n    this.postSalvar();\r\n  }\r\n\r\n  hideChildModalRo(): void {\r\n    this.childModalRo.hide();\r\n    this.postSalvar();\r\n  }\r\n\r\n  onClose() {\r\n    this.compressedTable = false;\r\n    this.notaFiscalSelecionada = 0;\r\n  }\r\n\r\n  onCloseRo() {\r\n    this.compressedTable = false;\r\n    this.notaFiscalSelecionadaRo = 0;\r\n  }\r\n\r\n  /* Paginação */\r\n  onPageChangedProduct(event: PageChangedEvent): void {\r\n    this.beginP = (event.page - 1) * event.itemsPerPage;\r\n    this.endP = event.page * event.itemsPerPage;\r\n  }\r\n  /* Paginação */\r\n\r\n  salvarNotasFiscaisRo() {\r\n    let checkAlterado = [];\r\n    this.notasFiscaisRo.forEach((element) => {\r\n      if (element.checkAlterado) {\r\n        checkAlterado.push(element);\r\n      }\r\n    });\r\n\r\n    let particao = 50;\r\n    let qtEnvios = Math.ceil(checkAlterado.length / particao);\r\n    let req: any = [];\r\n\r\n    this.loading = true;\r\n\r\n    for (let index = 0; index < qtEnvios; index++)\r\n      req.push(\r\n        this.listaInventarioService.salvarNotasFiscaisRo(\r\n          this.idInventario,\r\n          checkAlterado.slice(particao * index, particao * (index + 1)),\r\n          this.matriculaAuditor\r\n        )\r\n      );\r\n\r\n    forkJoin(req)\r\n      .pipe(\r\n        retry(2),\r\n        finalize(() => (this.loading = false))\r\n      )\r\n      .subscribe(\r\n        (data) => {\r\n          let contador = 0;\r\n\r\n          this.notice.success('Itens salvos com sucesso!');\r\n          data.forEach((element) => {\r\n            if (element['status'] == 200) {\r\n              contador++;\r\n            }\r\n          });\r\n          if (contador === data.length) {\r\n          }\r\n        },\r\n        (error) => {\r\n          this.notice.error('Ocorreu um erro ao salvar os itens');\r\n        }\r\n      );\r\n  }\r\n\r\n  getTotalContagem(material) {\r\n    return (\r\n      (material.pesoPeca / 1000) * material.qtPecaContagem +\r\n      material.qtPesoContagem\r\n    );\r\n  }\r\n\r\n  getSaldoInventario(material) {\r\n    if (!material.qtPecaContagem && !material.qtPesoContagem) {\r\n      return undefined;\r\n    }\r\n\r\n    const pesoFisico =\r\n      (material.pesoPeca / 1000) * material.qtPecaContagem +\r\n      material.qtPesoContagem;\r\n    const estoque = material.qtPesoEstoque;\r\n    const notasFiscais = parseFloat(material.qtMaterialNotaFiscal) ?? 0;\r\n    const saldo = pesoFisico - estoque + notasFiscais;\r\n    return saldo;\r\n  }\r\n\r\n  getResultadoInventario(material) {\r\n    if (!material.qtPecaContagem && !material.qtPesoContagem) {\r\n      return undefined;\r\n    }\r\n    return (\r\n      (material.pesoPeca / 1000) * material.qtPecaContagem +\r\n      material.qtPesoContagem -\r\n      material.qtPesoEstoque +\r\n      material.somaInventarioRotativo\r\n    );\r\n  }\r\n\r\n  getResultadoMonetario(material) {\r\n    if (!material.qtPecaContagem && !material.qtPesoContagem) {\r\n      return undefined;\r\n    }\r\n    return (\r\n      ((material.pesoPeca / 1000) * material.qtPecaContagem +\r\n        material.qtPesoContagem -\r\n        material.qtPesoEstoque +\r\n        material.somaInventarioRotativo) *\r\n      material.precoMinimo\r\n    );\r\n  }\r\n\r\n  getPerfil() {\r\n    this.listaInventarioService\r\n      .getPerfil(this.matriculaAuditor)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.spinnerFullScreen = false;\r\n          this.loaderNavbar = false;\r\n          this.getLista();\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response: any) => {\r\n          this.disabledBotoes = response['disabledBotoes'];\r\n          this.perfilTipo = response['perfilTipo'];\r\n          this.controlaAcessoBotoes();\r\n        },\r\n        (error) => {\r\n          this.notice.notice(\r\n            'Não há vinculo de perfil para realizar inventário nesse usuário.'\r\n          );\r\n          this.noResult = true;\r\n        }\r\n      );\r\n  }\r\n\r\n  getTotal() {\r\n    this.spinnerFullScreen = true;\r\n    this.listaInventarioService\r\n      .getTotal(this.idInventario)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.spinnerFullScreen = false;\r\n        })\r\n      )\r\n      .subscribe((response: any) => {\r\n        this.listaInfo = response.body['data']['0'];\r\n      });\r\n  }\r\n\r\n  controlaAcessoBotoes() {\r\n    if (\r\n      this.perfilTipo == 'assistente' &&\r\n      this.status == 'LOGI_INVE_STAT_ABER'\r\n    ) {\r\n      this.ativExport = true;\r\n      this.ativEditar = true;\r\n      this.ativNotaFiscal = true;\r\n      this.ativSalvar = true;\r\n    } else if (this.perfilTipo == 'lider') {\r\n      this.ativFinaliza = true;\r\n      this.ativCancelar = true;\r\n      this.ativEditar = true;\r\n      this.ativNotaFiscal = true;\r\n      this.ativSalvar = true;\r\n      if (this.status == 'LOGI_INVE_STAT_ABER') this.ativExport = true;\r\n    } else if (this.perfilTipo == 'coordenador') {\r\n      if (this.status == 'LOGI_INVE_STAT_ABER') {\r\n        this.ativFinaliza = true;\r\n        this.ativReabrir = false;\r\n        this.ativAprovar = false;\r\n        this.ativCancelar = true;\r\n        this.ativEditar = true;\r\n        this.ativNotaFiscal = true;\r\n        this.ativSalvar = true;\r\n        this.ativExport = true;\r\n      }\r\n      if (this.status == 'LOGI_INVE_STAT_FINA') {\r\n        this.ativFinaliza = false;\r\n        this.ativReabrir = true;\r\n        this.ativAprovar = true;\r\n        this.ativCancelar = true;\r\n        this.ativEditar = false;\r\n        this.ativNotaFiscal = false;\r\n        this.ativSalvar = false;\r\n        this.ativExport = true;\r\n      }\r\n      if (this.status == 'LOGI_INVE_STAT_APRO') {\r\n        this.ativFinaliza = false;\r\n        this.ativReabrir = false;\r\n        this.ativAprovar = false;\r\n        this.ativCancelar = false;\r\n        this.ativEditar = false;\r\n        this.ativNotaFiscal = false;\r\n        this.ativSalvar = false;\r\n        this.ativExport = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  onSubscription() {\r\n    this.$showDetailPanelSubscription = this.detailPanelService.config.subscribe(\r\n      (event: any) => {\r\n        this.showDetailPanel = event.showing;\r\n      }\r\n    );\r\n  }\r\n\r\n  onDetailPanel(i): void {\r\n    let index = this.currentPage * this.itemsPerPage - this.itemsPerPage + i;\r\n    let material = this.listas[index];\r\n    this.detailPanelService.show();\r\n    this.detailPanelService.loadedFinished(false);\r\n\r\n    this.totalInventario.saldoInventario =\r\n      this.getSaldoInventario(material) ?? 0;\r\n    this.totalInventario.totalContagem = this.getTotalContagem(material) ?? 0;\r\n    this.totalInventario.resultadoInventario =\r\n      this.getResultadoInventario(material) ?? 0;\r\n    this.totalInventario.resultadoMonetario =\r\n      this.getResultadoMonetario(material) ?? 0;\r\n\r\n    this.totalInventario.enderecoPatio = material.enderecoPatio;\r\n    this.totalInventario.qtPesoEstoque = material.qtPesoEstoque;\r\n    this.totalInventario.saldoEstoque = material.saldoEstoque;\r\n    this.totalInventario.saldoFinanceiro = material.saldoFinanceiro;\r\n    this.totalInventario.precoMinimo = material.precoMinimo;\r\n    this.totalInventario.pesoPeca = material.pesoPeca;\r\n    this.totalInventario.somaInventarioRotativo =\r\n      material.somaInventarioRotativo;\r\n    this.totalInventario.dsClasse = material.dsClasse;\r\n    this.totalInventario.qtMaterialNotaFiscal = material.qtMaterialNotaFiscal;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.$showDetailPanelSubscription.unsubscribe();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LogisticaEstoquePainelInventarioCadastroService {\r\n  private readonly BASE_URL: string = `https://crm360.monterrey.com.bo/api`;\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getEmpresas() {\r\n    return this.http.get(`${this.BASE_URL}/common/empresas`);\r\n  }\r\n\r\n  getDepositos(idEmpresa) {\r\n    return this.http.get(`${this.BASE_URL}/common/depositos/${idEmpresa}`);\r\n  }\r\n\r\n  getLinhas() {\r\n    return this.http.get(`${this.BASE_URL}/common/linhas`);\r\n  }\r\n\r\n  getClasses(descricaoLinhas) {\r\n    return this.http.get(`${this.BASE_URL}/common/classes`, {\r\n      params: {\r\n        linhas: btoa(descricaoLinhas)\r\n      }\r\n    });\r\n  }\r\n\r\n  getMateriais(descricaoLinhas, idClasses) {\r\n    if (!idClasses) idClasses = '';\r\n\r\n    return this.http.get(`${this.BASE_URL}/common/materiais`, {\r\n      params: {\r\n        linhas: btoa(descricaoLinhas),\r\n        classes: btoa(idClasses)\r\n      }\r\n    });\r\n  }\r\n\r\n  postCadastraInventario(params) {\r\n    return this.http.post(\r\n      `${this.BASE_URL}/logistica/estoque/inventarios`,\r\n      params,\r\n      { observe: 'response' }\r\n    );\r\n  }\r\n\r\n  postMateriais(matriculaAuditor, idInventario, cdMaterial) {\r\n    return this.http.post(\r\n      `${this.BASE_URL}/logistica/estoque/inventarios/${idInventario}/materiais`,\r\n      {\r\n        matriculaAuditor: matriculaAuditor,\r\n        idInventario: idInventario,\r\n        cdMaterial: cdMaterial\r\n      },\r\n      { observe: 'response' }\r\n    );\r\n  }\r\n\r\n  getPerfil(matricula = '') {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventario/usuarios/${matricula}/perfis/controle-acesso`\r\n    );\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  FormControl,\r\n  Validators,\r\n} from '@angular/forms';\r\n\r\nimport { finalize, retry } from 'rxjs/operators';\r\nimport { BsLocaleService, BsDatepickerConfig } from 'ngx-bootstrap';\r\n\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\nimport { PNotifyService } from './../../../../../shared/services/core/pnotify.service';\r\n\r\nimport { LogisticaEstoquePainelInventarioCadastroService } from './cadastro.service';\r\nimport { forkJoin } from 'rxjs';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'cadastro',\r\n  templateUrl: './cadastro.component.html',\r\n  styleUrls: ['./cadastro.component.scss'],\r\n})\r\nexport class LogisticaEstoquePainelInventarioCadastroComponent\r\n  implements OnInit {\r\n  currentUser: any = JSON.parse(localStorage.getItem('currentUser'));\r\n  matriculaAuditor: any = this.currentUser['info']['matricula'];\r\n  form: FormGroup;\r\n  bsConfig: Partial<BsDatepickerConfig>;\r\n  loaderNavbar: boolean = false;\r\n  spinnerFullScreen: boolean = true;\r\n  loading: boolean = true;\r\n  appTitle = 'Cadastrar inventário';\r\n\r\n  tipo: any;\r\n  empresas: any;\r\n  depositos: any;\r\n  linhas: any;\r\n  classes: any;\r\n  materiais: any;\r\n  dataInicial: any;\r\n  dataFinal: any;\r\n  cdInventario = '';\r\n\r\n  breadCrumbTree: Array<Breadcrumb> = [\r\n    {\r\n      descricao: 'Lista de inventários',\r\n      routerLink: '/logistica/estoque/painel-inventario/lista',\r\n    },\r\n    {\r\n      descricao: this.appTitle,\r\n    },\r\n  ];\r\n\r\n  /* TIPOS DE INVENTÁRIOS */\r\n  tipoInventario: any = [\r\n    {\r\n      codigo: 1,\r\n      descNome: 'Inventário oficial',\r\n    },\r\n    {\r\n      codigo: 2,\r\n      descNome: 'Inventário rotativo',\r\n    },\r\n  ];\r\n\r\n  disabledBotoes: any = {\r\n    finalizar: false,\r\n    editar: false,\r\n    aprovar: false,\r\n  };\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private localeService: BsLocaleService,\r\n    private cadastroService: LogisticaEstoquePainelInventarioCadastroService,\r\n    private notice: PNotifyService,\r\n    private route: Router,\r\n    private activatedRoute: ActivatedRoute\r\n  ) {\r\n    this.localeService.use('pt-br');\r\n    this.bsConfig = Object.assign(\r\n      {},\r\n      { containerClass: 'theme-dark-blue' },\r\n      { adaptivePosition: true },\r\n      { showWeekNumbers: false }\r\n    );\r\n\r\n    this.form = this.formBuilder.group({\r\n      tipoInventario: [null, Validators.required],\r\n      cdEmpresa: [null, Validators.required],\r\n      cdDeposito: [null, Validators.required],\r\n      linhas: [null, Validators.required],\r\n      classes: [null],\r\n      materiais: [null],\r\n      cdInventario: [null],\r\n      sigla: [null],\r\n      pagina: 1,\r\n      matriculaAuditor: [this.matriculaAuditor, Validators.required],\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.cadastroService\r\n      .getEmpresas()\r\n      .pipe(\r\n        finalize(() => {\r\n          this.spinnerFullScreen = false;\r\n        })\r\n      )\r\n      .subscribe((response: any) => {\r\n        if (Object.keys(response).length > 0) {\r\n          this.empresas = response;\r\n        }\r\n      });\r\n    this.cadastroService\r\n      .getLinhas()\r\n      .pipe(finalize(() => (this.loading = false)))\r\n      .subscribe((response: any) => {\r\n        if (Object.keys(response).length > 0) {\r\n          this.linhas = response;\r\n        }\r\n      });\r\n\r\n    this.getPerfil();\r\n  }\r\n\r\n  getDepositos() {\r\n    this.loaderNavbar = true;\r\n\r\n    if (this.form.get('cdEmpresa').status === 'VALID') {\r\n      let idEmpresa = this.form.get('cdEmpresa').value;\r\n      this.cadastroService\r\n        .getDepositos(idEmpresa)\r\n        .subscribe((response: any) => {\r\n          if (Object.keys(response).length > 0) {\r\n            this.depositos = response;\r\n          }\r\n          this.loaderNavbar = false;\r\n        });\r\n    }\r\n  }\r\n\r\n  getClasses() {\r\n    this.classes = [];\r\n    let descricaoLinhas = [];\r\n    this.loaderNavbar = true;\r\n\r\n    if (this.form.get('linhas').status === 'VALID') {\r\n      descricaoLinhas.push(this.form.get('linhas').value);\r\n      this.cadastroService\r\n        .getClasses(descricaoLinhas)\r\n        .subscribe((response: any) => {\r\n          if (Object.keys(response).length > 0) {\r\n            this.classes = response;\r\n          }\r\n          this.loaderNavbar = false;\r\n        });\r\n    }\r\n  }\r\n\r\n  getMateriais(linhas, classes) {\r\n    this.materiais = [];\r\n    this.loaderNavbar = true;\r\n\r\n    if (\r\n      this.form.get('linhas').status === 'VALID' ||\r\n      this.form.get('classes').status === 'VALID'\r\n    ) {\r\n      let descricaoLinhas = this.form.get('linhas').value;\r\n      let idClasses = this.form.get('classes').value;\r\n      this.cadastroService\r\n        .getMateriais(descricaoLinhas, idClasses)\r\n        .subscribe((response: any) => {\r\n          if (Object.keys(response).length > 0) {\r\n            this.materiais = response.result;\r\n          }\r\n          this.loaderNavbar = false;\r\n        });\r\n    }\r\n  }\r\n\r\n  postCadastraInventario() {\r\n    if (\r\n      this.disabledBotoes.finalizar == false &&\r\n      this.disabledBotoes.editar == false &&\r\n      this.disabledBotoes.aprovar == false\r\n    ) {\r\n      this.notice.notice('Seu usuário não pode iniciar um inventário.');\r\n    } else {\r\n      if (\r\n        this.form.get('cdEmpresa').status === 'VALID' &&\r\n        this.form.get('cdDeposito').status === 'VALID'\r\n      ) {\r\n        this.spinnerFullScreen = true;\r\n\r\n        this.cadastroService.postCadastraInventario(this.form.value).subscribe(\r\n          (response: any) => {\r\n            if (response.status == 200) {\r\n              this.postMateriais(\r\n                this.matriculaAuditor,\r\n                response.body.data\r\n              );\r\n            } else\r\n              this.notice.error('Houve um errro ao cadastrar o inventário.');\r\n          },\r\n          (error) => {\r\n            this.spinnerFullScreen = false;\r\n            if (error.status < 500) this.notice.notice(error.error.dsErro);\r\n            else this.notice.error('Ocorreu um erro! postCadastraInventario');\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  postMateriais(matriculaAuditor, idInventario) {\r\n    let cdMateriais: any = [];\r\n\r\n    if (this.form.get('materiais').value == null)\r\n      this.materiais.forEach((element) => {\r\n        cdMateriais.push(element.codigoMaterial);\r\n      });\r\n    else cdMateriais = this.form.get('materiais').value;\r\n\r\n    let particao = 50;\r\n    let qtEnvios = Math.ceil(cdMateriais.length / particao);\r\n    let mat: any = [];\r\n    for (let index = 0; index < qtEnvios; index++)\r\n      mat.push(\r\n        this.cadastroService.postMateriais(\r\n          matriculaAuditor,\r\n          idInventario,\r\n          cdMateriais.slice(particao * index, particao * (index + 1))\r\n        )\r\n      );\r\n    forkJoin(mat)\r\n      .pipe(\r\n        retry(2),\r\n        finalize(() => (this.spinnerFullScreen = false))\r\n      )\r\n      .subscribe(\r\n        (response: any) => {\r\n          let contador = 0;\r\n\r\n          response.forEach((element) => {\r\n            if (element.status == 200) {\r\n              contador++;\r\n            }\r\n          });\r\n\r\n          if (contador === response.length) {\r\n            this.route.navigate([`../${idInventario}/contagem-materiais`], {\r\n              relativeTo: this.activatedRoute,\r\n            });\r\n          } else {\r\n            this.notice.error('Não há dados.');\r\n          }\r\n        },\r\n        (error) => {\r\n          if (error.status < 500) this.notice.notice(error.error.dsErro);\r\n          else this.notice.error('Ocorreu um erro!');\r\n        }\r\n      );\r\n  }\r\n\r\n  getPerfil() {\r\n    this.cadastroService\r\n      .getPerfil(this.matriculaAuditor)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.spinnerFullScreen = false;\r\n          this.loaderNavbar = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response: any) => {\r\n          this.disabledBotoes = response['disabledBotoes'];\r\n        },\r\n        (error) => {\r\n          this.notice.notice(\r\n            'Não há vinculo de perfil para realizar inventário nesse usuário.'\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  onFieldError(field: string) {\r\n    if (this.onFieldInvalid(field)) {\r\n      return 'is-invalid';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any) {\r\n    field = this.form.get(field);\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onFieldRequired(field: string) {\r\n    let required = false;\r\n    let formControl = new FormControl();\r\n\r\n    if (this.form.controls[field].validator) {\r\n      let validationResult = this.form.controls[field].validator(formControl);\r\n      required =\r\n        validationResult !== null && validationResult.required === true;\r\n    }\r\n\r\n    if (required) {\r\n      return 'is-required';\r\n    }\r\n  }\r\n\r\n  resetForm(formReset) {\r\n    this.form.get('classes').reset();\r\n    this.form.get('materiais').reset();\r\n\r\n    if (formReset == 'classes') return;\r\n\r\n    this.form.get('linhas').reset();\r\n\r\n    if (formReset == 'linhas') return;\r\n\r\n    this.form.get('cdDeposito').reset();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { NotFoundComponent } from 'src/app/core/not-found/not-found.component';\r\nimport { LogisticaEstoquePainelInventarioInventarioComponent } from './inventario/inventario.component';\r\nimport { LogisticaEstoquePainelInventarioCadastroComponent } from './cadastro/cadastro.component';\r\nimport { LogisticaEstoquePainelInventarioInventarioListaComponent } from './inventario/lista/lista.component';\r\nimport { LogisticaEstoquePainelInventarioInventarioMateriaisNotasFiscaisComponent } from './inventario/materiais-notas-fiscais/materiais-notas-fiscais.component';\r\nimport { LogisticaEstoquePainelInventarioInventarioMateriaisOcorrenciasComponent } from './inventario/materiais-ocorrencias/materiais-ocorrencias.component';\r\nimport { LogisticaEstoquePainelInventarioInventarioRelatorioComponent } from './inventario/relatorio/relatorio.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: 'lista',\r\n    pathMatch: 'full',\r\n  },\r\n  {\r\n    path: 'lista',\r\n    component: LogisticaEstoquePainelInventarioInventarioComponent,\r\n  },\r\n  {\r\n    path: ':id/contagem-materiais',\r\n    component: LogisticaEstoquePainelInventarioInventarioListaComponent,\r\n  },\r\n  {\r\n    path: ':id/notas-fiscais',\r\n    component: LogisticaEstoquePainelInventarioInventarioMateriaisNotasFiscaisComponent,\r\n  },\r\n  {\r\n    path: ':id/ocorrencias',\r\n    component: LogisticaEstoquePainelInventarioInventarioMateriaisOcorrenciasComponent,\r\n  },\r\n  {\r\n    path: ':id/relatorio',\r\n    component: LogisticaEstoquePainelInventarioInventarioRelatorioComponent,\r\n  },\r\n  {\r\n    path: 'cadastro',\r\n    component: LogisticaEstoquePainelInventarioCadastroComponent,\r\n  },\r\n  {\r\n    path: '**',\r\n    component: NotFoundComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LogisticaEstoquePainelInventarioRoutingModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\n\r\n@Component({\r\n  selector: 'painel-inventario',\r\n  templateUrl: './painel-inventario.component.html',\r\n  styleUrls: ['./painel-inventario.component.scss']\r\n})\r\nexport class LogisticaEstoquePainelInventarioComponent implements OnInit {\r\n  constructor(\r\n    private route: Router,\r\n    private atividadesService: AtividadesService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.route.navigate(['/logistica/estoque/painel-inventario/inventario']);\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n  }\r\n}\r\n","export default \".custom-bottom-inve {\\n  padding: 1.05rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9sb2dpc3RpY2EvZXN0b3F1ZS9wYWluZWwtaW52ZW50YXJpby9pbnZlbnRhcmlvL2ludmVudGFyaW8uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtBQUNGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9sb2dpc3RpY2EvZXN0b3F1ZS9wYWluZWwtaW52ZW50YXJpby9pbnZlbnRhcmlvL2ludmVudGFyaW8uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY3VzdG9tLWJvdHRvbS1pbnZlIHtcclxuICBwYWRkaW5nOiAxLjA1cmVtO1xyXG59Il19 */\";","export default \"<loader-spinner-full-screen [hidden]=\\\"!spinnerFullScreen\\\"></loader-spinner-full-screen>\\r\\n<loader-spinner-navbar [hidden]=\\\"!loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<app-header [appTitle]=\\\"appTitle\\\">\\r\\n  <button\\r\\n    (click)=\\\"onSearch()\\\">\\r\\n    Pesquisar\\r\\n  </button>\\r\\n  <button\\r\\n    (click)=\\\"onCadastrar()\\\">\\r\\n    Cadastro\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\">\\r\\n  <!-- Início dos Filtros -->\\r\\n  <advanced-filter #scrollToFilter>\\r\\n    <form autocomplete=\\\"off\\\" [formGroup]=\\\"form\\\">\\r\\n      <div class=\\\"form-row justify-content-center\\\">\\r\\n        <div class=\\\"form-group col-md-2\\\">\\r\\n          <label for=\\\"tipo\\\">Tipo de Inventário</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"tipoInventario\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            labelForId=\\\"tipo\\\"\\r\\n            bindLabel=\\\"descNome\\\"\\r\\n            bindValue=\\\"value\\\"\\r\\n            placeholder=\\\"Selecione um Tipo\\\"\\r\\n            formControlName=\\\"tipoInventario\\\"\\r\\n          >\\r\\n          </ng-select>\\r\\n          <invalid-form-control\\r\\n            [show]=\\\"onFieldInvalid('tipoInventario')\\\"\\r\\n            message=\\\"Empresa é obrigatório.\\\">\\r\\n          </invalid-form-control>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-md-3\\\">\\r\\n          <label for=\\\"empresa\\\">Empresa</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"empresas\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            labelForId=\\\"empresa\\\"\\r\\n            bindLabel=\\\"nomeFantasia\\\"\\r\\n            bindValue=\\\"codigoEmpresa\\\"\\r\\n            placeholder=\\\"Selecione uma empresa\\\"\\r\\n            formControlName=\\\"empresa\\\"\\r\\n            (change) =\\\"getDepositos()\\\"\\r\\n          >\\r\\n          </ng-select>\\r\\n          <invalid-form-control\\r\\n            [show]=\\\"onFieldInvalid('empresa')\\\"\\r\\n            message=\\\"Empresa é obrigatório.\\\">\\r\\n          </invalid-form-control>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-md-2\\\">\\r\\n          <label for=\\\"depositos\\\">Depósito</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"depositos\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            labelForId=\\\"deposito\\\"\\r\\n            bindLabel=\\\"depositoDescricao\\\"\\r\\n            bindValue=\\\"depositoId\\\"\\r\\n            placeholder=\\\"Selecione um deposito\\\"\\r\\n            formControlName=\\\"depositos\\\"\\r\\n          >\\r\\n          </ng-select>\\r\\n          <invalid-form-control\\r\\n            [show]=\\\"onFieldInvalid('depositos')\\\"\\r\\n            message=\\\"Despósito é obrigatório.\\\">\\r\\n          </invalid-form-control>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-md-2\\\">\\r\\n          <label for=\\\"linhas\\\">Linha</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"linhas\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            labelForId=\\\"linha\\\"\\r\\n            bindLabel=\\\"linha\\\"\\r\\n            bindValue=\\\"linha\\\"\\r\\n            placeholder=\\\"Selecione uma linha\\\"\\r\\n            formControlName=\\\"linhas\\\"\\r\\n            (change) = \\\"getClasses(); getMateriais(linhas, '')\\\"\\r\\n          >\\r\\n          </ng-select>\\r\\n          <invalid-form-control\\r\\n            [show]=\\\"onFieldInvalid('linhas')\\\"\\r\\n            message=\\\"Linha é obrigatório.\\\">\\r\\n          </invalid-form-control>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-md-3\\\">\\r\\n            <label for=\\\"classes\\\">Classe</label>\\r\\n            <ng-select\\r\\n              [searchable]=\\\"true\\\"\\r\\n              [clearable]=\\\"false\\\"\\r\\n              [items]=\\\"classes\\\"\\r\\n              [multiple]=\\\"true\\\"\\r\\n              [closeOnSelect]=\\\"false\\\"\\r\\n              [virtualScroll]=\\\"true\\\"\\r\\n              labelForId=\\\"classes\\\"\\r\\n              bindLabel=\\\"classeDescricao\\\"\\r\\n              bindValue=\\\"classeId\\\"\\r\\n              placeholder=\\\"Selecione uma classe\\\"\\r\\n              formControlName=\\\"classes\\\"\\r\\n              (change) = \\\"getMateriais(linhas, classes)\\\"\\r\\n              [ngClass]=\\\"onFieldError('classes')\\\"\\r\\n            >\\r\\n            </ng-select>\\r\\n            <invalid-form-control\\r\\n              [show]=\\\"onFieldInvalid('classes')\\\"\\r\\n              message=\\\"Classe é obrigatório.\\\">\\r\\n            </invalid-form-control>\\r\\n          </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-row justify-content-center\\\">\\r\\n        <div class=\\\"form-group col-md-6\\\">\\r\\n          <label for=\\\"materiais\\\">Material</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"materiais\\\"\\r\\n            [multiple]=\\\"true\\\"\\r\\n            [closeOnSelect]=\\\"false\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            labelForId=\\\"materiais\\\"\\r\\n            bindLabel=\\\"codigoDescricaoMaterial\\\"\\r\\n            bindValue=\\\"codigoMaterial\\\"\\r\\n            placeholder=\\\"Selecione um material\\\"\\r\\n            formControlName=\\\"materiais\\\"\\r\\n          >\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-md-2\\\">\\r\\n          <label for=\\\"dataInicial\\\"> Data inicial </label>\\r\\n          <div class=\\\"input-group\\\">\\r\\n            <div class=\\\"input-group-prepend\\\">\\r\\n              <span class=\\\"input-group-text\\\">\\r\\n                <i class=\\\"far fa-calendar-alt\\\"></i>\\r\\n              </span>\\r\\n            </div>\\r\\n            <input\\r\\n            class=\\\"form-control\\\"\\r\\n            id=\\\"dataInicial\\\"\\r\\n            type=\\\"text\\\"\\r\\n            bsDatepicker\\r\\n            [bsConfig]=\\\"bsConfig\\\"\\r\\n            formControlName=\\\"dataInicial\\\"\\r\\n            >\\r\\n          </div>\\r\\n          <invalid-form-control\\r\\n            [show]=\\\"onFieldInvalid('dataInicial')\\\"\\r\\n            message=\\\"Data inicial é obrigatório.\\\">\\r\\n          </invalid-form-control>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-md-2\\\">\\r\\n          <label for=\\\"dataFinal\\\"> Data final </label>\\r\\n          <div class=\\\"input-group\\\">\\r\\n            <div class=\\\"input-group-prepend\\\">\\r\\n              <span class=\\\"input-group-text\\\">\\r\\n                <i class=\\\"far fa-calendar-alt\\\"></i>\\r\\n              </span>\\r\\n            </div>\\r\\n            <input\\r\\n            class=\\\"form-control\\\"\\r\\n            id=\\\"dataFinal\\\"\\r\\n            type=\\\"text\\\"\\r\\n            bsDatepicker\\r\\n            [bsConfig]=\\\"bsConfig\\\"\\r\\n            formControlName=\\\"dataFinal\\\"\\r\\n            >\\r\\n          </div>\\r\\n          <invalid-form-control\\r\\n            [show]=\\\"onFieldInvalid('dataFinal')\\\"\\r\\n            message=\\\"Data inicial é obrigatório.\\\">\\r\\n          </invalid-form-control>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-md-2 justify-content-end\\\">\\r\\n          <label for=\\\"cdInventario\\\"> Código do inventário </label>\\r\\n          <input \\r\\n            id=\\\"cdInventario\\\"\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            placeholder=\\\"DIGITE...\\\"\\r\\n            formControlName=\\\"cdInventario\\\"\\r\\n            (keyup.enter)=\\\"onSearch()\\\"\\r\\n          >\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </advanced-filter>\\r\\n  <!-- Início das Legendas -->\\r\\n  <subtitles\\r\\n    [data]=\\\"subtitles\\\"\\r\\n    [show]=\\\"inve.length > 0\\\"\\r\\n    [allowActivation]=\\\"true\\\"\\r\\n    (activationChange)=\\\"onClickSubtitle($event?.id)\\\">\\r\\n  </subtitles>\\r\\n  <!-- Início da Tabela -->\\r\\n  <div class=\\\"row\\\">\\r\\n    <div [ngClass]=\\\"{'col': !showDetailPanel, 'col-9 pr-0': showDetailPanel}\\\">\\r\\n      <custom-table [config]=\\\"tableConfig\\\" [hidden]=\\\"noResult\\\">\\r\\n        <ng-template #thead let-thead>\\r\\n          <tr>\\r\\n            <th>Data</th>\\r\\n            <th>Código</th>\\r\\n            <th>Depósito</th>\\r\\n            <th [hidden]=\\\"compressedTable\\\">Linha</th>\\r\\n            <th>Tipo</th>\\r\\n            <th style=\\\"width:250px\\\" nowrap>Auditor</th>\\r\\n            <th class=\\\"align-middle\\\" style=\\\"width:70px\\\"></th>\\r\\n            <th class=\\\"align-middle\\\" style=\\\"width:70px\\\"></th>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n        <ng-template #tbody let-tbody>\\r\\n          <tr *ngFor=\\\"let inventario of inventarios let i = index\\\" class=\\\"hover\\\" \\r\\n                      [ngClass]=\\\"inventario.status ? 'bgRowTable' : ''\\\" (click)=\\\"getClassesInventario(inventario.idInventario, i)\\\"\\r\\n                >\\r\\n                  <td [ngClass]=\\\"{\\r\\n                    'border-primary'    : inventario.siglaStatusInventario == 'LOGI_INVE_STAT_APRO',\\r\\n                    'border-secondary'  : inventario.siglaStatusInventario == 'LOGI_INVE_STAT_CANC_SIST',\\r\\n                    'border-danger'     : inventario.siglaStatusInventario == 'LOGI_INVE_STAT_CANC',\\r\\n                    'border-success'    : inventario.siglaStatusInventario == 'LOGI_INVE_STAT_FINA',\\r\\n                    'border-warning'    : inventario.siglaStatusInventario == 'LOGI_INVE_STAT_ABER'\\r\\n                  }\\\"\\r\\n                  > {{ inventario.dtInclusao  | date : 'dd/MM/yyyy HH:mm:ss'}} </td>\\r\\n                  <td> {{ inventario.idInventario   | number:'6.0-0'}} </td>\\r\\n                  <td> {{ inventario.dsDeposito | uppercase }} </td>\\r\\n                  <td [hidden]=\\\"compressedTable\\\"> {{ inventario.dsLinha | uppercase }} </td>\\r\\n                  <td> {{ inventario.dsTipoInventario | uppercase }} </td>\\r\\n                  <td style=\\\"width:250px\\\" nowrap> {{ inventario.dsUsuario | uppercase }} </td> \\r\\n                  <td class=\\\"align-middle\\\" style=\\\"width:70px\\\">\\r\\n                    <span tooltip=\\\"Visualizar\\\" placement=\\\"left\\\" container=\\\"body\\\">\\r\\n                      <button class=\\\"btn-icon-sm\\\" (click)=\\\"abrirInventario(inventario.idInventario)\\\">\\r\\n                        <i class=\\\"fas fa-search\\\"></i>\\r\\n                      </button>\\r\\n                    </span>\\r\\n                  </td>\\r\\n                  <td class=\\\"align-middle\\\" style=\\\"width:70px\\\">\\r\\n                    <span tooltip=\\\"Imprimir\\\" placement=\\\"left\\\" container=\\\"body\\\">\\r\\n                      <button class=\\\"btn-icon-sm\\\" (click)=\\\"abrirRelatorio(inventario.idInventario)\\\">\\r\\n                        <i class=\\\"fas fa-file-alt\\\"></i>\\r\\n                      </button>\\r\\n                    </span>\\r\\n                  </td>\\r\\n                </tr>\\r\\n        </ng-template>\\r\\n      </custom-table>\\r\\n      <div class=\\\"mt-3\\\" [hidden]=\\\"noResult\\\">\\r\\n        Exibindo {{ itemsPerPage*(currentPage - 1) + 1 }} a {{ currentPage*(itemsPerPage) > totalItems ? totalItems : currentPage*(itemsPerPage) }} de {{ totalItems }}\\r\\n        <pagination\\r\\n          [maxSize]=\\\"10\\\"\\r\\n          [totalItems]=\\\"totalItems\\\"\\r\\n          [(itemsPerPage)]=\\\"itemsPerPage\\\"\\r\\n          (pageChanged)=\\\"onPageChanged($event)\\\"\\r\\n          [boundaryLinks]=\\\"true\\\"\\r\\n          [(ngModel)]=\\\"currentPage\\\"\\r\\n          previousText=\\\"&lsaquo;\\\"\\r\\n          nextText=\\\"&rsaquo;\\\"\\r\\n          firstText=\\\"&laquo;\\\"\\r\\n          lastText=\\\"&raquo;\\\">\\r\\n        </pagination>\\r\\n      </div>\\r\\n      <empty-result\\r\\n        message=\\\"Nenhuma informação encontrada\\\"\\r\\n        class=\\\"my-3\\\"\\r\\n        *ngIf=\\\"dadosEmpty\\\">\\r\\n      </empty-result>\\r\\n    </div>\\r\\n    <div class=\\\"col-3\\\" [hidden]=\\\"!showDetailPanel\\\">\\r\\n      <detail-panel [panelTitle]=\\\"appTitle\\\">\\r\\n          <custom-table>\\r\\n            <ng-template #thead let-thead>\\r\\n              <tr>\\r\\n                <th>Classe</th>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n            <ng-template #tbody let-tbody>\\r\\n              <tr *ngFor=\\\"let infoClasse of infoClasses\\\">\\r\\n                <td> {{ infoClasse.dsClasse | uppercase }} </td>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n          </custom-table>\\r\\n          <custom-table>\\r\\n            <ng-template #thead let-thead>\\r\\n              <tr [hidden]=\\\"infoLinha == null\\\">\\r\\n                <th>Linha</th>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n            <ng-template #tbody let-tbody>\\r\\n              <tr [hidden]=\\\"infoLinha == null\\\">\\r\\n                <td> {{ infoLinha | uppercase }} </td>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n          </custom-table>\\r\\n      </detail-panel>\\r\\n    </div>\\r\\n  </div>\\r\\n</app-body>\";","import { PageChangedEvent } from 'ngx-bootstrap/pagination';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { LogisticaEstoquePainelInventarioInventarioMateriaisNotasFiscaisService } from './materiais-notas-fiscais.service';\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { finalize, retry } from 'rxjs/operators';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { Subscription, forkJoin } from 'rxjs';\r\nimport { DetailPanelService } from 'src/app/shared/templates/detail-panel/detal-panel.service';\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\n\r\n@Component({\r\n  selector: 'materiais-notas-fiscais',\r\n  templateUrl: './materiais-notas-fiscais.component.html',\r\n  styleUrls: ['./materiais-notas-fiscais.component.scss'],\r\n})\r\nexport class LogisticaEstoquePainelInventarioInventarioMateriaisNotasFiscaisComponent\r\n  implements OnInit, OnDestroy {\r\n  currentUser: any = JSON.parse(localStorage.getItem('currentUser'));\r\n  matriculaAuditor: any = this.currentUser['info']['matricula'];\r\n  idInventario = this.activatedRoute.snapshot.params['id'];\r\n\r\n  form: FormGroup;\r\n  notasFiscais: any;\r\n  tempNotasFiscais: any;\r\n  qtNotasFiscais: any;\r\n  loading = false;\r\n  cdNotaFiscal = '';\r\n  cdEmp = '';\r\n  materiaisNotaFiscal: any = [];\r\n  notaFiscalSelecionada: number;\r\n  spinnerFullScreen = true;\r\n  loaderNavbar = true;\r\n\r\n  tableFilterConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: true,\r\n  };\r\n\r\n  /* Paginação */\r\n  itemsPerPage: number = 10;\r\n  totalItems: number;\r\n  currentPage: number = 1;\r\n  begin: number = 0;\r\n  end: number = 10;\r\n  beginP: number = 0;\r\n  endP: number = 10;\r\n  /* Paginação */\r\n\r\n  /* Painel de detalhes */\r\n  $showDetailPanelSubscription: Subscription;\r\n  showDetailPanel = false;\r\n\r\n  appTitle = 'Notas fiscais - Inventário:' + this.idInventario;\r\n  appTitleBreadcrumb = 'Notas fiscais';\r\n  appTitleNotasFiscais = 'Lista de Materiais da Nota';\r\n\r\n  breadCrumbTree: Array<Breadcrumb> = [\r\n    {\r\n      descricao: 'Contagem de materiais',\r\n      routerLink: `../../${this.idInventario}/contagem-materiais`,\r\n    },\r\n    {\r\n      descricao: this.appTitleBreadcrumb,\r\n    },\r\n  ];\r\n\r\n  tableNotasFiscaisMateriaisConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: true,\r\n  };\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private notice: PNotifyService,\r\n    private route: Router,\r\n    private formBuilder: FormBuilder,\r\n    private detailPanelService: DetailPanelService,\r\n    private notaFiscalService: LogisticaEstoquePainelInventarioInventarioMateriaisNotasFiscaisService\r\n  ) {\r\n    this.form = this.formBuilder.group({\r\n      cdNotaFiscal: [null],\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.openModalNotaFiscal();\r\n    this.onSubscription();\r\n  }\r\n\r\n  openModalNotaFiscal() {\r\n    this.getListaExistente();\r\n  }\r\n\r\n  getListaExistente() {\r\n    if (this.getListaCarregadaMaisNotaFiscal()) {\r\n      const val = this.cdNotaFiscal;\r\n\r\n      if (!val) {\r\n        this.notasFiscais = this.tempNotasFiscais;\r\n      }\r\n\r\n      const temp = this.tempNotasFiscais.filter((row) => {\r\n        return Object.keys(row).some((property) => {\r\n          return row[property] === null\r\n            ? null\r\n            : row[property].toString().indexOf(val) !== -1;\r\n        });\r\n      });\r\n\r\n      this.notasFiscais = temp;\r\n      this.loading = false;\r\n    } else {\r\n      this.getInventario();\r\n    }\r\n  }\r\n\r\n  getListaCarregadaMaisNotaFiscal() {\r\n    let containsNotaFiscal = false;\r\n    let isNotUndefined = typeof this.tempNotasFiscais !== 'undefined';\r\n\r\n    if (isNotUndefined) {\r\n      containsNotaFiscal = this.tempNotasFiscais.find(\r\n        (element) => element.notaFiscal === this.cdNotaFiscal\r\n      );\r\n    }\r\n\r\n    return isNotUndefined && containsNotaFiscal;\r\n  }\r\n\r\n  getNotasFiscais() {\r\n    this.loaderNavbar = true;\r\n    if (this.activatedRoute.snapshot.params['id'] > 0) {\r\n      this.notaFiscalService\r\n        .getNotasFiscais(this.idInventario, this.cdNotaFiscal, this.cdEmp)\r\n        .pipe(finalize(() => (this.loaderNavbar = false)))\r\n        .subscribe(\r\n          (data) => {\r\n            if (data['status'] === 200) {\r\n              this.notasFiscais = data['body']['data']['notasFiscais'];\r\n              this.tempNotasFiscais = data['body']['data']['notasFiscais'];\r\n              this.qtNotasFiscais = data['body']['data']['qtRegistros'];\r\n              this.spinnerFullScreen = false;\r\n            } else this.notice.notice('Não houve retorno para sua consulta');\r\n          },\r\n          (error) => this.notice.error(error.message)\r\n        );\r\n    }\r\n  }\r\n\r\n  getMateriaisNotasFiscais(notaFiscal) {\r\n    this.detailPanelService.show();\r\n    this.loading = true;\r\n    this.materiaisNotaFiscal = [];\r\n    this.notaFiscalService\r\n      .getMateriaisNotasFiscais(this.idInventario, notaFiscal)\r\n      .pipe(finalize(() => (this.loading = false)))\r\n      .subscribe((data) => {\r\n        if (data['status'] === 200) {\r\n          this.materiaisNotaFiscal = data['body']['data'];\r\n          this.notaFiscalSelecionada = notaFiscal;\r\n          this.detailPanelService.loadedFinished(false);\r\n        } else this.detailPanelService.loadedFinished(true);\r\n      });\r\n  }\r\n\r\n  salvarNotasFiscais() {\r\n    let checkAlterado = [];\r\n    this.notasFiscais.forEach((element) => {\r\n      if (element.checkAlterado) {\r\n        checkAlterado.push(element);\r\n      }\r\n    });\r\n\r\n    let particao = 50;\r\n    let qtEnvios = Math.ceil(checkAlterado.length / particao);\r\n    let req: any = [];\r\n\r\n    this.loaderNavbar = true;\r\n\r\n    for (let index = 0; index < qtEnvios; index++)\r\n      req.push(\r\n        this.notaFiscalService.salvarNotasFiscais(\r\n          this.idInventario,\r\n          checkAlterado.slice(particao * index, particao * (index + 1)),\r\n          this.matriculaAuditor\r\n        )\r\n      );\r\n\r\n    forkJoin(req)\r\n      .pipe(\r\n        retry(2),\r\n        finalize(() => (this.loaderNavbar = false))\r\n      )\r\n      .subscribe(\r\n        (data) => {\r\n          let contador = 0;\r\n          data[0]['body'].forEach((element) => {\r\n            if (element['responseCode'] == 200) {\r\n              this.notice.success('Itens salvos com sucesso!');\r\n              contador++;\r\n            } else {\r\n              this.notice.error(element['response']);\r\n            }\r\n          });\r\n          if (contador === data.length) {\r\n          }\r\n        },\r\n        (error) => {\r\n          this.notice.error('Ocorreu um erro ao salvar os itens');\r\n        }\r\n      );\r\n  }\r\n\r\n  verificaCheck(notaFiscal) {\r\n    notaFiscal.checkAlterado = !notaFiscal.checkAlterado;\r\n    this.salvarNotasFiscais();\r\n    this.getInventario();\r\n  }\r\n\r\n  /* Paginação */\r\n  onPageChanged(event: PageChangedEvent): void {\r\n    this.begin = (event.page - 1) * event.itemsPerPage;\r\n    this.end = event.page * event.itemsPerPage;\r\n  }\r\n  /* Paginação */\r\n\r\n  onSubscription() {\r\n    this.$showDetailPanelSubscription = this.detailPanelService.config.subscribe(\r\n      (event: any) => {\r\n        this.showDetailPanel = event.showing;\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.$showDetailPanelSubscription.unsubscribe();\r\n  }\r\n\r\n  fecharSalvar(idInventario) {\r\n    this.route.navigate([`../../${idInventario}/contagem-materiais`], {\r\n      relativeTo: this.activatedRoute,\r\n    });\r\n  }\r\n\r\n  getInventario(){\r\n    this.notaFiscalService.getInventario(this.idInventario)\r\n    .pipe(\r\n      finalize(() => (\r\n        this.getNotasFiscais()\r\n        )\r\n      ))\r\n    .subscribe((response) =>{\r\n      if (response['status'] === 200) {\r\n        this.cdEmp = response.body['data']['inventarios']['0']['cdEmpresa'];\r\n      }\r\n    })\r\n\r\n    \r\n  }\r\n}\r\n","export class LogisticaEstoquePainelInventarioTotalInventario {\r\n  qtNotasFiscais: number;\r\n  qtNotasFiscaisRo: number;\r\n  totalContagem: number;\r\n  saldoInventario: number;\r\n  resultadoInventario: number;\r\n  resultadoMonetario: number;\r\n  enderecoPatio: string;\r\n  qtPesoEstoque: number;\r\n  saldoEstoque: number;\r\n  somaInventarioRotativo: number;\r\n  saldoFinanceiro: number;\r\n  precoMinimo: number;\r\n  pesoPeca: number;\r\n  dtInclusao: string;\r\n  dsClasse: string;\r\n  qtMaterialNotaFiscal: number;\r\n  qtMaterialNotaFiscalRo: number;\r\n}\r\n","export default \"ul li {\\n  list-style-type: none;\\n}\\n\\n.bgdValueList {\\n  background-color: #e9ecef;\\n}\\n\\n.textUpper {\\n  font-size: -webkit-xxx-large;\\n}\\n\\n.espacamento50 {\\n  height: 50px;\\n}\\n\\n.espacamento20 {\\n  height: 20px;\\n}\\n\\n.espacamento25 {\\n  height: 25px;\\n}\\n\\n.espacamento150 {\\n  height: 150px;\\n}\\n\\n.espacamento250 {\\n  height: 150px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9sb2dpc3RpY2EvZXN0b3F1ZS9wYWluZWwtaW52ZW50YXJpby9pbnZlbnRhcmlvL3JlbGF0b3Jpby9yZWxhdG9yaW8uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxxQkFBQTtBQUNGOztBQUVBO0VBQ0UseUJBQUE7QUFDRjs7QUFFQTtFQUNFLDRCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2xvZ2lzdGljYS9lc3RvcXVlL3BhaW5lbC1pbnZlbnRhcmlvL2ludmVudGFyaW8vcmVsYXRvcmlvL3JlbGF0b3Jpby5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInVsIGxpIHtcclxuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XHJcbn1cclxuXHJcbi5iZ2RWYWx1ZUxpc3Qge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlOWVjZWY7XHJcbn1cclxuXHJcbi50ZXh0VXBwZXIge1xyXG4gIGZvbnQtc2l6ZTogLXdlYmtpdC14eHgtbGFyZ2U7XHJcbn1cclxuXHJcbi5lc3BhY2FtZW50bzUwIHtcclxuICBoZWlnaHQ6IDUwcHg7XHJcbn1cclxuXHJcbi5lc3BhY2FtZW50bzIwIHtcclxuICBoZWlnaHQ6IDIwcHg7XHJcbn1cclxuXHJcbi5lc3BhY2FtZW50bzI1IHtcclxuICBoZWlnaHQ6IDI1cHg7XHJcbn1cclxuXHJcbi5lc3BhY2FtZW50bzE1MCB7XHJcbiAgaGVpZ2h0OiAxNTBweDtcclxufVxyXG5cclxuLmVzcGFjYW1lbnRvMjUwIHtcclxuICBoZWlnaHQ6IDE1MHB4O1xyXG59XHJcbiJdfQ== */\";","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { PageChangedEvent } from 'ngx-bootstrap/pagination';\r\nimport { BsLocaleService, BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { LogisticaEstoquePainelInventarioInventarioService } from './inventario.service';\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\nimport { RouterService } from 'src/app/shared/services/core/router.service';\r\nimport { FormBuilder, FormGroup, FormControl } from '@angular/forms';\r\nimport { Subtitles } from 'src/app/shared/modules/subtitles/subtitles';\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { object } from '@amcharts/amcharts4/core';\r\nimport { DetailPanelService } from 'src/app/shared/templates/detail-panel/detal-panel.service';\r\n\r\n@Component({\r\n  selector: 'inventario',\r\n  templateUrl: './inventario.component.html',\r\n  styleUrls: ['./inventario.component.scss'],\r\n})\r\nexport class LogisticaEstoquePainelInventarioInventarioComponent\r\n  implements OnInit, OnDestroy {\r\n  form: FormGroup;\r\n  bsConfig: Partial<BsDatepickerConfig>;\r\n  listaInventarios: any = [];\r\n  inventarios: any = [];\r\n  totalItems: number;\r\n  loaderNavbar: boolean = false;\r\n  spinnerFullScreen: boolean = true;\r\n  loading: boolean = true;\r\n  ultimoStatusEnviado: any = null;\r\n  noResult: boolean = true;\r\n  noResultado: boolean = true;\r\n  noLista: boolean = true;\r\n  $subscription: Subscription;\r\n  inve: any = [];\r\n  compressedTable = false;\r\n  idInventario: number;\r\n  infoClasses = '';\r\n  infoLinha = '';\r\n  infoIdInventario = '';\r\n  $activatedRouteSubscription: Subscription;\r\n\r\n  appTitle = 'Painel de inventário';\r\n\r\n  /* Parametros para filtros */\r\n  tipo: any;\r\n  empresas: any;\r\n  depositos: any;\r\n  linhas: any;\r\n  classes: any;\r\n  materiais: any;\r\n  dataInicial: any;\r\n  dataFinal: any;\r\n  cdInventario = '';\r\n  sigla: any;\r\n  informacoes: any;\r\n  parametro: boolean = false;\r\n  checked: boolean = true;\r\n  /* Parametros para filtros */\r\n\r\n  filtroEmpresas: any = [];\r\n  filtroDepositos: any = [];\r\n  filtroLinhas: any = [];\r\n  filtroClasses: any = [];\r\n  filtroMateriais: any = [];\r\n\r\n  dadosEmpty = false;\r\n  breadCrumbTree: Array<Breadcrumb> = [\r\n    {\r\n      descricao: this.appTitle,\r\n    },\r\n  ];\r\n\r\n  /* Paginação */\r\n  itemsPerPage: number = 10;\r\n  currentPage: number = 1;\r\n  /* Paginação */\r\n\r\n  /* Legendas */\r\n  subtitles: Array<Subtitles> = [\r\n    {\r\n      id: 'LOGI_INVE_STAT_ABER',\r\n      text: 'Em aberto',\r\n      color: 'yellow',\r\n    },\r\n    {\r\n      id: 'LOGI_INVE_STAT_CANC',\r\n      text: 'Cancelado',\r\n      color: 'red',\r\n    },\r\n    {\r\n      id: 'LOGI_INVE_STAT_CANC_SIST',\r\n      text: 'Cancelado pelo sistema',\r\n      color: 'gray',\r\n    },\r\n    {\r\n      id: 'LOGI_INVE_STAT_FINA',\r\n      text: 'Finalizado',\r\n      color: 'green',\r\n    },\r\n    {\r\n      id: 'LOGI_INVE_STAT_APRO',\r\n      text: 'Aprovado',\r\n      color: 'blue',\r\n    },\r\n  ];\r\n  /* Legendas */\r\n\r\n  /* TIPOS DE INVENTÁRIOS */\r\n  tipoInventario: any = [\r\n    {\r\n      value: 1,\r\n      descNome: 'Inventário oficial',\r\n    },\r\n    {\r\n      value: 2,\r\n      descNome: 'Inventário rotativo',\r\n    },\r\n  ];\r\n\r\n  /* Config Table */\r\n  tableConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: true,\r\n  };\r\n\r\n  /* Painel de detalhes */\r\n  $showDetailPanelSubscription: Subscription;\r\n  showDetailPanel = false;\r\n\r\n  constructor(\r\n    private inventarioService: LogisticaEstoquePainelInventarioInventarioService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private notice: PNotifyService,\r\n    private route: Router,\r\n    private atividadesService: AtividadesService,\r\n    private localeService: BsLocaleService,\r\n    private formBuilder: FormBuilder,\r\n    private dateService: DateService,\r\n    private routerService: RouterService,\r\n    private detailPanelService: DetailPanelService\r\n  ) {\r\n    this.localeService.use('pt-br');\r\n    this.bsConfig = Object.assign(\r\n      {},\r\n      { containerClass: 'theme-dark-blue' },\r\n      { adaptivePosition: true },\r\n      { showWeekNumbers: false }\r\n    );\r\n\r\n    this.form = this.formBuilder.group({\r\n      tipoInventario: [null],\r\n      empresa: [null],\r\n      depositos: [null],\r\n      linhas: [null],\r\n      classes: [null],\r\n      materiais: [null],\r\n      dataInicial: [''],\r\n      dataFinal: [''],\r\n      cdInventario: [null],\r\n      sigla: [null],\r\n      pagina: 1,\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n\r\n    /* CODIFICAÇÃO E DECODIFICAÇÃO DA ROTA */\r\n    this.$activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      (response) => {\r\n        if (Object.keys(response).length !== 0) {\r\n          const _response = this.routerService.getBase64UrlParams(response);\r\n          this.form.patchValue(_response);\r\n        }\r\n        this.getInventario(this.getParams());\r\n      }\r\n    );\r\n\r\n    /* INICIO FILTROS INICIAIS */\r\n    this.inventarioService\r\n      .getEmpresas()\r\n      .pipe(\r\n        finalize(() => {\r\n          this.spinnerFullScreen = false;\r\n        })\r\n      )\r\n      .subscribe((response: any) => {\r\n        if (Object.keys(response).length > 0) {\r\n          this.empresas = response;\r\n        }\r\n      });\r\n\r\n    this.inventarioService\r\n      .getLinhas()\r\n      .pipe(finalize(() => (this.loading = false)))\r\n      .subscribe((response: any) => {\r\n        if (Object.keys(response).length > 0) {\r\n          this.linhas = response;\r\n        }\r\n      });\r\n\r\n    this.onDetailPanel();\r\n  }\r\n\r\n  onDetailPanel(): void {\r\n    this.$showDetailPanelSubscription = this.detailPanelService.config.subscribe(\r\n      (event: any) => {\r\n        this.showDetailPanel = event.showing;\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.$activatedRouteSubscription.unsubscribe();\r\n    this.$showDetailPanelSubscription.unsubscribe();\r\n  }\r\n\r\n  getParams() {\r\n    let _params = {};\r\n    const obj = this.form.value;\r\n\r\n    for (let prop in obj) {\r\n      if (obj[prop]) {\r\n        if (prop == 'dataInicial' || prop == 'dataFinal') {\r\n          _params[prop] =\r\n            obj[prop] instanceof Date\r\n              ? this.dateService.convertToUrlDate(obj[prop])\r\n              : obj[prop].substring(0, 10);\r\n        } else {\r\n          _params[prop] = obj[prop];\r\n        }\r\n      }\r\n    }\r\n    return _params;\r\n  }\r\n\r\n  onSearch() {\r\n    this.route.navigate([], {\r\n      relativeTo: this.activatedRoute,\r\n      queryParams: this.routerService.setBase64UrlParams(this.getParams()),\r\n    });\r\n  }\r\n\r\n  getDepositos() {\r\n    this.loaderNavbar = true;\r\n\r\n    if (this.form.get('empresa').status === 'VALID') {\r\n      let idEmpresa = this.form.get('empresa').value;\r\n      this.inventarioService\r\n        .getDepositos(idEmpresa)\r\n        .subscribe((response: any) => {\r\n          if (Object.keys(response).length > 0) {\r\n            this.depositos = response;\r\n          }\r\n          this.loaderNavbar = false;\r\n        });\r\n    }\r\n  }\r\n\r\n  getClasses() {\r\n    this.classes = [];\r\n    let descricaoLinhas = [];\r\n    this.loaderNavbar = true;\r\n\r\n    if (this.form.get('linhas').status === 'VALID') {\r\n      descricaoLinhas.push(this.form.get('linhas').value);\r\n      this.inventarioService\r\n        .getClasses(descricaoLinhas)\r\n        .subscribe((response: any) => {\r\n          if (Object.keys(response).length > 0) {\r\n            this.classes = response;\r\n          }\r\n          this.loaderNavbar = false;\r\n        });\r\n    }\r\n  }\r\n\r\n  getMateriais(linhas, classes) {\r\n    this.materiais = [];\r\n    this.loaderNavbar = true;\r\n\r\n    if (\r\n      this.form.get('linhas').status === 'VALID' ||\r\n      this.form.get('classes').status === 'VALID'\r\n    ) {\r\n      let descricaoLinhas = this.form.get('linhas').value;\r\n      let idClasses = this.form.get('classes').value;\r\n      this.inventarioService\r\n        .getMateriais(descricaoLinhas, idClasses)\r\n        .subscribe((response: any) => {\r\n          if (Object.keys(response).length > 0) {\r\n            this.materiais = response.result;\r\n          }\r\n          this.loaderNavbar = false;\r\n        });\r\n    }\r\n  }\r\n\r\n  getInventario(params?) {\r\n    this.loaderNavbar = true;\r\n    this.spinnerFullScreen = true;\r\n    this.checked = !this.checked;\r\n\r\n    this.inventarioService\r\n      .getInventario(params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.spinnerFullScreen = false;\r\n          this.loaderNavbar = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (data) => {\r\n          if (data.status === 200) {\r\n            this.noResult = false;\r\n            this.inve = data['body']['data']['inventarios'];\r\n            this.inventarios = data['body']['data']['inventarios'];\r\n            let lancamentos = [];\r\n            this.inventarios.forEach((element) => {\r\n              if (element.empresa || element.deposito) {\r\n                lancamentos.push({\r\n                  empresa: element.empresa,\r\n                  deposito: element.deposito,\r\n                });\r\n              }\r\n            });\r\n            this.loaderNavbar = false;\r\n            this.informacoes = lancamentos;\r\n\r\n            if (!this.totalItems) {\r\n              this.totalItems = data['body']['data']['qtRegistros'];\r\n            }\r\n          } else if (data.status === 204) {\r\n            this.notice.notice('Nenhum resultado para sua pesquisa');\r\n            this.dadosEmpty = true;\r\n          } else {\r\n            this.notice.error();\r\n          }\r\n        },\r\n        (error) => {\r\n          this.notice.notice(\r\n            'Não há inventários cadastrados para esse status.'\r\n          );\r\n          this.dadosEmpty = true;\r\n        }\r\n      );\r\n  }\r\n\r\n  getClassesInventario(idInventario, i) {\r\n    this.detailPanelService.show();\r\n    this.noLista = true;\r\n    this.noResultado = false;\r\n    this.inventarioService\r\n      .getClassesInventario(idInventario)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.detailPanelService.loadedFinished(false);\r\n        })\r\n      )\r\n      .subscribe((response: any) => {\r\n        if (response['status'] === 200) {\r\n          response.body.data.forEach((element) => {\r\n            if (element.dsClasse == null) {\r\n              this.noResultado = true;\r\n            } else {\r\n              this.noLista = false;\r\n              this.infoClasses = response.body.data;\r\n            }\r\n          });\r\n        }\r\n      });\r\n    this.compressedTable = true;\r\n    this.infoLinha = this.inve[i].dsLinha;\r\n    this.infoIdInventario = this.inve[i].idInventario;\r\n  }\r\n\r\n  /* Paginação */\r\n  onPageChanged(event: PageChangedEvent): void {\r\n    const page = event.page;\r\n    this.form.get('pagina').setValue(page);\r\n    this.onSearch();\r\n  }\r\n  /* Paginação */\r\n\r\n  abrirInventario(idInventario, idStatusInventario) {\r\n    this.route.navigate([`../${idInventario}/contagem-materiais`], {\r\n      relativeTo: this.activatedRoute,\r\n    });\r\n  }\r\n\r\n  abrirRelatorio(idInventario) {\r\n    this.route.navigate([`../${idInventario}/relatorio`], {\r\n      relativeTo: this.activatedRoute,\r\n    });\r\n  }\r\n\r\n  openModal(index) {\r\n    this.idInventario = this.inventarios[index].idInventario;\r\n    this.compressedTable = true;\r\n  }\r\n\r\n  onClose() {\r\n    this.compressedTable = false;\r\n  }\r\n\r\n  /* clickEvent(inventario) {\r\n    this.inventarios.forEach(element => {\r\n      if (element.idInventario != inventario.idInventario) {\r\n        element.status = false;\r\n      } else if (inventario.status == true) {\r\n        inventario.status = true;\r\n      } else {\r\n        inventario.status = !inventario.status;\r\n      }\r\n      this.detailPanelService.hide();\r\n    });\r\n  } */\r\n\r\n  onFieldError(field: string) {\r\n    if (this.onFieldInvalid(field)) {\r\n      return 'is-invalid';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any) {\r\n    field = this.form.get(field);\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onFieldRequired(field: string) {\r\n    let required = false;\r\n    let formControl = new FormControl();\r\n\r\n    if (this.form.controls[field].validator) {\r\n      let validationResult = this.form.controls[field].validator(formControl);\r\n      required =\r\n        validationResult !== null && validationResult.required === true;\r\n    }\r\n\r\n    if (required) {\r\n      return 'is-required';\r\n    }\r\n  }\r\n\r\n  onClickSubtitle(id): void {\r\n    this.form.get('sigla').setValue(id);\r\n    this.onSearch();\r\n  }\r\n\r\n  onCadastrar() {\r\n    this.route.navigate(['../cadastro'], {\r\n      relativeTo: this.activatedRoute,\r\n    });\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbG9naXN0aWNhL2VzdG9xdWUvcGFpbmVsLWludmVudGFyaW8vaW52ZW50YXJpby9saXN0YS9saXN0YS5jb21wb25lbnQuc2NzcyJ9 */\";","export default \"<loader-spinner-full-screen [hidden]=\\\"!spinnerFullScreen\\\"></loader-spinner-full-screen>\\r\\n<loader-spinner-navbar [hidden]=\\\"!loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<app-header [appTitle]=\\\"appTitle\\\">\\r\\n  <button\\r\\n    (click)=\\\"postCadastraInventario()\\\"\\r\\n    [disabled]=\\\"form.status  == 'INVALID' || !tipoInventario\\\">\\r\\n    Cadastrar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col\\\">\\r\\n      <form autocomplete=\\\"off\\\" [formGroup]=\\\"form\\\">\\r\\n        <div class=\\\"form-row justify-content-center\\\">\\r\\n          <div class=\\\"form-group col-md-3\\\">\\r\\n            <label for=\\\"tipo\\\">Tipo de Inventário</label>\\r\\n            <ng-select\\r\\n              [searchable]=\\\"true\\\"\\r\\n              [clearable]=\\\"false\\\"\\r\\n              [items]=\\\"tipoInventario\\\"\\r\\n              [virtualScroll]=\\\"true\\\"\\r\\n              labelForId=\\\"tipo\\\"\\r\\n              bindLabel=\\\"descNome\\\"\\r\\n              bindValue=\\\"codigo\\\"\\r\\n              placeholder=\\\"Selecione um Tipo\\\"\\r\\n              formControlName=\\\"tipoInventario\\\"\\r\\n              [ngClass]=\\\"onFieldError('tipoInventario') + ' ' + onFieldRequired('tipoInventario')\\\"\\r\\n            >\\r\\n            </ng-select>\\r\\n            <invalid-form-control\\r\\n              [show]=\\\"onFieldInvalid('tipoInventario')\\\"\\r\\n              message=\\\"Tipo de inventário é obrigatório.\\\">\\r\\n            </invalid-form-control>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-md-3\\\">\\r\\n            <label for=\\\"empresa\\\">Empresa</label>\\r\\n            <ng-select\\r\\n              [searchable]=\\\"true\\\"\\r\\n              [clearable]=\\\"false\\\"\\r\\n              [items]=\\\"empresas\\\"\\r\\n              [virtualScroll]=\\\"true\\\"\\r\\n              labelForId=\\\"empresa\\\"\\r\\n              bindLabel=\\\"nomeFantasia\\\"\\r\\n              bindValue=\\\"codigoEmpresa\\\"\\r\\n              placeholder=\\\"Selecione uma empresa\\\"\\r\\n              formControlName=\\\"cdEmpresa\\\"\\r\\n              (change) =\\\"getDepositos()\\\"\\r\\n              (focus) =\\\"resetForm('depositos')\\\"\\r\\n              [ngClass]=\\\"onFieldError('cdEmpresa') + ' ' + onFieldRequired('cdEmpresa')\\\"\\r\\n            >\\r\\n            </ng-select>\\r\\n            <invalid-form-control\\r\\n              [show]=\\\"onFieldInvalid('cdEmpresa')\\\"\\r\\n              message=\\\"Empresa é obrigatório.\\\">\\r\\n            </invalid-form-control>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row justify-content-center\\\">\\r\\n          <div class=\\\"form-group col-md-3\\\">\\r\\n            <label for=\\\"depositos\\\">Depósito</label>\\r\\n            <ng-select\\r\\n              [searchable]=\\\"true\\\"\\r\\n              [clearable]=\\\"false\\\"\\r\\n              [items]=\\\"depositos\\\"\\r\\n              [virtualScroll]=\\\"true\\\"\\r\\n              labelForId=\\\"deposito\\\"\\r\\n              bindLabel=\\\"depositoDescricao\\\"\\r\\n              bindValue=\\\"depositoId\\\"\\r\\n              placeholder=\\\"Selecione um deposito\\\"\\r\\n              formControlName=\\\"cdDeposito\\\"\\r\\n              (focus) =\\\"resetForm('linhas')\\\"\\r\\n              [ngClass]=\\\"onFieldError('cdDeposito') + ' ' + onFieldRequired('cdDeposito')\\\"\\r\\n            >\\r\\n            </ng-select>\\r\\n            <invalid-form-control\\r\\n              [show]=\\\"onFieldInvalid('cdDeposito')\\\"\\r\\n              message=\\\"Despósito é obrigatório.\\\">\\r\\n            </invalid-form-control>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-md-3\\\">\\r\\n            <label for=\\\"linhas\\\">Linha</label>\\r\\n            <ng-select\\r\\n              [searchable]=\\\"true\\\"\\r\\n              [clearable]=\\\"false\\\"\\r\\n              [items]=\\\"linhas\\\"\\r\\n              [virtualScroll]=\\\"true\\\"\\r\\n              labelForId=\\\"linha\\\"\\r\\n              bindLabel=\\\"linha\\\"\\r\\n              bindValue=\\\"linha\\\"\\r\\n              placeholder=\\\"Selecione uma linha\\\"\\r\\n              formControlName=\\\"linhas\\\"\\r\\n              (change) = \\\"getClasses(); getMateriais(linhas, '')\\\"\\r\\n              (focus) =\\\"resetForm('classes')\\\"\\r\\n              [ngClass]=\\\"onFieldError('linhas') + ' ' + onFieldRequired('linhas')\\\"\\r\\n            >\\r\\n            </ng-select>\\r\\n            <invalid-form-control\\r\\n              [show]=\\\"onFieldInvalid('linhas')\\\"\\r\\n              message=\\\"Linha é obrigatório.\\\">\\r\\n            </invalid-form-control>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row justify-content-center\\\">\\r\\n          <div class=\\\"form-group col-md-2\\\">\\r\\n            <label for=\\\"classes\\\">Classe</label>\\r\\n            <ng-select\\r\\n              [searchable]=\\\"true\\\"\\r\\n              [clearable]=\\\"false\\\"\\r\\n              [items]=\\\"classes\\\"\\r\\n              [multiple]=\\\"true\\\"\\r\\n              [closeOnSelect]=\\\"false\\\"\\r\\n              [virtualScroll]=\\\"true\\\"\\r\\n              labelForId=\\\"classes\\\"\\r\\n              bindLabel=\\\"classeDescricao\\\"\\r\\n              bindValue=\\\"classeId\\\"\\r\\n              placeholder=\\\"Selecione uma classe\\\"\\r\\n              formControlName=\\\"classes\\\"\\r\\n              (change) = \\\"getMateriais(linhas, classes)\\\"\\r\\n              [ngClass]=\\\"onFieldError('classes')\\\"\\r\\n            >\\r\\n            </ng-select>\\r\\n            <invalid-form-control\\r\\n              [show]=\\\"onFieldInvalid('classes')\\\"\\r\\n              message=\\\"Classe é obrigatório.\\\">\\r\\n            </invalid-form-control>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-md-4\\\">\\r\\n            <label for=\\\"materiais\\\">Material</label>\\r\\n            <ng-select\\r\\n              [searchable]=\\\"true\\\"\\r\\n              [clearable]=\\\"false\\\"\\r\\n              [items]=\\\"materiais\\\"\\r\\n              [multiple]=\\\"true\\\"\\r\\n              [closeOnSelect]=\\\"false\\\"\\r\\n              [virtualScroll]=\\\"true\\\"\\r\\n              labelForId=\\\"materiais\\\"\\r\\n              bindLabel=\\\"codigoDescricaoMaterial\\\"\\r\\n              bindValue=\\\"codigoMaterial\\\"\\r\\n              placeholder=\\\"Selecione um material\\\"\\r\\n              formControlName=\\\"materiais\\\"\\r\\n            >\\r\\n            </ng-select>\\r\\n          </div>\\r\\n        </div>\\r\\n      </form>\\r\\n    </div>\\r\\n  </div>\\r\\n</app-body>\";","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class LogisticaEstoquePainelInventarioInventarioRelatorioService {\r\n  private readonly BASE_URL: string = `https://crm360.monterrey.com.bo/api`;\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getLista(idInventario) {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventario/${idInventario}/materiais`\r\n    );\r\n  }\r\n\r\n  getInfoInventario(idInventario) {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventario/${idInventario}/resultado`\r\n    );\r\n  }\r\n\r\n  getInfoInventarioRotativoGeral(idInventario) {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventario-rotativo/${idInventario}`\r\n    );\r\n  }\r\n\r\n  getInfoInventarioRotativo(idInventario, cdMaterial) {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventario-rotativo/${idInventario}/material/${cdMaterial}`,\r\n      {\r\n        observe: 'response',\r\n      }\r\n    );\r\n  }\r\n}\r\n","export default \"<loader-spinner-full-screen *ngIf=\\\"spinnerFullScreen\\\"></loader-spinner-full-screen>\\r\\n<loader-spinner-navbar *ngIf=\\\"loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<div class=\\\"row\\\" id=\\\"application-header\\\">\\r\\n  <div class=\\\"col-6\\\">\\r\\n    <div id=\\\"title\\\">\\r\\n      <back-button></back-button>\\r\\n      <h1>Realtório de inventário</h1>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-6 d-flex justify-content-end\\\">\\r\\n    <div id=\\\"actions\\\">\\r\\n      <button \\r\\n        (click)=\\\"onDownload()\\\"\\r\\n        >\\r\\n        Imprimir relatório\\r\\n    </button>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\" id=\\\"application-body\\\">\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <breadcrumb [tree]=\\\"breadCrumbTree\\\"></breadcrumb>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <div id=\\\"download\\\">\\r\\n          <div class=\\\"row justify-content-center\\\">\\r\\n            <div class=\\\"d-flex justify-content-between col-6 pl-5\\\">\\r\\n              <img class=\\\"\\\" src=\\\"../../../../../../../assets/images/logo/logo-manetoni.png\\\" height=\\\"100\\\" width=\\\"150\\\">\\r\\n            </div>\\r\\n            \\r\\n            <div class=\\\"d-flex justify-content-end col-6 mt-2 pr-5\\\">\\r\\n              <img class=\\\"\\\" src=\\\"../../../../../../../assets/images/logo/Logo-MTcorp.png\\\" height=\\\"65\\\" width=\\\"220\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"espacamento250\\\">&nbsp;</div>\\r\\n          <div class=\\\"row justify-content-center\\\">\\r\\n            <div class=\\\"my-5\\\">\\r\\n              <div class=\\\"d-flex justify-content-center\\\">\\r\\n                <h1>RELATÓRIO DE RESULTADOS DO INVENTÁRIO</h1>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        <!-- INICIA ESPAÇAMENTO -->\\r\\n          <div class=\\\"espacamento150\\\">&nbsp;</div>\\r\\n          <div style=\\\"height: 170px\\\">&nbsp;</div>\\r\\n        <!-- FINALIZA ESPAÇAMENTO --> \\r\\n          <ul class=\\\"p-0\\\">\\r\\n            <li class=\\\"mx-3\\\">\\r\\n              <h6 class=\\\"card-header border\\\"> \\r\\n                Empresa: {{ listaInfo.dsEmpresa | uppercase }} / Depósito: {{ listaInfo.dsDeposito | uppercase }} / Linha: {{ infoLinha| uppercase }} / Classe: {{ infoClasse | uppercase }}\\r\\n              </h6>\\r\\n            </li>\\r\\n          </ul> \\r\\n          <ul class=\\\"d-flex p-0 col-12  my-5\\\">\\r\\n            <li class=\\\"col-6\\\">\\r\\n              <div class=\\\"card justify-content-center align-items-center\\\">\\r\\n                <h5 class=\\\"card-header text-center w-100\\\"> Estoque total ton.(Anterior) </h5>\\r\\n                <div class=\\\"card-body font-weight-bold w-100 bgdValueList\\\">\\r\\n                  <div class=\\\"espacamento50\\\">&nbsp;</div>\\r\\n                  <div class=\\\"d-flex text-center col-12 large\\\">\\r\\n                    <div class=\\\"col\\\"><h1> {{ listaInfo.qtPesoEstoque | number:'1.3-3' }} </h1></div>\\r\\n                  </div>\\r\\n                  <div class=\\\"espacamento50\\\">&nbsp;</div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </li>\\r\\n            <li class=\\\"col-6\\\">\\r\\n              <div class=\\\"card justify-content-center align-items-center\\\">\\r\\n                <h5 class=\\\"card-header text-center w-100\\\"> Estoque total ton.(Atual) </h5>\\r\\n                <div class=\\\"card-body font-weight-bold w-100 bgdValueList\\\">\\r\\n                  <div class=\\\"espacamento50\\\">&nbsp;</div>\\r\\n                  <div class=\\\"d-flex text-center col-12 large\\\">\\r\\n                    <div class=\\\"col\\\"><h1> {{ listaInfo.saldoEstoque | number:'1.3-3' }} </h1></div>\\r\\n                  </div>\\r\\n                  <div class=\\\"espacamento50\\\">&nbsp;</div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </li>\\r\\n          </ul>\\r\\n          <div class=\\\"espacamento20\\\">&nbsp;</div>\\r\\n          <ul class=\\\"d-flex p-0 col-12  mt-5\\\">\\r\\n            <li class=\\\"col-6\\\">\\r\\n              <div class=\\\"card justify-content-center align-items-center\\\">\\r\\n                <h5 class=\\\"card-header text-center w-100\\\"> Total geral da contagem </h5>\\r\\n                <div class=\\\"card-body font-weight-bold w-100 bgdValueList\\\">\\r\\n                  <div class=\\\"espacamento50\\\">&nbsp;</div>\\r\\n                  <div class=\\\"d-flex text-center col-12 large\\\">\\r\\n                    <div class=\\\"col\\\"><h1> {{ listaInfo.saldoEstoqueLancamento | number:'1.3-3' }} </h1></div>\\r\\n                  </div>\\r\\n                  <div class=\\\"espacamento50\\\">&nbsp;</div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </li>\\r\\n            <li class=\\\"col-6\\\">\\r\\n              <div class=\\\"card justify-content-center align-items-center\\\">\\r\\n                <h5 class=\\\"card-header text-center w-100\\\"> Diferença total ajustada </h5>\\r\\n                <div class=\\\"card-body font-weight-bold w-100 bgdValueList\\\">\\r\\n                  <div class=\\\"espacamento50\\\">&nbsp;</div>  \\r\\n                  <div class=\\\"d-flex text-center col-12 large\\\">\\r\\n                    <div class=\\\"col\\\"><h1> {{ resultadoDiferenca | number:'1.3-3' }} </h1></div>\\r\\n                  </div>\\r\\n                  <div class=\\\"espacamento50\\\">&nbsp;</div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </li>\\r\\n          </ul>\\r\\n          <div class=\\\"espacamento20\\\">&nbsp;</div>\\r\\n          <ul class=\\\"d-flex p-0 col-12  mt-5\\\">\\r\\n            <li class=\\\"col-6\\\">\\r\\n              <div class=\\\"card justify-content-center align-items-center\\\">\\r\\n                  <h5 class=\\\"card-header text-center w-100\\\"> Resultado total do inventário </h5>\\r\\n                <div class=\\\"card-body font-weight-bold w-100 bgdValueList\\\">\\r\\n                  <div class=\\\"espacamento50\\\">&nbsp;</div>\\r\\n                  <div class=\\\"d-flex text-center col-12 large\\\">\\r\\n                    <div class=\\\"col\\\"><h1> {{ resultTotalInventario | number:'1.3-3' }} </h1></div>\\r\\n                  </div>\\r\\n                  <div class=\\\"espacamento50\\\">&nbsp;</div>\\r\\n                </div>\\r\\n              </div> \\r\\n            </li>\\r\\n            <li class=\\\"col-6\\\">\\r\\n                <div class=\\\"card justify-content-center align-items-center\\\">\\r\\n                  <h5 class=\\\"card-header text-center w-100\\\"> Resultado monetário total </h5>\\r\\n                  <div class=\\\"card-body font-weight-bold w-100 bgdValueList\\\">\\r\\n                    <div class=\\\"espacamento50\\\">&nbsp;</div>\\r\\n                    <div class=\\\"d-flex text-center col-12 large\\\">\\r\\n                      <div class=\\\"col\\\"><h1> {{ listaInfo.saldoFinanceiro | currency:'BRL':'symbol':'1.2-2'}} </h1></div>\\r\\n                    </div>\\r\\n                    <div class=\\\"espacamento50\\\">&nbsp;</div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </li>\\r\\n          </ul>\\r\\n          <div class=\\\"espacamento25\\\">&nbsp;</div>\\r\\n          <ul class=\\\"p-0\\\">\\r\\n            <li class=\\\"px-1 pb-1 \\\" *ngFor=\\\"let lista of listas\\\" style=\\\"list-style: none;\\\">\\r\\n              <div class=\\\"card\\\">\\r\\n                <h6 class=\\\"card-header\\\"> {{ lista.cdMaterial }} - {{ lista.dsMaterial }} </h6>\\r\\n                <div class=\\\"row card-body\\\">\\r\\n                  <div class=\\\"list-group list-group-flush col-4\\\">\\r\\n                    <div class=\\\"list-group-item border-0\\\"> Estoque ton.: {{ lista.qtPesoEstoque | number : '1.3-3' }} </div>\\r\\n                    <div class=\\\"list-group-item border-0\\\"> Qtd. peça físico: {{ lista.qtPecaContagem }} </div>\\r\\n                    <div class=\\\"list-group-item border-0\\\"> Peso físico ton.: {{ lista.qtPesoContagem | number : '1.3-3' }} </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"list-group list-group-flush col-4\\\">\\r\\n                    <div class=\\\"list-group-item border-0\\\"> Total da contagem: {{ lista.totalContagem | number : '1.3-3' }} </div>\\r\\n                    <div class=\\\"list-group-item border-0\\\"> Diferença ajustada: {{ lista.saldoEstoque | number : '1.3-3' }} </div>\\r\\n                    <div class=\\\"list-group-item border-0\\\"> Soma inventário rotativo: {{ lista.somaInventarioRotativo | number : '1.3-3' }} </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"list-group list-group-flush col-4\\\">\\r\\n                    <div class=\\\"list-group-item border-0\\\"> Resultado inventário: {{ lista.resultadoInventario | number : '1.3-3' }} </div>\\r\\n                    <div class=\\\"list-group-item border-0\\\"> Custo médio: {{ lista.precoMinimo | currency:'BRL':'symbol':'1.2-2' }} </div>\\r\\n                    <div class=\\\"list-group-item border-0\\\"> Resultado monetário: {{ lista.saldoFinanceiro | currency:'BRL':'symbol':'1.2-2' }} </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </li>\\r\\n          </ul>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>  \\r\\n\\r\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbG9naXN0aWNhL2VzdG9xdWUvcGFpbmVsLWludmVudGFyaW8vaW52ZW50YXJpby9tYXRlcmlhaXMtbm90YXMtZmlzY2Fpcy9tYXRlcmlhaXMtbm90YXMtZmlzY2Fpcy5jb21wb25lbnQuc2NzcyJ9 */\";","import { PageChangedEvent } from 'ngx-bootstrap/pagination';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { LogisticaEstoquePainelInventarioInventarioMateriaisOcorrenciasService } from './materiais-ocorrencias.service';\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { finalize, retry } from 'rxjs/operators';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { Subscription, forkJoin } from 'rxjs';\r\nimport { DetailPanelService } from 'src/app/shared/templates/detail-panel/detal-panel.service';\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\nimport { Subtitles } from 'src/app/shared/modules/subtitles/subtitles';\r\n\r\n@Component({\r\n  selector: 'materiais-ocorrencias',\r\n  templateUrl: './materiais-ocorrencias.component.html',\r\n  styleUrls: ['./materiais-ocorrencias.component.scss']\r\n})\r\nexport class LogisticaEstoquePainelInventarioInventarioMateriaisOcorrenciasComponent implements OnInit, OnDestroy {\r\n  currentUser: any = JSON.parse(localStorage.getItem('currentUser'));\r\n  matriculaAuditor: any = this.currentUser['info']['matricula'];\r\n  idInventario = this.activatedRoute.snapshot.params['id'];\r\n\r\n  form: FormGroup;\r\n  spinnerFullScreen = true;\r\n  loaderNavbar = true;\r\n  ocorrencias: any;\r\n  tempOcorrencias: any;\r\n  materiaisNotaFiscal: any = [];\r\n  notaFiscalSelecionada: number;\r\n  cdOcorrencia = '';\r\n  cdEmp = '';\r\n  loading = false;\r\n  qtNotasFiscais: any;\r\n  noResult = false;\r\n  tableNotasFiscaisMateriaisConfig = false;\r\n\r\n  appTitle = 'Ocorrências - Inventário:' + this.idInventario;\r\n  appTitleBreadcrumb = 'Ocorrências';\r\n  appTitleNotasFiscais = 'Lista de Materiais da ocorrência';\r\n\r\n  breadCrumbTree: Array<Breadcrumb> = [\r\n    {\r\n      descricao: 'Contagem de materiais',\r\n      routerLink: `../../${this.idInventario}/contagem-materiais`,\r\n    },\r\n    {\r\n      descricao: this.appTitleBreadcrumb,\r\n    },\r\n  ];\r\n\r\n  tableFilterConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: true,\r\n  };\r\n\r\n  /* Paginação */\r\n  itemsPerPage: number = 10;\r\n  totalItems: number;\r\n  currentPage: number = 1;\r\n  begin: number = 0;\r\n  end: number = 10;\r\n  beginP: number = 0;\r\n  endP: number = 10;\r\n  /* Paginação */\r\n\r\n  /* Painel de detalhes */\r\n  $showDetailPanelSubscription: Subscription;\r\n  showDetailPanel = false;\r\n\r\n  subtitles: Array<Subtitles> = [\r\n    {\r\n      id: 1,\r\n      text: 'Devolução Total de R.O.',\r\n      color: 'red',\r\n    },\r\n    {\r\n      id: 2,\r\n      text: 'Devolução Parcial de R.O.',\r\n      color: 'yellow',\r\n    },\r\n  ];\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private notice: PNotifyService,\r\n    private route: Router,\r\n    private formBuilder: FormBuilder,\r\n    private detailPanelService: DetailPanelService,\r\n    private dateService: DateService,\r\n    private ocorrenciasService: LogisticaEstoquePainelInventarioInventarioMateriaisOcorrenciasService\r\n  ) {\r\n    this.form = this.formBuilder.group({\r\n      cdNotaFiscal: [null],\r\n      cdOcorrencia: [null],\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getListaExistente();\r\n    this.onSubscription();\r\n  }\r\n\r\n  onSubscription() {\r\n    this.$showDetailPanelSubscription = this.detailPanelService.config.subscribe(\r\n      (event: any) => {\r\n        this.showDetailPanel = event.showing;\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.$showDetailPanelSubscription.unsubscribe();\r\n  }\r\n\r\n  getParams() {\r\n    let _params = {};\r\n    const obj = this.form.value;\r\n\r\n    for (let prop in obj) {\r\n      if (obj[prop]) {\r\n        if (prop == 'dataInicio' || prop == 'dataFim') {\r\n          _params[prop] =\r\n            obj[prop] instanceof Date\r\n              ? this.dateService.convertToUrlDate(obj[prop])\r\n              : obj[prop].substring(0, 10);\r\n        } else {\r\n          _params[prop] = obj[prop];\r\n        }\r\n      }\r\n    }\r\n    return _params;\r\n  }\r\n\r\n  getListaExistente() {\r\n    if (this.getListaCarregadaMaisNotaFiscal()) {\r\n      const val = this.cdOcorrencia;\r\n\r\n      if (!val) {\r\n        this.ocorrencias = this.tempOcorrencias;\r\n      }\r\n\r\n      const temp = this.tempOcorrencias.filter((row) => {\r\n        return Object.keys(row).some((property) => {\r\n          return row[property] === null\r\n            ? null\r\n            : row[property].toString().indexOf(val) !== -1;\r\n        });\r\n      });\r\n\r\n      this.ocorrencias = temp;\r\n      this.loading = false;\r\n    } else {\r\n      this.getInventario();\r\n    }\r\n  }\r\n\r\n  getListaCarregadaMaisNotaFiscal() {\r\n    let containsOcorrencia = false;\r\n    let isNotUndefined = typeof this.tempOcorrencias !== 'undefined';\r\n\r\n    if (isNotUndefined) {\r\n      containsOcorrencia = this.tempOcorrencias.find(\r\n        (element) => element.ocorrencia === this.cdOcorrencia\r\n      );\r\n    }\r\n\r\n    return isNotUndefined && containsOcorrencia;\r\n  }\r\n\r\n  getInventario(){\r\n    this.ocorrenciasService.getInventario(this.idInventario)\r\n    .pipe(\r\n      finalize(() => (\r\n        this.getOcorrencias()\r\n        )\r\n      ))\r\n    .subscribe((response) =>{\r\n      if (response['status'] === 200) {\r\n        this.cdEmp = response.body['data']['inventarios']['0']['cdEmpresa'];\r\n      }\r\n    })\r\n  }\r\n\r\n  getOcorrencias(){\r\n    this.detailPanelService.hide();\r\n    this.spinnerFullScreen = true;\r\n    this.loaderNavbar = true;\r\n    this.ocorrenciasService\r\n    .getOcorrencias(this.idInventario, this.getParams())\r\n    .pipe(\r\n      finalize(() => \r\n        (\r\n          this.loaderNavbar = false,\r\n          this.spinnerFullScreen = false\r\n        )\r\n      ))\r\n    .subscribe((response) =>{\r\n      if (response['status'] === 200) {\r\n        this.ocorrencias = response['body']['data']['ocorrencias'];\r\n        this.qtNotasFiscais = response['body']['data']['qtRegistros'];\r\n        this.noResult = true;\r\n      }\r\n    })\r\n  }\r\n\r\n  getMateriaisNotasFiscais(param) {\r\n    this.detailPanelService.show();\r\n    this.loading = true;\r\n    this.materiaisNotaFiscal = [];\r\n    this.ocorrenciasService\r\n      .getMateriaisNotasFiscais(this.idInventario, param)\r\n      .pipe(finalize(() => (\r\n        this.loading = false\r\n        )))\r\n      .subscribe((response) => {\r\n        if (response['status'] === 200) {\r\n          this.materiaisNotaFiscal = response['body']['data'];\r\n          this.notaFiscalSelecionada = param;\r\n          this.detailPanelService.loadedFinished(false);\r\n        } else this.detailPanelService.loadedFinished(true);\r\n      });\r\n  }\r\n\r\n  salvarNotasFiscais() {\r\n    let checkAlterado = [];\r\n    this.ocorrencias.forEach((element) => {\r\n      if (element.checkAlterado) {\r\n        checkAlterado.push(element);\r\n      }\r\n    });\r\n\r\n    let particao = 50;\r\n    let qtEnvios = Math.ceil(checkAlterado.length / particao);\r\n    let req: any = [];\r\n\r\n    this.loaderNavbar = true;\r\n\r\n    for (let index = 0; index < qtEnvios; index++)\r\n      req.push(\r\n        this.ocorrenciasService.salvarNotasFiscais(\r\n          this.idInventario,\r\n          checkAlterado.slice(particao * index, particao * (index + 1)),\r\n          this.matriculaAuditor\r\n        )\r\n      );\r\n\r\n    forkJoin(req)\r\n      .pipe(\r\n        retry(2),\r\n        finalize(() => (this.loaderNavbar = false))\r\n      )\r\n      .subscribe(\r\n        (data) => {\r\n          let contador = 0;\r\n          data[0]['body'].forEach((element) => {\r\n            if (element['responseCode'] == 200) {\r\n              this.notice.success('Itens salvos com sucesso!');\r\n              contador++;\r\n            } else {\r\n              this.notice.error(element['response']);\r\n            }\r\n          });\r\n          if (contador === data.length) {\r\n          }\r\n        },\r\n        (error) => {\r\n          this.notice.error('Ocorreu um erro ao salvar os itens');\r\n        }\r\n      );\r\n  }\r\n\r\n  verificaCheck(notaFiscal) {\r\n    notaFiscal.checkAlterado = !notaFiscal.checkAlterado;\r\n    this.salvarNotasFiscais();\r\n    this.getInventario();\r\n  }\r\n\r\n  /* Paginação */\r\n  onPageChanged(event: PageChangedEvent): void {\r\n    this.begin = (event.page - 1) * event.itemsPerPage;\r\n    this.end = event.page * event.itemsPerPage;\r\n  }\r\n  /* Paginação */\r\n\r\n  fecharSalvar(idInventario) {\r\n    this.route.navigate([`../../${idInventario}/contagem-materiais`], {\r\n      relativeTo: this.activatedRoute,\r\n    });\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { PdfService } from 'src/app/shared/services/core/pdf.service';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\nimport { LogisticaEstoquePainelInventarioInventarioRelatorioService } from './relatorio.service';\r\n\r\n@Component({\r\n  selector: 'relatorio',\r\n  templateUrl: './relatorio.component.html',\r\n  styleUrls: ['./relatorio.component.scss'],\r\n})\r\nexport class LogisticaEstoquePainelInventarioInventarioRelatorioComponent\r\n  implements OnInit {\r\n  idInventario: number = this.activatedRoute.snapshot.params['id'];\r\n  currentUser: any = JSON.parse(localStorage.getItem('currentUser'));\r\n  matriculaAuditor: any = this.currentUser['info']['matricula'];\r\n  spinnerFullScreen: boolean = true;\r\n  resultTotalInventario: number;\r\n  resultadoDiferenca: number;\r\n  resultadoContagem: number;\r\n  totalContagem: number;\r\n  qtPecaContagem: number;\r\n  qtPesoContagem: number;\r\n  inventarioRotativoTotal: any;\r\n  listas: any = [];\r\n  listaInfo: any = [];\r\n  infoLinha: any = '';\r\n  infoClasse: any = '';\r\n  loaderNavbar: boolean = false;\r\n  breadCrumbTree: any = [\r\n    {\r\n      descricao: 'Lista',\r\n      routerLink: '/logistica/estoque/painel-inventario/lista',\r\n    },\r\n    {\r\n      descricao: 'Relatório',\r\n    },\r\n  ];\r\n\r\n  constructor(\r\n    private pdfService: PdfService,\r\n    private notice: PNotifyService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private relatorioService: LogisticaEstoquePainelInventarioInventarioRelatorioService,\r\n    private atividadesService: AtividadesService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.getLista();\r\n    this.getInfoInventario();\r\n    this.getInfoInventarioRotativoGeral();\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n  }\r\n\r\n  getLista() {\r\n    let infoMateriais = [];\r\n\r\n    if (this.activatedRoute.snapshot.params['id'] > 0) {\r\n      this.idInventario = this.activatedRoute.snapshot.params['id'];\r\n      this.relatorioService\r\n        .getLista(this.idInventario)\r\n        .pipe(finalize(() => (this.spinnerFullScreen = false)))\r\n        .subscribe(\r\n          (response: any) => {\r\n            if (Object.keys(response).length > 0) {\r\n              this.listas = response['materiais'];\r\n              /* this.infoLinha = this.listas[0].dsLinha.trim();\r\n              this.infoClasse = this.listas[0].dsClasse; */\r\n\r\n              this.listas.forEach((element) => {\r\n                element.totalContagem =\r\n                  element.qtPecaContagem * element.pesoPeca +\r\n                  parseFloat(element.qtPesoContagem);\r\n\r\n                this.getInfoInventarioRotativo(element.cdMaterial).subscribe(\r\n                  (response: any) => {\r\n                    if (response.status == 204)\r\n                      element.somaInventarioRotativo = 0;\r\n                    else\r\n                      element.somaInventarioRotativo = parseFloat(\r\n                        response.body.saldoEstoque\r\n                      );\r\n                    element.resultadoInventario =\r\n                      parseFloat(element.saldoEstoque) +\r\n                      element.somaInventarioRotativo;\r\n                  }\r\n                );\r\n              });\r\n            }\r\n          },\r\n          (error) => {\r\n            this.notice.notice(\r\n              'Não há materiais cadastrados para esse inventário.'\r\n            );\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  getInfoInventario() {\r\n    this.relatorioService\r\n      .getInfoInventario(this.idInventario)\r\n      .subscribe((response: any) => {\r\n        this.listaInfo = response;\r\n        this.resultadoDiferenca =\r\n          parseFloat(this.listaInfo.saldoEstoque) -\r\n          parseFloat(this.listaInfo.qtPesoEstoque);\r\n      });\r\n  }\r\n\r\n  getInfoInventarioRotativo(cdMaterial) {\r\n    return this.relatorioService.getInfoInventarioRotativo(\r\n      this.idInventario,\r\n      cdMaterial\r\n    );\r\n  }\r\n\r\n  getInfoInventarioRotativoGeral() {\r\n    return this.relatorioService\r\n      .getInfoInventarioRotativoGeral(this.idInventario)\r\n      .subscribe((response: any) => {\r\n        this.inventarioRotativoTotal = parseFloat(response.saldoEstoque);\r\n        this.resultTotalInventario =\r\n          parseFloat(this.listaInfo.saldoEstoque) +\r\n          parseFloat(this.inventarioRotativoTotal);\r\n      });\r\n  }\r\n\r\n  onDownload() {\r\n    this.loaderNavbar = true;\r\n    setTimeout(() => {\r\n      this.pdfService.download(\r\n        'download',\r\n        `${this.idInventario}_ResultadoInventario`\r\n      );\r\n      this.loaderNavbar = false;\r\n    }, 1000);\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbG9naXN0aWNhL2VzdG9xdWUvcGFpbmVsLWludmVudGFyaW8vaW52ZW50YXJpby9tYXRlcmlhaXMtb2NvcnJlbmNpYXMvbWF0ZXJpYWlzLW9jb3JyZW5jaWFzLmNvbXBvbmVudC5zY3NzIn0= */\";","export default \"<loader-spinner-full-screen [hidden]=\\\"!spinnerFullScreen\\\"></loader-spinner-full-screen>\\r\\n<loader-spinner-navbar [hidden]=\\\"!loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<app-header [appTitle]=\\\"appTitle\\\">\\r\\n  <button \\r\\n    (click)=\\\"fecharSalvar(idInventario)\\\"\\r\\n  >\\r\\n    Fechar e Salvar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\">\\r\\n  <advanced-filter #scrollToFilter>\\r\\n    <form autocomplete=\\\"off\\\" [formGroup]=\\\"form\\\">\\r\\n      <div class=\\\"form-row justify-content-left\\\">\\r\\n        <div class=\\\"form-group col-md-2 justify-content-end\\\">\\r\\n          <label for=\\\"cdInventario\\\"> Número Nota Fiscal </label>\\r\\n          <input \\r\\n            id=\\\"cdNotaFiscal\\\"\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            placeholder=\\\"DIGITE...\\\"\\r\\n            formControlName=\\\"cdNotaFiscal\\\"\\r\\n            (keyup.enter)=\\\"getListaExistente()\\\"\\r\\n          >\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-md-2 justify-content-end\\\">\\r\\n          <label for=\\\"cdInventario\\\"> Número R.O. </label>\\r\\n          <input \\r\\n            id=\\\"cdOcorrencia\\\"\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            placeholder=\\\"DIGITE...\\\"\\r\\n            formControlName=\\\"cdOcorrencia\\\"\\r\\n            (keyup.enter)=\\\"getListaExistente()\\\"\\r\\n          >\\r\\n        </div>\\r\\n      </div>  \\r\\n    </form>\\r\\n  </advanced-filter>\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col\\\">\\r\\n      <subtitles\\r\\n        [data]=\\\"subtitles\\\"\\r\\n        [show]=\\\"noResult\\\">\\r\\n      </subtitles>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"row\\\">\\r\\n    <div [ngClass]=\\\"{'col': !showDetailPanel, 'col-4 pr-0': showDetailPanel}\\\">\\r\\n      <custom-table [config]=\\\"tableFilterConfig\\\">\\r\\n        <ng-template #thead let-thead>\\r\\n          <tr>\\r\\n            <th style=\\\"width: 50px\\\"></th>\\r\\n            <th class=\\\"text-center\\\">Nota Fiscal</th>\\r\\n            <th class=\\\"text-center\\\">Data Emissão NF</th>\\r\\n            <th class=\\\"text-center\\\">R.O.</th>\\r\\n            <th class=\\\"text-center\\\">Data Emissão R.O.</th>\\r\\n            <th style=\\\"width: 50px\\\"></th>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n        <ng-template #tbody let-tbody>\\r\\n          <tr class=\\\"hover\\\" *ngFor=\\\"let ocorrencia of ocorrencias | slice : begin : end; let i = index\\\" [ngClass]=\\\"{'bg-active': notaFiscalSelecionada == ocorrencia.NR_NOTA_FISCAL}\\\">\\r\\n            <td \\r\\n            style=\\\"width: 50px\\\"\\r\\n            [ngClass]=\\\" ocorrencia.SITU == 'TOTAL' ? 'border-danger' : 'border-warning'\\\" >\\r\\n              <div class=\\\"custom-control custom-checkbox\\\" style=\\\"cursor: pointer;\\\">\\r\\n                  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" \\r\\n                        [(ngModel)]=\\\"ocorrencia.check\\\" \\r\\n                        (change)=\\\"verificaCheck(ocorrencia)\\\" \\r\\n                        id=\\\"customCheck{{ i }}\\\" \\r\\n                        style=\\\"cursor: pointer;\\\">\\r\\n                  <label class=\\\"custom-control-label\\\" for=\\\"customCheck{{ i }}\\\" style=\\\"cursor: pointer;\\\"></label>\\r\\n              </div>\\r\\n            </td>\\r\\n            <td class=\\\"text-center\\\" (click)=\\\"getMateriaisNotasFiscais(ocorrencia.CD_OCOR)\\\">{{ ocorrencia.NR_NOTA_FISCAL }}</td>\\r\\n            <td class=\\\"text-center\\\" (click)=\\\"getMateriaisNotasFiscais(ocorrencia.CD_OCOR)\\\">{{ ocorrencia.DATA_EMIS }}</td>\\r\\n            <td class=\\\"text-center\\\" (click)=\\\"getMateriaisNotasFiscais(ocorrencia.CD_OCOR)\\\">{{ ocorrencia.CD_OCOR }}</td>\\r\\n            <td class=\\\"text-center\\\" (click)=\\\"getMateriaisNotasFiscais(ocorrencia.CD_OCOR)\\\">{{ ocorrencia.DATA_LANC }}</td>\\r\\n            <td style=\\\"width: 50px; cursor: pointer;\\\" (click)=\\\"getMateriaisNotasFiscais(ocorrencia.CD_OCOR)\\\"><i class=\\\"far fa-file-alt\\\"></i></td>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n      </custom-table><div class=\\\"mt-3 col-6\\\"></div>\\r\\n      <div *ngIf=\\\"qtNotasFiscais >= itemsPerPage\\\">\\r\\n        Exibindo {{ itemsPerPage*(currentPage - 1) + 1 }} a {{ currentPage*(itemsPerPage) > qtNotasFiscais ? qtNotasFiscais : currentPage*(itemsPerPage) }} de {{ qtNotasFiscais }}\\r\\n        <pagination\\r\\n          [maxSize]=\\\"10\\\"\\r\\n          [totalItems]=\\\"qtNotasFiscais\\\"\\r\\n          [(itemsPerPage)]=\\\"itemsPerPage\\\"\\r\\n          (pageChanged)=\\\"onPageChanged($event)\\\"\\r\\n          [boundaryLinks]=\\\"true\\\"\\r\\n          [(ngModel)]=\\\"currentPage\\\"\\r\\n          previousText=\\\"&lsaquo;\\\"\\r\\n          nextText=\\\"&rsaquo;\\\"\\r\\n          firstText=\\\"&laquo;\\\"\\r\\n          lastText=\\\"&raquo;\\\">\\r\\n        </pagination>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-8\\\" [hidden]=\\\"!showDetailPanel\\\">\\r\\n      <detail-panel [panelTitle]=\\\"appTitleNotasFiscais\\\">\\r\\n        <custom-table [config]=\\\"tableNotasFiscaisMateriaisConfig\\\"> <!-- [heading]=\\\"notaFiscalSelecionada\\\" -->\\r\\n          <ng-template #thead let-thead>\\r\\n            <tr>\\r\\n              <th>Código</th>\\r\\n              <th style=\\\"width: 50%\\\">Descrição</th>\\r\\n              <th>Peso Liq. NF</th>\\r\\n              <th>Peso Liq. Ocorrência</th>\\r\\n              <th>Valor</th>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n          <ng-template #tbody let-tbody>\\r\\n            <tr *ngFor=\\\"let materialNotaFiscal of materiaisNotaFiscal; let i = index\\\">\\r\\n              <td>{{ materialNotaFiscal.CD_MATE }}</td>\\r\\n              <td style=\\\"width: 50%\\\">{{ materialNotaFiscal.DS_MATE  }}</td>\\r\\n              <td>{{ materialNotaFiscal.QT_ITEM | number : '1.3-3' }}</td>\\r\\n              <td>{{ materialNotaFiscal.QT_OCOR_DEVO | number : '1.3-3' }}</td>\\r\\n              <td>{{ materialNotaFiscal.VL_UNIT | currency:'BRL':'symbol':'1.2-2'}}</td>\\r\\n            </tr> \\r\\n          </ng-template>\\r\\n        </custom-table>\\r\\n      </detail-panel>\\r\\n    </div>\\r\\n  </div>\\r\\n</app-body>\\r\\n\\r\\n\";","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class LogisticaEstoquePainelInventarioInventarioListaService {\r\n  private readonly BASE_URL: string = `https://crm360.monterrey.com.bo/api`;\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getLista(\r\n    idInventario,\r\n    matricula = '',\r\n    cdMaterial = '',\r\n    naoConsideraEstoqueZerado\r\n  ) {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventarios/${idInventario}/materiais`,\r\n      {\r\n        params: {\r\n          idInventario: idInventario,\r\n          matricula: matricula,\r\n          cdMaterial: cdMaterial,\r\n          naoConsideraEstoqueZerado: naoConsideraEstoqueZerado,\r\n        },\r\n      }\r\n    );\r\n  }\r\n\r\n  getListaMateriaisParaFiltro(idInventario, matricula = '') {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventarios/${idInventario}/materiais`,\r\n      {\r\n        params: {\r\n          idInventario: idInventario,\r\n          matricula: matricula,\r\n          naoConsideraEstoqueZerado: '0',\r\n          qtPagina: '1000',\r\n        },\r\n        observe: 'response',\r\n      }\r\n    );\r\n  }\r\n\r\n  postSalvar(requisicao, idInventario) {\r\n    return this.http.post(\r\n      `${this.BASE_URL}/logistica/estoque/inventario/${idInventario}/materiais/lancamento`,\r\n      requisicao,\r\n      { observe: 'response' }\r\n    );\r\n  }\r\n\r\n  atualizarInventario(\r\n    observacao = '',\r\n    idStatusInventario,\r\n    idInventario,\r\n    matriculaAuditor\r\n  ) {\r\n    return this.http.put(\r\n      `${this.BASE_URL}/logistica/estoque/inventarios/${idInventario}`,\r\n      {\r\n        observacao: observacao,\r\n        idStatusInventario: idStatusInventario,\r\n        matriculaAuditor: matriculaAuditor,\r\n      },\r\n      { observe: 'response' }\r\n    );\r\n  }\r\n\r\n  getInfoInventario(idInventario) {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventario/${idInventario}`\r\n    );\r\n  }\r\n\r\n  getNotasFiscaisRo(idInventario, nrNotaFiscalRo) {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventario/${idInventario}/notas-fiscais`,\r\n      {\r\n        params: {\r\n          nrNotaFiscalRo: nrNotaFiscalRo,\r\n        },\r\n        observe: 'response',\r\n      }\r\n    );\r\n  }\r\n\r\n  getMateriaisNotasFiscaisRo(idInventario, notaFiscalRo) {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventario/${idInventario}/nota-fiscal/${notaFiscalRo}`,\r\n      {\r\n        observe: 'response',\r\n      }\r\n    );\r\n  }\r\n\r\n  salvarNotasFiscaisRo(idInventario, notasFiscaisRo, matriculaAuditor) {\r\n    return this.http.put(\r\n      `${this.BASE_URL}/logistica/estoque/inventario/${idInventario}/notas-fiscais`,\r\n      {\r\n        notasFiscaisRo: notasFiscaisRo,\r\n        matriculaAuditor: matriculaAuditor,\r\n      },\r\n      { observe: 'response' }\r\n    );\r\n  }\r\n\r\n  getInfoInventarioRotativo(idInventario, cdMaterial) {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventario-rotativo/${idInventario}/material/${cdMaterial}`,\r\n      {\r\n        observe: 'response',\r\n      }\r\n    );\r\n  }\r\n\r\n  getPerfil(matricula = '') {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventario/usuarios/${matricula}/perfis/controle-acesso`\r\n    );\r\n  }\r\n\r\n  getTotal(idInventario) {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventarios/${idInventario}/resultado`,\r\n      {\r\n        observe: 'response',\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LogisticaEstoquePainelInventarioInventarioService {\r\n  private readonly BASE_URL: string = `https://crm360.monterrey.com.bo/api`;\r\n\r\n  constructor(private http: HttpClient, private dateService: DateService) {}\r\n\r\n  getInventario(params?) {\r\n    return this.http.get(`${this.BASE_URL}/logistica/estoque/inventarios`, {\r\n      params: params,\r\n      observe: 'response'\r\n    });\r\n  }\r\n\r\n  getClassesInventario(idInventario) {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventarios/classes/${idInventario}`,\r\n      {\r\n        observe: 'response'\r\n      }\r\n    );\r\n  }\r\n\r\n  getEmpresas() {\r\n    return this.http.get(`${this.BASE_URL}/common/empresas`);\r\n  }\r\n\r\n  getDepositos(idEmpresa) {\r\n    return this.http.get(`${this.BASE_URL}/common/depositos/${idEmpresa}`);\r\n  }\r\n\r\n  getLinhas() {\r\n    return this.http.get(`${this.BASE_URL}/common/linhas`);\r\n  }\r\n\r\n  getClasses(descricaoLinhas) {\r\n    return this.http.get(`${this.BASE_URL}/common/classes`, {\r\n      params: {\r\n        linhas: btoa(descricaoLinhas)\r\n      }\r\n    });\r\n  }\r\n\r\n  getMateriais(descricaoLinhas, idClasses) {\r\n    if (!idClasses) idClasses = '';\r\n\r\n    return this.http.get(`${this.BASE_URL}/common/materiais`, {\r\n      params: {\r\n        linhas: btoa(descricaoLinhas),\r\n        classes: btoa(idClasses)\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class LogisticaEstoquePainelInventarioInventarioMateriaisNotasFiscaisService {\r\n  private readonly BASE_URL: string = `https://crm360.monterrey.com.bo/api`;\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getNotasFiscais(idInventario, nrNotaFiscal, cdEmp) {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventarios/${idInventario}/notas-fiscais`,\r\n      {\r\n        params: {\r\n          nrNotaFiscal: nrNotaFiscal,\r\n          cdEmp: cdEmp\r\n        },\r\n        observe: 'response',\r\n      }\r\n    );\r\n  }\r\n\r\n  getMateriaisNotasFiscais(idInventario, notaFiscal) {\r\n    return this.http.get(\r\n      `${this.BASE_URL}/logistica/estoque/inventarios/${idInventario}/nota-fiscal/${notaFiscal}`,\r\n      {\r\n        observe: 'response',\r\n      }\r\n    );\r\n  }\r\n\r\n  salvarNotasFiscais(idInventario, notasFiscais, matriculaAuditor) {\r\n    return this.http.put(\r\n      `${this.BASE_URL}/logistica/estoque/inventarios/${idInventario}/notas-fiscais`,\r\n      {\r\n        notasFiscais: notasFiscais,\r\n        matriculaAuditor: matriculaAuditor,\r\n      },\r\n      { observe: 'response' }\r\n    );\r\n  }\r\n\r\n  getInventario(cdInventario) {\r\n    return this.http.get(`${this.BASE_URL}/logistica/estoque/inventarios`, {\r\n      params: {cdInventario: cdInventario\r\n      },\r\n      observe: 'response'\r\n    });\r\n  }\r\n}\r\n"]}