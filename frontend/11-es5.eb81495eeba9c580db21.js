!function(){function l(l,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,(a=t.key,s=void 0,"symbol"==typeof(s=function(l,n){if("object"!=typeof l||null===l)return l;var e=l[Symbol.toPrimitive];if(void 0!==e){var t=e.call(l,n||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(l)}(a,"string"))?s:String(s)),t)}var a,s}function n(n,e,t){return e&&l(n.prototype,e),t&&l(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function e(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"9lCC":function(l,t,a){"use strict";a.d(t,"a",(function(){return s}));var s=n((function l(){e(this,l)}))},C2w5:function(l,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a("8Y7J"),r=a("cclQ"),u=a("xJfa");a("Rk3r"),a("yFC9");var i=function(){function l(n,t,a){e(this,l),this.dashboardService=n,this.zone=t,this.dateService=a,this.showHeader=!0,this.loaderStyle="full",this.onData=new s.EventEmitter,this.pastChartsEmpty=!1,this.currChartsEmpty=!1,this.pastToneladasEmpty=!1,this.pastClientesEmpty=!1,this.pastExtrasEmpty=!1,this.currToneladasEmpty=!1,this.currClientesEmpty=!1,this.currExtrasEmpty=!1}return n(l,[{key:"ngOnInit",value:function(){this.onDestroy(),this.renderMonthFilters(),this.getChartsData(this.idEscritorio,this.idVendedor)}},{key:"ngOnDestroy",value:function(){this.onDestroy()}},{key:"onDestroy",value:function(){var l=this;this.zone.runOutsideAngular((function(){l.pastChartToneladas&&l.pastChartToneladas.dispose(),l.pastChartClientes&&l.pastChartClientes.dispose(),l.pastChartExtras&&l.pastChartExtras.dispose(),l.currChartToneladas&&l.currChartToneladas.dispose(),l.currChartClientes&&l.currChartClientes.dispose(),l.currChartExtras&&l.currChartExtras.dispose()}))}},{key:"resetChartsData",value:function(){this.chartLoaded=!1,this.pastChartsEmpty=!1,this.currChartsEmpty=!1,this.pastToneladasEmpty=!1,this.pastClientesEmpty=!1,this.pastExtrasEmpty=!1,this.currToneladasEmpty=!1,this.currClientesEmpty=!1,this.currExtrasEmpty=!1}},{key:"getChartsData",value:function(l,n){var e=this;this.resetChartsData(),this.dashboardService.getMetas(l,n).subscribe((function(l){e.renderCharts(l)}))}},{key:"renderCharts",value:function(l){200===l.responseCode?(this.onData.emit(l.result),l.result.passado.toneladas&&Object.keys(l.result.passado.toneladas).length>0?this.renderChart("passadoToneladas",l.result.passado.toneladas,"past-gauge-chart-toneladas"):this.handleEmpty("passadoToneladas"),l.result.passado.clientes&&Object.keys(l.result.passado.clientes).length>0?this.renderChart("passadoClientes",l.result.passado.clientes,"past-gauge-chart-clientes"):this.handleEmpty("passadoClientes"),l.result.passado.extras&&Object.keys(l.result.passado.extras).length>0?this.renderChart("passadoExtras",l.result.passado.extras,"past-gauge-chart-extras"):this.handleEmpty("passadoExtras"),l.result.passado&&0!=Object.keys(l.result.passado).length||this.handleEmpty("passadoTodos"),l.result.corrente.toneladas&&Object.keys(l.result.corrente.toneladas).length>0?this.renderChart("correnteToneladas",l.result.corrente.toneladas,"current-gauge-chart-toneladas"):this.handleEmpty("correnteToneladas"),l.result.corrente.clientes&&Object.keys(l.result.corrente.clientes).length>0?this.renderChart("correnteClientes",l.result.corrente.clientes,"current-gauge-chart-clientes"):this.handleEmpty("correnteClientes"),l.result.corrente.extras&&Object.keys(l.result.corrente.extras).length>0?this.renderChart("correnteExtras",l.result.corrente.extras,"current-gauge-chart-extras"):this.handleEmpty("correnteExtras"),l.result.corrente&&0!=Object.keys(l.result.corrente).length||this.handleEmpty("correnteTodos")):(this.handleEmpty("passadoToneladas"),this.handleEmpty("passadoClientes"),this.handleEmpty("passadoExtras"),this.handleEmpty("passadoTodos"),this.handleEmpty("correnteToneladas"),this.handleEmpty("correnteClientes"),this.handleEmpty("correnteExtras"),this.handleEmpty("correnteTodos")),this.chartLoaded=!0}},{key:"handleEmpty",value:function(l){"passadoTodos"==l?this.pastChartsEmpty=!0:"passadoToneladas"==l?this.pastToneladasEmpty=!0:"passadoClientes"==l||"passadoExtras"==l?this.pastClientesEmpty=!0:"correnteTodos"==l?this.currChartsEmpty=!0:"correnteToneladas"==l?this.currToneladasEmpty=!0:"correnteClientes"==l?this.currClientesEmpty=!0:"correnteExtras"==l&&(this.currExtrasEmpty=!0)}},{key:"renderChart",value:function(l,n,e){var t=this;this.zone.runOutsideAngular((function(){var a,s=r.h(e,u.GaugeChart);s.hiddenState.properties.opacity=0,s.data=n,s.innerRadius=r.k(82);var i=100*(n.progresso/n.meta-1);i<=40?a=1.4:i>40&&i<50?a=1.5:i>50&&i<60?a=1.6:i>60&&i<70?a=1.7:i>70&&i<80?a=1.8:i>80&&i<90?a=1.9:i>90&&i<100&&(a=2);var o,c=n.meta*a,d=n.unidade,h=.88*n.meta,p=.95*n.meta,m=n.meta,f=1.01*n.meta,g=n.tipo,y=n.progresso,v=n.meta,C=n.percentual.toFixed(0);o=n.progresso>c?c:n.progresso;var b=s.xAxes.push(new u.ValueAxis);b.min=0,b.max=c,b.strictMinMax=!1,b.renderer.radius=r.k(80),b.renderer.inside=!1,b.renderer.ticks.template.strokeOpacity=1,b.renderer.ticks.template.length=10,b.renderer.grid.template.disabled=!1,b.renderer.labels.template.radius=35,b.renderer.labels.template.adapter.add("text",(function(l){return l+d}));var E=s.xAxes.push(new u.ValueAxis);E.min=0,E.max=c,E.renderer.innerRadius=10,E.strictMinMax=!0,E.renderer.labels.template.disabled=!0,E.renderer.ticks.template.disabled=!0,E.renderer.grid.template.disabled=!0;var x=E.axisRanges.create();x.value=0,x.endValue=h,x.axisFill.fillOpacity=1,x.axisFill.fill=r.g("#FF4343");var k=E.axisRanges.create();k.value=h,k.endValue=p,k.axisFill.fillOpacity=1,k.axisFill.fill=r.g("#FFEA00");var T=E.axisRanges.create();T.value=p,T.endValue=m,T.axisFill.fillOpacity=1,T.axisFill.fill=r.g("#4DCC71");var I=E.axisRanges.create();I.value=m,I.endValue=f,I.axisFill.fillOpacity=1,I.axisFill.fill=r.g("#000000");var w=E.axisRanges.create();w.value=f,w.endValue=c,w.axisFill.fillOpacity=1,w.axisFill.fill=r.g("#31924C");var j=s.radarContainer.createChild(r.c);j.isMeasured=!1,j.x=r.k(50),j.y=60,j.horizontalCenter="middle",j.verticalCenter="bottom",j.html='<p class="text-center mb-0"><strong>'.concat(g,'</strong></p><p class="text-center">').concat(y).concat(d," de ").concat(v).concat(d," <strong>(").concat(C,"%)</strong></p>");var M=s.hands.push(new u.ClockHand);M.axis=E,M.innerRadius=r.k(20),M.startWidth=3,M.pin.disabled=!0,M.value=o,"passadoToneladas"==l?t.pastChartToneladas=s:"passadoClientes"==l?t.pastChartClientes=s:"passadoExtras"==l?t.pastChartExtras=s:"correnteToneladas"==l?t.currChartToneladas=s:"correnteClientes"==l?t.currChartClientes=s:"correnteExtras"==l&&(t.currChartExtras=s)}))}},{key:"renderMonthFilters",value:function(){var l=new Date,n=new Date;31===l.getDate()?n.setDate(l.getDate()-31):n.setDate(l.getDate()-30),this.currMonth=this.dateService.getFullMonth(l),this.pastMonth=this.dateService.getFullMonth(n),this.activeMonth=this.currMonth}},{key:"setMonth",value:function(l){var n=this;this.chartLoaded=!1,this.activeMonth=l,setTimeout((function(){n.chartLoaded=!0}),1e3)}}]),l}()},J2fE:function(l,n,e){"use strict";e.d(n,"a",(function(){return c})),e.d(n,"b",(function(){return C}));var t=e("8Y7J"),a=e("SVse"),s=e("978R"),r=e("z/SZ"),u=e("2uy1"),i=e("qNf+"),o=e("MaMn"),c=(e("C2w5"),e("yFC9"),e("Rk3r"),t["\u0275crt"]({encapsulation:0,styles:[["#metas{height:345px}  #metas #current-gauge-chart-clientes,   #metas #current-gauge-chart-extras,   #metas #current-gauge-chart-toneladas,   #metas #past-gauge-chart-clientes,   #metas #past-gauge-chart-extras,   #metas #past-gauge-chart-toneladas{height:300px;max-width:400px}"]],data:{}}));function d(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"b",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"u",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Facturacion total:"])),(l()(),t["\u0275ted"](-1,null,[" Todas las ventas hasta la fecha frente al objetivo del mes en toneladas."])),(l()(),t["\u0275eld"](5,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"b",[],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"u",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Clientes con una compra:"])),(l()(),t["\u0275ted"](-1,null,[" Todos los clientes que han realizado compras hasta el momento frente al objetivo del mes."])),(l()(),t["\u0275eld"](10,0,null,null,4,"p",[["class","mb-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,2,"b",[],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"u",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Meta bonificaciones (Civil o Industrial Larga):"])),(l()(),t["\u0275ted"](-1,null,[" Todas las ventas realizadas hasta la fecha en la l\xednea espec\xedfica frente al objetivo en toneladas (Civil no incluye Corte y Doblado/Armado e Industrial Largo no incluye Perfil W/H).."]))],null,null)}function h(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"div",[["class","btn-group btn-group-sm"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"button",[["class","btn btn-light"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0,a=l.component;return"click"===n&&(t=!1!==a.setMonth(a.pastMonth)&&t),t}),null,null)),t["\u0275did"](2,278528,null,0,a.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{active:0}),(l()(),t["\u0275eld"](4,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""])),(l()(),t["\u0275eld"](6,0,null,null,4,"button",[["class","btn btn-light active"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0,a=l.component;return"click"===n&&(t=!1!==a.setMonth(a.currMonth)&&t),t}),null,null)),t["\u0275did"](7,278528,null,0,a.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](8,{active:0}),(l()(),t["\u0275eld"](9,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""]))],(function(l,n){var e=n.component,t=l(n,3,0,e.activeMonth==e.pastMonth);l(n,2,0,"btn btn-light",t);var a=l(n,8,0,e.activeMonth==e.currMonth);l(n,7,0,"btn btn-light active",a)}),(function(l,n){var e=n.component;l(n,1,0,!e.chartLoaded),l(n,5,0,e.pastMonth),l(n,6,0,!e.chartLoaded),l(n,10,0,e.currMonth)}))}function p(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,8,"div",[["class","col"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,7,"div",[["class","d-flex justify-content-between"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"div",[["class","mtc-title mb-0"]],null,null,null,null,null)),(l()(),t["\u0275and"](0,[["metasTooltipTemplate",2]],null,0,null,d)),(l()(),t["\u0275eld"](5,16777216,null,null,1,"i",[["class","far fa-question-circle p-2"],["placement","right"]],[[1,"aria-describedby",0]],null,null,null,null)),t["\u0275did"](6,212992,null,0,s.c,[t.ViewContainerRef,r.a,s.a,t.ElementRef,t.Renderer2,u.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),(l()(),t["\u0275ted"](-1,null,[" Mapa de metas "])),(l()(),t["\u0275and"](16777216,null,null,1,null,h)),t["\u0275did"](9,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,6,0,t["\u0275nov"](n,4),"right"),l(n,9,0,!e.pastChartsEmpty||!e.currChartsEmpty)}),(function(l,n){l(n,5,0,t["\u0275nov"](n,6).ariaDescribedby)}))}function m(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"empty-result",[["message","Ninguna informacion encontrada"]],null,null,null,i.b,i.a)),t["\u0275did"](1,49152,null,0,o.a,[],{message:[0,"message"]},null)],(function(l,n){l(n,1,0,"Ninguna informacion encontrada")}),null)}function f(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"empty-result",[["message","Ninguna informacion encontrada"]],null,null,null,i.b,i.a)),t["\u0275did"](1,49152,null,0,o.a,[],{message:[0,"message"]},null)],(function(l,n){l(n,1,0,"Ninguna informacion encontrada")}),null)}function g(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","row align-items-center justify-content-center h-100"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"div",[["class","col text-center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"div",[["class","spinner-border text-dark"]],null,null,null,null,null))],null,null)}function y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","mt-2 d-flex w-100"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"div",[["class","spinner-border spinner-border-sm text-dark my-auto mr-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Cargando mapa de metas..."]))],null,null)}function v(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,g)),t["\u0275did"](2,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](4,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,"full"===e.loaderStyle),l(n,4,0,"tiny"===e.loaderStyle)}),null)}function C(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,23,"div",[["class","row"],["id","metas"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,22,"div",[["class","col"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,p)),t["\u0275did"](3,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](4,0,null,null,8,"div",[["class","row align-items-center justify-content-center h-100"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"div",[["class","col-md-4 mb-4 d-flex justify-content-center"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,0,"div",[["class","amcharts"],["id","past-gauge-chart-toneladas"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"div",[["class","col-md-4 mb-4 d-flex justify-content-center"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,0,"div",[["class","amcharts"],["id","past-gauge-chart-clientes"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,"div",[["class","col-md-4 mb-4 d-flex justify-content-center"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,0,"div",[["class","amcharts"],["id","past-gauge-chart-extras"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,m)),t["\u0275did"](12,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](13,0,null,null,8,"div",[["class","row align-items-center justify-content-center h-100"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"div",[["class","col-md-4 mb-4 d-flex justify-content-center"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,0,"div",[["class","amcharts"],["id","current-gauge-chart-toneladas"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"div",[["class","col-md-4 mb-4 d-flex justify-content-center"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,0,"div",[["class","amcharts"],["id","current-gauge-chart-clientes"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"div",[["class","col-md-4 mb-4 d-flex justify-content-center"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,0,"div",[["class","amcharts"],["id","current-gauge-chart-extras"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,f)),t["\u0275did"](21,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,v)),t["\u0275did"](23,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,3,0,e.showHeader),l(n,12,0,e.pastChartsEmpty),l(n,21,0,e.currChartsEmpty),l(n,23,0,!e.chartLoaded)}),(function(l,n){var e=n.component;l(n,4,0,!e.chartLoaded||e.activeMonth==e.currMonth),l(n,5,0,e.pastToneladasEmpty||e.pastChartsEmpty),l(n,7,0,e.pastClientesEmpty||e.pastChartsEmpty),l(n,9,0,e.pastExtrasEmpty||e.pastChartsEmpty),l(n,13,0,!e.chartLoaded||e.activeMonth==e.pastMonth),l(n,14,0,e.currToneladasEmpty||e.currChartsEmpty),l(n,16,0,e.currClientesEmpty||e.currChartsEmpty),l(n,18,0,e.currExtrasEmpty||e.currChartsEmpty)}))}},yFC9:function(l,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a("IzEk"),r=a("8Y7J"),u=a("IheW"),i=function(){var l=function(){function l(n){e(this,l),this.http=n,this.API="http://23.254.204.187/api/comercial/dashboard/vendedor"}return n(l,[{key:"getDesempenhoToneladas",value:function(l,n){return this.http.get("".concat(this.API,"/desempenho/toneladas/").concat(l,"/").concat(n)).pipe(Object(s.a)(1))}},{key:"getDesempenhoLinhas",value:function(l,n){return this.http.get("".concat(this.API,"/desempenho/linhas/").concat(l,"/").concat(n)).pipe(Object(s.a)(1))}},{key:"getConcentracaoVendas",value:function(l){return this.http.get("".concat(this.API,"/concentracao-vendas/").concat(l)).pipe(Object(s.a)(1))}},{key:"getMetas",value:function(l,n){return this.http.get("".concat(this.API,"/metas/").concat(l,"/").concat(n)).pipe(Object(s.a)(1))}},{key:"getClientes",value:function(l,n){return this.http.get("".concat(this.API,"/carteira-clientes/").concat(l,"/").concat(n)).pipe(Object(s.a)(1))}},{key:"getRegistroOcorrencias",value:function(l,n){return this.http.get("".concat(this.API,"/registro-ocorrencias/").concat(l,"/").concat(n)).pipe(Object(s.a)(1))}},{key:"getFinanceiroInadimplentes",value:function(l,n){return this.http.get("".concat(this.API,"/financeiro/inadimplentes/").concat(l,"/").concat(n)).pipe(Object(s.a)(1))}},{key:"getValorRepresentante",value:function(l){return this.http.get("".concat(this.API,"/financeiro/representantes/").concat(l)).pipe(Object(s.a)(1))}},{key:"getFinanceiroNotasDebito",value:function(l,n){return this.http.get("".concat(this.API,"/financeiro/notas-debito/").concat(l,"/").concat(n)).pipe(Object(s.a)(1))}}]),l}();return l.\u0275prov=r["\u0275\u0275defineInjectable"]({factory:function(){return new l(r["\u0275\u0275inject"](u.c))},token:l,providedIn:"root"}),l}()}}])}();