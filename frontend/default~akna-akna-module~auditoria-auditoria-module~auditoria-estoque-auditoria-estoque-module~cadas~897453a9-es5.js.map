{"version":3,"sources":["webpack:///node_modules/ng2-currency-mask/src/currency-mask.config.js","webpack:///node_modules/ng2-currency-mask/index.js","webpack:///node_modules/ng2-currency-mask/src/currency-mask.module.js","webpack:///node_modules/ng2-currency-mask/src/input.handler.js","webpack:///node_modules/ng2-currency-mask/src/input.manager.js","webpack:///node_modules/ng2-currency-mask/src/currency-mask.directive.js","webpack:///node_modules/ng2-currency-mask/src/input.service.js"],"names":["Object","defineProperty","exports","value","core_1","CURRENCY_MASK_CONFIG","InjectionToken","__export","m","p","hasOwnProperty","common_1","forms_1","currency_mask_directive_1","CurrencyMaskModule","decorators","type","NgModule","args","imports","CommonModule","FormsModule","declarations","CurrencyMaskDirective","ctorParameters","input_service_1","InputHandler","htmlInputElement","options","inputService","InputService","prototype","handleClick","event","chromeAndroid","selectionRangeLength","Math","abs","inputSelection","selectionEnd","selectionStart","isNaN","fixCursorPosition","handleCut","_this","isReadOnly","setTimeout","updateFieldValue","setValue","onModelChange","handleInput","keyCode","getNewKeyCode","storedRawValue","rawValue","rawValueLength","length","rawValueSelectionEnd","rawValueWithoutSuffixEndPosition","getRawValueWithoutSuffixEndPosition","storedRawValueLength","setCursorPosition","removeNumber","changeToPositive","changeToNegative","canInputMoreNumbers","String","fromCharCode","match","addNumber","handleKeydown","which","charCode","preventDefault","handleKeypress","undefined","indexOf","isArrowEndHomeKeyInFirefox","handleKeyup","handlePaste","updateOptions","getOnModelChange","setOnModelChange","callbackFunction","getOnModelTouched","onModelTouched","setOnModelTouched","oldString","newString","x","charCodeAt","readOnly","target","setSelectionRange","InputManager","setCursorAt","position","focus","createTextRange","textRange","collapse","moveEnd","moveStart","select","updateValueAndCursor","newRawValue","oldLength","newLength","get","haventReachedMaxLength","maxLength","haveNumberSelected","substring","startWithZero","enumerable","configurable","range","document","getSelection","baseNode","firstChild","lenght","normalizedValue","replace","startRange","endRange","compareEndPoints","slice","split","set","_storedRawValue","currency_mask_config_1","input_handler_1","CURRENCYMASKDIRECTIVE_VALUE_ACCESSOR","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","currencyMaskConfig","elementRef","keyValueDiffers","optionsTemplate","align","allowNegative","decimal","precision","prefix","suffix","thousands","keyValueDiffer","find","create","ngAfterViewInit","nativeElement","style","textAlign","ngDoCheck","diff","inputHandler","assign","ngOnInit","handleBlur","apply","isChromeAndroid","test","navigator","userAgent","registerOnChange","registerOnTouched","setDisabledState","disabled","validate","abstractControl","result","max","min","writeValue","Directive","selector","providers","NG_VALIDATORS","Optional","Inject","ElementRef","KeyValueDiffers","propDecorators","Input","HostListener","input_manager_1","inputManager","applyMask","keyChar","isNumber","_a","Number","toFixed","onlyNumbers","integerPart","decimalPart","repeat","isZero","parseInt","operator","clearMask","RegExp","parseFloat","charAt","forceToEndPosition","currentCursorPosition","getRawValueWithoutPrefixStartPosition"],"mappings":"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","file":"default~akna-akna-module~auditoria-auditoria-module~auditoria-estoque-auditoria-estoque-module~cadas~897453a9-es5.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nexports.CURRENCY_MASK_CONFIG = new core_1.InjectionToken(\"currency.mask.config\");\n//# sourceMappingURL=currency-mask.config.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./src/currency-mask.directive\"));\n__export(require(\"./src/currency-mask.module\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar common_1 = require(\"@angular/common\");\nvar forms_1 = require(\"@angular/forms\");\nvar core_1 = require(\"@angular/core\");\nvar currency_mask_directive_1 = require(\"./currency-mask.directive\");\nvar CurrencyMaskModule = (function () {\n    function CurrencyMaskModule() {\n    }\n    return CurrencyMaskModule;\n}());\nCurrencyMaskModule.decorators = [\n    { type: core_1.NgModule, args: [{\n                imports: [\n                    common_1.CommonModule,\n                    forms_1.FormsModule\n                ],\n                declarations: [\n                    currency_mask_directive_1.CurrencyMaskDirective\n                ],\n                exports: [\n                    currency_mask_directive_1.CurrencyMaskDirective\n                ]\n            },] },\n];\n/** @nocollapse */\nCurrencyMaskModule.ctorParameters = function () { return []; };\nexports.CurrencyMaskModule = CurrencyMaskModule;\n//# sourceMappingURL=currency-mask.module.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar input_service_1 = require(\"./input.service\");\nvar InputHandler = (function () {\n    function InputHandler(htmlInputElement, options) {\n        this.inputService = new input_service_1.InputService(htmlInputElement, options);\n        this.htmlInputElement = htmlInputElement;\n    }\n    InputHandler.prototype.handleClick = function (event, chromeAndroid) {\n        var selectionRangeLength = Math.abs(this.inputService.inputSelection.selectionEnd - this.inputService.inputSelection.selectionStart);\n        //if there is no selection and the value is not null, the cursor position will be fixed. if the browser is chrome on android, the cursor will go to the end of the number.\n        if (selectionRangeLength == 0 && !isNaN(this.inputService.value)) {\n            this.inputService.fixCursorPosition(chromeAndroid);\n        }\n    };\n    InputHandler.prototype.handleCut = function (event) {\n        var _this = this;\n        if (this.isReadOnly()) {\n            return;\n        }\n        setTimeout(function () {\n            _this.inputService.updateFieldValue();\n            _this.setValue(_this.inputService.value);\n            _this.onModelChange(_this.inputService.value);\n        }, 0);\n    };\n    InputHandler.prototype.handleInput = function (event) {\n        if (this.isReadOnly()) {\n            return;\n        }\n        var keyCode = this.getNewKeyCode(this.inputService.storedRawValue, this.inputService.rawValue);\n        var rawValueLength = this.inputService.rawValue.length;\n        var rawValueSelectionEnd = this.inputService.inputSelection.selectionEnd;\n        var rawValueWithoutSuffixEndPosition = this.inputService.getRawValueWithoutSuffixEndPosition();\n        var storedRawValueLength = this.inputService.storedRawValue.length;\n        this.inputService.rawValue = this.inputService.storedRawValue;\n        if ((rawValueSelectionEnd != rawValueWithoutSuffixEndPosition || Math.abs(rawValueLength - storedRawValueLength) != 1) && storedRawValueLength != 0) {\n            this.setCursorPosition(event);\n            return;\n        }\n        if (rawValueLength < storedRawValueLength) {\n            if (this.inputService.value != 0) {\n                this.inputService.removeNumber(8);\n            }\n            else {\n                this.setValue(null);\n            }\n        }\n        if (rawValueLength > storedRawValueLength) {\n            switch (keyCode) {\n                case 43:\n                    this.inputService.changeToPositive();\n                    break;\n                case 45:\n                    this.inputService.changeToNegative();\n                    break;\n                default:\n                    if (!this.inputService.canInputMoreNumbers || (isNaN(this.inputService.value) && String.fromCharCode(keyCode).match(/\\d/) == null)) {\n                        return;\n                    }\n                    this.inputService.addNumber(keyCode);\n            }\n        }\n        this.setCursorPosition(event);\n        this.onModelChange(this.inputService.value);\n    };\n    InputHandler.prototype.handleKeydown = function (event) {\n        if (this.isReadOnly()) {\n            return;\n        }\n        var keyCode = event.which || event.charCode || event.keyCode;\n        if (keyCode == 8 || keyCode == 46 || keyCode == 63272) {\n            event.preventDefault();\n            var selectionRangeLength = Math.abs(this.inputService.inputSelection.selectionEnd - this.inputService.inputSelection.selectionStart);\n            if (selectionRangeLength == this.inputService.rawValue.length || this.inputService.value == 0) {\n                this.setValue(null);\n                this.onModelChange(this.inputService.value);\n            }\n            if (selectionRangeLength == 0 && !isNaN(this.inputService.value)) {\n                this.inputService.removeNumber(keyCode);\n                this.onModelChange(this.inputService.value);\n            }\n            if ((keyCode === 8 || keyCode === 46) && selectionRangeLength != 0 && !isNaN(this.inputService.value)) {\n                this.inputService.removeNumber(keyCode);\n                this.onModelChange(this.inputService.value);\n            }\n        }\n    };\n    InputHandler.prototype.handleKeypress = function (event) {\n        if (this.isReadOnly()) {\n            return;\n        }\n        var keyCode = event.which || event.charCode || event.keyCode;\n        if (keyCode == undefined || [9, 13].indexOf(keyCode) != -1 || this.isArrowEndHomeKeyInFirefox(event)) {\n            return;\n        }\n        switch (keyCode) {\n            case 43:\n                this.inputService.changeToPositive();\n                break;\n            case 45:\n                this.inputService.changeToNegative();\n                break;\n            default:\n                if (this.inputService.canInputMoreNumbers && (!isNaN(this.inputService.value) || String.fromCharCode(keyCode).match(/\\d/) != null)) {\n                    this.inputService.addNumber(keyCode);\n                }\n        }\n        event.preventDefault();\n        this.onModelChange(this.inputService.value);\n    };\n    InputHandler.prototype.handleKeyup = function (event) {\n        this.inputService.fixCursorPosition();\n    };\n    InputHandler.prototype.handlePaste = function (event) {\n        var _this = this;\n        if (this.isReadOnly()) {\n            return;\n        }\n        setTimeout(function () {\n            _this.inputService.updateFieldValue();\n            _this.setValue(_this.inputService.value);\n            _this.onModelChange(_this.inputService.value);\n        }, 1);\n    };\n    InputHandler.prototype.updateOptions = function (options) {\n        this.inputService.updateOptions(options);\n    };\n    InputHandler.prototype.getOnModelChange = function () {\n        return this.onModelChange;\n    };\n    InputHandler.prototype.setOnModelChange = function (callbackFunction) {\n        this.onModelChange = callbackFunction;\n    };\n    InputHandler.prototype.getOnModelTouched = function () {\n        return this.onModelTouched;\n    };\n    InputHandler.prototype.setOnModelTouched = function (callbackFunction) {\n        this.onModelTouched = callbackFunction;\n    };\n    InputHandler.prototype.setValue = function (value) {\n        this.inputService.value = value;\n    };\n    InputHandler.prototype.getNewKeyCode = function (oldString, newString) {\n        if (oldString.length > newString.length) {\n            return null;\n        }\n        for (var x = 0; x < newString.length; x++) {\n            if (oldString.length == x || oldString[x] != newString[x]) {\n                return newString.charCodeAt(x);\n            }\n        }\n    };\n    InputHandler.prototype.isArrowEndHomeKeyInFirefox = function (event) {\n        if ([35, 36, 37, 38, 39, 40].indexOf(event.keyCode) != -1 && (event.charCode == undefined || event.charCode == 0)) {\n            return true;\n        }\n        return false;\n    };\n    InputHandler.prototype.isReadOnly = function () {\n        return this.htmlInputElement && this.htmlInputElement.readOnly;\n    };\n    InputHandler.prototype.setCursorPosition = function (event) {\n        var rawValueWithoutSuffixEndPosition = this.inputService.getRawValueWithoutSuffixEndPosition();\n        setTimeout(function () {\n            event.target.setSelectionRange(rawValueWithoutSuffixEndPosition, rawValueWithoutSuffixEndPosition);\n        }, 0);\n    };\n    return InputHandler;\n}());\nexports.InputHandler = InputHandler;\n//# sourceMappingURL=input.handler.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar InputManager = (function () {\n    function InputManager(htmlInputElement) {\n        this.htmlInputElement = htmlInputElement;\n    }\n    InputManager.prototype.setCursorAt = function (position) {\n        if (this.htmlInputElement.setSelectionRange) {\n            this.htmlInputElement.focus();\n            this.htmlInputElement.setSelectionRange(position, position);\n        }\n        else if (this.htmlInputElement.createTextRange) {\n            var textRange = this.htmlInputElement.createTextRange();\n            textRange.collapse(true);\n            textRange.moveEnd(\"character\", position);\n            textRange.moveStart(\"character\", position);\n            textRange.select();\n        }\n    };\n    InputManager.prototype.updateValueAndCursor = function (newRawValue, oldLength, selectionStart) {\n        this.rawValue = newRawValue;\n        var newLength = newRawValue.length;\n        selectionStart = selectionStart - (oldLength - newLength);\n        this.setCursorAt(selectionStart);\n    };\n    Object.defineProperty(InputManager.prototype, \"canInputMoreNumbers\", {\n        get: function () {\n            var haventReachedMaxLength = !(this.rawValue.length >= this.htmlInputElement.maxLength && this.htmlInputElement.maxLength >= 0);\n            var selectionStart = this.inputSelection.selectionStart;\n            var selectionEnd = this.inputSelection.selectionEnd;\n            var haveNumberSelected = (selectionStart != selectionEnd && this.htmlInputElement.value.substring(selectionStart, selectionEnd).match(/\\d/)) ? true : false;\n            var startWithZero = (this.htmlInputElement.value.substring(0, 1) == \"0\");\n            return haventReachedMaxLength || haveNumberSelected || startWithZero;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputManager.prototype, \"inputSelection\", {\n        get: function () {\n            var selectionStart = 0;\n            var selectionEnd = 0;\n            if (typeof this.htmlInputElement.selectionStart == \"number\" && typeof this.htmlInputElement.selectionEnd == \"number\") {\n                selectionStart = this.htmlInputElement.selectionStart;\n                selectionEnd = this.htmlInputElement.selectionEnd;\n            }\n            else {\n                var range = document.getSelection().baseNode;\n                if (range && range.firstChild == this.htmlInputElement) {\n                    var lenght = this.htmlInputElement.value.length;\n                    var normalizedValue = this.htmlInputElement.value.replace(/\\r\\n/g, \"\\n\");\n                    var startRange = this.htmlInputElement.createTextRange();\n                    var endRange = this.htmlInputElement.createTextRange();\n                    endRange.collapse(false);\n                    if (startRange.compareEndPoints(\"StartToEnd\", endRange) > -1) {\n                        selectionStart = selectionEnd = lenght;\n                    }\n                    else {\n                        selectionStart = -startRange.moveStart(\"character\", -lenght);\n                        selectionStart += normalizedValue.slice(0, selectionStart).split(\"\\n\").length - 1;\n                        if (startRange.compareEndPoints(\"EndToEnd\", endRange) > -1) {\n                            selectionEnd = lenght;\n                        }\n                        else {\n                            selectionEnd = -startRange.moveEnd(\"character\", -lenght);\n                            selectionEnd += normalizedValue.slice(0, selectionEnd).split(\"\\n\").length - 1;\n                        }\n                    }\n                }\n            }\n            return {\n                selectionStart: selectionStart,\n                selectionEnd: selectionEnd\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputManager.prototype, \"rawValue\", {\n        get: function () {\n            return this.htmlInputElement && this.htmlInputElement.value;\n        },\n        set: function (value) {\n            this._storedRawValue = value;\n            if (this.htmlInputElement) {\n                this.htmlInputElement.value = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputManager.prototype, \"storedRawValue\", {\n        get: function () {\n            return this._storedRawValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return InputManager;\n}());\nexports.InputManager = InputManager;\n//# sourceMappingURL=input.manager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar forms_1 = require(\"@angular/forms\");\nvar currency_mask_config_1 = require(\"./currency-mask.config\");\nvar input_handler_1 = require(\"./input.handler\");\nexports.CURRENCYMASKDIRECTIVE_VALUE_ACCESSOR = {\n    provide: forms_1.NG_VALUE_ACCESSOR,\n    useExisting: core_1.forwardRef(function () { return CurrencyMaskDirective; }),\n    multi: true\n};\nvar CurrencyMaskDirective = (function () {\n    function CurrencyMaskDirective(currencyMaskConfig, elementRef, keyValueDiffers) {\n        this.currencyMaskConfig = currencyMaskConfig;\n        this.elementRef = elementRef;\n        this.keyValueDiffers = keyValueDiffers;\n        this.options = {};\n        this.optionsTemplate = {\n            align: \"right\",\n            allowNegative: true,\n            decimal: \".\",\n            precision: 2,\n            prefix: \"$ \",\n            suffix: \"\",\n            thousands: \",\"\n        };\n        if (currencyMaskConfig) {\n            this.optionsTemplate = currencyMaskConfig;\n        }\n        this.keyValueDiffer = keyValueDiffers.find({}).create();\n    }\n    CurrencyMaskDirective.prototype.ngAfterViewInit = function () {\n        this.elementRef.nativeElement.style.textAlign = this.options.align ? this.options.align : this.optionsTemplate.align;\n    };\n    CurrencyMaskDirective.prototype.ngDoCheck = function () {\n        if (this.keyValueDiffer.diff(this.options)) {\n            this.elementRef.nativeElement.style.textAlign = this.options.align ? this.options.align : this.optionsTemplate.align;\n            this.inputHandler.updateOptions(Object.assign({}, this.optionsTemplate, this.options));\n        }\n    };\n    CurrencyMaskDirective.prototype.ngOnInit = function () {\n        this.inputHandler = new input_handler_1.InputHandler(this.elementRef.nativeElement, Object.assign({}, this.optionsTemplate, this.options));\n    };\n    CurrencyMaskDirective.prototype.handleBlur = function (event) {\n        this.inputHandler.getOnModelTouched().apply(event);\n    };\n    CurrencyMaskDirective.prototype.handleClick = function (event) {\n        this.inputHandler.handleClick(event, this.isChromeAndroid());\n    };\n    CurrencyMaskDirective.prototype.handleCut = function (event) {\n        if (!this.isChromeAndroid()) {\n            this.inputHandler.handleCut(event);\n        }\n    };\n    CurrencyMaskDirective.prototype.handleInput = function (event) {\n        if (this.isChromeAndroid()) {\n            this.inputHandler.handleInput(event);\n        }\n    };\n    CurrencyMaskDirective.prototype.handleKeydown = function (event) {\n        if (!this.isChromeAndroid()) {\n            this.inputHandler.handleKeydown(event);\n        }\n    };\n    CurrencyMaskDirective.prototype.handleKeypress = function (event) {\n        if (!this.isChromeAndroid()) {\n            this.inputHandler.handleKeypress(event);\n        }\n    };\n    CurrencyMaskDirective.prototype.handleKeyup = function (event) {\n        if (!this.isChromeAndroid()) {\n            this.inputHandler.handleKeyup(event);\n        }\n    };\n    CurrencyMaskDirective.prototype.handlePaste = function (event) {\n        if (!this.isChromeAndroid()) {\n            this.inputHandler.handlePaste(event);\n        }\n    };\n    CurrencyMaskDirective.prototype.isChromeAndroid = function () {\n        return /chrome/i.test(navigator.userAgent) && /android/i.test(navigator.userAgent);\n    };\n    CurrencyMaskDirective.prototype.registerOnChange = function (callbackFunction) {\n        this.inputHandler.setOnModelChange(callbackFunction);\n    };\n    CurrencyMaskDirective.prototype.registerOnTouched = function (callbackFunction) {\n        this.inputHandler.setOnModelTouched(callbackFunction);\n    };\n    CurrencyMaskDirective.prototype.setDisabledState = function (value) {\n        this.elementRef.nativeElement.disabled = value;\n    };\n    CurrencyMaskDirective.prototype.validate = function (abstractControl) {\n        var result = {};\n        if (abstractControl.value > this.max) {\n            result.max = true;\n        }\n        if (abstractControl.value < this.min) {\n            result.min = true;\n        }\n        return result != {} ? result : null;\n    };\n    CurrencyMaskDirective.prototype.writeValue = function (value) {\n        this.inputHandler.setValue(value);\n    };\n    return CurrencyMaskDirective;\n}());\nCurrencyMaskDirective.decorators = [\n    { type: core_1.Directive, args: [{\n                selector: \"[currencyMask]\",\n                providers: [\n                    exports.CURRENCYMASKDIRECTIVE_VALUE_ACCESSOR,\n                    { provide: forms_1.NG_VALIDATORS, useExisting: CurrencyMaskDirective, multi: true }\n                ]\n            },] },\n];\n/** @nocollapse */\nCurrencyMaskDirective.ctorParameters = function () { return [\n    { type: undefined, decorators: [{ type: core_1.Optional }, { type: core_1.Inject, args: [currency_mask_config_1.CURRENCY_MASK_CONFIG,] },] },\n    { type: core_1.ElementRef, },\n    { type: core_1.KeyValueDiffers, },\n]; };\nCurrencyMaskDirective.propDecorators = {\n    'max': [{ type: core_1.Input },],\n    'min': [{ type: core_1.Input },],\n    'options': [{ type: core_1.Input },],\n    'handleBlur': [{ type: core_1.HostListener, args: [\"blur\", [\"$event\"],] },],\n    'handleClick': [{ type: core_1.HostListener, args: [\"click\", [\"$event\"],] },],\n    'handleCut': [{ type: core_1.HostListener, args: [\"cut\", [\"$event\"],] },],\n    'handleInput': [{ type: core_1.HostListener, args: [\"input\", [\"$event\"],] },],\n    'handleKeydown': [{ type: core_1.HostListener, args: [\"keydown\", [\"$event\"],] },],\n    'handleKeypress': [{ type: core_1.HostListener, args: [\"keypress\", [\"$event\"],] },],\n    'handleKeyup': [{ type: core_1.HostListener, args: [\"keyup\", [\"$event\"],] },],\n    'handlePaste': [{ type: core_1.HostListener, args: [\"paste\", [\"$event\"],] },],\n};\nexports.CurrencyMaskDirective = CurrencyMaskDirective;\n//# sourceMappingURL=currency-mask.directive.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar input_manager_1 = require(\"./input.manager\");\nvar InputService = (function () {\n    function InputService(htmlInputElement, options) {\n        this.htmlInputElement = htmlInputElement;\n        this.options = options;\n        this.inputManager = new input_manager_1.InputManager(htmlInputElement);\n    }\n    InputService.prototype.addNumber = function (keyCode) {\n        if (!this.rawValue) {\n            this.rawValue = this.applyMask(false, \"0\");\n        }\n        var keyChar = String.fromCharCode(keyCode);\n        var selectionStart = this.inputSelection.selectionStart;\n        var selectionEnd = this.inputSelection.selectionEnd;\n        this.rawValue = this.rawValue.substring(0, selectionStart) + keyChar + this.rawValue.substring(selectionEnd, this.rawValue.length);\n        this.updateFieldValue(selectionStart + 1);\n    };\n    InputService.prototype.applyMask = function (isNumber, rawValue) {\n        var _a = this.options, allowNegative = _a.allowNegative, decimal = _a.decimal, precision = _a.precision, prefix = _a.prefix, suffix = _a.suffix, thousands = _a.thousands;\n        rawValue = isNumber ? new Number(rawValue).toFixed(precision) : rawValue;\n        var onlyNumbers = rawValue.replace(/[^0-9]/g, \"\");\n        if (!onlyNumbers) {\n            return \"\";\n        }\n        var integerPart = onlyNumbers.slice(0, onlyNumbers.length - precision).replace(/^0*/g, \"\").replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousands);\n        if (integerPart == \"\") {\n            integerPart = \"0\";\n        }\n        var newRawValue = integerPart;\n        var decimalPart = onlyNumbers.slice(onlyNumbers.length - precision);\n        if (precision > 0) {\n            decimalPart = \"0\".repeat(precision - decimalPart.length) + decimalPart;\n            newRawValue += decimal + decimalPart;\n        }\n        var isZero = parseInt(integerPart) == 0 && (parseInt(decimalPart) == 0 || decimalPart == \"\");\n        var operator = (rawValue.indexOf(\"-\") > -1 && allowNegative && !isZero) ? \"-\" : \"\";\n        return operator + prefix + newRawValue + suffix;\n    };\n    InputService.prototype.clearMask = function (rawValue) {\n        if (rawValue == null || rawValue == \"\") {\n            return null;\n        }\n        var value = rawValue.replace(this.options.prefix, \"\").replace(this.options.suffix, \"\");\n        if (this.options.thousands) {\n            value = value.replace(new RegExp(\"\\\\\" + this.options.thousands, \"g\"), \"\");\n        }\n        if (this.options.decimal) {\n            value = value.replace(this.options.decimal, \".\");\n        }\n        return parseFloat(value);\n    };\n    InputService.prototype.changeToNegative = function () {\n        if (this.options.allowNegative && this.rawValue != \"\" && this.rawValue.charAt(0) != \"-\" && this.value != 0) {\n            var selectionStart = this.inputSelection.selectionStart;\n            this.rawValue = \"-\" + this.rawValue;\n            this.updateFieldValue(selectionStart + 1);\n        }\n    };\n    InputService.prototype.changeToPositive = function () {\n        var selectionStart = this.inputSelection.selectionStart;\n        this.rawValue = this.rawValue.replace(\"-\", \"\");\n        this.updateFieldValue(selectionStart - 1);\n    };\n    InputService.prototype.fixCursorPosition = function (forceToEndPosition) {\n        var currentCursorPosition = this.inputSelection.selectionStart;\n        //if the current cursor position is after the number end position, it is moved to the end of the number, ignoring the prefix or suffix. this behavior can be forced with forceToEndPosition flag\n        if (currentCursorPosition > this.getRawValueWithoutSuffixEndPosition() || forceToEndPosition) {\n            this.inputManager.setCursorAt(this.getRawValueWithoutSuffixEndPosition());\n            //if the current cursor position is before the number start position, it is moved to the start of the number, ignoring the prefix or suffix\n        }\n        else if (currentCursorPosition < this.getRawValueWithoutPrefixStartPosition()) {\n            this.inputManager.setCursorAt(this.getRawValueWithoutPrefixStartPosition());\n        }\n    };\n    InputService.prototype.getRawValueWithoutSuffixEndPosition = function () {\n        return this.rawValue.length - this.options.suffix.length;\n    };\n    InputService.prototype.getRawValueWithoutPrefixStartPosition = function () {\n        return this.value != null && this.value < 0 ? this.options.prefix.length + 1 : this.options.prefix.length;\n    };\n    InputService.prototype.removeNumber = function (keyCode) {\n        var _a = this.options, decimal = _a.decimal, thousands = _a.thousands;\n        var selectionEnd = this.inputSelection.selectionEnd;\n        var selectionStart = this.inputSelection.selectionStart;\n        if (selectionStart > this.rawValue.length - this.options.suffix.length) {\n            selectionEnd = this.rawValue.length - this.options.suffix.length;\n            selectionStart = this.rawValue.length - this.options.suffix.length;\n        }\n        //there is no selection\n        if (selectionEnd == selectionStart) {\n            //delete key and the target digit is a number\n            if ((keyCode == 46 || keyCode == 63272) && /^\\d+$/.test(this.rawValue.substring(selectionStart, selectionEnd + 1))) {\n                selectionEnd = selectionEnd + 1;\n            }\n            //delete key and the target digit is the decimal or thousands divider\n            if ((keyCode == 46 || keyCode == 63272) && (this.rawValue.substring(selectionStart, selectionEnd + 1) == decimal || this.rawValue.substring(selectionStart, selectionEnd + 1) == thousands)) {\n                selectionEnd = selectionEnd + 2;\n                selectionStart = selectionStart + 1;\n            }\n            //backspace key and the target digit is a number\n            if (keyCode == 8 && /^\\d+$/.test(this.rawValue.substring(selectionStart - 1, selectionEnd))) {\n                selectionStart = selectionStart - 1;\n            }\n            //backspace key and the target digit is the decimal or thousands divider\n            if (keyCode == 8 && (this.rawValue.substring(selectionStart - 1, selectionEnd) == decimal || this.rawValue.substring(selectionStart - 1, selectionEnd) == thousands)) {\n                selectionStart = selectionStart - 2;\n                selectionEnd = selectionEnd - 1;\n            }\n        }\n        this.rawValue = this.rawValue.substring(0, selectionStart) + this.rawValue.substring(selectionEnd, this.rawValue.length);\n        this.updateFieldValue(selectionStart);\n    };\n    InputService.prototype.updateFieldValue = function (selectionStart) {\n        var newRawValue = this.applyMask(false, this.rawValue || \"\");\n        selectionStart = selectionStart == undefined ? this.rawValue.length : selectionStart;\n        this.inputManager.updateValueAndCursor(newRawValue, this.rawValue.length, selectionStart);\n    };\n    InputService.prototype.updateOptions = function (options) {\n        var value = this.value;\n        this.options = options;\n        this.value = value;\n    };\n    Object.defineProperty(InputService.prototype, \"canInputMoreNumbers\", {\n        get: function () {\n            return this.inputManager.canInputMoreNumbers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputService.prototype, \"inputSelection\", {\n        get: function () {\n            return this.inputManager.inputSelection;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputService.prototype, \"rawValue\", {\n        get: function () {\n            return this.inputManager.rawValue;\n        },\n        set: function (value) {\n            this.inputManager.rawValue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputService.prototype, \"storedRawValue\", {\n        get: function () {\n            return this.inputManager.storedRawValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputService.prototype, \"value\", {\n        get: function () {\n            return this.clearMask(this.rawValue);\n        },\n        set: function (value) {\n            this.rawValue = this.applyMask(true, \"\" + value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return InputService;\n}());\nexports.InputService = InputService;\n//# sourceMappingURL=input.service.js.map"]}