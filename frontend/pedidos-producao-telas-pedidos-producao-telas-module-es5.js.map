{"version":3,"sources":["webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/material/calculo/calculo.component.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/selecionar/selecionar.service.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/finalizacao/perdida/perdida.component.html","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/finalizacao/perdida/perdida.component.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/materiais/lista/lista.component.scss","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/pedidos-producao-telas.module.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/detalhes/cliente.component.html","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/lista/lista.component.html","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/detalhes/cliente.service.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/finalizacao/padrao/padrao.component.scss","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/lista/lista.service.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/finalizacao/perdida/perdida.component.scss","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/guards/formulario-resolver.guard.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/historico-exclusao/historico-exclusao.service.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/pedidos-producao-telas.service.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/materiais/lista/lista.component.html","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/lista/lista.component.scss","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/detalhes/cliente.component.scss","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/carrinho/carrinho.component.scss","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/lista/lista.module.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/selecionar/selecionar.component.scss","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/pedidos-producao-telas-routing.module.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/selecionar/selecionar.component.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/selecionar/selecionar.component.html","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/formulario.component.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/material/calculo/calculo.component.scss","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/material/calculo/calculo.component.html","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/historico-exclusao/historico-exclusao.component.html","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/finalizacao/padrao/padrao.component.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/formulario.component.html","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/carrinho/carrinho.component.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/carrinho/carrinho.component.html","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/finalizacao/finalizacao.service.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/lista/lista.component.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/historico-exclusao/historico-exclusao.component.scss","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/material/calculo/calculo.service.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/finalizacao/padrao/padrao.component.html","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/formulario.module.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/formulario.component.scss","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/detalhes/cliente.component.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/materiais/lista/lista.component.ts","webpack:///src/app/modules/comercial/ciclo-vendas/pedidos-producao-telas/formulario/modal/historico-exclusao/historico-exclusao.component.ts"],"names":["ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoComponent","formBuilder","bsModalRef","pnotifyService","confirmModalService","formularioService","pedidosProducaoTelas","calculo","index","tipoCalculo","tonelada","qtde","valorUnitario","valorItem","aliquotaIpi","valorIpi","aliquotaIcms","valorIcms","valorIcmsSt","valorTotal","currencyMaskOptions","align","prefix","thousands","decimal","resultCaculo","showImpostos","getPNotify","setFormBuilder","setUnidadeCalculo","valor","material","form","group","unidadeCalculo","quantidade","required","preco","medida","medida1","checkTotais","resetTotais","descQtde","descPreco","isDisabled","show","checkFormValidators","Math","floor","valorUnit","value","showConfirm","subscribe","response","postCalculoMaterial","hasError","controls","setErrors","incorrect","notice","fatorMultiplo","loaderModal","params","codMaterial","console","log","getCalculoMaterial","pipe","success","data","length","calcularTotais","pesoEspecifico","Peso","calculos","calculoSubject","next","onClose","hide","field","onFieldInvalid","get","status","touched","abstractControl","abstractControlField","validator","controlName","onFieldRequired","selector","template","ComercialCicloVendasPedidosProducaoTelasFormularioModalSelecionarService","providedIn","ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPerdidaComponent","router","cotacoesService","concorrentesService","tableConfig","isFixed","border","small","hover","theme","color","concorrentes","getConcorrentes","concorrentesLoader","getListaConcorrentes","codConcorrente","materiais","array","onAddMaterial","dataCotacao","carrinho","i","push","idReservado","codCotacao","nomeMaterial","percentualIpi","percentualIcms","valorConcorrente","tipoDesc","valorDesc","percentualDesc","valorTotalOri","codDeposito","nomeDeposito","medida2","total","concorrente","submittingForm","formValue","codConcorrenteTid","Object","assign","postCotacaoPerdida","error","mapError","limparCarrinhoSubject","setTimeout","navigate","ComercialCicloVendasPedidosProducaoTelasModule","declarations","imports","providers","ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesService","modalService","clientesService","loaderNavbar","codCliente","emit","getDetalhes","modalConfig","animated","initialState","cliente","ComercialCicloVendasPedidosProducaoTelasListaService","http","associacaoSituacoesPropostaService","API","onChangeClienteCotacao","clienteCotacao","asObservable","onCotacaoDuplicada","pedidoDuplicada","onCotacaoDesdobrada","pedidoDesdobrada","onChangeEmpresaCotacao","empresaCotacao","associacoes","getListaAssociacoes","codSituacao","selectedCliente","pedido","nrProposta","codVendedor","selectedEmpresa","selectedDeposito","ComercialCicloVendasPedidosProducaoTelasFormularioResolverGuard","pedidosProducaoTelasService","authService","dateService","user","getCurrentUser","info","route","getDetalhesPedidos","mensagem","codLocalizacaoEstoque","codUsuarioCadastro","dataCadastro","dataPrevisaoEntrega","descPedido","descSituacao","nomeCliente","nomeLocalizacaoEstoque","nomeUsuarioCadastro","nrPedido","pesoTotal","prioridade","razaoSocial","codRazaoSocial","codEndereco","ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoService","getHistoricoExclusao","exclusoes","ComercialCicloVendasPedidosProducaoTelasService","comercialService","tidSoftwareService","estoqueService","httpParams","param","append","codEmpresa","post","idEmpresa","linhas","getLinhas","classes","getClasses","getEstoqueAtual","put","ComercialCicloVendasPedidosProducaoTelasListaModule","forRoot","exports","routes","path","component","resolve","canDeactivate","redirectTo","pathMatch","ComercialCicloVendasPedidosProducaoTelasRoutingModule","forChild","ComercialCicloVendasPedidosProducaoTelasFormularioModalSelecionarComponent","fecharModal","noClientes","clientes","itemsPerPage","begin","end","_params","_obj","formClientes","loadingClientes","getCarteiraClientes","buscarPor","pesquisa","NM_CLIE","registros","ComercialCicloVendasPedidosProducaoTelasFormularioComponent","activatedRoute","location","localeService","atividadesService","titleService","formularioCotacoesService","enderecoDetalhesService","historicoComprasService","finalizacaoService","calculoService","descontoService","comboService","bsModalService","clienteDetalhesService","permissoesAcesso","acessoClientes","historicoExclusao","duplicataCarteira","loaderFullScreen","autoScrollToCarrinho","breadCrumbTree","dependenciesLoaded","carrinhoHasError","codClientErrors","situacoes","empresas","depositos","filteredDepositos","formasPagamento","formasContato","origensContato","transportadoras","formData","producao","expedicao","unsaved","locaisEntrega","contatos","dadosLancamento","nomeVendedor","use","bsConfig","containerClass","adaptivePosition","showWeekNumbers","hasAccessToClient","unsetLoaderEvents","activatedRouteSubscription","unsubscribe","codClienteSubscription","clearCarteiraClientes","resolver","snapshot","registrarAcesso","setBreadCrumb","getFormFields","setLoaderEvents","setClienteSubscription","back","appTitle","action","idSubModulo","descricao","routerLink","loadDependencies","result","filter","date","Date","getFullYear","getMonth","getDate","checkRouterParams","disabled","codPrioridade","dataEntrega","convertStringToDate","codFormaPagamento","duplicatasSomenteCarteira","observacoes","observacao","obsProducao","checkPermissoesAcesso","getLocaisEntrega","dataSubject","permissoes","enable","source","setValue","event","modalRef","showModal","locaisEntregaLoader","markAsUntouched","disable","updateValueAndValidity","_enderecos","enderecos","_enderecosAguardando","enderecosAguardando","id","formatLocalEntrega","tipo","localEntrega","endereco","bairro","cidade","uf","cep","codLocalizacao","queryParams","keys","f","atob","JSON","parse","forEach","formKey","paramKey","isNaN","Number","onChangeCliente","materiaisSubject","loaderCalculoSubscription","loaderDescontoSubscription","loaderComboSubscription","loaderEstoqueDetalhesSubscription","loaderHistoricoComprasSubscription","loaderDetalhesClienteSubscription","loaderFinalizacaoSubscription","reset","isValid","maxDate","addDaysToDate","dataValidade","markAsTouched","scrollToCarrinho","nativeElement","scrollIntoView","behavior","onScrollToForm","markAsDirty","valorProposta","sendForm","onNotifySubmit","checkFormErrors","hasPrecoMinimo","valoresPesoQtde","pesoQtdade","sendCotacao","getRawValue","situacao","codContato","sentCotacao","putCotacao","hasOwnProperty","postCotacao","errors","position","scrollToFormOnTop","scrollToFormOnBottom","isCarteiraClientesLoaded","setParamsHistoricoCompras","onMateriaisScrollTop","dirty","$event","hasUnsavedData","returnValue","confirm","patchValue","onLoadCliente","ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPadraoComponent","viewChecked","idVendedor","idEscritorio","metasProgresso","toneladas","progresso","extras","comissao","setViewChecked","loadComponentData","getComissao","corrente","entries","metasEmpty","percentual","getProgresso","metasLoaded","getProgressoCotacao","getComissaoCotacao","comissaoLoaded","valorComissao","variacaoPreco","variacaoClass","ComercialCicloVendasPedidosProducaoTelasFormularioCarrinhoComponent","formularioProducaoService","scrollTop","subtitles","text","tableHeadConfig","tableBodyConfig","subtitleBorder","selectedCodEmpresa","descontoCarrinho","desconto","valorDescMaterial","valorDescCarrinho","cardCounterConfig","showDecimals","format","submitSubscription","subscriptionSubmit","materiaisSubscription","calculoSubscription","clearLocalStorage","notifySubmitObservable$","valid","carrinhoEmitter","newMaterial","undefined","formatMateriais","materiaisUpdate","formatMateriaisUpdate","limparCarrinhoSubscription","onLimparCarrinho","formArray","formGroup","onCalcularTotais","checkInitialValues","initialValue","qtdeAdicionados","checkMaterialExists","nrItem","qtdeItem","nomeEmpresa","peso","materialAssociado","setSelectedCodEmpresa","setLocalStorage","some","el","descontoMaterial","clear","confirmDelete","deleteMaterialCotacao","removeAt","id_material","localStorage","setItem","btoa","stringify","removeItem","emitter","onNestedFieldInvalid","nestedForm","formControl","validationResult","borderClass","key","size","ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoService","codTipoFinalizacao","keyboard","ignoreBackdropClick","ComercialCicloVendasPedidosProducaoTelasListaComponent","listaService","detailPanelService","showDetailPanel","orderBy","orderType","situacoesCores","dados","dadosLoaded","dadosEmpty","comentario","localizacao","detalhes","detalhesCarrinho","tipos","cod","nome","contatosLoaded","contatosEmpty","pedidoSelected","itensLoaded","itensEmpty","maxSize","currentPage","totalItems","getFilterValues","setFormFilter","setTitle","onDetailPanelEmitter","loaderConsultaLiberacaoSubscription","loaderEmailCotacaoSubscription","pedidoDuplicadaSubscription","pedidoDesdobradaSubscription","showDetailPanelSubscription","config","showing","onCloseDetailPanel","tipoData","dataInicial","dataFinal","dataLancamento","usuarioLancamento","pagina","getFirstDayMonth","getLastDayMonth","q","search","column","onFilter","setRouterParams","getFormFilterValues","relativeTo","convertToUrlDate","getPedidosProducaoTelas","qtdeRegistros","page","scrollToFilter","detailPanelTitle","toUpperCase","setActiveRow","setactivePedido","getDetailPanel","scrollToDetails","loadedFinished","contato","resetactivePedido","resetActiveRow","activePedido","activeRow","item","formProducao","descComentarioProducao","postProducao","formExpedicao","codLocalizacaoExpedicao","localizacaoDisable","postExpedicao","ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoService","ComercialCicloVendasPedidosProducaoTelasFormularioModule","entryComponents","ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesComponent","ComercialCicloVendasPedidosProducaoTelasFormularioMateriaisListaComponent","showApp","fixedHeader","bodyHeight","select","searching","searchParams","filteredClasses","autoScroll","firstSearch","toggleAll","clickCounter","getCotacaoFilterValues","responseCode","codLinha","codClasse","setValidators","idLinha","unshift","idClasse","nomeClasse","src","getMateriais","materiaisLoader","comercializa","codigoMaterial","codigoDescricaoMaterial","comEstoque","checkValuesLinhaClasse","onChangeLinha","onChangeClasse","queryParamsHandling","map","o","checked","disponibilidade","onCheckMaterial","onDoubleClickMaterial","deposito","estoqueDisponivel","ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoComponent","checkTableConfig","onShowDescricao","selectedItem"],"mappings":"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","file":"pedidos-producao-telas-pedidos-producao-telas-module-es5.js","sourcesContent":["import { ICalculoModel } from './../../../../../cotacoes/formulario/models/calculo';\r\nimport { ITelasModel } from './../../../../models/carrinho';\r\nimport { Component, OnInit, Input, EventEmitter, Output } from '@angular/core';\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  Validators,\r\n  AbstractControl,\r\n} from '@angular/forms';\r\nimport { EMPTY } from 'rxjs';\r\n\r\n// ngx-bootstrap\r\nimport { BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { ConfirmModalService } from 'src/app/shared/modules/confirm-modal/confirm-modal.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioService } from '../../../formulario.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'comercial-ciclo-vendas-pedidos-producao-telas-formulario-modal-material-calculo',\r\n  templateUrl: './calculo.component.html',\r\n  styleUrls: ['./calculo.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoComponent\r\n  implements OnInit {\r\n  @Input('index') index: number;\r\n  @Input('material') material: ITelasModel;\r\n  @Input('tipoCalculo') tipoCalculo: number;\r\n  @Input('codCliente') codCliente: number;\r\n\r\n  // @Output('dadosCalculo') dadosCalculo: EventEmitter<Object> = new EventEmitter();\r\n\r\n  loaderModal: boolean;\r\n\r\n  calculo: any = {\r\n    index: null,\r\n    tipoCalculo: 0,\r\n    tonelada: 0,\r\n    qtde: 0,\r\n    valorUnitario: 0,\r\n    valorItem: 0,\r\n    aliquotaIpi: 0,\r\n    valorIpi: 0,\r\n    aliquotaIcms: 0,\r\n    valorIcms: 0,\r\n    valorIcmsSt: 0,\r\n    valorTotal: 0,\r\n  };\r\n\r\n  form: FormGroup;\r\n\r\n  descPreco: string;\r\n  descQtde: string;\r\n\r\n  currencyMaskOptions = {\r\n    align: 'left',\r\n    prefix: '',\r\n    thousands: '.',\r\n    decimal: ',',\r\n    // precision: 3,\r\n  };\r\n\r\n  resultCaculo: Array<any> = [];\r\n\r\n  showImpostos = false;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private bsModalRef: BsModalRef,\r\n    private pnotifyService: PNotifyService,\r\n    private confirmModalService: ConfirmModalService,\r\n    private formularioService: ComercialCicloVendasPedidosProducaoTelasFormularioService,\r\n    private pedidosProducaoTelas: ComercialCicloVendasPedidosProducaoTelasFormularioService\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setFormBuilder();\r\n    this.setUnidadeCalculo();\r\n  }\r\n\r\n  setFormBuilder(): void {\r\n    const valor = this.material.valor !== 0 ? this.material.valor : 0;\r\n\r\n\r\n    this.form = this.formBuilder.group({\r\n      unidadeCalculo: ['m²'],\r\n      quantidade: [this.material.quantidade, [Validators.required]],\r\n      preco: [valor, [Validators.required]],\r\n      medida: [this.material.medida1],\r\n    });\r\n\r\n    // this.setFormValidators();\r\n    this.checkTotais();\r\n  }\r\n\r\n\r\n  setUnidadeCalculo(  ): void {\r\n    \r\n    this.resultCaculo = [];\r\n    this.resetTotais();\r\n\r\n    this.descQtde = '(Qtde m²)';\r\n    this.descPreco = 'Preço por m²';\r\n  }\r\n\r\n  disabledUnidadeCalculo(): boolean {\r\n    let isDisabled = null;\r\n\r\n    if (\r\n      this.tipoCalculo === 3 ||\r\n      this.tipoCalculo === 4 ||\r\n      this.tipoCalculo === 5\r\n    ) {\r\n      isDisabled = true;\r\n    }\r\n\r\n    return isDisabled;\r\n  }\r\n\r\n  showInputMedida(): boolean {\r\n    let show = false;\r\n\r\n    if (this.tipoCalculo === 4) {\r\n      show = true;\r\n    }\r\n\r\n    return show;\r\n  }\r\n\r\n  showInfoMetragem(): boolean {\r\n    let show = false;\r\n\r\n    if (this.tipoCalculo === 2 || this.tipoCalculo === 4) {\r\n      show = true;\r\n    }\r\n\r\n    return show;\r\n  }\r\n\r\n  showInfoFatorMultiplo(): boolean {\r\n    let show = false;\r\n\r\n    if (this.tipoCalculo === 5) {\r\n      show = true;\r\n    }\r\n\r\n    return show;\r\n  }\r\n\r\n  onCalcular(): void {\r\n\r\n    if (this.checkFormValidators() === false) {\r\n      if (\r\n        Math.floor(this.material.valorUnit * 100) / 100 >\r\n        this.form.value.preco\r\n      ) {\r\n        this.confirmModalService\r\n          .showConfirm(\r\n            null,\r\n            'Preço abaixo do mínimo',\r\n            'O preço informado está abaixo do valor mínimo. Deseja continuar mesmo assim?',\r\n            'Cancelar',\r\n            'Confirmar'\r\n          )\r\n          .subscribe((response: boolean) =>\r\n            response ? this.postCalculoMaterial() : EMPTY\r\n          );\r\n      } else {\r\n        this.postCalculoMaterial();\r\n      }\r\n    }\r\n  }\r\n\r\n  checkFormValidators(): boolean {\r\n    let hasError = false;\r\n\r\n    this.form.controls.quantidade.setErrors(null);\r\n    this.form.controls.preco.setErrors(null);\r\n\r\n    if (this.form.value.quantidade == 0) {\r\n      this.form.controls.quantidade.setErrors({ incorrect: true });\r\n      hasError = true;\r\n      this.pnotifyService.notice(\r\n        'Informe a quantidade para realizar o cálculo.'\r\n      );\r\n    } else {\r\n      if (this.tipoCalculo === 5) {\r\n        const fatorMultiplo = 10;\r\n\r\n        if (this.form.value.quantidade % fatorMultiplo !== 0) {\r\n          this.form.controls.quantidade.setErrors({ incorrect: true });\r\n          hasError = true;\r\n          this.pnotifyService.notice(\r\n            `A quantidade tem que ser múltipla de ${fatorMultiplo}.`\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.form.value.preco == 0) {\r\n      this.form.controls.preco.setErrors({ incorrect: true });\r\n      hasError = true;\r\n      this.pnotifyService.notice('Informe o preço para realizar o cálculo.');\r\n    }\r\n\r\n    return hasError;\r\n  }\r\n\r\n  postCalculoMaterial(): void {\r\n    this.loaderModal = true;\r\n    this.resetTotais();\r\n    this.resultCaculo = [];\r\n\r\n    let params = {\r\n      codMaterial: this.material.codMaterial,\r\n      quantidade: this.form.value.quantidade,\r\n    };\r\n\r\n    console.log(params)\r\n    this.pedidosProducaoTelas\r\n      .getCalculoMaterial(params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderModal = false;\r\n        })\r\n      )\r\n      .subscribe((response: JsonResponse) => {\r\n        if (response.success === true) {\r\n          if (response.data.length === 1) {\r\n            console.log(response.data)\r\n            this.calcularTotais(response.data[0]);\r\n          } else {\r\n\r\n            this.resultCaculo = response.data;\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  checkTotais(): void {\r\n\r\n    if (this.material.quantidade > 0) {\r\n      this.calculo.tonelada = this.material.pesoEspecifico;\r\n      // this.calculo.valorUnitario = this.material.valor;\r\n      // this.calculo.valorItem = this.material.valorTotalOri;\r\n      // this.calculo.valorIpi = this.material.valorIpi;\r\n      // this.calculo.valorIcms = this.material.valorIcms;\r\n      // this.calculo.valorIcmsSt = this.material.valorIcmsSt;\r\n      // this.calculo.valorTotal = this.material.valorTotalOri;\r\n    }\r\n\r\n    // this.calculo.aliquotaIpi = this.material.percentualIpi;\r\n    // this.calculo.aliquotaIcms = this.material.percentualIcms;\r\n  }\r\n\r\n\r\n\r\n  calcularTotais(data: any): void {\r\n    this.resetTotais();\r\n\r\n    this.calculo.tonelada = data.Peso;\r\n    this.calculo.qtde = this.form.value.quantidade;\r\n    // this.calculo.valorUnitario = data.valorUnitario;\r\n    // this.calculo.valorItem = data.valorItem;\r\n    // this.calculo.aliquotaIpi = data.aliquotaIpi;\r\n    // this.calculo.valorIpi = data.valorIpi;\r\n    // this.calculo.aliquotaIcms = data.aliquotaIcms;\r\n    // this.calculo.valorIcms = data.valorIcms;\r\n    // this.calculo.valorIcmsSt = data.valorIcmsSt;\r\n    // this.calculo.valorTotal = data.valorTotal;\r\n\r\n    // this.calculoEmitter();\r\n\r\n  }\r\n\r\n  resetTotais(): void {\r\n    this.calculo = {\r\n      index: null,\r\n      tipoCalculo: 0,\r\n      tonelada: 0,\r\n      qtde: 0,\r\n      valorUnitario: 0,\r\n      valorItem: 0,\r\n      aliquotaIpi: 0,\r\n      valorIpi: 0,\r\n      aliquotaIcms: 0,\r\n      valorIcms: 0,\r\n      valorIcmsSt: 0,\r\n      valorTotal: 0,\r\n    };\r\n  }\r\n\r\n  onSubmit(): void {\r\n    const calculos = this.calculo;\r\n    this.calculo.index = this.index;\r\n    this.formularioService.calculoSubject.next(calculos);\r\n\r\n    if (this.calculo.tonelada === 0) {\r\n      this.confirmModalService\r\n        .showConfirm(\r\n          null,\r\n          'Cálculo não efetuado',\r\n          'O cálculo não foi efetuado, pois o material precisa ter altura, comprimento e peso, verifique no cadastro do material. Deseja continuar mesmo assim?',\r\n          'Cancelar',\r\n          'Confirmar'\r\n        )\r\n        .subscribe((response: boolean) =>\r\n          response ? this.postCalculoMaterial() : EMPTY\r\n        );\r\n\r\n    } else {\r\n      this.postCalculoMaterial();\r\n    } {\r\n\r\n    }\r\n      // this.formularioService.calculoSubject.next(calculos);\r\n      this.onClose();\r\n    // this.addCalculo();\r\n  }\r\n\r\n  onClose(): void {\r\n    this.bsModalRef.hide();\r\n  }\r\n\r\n  onFieldError(field: string): string {\r\n    if (this.onFieldInvalid(field)) {\r\n      return 'is-invalid';\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any): boolean {\r\n    field = this.form.get(field);\r\n\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onFieldRequired(\r\n    abstractControl: AbstractControl,\r\n    abstractControlField?: string\r\n  ): string {\r\n    if (abstractControl.validator) {\r\n      const validator = abstractControl.validator({} as AbstractControl);\r\n      if (validator && validator.required) {\r\n        return 'is-required';\r\n      }\r\n    }\r\n\r\n    if (abstractControlField) {\r\n      for (const controlName in abstractControl['controls']) {\r\n        if (abstractControl['controls'][controlName]) {\r\n          if (\r\n            this.onFieldRequired(abstractControl['controls'][controlName]) &&\r\n            controlName == abstractControlField\r\n          ) {\r\n            return 'is-required';\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onShowImpostos(): void {\r\n    this.showImpostos = !this.showImpostos;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalSelecionarService {\r\n\r\n  constructor(\r\n    private pnotifyService: PNotifyService,\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n}\r\n","export default \"<div class=\\\"modal-content\\\" *ngIf=\\\"dataCotacao\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"mtc-title mb-0 my-auto\\\">\\r\\n      COTAÇÃO #{{ dataCotacao.codCotacao }} / {{ dataCotacao.situacao.situacaoProposta | uppercase }}\\r\\n    </h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"onClose()\\\" [disabled]=\\\"submittingForm === true\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body py-5\\\">\\r\\n    <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n      <div class=\\\"form-row mb-4\\\">\\r\\n        <div class=\\\"form-group col-lg-6\\\">\\r\\n          <div class=\\\"mb-1 d-flex justify-content-between w-100\\\" style=\\\"height: 19px\\\">\\r\\n            <label class=\\\"my-auto\\\" for=\\\"codConcorrente\\\">Concorrente</label>\\r\\n            <div class=\\\"my-auto text-uppercase\\\" style=\\\"font-size: 11px\\\">\\r\\n              <a\\r\\n                class=\\\"text-secondary\\\"\\r\\n                href=\\\"javascript:void(0)\\\"\\r\\n                (click)=\\\"onDetalhesConcorrente()\\\"\\r\\n                *ngIf=\\\"form.value.codConcorrente != null\\\">\\r\\n                <strong>Detalles</strong>\\r\\n              </a>\\r\\n              <span class=\\\"mx-2\\\" *ngIf=\\\"form.value.codConcorrente != null\\\">|</span>\\r\\n              <a\\r\\n                class=\\\"text-primary\\\"\\r\\n                href=\\\"javascript:void(0)\\\"\\r\\n                [routerLink]=\\\"[getLinkAddConcorrente()]\\\"\\r\\n                target=\\\"_blank\\\">\\r\\n                <strong>Adicionar</strong>\\r\\n              </a>\\r\\n              <span class=\\\"mx-2\\\">|</span>\\r\\n              <btn-icon\\r\\n                icon=\\\"fas fa-redo-alt\\\"\\r\\n                size=\\\"small\\\"\\r\\n                class=\\\"mr-2\\\"\\r\\n                tooltip=\\\"Recarregar\\\"\\r\\n                (click)=\\\"onReloadConcorrentes()\\\">\\r\\n              </btn-icon>\\r\\n            </div>\\r\\n          </div>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"concorrentes\\\"\\r\\n            formControlName=\\\"codConcorrente\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            bindLabel=\\\"nomeConcorrente\\\"\\r\\n            bindValue=\\\"codConcorrenteTid\\\"\\r\\n            [loading]=\\\"concorrentesLoader\\\"\\r\\n            loadingText=\\\"Carregando...\\\">\\r\\n          </ng-select>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col\\\">\\r\\n          <div class=\\\"mtc-title\\\">Resumo do pedido</div>\\r\\n          <custom-table [config]=\\\"tableConfig\\\">\\r\\n            <ng-template #thead let-thead>\\r\\n              <tr>\\r\\n                <th scope=\\\"col\\\" width=\\\"35%\\\">Material</th>\\r\\n                <th scope=\\\"col\\\" width=\\\"12%\\\" class=\\\"text-center\\\">Ton</th>\\r\\n                <th scope=\\\"col\\\" width=\\\"12%\\\" class=\\\"text-center\\\">Unit.</th>\\r\\n                <th scope=\\\"col\\\" width=\\\"12%\\\" class=\\\"text-center\\\">R$</th>\\r\\n                <th scope=\\\"col\\\" width=\\\"14%\\\" class=\\\"text-center\\\">Concorrente</th>\\r\\n                <th scope=\\\"col\\\" width=\\\"15%\\\">Depósito</th>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n            <div formArrayName=\\\"materiais\\\">\\r\\n              <ng-template #tbody let-tbody>\\r\\n                <tr *ngFor=\\\"let material of materiais.controls; let i = index\\\" [formGroupName]=\\\"i\\\">\\r\\n                  <td width=\\\"35%\\\" class=\\\"text-truncate\\\">\\r\\n                    {{ form.value.materiais[i].codMaterial }} - {{ form.value.materiais[i].nomeMaterial | uppercase }}\\r\\n                  </td>\\r\\n                  <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ form.value.materiais[i].quantidade | number:'1.3-3' }} TON</td>\\r\\n                  <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ form.value.materiais[i].valorUnit | currency:'BRL':symbol:'1.2-2' }}</td>\\r\\n                  <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ form.value.materiais[i].valorTotal | currency:'BRL':symbol:'1.2-2' }}</td>\\r\\n                  <td width=\\\"14%\\\">\\r\\n                    <input\\r\\n                      type=\\\"text\\\"\\r\\n                      id=\\\"valorConcorrente\\\"\\r\\n                      class=\\\"form-control text-center\\\"\\r\\n                      formControlName=\\\"valorConcorrente\\\"\\r\\n                      currencyMask [options]=\\\"{ align: 'left', prefix: 'R$ ', thousands: '.', decimal: ',', precision: 2 }\\\">\\r\\n                  </td>\\r\\n                  <td width=\\\"15%\\\" class=\\\"text-truncate\\\">{{ form.value.materiais[i].nomeDeposito | uppercase }}</td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td width=\\\"35%\\\" class=\\\"text-right\\\">TOTAL</td>\\r\\n                  <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ calcularTotais('quantidade') | number:'1.3-3' }} TON</td>\\r\\n                  <td width=\\\"12%\\\" class=\\\"text-center\\\"></td>\\r\\n                  <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ calcularTotais('valor') | currency:'BRL':'symbol':'1.2-2' }}</td>\\r\\n                  <td width=\\\"14%\\\" class=\\\"text-center\\\">{{ calcularTotais('concorrente') | currency:'BRL':'symbol':'1.2-2' }}</td>\\r\\n                  <td width=\\\"15%\\\"></td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n            </div>\\r\\n          </custom-table>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n    <div class=\\\"row mt-5\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <span class=\\\"mtc-title mb-0 mr-2\\\">Cotação realizada para:</span>\\r\\n        <span>{{ dataCotacao.razaoSocial | uppercase }}</span>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      class=\\\"btn btn-danger\\\"\\r\\n      (click)=\\\"onClose()\\\"\\r\\n      [disabled]=\\\"submittingForm === true\\\">\\r\\n      Fechar\\r\\n    </button>\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      class=\\\"btn btn-primary\\\"\\r\\n      (click)=\\\"onSubmit()\\\"\\r\\n      [disabled]=\\\"submittingForm === true\\\">\\r\\n      Enviar\\r\\n    </button>\\r\\n  </div>\\r\\n</div>\\r\\n\";","import { ComercialCicloVendasPedidosProducaoTelasService } from './../../../../pedidos-producao-telas.service';\r\nimport { ICarrinhoModel } from './../../../../../cotacoes/formulario/models/carrinho';\r\nimport { Component, OnInit, Input } from '@angular/core';\r\nimport { FormGroup, FormBuilder, FormArray } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n// ngx-bootstrap\r\nimport { BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { ComercialCadastrosConcorrenteService } from 'src/app/modules/comercial/cadastros/concorrentes/concorrentes.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioService } from '../../../formulario.service';\r\n\r\n// Interfaces\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\nimport { Concorrente } from '../../../../../../cadastros/concorrentes/models/concorrente';\r\n\r\n@Component({\r\n  selector:\r\n    'comercial-ciclo-vendas-pedidos-producao-telas-formulario-modal-finalizacao-perdida',\r\n  templateUrl: './perdida.component.html',\r\n  styleUrls: ['./perdida.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPerdidaComponent\r\n  implements OnInit {\r\n  @Input('dataCotacao') dataCotacao: any;\r\n\r\n  tableConfig: Partial<CustomTableConfig> = {\r\n    isFixed: true,\r\n    border: false,\r\n    small: false,\r\n    hover: false,\r\n    theme: {\r\n      color: 'white',\r\n    },\r\n  };\r\n\r\n  form: FormGroup;\r\n  submittingForm: boolean;\r\n\r\n  concorrentes: Concorrente[] = [];\r\n  concorrentesLoader: boolean;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private bsModalRef: BsModalRef,\r\n    private formBuilder: FormBuilder,\r\n    private pnotifyService: PNotifyService,\r\n    private cotacoesService: ComercialCicloVendasPedidosProducaoTelasService,\r\n    private concorrentesService: ComercialCadastrosConcorrenteService,\r\n    private formularioService: ComercialCicloVendasPedidosProducaoTelasFormularioService\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getConcorrentes();\r\n    this.setFormBuilder();\r\n  }\r\n\r\n  getConcorrentes(): void {\r\n    this.concorrentes = [];\r\n    this.concorrentesLoader = true;\r\n\r\n    this.concorrentesService\r\n      .getListaConcorrentes({})\r\n      .pipe(\r\n        finalize(() => {\r\n          this.concorrentesLoader = false;\r\n        })\r\n      )\r\n      .subscribe((response: JsonResponse) => {\r\n        this.concorrentes = response.data;\r\n      });\r\n  }\r\n\r\n  getLinkAddConcorrente(): string {\r\n    return '/comercial/cadastros/concorrentes/novo';\r\n  }\r\n\r\n  onReloadConcorrentes(): void {\r\n    this.getConcorrentes();\r\n  }\r\n\r\n  setFormBuilder(): void {\r\n    this.form = this.formBuilder.group({\r\n      codConcorrente: [null],\r\n      materiais: this.formBuilder.array([]),\r\n    });\r\n\r\n    this.onAddMaterial(this.dataCotacao.carrinho);\r\n  }\r\n\r\n  get materiais(): FormArray {\r\n    return this.form.get('materiais') as FormArray;\r\n  }\r\n\r\n  onAddMaterial(materiais: Array<ICarrinhoModel>): void {\r\n    if (materiais.length > 0) {\r\n      for (let i = 0; i < materiais.length; i++) {\r\n        this.materiais.push(\r\n          this.formBuilder.group({\r\n            idReservado: [materiais[i].idReservado],\r\n            codCotacao: [materiais[i].codCotacao],\r\n            codMaterial: [materiais[i].codMaterial],\r\n            nomeMaterial: [materiais[i].nomeMaterial],\r\n            quantidade: [materiais[i].quantidade],\r\n            valorUnit: [materiais[i].valorUnit],\r\n            valor: [materiais[i].valor],\r\n            percentualIpi: [materiais[i].percentualIpi],\r\n            valorIpi: [materiais[i].valorIpi],\r\n            percentualIcms: [materiais[i].percentualIcms],\r\n            valorIcms: [materiais[i].valorIcms],\r\n            valorIcmsSt: [materiais[i].valorIcmsSt],\r\n            valorConcorrente: [materiais[i].valorConcorrente],\r\n            tipoDesc: [materiais[i].tipoDesc],\r\n            valorDesc: [materiais[i].valorDesc],\r\n            percentualDesc: [materiais[i].percentualDesc],\r\n            valorTotalOri: [materiais[i].valorTotalOri],\r\n            valorTotal: [materiais[i].valorTotal],\r\n            codDeposito: [materiais[i].codDeposito],\r\n            nomeDeposito: [materiais[i].nomeDeposito],\r\n            medida1: [materiais[i].medida1],\r\n            medida2: [materiais[i].medida2],\r\n            pesoEspecifico: [materiais[i].pesoEspecifico],\r\n          })\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  calcularTotais(field: string): number {\r\n    let total = {\r\n      quantidade: 0,\r\n      valor: 0,\r\n      concorrente: 0,\r\n    };\r\n\r\n    for (let index = 0; index < this.dataCotacao.carrinho.length; index++) {\r\n      total.quantidade += this.dataCotacao.carrinho[index].quantidade;\r\n      total.valor += this.dataCotacao.carrinho[index].valorTotal;\r\n    }\r\n\r\n    if (field === 'concorrente') {\r\n      for (let index = 0; index < this.form.value.materiais.length; index++) {\r\n        const material = this.form.value.materiais[index];\r\n\r\n        total.concorrente += material.valorConcorrente;\r\n      }\r\n    }\r\n\r\n    return total[field];\r\n  }\r\n\r\n  onSubmit(): void {\r\n    if (this.checkFormValidators() === true) {\r\n      return;\r\n    }\r\n\r\n    this.submittingForm = true;\r\n\r\n    const formValue = {\r\n      codConcorrenteTid: this.form.value.codConcorrente,\r\n      carrinho: this.form.value.materiais,\r\n    };\r\n\r\n    const dataCotacao = Object.assign(this.dataCotacao, formValue);\r\n\r\n    this.cotacoesService\r\n      .postCotacaoPerdida(dataCotacao)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.submittingForm = false;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            this.onClose();\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        },\r\n        error: (error) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      });\r\n\r\n    this.onClose();\r\n  }\r\n\r\n  checkFormValidators(): boolean {\r\n    let hasError = false;\r\n\r\n    let mapError = {\r\n      codConcorrente: true,\r\n      valorConcorrente: true,\r\n    };\r\n\r\n    if (this.form.value.codConcorrente !== null) {\r\n      mapError.codConcorrente = false;\r\n    }\r\n\r\n    for (let index = 0; index < this.form.value.materiais.length; index++) {\r\n      const material = this.form.value.materiais[index];\r\n\r\n      if (material.valorConcorrente > 0) {\r\n        mapError.valorConcorrente = false;\r\n      }\r\n    }\r\n\r\n    if (\r\n      mapError.codConcorrente === true &&\r\n      mapError.valorConcorrente === true\r\n    ) {\r\n      hasError = true;\r\n\r\n      this.pnotifyService.notice(\r\n        'Selecione um concorrente ou informe o valor.'\r\n      );\r\n    }\r\n\r\n    return hasError;\r\n  }\r\n\r\n  onClose(): void {\r\n    this.formularioService.limparCarrinhoSubject.next(true);\r\n\r\n    this.bsModalRef.hide();\r\n\r\n    setTimeout(() => {\r\n      this.router.navigate(['/comercial/ciclo-vendas/cotacoes-pedidos/lista']);\r\n    }, 100);\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2Zvcm11bGFyaW8vbWF0ZXJpYWlzL2xpc3RhL2xpc3RhLmNvbXBvbmVudC5zY3NzIn0= */\";","\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n// Modules\r\nimport { ComercialCicloVendasPedidosProducaoTelasRoutingModule } from './pedidos-producao-telas-routing.module';\r\nimport { ComercialCicloVendasPedidosProducaoTelasListaModule } from './lista/lista.module';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModule } from './formulario/formulario.module';\r\n\r\n// Interfaces\r\nimport { FormDeactivateGuard } from 'src/app/guards/form-deactivate.guard';\r\n\r\n@NgModule({\r\n  declarations: [\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComercialCicloVendasPedidosProducaoTelasRoutingModule,\r\n    ComercialCicloVendasPedidosProducaoTelasListaModule,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModule,\r\n\r\n  ],\r\n  providers: [FormDeactivateGuard],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasModule {}\r\n","export default \"<div class=\\\"modal-content\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"mtc-title mb-0 my-auto\\\">DETALHES DO CLIENTE</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"onClose()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <div class=\\\"row\\\" *ngIf=\\\"cliente\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-lg-6\\\" *ngIf=\\\"cliente.tipoPessoa == 'F'\\\">\\r\\n            <label>CPF</label>\\r\\n            <div *ngIf=\\\"cliente.cpf == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.cpf != null\\\">{{ cliente.cpf }}</div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-6\\\" *ngIf=\\\"cliente.tipoPessoa == 'J'\\\">\\r\\n            <label>CNPJ</label>\\r\\n            <div *ngIf=\\\"cliente.cnpj == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.cnpj != null\\\">{{ cliente.cnpj }}</div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-6\\\">\\r\\n            <label>Nome fantasia</label>\\r\\n            <div *ngIf=\\\"cliente.nomeFantasia == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.nomeFantasia != null\\\">{{ cliente.nomeFantasia }}</div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col\\\">\\r\\n            <label>Razão social</label>\\r\\n            <div *ngIf=\\\"cliente.razaoSocial == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.razaoSocial != null\\\">{{ cliente.razaoSocial }}</div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col\\\">\\r\\n            <label>Endereço</label>\\r\\n            <div *ngIf=\\\"cliente.endereco == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.endereco != null\\\">{{ cliente.endereco }}</div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-lg-8\\\">\\r\\n            <label>Bairro</label>\\r\\n            <div *ngIf=\\\"cliente.bairro == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.bairro != null\\\">{{ cliente.bairro }}</div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-4\\\">\\r\\n            <label>CEP</label>\\r\\n            <div *ngIf=\\\"cliente.cep == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.cep != null\\\">{{ cliente.cep }}</div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-lg-8\\\">\\r\\n            <label>Cidade</label>\\r\\n            <div *ngIf=\\\"cliente.cidade == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.cidade != null\\\">{{ cliente.cidade }} / {{ cliente.uf }}</div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-4\\\">\\r\\n            <label>Segurado</label>\\r\\n            <div *ngIf=\\\"cliente.segurado != ''\\\">SIM</div>\\r\\n            <div *ngIf=\\\"cliente.segurado == ''\\\">NÃO</div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-lg-6\\\">\\r\\n            <label>Vendedor</label>\\r\\n            <div *ngIf=\\\"cliente.vendedor == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.vendedor != null\\\">{{ cliente.vendedor }}</div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-6\\\">\\r\\n            <label>Escritório</label>\\r\\n            <div *ngIf=\\\"cliente.escritorio == null\\\">NÃO INFORMADO</div>\\r\\n            <div *ngIf=\\\"cliente.escritorio != null\\\">{{ cliente.escritorio }}</div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-lg-4\\\" *ngIf=\\\"cliente.codSAP != '' && cliente.codSAP != null\\\">\\r\\n            <label>Código DBA</label>\\r\\n            <div>{{ cliente.codSAP }}</div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-4\\\" *ngIf=\\\"cliente.escritorioDba != '' && cliente.escritorioDba != null\\\">\\r\\n            <label>Escritório</label>\\r\\n            <div>{{ cliente.escritorioDba }}</div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-4\\\" *ngIf=\\\"cliente.ultimaCompraDba != '' && cliente.ultimaCompraDba != null\\\">\\r\\n            <label>Última compra</label>\\r\\n            <div>{{ cliente.ultimaCompraDba }}</div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";","export default \"<loader-spinner-navbar [hidden]=\\\"!loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<loader-spinner-full-screen *ngIf=\\\"loaderFullScreen\\\"></loader-spinner-full-screen>\\r\\n<app-header appTitle=\\\"Pedidos Produção de Telas\\\">\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onAdd()\\\">\\r\\n    Adicionar\\r\\n  </button>\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onFilter()\\\"\\r\\n    [disabled]=\\\"loaderNavbar || !form.valid\\\">\\r\\n    Filtrar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\" [show]=\\\"!loaderFullScreen\\\">\\r\\n  <div #scrollToFilter>\\r\\n    <advanced-filter>\\r\\n      <form [formGroup]=\\\"form\\\">\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-lg-3\\\">\\r\\n            <label for=\\\"tipoData\\\">Buscar por</label>\\r\\n            <select\\r\\n              class=\\\"form-control custom-select\\\"\\r\\n              id=\\\"tipoData\\\"\\r\\n              formControlName=\\\"tipoData\\\">\\r\\n              <option value=\\\"1\\\">Data de lançamento</option>\\r\\n            </select>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-2\\\">\\r\\n            <label for=\\\"dataInicial\\\">Data inicial</label>\\r\\n            <input\\r\\n              class=\\\"form-control\\\"\\r\\n              id=\\\"dataInicial\\\"\\r\\n              type=\\\"text\\\"\\r\\n              bsDatepicker\\r\\n              [bsConfig]=\\\"bsConfig\\\"\\r\\n              formControlName=\\\"dataInicial\\\">\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-2\\\">\\r\\n            <label for=\\\"dataFinal\\\">Data final</label>\\r\\n            <input\\r\\n              class=\\\"form-control\\\"\\r\\n              id=\\\"dataFinal\\\"\\r\\n              type=\\\"text\\\"\\r\\n              bsDatepicker\\r\\n              [bsConfig]=\\\"bsConfig\\\"\\r\\n              formControlName=\\\"dataFinal\\\">\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-3\\\">\\r\\n            <label for=\\\"codSituacao\\\">Situação</label>\\r\\n            <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"true\\\"\\r\\n            [items]=\\\"tipos\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            labelForId=\\\"tipo\\\"\\r\\n            bindLabel=\\\"nome\\\"\\r\\n            bindValue=\\\"cod\\\"\\r\\n            id=\\\"tipo\\\"\\r\\n            formControlName=\\\"codSituacao\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n          >\\r\\n            <ng-template ng-option-tmp let-item=\\\"item\\\" let-index=\\\"index\\\"> {{item.nome}}\\r\\n            </ng-template>\\r\\n          </ng-select>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-2\\\">\\r\\n            <label for=\\\"nrProposta\\\">Núm. proposta</label>\\r\\n            <input\\r\\n              type=\\\"text\\\"\\r\\n              placeholder=\\\"Digite...\\\"\\r\\n              id=\\\"nrProposta\\\"\\r\\n              class=\\\"form-control\\\"\\r\\n              formControlName=\\\"nrProposta\\\"\\r\\n              (keydown.enter)=\\\"onFilter()\\\">\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-lg-5\\\">\\r\\n            <label for=\\\"cliente\\\">Cliente</label>\\r\\n            <input\\r\\n              type=\\\"text\\\"\\r\\n              class=\\\"form-control\\\"\\r\\n              placeholder=\\\"Digite...\\\"\\r\\n              id=\\\"cliente\\\"\\r\\n              formControlName=\\\"cliente\\\"\\r\\n              (keydown.enter)=\\\"onFilter()\\\">\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-5\\\">\\r\\n            <label for=\\\"usuarioLancamento\\\">Usuário de Lançamento</label>\\r\\n            <input\\r\\n              type=\\\"text\\\"\\r\\n              class=\\\"form-control\\\"\\r\\n              placeholder=\\\"Digite...\\\"\\r\\n              id=\\\"usuarioLancamento\\\"\\r\\n              formControlName=\\\"usuarioLancamento\\\"\\r\\n              (keydown.enter)=\\\"onFilter()\\\">\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-2\\\">\\r\\n            <label for=\\\"registros\\\">Registros</label>\\r\\n            <select\\r\\n              class=\\\"form-control custom-select\\\"\\r\\n              id=\\\"registros\\\"\\r\\n              formControlName=\\\"registros\\\">\\r\\n              <option>100</option>\\r\\n              <option>200</option>\\r\\n              <option>300</option>\\r\\n            </select>\\r\\n          </div>\\r\\n        </div>\\r\\n      </form>\\r\\n    </advanced-filter>\\r\\n  </div>\\r\\n  <subtitles\\r\\n    [data]=\\\"subtitles\\\"\\r\\n    [show]=\\\"dados.length > 0 && !dadosEmpty\\\">\\r\\n  </subtitles>\\r\\n  <div class=\\\"row\\\" *ngIf=\\\"dados.length > 0 && !dadosEmpty\\\">\\r\\n    <div [ngClass]=\\\"{'col-12': !showDetailPanel, 'col-6 pr-0': showDetailPanel}\\\">\\r\\n      <custom-table [config]=\\\"tableConfig\\\">\\r\\n        <ng-template #thead let-thead>\\r\\n          <tr>\\r\\n            <th scope=\\\"col\\\" class=\\\"text-center\\\">\\r\\n              <thead-sorter\\r\\n                value=\\\"Núm.\\\"\\r\\n                [active]=\\\"orderBy == 'nrProposta'\\\"\\r\\n                [sort]=\\\"orderType\\\"\\r\\n                (click)=\\\"setOrderBy('nrProposta')\\\">\\r\\n              </thead-sorter>\\r\\n            </th>\\r\\n            <th scope=\\\"col\\\" class=\\\"text-center\\\">\\r\\n              <thead-sorter\\r\\n                value=\\\"Prioridade\\\"\\r\\n                [active]=\\\"orderBy == 'codPrioridade'\\\"\\r\\n                [sort]=\\\"orderType\\\"\\r\\n                (click)=\\\"setOrderBy('codPrioridade')\\\">\\r\\n              </thead-sorter>\\r\\n            </th>\\r\\n            <th scope=\\\"col\\\" class=\\\"text-center\\\">\\r\\n              <thead-sorter\\r\\n                value=\\\"Lançamento\\\"\\r\\n                [active]=\\\"orderBy == 'dataLancamento'\\\"\\r\\n                [sort]=\\\"orderType\\\"\\r\\n                (click)=\\\"setOrderBy('dataLancamento')\\\">\\r\\n              </thead-sorter>\\r\\n            </th>\\r\\n            <th scope=\\\"col\\\">\\r\\n              <thead-sorter\\r\\n                value=\\\"Cliente\\\"\\r\\n                [active]=\\\"orderBy == 'razaoSocial'\\\"\\r\\n                [sort]=\\\"orderType\\\"\\r\\n                (click)=\\\"setOrderBy('razaoSocial')\\\">\\r\\n              </thead-sorter>\\r\\n            </th>\\r\\n            <th scope=\\\"col\\\" [hidden]=\\\"showDetailPanel\\\">Lançado por</th>\\r\\n            <th scope=\\\"col\\\" [hidden]=\\\"showDetailPanel\\\"></th>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n        <ng-template #tbody let-tbody>\\r\\n          <tr *ngFor=\\\"let pedido of dados; let i = index\\\" [class.table-active]=\\\"i == activeRow\\\">\\r\\n            <td (click)=\\\"viewRegister(i, pedido)\\\"  class=\\\"text-center hover\\\" [ngClass]=\\\"styleStatusBorder(pedido)\\\" >{{ pedido.nrPedido }}</td>\\r\\n            <td class=\\\"text-center hover\\\" (click)=\\\"viewRegister(i, pedido)\\\">{{ pedido.prioridade }}</td>\\r\\n            <td class=\\\"text-center hover\\\" (click)=\\\"viewRegister(i, pedido)\\\">{{ pedido.dataCadastro  | date: 'dd/MM/yyyy HH:mm' }}</td>\\r\\n            <td class=\\\"hover\\\" (click)=\\\"viewRegister(i, pedido)\\\">{{ pedido.razaoSocial | uppercase }}</td>\\r\\n            <td class=\\\"hover\\\" (click)=\\\"viewRegister(i, pedido)\\\" [hidden]=\\\"showDetailPanel\\\">{{ pedido.nomeUsuarioCadastro | uppercase }}</td>\\r\\n            <td class=\\\"hover\\\" style=\\\"width:160px\\\">\\r\\n              <span class=\\\"mr-3\\\" tooltip=\\\"Editar\\\" placement=\\\"left\\\" container=\\\"body\\\" *ngIf=\\\"pedido.codSituacao == 1\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn-icon-sm\\\" (click)=\\\"onEdit(pedido)\\\" >\\r\\n                  <i class=\\\"fas fa-edit\\\"></i>\\r\\n                </button>\\r\\n              </span>\\r\\n              <span\\r\\n              *ngIf=\\\"pedido.codSituacao == 1\\\"\\r\\n              class=\\\"mr-3\\\"\\r\\n              tooltip=\\\"Alterar para Produção\\\"\\r\\n              placement=\\\"left\\\"\\r\\n              container=\\\"body\\\"\\r\\n              >\\r\\n                <button type=\\\"button\\\" class=\\\"btn-icon-sm\\\" (click)=\\\"openModalProducao(producao); setFormProducao(pedido);\\\">\\r\\n                  <i class=\\\"fab fa-deviantart\\\"></i>\\r\\n                </button>\\r\\n              </span>\\r\\n              <span class=\\\"mr-3\\\"\\r\\n              tooltip=\\\"ver Observação Produção\\\"\\r\\n              placement=\\\"left\\\" container=\\\"body\\\"\\r\\n              *ngIf=\\\"pedido.codSituacao == 2 || pedido.codSituacao == 3\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn-icon-sm\\\" (click)=\\\"openModalProducao(producao); setFormProducao(pedido);\\\">\\r\\n                  <i class=\\\"fas fa-eye\\\"></i>\\r\\n                </button>\\r\\n              </span>\\r\\n              <span\\r\\n              *ngIf=\\\"pedido.codSituacao == 2\\\"\\r\\n              class=\\\"mr-3\\\"\\r\\n              tooltip=\\\"Alterar para Expedição\\\"\\r\\n              placement=\\\"left\\\"\\r\\n              container=\\\"body\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn-icon-sm\\\" (click)=\\\"openModalExpedicao(expedicao); setFormExpedicao(pedido);\\\">\\r\\n                  <i class=\\\"fab fa-deviantart\\\"></i>\\r\\n                </button>\\r\\n              </span>\\r\\n              <span class=\\\"mr-3\\\"\\r\\n              tooltip=\\\"ver Localização de expedição\\\"\\r\\n              placement=\\\"left\\\" container=\\\"body\\\"\\r\\n              *ngIf=\\\"pedido.codSituacao == 3\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn-icon-sm\\\" (click)=\\\"openModalExpedicao(expedicao); setFormExpedicao(pedido);\\\">\\r\\n                  <i class=\\\"far fa-eye\\\"></i>\\r\\n                </button>\\r\\n              </span>\\r\\n              <!-- <span class=\\\"mr-3\\\" tooltip=\\\"Imprimir Proposta\\\" placement=\\\"left\\\" container=\\\"body\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn-icon-sm\\\" >\\r\\n                  <i class=\\\"fas fa-print\\\"></i>\\r\\n                </button>\\r\\n              </span>\\r\\n              <span class=\\\"mr-3\\\" tooltip=\\\"Imprimir Etiqueta\\\" placement=\\\"left\\\" container=\\\"body\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn-icon-sm\\\" >\\r\\n                  <i class=\\\"fas fa-copy\\\"></i>\\r\\n                </button>\\r\\n              </span>\\r\\n              <span class=\\\"mr-3\\\" tooltip=\\\"Deletar\\\" placement=\\\"left\\\" container=\\\"body\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn-icon-sm\\\" >\\r\\n                  <i class=\\\"fas fa-trash-alt\\\"></i>\\r\\n                </button>\\r\\n              </span> -->\\r\\n            </td>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n      </custom-table>\\r\\n      <empty-result message=\\\"Nenhuma informação encontrada\\\" *ngIf=\\\"dadosEmpty && !dadosLoaded\\\"></empty-result>\\r\\n      <div class=\\\"d-flex justify-content-center mt-3\\\" *ngIf=\\\"totalItems > itemsPerPage && !dadosEmpty && dadosLoaded\\\">\\r\\n        <pagination\\r\\n          [maxSize]=\\\"maxSize\\\"\\r\\n          [(totalItems)]=\\\"totalItems\\\"\\r\\n          (pageChanged)=\\\"onPageChanged($event)\\\"\\r\\n          [(itemsPerPage)]=\\\"itemsPerPage\\\"\\r\\n          [boundaryLinks]=\\\"true\\\"\\r\\n          [(ngModel)]=\\\"currentPage\\\"\\r\\n          previousText=\\\"&lsaquo;\\\"\\r\\n          nextText=\\\"&rsaquo;\\\"\\r\\n          firstText=\\\"&laquo;\\\"\\r\\n          lastText=\\\"&raquo;\\\">\\r\\n        </pagination>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-6\\\" [hidden]=\\\"!showDetailPanel\\\" #scrollToDetails>\\r\\n      <detail-panel [panelTitle]=\\\"detailPanelTitle\\\">\\r\\n        <!-- <div class=\\\"row mt-1\\\">\\r\\n          <div class=\\\"col\\\" >\\r\\n            <button\\r\\n              type=\\\"button\\\"\\r\\n              class=\\\"btn-icon mr-3\\\"\\r\\n              tooltip=\\\"Editar\\\"\\r\\n              placement=\\\"right\\\"s\\r\\n              (click)=\\\"onEdit(pedido)\\\">\\r\\n              <i class=\\\"fas fa-edit\\\"></i>\\r\\n            </button>\\r\\n            <button\\r\\n              type=\\\"button\\\"\\r\\n              class=\\\"btn-icon mr-3\\\"\\r\\n              tooltip=\\\"Imprimir Proposta\\\"\\r\\n              placement=\\\"right\\\">\\r\\n              <i class=\\\"fas fa-print\\\"></i>\\r\\n            </button>\\r\\n            <button\\r\\n              type=\\\"button\\\"\\r\\n              class=\\\"btn-icon mr-3\\\"\\r\\n              tooltip=\\\"Imprimir Etiqueta\\\"\\r\\n              placement=\\\"right\\\">\\r\\n              <i class=\\\"fas fa-copy\\\"></i>\\r\\n            </button>\\r\\n            <button\\r\\n              type=\\\"button\\\"\\r\\n              class=\\\"btn-icon mr-3\\\"\\r\\n              tooltip=\\\"Deletar\\\"\\r\\n              placement=\\\"right\\\">\\r\\n              <i class=\\\"fas fa-trash-alt\\\"></i>\\r\\n            </button>\\r\\n          </div>\\r\\n        </div> -->\\r\\n        <!-- <div class=\\\"row\\\">\\r\\n          <div class=\\\"col\\\"><hr></div>\\r\\n        </div> -->\\r\\n        <div class=\\\"mtc-title\\\">Detalhes do Pedido</div>\\r\\n        <div class=\\\"row\\\" *ngFor = \\\"let item of detalhes;\\\">\\r\\n          <div class=\\\"col\\\">\\r\\n            <div >\\r\\n              <div class=\\\"form-row mt-3\\\">\\r\\n                <div class=\\\"form-group col-6\\\">\\r\\n                  <label>Número do Pedido</label>\\r\\n                  <div *ngIf=\\\"item.nrPedido == null || item.nrPedido == ''\\\">NÃO INFORMADO</div>\\r\\n                  <div *ngIf=\\\"item.nrPedido != null && item.nrPedido != ''\\\">{{ item.nrPedido }}</div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group col-6\\\">\\r\\n                  <label>Cliente</label>\\r\\n                  <div *ngIf=\\\"item.razaoSocial == null || item.razaoSocial == ''\\\">NÃO INFORMADO</div>\\r\\n                  <div *ngIf=\\\"item.razaoSocial != null && item.razaoSocial != ''\\\">{{ item.razaoSocial }}</div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col-6\\\">\\r\\n                  <label>Data de Lançamento</label>\\r\\n                  <div *ngIf=\\\"item.dataCadastro == null || item.dataCadastro == ''\\\">NÃO INFORMADO</div>\\r\\n                  <div *ngIf=\\\"item.dataCadastro != null && item.dataCadastro != ''\\\">{{ item.dataCadastro  | date: 'dd/MM/yyyy HH:mm' }}</div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group col-6\\\">\\r\\n                  <label>Data Prevista de Entrega</label>\\r\\n                  <div *ngIf=\\\"item.dataPrevisaoEntrega == null || item.dataPrevisaoEntrega == ''\\\">NÃO INFORMADO</div>\\r\\n                  <div *ngIf=\\\"item.dataPrevisaoEntrega != null && item.dataPrevisaoEntrega != ''\\\">{{ item.dataPrevisaoEntrega  | date: 'dd/MM/yyyy HH:mm'}}</div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <!-- <div class=\\\"form-row\\\">\\r\\n                <div class=\\\"form-group col\\\">\\r\\n                  <label>Observações</label>\\r\\n                  <div *ngIf=\\\"item.observacao == null || item.observacao == ''\\\">\\r\\n                    NÃO INFORMADO\\r\\n                  </div>\\r\\n                  <div *ngIf=\\\"item.observacao != null && item.observacao != ''\\\">\\r\\n                    {{ item.observacao }}\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div> -->\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col\\\"><hr></div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col\\\" *ngIf=\\\"itensLoaded && !itensEmpty\\\">\\r\\n            <div class=\\\"mtc-title\\\">Itens da proposta</div>\\r\\n            <custom-table >\\r\\n              <ng-template #thead let-thead>\\r\\n                <tr>\\r\\n                  <th scope=\\\"col\\\">Material</th>\\r\\n                  <th scope=\\\"col\\\" class=\\\"text-center\\\">Qtde.</th>\\r\\n                  <th scope=\\\"col\\\" class=\\\"text-center\\\">Peso</th>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n              <ng-template #tbody let-tbody>\\r\\n                <tr *ngFor=\\\"let item of detalhesCarrinho\\\" >\\r\\n                  <td>{{ item.codMaterial }} - {{ item.nomeMaterial | uppercase }}</td>\\r\\n                  <td class=\\\"text-center\\\">{{ item.qtdeItem | number:'1.3-3' }}</td>\\r\\n                  <td class=\\\"text-center\\\">{{ item.peso }} TON</td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td class=\\\"bg-dark text-white text-center\\\">TOTAL</td>\\r\\n                  <td class=\\\"bg-dark text-white text-center\\\">{{ detalhes.qtdeTotal | number:'1.3-3' }}</td>\\r\\n                  <td class=\\\"bg-dark text-white text-center\\\">{{ detalhes.pesoTotal  }} TON</td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n            </custom-table>\\r\\n            <div *ngIf=\\\"itensLoaded && itensEmpty\\\">\\r\\n              <empty-result message=\\\"Nenhuma informação encontrada\\\"></empty-result>\\r\\n            </div>\\r\\n            <div class=\\\"d-flex w-100\\\" *ngIf=\\\"!itensLoaded\\\">\\r\\n              <div class=\\\"spinner-border spinner-border-sm text-dark my-auto mr-2\\\"></div>\\r\\n              <strong>Carregando itens...</strong>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </detail-panel>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <!-- Modal alteração produção -->\\r\\n<ng-template #producao>\\r\\n\\r\\n  <div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n\\r\\n        <button type=\\\"button\\\" class=\\\"close pull-right\\\" (click)=\\\"closeModal(producao)\\\" aria-label=\\\"Close\\\">\\r\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n        </button>\\r\\n        <div class=\\\"mtc-title\\\">Alteração para Produção</div>\\r\\n        <form [formGroup]=\\\"formProducao\\\" autocomplete=\\\"off\\\" #scrollToFormOnTop>\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <textarea\\r\\n                class=\\\"form-control\\\"\\r\\n                id=\\\"text-area\\\"\\r\\n                rows=\\\"3\\\"\\r\\n                formControlName=\\\"observacao\\\"\\r\\n                [readonly]=\\\"comentario\\\">\\r\\n            </textarea>\\r\\n            </div>\\r\\n          </form>\\r\\n        <div class=\\\"row mt-2\\\">\\r\\n          <div class=\\\"col\\\" style=\\\"text-align: center;\\\" >\\r\\n\\r\\n          <button\\r\\n            *ngIf = \\\"!comentario\\\"\\r\\n            type=\\\"button\\\"\\r\\n            class=\\\"btn btn-success\\\"\\r\\n            (click)=\\\"modalRef.hide(); onChangeProducao();\\\"\\r\\n            >\\r\\n            Enviar\\r\\n          </button>\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n</ng-template>\\r\\n\\r\\n<!-- Modal alteração expedição -->\\r\\n<ng-template #expedicao>\\r\\n\\r\\n  <div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n\\r\\n      <button type=\\\"button\\\" class=\\\"close pull-right\\\" (click)=\\\"closeModal(expedicao)\\\" aria-label=\\\"Close\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n      </button>\\r\\n        <div class=\\\"mtc-title\\\">Alteração para Expedição</div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <form [formGroup]=\\\"formExpedicao\\\" autocomplete=\\\"off\\\" #scrollToFormOnTop>\\r\\n              <label>Localização de Expedição</label>\\r\\n                <select\\r\\n                  class=\\\"form-control custom-select\\\"\\r\\n                  id=\\\"codLocalizacao\\\"\\r\\n                  placeholder=\\\"Selecione...\\\"\\r\\n                  formControlName=\\\"codLocalizacao\\\">\\r\\n                  <option value=\\\"\\\">Todos</option>\\r\\n                  <option value=\\\"1\\\">Piracicaba</option>\\r\\n                  <option value=\\\"2\\\">Rio das Pedras-CD</option>\\r\\n                  <option value=\\\"3\\\">Rio das Pedras-Civil</option>\\r\\n                  <option value=\\\"4\\\">Retira</option>\\r\\n                </select>\\r\\n              </form>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row mt-2\\\">\\r\\n            <div class=\\\"col\\\" style=\\\"text-align: center;\\\">\\r\\n\\r\\n            <button\\r\\n              *ngIf=\\\"!localizacao\\\"\\r\\n              type=\\\"button\\\"\\r\\n              class=\\\"btn btn-success\\\"\\r\\n              (click)=\\\"modalRef.hide(); onChangeExpedicao();\\\"\\r\\n              >\\r\\n              Enviar\\r\\n            </button>\\r\\n\\r\\n          </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n</ng-template>\\r\\n</app-body>\\r\\n\";","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n// ngx-bootstrap\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\n\r\n// Components\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesComponent } from './cliente.component';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { ComercialClientesService } from 'src/app/modules/comercial/services/clientes.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesService {\r\n  loaderNavbar: EventEmitter<boolean> = new EventEmitter();\r\n\r\n  constructor(\r\n    private modalService: BsModalService,\r\n    private pnotifyService: PNotifyService,\r\n    private clientesService: ComercialClientesService\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  showModal(codCliente: number): void {\r\n    this.loaderNavbar.emit(true);\r\n\r\n    this.clientesService\r\n      .getDetalhes(codCliente)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar.emit(false);\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            const modalConfig = {\r\n              animated: false,\r\n            };\r\n\r\n            const initialState = {\r\n              cliente: response.data,\r\n            };\r\n\r\n            this.modalService.show(\r\n              ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesComponent,\r\n              Object.assign({}, modalConfig, {\r\n                initialState,\r\n              })\r\n            );\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      });\r\n  }\r\n}\r\n","export default \"::ng-deep comercial-ciclo-vendas-cotacoes-formulario-finalizacao #progress-bar-mapa-metas {\\n  margin-top: -70px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb21lcmNpYWwvY2ljbG8tdmVuZGFzL3BlZGlkb3MtcHJvZHVjYW8tdGVsYXMvZm9ybXVsYXJpby9tb2RhbC9maW5hbGl6YWNhby9wYWRyYW8vcGFkcmFvLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVJO0VBQ0UsaUJBQUE7QUFETiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2Zvcm11bGFyaW8vbW9kYWwvZmluYWxpemFjYW8vcGFkcmFvL3BhZHJhby5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjo6bmctZGVlcCB7XHJcbiAgY29tZXJjaWFsLWNpY2xvLXZlbmRhcy1jb3RhY29lcy1mb3JtdWxhcmlvLWZpbmFsaXphY2FvIHtcclxuICAgICNwcm9ncmVzcy1iYXItbWFwYS1tZXRhcyB7XHJcbiAgICAgIG1hcmdpbi10b3A6IC03MHB4O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0= */\";","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable, forkJoin, BehaviorSubject } from 'rxjs';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\n// Services\r\nimport { ComercialCadastrosPropostasAssociacaoSituacoesPropostaService } from '../../../cadastros/propostas/associacao-situacoes-proposta/associacao-situacoes-proposta.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasListaService {\r\n  private readonly API = `http://23.254.204.187/api/comercial/ciclo-vendas/pedidos-producao-telas`;\r\n\r\n  private onChangeClienteCotacao = new BehaviorSubject([]);\r\n  clienteCotacao = this.onChangeClienteCotacao.asObservable();\r\n\r\n  private onCotacaoDuplicada = new BehaviorSubject([]);\r\n  pedidoDuplicada = this.onCotacaoDuplicada.asObservable();\r\n\r\n  private onCotacaoDesdobrada = new BehaviorSubject([]);\r\n  pedidoDesdobrada = this.onCotacaoDesdobrada.asObservable();\r\n\r\n  private onChangeEmpresaCotacao = new BehaviorSubject([]);\r\n  empresaCotacao = this.onChangeEmpresaCotacao.asObservable();\r\n\r\n  constructor(\r\n    protected http: HttpClient,\r\n    private associacaoSituacoesPropostaService: ComercialCadastrosPropostasAssociacaoSituacoesPropostaService\r\n  ) {}\r\n\r\n  loadDependencies(): Observable<Array<Object | JsonResponse>> {\r\n    const associacoes = this.associacaoSituacoesPropostaService.getListaAssociacoes(\r\n      {\r\n        codSituacao: 1,\r\n      }\r\n    );\r\n\r\n    return forkJoin([associacoes]);\r\n  }\r\n\r\n  updateClienteCotacao([selectedCliente, pedido]) {\r\n    this.onChangeClienteCotacao.next([selectedCliente, pedido]);\r\n  }\r\n\r\n  updateCotacaoDuplicada([nrProposta, codVendedor, pedido]) {\r\n    this.onCotacaoDuplicada.next([nrProposta, codVendedor, pedido]);\r\n  }\r\n\r\n  updateCotacaoDesdobrada([nrProposta, pedido, materiais]) {\r\n    this.onCotacaoDesdobrada.next([nrProposta, pedido, materiais]);\r\n  }\r\n\r\n  updateEmpresaCotacao([selectedEmpresa, selectedDeposito, nrProposta]) {\r\n    this.onChangeEmpresaCotacao.next([\r\n      selectedEmpresa,\r\n      selectedDeposito,\r\n      nrProposta,\r\n    ]);\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2Zvcm11bGFyaW8vbW9kYWwvZmluYWxpemFjYW8vcGVyZGlkYS9wZXJkaWRhLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Resolve } from '@angular/router';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n// Services\r\nimport { AuthService } from 'src/app/shared/services/core/auth.service';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasService } from './../pedidos-producao-telas.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioResolverGuard\r\n  implements Resolve<any> {\r\n  user: any;\r\n\r\n  constructor(\r\n    private pedidosProducaoTelasService: ComercialCicloVendasPedidosProducaoTelasService,\r\n    private authService: AuthService,\r\n    private dateService: DateService\r\n  ) {\r\n    this.user = this.authService.getCurrentUser().info;\r\n  }\r\n\r\n  resolve(route: ActivatedRouteSnapshot): Observable<any> {\r\n    if (route.params && route.params.nrProposta) {\r\n      return this.pedidosProducaoTelasService.getDetalhesPedidos(route.params.nrProposta)\r\n    }\r\n\r\n    // É implementado o método \"of\" para manter a tipagem de retorno com Observable.\r\n    return of({\r\n      success: true,\r\n      mensagem: null,\r\n      data:\r\n          {\r\n            codCliente: null,\r\n            codLocalizacaoEstoque: null,\r\n            codSituacao: null,\r\n            codUsuarioCadastro: null,\r\n            dataCadastro: null,\r\n            dataPrevisaoEntrega: null,\r\n            descPedido: null,\r\n            descSituacao: null,\r\n            nomeCliente: null,\r\n            nomeLocalizacaoEstoque: '',\r\n            nomeUsuarioCadastro: null,\r\n            nrPedido: null,\r\n            pesoTotal: null,\r\n            prioridade: null,\r\n            razaoSocial: null,\r\n            codRazaoSocial: null,\r\n            codEndereco: null,\r\n            carrinho: []\r\n        },\r\n\r\n\r\n\r\n    });\r\n  }\r\n}\r\n","import { ComercialCicloVendasPedidosProducaoTelasService } from './../../../pedidos-producao-telas.service';\r\nimport { Injectable, EventEmitter } from '@angular/core';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n// ngx-bootstrap\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\n\r\n// Components\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoComponent } from './historico-exclusao.component';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoService {\r\n  loaderNavbar: EventEmitter<boolean> = new EventEmitter();\r\n\r\n  constructor(\r\n    private modalService: BsModalService,\r\n    private pnotifyService: PNotifyService,\r\n    private cotacoesService: ComercialCicloVendasPedidosProducaoTelasService\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  showModal(codCotacao: number): void {\r\n    this.loaderNavbar.emit(true);\r\n\r\n    this.cotacoesService\r\n      .getHistoricoExclusao(codCotacao)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar.emit(false);\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            const modalConfig = {\r\n              animated: false,\r\n              class: 'modal-lg',\r\n            };\r\n\r\n            const initialState = {\r\n              exclusoes: response.data,\r\n            };\r\n\r\n            this.modalService.show(\r\n              ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoComponent,\r\n              Object.assign({}, modalConfig, {\r\n                initialState,\r\n              })\r\n            );\r\n          } else {\r\n            this.pnotifyService.notice('Nenhuma informação encontrada.');\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { take, retry } from 'rxjs/operators';\r\nimport { Observable, forkJoin } from 'rxjs';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\n// Services\r\nimport { ComercialService } from '../../comercial.service';\r\nimport { ComercialTidSoftwareService } from '../../tid-software/tid-software.service';\r\nimport { ComercialEstoqueService } from '../../estoque/estoque.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasService {\r\n  private readonly API = `http://23.254.204.187/api/comercial/ciclo-vendas/pedidos-producao-telas`;\r\n\r\n  constructor(\r\n    protected http: HttpClient,\r\n    private comercialService: ComercialService,\r\n    private tidSoftwareService: ComercialTidSoftwareService,\r\n    private estoqueService: ComercialEstoqueService\r\n  ) {}\r\n\r\n  getPermissoesAcesso(): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/permissoes-acesso`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getPedidosProducaoTelas(params: any): Observable<Object | JsonResponse> {\r\n    let httpParams = new HttpParams();\r\n\r\n    for (let param in params) {\r\n      httpParams = httpParams.append(param, params[param]);\r\n    }\r\n\r\n    return this.http\r\n      .get(`${this.API}/lista`, { params: httpParams })\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getDetalhesPedidosProducaoTelas(\r\n    codEmpresa: number,\r\n    nrProposta: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/detalhes/${nrProposta}`)\r\n      // .get(`${this.API}/detalhes/${codEmpresa}/${nrProposta}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getMateriaisPedidosProducaoTelas(\r\n    codEmpresa: number,\r\n    nrProposta: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/materiais/detalhes/${codEmpresa}/${nrProposta}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getSituacaoLiberacao(nrProposta: number): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/situacao-liberacao/${nrProposta}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postTrocarCliente(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/trocar/cliente`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postDuplicarProposta(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/duplicar-proposta`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postDesdobrarProposta(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/desdobrar-proposta`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postTrocarEmpresa(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/trocar/empresa`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getImprimirCotacao(nrProposta: number): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/imprimir-cotacao/${nrProposta}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postEmailCotacao(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/email-cotacao`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getReservarIdCotacao(): Observable<Object | JsonResponse> {\r\n    return this.http.get(`${this.API}/reservar`).pipe(take(1), retry(2));\r\n  }\r\n\r\n  getCotacao(\r\n    codCotacao: number,\r\n    idEmpresa: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/${codCotacao}/${idEmpresa}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getCotacaoFilterValues(): Observable<Object | JsonResponse> {\r\n    const linhas = this.tidSoftwareService.getLinhas();\r\n    const classes = this.comercialService.getClasses(null);\r\n\r\n    return forkJoin([linhas, classes]);\r\n  }\r\n\r\n  getMateriais(params: any): Observable<Object | JsonResponse> {\r\n    let httpParams = new HttpParams();\r\n\r\n    for (let param in params) {\r\n      httpParams = httpParams.append(param, params[param]);\r\n    }\r\n\r\n    return this.http\r\n      .get(`${this.API}/materiais`, { params: httpParams })\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getEstoqueDetalhes(params: any): Observable<Object | JsonResponse> {\r\n    return this.estoqueService.getEstoqueAtual(params);\r\n  }\r\n\r\n  getEstoqueDepositos(\r\n    codDeposito: number,\r\n    codMaterial: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(\r\n        `${this.API}/materiais/estoque-depositos/${codMaterial}/${codDeposito}`\r\n      )\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getMateriaisCombo(\r\n    codEmpresa: number,\r\n    codMaterial: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/materiais/combo/${codEmpresa}/${codMaterial}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postVendasGerais(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/materiais/relacionados`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postVendasCliente(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/materiais/relacionados`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postMateriaisRelacionados(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/materiais/relacionados`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n\r\n  getFichaCadastralMaterial(\r\n    codMaterial: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/material/ficha-cadastral/${codMaterial}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getSimilaridadeMaterial(\r\n    codEmpresa: number,\r\n    codMaterial: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/material/similaridade/${codEmpresa}/${codMaterial}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getTipoCalculoMaterial(\r\n    codMaterial: number,\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/material/tipo-calculo/${codMaterial}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getCalculoMaterial(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/material/calculo`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n   // postCalculoMaterial(params: any): Observable<Object | JsonResponse> {\r\n  //   return this.http\r\n  //     .post(`${this.API}/material/calculo`, params)\r\n  //     .pipe(take(1), retry(2));\r\n  // }\r\n\r\n  getHistoricoCompras(\r\n    codEmpresa: number,\r\n    codCliente: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/historico-compras/${codEmpresa}/${codCliente}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postGerarDuplicatas(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/duplicatas/gerar`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postAlterarDuplicatas(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/duplicatas/alterar`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getHistoricoExclusao(codCotacao: number): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/historico-exclusao/${codCotacao}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postCotacaoPerdida(params: any): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .post(`${this.API}/perdida/salvar`, params)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getComissaoCotacao(\r\n    codCotacao: number,\r\n    codEmpresa: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/comissao/${codCotacao}/${codEmpresa}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getProgressoCotacao(\r\n    codCotacao: number,\r\n    codEmpresa: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/progresso/${codCotacao}/${codEmpresa}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getDetalhesPedidos(\r\n    nrPedido: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/detalhes/${nrPedido}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  getDetailPanel(\r\n    nrPedido: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .get(`${this.API}/detail-panel/${nrPedido}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n\r\n  postCotacao(params: any): Observable<Object | JsonResponse> {\r\n    return this.http.post(`${this.API}/salvar`, params).pipe(take(1));\r\n  }\r\n\r\n  putCotacao(params: any): Observable<Object | JsonResponse> {\r\n    return this.http.put(`${this.API}/atualizar`, params).pipe(take(1));\r\n  }\r\n\r\n  deleteMaterialCotacao(\r\n    index: number,\r\n    codMaterial: number\r\n  ): Observable<Object | JsonResponse> {\r\n    return this.http\r\n      .delete(`${this.API}/materiais/excluir/${codMaterial}/${index}`)\r\n      .pipe(take(1), retry(2));\r\n  }\r\n}\r\n","export default \"<div *ngIf=\\\"showApp\\\">\\r\\n  <div class=\\\"row mb-2\\\">\\r\\n    <div class=\\\"col mt-auto\\\">\\r\\n      <div class=\\\"mtc-title mb-0\\\">Pesquisa de materiais</div>\\r\\n    </div>\\r\\n    <div class=\\\"col\\\">\\r\\n      <div class=\\\"d-flex justify-content-end\\\">\\r\\n        <button\\r\\n          type=\\\"button\\\"\\r\\n          class=\\\"btn btn-sm btn-secondary\\\"\\r\\n          (click)=\\\"onFilter()\\\"\\r\\n          [disabled]=\\\"materiaisLoader || searching\\\">\\r\\n          <i class=\\\"fas fa-search\\\"></i>\\r\\n          <span>Pesquisar</span>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <advanced-filter class=\\\"mb-4\\\">\\r\\n    <form [formGroup]=\\\"form\\\">\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"codLinha\\\">Linha</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"linhas\\\"\\r\\n            formControlName=\\\"codLinha\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            labelForId=\\\"codLinha\\\"\\r\\n            bindLabel=\\\"descricao\\\"\\r\\n            bindValue=\\\"id\\\"\\r\\n            (change)=\\\"onChangeLinha($event.id, true)\\\"\\r\\n            [ngClass]=\\\"onFieldError('codLinha') + ' ' + onFieldRequired(form.controls.codLinha)\\\">\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-3\\\">\\r\\n          <label for=\\\"codClasse\\\">Classe</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"filteredClasses\\\"\\r\\n            formControlName=\\\"codClasse\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            labelForId=\\\"codClasse\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            bindLabel=\\\"nomeClasse\\\"\\r\\n            bindValue=\\\"idClasse\\\"\\r\\n            (change)=\\\"onChangeClasse($event.idClasse, true, 'application')\\\">\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-4\\\">\\r\\n          <label for=\\\"codMaterial\\\">Material</label>\\r\\n          <ng-select\\r\\n            [searchable]=\\\"true\\\"\\r\\n            [clearable]=\\\"false\\\"\\r\\n            [items]=\\\"materiais\\\"\\r\\n            formControlName=\\\"codMaterial\\\"\\r\\n            [virtualScroll]=\\\"true\\\"\\r\\n            placeholder=\\\"Selecione...\\\"\\r\\n            labelForId=\\\"codMaterial\\\"\\r\\n            bindLabel=\\\"codigoDescricaoMaterial\\\"\\r\\n            bindValue=\\\"codigoMaterial\\\"\\r\\n            [loading]=\\\"materiaisLoader\\\"\\r\\n            loadingText=\\\"Carregando...\\\">\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-2\\\">\\r\\n          <label for=\\\"comEstoque\\\">Somente c/ estoque</label>\\r\\n          <select\\r\\n            class=\\\"form-control custom-select\\\"\\r\\n            id=\\\"comEstoque\\\"\\r\\n            formControlName=\\\"comEstoque\\\"\\r\\n            [ngClass]=\\\"onFieldError('comEstoque') + ' ' + onFieldRequired(form.controls.comEstoque)\\\">\\r\\n            <option value=\\\"0\\\">Exhibir todos</option>\\r\\n            <option value=\\\"1\\\">Sim</option>\\r\\n            <option value=\\\"2\\\">Não</option>\\r\\n          </select>\\r\\n          <invalid-form-control [show]=\\\"onFieldInvalid('comEstoque')\\\" message=\\\"Estoque é obrigatório.\\\"></invalid-form-control>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-lg-1\\\">\\r\\n          <label for=\\\"registros\\\">Registros</label>\\r\\n          <select\\r\\n            class=\\\"form-control custom-select\\\"\\r\\n            id=\\\"registros\\\"\\r\\n            formControlName=\\\"registros\\\">\\r\\n            <option>100</option>\\r\\n            <option>200</option>\\r\\n            <option>300</option>\\r\\n          </select>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </advanced-filter>\\r\\n  <div *ngIf=\\\"dados.length > 0 && !dadosEmpty\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col my-auto\\\">\\r\\n        <subtitles [data]=\\\"subtitles\\\" [show]=\\\"true\\\"></subtitles>\\r\\n      </div>\\r\\n      <div class=\\\"col mb-2\\\">\\r\\n        <div class=\\\"d-flex justify-content-end\\\">\\r\\n          <div class=\\\"form-group pt-1 mb-0 mr-3\\\">\\r\\n            <div class=\\\"custom-control custom-checkbox\\\">\\r\\n              <input\\r\\n               type=\\\"checkbox\\\"\\r\\n               class=\\\"custom-control-input\\\"\\r\\n               id=\\\"auto-scroll\\\"\\r\\n               [(ngModel)]=\\\"autoScroll\\\"\\r\\n               [ngModelOptions]=\\\"{ standalone: true }\\\">\\r\\n              <label class=\\\"custom-control-label\\\" for=\\\"auto-scroll\\\">\\r\\n                <span class=\\\"mr-1\\\">Auto-scroll</span>\\r\\n                <ng-template #tooltipAutoScrollTemplate>\\r\\n                  <p class=\\\"text-nowrap mb-0\\\">Habilitar essa opção</p>\\r\\n                  <p class=\\\"text-nowrap mb-0\\\">redireciona para o carrinho</p>\\r\\n                  <p class=\\\"text-nowrap mb-0\\\">ao adicionar um material</p>\\r\\n                </ng-template>\\r\\n                <i class=\\\"far fa-question-circle\\\" [tooltip]=\\\"tooltipAutoScrollTemplate\\\"></i>\\r\\n              </label>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group mb-0\\\">\\r\\n            <button\\r\\n              type=\\\"button\\\"\\r\\n              class=\\\"btn btn-sm btn-success\\\"\\r\\n              (click)=\\\"onAddMaterial()\\\">\\r\\n              <i class=\\\"fas fa-shopping-cart\\\"></i>\\r\\n              <span>Adicionar</span>\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row mb-3\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <custom-table [config]=\\\"tableConfig\\\">\\r\\n          <ng-template #thead let-thead>\\r\\n            <tr>\\r\\n              <th\\r\\n                scope=\\\"col\\\"\\r\\n                class=\\\"text-center\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('disponibilidade') }\\\">\\r\\n                <btn-icon\\r\\n                  [icon]=\\\"toggleAll ? 'fas fa-check-square' : 'far fa-square'\\\"\\r\\n                  size=\\\"small\\\"\\r\\n                  (click)=\\\"onToggleAll()\\\">\\r\\n                </btn-icon>\\r\\n              </th>\\r\\n              <th\\r\\n                scope=\\\"col\\\"\\r\\n                class=\\\"text-center\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('codMaterial') }\\\">\\r\\n                <thead-sorter\\r\\n                  value=\\\"Código\\\"\\r\\n                  [active]=\\\"orderBy == 'codMaterial'\\\"\\r\\n                  [sort]=\\\"orderType\\\"\\r\\n                  (click)=\\\"setOrderBy('codMaterial')\\\">\\r\\n                </thead-sorter>\\r\\n              </th>\\r\\n              <th\\r\\n                scope=\\\"col\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('nomeMaterial') }\\\">\\r\\n                <thead-sorter\\r\\n                  value=\\\"Nome do material\\\"\\r\\n                  [active]=\\\"orderBy == 'nomeMaterial'\\\"\\r\\n                  [sort]=\\\"orderType\\\"\\r\\n                  (click)=\\\"setOrderBy('nomeMaterial')\\\">\\r\\n                </thead-sorter>\\r\\n              </th>\\r\\n              <th\\r\\n                scope=\\\"col\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('nomeLinha') }\\\">\\r\\n                Linha\\r\\n              </th>\\r\\n              <th\\r\\n                scope=\\\"col\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('nomeDeposito') }\\\">\\r\\n                Depósito\\r\\n              </th>\\r\\n              <th\\r\\n                scope=\\\"col\\\"\\r\\n                class=\\\"text-center\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('estoqueAtual') }\\\">\\r\\n                Est. Atual\\r\\n              </th>\\r\\n              <th\\r\\n                scope=\\\"col\\\"\\r\\n                class=\\\"text-center\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('estoqueDisponivel') }\\\">\\r\\n                Est. Disponível\\r\\n              </th>\\r\\n              <th scope=\\\"col\\\" [ngStyle]=\\\"{ width: columSize('buttons') }\\\"></th>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n          <ng-template #tbody let-tbody>\\r\\n            <tr *ngFor=\\\"let material of dados; let i = index\\\" [class.table-active]=\\\"i == activeRow\\\">\\r\\n              <td\\r\\n                class=\\\"text-truncate text-center\\\"\\r\\n                [ngClass]=\\\"classStatusBorder(material.disponibilidade)\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('disponibilidade') }\\\">\\r\\n                <ng-template #tooltipMaterialSemEstoqueTemplate>\\r\\n                  <p class=\\\"text-nowrap mb-0\\\">Material</p>\\r\\n                </ng-template>\\r\\n                <btn-icon\\r\\n                  [icon]=\\\"material.checked == 1 ? 'fas fa-check-square' : 'far fa-square'\\\"\\r\\n                  size=\\\"small\\\"\\r\\n                  [isDisabled]=\\\"material.disponibilidade === 1\\\"\\r\\n                  [tooltip]=\\\"tooltipMaterialSemEstoqueTemplate\\\"\\r\\n                  placement=\\\"left\\\"\\r\\n                  (click)=\\\"onCheckMaterial(i, material)\\\">\\r\\n                </btn-icon>\\r\\n              </td>\\r\\n              <td\\r\\n                class=\\\"text-truncate text-center hover\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('codMaterial') }\\\"\\r\\n                (click)=\\\"onClickMaterial(i, material)\\\">\\r\\n                {{ material.codMaterial }}\\r\\n              </td>\\r\\n              <td\\r\\n                class=\\\"text-truncate hover\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('nomeMaterial') }\\\"\\r\\n                (click)=\\\"onClickMaterial(i, material)\\\">\\r\\n                {{ material.nomeMaterial | uppercase }}\\r\\n              </td>\\r\\n              <td\\r\\n                class=\\\"text-truncate hover\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('nomeLinha') }\\\"\\r\\n                (click)=\\\"onClickMaterial(i, material)\\\">\\r\\n                {{ material.nomeLinha | uppercase }}\\r\\n              </td>\\r\\n              <td\\r\\n                class=\\\"text-truncate hover\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('nomeDeposito') }\\\"\\r\\n                (click)=\\\"onClickMaterial(i, material)\\\">\\r\\n                {{ material.nomeDeposito | uppercase }}\\r\\n              </td>\\r\\n              <td\\r\\n                class=\\\"text-truncate text-center hover\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('estoqueAtual') }\\\"\\r\\n                (click)=\\\"onClickMaterial(i, material)\\\">\\r\\n                {{ material.estoqueAtual | number:'1.3-3' }} {{ material.unidade | uppercase }}\\r\\n              </td>\\r\\n              <td\\r\\n                class=\\\"text-truncate text-center hover\\\"\\r\\n                [ngStyle]=\\\"{ width: columSize('estoqueDisponivel') }\\\"\\r\\n                (click)=\\\"onClickMaterial(i, material)\\\">\\r\\n                {{ material.estoqueDisponivel | number:'1.3-3' }} {{ material.unidade | uppercase }}\\r\\n              </td>\\r\\n              <td class=\\\"text-right\\\" [ngStyle]=\\\"{ width: columSize('buttons') }\\\">\\r\\n                <btn-icon\\r\\n                  icon=\\\"fas fa-warehouse\\\"\\r\\n                  size=\\\"small\\\"\\r\\n                  class=\\\"mr-3\\\"\\r\\n                  tooltip=\\\"Detalhamento do estoque\\\"\\r\\n                  container=\\\"body\\\"\\r\\n                  (click)=\\\"onEstoqueDetalhes(material)\\\">\\r\\n                </btn-icon>\\r\\n                <!-- <comercial-ciclo-vendas-cotacoes-formulario-template-button-disponibilidade\\r\\n                  [index]=\\\"i\\\"\\r\\n                  [codMaterial]=\\\"material.codMaterial\\\"\\r\\n                  [deposito]=\\\"{ codDeposito: material.codDeposito, nomeDeposito: material.nomeDeposito, quantidade: material.estoqueAtual, unidade: material.unidade }\\\"\\r\\n                  (onChange)=\\\"onChangeDeposito($event)\\\"\\r\\n                  (activeRow)=\\\"onActiveRow($event)\\\"\\r\\n                  tooltip=\\\"Estoque em outras unidades\\\"\\r\\n                  container=\\\"body\\\">\\r\\n                </comercial-ciclo-vendas-cotacoes-formulario-template-button-disponibilidade>\\r\\n                <comercial-ciclo-vendas-cotacoes-formulario-template-button-outros\\r\\n                  [index]=\\\"i\\\"\\r\\n                  [material]=\\\"material\\\"\\r\\n                  (activeRow)=\\\"onActiveRow($event)\\\">\\r\\n                </comercial-ciclo-vendas-cotacoes-formulario-template-button-outros> -->\\r\\n              </td>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n        </custom-table>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"row\\\" *ngIf=\\\"searching === true\\\">\\r\\n    <div class=\\\"col\\\">\\r\\n      <message\\r\\n        icon=\\\"fas fa-cog fa-spin\\\"\\r\\n        text=\\\"Estamos pesquisando os materiais para você...\\\">\\r\\n      </message>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div *ngIf=\\\"searching === false\\\">\\r\\n    <div class=\\\"row\\\" *ngIf=\\\"dadosEmpty && dadosLoaded\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <message\\r\\n          icon=\\\"fas fa-box-open\\\"\\r\\n          text=\\\"Nenhuma informação encontrada\\\">\\r\\n        </message>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" *ngIf=\\\"dados.length === 0 && !firstSearch\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <message\\r\\n          icon=\\\"fas fa-search\\\"\\r\\n          text=\\\"Preecha os campos acima para pesquisar materiais\\\">\\r\\n        </message>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2xpc3RhL2xpc3RhLmNvbXBvbmVudC5zY3NzIn0= */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2Zvcm11bGFyaW8vbW9kYWwvZGV0YWxoZXMvY2xpZW50ZS5jb21wb25lbnQuc2NzcyJ9 */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2Zvcm11bGFyaW8vY2FycmluaG8vY2FycmluaG8uY29tcG9uZW50LnNjc3MifQ== */\";","import { ComercialCicloVendasCotacoesListaModule } from './../../cotacoes/lista/lista.module';\r\n// Components\r\nimport { ComercialCicloVendasPedidosProducaoTelasListaComponent } from './lista.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n// ngx-bootstrap\r\nimport { PaginationModule } from 'ngx-bootstrap/pagination';\r\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\r\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\r\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\r\n\r\n// ng-select\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\n// Modules\r\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\r\nimport { TemplatesModule } from 'src/app/shared/templates/templates.module';\r\nimport { ComercialClientesDashboardModule } from '../../../clientes/dashboard/dashboard.module';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModule } from '../formulario/formulario.module';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ComercialCicloVendasPedidosProducaoTelasListaComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    PaginationModule.forRoot(),\r\n    BsDatepickerModule.forRoot(),\r\n    TooltipModule.forRoot(),\r\n    BsDropdownModule.forRoot(),\r\n    NgSelectModule,\r\n    SharedModule,\r\n    TemplatesModule,\r\n    ComercialClientesDashboardModule,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModule,\r\n    ComercialCicloVendasCotacoesListaModule,\r\n  ],\r\n  exports: [\r\n    ComercialCicloVendasPedidosProducaoTelasListaComponent,\r\n  ],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasListaModule {}\r\n","export default \"button[disabled] {\\n  cursor: no-drop;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb21lcmNpYWwvY2ljbG8tdmVuZGFzL3BlZGlkb3MtcHJvZHVjYW8tdGVsYXMvZm9ybXVsYXJpby9tb2RhbC9zZWxlY2lvbmFyL3NlbGVjaW9uYXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFBO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2NvbWVyY2lhbC9jaWNsby12ZW5kYXMvcGVkaWRvcy1wcm9kdWNhby10ZWxhcy9mb3JtdWxhcmlvL21vZGFsL3NlbGVjaW9uYXIvc2VsZWNpb25hci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImJ1dHRvbltkaXNhYmxlZF17XHJcbiAgY3Vyc29yOiBuby1kcm9wO1xyXG59XHJcbiJdfQ== */\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\n// Guards\r\nimport { FormDeactivateGuard } from 'src/app/guards/form-deactivate.guard';\r\n\r\n// Modules\r\nimport { ComercialCicloVendasPedidosProducaoTelasListaModule } from './lista/lista.module';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModule } from './formulario/formulario.module';\r\n\r\n// Components\r\nimport { ComercialCicloVendasPedidosProducaoTelasListaComponent } from './lista/lista.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioComponent } from './formulario/formulario.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioResolverGuard } from './guards/formulario-resolver.guard';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'lista',\r\n    component: ComercialCicloVendasPedidosProducaoTelasListaComponent,\r\n  },\r\n  {\r\n    path: 'novo',\r\n    component: ComercialCicloVendasPedidosProducaoTelasFormularioComponent,\r\n    resolve: {\r\n      data: ComercialCicloVendasPedidosProducaoTelasFormularioResolverGuard,\r\n    },\r\n    canDeactivate: [FormDeactivateGuard],\r\n  },\r\n  {\r\n    path: 'editar/:nrProposta',\r\n    component: ComercialCicloVendasPedidosProducaoTelasFormularioComponent,\r\n    resolve: {\r\n      data: ComercialCicloVendasPedidosProducaoTelasFormularioResolverGuard,\r\n    },\r\n    canDeactivate: [FormDeactivateGuard],\r\n  },\r\n  {\r\n    path: '',\r\n    redirectTo: 'lista',\r\n    pathMatch: 'full',\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes),\r\n    ComercialCicloVendasPedidosProducaoTelasListaModule,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModule,\r\n  ],\r\n  exports: [RouterModule],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasRoutingModule {}\r\n","import { PageChangedEvent } from 'ngx-bootstrap/pagination';\r\nimport { ComercialVendedoresService } from 'src/app/modules/comercial/services/vendedores.service';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { PNotify } from 'pnotify/dist/es/PNotify';\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal';\r\nimport { Component, OnInit, Input, EventEmitter, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'comercial-cliclo-vendas-pedidos-producao-telas-formulario-modal-selecionar',\r\n  templateUrl: './selecionar.component.html',\r\n  styleUrls: ['./selecionar.component.scss']\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalSelecionarComponent\r\n  implements OnInit {\r\n  loaderNavbar: EventEmitter<boolean> = new EventEmitter();\r\n\r\n  @Output() cliente = new EventEmitter();\r\n  @Output() fecharModal = new EventEmitter();\r\n\r\n  formClientes: FormGroup;\r\n  loadingClientes:boolean\r\n  noClientes = true;\r\n  clientes = [];\r\n\r\n    /* Pagination */\r\n    itemsPerPage = 10;\r\n    begin = 0;\r\n    end = 20;\r\n    /* Pagination */\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private pnotifyService: PNotifyService,\r\n    private bsModalRef: BsModalRef,\r\n    private comercialService: ComercialVendedoresService\r\n\r\n    ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setFormBuilder();\r\n  }\r\n\r\n  onClose(): void {\r\n    this.fecharModal.emit(true)\r\n  }\r\n\r\n  getClientes(params?){\r\n    const _params = params ?? {};\r\n    const _obj = this.formClientes.value;\r\n    this.loadingClientes = true;\r\n    if (_obj['pesquisa']) _params[_obj['buscarPor']] = _obj['pesquisa'];\r\n    this.comercialService\r\n      .getCarteiraClientes(_params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadingClientes = false;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n              this.noClientes = false;\r\n              this.clientes = response.data;\r\n          } else {\r\n            this.noClientes = true;\r\n            this.pnotifyService.notice('Nenhum cliente encontrado!');\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      });\r\n  }\r\n\r\n  setCliente(cliente) {\r\n    console.log(cliente)\r\n    this.cliente.emit(cliente)\r\n  }\r\n\r\n  setFormBuilder(): void {\r\n    this.formClientes = this.formBuilder.group({\r\n      buscarPor: ['NM_CLIE'],\r\n      pesquisa: [null, Validators.required],\r\n      NM_CLIE:[null],\r\n      registros: [this.itemsPerPage],\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","export default \"<div class=\\\"modal-header\\\">\\r\\n  <h4 class=\\\"modal-title pull-left\\\">Busqueda de clientes</h4>\\r\\n  <div class=\\\"d-flex justify-content-center align-items-center\\\">\\r\\n    <div class=\\\"spinner-border text-primary mr-2\\\" role=\\\"status\\\" *ngIf=\\\"loadingClientes\\\">\\r\\n      <span class=\\\"sr-only\\\">Loading...</span>\\r\\n    </div>\\r\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"onClose()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\">\\r\\n  <advanced-filter>\\r\\n    <form [formGroup]=\\\"formClientes\\\">\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col-4\\\">\\r\\n          <label for=\\\"cdItem\\\">BUSCAR POR</label>\\r\\n          <select\\r\\n            class=\\\"form-control custom-select\\\"\\r\\n            formControlName=\\\"buscarPor\\\"\\r\\n          >\\r\\n            <option value=\\\"NM_CLIE\\\" selected>Código, nombre de fantasía o razón social</option>\\r\\n          </select>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group col-8\\\">\\r\\n          <label>TÉRMINOS DE BÚSQUEDA</label>\\r\\n          <div class=\\\"input-group\\\">\\r\\n            <input\\r\\n              type=\\\"text\\\"\\r\\n              class=\\\"form-control\\\"\\r\\n              formControlName=\\\"pesquisa\\\"\\r\\n              >\\r\\n              <div class=\\\"input-group-append\\\">\\r\\n                <span \\r\\n                  [tooltip]=\\\"formClientes.valid == false ? 'Digite um termo de pesquisa':''\\\"\\r\\n                  container=\\\"body\\\"\\r\\n                  placement =\\\"left\\\"\\r\\n                >\\r\\n                  <button\\r\\n                  style=\\\"height: 25px;\\\"\\r\\n                    [disabled]=\\\"formClientes.valid == false\\\"\\r\\n                    class=\\\"input-group-text hover\\\"\\r\\n                    (click)=\\\"getClientes()\\\"\\r\\n                    >\\r\\n                    <i class=\\\"fas fa-search\\\"></i>\\r\\n                  </button>\\r\\n                </span>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </advanced-filter>\\r\\n  <custom-table *ngIf=\\\"!noClientes\\\" class=\\\"text-center\\\">\\r\\n    <ng-template #thead let-thead>\\r\\n      <tr>\\r\\n        <th>Cód Cliente </th>\\r\\n        <th>Nombre Fantasia</th>\\r\\n        <th>Razon Social </th>\\r\\n        <th></th>\\r\\n      </tr>\\r\\n    </ng-template>\\r\\n    <ng-template #tbody let-tbody>\\r\\n      <tr *ngFor=\\\"let cliente of clientes | slice : begin : end; let i = index\\\">\\r\\n        <td>{{ cliente.codCliente }}</td>\\r\\n        <td>{{ cliente.nomeCliente }}</td>\\r\\n        <td>{{ cliente.razaoSocial }}</td>\\r\\n        <td>\\r\\n          <button\\r\\n            class=\\\"btn-icon-sm\\\"\\r\\n            tooltip=\\\"Salvar Informações\\\"\\r\\n            container=\\\"body\\\"\\r\\n            (click)=\\\"setCliente(cliente);onClose()\\\"\\r\\n          >\\r\\n            <i class=\\\"far fa-save\\\"></i>\\r\\n          </button>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </ng-template>\\r\\n  </custom-table>\\r\\n</div>\";","import { ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesService } from './modal/detalhes/cliente.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasService } from './../pedidos-producao-telas.service';\r\nimport { ComercialCicloVendasCotacoesFormularioModalMaterialComboService } from './../../cotacoes/formulario/modal/material/combo/combo.service';\r\n// import { ComercialCicloVendasCotacoesFormularioModalDetalhesClienteService } from './../../cotacoes/formulario/modal/detalhes/cliente/cliente.service';\r\nimport { ComercialCicloVendasCotacoesFormularioModalMaterialDescontoService } from './../../cotacoes/formulario/modal/material/desconto/desconto.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoService } from './modal/material/calculo/calculo.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoService } from './modal/finalizacao/finalizacao.service';\r\nimport { ICarrinhoModel } from './../../cotacoes/formulario/models/carrinho';\r\nimport { IPermissoesAcessoModel } from './../../cotacoes/formulario/models/permissoes-acesso';\r\nimport { ComercialCicloVendasCotacoesFormularioModalHistoricoComprasService } from './../../cotacoes/formulario/modal/cliente/historico-compras/historico-compras.service';\r\nimport { ComercialCicloVendasCotacoesFormularioModalMaterialEstoqueService } from './../../cotacoes/formulario/modal/material/estoque/estoque.service';\r\nimport {\r\n  Component,\r\n  OnInit,\r\n  OnDestroy,\r\n  ViewChild,\r\n  Input,\r\n  ElementRef,\r\n  HostListener,\r\n  TemplateRef\r\n} from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  AbstractControl,\r\n  Validators,\r\n  FormArray,\r\n} from '@angular/forms';\r\nimport { Subscription, EMPTY } from 'rxjs';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\n// ngx-bootstrap\r\nimport { BsLocaleService, BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\r\nimport { defineLocale } from 'ngx-bootstrap/chronos';\r\nimport { ptBrLocale } from 'ngx-bootstrap/locale';\r\n\r\ndefineLocale('pt-br', ptBrLocale);\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { ConfirmModalService } from 'src/app/shared/modules/confirm-modal/confirm-modal.service';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\nimport { TitleService } from 'src/app/shared/services/core/title.service';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\nimport { ComercialClientesService } from '../../../services/clientes.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioService } from './formulario.service';\r\nimport { ComercialCicloVendasCotacoesFormularioService } from '../../cotacoes/formulario/formulario.service';\r\nimport { ComercialCicloVendasCotacoesFormularioModalDetalhesEnderecoService } from '../../cotacoes/formulario/modal/detalhes/endereco/endereco.service';\r\n\r\n// Interfaces\r\nimport { IFormCanDeactivate } from 'src/app/guards/iform-candeactivate';\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\nimport { SituacaoProposta } from '../../../cadastros/situacao-proposta/models/situacao-proposta';\r\nimport { FormasPagamento } from '../../../cadastros/formas-pagamento/models/formas-pagamento';\r\nimport { FormaContato } from '../../../cadastros/contato/formas-contato/models/formas-contato';\r\nimport { OrigemContato } from '../../../cadastros/contato/origem-contato/models/origem-contato';\r\nimport { Transportadora } from '../../../cadastros/transportadoras/models/transportadora';\r\n\r\n\r\n@Component({\r\n  selector: 'comercial-ciclo-vendas-pedidos-producao-telas-formulario',\r\n  templateUrl: './formulario.component.html',\r\n  styleUrls: ['./formulario.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioComponent\r\n  implements OnInit, OnDestroy, IFormCanDeactivate {\r\n  permissoesAcesso: IPermissoesAcessoModel = {\r\n    acessoClientes: false,\r\n    historicoExclusao: false,\r\n    duplicataCarteira: false,\r\n  };\r\n\r\n  @ViewChild('scrollToFormOnTop', {}) scrollToFormOnTop: ElementRef;\r\n  @ViewChild('scrollToFormOnBottom', {}) scrollToFormOnBottom: ElementRef;\r\n  @ViewChild('scrollToCarrinho', {}) scrollToCarrinho: ElementRef;\r\n\r\n  // @Input('dadosCalculo') dadosCcalculo: Array<any>;\r\n\r\n  loaderNavbar: boolean;\r\n  loaderFullScreen = true;\r\n  autoScrollToCarrinho = true;\r\n\r\n  activatedRouteSubscription: Subscription;\r\n\r\n  loaderFichaCadastralSubscription: Subscription;\r\n  loaderSimilaridadeSubscription: Subscription;\r\n  loaderCalculoSubscription: Subscription;\r\n  loaderDescontoSubscription: Subscription;\r\n  loaderComboSubscription: Subscription;\r\n  loaderEstoqueDetalhesSubscription: Subscription;\r\n  loaderHistoricoComprasSubscription: Subscription;\r\n  loaderDetalhesClienteSubscription: Subscription;\r\n  loaderFinalizacaoSubscription: Subscription;\r\n\r\n  appTitle: string;\r\n\r\n  idSubModulo: number;\r\n  codEndereco: number;\r\n  idReservado: number;\r\n  codCotacao: number;\r\n\r\n  breadCrumbTree: Array<Breadcrumb> = [];\r\n\r\n  bsConfig: Partial<BsDatepickerConfig>;\r\n\r\n  dependenciesLoaded = false;\r\n\r\n  action: string;\r\n\r\n  modalRef: BsModalRef;\r\n\r\n  codClienteSubscription: Subscription;\r\n  isCarteiraClientesLoaded: boolean;\r\n\r\n  carrinhoHasError = false;\r\n\r\n  form: FormGroup;\r\n  codClientErrors = false;\r\n\r\n  situacoes: Array<SituacaoProposta> = [];\r\n  empresas: Array<any> = [];\r\n  depositos: Array<any> = [];\r\n  filteredDepositos: Array<any> = [];\r\n  formasPagamento: Array<FormasPagamento> = [];\r\n  formasContato: Array<FormaContato> = [];\r\n  origensContato: Array<OrigemContato> = [];\r\n  transportadoras: Array<Transportadora> = [];\r\n  formData: Array<FormData> = [];\r\n\r\n  carrinho: Array<ICarrinhoModel> = [];\r\n  materiais: Array<ICarrinhoModel> = [];\r\n  valorProposta: number;\r\n\r\n  producao: boolean = false;\r\n  expedicao: boolean = false;\r\n  unsaved: boolean = true;\r\n  pesoQtdade: boolean;\r\n\r\n  locaisEntrega: Array<any> = [];\r\n  locaisEntregaLoader: boolean;\r\n\r\n  contatos: Array<any> = [];\r\n  contatosLoader: boolean;\r\n\r\n  dadosLancamento: {\r\n    data: string;\r\n    codVendedor: number;\r\n    nomeVendedor: string;\r\n  } = {\r\n    data: null,\r\n    codVendedor: null,\r\n    nomeVendedor: null,\r\n  };\r\n\r\n    // // Tipos de Situação dos Pedidos (Ativo/Inativo)\r\n    // tipos = [\r\n    //   {\r\n    //     cod: '1',\r\n    //     nome: 'Em Aberto',\r\n    //   },\r\n    //   {\r\n    //     cod: '2',\r\n    //     nome: 'Produção',\r\n    //   },\r\n    //   {\r\n    //     cod: '3',\r\n    //     nome: 'Expedição',\r\n    //   },\r\n    //   {\r\n    //     cod: '4',\r\n    //     nome: 'Cancelado',\r\n    //   },\r\n    // ];\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private location: Location,\r\n    private formBuilder: FormBuilder,\r\n    private localeService: BsLocaleService,\r\n    private pnotifyService: PNotifyService,\r\n    private confirmModalService: ConfirmModalService,\r\n    private atividadesService: AtividadesService,\r\n    private titleService: TitleService,\r\n    private dateService: DateService,\r\n    private formularioService: ComercialCicloVendasPedidosProducaoTelasFormularioService,\r\n    private formularioCotacoesService: ComercialCicloVendasCotacoesFormularioService,\r\n    private enderecoDetalhesService: ComercialCicloVendasCotacoesFormularioModalDetalhesEnderecoService,\r\n    private historicoComprasService: ComercialCicloVendasCotacoesFormularioModalHistoricoComprasService,\r\n    // private clienteDetalhesService: ComercialCicloVendasCotacoesFormularioModalDetalhesClienteService,\r\n    private finalizacaoService: ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoService,\r\n    private calculoService: ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoService,\r\n    private descontoService: ComercialCicloVendasCotacoesFormularioModalMaterialDescontoService,\r\n    private estoqueService: ComercialCicloVendasCotacoesFormularioModalMaterialEstoqueService,\r\n    private comboService: ComercialCicloVendasCotacoesFormularioModalMaterialComboService,\r\n    private bsModalService: BsModalService,\r\n    private pedidosProducaoTelasService: ComercialCicloVendasPedidosProducaoTelasService,\r\n    private router: Router,\r\n    private modalService: BsModalService,\r\n    private clienteDetalhesService: ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesService,\r\n  ) {\r\n    this.localeService.use('pt-br');\r\n    this.bsConfig = Object.assign(\r\n      {},\r\n      { containerClass: 'theme-dark-blue' },\r\n      { adaptivePosition: true },\r\n      { showWeekNumbers: false }\r\n    );\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.hasAccessToClient();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsetLoaderEvents();\r\n    this.activatedRouteSubscription.unsubscribe();\r\n    this.codClienteSubscription.unsubscribe();\r\n    this.formularioService.clearCarteiraClientes();\r\n  }\r\n\r\n  hasAccessToClient(): void {\r\n    const resolver = this.activatedRoute.snapshot.data.data;\r\n\r\n    if (resolver.success === true) {\r\n        this.registrarAcesso();\r\n        this.setBreadCrumb();\r\n        this.getFormFields();\r\n        this.setFormBuilder();\r\n        this.setLoaderEvents();\r\n        this.setClienteSubscription();\r\n    } else {\r\n      this.pnotifyService.error();\r\n      this.location.back();\r\n    }\r\n  }\r\n\r\n  registrarAcesso(): void {\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n  }\r\n\r\n  setBreadCrumb(): void {\r\n\r\n    this.activatedRoute.params.subscribe((params: any) => {\r\n      if (params.nrProposta) {\r\n        this.appTitle = 'Editar Pedido';\r\n        this.action = 'update';\r\n      } else {\r\n        this.appTitle = 'Novo Pedido';\r\n        this.action = 'create';\r\n      }\r\n      this.idSubModulo = params.idSubModulo;\r\n      console.log(params)\r\n\r\n      this.breadCrumbTree = [\r\n        {\r\n          descricao: 'Home',\r\n          routerLink: '/comercial/home',\r\n        },\r\n        {\r\n          descricao: 'Ciclo de ventas',\r\n          routerLink: `/comercial/ciclo-vendas/${this.idSubModulo}`,\r\n        },\r\n        {\r\n          descricao: 'Pedidos Produção de Telas',\r\n          routerLink: `/comercial/ciclo-vendas/${this.idSubModulo}/pedidos-producao-telas/lista`,\r\n        },\r\n        {\r\n          descricao: this.appTitle,\r\n        },\r\n      ];\r\n    });\r\n  }\r\n\r\n  getFormFields(): void {\r\n    this.formularioCotacoesService\r\n      .loadDependencies()\r\n      .pipe(\r\n        finalize(() => {\r\n          this.dependenciesLoaded = true;\r\n        })\r\n      )\r\n      .subscribe((response: Array<JsonResponse | any>) => {\r\n        this.situacoes = response[0].data || [];\r\n\r\n        this.empresas = response[1].result || [];\r\n\r\n        this.depositos = response[2].result || [];\r\n\r\n        this.formasPagamento = response[3].data || [];\r\n\r\n        this.filteredDepositos = this.depositos.filter(\r\n          (value: any) => value.idEmpresa == 18\r\n        );\r\n      });\r\n  }\r\n\r\n  getDate(): Date {\r\n    let date = new Date();\r\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate() + 10);\r\n  }\r\n\r\n  setFormBuilder(): void {\r\n    const resolver = this.activatedRoute.snapshot.data.data;\r\n    if (resolver.success === true) {\r\n      const data = resolver.data;\r\n      const formValue: any = this.checkRouterParams();\r\n\r\n      const codCotacao =\r\n        typeof this.codCotacao == 'undefined'\r\n          ? this.idReservado\r\n          : this.codCotacao;\r\n\r\n      this.codEndereco = data.codEndereco;\r\n\r\n      this.form = this.formBuilder.group({\r\n        nrPedido: [data.nrPedido],\r\n        codCotacao: [{ value: codCotacao, disabled: true }],\r\n        codSituacao: [\r\n          data.codSituacao != 0 ? data.codSituacao : null,\r\n          [Validators.required],\r\n        ],\r\n        codPrioridade: [{ value: data.prioridade, disabled: false }],\r\n        codCliente: [data.codCliente],\r\n        codRazaoSocial: [data.codRazaoSocial],\r\n        codDeposito: [ data.codLocalizacaoEstoque, [Validators.required]],\r\n        //codLocalizacao: [data.codLocalizacaoExpedicao, [Validators.required]],\r\n\r\n        dataEntrega: data.dataPrevisaoEntrega ? \r\n        [this.dateService.convertStringToDate(data.dataPrevisaoEntrega, 'usa'), Validators.required] :\r\n        [this.getDate(),Validators.required],\r\n\r\n        codEndereco: [\r\n          data.codEndereco != 0 ? data.codEndereco : null,\r\n          [Validators.required],\r\n        ],\r\n\r\n        codFormaPagamento: [\r\n          118,\r\n          /*data.codFormaPagamento != 0 ? data.codFormaPagamento : null,*/\r\n          [Validators.required],\r\n        ],\r\n\r\n        duplicatasSomenteCarteira: [\r\n          { value: data.duplicatasSomenteCarteira, disabled: true },\r\n        ],\r\n\r\n        observacoes: [data.observacao],\r\n        obsProducao: [data.obsProducao]\r\n      });\r\n\r\n      this.checkPermissoesAcesso();\r\n      this.getLocaisEntrega(data.codCliente);\r\n\r\n      this.dadosLancamento.data = data.dataCadastro;\r\n      this.dadosLancamento.codVendedor = data.codUsuarioCadastro;\r\n      this.dadosLancamento.nomeVendedor = data.nomeUsuarioCadastro;\r\n\r\n      this.carrinho = data.carrinho;\r\n\r\n      this.formularioService.dataSubject.next(data);\r\n    } else {\r\n      this.pnotifyService.error();\r\n      this.location.back();\r\n    }\r\n\r\n\r\n  }\r\n\r\n  getUserPermissoes(): void {\r\n    const resolver = this.activatedRoute.snapshot.data.permissoes;\r\n\r\n    if (resolver.success === true) {\r\n      const permissoesAcesso = resolver.data;\r\n      this.permissoesAcesso = permissoesAcesso;\r\n    } else {\r\n      this.pnotifyService.error();\r\n      this.location.back();\r\n    }\r\n  }\r\n\r\n  checkPermissoesAcesso(): void {\r\n    if (this.permissoesAcesso.duplicataCarteira === true) {\r\n      this.form.controls.duplicatasSomenteCarteira.enable();\r\n    }\r\n  }\r\n\r\n    /**\r\n   * @source = 'application' || 'user'\r\n   */\r\n  onChangeCliente(codCliente: number, source: string): void {\r\n    this.form.controls.codCliente.setValue(codCliente);\r\n    this.codClientErrors = false;\r\n\r\n    if (codCliente === null) {\r\n      this.form.controls.codEndereco.setValue(null);\r\n      this.locaisEntrega = [];\r\n    } else {\r\n      this.getLocaisEntrega(codCliente, source);\r\n    }\r\n  }\r\n\r\n  onFecharModal(event) {\r\n    this.modalRef.hide();\r\n  }\r\n\r\n  onDetalhesLocalEntrega(): void {\r\n    if (this.form.value.codEndereco != null) {\r\n      this.enderecoDetalhesService.showModal(\r\n        this.form.value.codCliente,\r\n        this.form.value.codEndereco\r\n      );\r\n    }\r\n  }\r\n\r\n  getLinkAddLocalEntrega(): string {\r\n    return `/comercial/clientes/cadastro/${this.form.value.codCliente}/enderecos/novo`;\r\n  }\r\n\r\n  onReloadLocalEntrega(): void {\r\n    if (this.locaisEntregaLoader === false) {\r\n      this.getLocaisEntrega(this.form.value.codCliente, 'user');\r\n    }\r\n  }\r\n\r\n  getLocaisEntrega(codCliente: number, source?: string): void {\r\n    if (source != 'application') {\r\n      this.form.controls.codEndereco.markAsUntouched();\r\n      this.form.controls.codEndereco.setValue(null);\r\n      this.form.controls.codEndereco.disable();\r\n    }\r\n\r\n    this.locaisEntrega = [];\r\n    this.locaisEntregaLoader = true;\r\n\r\n    this.formularioCotacoesService\r\n      .getLocaisEntrega(codCliente)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.locaisEntregaLoader = false;\r\n          this.form.controls.codEndereco.enable();\r\n          this.form.controls.codEndereco.setValue(this.codEndereco);\r\n          this.form.controls.codEndereco.updateValueAndValidity();\r\n        })\r\n      )\r\n      .subscribe((response: JsonResponse) => {\r\n        if (response.success === true) {\r\n          const _enderecos = response.data.enderecos;\r\n          const _enderecosAguardando = response.data.enderecosAguardando || [];\r\n\r\n          let enderecos = [],\r\n            enderecosAguardando = [];\r\n\r\n          for (let i = 0; i < _enderecos.length; i++) {\r\n            enderecos.push({\r\n              codEndereco: _enderecos[i].id,\r\n              descricao: this.formatLocalEntrega(_enderecos[i]),\r\n              tipo: 'Aprovados',\r\n            });\r\n          }\r\n\r\n          for (let i = 0; i < _enderecosAguardando.length; i++) {\r\n            enderecosAguardando.push({\r\n              codEndereco: _enderecosAguardando[i].id,\r\n              descricao: this.formatLocalEntrega(_enderecosAguardando[i]),\r\n              tipo: 'Aguardando aprovação',\r\n            });\r\n          }\r\n\r\n          this.locaisEntrega = [...enderecos, ...enderecosAguardando];\r\n        }\r\n      });\r\n  }\r\n\r\n  formatLocalEntrega(localEntrega: any): string {\r\n    return `${localEntrega.endereco} - ${localEntrega.bairro}, ${localEntrega.cidade} - ${localEntrega.uf} - ${localEntrega.cep}`;\r\n  }\r\n\r\n\r\n\r\n  checkRouterParams(): Object {\r\n    let formValue = {\r\n      codDeposito: null,\r\n      codLocalizacao: null,\r\n    };\r\n\r\n    this.activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      (queryParams: any) => {\r\n        if (Object.keys(queryParams).length > 0) {\r\n          if (queryParams.f) {\r\n            let params = atob(queryParams.f);\r\n            params = JSON.parse(params);\r\n\r\n            Object.keys(formValue).forEach((formKey) => {\r\n              Object.keys(params).forEach((paramKey) => {\r\n                if (\r\n                  formKey == paramKey &&\r\n                  formValue[formKey] != params[paramKey]\r\n                ) {\r\n                  if (!isNaN(Number(params[paramKey]))) {\r\n                    formValue[formKey] = Number(params[paramKey]);\r\n                  } else {\r\n                    formValue[formKey] = params[paramKey];\r\n                  }\r\n                }\r\n              });\r\n            });\r\n          }\r\n        }\r\n      }\r\n    );\r\n    this.activatedRouteSubscription.unsubscribe();\r\n    return formValue;\r\n  }\r\n\r\n\r\n  checkSituacaoCotacao(codSituacao: number): void {\r\n    if (codSituacao !== 2) {\r\n      this.form.controls.dataEntrega.disable();\r\n    }\r\n  }\r\n\r\n  checkClienteCotacao(codCliente: number): void {\r\n    if (codCliente !== null) {\r\n      this.onChangeCliente(codCliente, 'application');\r\n    }\r\n  }\r\n\r\n  checkMateriaisCarrinho(carrinho: Array<ICarrinhoModel>): void {\r\n    if (carrinho.length > 0) {\r\n      this.formularioService.materiaisSubject.next(carrinho);\r\n    }\r\n  }\r\n\r\n  setLoaderEvents(): void {\r\n\r\n    this.loaderCalculoSubscription = this.calculoService.loaderNavbar.subscribe(\r\n      (response: boolean) => {\r\n        this.loaderNavbar = response;\r\n      }\r\n    );\r\n\r\n    this.loaderDescontoSubscription = this.descontoService.loaderNavbar.subscribe(\r\n      (response: boolean) => {\r\n        this.loaderNavbar = response;\r\n      }\r\n    );\r\n\r\n    this.loaderComboSubscription = this.comboService.loaderNavbar.subscribe(\r\n      (response: boolean) => {\r\n        this.loaderNavbar = response;\r\n      }\r\n    );\r\n\r\n    this.loaderEstoqueDetalhesSubscription = this.estoqueService.loaderNavbar.subscribe(\r\n      (response: boolean) => {\r\n        this.loaderNavbar = response;\r\n      }\r\n    );\r\n\r\n    this.loaderHistoricoComprasSubscription = this.historicoComprasService.loaderNavbar.subscribe(\r\n      (response: boolean) => {\r\n        this.loaderNavbar = response;\r\n      }\r\n    );\r\n\r\n    this.loaderDetalhesClienteSubscription = this.clienteDetalhesService.loaderNavbar.subscribe(\r\n      (response: boolean) => {\r\n        this.loaderNavbar = response;\r\n      }\r\n    );\r\n\r\n\r\n    this.loaderFinalizacaoSubscription = this.finalizacaoService.loaderNavbar.subscribe(\r\n      (response: boolean) => {\r\n        this.loaderNavbar = response;\r\n      }\r\n    );\r\n  }\r\n\r\n  unsetLoaderEvents(): void {\r\n    this.loaderCalculoSubscription.unsubscribe();\r\n    this.loaderDescontoSubscription.unsubscribe();\r\n    this.loaderComboSubscription.unsubscribe();\r\n    this.loaderEstoqueDetalhesSubscription.unsubscribe();\r\n    this.loaderHistoricoComprasSubscription.unsubscribe();\r\n    this.loaderDetalhesClienteSubscription.unsubscribe();\r\n    this.loaderFinalizacaoSubscription.unsubscribe();\r\n  }\r\n\r\n  onLoaderNavbar(event: boolean): void {\r\n    this.loaderNavbar = event;\r\n  }\r\n\r\n  onLoaderFullScreen(event: boolean): void {\r\n    this.loaderFullScreen = event;\r\n  }\r\n\r\n  onChangeEmpresa(idEmpresa: number): void {\r\n    this.form.controls.codLocalizacao.reset();\r\n\r\n    this.filteredDepositos = this.depositos.filter(\r\n      (value: any) => value.idEmpresa == idEmpresa\r\n    );\r\n\r\n    if (this.filteredDepositos.length === 1) {\r\n      this.form.controls.codLocalizacao.setValue(\r\n        this.filteredDepositos[0]['idDeposito']\r\n      );\r\n    }\r\n  }\r\n\r\n  // onChangeDeposito(deposito: any): void {\r\n  //   this.form.controls.codDeposito.setValue(deposito.idEmpresa);\r\n  // }\r\n\r\n  onChangeValidadeProposta(value: Date): boolean {\r\n    let isValid = true;\r\n    const maxDate = this.dateService.addDaysToDate(new Date(), 15);\r\n\r\n    if (value > maxDate) {\r\n      setTimeout(() => {\r\n        isValid = false;\r\n        this.form.controls.dataValidade.markAsTouched();\r\n        this.form.controls.dataValidade.setErrors({ maxDate: true });\r\n        this.pnotifyService.notice(\r\n          'Data de validade não deve ser superior a 15 dias.'\r\n        );\r\n      }, 250);\r\n    }\r\n\r\n    return isValid;\r\n  }\r\n\r\n  onScrollToCarrinho(event: boolean): void {\r\n    this.autoScrollToCarrinho = event;\r\n\r\n    if (this.autoScrollToCarrinho === true) {\r\n      setTimeout(() => {\r\n        this.scrollToCarrinho.nativeElement.scrollIntoView({\r\n          behavior: 'instant',\r\n        });\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  onMateriaisScrollTop(event: boolean): void {\r\n    if (event === true) {\r\n      this.onScrollToForm('top');\r\n\r\n      if (this.form.value.codDeposito === null) {\r\n        this.form.controls.codDeposito.markAsTouched();\r\n        this.form.controls.codDeposito.markAsDirty();\r\n        this.form.controls.codDeposito.setErrors({ required: true });\r\n        this.pnotifyService.notice('Selecione um Depósito.');\r\n      }\r\n\r\n      if (this.form.value.codLocalizacao === null) {\r\n        this.form.controls.codLocalizacao.markAsTouched();\r\n        this.form.controls.codLocalizacao.markAsDirty();\r\n        this.form.controls.codLocalizacao.setErrors({ required: true });\r\n        this.pnotifyService.notice('Selecione uma Localização.');\r\n      }\r\n    }\r\n  }\r\n\r\n  onCarrinho(carrinho: any): void {\r\n    this.materiais = carrinho.materiais;\r\n    this.valorProposta = carrinho.total.valorProposta;\r\n  }\r\n\r\n  onCarrinhoError(event: boolean): void {\r\n    this.carrinhoHasError = event;\r\n  }\r\n\r\n  onCarrinhoScrollTop(event: boolean): void {\r\n    if (event === true) {\r\n      this.onScrollToForm('top');\r\n      this.codClientErrors = true;\r\n      this.form.controls.codCliente.markAsTouched();\r\n      this.form.controls.codCliente.setErrors({ required: true });\r\n      this.pnotifyService.notice('Selecione um cliente.');\r\n    }\r\n  }\r\n\r\n  onSubmit(): void {\r\n    this.unsaved = false;\r\n    this.location.back();\r\n\r\n    this.sendForm();\r\n    this.formularioService.onNotifySubmit(true);\r\n\r\n  }\r\n\r\n  sendForm(): void {\r\n    if (this.checkFormErrors() === false) {\r\n      let hasPrecoMinimo = false;\r\n\r\n      for (let i = 0; i < this.materiais.length; i++) {\r\n        if (\r\n          Math.floor(this.materiais[i].valorUnit * 100) / 100 >\r\n          this.materiais[i].valor\r\n        ) {\r\n          hasPrecoMinimo = true;\r\n        }\r\n      }\r\n\r\n      if (hasPrecoMinimo === true) {\r\n        this.confirmModalService\r\n          .showConfirm(\r\n            null,\r\n            'Preço abaixo do mínimo',\r\n            'Existem materiais com preço abaixo do mínimo. Deseja continuar mesmo assim?',\r\n            'Cancelar',\r\n            'Confirmar'\r\n          )\r\n          .subscribe((response: boolean) =>\r\n            response ?\r\n\r\n            this.valoresPesoQtde()\r\n\r\n            : EMPTY\r\n          );\r\n      } else {\r\n        this.valoresPesoQtde();\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n   // modal\r\n   openModal(template: TemplateRef<any>) {\r\n    this.modalRef = this.modalService.show(template, {\r\n      animated: false,\r\n      class: 'modal-xl',\r\n    });\r\n  }\r\n\r\n  valoresPesoQtde() {\r\n    this.pesoQtdade = false;\r\n    for (let i = 0; i < this.materiais.length; i++) {\r\n      if (this.materiais[i].quantidade === null || this.materiais[i].pesoEspecifico === null ) {\r\n        this.pesoQtdade = true;\r\n      }\r\n    }\r\n\r\n  if(this.pesoQtdade === true) {\r\n    this.confirmModalService\r\n          .showConfirm(\r\n            null,\r\n            'Peso ou quantidade não permitidos',\r\n            'O Peso ou valor está com valor 0, favor rever materiais!',\r\n            null,\r\n            'Confirmar'\r\n          )\r\n          .subscribe((response: boolean) =>\r\n            response ? this.pesoQtdade = false : this.pesoQtdade = false\r\n          );\r\n\r\n      }  else {\r\n        this.sendCotacao();\r\n     }\r\n\r\n  }\r\n\r\n\r\n  sendCotacao(): void {\r\n    const formValue = this.form.getRawValue();\r\n\r\n    const dataCotacao = {\r\n      nrPedido:formValue.nrPedido,\r\n      codCotacao: formValue.codCotacao,\r\n      codSituacao: Number(formValue.codSituacao),\r\n      situacao: formValue.codSituacao,\r\n      codCliente: formValue.codCliente,\r\n      razaoSocial: formValue.razaoSocial,\r\n      codEndereco: formValue.codEndereco,\r\n      codContato: formValue.codContato,\r\n      codPrioridade: formValue.codPrioridade,\r\n      codDeposito: formValue.codDeposito,\r\n      codLocalizacao: formValue.codLocalizacao,\r\n      dataEntrega: formValue.dataEntrega,\r\n      observacoes: formValue.observacoes,\r\n      carrinho: this.materiais,\r\n    };\r\n\r\n    if (this.pesoQtdade = true) {\r\n      this.sentCotacao(dataCotacao);\r\n    }\r\n\r\n\r\n    // this.finalizacaoService.sendCotacao(dataCotacao);\r\n  }\r\n\r\n  sentCotacao(dataCotacao: any): void {\r\n    this.loaderNavbar = true;\r\n\r\n    if (this.action === 'update') {\r\n      this.pedidosProducaoTelasService\r\n      .putCotacao(dataCotacao)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            dataCotacao.carrinho = [];\r\n            dataCotacao.carrinho = response.data;\r\n\r\n            this.activatedRoute.params.subscribe((params: any) => {\r\n              if (params.hasOwnProperty('id')) {\r\n                this.location.back();\r\n              } else {\r\n                this.router.navigate([`/comercial/ciclo-vendas/${this.idSubModulo}/pedidos-producao-telas/lista`]);\r\n              }\r\n            });\r\n\r\n            this.pnotifyService.success('Pedido atualizado com sucesso');\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        },\r\n        (error: any) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      );\r\n\r\n    } else {\r\n\r\n      this.pedidosProducaoTelasService\r\n      .postCotacao(dataCotacao)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            dataCotacao.carrinho = [];\r\n            dataCotacao.carrinho = response.data;\r\n            this.pnotifyService.success();\r\n            this.router.navigate([`/comercial/ciclo-vendas/${this.idSubModulo}/pedidos-producao-telas/lista`]);\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        },\r\n        (error: any) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n   //modal\r\n\r\n  openModalProducao(producao: TemplateRef<any>) {\r\n  this.modalRef = this.bsModalService.show(producao);\r\n  }\r\n\r\n  openModalExpedicao(expedicao: TemplateRef<any>) {\r\n  this.modalRef = this.bsModalService.show(expedicao);\r\n  }\r\n\r\n  closeModal(modalRef: TemplateRef<any>) {\r\n    this.modalRef.hide();\r\n  }\r\n\r\n  changeSituacao() {\r\n    if (this.form.value.codSituacao == 2) {\r\n      this.producao = true;\r\n      this.expedicao = false;\r\n\r\n    } else if (this.form.value.codSituacao == 3) {\r\n      this.expedicao = true;\r\n      this.producao = false    }\r\n  }\r\n\r\n  checkFormErrors(): boolean {\r\n    let hasError = false;\r\n\r\n    if (this.carrinhoHasError === true) {\r\n      this.scrollToCarrinho.nativeElement.scrollIntoView({\r\n        behavior: 'instant',\r\n      });\r\n      hasError = true;\r\n    } else {\r\n\r\n      if (this.form.controls.codSituacao.errors !== null) {\r\n        this.onScrollToForm('top');\r\n        this.form.controls.codSituacao.markAsTouched();\r\n        this.form.controls.codSituacao.setErrors({ incorrect: true });\r\n        this.pnotifyService.notice('Selecione a situação.');\r\n        hasError = true;\r\n      }\r\n\r\n      if (this.form.controls.codCliente.errors !== null) {\r\n        this.onScrollToForm('top');\r\n        this.codClientErrors = true;\r\n        this.form.controls.codCliente.markAsTouched();\r\n        this.form.controls.codCliente.setErrors({ incorrect: true });\r\n        this.pnotifyService.notice('Selecione um cliente.');\r\n        hasError = true;\r\n      }\r\n\r\n      if (this.form.controls.dataEntrega.errors !== null) {\r\n        this.onScrollToForm('top');\r\n        this.form.controls.dataEntrega.markAsTouched();\r\n        this.form.controls.dataEntrega.setErrors({ incorrect: true });\r\n        this.pnotifyService.notice('Informe a data de entrega.');\r\n        hasError = true;\r\n      }\r\n    }\r\n\r\n    return hasError;\r\n  }\r\n\r\n  setClienteSubscription(): void {\r\n    this.codClienteSubscription = this.formularioService.codCliente.subscribe(\r\n      (codCliente: number) => {\r\n        this.form.controls.codCliente.setValue(codCliente);\r\n        this.onChangeCliente(codCliente, 'user');\r\n      }\r\n    );\r\n  }\r\n\r\n  onScrollToForm(position: string): void {\r\n    if (position === 'top') {\r\n      this.scrollToFormOnTop.nativeElement.scrollIntoView({\r\n        behavior: 'instant',\r\n      });\r\n    } else if (position === 'bottom') {\r\n      this.scrollToFormOnBottom.nativeElement.scrollIntoView({\r\n        behavior: 'instant',\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  onLoadCliente(event: boolean): void {\r\n    this.isCarteiraClientesLoaded = event;\r\n  }\r\n\r\n  // onClienteDetalhes(): void {\r\n  //   if (this.isCarteiraClientesLoaded === true) {\r\n  //     this.clienteDetalhesService.showModal(this.form.value.codCliente);\r\n  //   } else {\r\n  //     this.pnotifyService.notice('Aguardando a carteira de clientes.');\r\n  //   }\r\n  // }\r\n\r\n  onHistoricoCompras(): void {\r\n    const params = this.form.value;\r\n    if (this.isCarteiraClientesLoaded === true) {\r\n      if (this.form.value.codLocalizacao !== null) {\r\n        this.historicoComprasService.showModal(\r\n          this.setParamsHistoricoCompras(params)\r\n        );\r\n      } else {\r\n        this.onMateriaisScrollTop(true);\r\n      }\r\n    } else {\r\n      this.pnotifyService.notice('Aguardando a carteira de clientes.');\r\n    }\r\n  }\r\n\r\n  setParamsHistoricoCompras(params): Object {\r\n\r\n    let _params: any = {};\r\n\r\n    _params.codCliente = params.codCliente;\r\n    _params.codEmpresa = params.codEmpresa;\r\n    _params.codEndereco = params.codEndereco;\r\n\r\n    return _params;\r\n\r\n  }\r\n\r\n\r\n  onFieldError(field: string): string {\r\n    if (this.onFieldInvalid(field) != '') {\r\n      return 'is-invalid';\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any): string {\r\n    field = this.form.get(field);\r\n\r\n    if (field.errors != null) {\r\n      if (field.errors.hasOwnProperty('required') && field.touched) {\r\n        return 'required';\r\n      }\r\n\r\n      if (field.errors.hasOwnProperty('maxDate') && field.touched) {\r\n        return 'maxDate';\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onFieldRequired(\r\n    abstractControl: AbstractControl,\r\n    abstractControlField?: string\r\n  ): string {\r\n    if (abstractControl.validator) {\r\n      const validator = abstractControl.validator({} as AbstractControl);\r\n      if (validator && validator.required) {\r\n        return 'is-required';\r\n      }\r\n    }\r\n\r\n    if (abstractControlField) {\r\n      for (const controlName in abstractControl['controls']) {\r\n        if (abstractControl['controls'][controlName]) {\r\n          if (\r\n            this.onFieldRequired(abstractControl['controls'][controlName]) &&\r\n            controlName == abstractControlField\r\n          ) {\r\n            return 'is-required';\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  hasUnsavedData() {\r\n    const unsaved = this.form.dirty && this.unsaved;\r\n    return unsaved;\r\n  }\r\n\r\n  @HostListener('window:beforeunload', ['$event'])\r\n  handleBeforeUnload($event: any) {\r\n    if (this.hasUnsavedData()) {\r\n      $event.returnValue = true;\r\n    }\r\n  }\r\n\r\n  formCanDeactivate(): boolean {\r\n    if (this.hasUnsavedData()) {\r\n      if (confirm('Este cliente no forma parte de tu cartera?')) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  onClienteDetalhes(): void {\r\n    this.clienteDetalhesService.showModal(this.form.value.codCliente);\r\n  }\r\n\r\n  onCliente(event) {\r\n    this.form.patchValue(event);\r\n    console.log(event)\r\n    this.onChangeCliente(event.codCliente, 'user');\r\n    this.onLoadCliente(true);\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2Zvcm11bGFyaW8vbW9kYWwvbWF0ZXJpYWwvY2FsY3Vsby9jYWxjdWxvLmNvbXBvbmVudC5zY3NzIn0= */\";","export default \"<div class=\\\"modal-content\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"mtc-title mb-auto\\\">#{{ material.codMaterial }} - {{ material.nomeMaterial | uppercase }}</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"onClose()\\\">\\r\\n      <span aria-hidden=\\\"true\\\" *ngIf=\\\"!loaderModal\\\">&times;</span>\\r\\n      <div class=\\\"spinner-border spinner-border-sm text-dark ml-auto\\\" *ngIf=\\\"loaderModal\\\"></div>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <div class=\\\"row\\\" >\\r\\n      <!-- *ngIf=\\\"material && tipoCalculo\\\" -->\\r\\n      <div class=\\\"col\\\">\\r\\n        <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-6\\\">\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-7\\\">\\r\\n                  <div class=\\\"form-row\\\">\\r\\n                    <div class=\\\"form-group col\\\">\\r\\n                      <p class=\\\"mb-1\\\"><label>Unidade para cálculo</label></p>\\r\\n                      <p> {{ form.value.unidadeCalculo }} </p>\\r\\n                      <!-- <div class=\\\"custom-control custom-radio\\\">\\r\\n                        <input\\r\\n                          type=\\\"radio\\\"\\r\\n                          id=\\\"unidadeCalculo_TON\\\"\\r\\n                          name=\\\"unidadeCalculo\\\"\\r\\n                          class=\\\"custom-control-input\\\"\\r\\n                          formControlName=\\\"unidadeCalculo\\\"\\r\\n                          value=\\\"toneladas\\\"\\r\\n                          (click)=\\\"onChangeUnidadeCalculo('toneladas', true)\\\"\\r\\n                          [attr.disabled]=\\\"disabledUnidadeCalculo()\\\">\\r\\n                        <label class=\\\"custom-control-label\\\" for=\\\"unidadeCalculo_TON\\\">Toneladas</label>\\r\\n                      </div>\\r\\n                      <div class=\\\"custom-control custom-radio\\\">\\r\\n                        <input\\r\\n                          type=\\\"radio\\\"\\r\\n                          id=\\\"unidadeCalculo_BARRA\\\"\\r\\n                          name=\\\"unidadeCalculo\\\"\\r\\n                          class=\\\"custom-control-input\\\"\\r\\n                          formControlName=\\\"unidadeCalculo\\\"\\r\\n                          value=\\\"barrasPecas\\\"\\r\\n                          (click)=\\\"onChangeUnidadeCalculo('barrasPecas', true)\\\"\\r\\n                          [attr.disabled]=\\\"disabledUnidadeCalculo()\\\">\\r\\n                        <label class=\\\"custom-control-label\\\" for=\\\"unidadeCalculo_BARRA\\\">Barras/Peças</label>\\r\\n                      </div> -->\\r\\n                      <!-- <div class=\\\"custom-control custom-radio\\\">\\r\\n                        <input\\r\\n                          type=\\\"radio\\\"\\r\\n                          id=\\\"unidadeCalculo_BARRA\\\"\\r\\n                          name=\\\"unidadeCalculo\\\"\\r\\n                          class=\\\"custom-control-input\\\"\\r\\n                          formControlName=\\\"unidadeCalculo\\\"\\r\\n                          value=\\\"m2\\\"\\r\\n                          (click)=\\\"onChangeUnidadeCalculo('m2', true)\\\"\\r\\n                          [attr.disabled]=\\\"disabledUnidadeCalculo()\\\">\\r\\n                        <label class=\\\"custom-control-label\\\" for=\\\"unidadeCalculo_BARRA\\\">M2</label>\\r\\n                      </div> -->\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-row\\\">\\r\\n                    <div class=\\\"form-group col\\\">\\r\\n                      <!-- {{ descQtde }} -->\\r\\n                      <label for=\\\"quantidade\\\">(QTDE M²)</label>\\r\\n                      <input\\r\\n                        type=\\\"text\\\"\\r\\n                        id=\\\"quantidade\\\"\\r\\n                        class=\\\"form-control\\\"\\r\\n                        formControlName=\\\"quantidade\\\"\\r\\n                        currencyMask [options]=\\\"currencyMaskOptions\\\"\\r\\n                        [ngClass]=\\\"onFieldError('quantidade') + ' ' + onFieldRequired(form.controls.quantidade)\\\">\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-row\\\">\\r\\n                    <div class=\\\"form-group col\\\">\\r\\n                      <label for=\\\"preco\\\">{{ descPreco }}</label>\\r\\n                      <input\\r\\n                        type=\\\"text\\\"\\r\\n                        id=\\\"preco\\\"\\r\\n                        class=\\\"form-control\\\"\\r\\n                        formControlName=\\\"preco\\\"\\r\\n                        currencyMask [options]=\\\"{ align: 'left', prefix: 'R$ ', thousands: '.', decimal: ',', precision: 2 }\\\"\\r\\n                        [ngClass]=\\\"onFieldError('preco') + ' ' + onFieldRequired(form.controls.preco)\\\"\\r\\n                        aria-describedby=\\\"preco-help\\\">\\r\\n                      <small id=\\\"preco-help\\\" class=\\\"form-text text-muted\\\" style=\\\"font-size: 11px\\\">\\r\\n                        Preço ideal acima de <strong>{{ material.valorUnit | currency:'BRL':'symbol':'1.2-2' }}</strong>\\r\\n                      </small>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-row\\\" *ngIf=\\\"showInputMedida()\\\">\\r\\n                    <div class=\\\"form-group col\\\">\\r\\n                      <label for=\\\"medida\\\">Medida (metros)</label>\\r\\n                      <input\\r\\n                        type=\\\"text\\\"\\r\\n                        id=\\\"medida\\\"\\r\\n                        class=\\\"form-control\\\"\\r\\n                        formControlName=\\\"medida\\\"\\r\\n                        currencyMask [options]=\\\"{ align: 'left', prefix: '', thousands: '.', decimal: ',', precision: 2 }\\\"\\r\\n                        [ngClass]=\\\"onFieldError('medida') + ' ' + onFieldRequired(form.controls.medida)\\\">\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-row mt-1\\\">\\r\\n                    <div class=\\\"form-group col mb-0\\\">\\r\\n                      <button\\r\\n                        type=\\\"button\\\"\\r\\n                        class=\\\"btn btn-block btn-secondary mt-auto\\\"\\r\\n                        (click)=\\\"onCalcular()\\\"\\r\\n                        [disabled]=\\\"loaderModal\\\">\\r\\n                        <div *ngIf=\\\"!loaderModal\\\">\\r\\n                          <i class=\\\"fas fa-calculator\\\"></i>\\r\\n                          <span>Calcular</span>\\r\\n                        </div>\\r\\n                        <div *ngIf=\\\"loaderModal\\\">\\r\\n                          <i class=\\\"fas fa-cog fa-spin\\\"></i>\\r\\n                          <span>Aguarde</span>\\r\\n                        </div>\\r\\n                      </button>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col\\\">\\r\\n                  <div *ngIf=\\\"showInfoMetragem()\\\">\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"col\\\"><hr></div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-row\\\" *ngIf=\\\"!showInputMedida()\\\">\\r\\n                      <div class=\\\"form-group col mb-0\\\">\\r\\n                        <label class=\\\"mr-1\\\">Medida 01:</label>\\r\\n                        <span>{{ material.medida1 | number:'1.2-2' }} metro(s)</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"form-group col mb-0\\\">\\r\\n                        <label class=\\\"mr-1\\\">Medida 02:</label>\\r\\n                        <span>{{ material.medida2 | number:'1.2-2' }} metro(s)</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"form-group col mb-0\\\">\\r\\n                        <label class=\\\"mb-0 mr-1\\\">Peso específico:</label>\\r\\n                        <span>{{ material.pesoEspecifico | number:'1.2-2' }} kg(s)</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div *ngIf=\\\"showInfoFatorMultiplo()\\\">\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"col\\\"><hr></div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"form-group col mb-0\\\">\\r\\n                        <label class=\\\"mr-1\\\">Fator múltiplo:</label>\\r\\n                        <span>10</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div *ngIf=\\\"resultCaculo.length > 0\\\">\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"col\\\"><hr></div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"form-group col\\\">\\r\\n                        <label>Selecione uma opção</label>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-row\\\" *ngFor=\\\"let opcaoVenda of resultCaculo; let i = index\\\">\\r\\n                      <div class=\\\"form-group col mb-0\\\">\\r\\n                        <div class=\\\"custom-control custom-radio\\\">\\r\\n                          <input\\r\\n                            type=\\\"radio\\\"\\r\\n                            id=\\\"opcaoVenda_{{ i }}\\\"\\r\\n                            name=\\\"opcaoVenda\\\"\\r\\n                            class=\\\"custom-control-input\\\"\\r\\n                            (click)=\\\"calcularTotais(opcaoVenda)\\\">\\r\\n                          <label class=\\\"custom-control-label\\\" for=\\\"opcaoVenda_{{ i }}\\\">\\r\\n                            {{ opcaoVenda.tonelada | number:'1.3-3' }} Toneladas ({{ opcaoVenda.qtde }} Barras/Peças)\\r\\n                          </label>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-6 pl-0 my-auto\\\">\\r\\n              <div class=\\\"text-right text-uppercase mr-1 mb-2\\\" style=\\\"font-size: 11px\\\">\\r\\n                <a class=\\\"text-primary\\\" href=\\\"javascript:void(0)\\\" (click)=\\\"onShowImpostos()\\\">\\r\\n                  <i class=\\\"fas mr-2\\\" [ngClass]=\\\"{'fa-chevron-up': showImpostos, 'fa-chevron-down': !showImpostos}\\\"></i>\\r\\n                  <strong>Detalles</strong>\\r\\n                </a>\\r\\n              </div>\\r\\n              <ul class=\\\"list-group\\\">\\r\\n                <li class=\\\"list-group-item\\\">\\r\\n                  <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                    <div class=\\\"my-auto\\\">\\r\\n                      <strong>Peso item</strong>\\r\\n                    </div>\\r\\n                    <strong class=\\\"text-secondary\\\">{{ calculo.tonelada | number:'1.3-3' }} Ton</strong>\\r\\n                  </div>\\r\\n                </li>\\r\\n              </ul>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      class=\\\"btn btn-danger\\\"\\r\\n      (click)=\\\"onClose()\\\">\\r\\n      Cancelar\\r\\n    </button>\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      class=\\\"btn btn-primary\\\"\\r\\n      (click)=\\\"onSubmit()\\\"\\r\\n      >\\r\\n      Confirmar\\r\\n    </button>\\r\\n  </div>\\r\\n</div>\\r\\n\";","export default \"<div class=\\\"modal-content\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"mtc-title mb-0 my-auto\\\">Histórico de exclusões do pedido de venda</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"onClose()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <div class=\\\"row mb-3\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <custom-table [config]=\\\"tableConfig\\\">\\r\\n          <ng-template #thead let-thead>\\r\\n            <tr>\\r\\n              <th scope=\\\"col\\\" class=\\\"text-center\\\">Seq.</th>\\r\\n              <th scope=\\\"col\\\" class=\\\"text-center\\\">Data/Hora</th>\\r\\n              <th scope=\\\"col\\\" class=\\\"text-center\\\">Usuário</th>\\r\\n              <th scope=\\\"col\\\" class=\\\"text-center\\\">Tipo</th>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n          <ng-template #tbody let-tbody>\\r\\n            <tr\\r\\n              *ngFor=\\\"let item of exclusoes; let i = index\\\"\\r\\n              [class.table-active]=\\\"i == activeRow\\\"\\r\\n              (click)=\\\"onShowDescricao(i, item)\\\">\\r\\n              <td class=\\\"text-center hover\\\">{{ item.idSeq }}</td>\\r\\n              <td class=\\\"text-center hover\\\">{{ item.datahora | date:'dd/MM/yyyy HH:mm' }}</td>\\r\\n              <td class=\\\"text-center hover\\\">{{ item.nomeUsuario | uppercase }}</td>\\r\\n              <td class=\\\"text-center hover\\\">{{ item.tipo | uppercase }}</td>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n        </custom-table>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col\\\">\\r\\n            <label>Descrição</label>\\r\\n            <div class=\\\"border rounded p-2\\\">\\r\\n              {{ selectedItem.descricao | uppercase }}\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";","import { ComercialCicloVendasPedidosProducaoTelasService } from './../../../../pedidos-producao-telas.service';\r\nimport { Component, OnInit, AfterViewChecked, Input } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n// ngx-bootstrap\r\nimport { BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\n// Services\r\nimport { AuthService } from 'src/app/shared/services/core/auth.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioService } from '../../../formulario.service';\r\n\r\n// Interfaces\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Component({\r\n  selector:\r\n    'comercial-ciclo-vendas-pedidos-producao-telas-formulario-modal-finalizacao-padrao',\r\n  templateUrl: './padrao.component.html',\r\n  styleUrls: ['./padrao.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPadraoComponent\r\n  implements OnInit, AfterViewChecked {\r\n  @Input('dataCotacao') dataCotacao: any;\r\n\r\n  viewChecked = false;\r\n\r\n  user = {\r\n    idVendedor: 88,\r\n    idEscritorio: 58,\r\n  };\r\n\r\n  tableConfig: Partial<CustomTableConfig> = {\r\n    isFixed: true,\r\n    border: false,\r\n    small: false,\r\n    hover: false,\r\n    theme: {\r\n      color: 'white',\r\n    },\r\n  };\r\n\r\n  metasProgresso = {\r\n    toneladas: {\r\n      valor: 0,\r\n      progresso: 0,\r\n    },\r\n    clientes: {\r\n      valor: 0,\r\n      progresso: 0,\r\n    },\r\n    extras: {\r\n      valor: 0,\r\n      progresso: 0,\r\n    },\r\n  };\r\n  metasLoaded: boolean;\r\n  metasEmpty: boolean;\r\n\r\n  comissao = 0;\r\n  comissaoLoaded: boolean;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private bsModalRef: BsModalRef,\r\n    private authService: AuthService,\r\n    private cotacoesService: ComercialCicloVendasPedidosProducaoTelasService,\r\n    private formularioService: ComercialCicloVendasPedidosProducaoTelasFormularioService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    // this.user = this.authService.getCurrentUser().info;\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (this.dataCotacao) {\r\n      this.setViewChecked();\r\n    }\r\n  }\r\n\r\n  setViewChecked(): void {\r\n    this.loadComponentData();\r\n    this.viewChecked = true;\r\n  }\r\n\r\n  loadComponentData(): void {\r\n    this.getComissao();\r\n  }\r\n\r\n  onClose(): void {\r\n    this.formularioService.limparCarrinhoSubject.next(true);\r\n\r\n    this.bsModalRef.hide();\r\n\r\n    setTimeout(() => {\r\n      this.router.navigate(['/comercial/ciclo-vendas/cotacoes-pedidos/lista']);\r\n    }, 100);\r\n  }\r\n\r\n  calcularTotais(field: string): number {\r\n    let total = {\r\n      quantidade: 0,\r\n      valor: 0,\r\n    };\r\n\r\n    for (let index = 0; index < this.dataCotacao.carrinho.length; index++) {\r\n      total.quantidade += this.dataCotacao.carrinho[index].quantidade;\r\n      total.valor += this.dataCotacao.carrinho[index].valorTotal;\r\n    }\r\n\r\n    return total[field];\r\n  }\r\n\r\n  onData(event: any): void {\r\n    if (event.corrente && Object.entries(event.corrente).length > 0) {\r\n      this.metasEmpty = false;\r\n      this.metasProgresso.toneladas.valor = event.corrente.toneladas.percentual;\r\n      this.metasProgresso.clientes.valor = event.corrente.clientes.percentual;\r\n      this.metasProgresso.extras.valor = event.corrente.extras.percentual;\r\n      this.getProgresso();\r\n    } else {\r\n      this.metasEmpty = true;\r\n    }\r\n  }\r\n\r\n  getProgresso(): void {\r\n    if (this.user.idVendedor !== null) {\r\n      this.metasLoaded = false;\r\n\r\n      this.cotacoesService\r\n        .getProgressoCotacao(\r\n          this.dataCotacao.codCotacao,\r\n          this.dataCotacao.codEmpresa\r\n        )\r\n        .pipe(\r\n          finalize(() => {\r\n            this.metasLoaded = true;\r\n          })\r\n        )\r\n        .subscribe((response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            this.metasProgresso.toneladas.progresso = response.data.toneladas;\r\n            this.metasProgresso.clientes.progresso = response.data.clientes;\r\n            this.metasProgresso.extras.progresso = response.data.extras;\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  getComissao(): void {\r\n    if (this.viewChecked === false) {\r\n      if (this.user.idVendedor !== null) {\r\n        this.cotacoesService\r\n          .getComissaoCotacao(\r\n            this.dataCotacao.codCotacao,\r\n            this.dataCotacao.codEmpresa\r\n          )\r\n          .pipe(\r\n            finalize(() => {\r\n              this.comissaoLoaded = true;\r\n            })\r\n          )\r\n          .subscribe((response: JsonResponse) => {\r\n            if (response.success === true) {\r\n              this.comissao = response.data.valorComissao;\r\n            }\r\n          });\r\n      }\r\n    }\r\n  }\r\n\r\n  classVariacaoPreco(variacaoPreco: number): string {\r\n    let variacaoClass: string;\r\n\r\n    if (variacaoPreco > 0) {\r\n      variacaoClass = 'fas fa-caret-up text-success';\r\n    } else if (variacaoPreco < 0) {\r\n      variacaoClass = 'fas fa-caret-down text-danger';\r\n    }\r\n\r\n    return variacaoClass;\r\n  }\r\n\r\n  formatVariacaoPreco(variacaoPreco: number): string {\r\n    let valor: string;\r\n\r\n    if (variacaoPreco > 0) {\r\n      valor = `+${variacaoPreco}%`;\r\n    } else if (variacaoPreco < 0) {\r\n      valor = `${variacaoPreco}%`;\r\n    }\r\n\r\n    return valor;\r\n  }\r\n}\r\n","export default \"<loader-spinner-navbar [hidden]=\\\"!loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<!-- <loader-spinner-full-screen [hidden]=\\\"!loaderFullScreen\\\"></loader-spinner-full-screen> -->\\r\\n<app-header [appTitle]=\\\"appTitle\\\">\\r\\n  <button\\r\\n    type=\\\"button\\\"\\r\\n    (click)=\\\"onSubmit()\\\"\\r\\n    [disabled]=\\\"materiais.length == 0 || pesoQtdade\\\">\\r\\n    Finalizar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\" [show]=\\\"!loaderFullScreen\\\">\\r\\n  <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\" #scrollToFormOnTop>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <hr class=\\\"mt-0 mb-4\\\">\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <div class=\\\"mtc-title\\\">Dados de lançamento</div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col-lg-2\\\">\\r\\n            <label>Data/Hora</label>\\r\\n            <p class=\\\"mb-0\\\">\\r\\n              {{ dadosLancamento.data | date:'dd/MM/yyyy' }} às {{ dadosLancamento.data | date:'HH:mm' }}\\r\\n            </p>\\r\\n          </div>\\r\\n          <div class=\\\"form-group col-lg-3\\\">\\r\\n            <label>Usuário</label>\\r\\n            <p class=\\\"mb-0\\\">\\r\\n              #{{ dadosLancamento.codVendedor }} / {{ dadosLancamento.nomeVendedor | uppercase }}\\r\\n            </p>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <hr class=\\\"mt-4 mb-5\\\">\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"mtc-title\\\">Dados do Pedido</div>\\r\\n    <div class=\\\"form-row\\\">\\r\\n      <div class=\\\"form-group col-lg-2\\\">\\r\\n        <label>Situação</label>\\r\\n        <select\\r\\n          class=\\\"form-control custom-select\\\"\\r\\n          id=\\\"codSituacao\\\"\\r\\n          placeholder=\\\"Selecione...\\\"\\r\\n          formControlName=\\\"codSituacao\\\"\\r\\n          (change)=\\\"changeSituacao();\\\"\\r\\n          [ngClass]=\\\"onFieldError('codSituacao') + ' ' + onFieldRequired(form.controls.codSituacao)\\\">\\r\\n          <option value=\\\"1\\\">Em aberto</option>\\r\\n          <option value=\\\"2\\\">Produção</option>\\r\\n          <option value=\\\"3\\\">Expedição</option>\\r\\n          <option value=\\\"4\\\">Cancelado</option>\\r\\n        </select>\\r\\n      <invalid-form-control [show]=\\\"onFieldInvalid('codSituacao')\\\" message=\\\"Situação da cotação é obrigatório.\\\"></invalid-form-control>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group col-lg-2\\\">\\r\\n        <label class=\\\"mb-1\\\" for=\\\"codPrioridade\\\">Cód. Prioridade</label>\\r\\n        <input\\r\\n          type=\\\"number\\\"\\r\\n          id=\\\"codPrioridade\\\"\\r\\n          placeholder=\\\"Digite...\\\"\\r\\n          class=\\\"form-control\\\"\\r\\n          formControlName=\\\"codPrioridade\\\">\\r\\n      </div>\\r\\n        <!-- <comercial-ciclo-vendas-cotacoes-formulario-template-clientes\\r\\n          [acessoClientes]=\\\"permissoesAcesso.acessoClientes\\\"\\r\\n          [codCliente]=\\\"form.value.codCliente\\\"\\r\\n          [asFormField]=\\\"true\\\"\\r\\n          [setErrors]=\\\"codClientErrors\\\"\\r\\n          (onChange)=\\\"onChangeCliente($event, 'user')\\\"\\r\\n          (onLoad)=\\\"onLoadCliente($event)\\\">\\r\\n        </comercial-ciclo-vendas-cotacoes-formulario-template-clientes> -->\\r\\n        <div class=\\\"form-group col-lg-8\\\">\\r\\n          <div\\r\\n            class=\\\"mb-1 d-flex justify-content-between w-100\\\"\\r\\n            style=\\\"height: 19px\\\">\\r\\n            <label class=\\\"my-auto\\\" for=\\\"codCliente\\\">Cliente</label>\\r\\n            <div class=\\\"my-auto text-uppercase\\\" style=\\\"font-size: 11px\\\">\\r\\n              <a\\r\\n                class=\\\"text-primary mr-2\\\"\\r\\n                href=\\\"javascript:void(0)\\\"\\r\\n                (click)=\\\"openModal(selecionarCliente)\\\">\\r\\n                <strong>Selecionar</strong>\\r\\n              </a>\\r\\n              <span class=\\\"mx-2\\\" *ngIf=\\\"form.value.codCliente != null\\\">|</span>\\r\\n              <a\\r\\n                *ngIf=\\\"form.value.codCliente != null\\\"\\r\\n                class=\\\"text-primary mr-2\\\"\\r\\n                href=\\\"javascript:void(0)\\\"\\r\\n                (click)=\\\"onClienteDetalhes()\\\">\\r\\n                <strong>Detalhes</strong>\\r\\n              </a>\\r\\n            </div>\\r\\n          </div>\\r\\n          <input\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            id=\\\"codRazaoSocial\\\"\\r\\n            formControlName=\\\"codRazaoSocial\\\"\\r\\n            placeholder=\\\"Selecionar...\\\"\\r\\n            [attr.disabled]=\\\"true\\\"/>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"form-row\\\">\\r\\n      <!-- <div class=\\\"form-group col-lg-2\\\">\\r\\n        <label for=\\\"codDeposito\\\">Depósito</label>\\r\\n        <ng-select\\r\\n          [searchable]=\\\"true\\\"\\r\\n          [clearable]=\\\"false\\\"\\r\\n          [items]=\\\"filteredDepositos\\\"\\r\\n          formControlName=\\\"codDeposito\\\"\\r\\n          [virtualScroll]=\\\"true\\\"\\r\\n          labelForId=\\\"codDeposito\\\"\\r\\n          placeholder = \\\"Selecione...\\\"\\r\\n          bindLabel=\\\"nomeDeposito\\\"\\r\\n          bindValue=\\\"idDeposito\\\"\\r\\n          [ngClass]=\\\"onFieldError('codDeposito') + ' ' + onFieldRequired(form.controls.codDeposito)\\\">\\r\\n        </ng-select>\\r\\n        <invalid-form-control [show]=\\\"onFieldInvalid('codDeposito')\\\" message=\\\"Depósito é obrigatório.\\\"></invalid-form-control>\\r\\n      </div> -->\\r\\n      <div class=\\\"form-group col-lg-2\\\">\\r\\n        <label>Localização do Estoque</label>\\r\\n        <select\\r\\n          class=\\\"form-control custom-select\\\"\\r\\n          id=\\\"codDeposito\\\"\\r\\n          formControlName=\\\"codDeposito\\\"\\r\\n          [ngClass]=\\\"onFieldError('codDeposito') + ' ' + onFieldRequired(form.controls.codDeposito)\\\">\\r\\n          <option value=\\\"\\\">Todos</option>\\r\\n          <option value=\\\"1\\\">Piracicaba</option>\\r\\n          <option value=\\\"2\\\">Rio das Pedras</option>\\r\\n        </select>\\r\\n        <invalid-form-control [show]=\\\"onFieldInvalid('codDeposito')\\\" message=\\\"Localização é obrigatório.\\\"></invalid-form-control>\\r\\n      </div>\\r\\n      <!-- <div class=\\\"form-group col-lg-2\\\">\\r\\n        <label>Localização</label>\\r\\n        <select\\r\\n          class=\\\"form-control custom-select\\\"\\r\\n          id=\\\"codLocalizacao\\\"\\r\\n          placeholder=\\\"Selecione...\\\"\\r\\n          formControlName=\\\"codLocalizacao\\\">\\r\\n          <option value=\\\"\\\">Todos</option>\\r\\n          <option value=\\\"1\\\">Piracicaba</option>\\r\\n          <option value=\\\"2\\\">Rio das Pedras-CD</option>\\r\\n          <option value=\\\"3\\\">Rio das Pedras-Civil</option>\\r\\n          <option value=\\\"4\\\">Retira</option>\\r\\n        </select>\\r\\n      </div> -->\\r\\n      <div class=\\\"form-group col-lg-2\\\">\\r\\n        <label for=\\\"dataEntrega\\\">Data de entrega</label>\\r\\n        <input\\r\\n          class=\\\"form-control\\\"\\r\\n          id=\\\"dataEntrega\\\"\\r\\n          type=\\\"text\\\"\\r\\n          bsDatepicker\\r\\n          placeholder=\\\"Selecione...\\\"\\r\\n          [bsConfig]=\\\"bsConfig\\\"\\r\\n          formControlName=\\\"dataEntrega\\\"\\r\\n          [ngClass]=\\\"onFieldError('dataEntrega') + ' ' + onFieldRequired(form.controls.dataEntrega)\\\">\\r\\n        <invalid-form-control [show]=\\\"onFieldInvalid('dataEntrega')\\\" message=\\\"Data de entrega é obrigatório.\\\"></invalid-form-control>\\r\\n      </div>\\r\\n      <div class=\\\"form-group col-lg-8\\\">\\r\\n        <div class=\\\"mb-1 d-flex justify-content-between w-100\\\" style=\\\"height: 19px\\\">\\r\\n          <label class=\\\"my-auto\\\" for=\\\"codEndereco\\\">Local de Entrega</label>\\r\\n          <div class=\\\"my-auto text-uppercase\\\" style=\\\"font-size: 11px\\\" *ngIf=\\\"form.value.codCliente != null\\\">\\r\\n            <a\\r\\n              class=\\\"text-primary mr-2\\\"\\r\\n              href=\\\"javascript:void(0)\\\"\\r\\n              (click)=\\\"onDetalhesLocalEntrega()\\\">\\r\\n              <strong>Detalhes</strong> \\r\\n            </a>\\r\\n            <!-- <span class=\\\"mx-2\\\" *ngIf=\\\"form.value.codCliente != null\\\">|</span> -->\\r\\n            <!-- <a\\r\\n              class=\\\"text-primary mr-2\\\"\\r\\n              href=\\\"javascript:void(0)\\\"\\r\\n              [routerLink]=\\\"[getLinkAddLocalEntrega()]\\\"\\r\\n              target=\\\"_blank\\\">\\r\\n              <strong>Adicionar</strong> \\r\\n            </a> -->\\r\\n            <span class=\\\"mx-2\\\" *ngIf=\\\"form.value.codCliente != null\\\">|</span>\\r\\n            <a\\r\\n            class=\\\"text-primary mr-2\\\"\\r\\n            href=\\\"javascript:void(0)\\\"\\r\\n            tooltip=\\\"Recarregar\\\"\\r\\n            (click)=\\\"onReloadLocalEntrega()\\\"\\r\\n            >\\r\\n              <i class=\\\"fas fa-redo-alt text-dark\\\"></i>\\r\\n            </a>\\r\\n            \\r\\n          </div>\\r\\n        </div>\\r\\n        <ng-select\\r\\n          [searchable]=\\\"true\\\"\\r\\n          [clearable]=\\\"false\\\"\\r\\n          [items]=\\\"locaisEntrega\\\"\\r\\n          formControlName=\\\"codEndereco\\\"\\r\\n          [virtualScroll]=\\\"true\\\"\\r\\n          bindLabel=\\\"descricao\\\"\\r\\n          bindValue=\\\"codEndereco\\\"\\r\\n          placeholder = \\\"Selecione...\\\"\\r\\n          [loading]=\\\"locaisEntregaLoader\\\"\\r\\n          loadingText=\\\"Carregando...\\\"\\r\\n          groupBy=\\\"tipo\\\"\\r\\n          [ngClass]=\\\"onFieldError('codEndereco') + ' ' + onFieldRequired(form.controls.codEndereco)\\\">\\r\\n        </ng-select>\\r\\n        <invalid-form-control [show]=\\\"onFieldInvalid('codEndereco')\\\" message=\\\"Local de entrega é obrigatório.\\\"></invalid-form-control>\\r\\n      </div>\\r\\n      \\r\\n      <!-- <div class=\\\"form-group col-lg-4\\\">\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col\\\">\\r\\n            <div class=\\\"mb-1 d-flex justify-content-between w-100\\\" style=\\\"height: 19px\\\">\\r\\n              <label class=\\\"my-auto\\\" for=\\\"codFormaPagamento\\\">Forma de Pagamento</label>\\r\\n              <div class=\\\"my-auto text-uppercase\\\" style=\\\"font-size: 11px\\\">\\r\\n                <a\\r\\n                  id=\\\"top-links\\\"\\r\\n                  class=\\\"text-primary mr-2\\\"\\r\\n                  href=\\\"javascript:void(0)\\\"\\r\\n                  (click)=\\\"onVisualizarDuplicatas()\\\">\\r\\n                  <strong>Visualizar duplicatas</strong> \\r\\n                </a>\\r\\n              </div>\\r\\n            </div>\\r\\n            <ng-select\\r\\n              [searchable]=\\\"true\\\"\\r\\n              [clearable]=\\\"false\\\"\\r\\n              [items]=\\\"formasPagamento\\\"\\r\\n              formControlName=\\\"codFormaPagamento\\\"\\r\\n              [virtualScroll]=\\\"true\\\"\\r\\n              placeholder = \\\"Selecione...\\\"\\r\\n              bindLabel=\\\"descricao\\\"\\r\\n              bindValue=\\\"codFormaPagamento\\\"\\r\\n              [ngClass]=\\\"onFieldError('codFormaPagamento') + ' ' + onFieldRequired(form.controls.codFormaPagamento)\\\">\\r\\n            </ng-select>\\r\\n            <invalid-form-control [show]=\\\"onFieldInvalid('codFormaPagamento')\\\" message=\\\"Forma de pagamento é obrigatório.\\\"></invalid-form-control>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-row\\\">\\r\\n          <div class=\\\"form-group col d-flex\\\">\\r\\n            <div class=\\\"custom-control custom-checkbox mt-auto\\\">\\r\\n              <input\\r\\n              type=\\\"checkbox\\\"\\r\\n              class=\\\"custom-control-input\\\"\\r\\n              id=\\\"duplicatas-somente-carteira\\\"\\r\\n              formControlName=\\\"duplicatasSomenteCarteira\\\"\\r\\n              [attr.disabled]=\\\"visualizar ? '' : null\\\">\\r\\n              <label\\r\\n                class=\\\"custom-control-label\\\"\\r\\n                for=\\\"duplicatas-somente-carteira\\\">\\r\\n                Duplicatas somente carteira\\r\\n              </label>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div> -->\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <hr class=\\\"mt-4 mb-5\\\">\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <comercial-ciclo-vendas-pedidos-producao-telas-formulario-materiais-lista\\r\\n          [codDeposito]=\\\"form.value.codDeposito\\\"\\r\\n          [codCliente]=\\\"form.value.codCliente\\\"\\r\\n          [codEndereco]=\\\"form.value.codEndereco\\\"\\r\\n          [codFormaPagamento]=\\\"form.value.codFormaPagamento\\\"\\r\\n          (loaderNavbar)=\\\"onLoaderNavbar($event)\\\"\\r\\n          (loaderFullScreen)=\\\"onLoaderFullScreen($event)\\\"\\r\\n          (scrollToFormOnTop)=\\\"onMateriaisScrollTop($event)\\\"\\r\\n          (scrollToCarrinho)=\\\"onScrollToCarrinho($event)\\\">\\r\\n        </comercial-ciclo-vendas-pedidos-producao-telas-formulario-materiais-lista>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <hr class=\\\"my-5\\\">\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" #scrollToCarrinho>\\r\\n      <div class=\\\"col\\\">\\r\\n        <comercial-ciclo-vendas-pedidos-producao-telas-formulario-carrinho\\r\\n          [idReservado]=\\\"idReservado\\\"\\r\\n          [codCotacao]=\\\"codCotacao\\\"\\r\\n          [codCliente]=\\\"form.value.codCliente\\\"\\r\\n          [initialValue]=\\\"carrinho\\\"\\r\\n          (loaderNavbar)=\\\"onLoaderNavbar($event)\\\"\\r\\n          (hasError)=\\\"onCarrinhoError($event)\\\"\\r\\n          (scrollTop)=\\\"onCarrinhoScrollTop($event)\\\"\\r\\n          (carrinho)=\\\"onCarrinho($event)\\\">\\r\\n        </comercial-ciclo-vendas-pedidos-producao-telas-formulario-carrinho>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div #scrollToFormOnBottom *ngIf=\\\"dependenciesLoaded\\\">\\r\\n      <div class=\\\"row justify-content-between\\\">\\r\\n        <div class=\\\"col\\\">\\r\\n          <!-- <div class=\\\"form-row\\\">\\r\\n            <div class=\\\"form-group col\\\">\\r\\n              <label for=\\\"observacoes\\\">Observações</label>\\r\\n              <textarea\\r\\n                class=\\\"form-control\\\"\\r\\n                id=\\\"observacoes\\\"\\r\\n                formControlName=\\\"observacoes\\\">\\r\\n              </textarea>\\r\\n            </div>\\r\\n          </div> -->\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </form>\\r\\n  <ng-template #selecionarCliente>\\r\\n    <comercial-cliclo-vendas-pedidos-producao-telas-formulario-modal-selecionar\\r\\n      (fecharModal)=\\\"onFecharModal($event)\\\"\\r\\n      (cliente)=\\\"onCliente($event)\\\">\\r\\n    </comercial-cliclo-vendas-pedidos-producao-telas-formulario-modal-selecionar>\\r\\n  </ng-template>\\r\\n</app-body>\\r\\n\";","import { ComercialCicloVendasPedidosProducaoTelasFormularioService } from './../formulario.service';\r\nimport { ComercialCicloVendasCotacoesFormularioModalMaterialComboService } from './../../../cotacoes/formulario/modal/material/combo/combo.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasService } from './../../pedidos-producao-telas.service';\r\nimport { ISimilaridadeModel } from './../../../cotacoes/formulario/models/similaridade';\r\nimport { IMateriaisModel } from './../../../cotacoes/formulario/models/materiais';\r\nimport { ICalculoModel } from './../../../cotacoes/formulario/models/calculo';\r\nimport { ComercialCicloVendasCotacoesFormularioModalMaterialDescontoService } from './../../../cotacoes/formulario/modal/material/desconto/desconto.service';\r\nimport { ComercialCicloVendasCotacoesFormularioService } from './../../../cotacoes/formulario/formulario.service';\r\nimport { IDescontoCarrinhoModel, IDescontoModel } from './../../../cotacoes/formulario/models/descontos';\r\nimport { ICarrinhoModel } from './../../../cotacoes/formulario/models/carrinho';\r\nimport {\r\n  Component,\r\n  OnInit,\r\n  OnDestroy,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ElementRef,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport {\r\n  FormBuilder,\r\n  FormGroup,\r\n  FormArray,\r\n  Validators,\r\n  FormControl,\r\n} from '@angular/forms';\r\nimport { Subscription, EMPTY, Observable } from 'rxjs';\r\nimport { take, switchMap, finalize } from 'rxjs/operators';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { ConfirmModalService } from 'src/app/shared/modules/confirm-modal/confirm-modal.service';\r\n\r\n// Interfaces\r\nimport { Subtitles } from 'src/app/shared/modules/subtitles/subtitles';\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\nimport { CardCounterConfig } from 'src/app/shared/templates/card-counter/models/config';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoService } from '../modal/material/calculo/calculo.service';\r\nimport { isThisHour } from 'date-fns';\r\n\r\n@Component({\r\n  selector: 'comercial-ciclo-vendas-pedidos-producao-telas-formulario-carrinho',\r\n  templateUrl: './carrinho.component.html',\r\n  styleUrls: ['./carrinho.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioCarrinhoComponent\r\n  implements OnInit, OnDestroy {\r\n  private subscriptionSubmit: Subscription;\r\n\r\n  @Input('idReservado') idReservado: number;\r\n  @Input('codCotacao') codCotacao: number;\r\n  @Input('codCliente') codCliente: number;\r\n  @Input('initialValue') initialValue: Array<ICarrinhoModel>;\r\n  @Input('dadosCalculo') dadosCalculo: Array<any>;\r\n  @Input('id_tipo_cliente') id_cliente: number;\r\n  @Input('id_departamento') id_departamento: number;\r\n\r\n\r\n\r\n\r\n  @Output('loaderNavbar') loaderNavbar: EventEmitter<\r\n    boolean\r\n  > = new EventEmitter();\r\n  @Output('hasError') hasError: EventEmitter<boolean> = new EventEmitter();\r\n  @Output('scrollTop') scrollTop: EventEmitter<boolean> = new EventEmitter();\r\n  @Output('carrinho') carrinho: EventEmitter<Object> = new EventEmitter();\r\n\r\n  @ViewChild('scrollToCarrinho', {}) scrollToCarrinho: ElementRef;\r\n\r\n  subtitles: Array<Subtitles> = [\r\n    {\r\n      id: 1,\r\n      text: 'Preço acima do mínimo',\r\n      color: 'green',\r\n    },\r\n    {\r\n      id: 2,\r\n      text: 'Preço abaixo do mínimo',\r\n      color: 'red',\r\n    },\r\n  ];\r\n\r\n  tableHeadConfig: Partial<CustomTableConfig> = {\r\n    border: false,\r\n    small: false,\r\n    theme: {\r\n      color: 'white',\r\n    },\r\n  };\r\n\r\n  tableBodyConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: true,\r\n    isFixed: true,\r\n    border: false,\r\n    small: false,\r\n    hover: false,\r\n    theme: {\r\n      color: 'white',\r\n    },\r\n  };\r\n\r\n  form: FormGroup;\r\n\r\n  // quantidade: Subscription;\r\n  // peso: Subscription;\r\n\r\n\r\n  materiaisSubscription: Subscription;\r\n  limparCarrinhoSubscription: Subscription;\r\n  calculoSubscription: Subscription;\r\n  descontoSubscription: Subscription;\r\n  dataSubscription: Subscription;\r\n\r\n  deposito: string;\r\n  nrPedido: number;\r\n  nrItem: number;\r\n  newMaterial: boolean;\r\n\r\n  selectedCodEmpresa: number = null;\r\n\r\n  descontoCarrinho: IDescontoCarrinhoModel = {\r\n    tipo: null,\r\n    desconto: null,\r\n  };\r\n\r\n  total = {\r\n    quantidade: 0,\r\n    pesoEspecifico: 0,\r\n    valor: 0,\r\n    valorIpi: 0,\r\n    valorIcms: 0,\r\n    valorDescMaterial: 0,\r\n    valorDescCarrinho: 0,\r\n    valorTotalOri: 0,\r\n    valorTotal: 0,\r\n    valorProposta: 0,\r\n  };\r\n\r\n  cardCounterConfig: Partial<CardCounterConfig> = {\r\n    showDecimals: true,\r\n    format: 'currency',\r\n  };\r\n\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private pnotifyService: PNotifyService,\r\n    private confirmModalService: ConfirmModalService,\r\n    private formularioService: ComercialCicloVendasCotacoesFormularioService,\r\n    private calculoService: ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoService,\r\n    private descontoService: ComercialCicloVendasCotacoesFormularioModalMaterialDescontoService,\r\n    private comboService: ComercialCicloVendasCotacoesFormularioModalMaterialComboService,\r\n    private pedidosProducaoTelasService: ComercialCicloVendasPedidosProducaoTelasService,\r\n    private formularioProducaoService: ComercialCicloVendasPedidosProducaoTelasFormularioService\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.submitSubscription();\r\n    this.materiaisSubject();\r\n    this.calculoSubject();\r\n    this.setFormBuilder();\r\n    // this.checkPreviously();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscriptionSubmit.unsubscribe();\r\n    this.materiaisSubscription.unsubscribe();\r\n    this.calculoSubscription.unsubscribe();\r\n    this.clearLocalStorage();\r\n  }\r\n\r\n  submitSubscription(): void {\r\n    this.subscriptionSubmit = this.formularioService.notifySubmitObservable$.subscribe(\r\n      (response: any) => {\r\n        if (response) {\r\n          if (this.form.valid) {\r\n            this.carrinhoEmitter();\r\n          } else {\r\n            this.hasError.emit(true);\r\n            this.pnotifyService.notice(\r\n              'Preencha os valores de todos os materiais.'\r\n            );\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  materiaisSubject(): void {\r\n    this.newMaterial = false;\r\n    this.materiaisSubscription = this.formularioService.materiaisSubject.subscribe(\r\n      (response: any) => {\r\n        if (this.nrPedido === undefined) {\r\n          const materiais = this.formatMateriais(response);\r\n          this.newMaterial = true;\r\n          this.onAddMaterial(materiais);\r\n        } else {\r\n          const materiaisUpdate = this.formatMateriaisUpdate(response);\r\n          this.onAddMaterial(materiaisUpdate);\r\n        }\r\n\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  limparCarrinhoSubject(): void {\r\n    this.limparCarrinhoSubscription = this.formularioService.limparCarrinhoSubject.subscribe(\r\n      (response: boolean) => {\r\n        if (response === true) {\r\n          this.onLimparCarrinho();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  calculoSubject(): void {\r\n    this.calculoSubscription = this.formularioProducaoService.calculoSubject.subscribe(\r\n      (calculo: ICalculoModel) => {\r\n\r\n        const formArray = this.form.controls.materiais as FormArray;\r\n        const formGroup = formArray.controls[calculo.index] as FormGroup;\r\n\r\n        formGroup.controls.quantidade.setValue(calculo.qtde);\r\n        formGroup.controls.pesoEspecifico.setValue(calculo.tonelada);\r\n        formGroup.controls.valor.setValue(calculo.valorUnitario);\r\n        formGroup.controls.percentualIpi.setValue(calculo.aliquotaIpi);\r\n        formGroup.controls.valorIpi.setValue(calculo.valorIpi);\r\n        formGroup.controls.percentualIcms.setValue(calculo.aliquotaIcms);\r\n        formGroup.controls.valorIcms.setValue(calculo.valorIcms);\r\n        formGroup.controls.valorIcmsSt.setValue(calculo.valorIcmsSt);\r\n        formGroup.controls.valorTotalOri.setValue(\r\n          calculo.tonelada * calculo.valorUnitario\r\n        );\r\n        formGroup.controls.valorTotal.setValue(\r\n          calculo.tonelada * calculo.valorUnitario\r\n        );\r\n\r\n        this.onCalcularTotais(true);\r\n      }\r\n\r\n    );\r\n  }\r\n\r\n\r\n  carrinhoEmitter(): void {\r\n    this.hasError.emit(false);\r\n\r\n    this.carrinho.emit({\r\n      materiais: this.form.value.materiais,\r\n      total: this.total,\r\n    });\r\n  }\r\n\r\n  setFormBuilder(): void {\r\n    this.form = this.formBuilder.group({\r\n      materiais: this.formBuilder.array([]),\r\n    });\r\n\r\n    this.checkInitialValues();\r\n  }\r\n\r\n  checkInitialValues(): void {\r\n    if (this.initialValue.length > 0) {\r\n      this.newMaterial = true;\r\n      this.onAddMaterial(this.initialValue);\r\n\r\n    }\r\n  }\r\n\r\n  get materiais(): FormArray {\r\n    return this.form.get('materiais') as FormArray;\r\n  }\r\n\r\n\r\n\r\n  onAddMaterial(materiais: Array<any>): void {\r\n\r\n    this.nrPedido = materiais[0].nrPedido;\r\n\r\n    if (this.newMaterial === true) {\r\n\r\n      if (materiais.length > 0) {\r\n        let hasError = false,\r\n          qtdeAdicionados = 0;\r\n\r\n        for (let i = 0; i < materiais.length; i++) {\r\n          if (\r\n            (this.selectedCodEmpresa === null ||\r\n              this.selectedCodEmpresa === materiais[i].codEmpresa) &&\r\n            hasError === false\r\n          ) {\r\n            if (this.checkMaterialExists(materiais[i]) === false) {\r\n              this.materiais.push(\r\n                this.formBuilder.group({\r\n                  nrItem: [materiais[i].nrItem],\r\n                  idReservado: [materiais[i].idReservado],\r\n                  codCotacao: [materiais[i].codCotacao],\r\n                  codMaterial: [materiais[i].codMaterial],\r\n                  nomeMaterial: [materiais[i].nomeMaterial],\r\n                  quantidade: [materiais[i].qtdeItem, [Validators.required]],\r\n                  valorUnit: [materiais[i].valorUnit],\r\n                  valor: [materiais[i].valor, [Validators.required]],\r\n                  percentualIpi: [materiais[i].percentualIpi],\r\n                  valorIpi: [materiais[i].valorIpi, [Validators.required]],\r\n                  percentualIcms: [materiais[i].percentualIcms],\r\n                  valorIcms: [materiais[i].valorIcms, [Validators.required]],\r\n                  valorIcmsSt: [\r\n                    materiais[i].valorIcmsSt != null\r\n                      ? materiais[i].valorIcmsSt\r\n                      : 0,\r\n                    [Validators.required],\r\n                  ],\r\n                  tipoDesc: [materiais[i].tipoDesc],\r\n                  valorDesc: [materiais[i].valorDesc],\r\n                  percentualDesc: [materiais[i].percentualDesc],\r\n                  valorTotalOri: [materiais[i].valorTotalOri],\r\n                  valorTotal: [materiais[i].valorTotal, [Validators.required]],\r\n                  codEmpresa: [materiais[i].codEmpresa],\r\n                  nomeEmpresa: [materiais[i].nomeEmpresa],\r\n                  codDeposito: [materiais[i].codDeposito],\r\n                  nomeDeposito: [materiais[i].nomeDeposito],\r\n                  medida1: [materiais[i].medida1],\r\n                  medida2: [materiais[i].medida2],\r\n                  pesoEspecifico: [materiais[i].peso],\r\n                  materialAssociado: [materiais[i].materialAssociado],\r\n                })\r\n              );\r\n\r\n              this.setSelectedCodEmpresa(materiais[i].codEmpresa);\r\n              qtdeAdicionados++;\r\n            }\r\n          } else {\r\n            hasError = true;\r\n          }\r\n        }\r\n\r\n\r\n        if (qtdeAdicionados > 0) {\r\n          this.setLocalStorage(this.form.value.materiais);\r\n          (this.form.value.materiais);\r\n          this.onCalcularTotais(true);\r\n          setTimeout(() => {\r\n          }, 500);\r\n        }\r\n      }\r\n      this.newMaterial = false;\r\n    } else {\r\n\r\n      if (materiais.length > 0) {\r\n        let hasError = false,\r\n          qtdeAdicionados = 0;\r\n\r\n        for (let i = 0; i < materiais[0].length; i++) {\r\n\r\n            if (this.checkMaterialExists(materiais[i]) === false) {\r\n              this.materiais.push(\r\n                this.formBuilder.group({\r\n                  nrItem: [this.nrItem],\r\n                  idReservado: [materiais[0][i].idReservado],\r\n                  codCotacao: [materiais[0][i].codCotacao],\r\n                  codMaterial: [materiais[0][i].codMaterial],\r\n                  nomeMaterial: [materiais[0][i].nomeMaterial],\r\n                  quantidade: [materiais[0][i].qtdeItem, [Validators.required]],\r\n                  valorUnit: [materiais[0][i].valorUnit],\r\n                  valor: [materiais[0][i].valor, [Validators.required]],\r\n                  percentualIpi: [materiais[0][i].percentualIpi],\r\n                  valorIpi: [materiais[0][i].valorIpi, [Validators.required]],\r\n                  percentualIcms: [materiais[0][i].percentualIcms],\r\n                  valorIcms: [materiais[0][i].valorIcms, [Validators.required]],\r\n                  valorIcmsSt: [\r\n                    materiais[0][i].valorIcmsSt != null\r\n                      ? materiais[0][i].valorIcmsSt\r\n                      : 0,\r\n                    [Validators.required],\r\n                  ],\r\n                  tipoDesc: [materiais[0][i].tipoDesc],\r\n                  valorDesc: [materiais[0][i].valorDesc],\r\n                  percentualDesc: [materiais[0][i].percentualDesc],\r\n                  valorTotalOri: [materiais[0][i].valorTotalOri],\r\n                  valorTotal: [materiais[0][i].valorTotal, [Validators.required]],\r\n                  codEmpresa: [materiais[0][i].codEmpresa],\r\n                  nomeEmpresa: [materiais[0][i].nomeEmpresa],\r\n                  codDeposito: [materiais[0][i].codDeposito],\r\n                  nomeDeposito: [materiais[0][i].nomeDeposito],\r\n                  medida1: [materiais[0][i].medida1],\r\n                  medida2: [materiais[0][i].medida2],\r\n                  pesoEspecifico: [materiais[0][i].peso],\r\n                  materialAssociado: [materiais[0][i].materialAssociado],\r\n\r\n                })\r\n              );\r\n\r\n              this.setSelectedCodEmpresa(materiais[0][i].codEmpresa);\r\n              qtdeAdicionados++;\r\n            }\r\n\r\n        }\r\n\r\n\r\n        if (qtdeAdicionados > 0) {\r\n          this.setLocalStorage(this.form.value.materiais);\r\n          (this.form.value.materiais);\r\n          this.onCalcularTotais(true);\r\n          setTimeout(() => {\r\n          }, 500);\r\n        }\r\n      }\r\n\r\n    };\r\n\r\n\r\n  }\r\n\r\n\r\n  checkMaterialExists(material: ICarrinhoModel): boolean {\r\n    return this.form.value.materiais.some((el: ICarrinhoModel) => {\r\n      return el.codMaterial === material.codMaterial;\r\n    });\r\n  }\r\n\r\n  onAssocMaterial(material: ICarrinhoModel): void {\r\n    if (material.materialAssociado === 1) {\r\n      this.comboService.showModal(material);\r\n    }\r\n  }\r\n\r\n  onCalcMaterial(index: number, material: ICarrinhoModel): void {\r\n    if (this.codCliente !== null) {\r\n      this.calculoService.showModal(index, material, this.codCliente);\r\n    } else {\r\n      this.scrollTop.emit(true);\r\n    }\r\n  }\r\n\r\n  onDescontoMaterial(index: number, material: ICarrinhoModel): void {\r\n    if (material.valorTotal > 0) {\r\n      // @ts-ignore: Ignorar error TS2339\r\n      this.descontoService.descontoMaterial(index, material);\r\n    } else {\r\n      this.pnotifyService.notice(\r\n        'Realize o cálculo de quantidades para continuar.'\r\n      );\r\n    }\r\n  }\r\n\r\n  onDescontoCarrinho(): void {\r\n    let hasError = false;\r\n    const materiais: Array<ICarrinhoModel> = this.form.value.materiais;\r\n    ('aqui');\r\n    (materiais);\r\n\r\n    for (let i = 0; i < materiais.length; i++) {\r\n      if (materiais[i].valorTotal === 0) {\r\n        hasError = true;\r\n      }\r\n    }\r\n\r\n    if (hasError === false) {\r\n      this.descontoService.descontoCarrinho(this.descontoCarrinho);\r\n    } else {\r\n      this.pnotifyService.notice(\r\n        'Realize o cálculo de quantidades para continuar.'\r\n      );\r\n    }\r\n  }\r\n\r\n  onLimparCarrinho(): void {\r\n    const materiais = this.form.get('materiais') as FormArray;\r\n    materiais.clear();\r\n\r\n    this.setSelectedCodEmpresa(null);\r\n    this.onCalcularTotais(true);\r\n    this.clearLocalStorage();\r\n  }\r\n\r\n\r\n  onDeleteMaterial(index: number, material: IMateriaisModel): void {\r\n    const nrItem = index + 1;\r\n\r\n    if (this.nrPedido != undefined) {\r\n      this.confirmDelete()\r\n      .asObservable()\r\n      .pipe(\r\n        take(1),\r\n        switchMap((result) =>\r\n          result\r\n            ? this.deleteMaterialCotacao(nrItem, this.nrPedido)\r\n            : EMPTY\r\n        ),\r\n        finalize(() => {\r\n          this.loaderNavbar.emit(false);\r\n        })\r\n      )\r\n      .subscribe(\r\n        (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            this.materiais.removeAt(index);\r\n            this.onCalcularTotais(false);\r\n            this.carrinhoEmitter();\r\n            this.setLocalStorage(this.form.value.materiais);\r\n\r\n            if (this.form.value.materiais.length === 0) {\r\n              this.setSelectedCodEmpresa(null);\r\n            }\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        },\r\n        (error: any) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      );\r\n    } else {\r\n      this.materiais.removeAt(index);\r\n    }\r\n\r\n\r\n  }\r\n\r\n  confirmDelete(): any {\r\n    return this.confirmModalService.showConfirm(\r\n      'delete',\r\n      'Confirmar exclusão',\r\n      'Deseja realmente prosseguir com a exclusão do material?',\r\n      'Cancelar',\r\n      'Confirmar'\r\n    );\r\n  }\r\n\r\n  deleteMaterialCotacao(index: number, codMaterial: number): Observable<any> {\r\n    this.loaderNavbar.emit(true);\r\n    return this.pedidosProducaoTelasService.deleteMaterialCotacao(index, codMaterial);\r\n  }\r\n\r\n\r\n  formatMateriais(\r\n    data: Array<IMateriaisModel & ISimilaridadeModel>\r\n  ): Array<ICarrinhoModel> {\r\n    let materiais = [];\r\n\r\n    for (let index = 0; index < data.length; index++) {\r\n      let material =\r\n        {\r\n          idReservado: this.idReservado !== null ? this.idReservado : null,\r\n          codCotacao: this.codCotacao !== null ? this.codCotacao : null,\r\n          // @ts-ignore: Ignorar error TS2339\r\n          codMaterial: data[index].codMaterial,\r\n          nomeMaterial: data[index].nomeMaterial,\r\n          quantidade: 0,\r\n          valorUnit: data[index].valorUnit,\r\n          valor: 0,\r\n          percentualIpi: data[index].percentualIpi,\r\n          valorIpi: 0,\r\n          percentualIcms: data[index].percentualIcms,\r\n          valorIcms: 0,\r\n          valorIcmsSt: 0,\r\n          tipoDesc: null,\r\n          valorDesc: 0,\r\n          percentualDesc: 0,\r\n          valorTotalOri: 0,\r\n          valorTotal: 0,\r\n          codEmpresa: data[index].codEmpresa,\r\n          nomeEmpresa: data[index].nomeEmpresa,\r\n          codDeposito: data[index].codDeposito,\r\n          nomeDeposito: data[index].nomeDeposito,\r\n          medida1: data[index].medida1,\r\n          medida2: data[index].medida2,\r\n          pesoEspecifico: data[index].pesoEspecifico,\r\n          materialAssociado: data[index].materialAssociado,\r\n        }\r\n\r\n      materiais.push(material);\r\n    }\r\n\r\n    return materiais;\r\n  }\r\n\r\n  formatMateriaisUpdate(\r\n    data: Array<IMateriaisModel & ISimilaridadeModel>\r\n  ): Array<ICarrinhoModel> {\r\n\r\n    let materiais = [];\r\n\r\n    for (let index = 0; index < data.length; index++) {\r\n      let material = [\r\n        {\r\n          idReservado: this.idReservado !== null ? this.idReservado : null,\r\n          codCotacao: this.codCotacao !== null ? this.codCotacao : null,\r\n          // @ts-ignore: Ignorar error TS2339\r\n          codMaterial: data[index].id_material,\r\n          nomeMaterial: data[index].nomeMaterial,\r\n          quantidade: 0,\r\n          valorUnit: data[index].valorUnit,\r\n          valor: 0,\r\n          percentualIpi: data[index].percentualIpi,\r\n          valorIpi: 0,\r\n          percentualIcms: data[index].percentualIcms,\r\n          valorIcms: 0,\r\n          valorIcmsSt: 0,\r\n          tipoDesc: null,\r\n          valorDesc: 0,\r\n          percentualDesc: 0,\r\n          valorTotalOri: 0,\r\n          valorTotal: 0,\r\n          codEmpresa: data[index].codEmpresa,\r\n          nomeEmpresa: data[index].nomeEmpresa,\r\n          codDeposito: data[index].codDeposito,\r\n          nomeDeposito: data[index].nomeDeposito,\r\n          medida1: data[index].medida1,\r\n          medida2: data[index].medida2,\r\n          pesoEspecifico: data[index].pesoEspecifico,\r\n          materialAssociado: data[index].materialAssociado,\r\n        }\r\n      ]\r\n\r\n      materiais.push(material);\r\n\r\n    }\r\n\r\n    return materiais;\r\n  }\r\n\r\n  // checkPreviously(): void {\r\n  //   const _localStorage = localStorage.getItem('materiais');\r\n\r\n  //   if (_localStorage !== null) {\r\n  //     const materiais = JSON.parse(atob(_localStorage));\r\n\r\n  //     if (\r\n  //       materiais.length > 0 &&\r\n  //       this.idReservado !== null &&\r\n  //       this.idReservado == materiais[0].idReservado\r\n  //     ) {\r\n  //       this.confirmModalService\r\n  //         .showConfirm(\r\n  //           null,\r\n  //           `#${this.idReservado} / Cotação não finalizada`,\r\n  //           'Parece que essa cotação foi iniciada e não foi finalizada. Deseja recuperar os materiais da cotação?',\r\n  //           'Cancelar',\r\n  //           'Confirmar'\r\n  //         )\r\n  //         .subscribe((response: boolean) =>\r\n  //           response\r\n  //             ? this.onConfirmAddMaterial(materiais)\r\n  //             : this.clearLocalStorage()\r\n  //         );\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  onConfirmAddMaterial(materiais: Array<ICarrinhoModel>): void {\r\n    this.onAddMaterial(materiais);\r\n\r\n    setTimeout(() => {\r\n      this.scrollToCarrinho.nativeElement.scrollIntoView({\r\n        behavior: 'instant',\r\n      });\r\n    }, 500);\r\n  }\r\n\r\n  setLocalStorage(data: Array<ICarrinhoModel>): void {\r\n\r\n      this.clearLocalStorage();\r\n      localStorage.setItem('materiais', btoa(JSON.stringify(data)));\r\n\r\n  }\r\n\r\n  clearLocalStorage(): void {\r\n    localStorage.removeItem('materiais');\r\n  }\r\n\r\n  onCalcularTotais(emitter: boolean): void {\r\n    const materiais = this.form.value.materiais;\r\n\r\n    this.total.quantidade = 0;\r\n    this.total.pesoEspecifico = 0;\r\n    this.total.valor = 0;\r\n    this.total.valorIcms = 0;\r\n    this.total.valorIpi = 0;\r\n    this.total.valorDescMaterial = 0;\r\n    this.total.valorDescCarrinho = 0;\r\n    this.total.valorTotalOri = 0;\r\n    this.total.valorTotal = 0;\r\n    this.total.valorProposta = 0;\r\n\r\n    if (materiais.length > 0) {\r\n      for (let index = 0; index < materiais.length; index++) {\r\n        this.total.quantidade += materiais[index].quantidade;\r\n        this.total.pesoEspecifico += materiais[index].pesoEspecifico;\r\n        this.total.valor += materiais[index].valor;\r\n        this.total.valorIcms += materiais[index].valorIcms;\r\n        this.total.valorIpi += materiais[index].valorIpi;\r\n        this.total.valorDescMaterial += materiais[index].valorDesc;\r\n        this.total.valorTotalOri += materiais[index].valorTotalOri;\r\n        this.total.valorTotal += materiais[index].valorTotal;\r\n      }\r\n\r\n      if (this.descontoCarrinho.tipo !== null) {\r\n        if (this.descontoCarrinho.tipo === 'valor') {\r\n          this.total.valorDescCarrinho =\r\n            this.total.valorDescMaterial + this.descontoCarrinho.desconto;\r\n\r\n          this.total.valorProposta =\r\n            this.total.valorTotal +\r\n            this.total.valorIpi -\r\n            this.total.valorDescCarrinho;\r\n        } else if (this.descontoCarrinho.tipo === 'percentual') {\r\n          this.total.valorTotal =\r\n            ((100 - this.descontoCarrinho.desconto) / 100) *\r\n            this.total.valorTotal;\r\n\r\n          this.total.valorDescCarrinho =\r\n            this.total.valorDescMaterial +\r\n            (this.total.valorTotalOri - this.total.valorTotal);\r\n\r\n          this.total.valorProposta =\r\n            this.total.valorTotal +\r\n            this.total.valorIpi -\r\n            this.total.valorDescCarrinho;\r\n        } else {\r\n          this.total.valorDescCarrinho = this.total.valorDescMaterial;\r\n\r\n          this.total.valorProposta =\r\n            this.total.valorTotal + this.total.valorIpi;\r\n        }\r\n      } else {\r\n        this.total.valorDescCarrinho = this.total.valorDescMaterial;\r\n\r\n        this.total.valorProposta = this.total.valorTotal + this.total.valorIpi;\r\n      }\r\n\r\n      this.setLocalStorage(this.form.value.materiais);\r\n    }\r\n\r\n    if (emitter === true) {\r\n      this.carrinhoEmitter();\r\n    }\r\n  }\r\n\r\n  resetDescontoCarrinho(): void {\r\n    this.descontoCarrinho = {\r\n      tipo: null,\r\n      desconto: null,\r\n    };\r\n  }\r\n\r\n  onNestedFieldError(formGroup: string, index: number, field: string) {\r\n    if (this.onNestedFieldInvalid(formGroup, index, field)) {\r\n      return 'is-invalid';\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onNestedFieldInvalid(formGroup: string, index: number, field: any) {\r\n    let nestedForm: any = this.form.controls[formGroup];\r\n    field = nestedForm.controls[index].get(field);\r\n\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onNestedFieldRequired(formGroup: string, index: number, field: string) {\r\n    let required = false;\r\n    let formControl = new FormControl();\r\n    let nestedForm: any = this.form.controls[formGroup];\r\n\r\n    if (nestedForm.controls[index].get(field).validator) {\r\n      let validationResult = nestedForm.controls[index]\r\n        .get(field)\r\n        .validator(formControl);\r\n      required =\r\n        validationResult !== null && validationResult.required === true;\r\n    }\r\n\r\n    if (required) {\r\n      return 'is-required';\r\n    }\r\n  }\r\n\r\n  classStatusBorder(material: ICarrinhoModel): string {\r\n    let borderClass: string;\r\n\r\n    if (Math.floor(material.valorUnit * 100) / 100 > material.valor) {\r\n      borderClass = 'border-danger';\r\n    } else {\r\n      borderClass = 'border-success';\r\n    }\r\n\r\n    return borderClass;\r\n  }\r\n\r\n  checkValorMaterial(material: ICarrinhoModel): boolean {\r\n    let validator: boolean;\r\n\r\n    if (Math.floor(material.valorUnit * 100) / 100 > material.valor) {\r\n      validator = false;\r\n    } else {\r\n      validator = true;\r\n    }\r\n\r\n    return validator;\r\n  }\r\n\r\n  columSize(key: string): string {\r\n    let size: number;\r\n\r\n    switch (key) {\r\n      case 'index':\r\n        size = 4;\r\n        break;\r\n      case 'nomeMaterial':\r\n        size = 22;\r\n        break;\r\n      case 'quantidade':\r\n        size = 8;\r\n        break;\r\n      case 'valor':\r\n        size = 8;\r\n        break;\r\n      case 'valorIcms':\r\n        size = 8;\r\n        break;\r\n      case 'valorIpi':\r\n        size = 8;\r\n        break;\r\n      case 'valorDesc':\r\n        size = 8;\r\n        break;\r\n      case 'valorTotal':\r\n        size = 9;\r\n        break;\r\n      case 'nomeDeposito':\r\n        size = 11;\r\n        break;\r\n      case 'buttons':\r\n        size = 13;\r\n        break;\r\n    }\r\n\r\n    return `${size}%`;\r\n  }\r\n\r\n  setSelectedCodEmpresa(codEmpresa: number): void {\r\n    this.selectedCodEmpresa = codEmpresa;\r\n  }\r\n}\r\n","export default \"<div *ngIf=\\\"materiais.length > 0\\\">\\r\\n  <div class=\\\"row\\\" #scrollToCarrinho>\\r\\n    <div class=\\\"col\\\">\\r\\n      <div class=\\\"mtc-title mb-3\\\">Resumo de cotizacion</div>\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col\\\">\\r\\n          <subtitles [data]=\\\"subtitles\\\" [show]=\\\"true\\\"></subtitles>\\r\\n        </div>\\r\\n        <div class=\\\"col\\\">\\r\\n          <div class=\\\"d-flex justify-content-end\\\">\\r\\n            <!-- <button\\r\\n              type=\\\"button\\\"\\r\\n              class=\\\"btn btn-sm btn-primary mr-3\\\"\\r\\n              (click)=\\\"onDescontoCarrinho()\\\">\\r\\n              <i class=\\\"fas fa-percentage\\\"></i>\\r\\n              <span>Desconto</span>\\r\\n            </button> -->\\r\\n            <button\\r\\n              type=\\\"button\\\"\\r\\n              class=\\\"btn btn-sm btn-danger\\\"\\r\\n              (click)=\\\"onLimparCarrinho()\\\">\\r\\n              <i class=\\\"fas fa-trash\\\"></i>\\r\\n              <span>Limpar</span>\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n        <custom-table [config]=\\\"tableHeadConfig\\\">\\r\\n          <ng-template #thead let-thead>\\r\\n            <tr>\\r\\n              <th scope=\\\"col\\\" class=\\\"text-center border-light\\\" [ngStyle]=\\\"{ width: columSize('index') }\\\">\\r\\n                <span class=\\\"ml-1\\\">Item</span>\\r\\n              </th>\\r\\n              <th scope=\\\"col\\\" [ngStyle]=\\\"{ width: columSize('nomeMaterial') }\\\">Material</th>\\r\\n              <th scope=\\\"col\\\" class=\\\"text-center\\\" [ngStyle]=\\\"{ width: columSize('quantidade') }\\\">Qtde.</th>\\r\\n              <th scope=\\\"col\\\" class=\\\"text-center\\\" [ngStyle]=\\\"{ width: columSize('quantidade') }\\\">Peso</th>\\r\\n              <th scope=\\\"col\\\" [ngStyle]=\\\"{ width: columSize('nomeDeposito') }\\\">Depósito</th>\\r\\n              <th scope=\\\"col\\\" [ngStyle]=\\\"{ width: columSize('buttons') }\\\"></th>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n        </custom-table>\\r\\n        <custom-table [config]=\\\"tableBodyConfig\\\" style=\\\"position: relative; top: -2px;\\\">\\r\\n          <div formArrayName=\\\"materiais\\\">\\r\\n            <ng-template #tbody let-tbody>\\r\\n              <tr *ngFor=\\\"let material of materiais.controls; let i = index\\\" [formGroupName]=\\\"i\\\">\\r\\n                <td\\r\\n                  class=\\\"align-middle text-center\\\"\\r\\n                  [ngClass]=\\\"classStatusBorder(form.value.materiais[i])\\\"\\r\\n                  [ngStyle]=\\\"{ width: columSize('index') }\\\">\\r\\n                  {{ i + 1 }}\\r\\n                </td>\\r\\n                <td class=\\\"align-middle text-truncate\\\" [ngStyle]=\\\"{ width: columSize('nomeMaterial') }\\\">\\r\\n                  {{ form.value.materiais[i].codMaterial }} - {{ form.value.materiais[i].nomeMaterial | uppercase }}\\r\\n                </td>\\r\\n                <td class=\\\"align-middle text-center\\\" [ngStyle]=\\\"{ width: columSize('quantidade') }\\\">\\r\\n                  {{ form.value.materiais[i].quantidade }}\\r\\n                </td>\\r\\n                <td class=\\\"align-middle text-center\\\" [ngStyle]=\\\"{ width: columSize('quantidade') }\\\">\\r\\n                  {{ form.value.materiais[i].pesoEspecifico | number:'1.3-3' }} TON\\r\\n                </td>\\r\\n                <td width=\\\"20%\\\" [ngStyle]=\\\"{ width: columSize('nomeDeposito') }\\\">\\r\\n                  <ng-template #tooltipDescontoTemplate>\\r\\n                    <p class=\\\"text-left mb-0\\\"><u>Empresa:</u></p>\\r\\n                    <p class=\\\"text-left text-nowrap mb-0\\\">{{ form.value.materiais[i].nomeEmpresa | uppercase }}</p>\\r\\n                  </ng-template>\\r\\n                  <i class=\\\"far fa-question-circle\\\" [tooltip]=\\\"tooltipDescontoTemplate\\\" container=\\\"body\\\"></i>\\r\\n                  <span class=\\\"ml-1\\\">\\r\\n                    {{ form.value.materiais[i].nomeDeposito | uppercase }}\\r\\n                  </span>\\r\\n                </td>\\r\\n                <td class=\\\"align-middle text-right\\\" [ngStyle]=\\\"{ width: columSize('buttons') }\\\">\\r\\n                  <btn-icon\\r\\n                    icon=\\\"fas fa-th\\\"\\r\\n                    class=\\\"mr-3\\\"\\r\\n                    tooltip=\\\"Materiais associados\\\"\\r\\n                    container=\\\"body\\\"\\r\\n                    (click)=\\\"onAssocMaterial(form.value.materiais[i])\\\"\\r\\n                    *ngIf=\\\"form.value.materiais[i].materialAssociado === 1\\\">\\r\\n                  </btn-icon>\\r\\n                  <btn-icon\\r\\n                    icon=\\\"fas fa-calculator\\\"\\r\\n                    class=\\\"mr-3\\\"\\r\\n                    tooltip=\\\"Calcular quantidades\\\"\\r\\n                    container=\\\"body\\\"\\r\\n                    (click)=\\\"onCalcMaterial(i, form.value.materiais[i]);\\\">\\r\\n                  </btn-icon>\\r\\n                  <btn-icon\\r\\n                    icon=\\\"fas fa-percentage\\\"\\r\\n                    class=\\\"mr-3\\\"\\r\\n                    tooltip=\\\"Aplicar desconto\\\"\\r\\n                    container=\\\"body\\\"\\r\\n                    (click)=\\\"onDescontoMaterial(i, form.value.materiais[i])\\\">\\r\\n                  </btn-icon>\\r\\n                  <btn-icon\\r\\n                    icon=\\\"fas fa-trash\\\"\\r\\n                    class=\\\"mr-3\\\"\\r\\n                    tooltip=\\\"Remover\\\"\\r\\n                    container=\\\"body\\\"\\r\\n                    (click)=\\\"onDeleteMaterial(i, form.value.materiais[i])\\\">\\r\\n                  </btn-icon>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td class=\\\"border-white\\\" [ngStyle]=\\\"{ width: columSize('index') }\\\"></td>\\r\\n                <td [ngStyle]=\\\"{ width: columSize('nomeMaterial') }\\\"></td>\\r\\n                <td class=\\\"text-center\\\" [ngStyle]=\\\"{ width: columSize('quantidade') }\\\">\\r\\n                  {{ total.quantidade }}\\r\\n                </td>\\r\\n                <td class=\\\"text-center\\\" [ngStyle]=\\\"{ width: columSize('pesoEspecifico') }\\\">\\r\\n                  {{ total.pesoEspecifico | number:'1.3-3' }} TON\\r\\n                </td>\\r\\n                <td [ngStyle]=\\\"{ width: columSize('codDeposito') }\\\"></td>\\r\\n                <td [ngStyle]=\\\"{ width: columSize('buttons') }\\\"></td>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n          </div>\\r\\n        </custom-table>\\r\\n      </form>\\r\\n    </div>\\r\\n  </div>\\r\\n  <!-- <div class=\\\"row pt-5\\\">\\r\\n    <div class=\\\"col-lg-3\\\">\\r\\n      <card-counter\\r\\n        icon=\\\"fas fa-industry\\\"\\r\\n        color=\\\"bg-gray\\\"\\r\\n        [counter]=\\\"total.valorIpi\\\"\\r\\n        duration=\\\"2\\\"\\r\\n        text=\\\"Valor total do IPI\\\"\\r\\n        [config]=\\\"cardCounterConfig\\\">\\r\\n      </card-counter>\\r\\n    </div>\\r\\n    <div class=\\\"col-lg-3\\\">\\r\\n      <card-counter\\r\\n        icon=\\\"fas fa-truck-loading\\\"\\r\\n        color=\\\"bg-blue\\\"\\r\\n        [counter]=\\\"total.valorIcms\\\"\\r\\n        duration=\\\"2\\\"\\r\\n        text=\\\"Valor total do ICMS\\\"\\r\\n        [config]=\\\"cardCounterConfig\\\">\\r\\n      </card-counter>\\r\\n    </div>\\r\\n    <div class=\\\"col-lg-3\\\">\\r\\n      <ng-template #tooltipDescontoTemplate>\\r\\n        <p\\r\\n          class=\\\"text-nowrap\\\"\\r\\n          [ngClass]=\\\"{'mb-0': total.valorDescMaterial === 0}\\\"\\r\\n          *ngIf=\\\"total.valorDescCarrinho - total.valorDescMaterial > 0\\\">\\r\\n          <b><u>Carrinho:</u></b> {{ total.valorDescCarrinho - total.valorDescMaterial | currency:'BRL':'symbol':'1.2-2' }}\\r\\n        </p>\\r\\n        <p class=\\\"text-nowrap mb-0\\\" *ngIf=\\\"total.valorDescMaterial > 0\\\">\\r\\n          <b><u>Material:</u></b> {{ total.valorDescMaterial | currency:'BRL':'symbol':'1.2-2' }}\\r\\n        </p>\\r\\n      </ng-template>\\r\\n      <card-counter\\r\\n        icon=\\\"fas fa-percentage\\\"\\r\\n        color=\\\"bg-red\\\"\\r\\n        [counter]=\\\"total.valorDescCarrinho\\\"\\r\\n        duration=\\\"2\\\"\\r\\n        text=\\\"Valor total do desconto\\\"\\r\\n        [config]=\\\"cardCounterConfig\\\"\\r\\n        [isDisabled]=\\\"total.valorDescCarrinho === 0\\\"\\r\\n        [tooltip]=\\\"tooltipDescontoTemplate\\\"\\r\\n        container=\\\"body\\\">\\r\\n      </card-counter>\\r\\n    </div>\\r\\n    <div class=\\\"col-lg-3\\\">\\r\\n      <card-counter\\r\\n        icon=\\\"fas fa-dollar-sign\\\"\\r\\n        color=\\\"bg-green\\\"\\r\\n        [counter]=\\\"total.valorProposta\\\"\\r\\n        duration=\\\"2\\\"\\r\\n        text=\\\"Valor final da proposta\\\"\\r\\n        [config]=\\\"cardCounterConfig\\\">\\r\\n      </card-counter>\\r\\n    </div>\\r\\n  </div> -->\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col\\\">\\r\\n      <hr class=\\\"my-5\\\">\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";","import { ComercialCicloVendasPedidosProducaoTelasService } from './../../../pedidos-producao-telas.service';\r\nimport { Injectable, EventEmitter } from '@angular/core';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { Location } from '@angular/common';\r\n\r\n// ngx-bootstrap\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\n\r\n// Components\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPadraoComponent } from './padrao/padrao.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPerdidaComponent } from './perdida/perdida.component';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\n\r\n// Interfaces\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoService {\r\n  loaderNavbar: EventEmitter<boolean> = new EventEmitter();\r\n\r\n  action: string;\r\n\r\n  constructor(\r\n    private modalService: BsModalService,\r\n    private pnotifyService: PNotifyService,\r\n    private cotacoesService: ComercialCicloVendasPedidosProducaoTelasService\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  sendCotacao(dataCotacao: any): void {\r\n    this.loaderNavbar.emit(true);\r\n\r\n    if (this.action === 'update') {\r\n    }\r\n\r\n\r\n    this.cotacoesService\r\n      .postCotacao(dataCotacao)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar.emit(false);\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.success === true) {\r\n            dataCotacao.carrinho = [];\r\n            dataCotacao.carrinho = response.data;\r\n\r\n            if (dataCotacao.situacao.codTipoFinalizacao === 1) {\r\n              this.showModal(\r\n                ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPerdidaComponent,\r\n                dataCotacao\r\n              );\r\n            } else {\r\n              this.showModal(\r\n                ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPadraoComponent,\r\n                dataCotacao\r\n              );\r\n            }\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.pnotifyService.error();\r\n        }\r\n      });\r\n  }\r\n\r\n  showModal(component: any, dataCotacao: Object): void {\r\n    const modalConfig = {\r\n      animated: false,\r\n      class: 'modal-xl',\r\n      keyboard: false,\r\n      ignoreBackdropClick: true,\r\n    };\r\n\r\n    const initialState = {\r\n      dataCotacao: dataCotacao,\r\n    };\r\n\r\n    this.modalService.show(\r\n      component,\r\n      Object.assign({}, modalConfig, {\r\n        initialState,\r\n      })\r\n    );\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  ViewChild,\r\n  ElementRef,\r\n  TemplateRef,\r\n  OnDestroy,\r\n} from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\nimport {\r\n  FormBuilder,\r\n  FormGroup,\r\n  Validators,\r\n  AbstractControl,\r\n} from '@angular/forms';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\n// ngx-bootstrap\r\nimport { PageChangedEvent } from 'ngx-bootstrap/pagination';\r\nimport { BsLocaleService, BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\r\nimport { defineLocale } from 'ngx-bootstrap/chronos';\r\nimport { ptBrLocale } from 'ngx-bootstrap/locale';\r\n\r\n\r\ndefineLocale('pt-br', ptBrLocale);\r\n\r\n// Services\r\nimport { AuthService } from 'src/app/shared/services/core/auth.service';\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\nimport { TitleService } from 'src/app/shared/services/core/title.service';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasService } from '../pedidos-producao-telas.service';\r\nimport { DetailPanelService } from 'src/app/shared/templates/detail-panel/detal-panel.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioService } from './../formulario/formulario.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasListaService } from './lista.service';\r\nimport { ConfirmModalService } from 'src/app/shared/modules/confirm-modal/confirm-modal.service';\r\n\r\n// Interfaces\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\nimport { Subtitles } from 'src/app/shared/modules/subtitles/subtitles';\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\nimport { IAssociacao } from '../../../cadastros/propostas/associacao-situacoes-proposta/models/associacao-situacoes-proposta';\r\nimport { IComercialCicloVendasPedidosProducaoTelas } from './models/pedidos-producao-telas';\r\n\r\n@Component({\r\n  selector: 'comercial-ciclo-vendas-pedidos-producao-telas-lista',\r\n  templateUrl: './lista.component.html',\r\n  styleUrls: ['./lista.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasListaComponent\r\n  implements OnInit {\r\n  user = this.authService.getCurrentUser();\r\n\r\n  @ViewChild('scrollToFilter', {}) scrollToFilter: ElementRef;\r\n  @ViewChild('scrollToDetails', {}) scrollToDetails: ElementRef;\r\n\r\n  loaderNavbar: boolean;\r\n  loaderFullScreen = true;\r\n\r\n  loaderConsultaLiberacaoSubscription: Subscription;\r\n  loaderEmailCotacaoSubscription: Subscription;\r\n\r\n  pedidoDuplicadaSubscription: Subscription;\r\n  pedidoDesdobradaSubscription: Subscription;\r\n\r\n  breadCrumbTree: Array<Breadcrumb> = [];\r\n\r\n  formProducao: FormGroup;\r\n  formExpedicao: FormGroup;\r\n\r\n  producao: Array<any> = [];\r\n  expedicao: Array<any> = [];\r\n\r\n  subtitles: Array<Subtitles> = [\r\n    {\r\n      id: 1,\r\n      text: 'EM ABERTO',\r\n      color: 'green',\r\n    },\r\n    {\r\n      id: 2,\r\n      text: 'PRODUÇÃO',\r\n      color: 'blue',\r\n    },\r\n    {\r\n      id: 3,\r\n      text: 'EXPEDIÇÃO',\r\n      color: 'yellow',\r\n    },\r\n    {\r\n      id: 4,\r\n      text: 'CANCELADO',\r\n      color: 'red',\r\n    },\r\n  ];\r\n\r\n  modalRef: BsModalRef;\r\n\r\n  tableConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: true,\r\n  };\r\n\r\n  activatedRouteSubscription: Subscription;\r\n\r\n  showDetailPanelSubscription: Subscription;\r\n  showDetailPanel = false;\r\n  detailPanelTitle: string;\r\n\r\n  bsConfig: Partial<BsDatepickerConfig>;\r\n\r\n  form: FormGroup;\r\n  orderBy = 'nrProposta';\r\n  orderType = 'DESC';\r\n\r\n  filteredDepositos: Array<any> = [];\r\n  situacoesCores: Array<IAssociacao> = [];\r\n\r\n  dados: IComercialCicloVendasPedidosProducaoTelas[] = [];\r\n  dadosLoaded = false;\r\n  dadosEmpty = false;\r\n\r\n  comentario: boolean = false;\r\n  localizacao: boolean = false;\r\n\r\n  detalhes: Array<any>[] = [];\r\n  detalhesCarrinho: Array<any>[] = [];\r\n\r\n  // detalhes = {\r\n  //   contatos: [],\r\n  //   itens: {\r\n  //     materiais: [],\r\n  //     total: {},\r\n  //   },\r\n  // };\r\n\r\n  // Tipos de Situação dos Pedidos (Ativo/Inativo)\r\n  tipos = [\r\n    {\r\n      cod: 0,\r\n      nome: 'EXIBIR TODOS',\r\n    },\r\n    {\r\n      cod: 1,\r\n      nome: 'EM ABERTO',\r\n    },\r\n    {\r\n      cod: 2,\r\n      nome: 'PRODUÇÃO',\r\n    },\r\n    {\r\n      cod: 3,\r\n      nome: 'EXPEDIÇÃO',\r\n    },\r\n    {\r\n      cod: 4,\r\n      nome: 'CANCELADO',\r\n    },\r\n  ];\r\n\r\n  contatosLoaded = false;\r\n  contatosEmpty = false;\r\n  pedidoSelected: any = {};\r\n  itensLoaded = false;\r\n  itensEmpty = false;\r\n\r\n  activeRow: number;\r\n  activePedido: IComercialCicloVendasPedidosProducaoTelas;\r\n\r\n  maxSize = 10;\r\n  itemsPerPage = 100;\r\n  currentPage = 1;\r\n  totalItems = 0;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private location: Location,\r\n    private localeService: BsLocaleService,\r\n    private formBuilder: FormBuilder,\r\n    private authService: AuthService,\r\n    private pnotifyService: PNotifyService,\r\n    private dateService: DateService,\r\n    private titleService: TitleService,\r\n    private atividadesService: AtividadesService,\r\n    private pedidosProducaoTelasService: ComercialCicloVendasPedidosProducaoTelasService,\r\n    private listaService: ComercialCicloVendasPedidosProducaoTelasListaService,\r\n    private detailPanelService: DetailPanelService,\r\n    private pedidosProducaoTelas: ComercialCicloVendasPedidosProducaoTelasFormularioService,\r\n    private bsModalService: BsModalService\r\n\r\n  ) {\r\n    this.localeService.use('pt-br');\r\n    this.bsConfig = Object.assign(\r\n      {},\r\n      { containerClass: 'theme-dark-blue' },\r\n      { adaptivePosition: true },\r\n      { showWeekNumbers: false }\r\n    );\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.registrarAcesso();\r\n    this.setBreadCrumb();\r\n    this.getFilterValues();\r\n    this.setFormFilter();\r\n    this.titleService.setTitle('Cotizaciones y pedidos');\r\n    this.onDetailPanelEmitter();\r\n    // this.setFormProducao();\r\n    // this.setFormExpedicao();\r\n  }\r\n\r\n  // ngOnDestroy(): void {\r\n  //   this.unsetLoaderEvents();\r\n  //   this.unsetChangeEvents();\r\n  //   this.showDetailPanelSubscription.unsubscribe();\r\n  // }\r\n\r\n  registrarAcesso(): void {\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n  }\r\n\r\n  setBreadCrumb() {\r\n    const id = this.activatedRoute.snapshot.params.idSubModulo;\r\n    this.breadCrumbTree = [\r\n      {\r\n        descricao: 'Home',\r\n        routerLink: `/comercial/home`,\r\n      },\r\n      {\r\n        descricao: 'Ciclo de ventas',\r\n        routerLink: `/comercial/ciclo-vendas`,\r\n      },\r\n      {\r\n        descricao: 'Pedidos Produção de Telas',\r\n      },\r\n    ];\r\n  }\r\n\r\n\r\n\r\n\r\n  unsetLoaderEvents(): void {\r\n    this.loaderConsultaLiberacaoSubscription.unsubscribe();\r\n    this.loaderEmailCotacaoSubscription.unsubscribe();\r\n  }\r\n\r\n  unsetChangeEvents(): void {\r\n    this.pedidoDuplicadaSubscription.unsubscribe();\r\n    this.pedidoDesdobradaSubscription.unsubscribe();\r\n  }\r\n\r\n  onDetailPanelEmitter(): void {\r\n    this.showDetailPanelSubscription = this.detailPanelService.config.subscribe(\r\n      (event: any) => {\r\n        this.showDetailPanel = event.showing;\r\n\r\n        if (this.showDetailPanel === false) {\r\n          this.onCloseDetailPanel();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  getFilterValues(): void {\r\n    this.listaService\r\n      .loadDependencies()\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderFullScreen = false;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: any[] | JsonResponse[]) => {\r\n          this.situacoesCores = response[0].data || [];\r\n        },\r\n        error: (error: any) => {\r\n          this.pnotifyService.error('Ocorreu um erro ao carregar filtros.');\r\n          this.location.back();\r\n        }\r\n      });\r\n  }\r\n\r\n\r\n  setFormFilter(): void {\r\n    const formValue: any = this.checkRouterParams();\r\n\r\n    this.form = this.formBuilder.group({\r\n      tipoData: [formValue.tipoData],\r\n      dataInicial: [formValue.dataInicial],\r\n      dataFinal: [formValue.dataFinal],\r\n      dataLancamento: [formValue.dataLancamento],\r\n      dataEntrega: [formValue.dataEntrega],\r\n      nrProposta: [formValue.nrProposta],\r\n      codPrioridade: [formValue.codPrioridade],\r\n      codSituacao: [formValue.codSituacao],\r\n      cliente: [formValue.cliente],\r\n      usuarioLancamento: [formValue.usuarioLancamento],\r\n      codVendedor: [formValue.codVendedor, [Validators.required]],\r\n      pagina: [formValue.pagina],\r\n      registros: [this.itemsPerPage, Validators.required],\r\n    });\r\n  }\r\n\r\n  checkRouterParams(): Object {\r\n    let formValue = {\r\n      tipoData: 1,\r\n      dataInicial: this.dateService.getFirstDayMonth(),\r\n      dataFinal: this.dateService.getLastDayMonth(),\r\n      nrProposta: null,\r\n      codDeposito: null,\r\n      codSituacao: 0,\r\n      cliente: null,\r\n      codVendedor: 0,\r\n      pagina: 1,\r\n      registros: this.itemsPerPage,\r\n    };\r\n\r\n    this.activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      (queryParams: any) => {\r\n        if (Object.keys(queryParams).length > 0) {\r\n          let params = atob(queryParams.q);\r\n          params = JSON.parse(params);\r\n          this.search(params);\r\n\r\n          if (params['pagina']) {\r\n            this.currentPage = params['pagina'];\r\n          }\r\n\r\n          Object.keys(formValue).forEach((formKey) => {\r\n            Object.keys(params).forEach((paramKey) => {\r\n              if (\r\n                formKey == paramKey &&\r\n                formValue[formKey] != params[paramKey]\r\n              ) {\r\n                if (formKey === 'dataInicial' || formKey === 'dataFinal') {\r\n                  formValue[formKey] = this.dateService.convertStringToDate(\r\n                    params[paramKey],\r\n                    'pt-br'\r\n                  );\r\n                } else {\r\n                  if (!isNaN(Number(params[paramKey]))) {\r\n                    formValue[formKey] = Number(params[paramKey]);\r\n                  } else {\r\n                    formValue[formKey] = params[paramKey];\r\n                  }\r\n                }\r\n              }\r\n            });\r\n          });\r\n        }\r\n      }\r\n    );\r\n    this.activatedRouteSubscription.unsubscribe();\r\n\r\n    return formValue;\r\n  }\r\n\r\n\r\n\r\n  setOrderBy(column: string) {\r\n    if (this.orderBy === column) {\r\n      if (this.orderType == 'DESC') {\r\n        this.orderType = 'ASC';\r\n      } else if (this.orderType == 'ASC') {\r\n        this.orderType = 'DESC';\r\n      }\r\n    } else {\r\n      this.orderBy = column;\r\n      this.orderType = 'DESC';\r\n    }\r\n    this.onFilter();\r\n  }\r\n\r\n  onFilter(): void {\r\n    if (this.form.valid) {\r\n      this.itemsPerPage = this.form.value.registros;\r\n      this.currentPage = 1;\r\n\r\n      this.detailPanelService.hide();\r\n\r\n      this.setRouterParams(this.getFormFilterValues());\r\n    }\r\n  }\r\n\r\n  setRouterParams(params: any): void {\r\n    this.router.navigate([], {\r\n      relativeTo: this.activatedRoute,\r\n      queryParams: { q: btoa(JSON.stringify(params)) },\r\n    });\r\n    this.search(params);\r\n  }\r\n\r\n  getFormFilterValues(): Object {\r\n    let params: any = {};\r\n\r\n    if (this.form.value.tipoData) {\r\n      params.tipoData = this.form.value.tipoData;\r\n    }\r\n\r\n    if (this.form.value.dataInicial) {\r\n      params.dataInicial = this.dateService.convertToUrlDate(\r\n        new Date(this.form.value.dataInicial)\r\n      );\r\n    }\r\n\r\n    if (this.form.value.dataFinal) {\r\n      params.dataFinal = this.dateService.convertToUrlDate(\r\n        new Date(this.form.value.dataFinal)\r\n      );\r\n    }\r\n\r\n\r\n    if (this.form.value.codSituacao) {\r\n      params.codSituacao = this.form.value.codSituacao;\r\n    }\r\n\r\n    if (this.form.value.nrProposta) {\r\n      params.nrProposta = this.form.value.nrProposta;\r\n    }\r\n\r\n    if (this.form.value.codPrioridade) {\r\n      params.codPrioridade = this.form.value.codPrioridade;\r\n    }\r\n\r\n    if (this.form.value.cliente) {\r\n      params.cliente = this.form.value.cliente;\r\n    }\r\n\r\n\r\n    if (this.form.value.usuarioLancamento) {\r\n      params.usuarioLancamento = this.form.value.usuarioLancamento;\r\n    }\r\n\r\n    if (this.form.value.codVendedor) {\r\n      params.codVendedor = this.form.value.codVendedor;\r\n    }\r\n\r\n    if (this.form.value.pagina) {\r\n      params.pagina = this.form.value.pagina;\r\n    }\r\n\r\n    if (this.form.value.registros) {\r\n      params.registros = this.form.value.registros;\r\n    }\r\n\r\n    params.orderBy = this.orderBy;\r\n    params.orderType = this.orderType;\r\n\r\n    return params;\r\n  }\r\n\r\n  search(params: any): void {\r\n    this.loaderNavbar = true;\r\n    this.dados = [];\r\n    this.dadosLoaded = false;\r\n    this.dadosEmpty = false;\r\n\r\n    this.pedidosProducaoTelasService\r\n      .getPedidosProducaoTelas(params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n          this.dadosLoaded = true;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.hasOwnProperty('success') && response.success === true) {\r\n            this.dados = response.data;\r\n            this.loaderNavbar = false;\r\n            this.totalItems = this.dados[0].qtdeRegistros;\r\n          } else if (\r\n            response.hasOwnProperty('success') &&\r\n            response.success === false &&\r\n            response.hasOwnProperty('mensagem') &&\r\n            response.mensagem.length > 0 &&\r\n            response.mensagem !== null\r\n          ) {\r\n            this.pnotifyService.error(response.mensagem);\r\n            this.dadosEmpty = true;\r\n          } else {\r\n            this.pnotifyService.error();\r\n            this.dadosEmpty = true;\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          if (error.error.hasOwnProperty('mensagem')) {\r\n            this.pnotifyService.error(error.error.mensagem);\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  onPageChanged(event: PageChangedEvent) {\r\n    if (this.form.value.pagina != event.page) {\r\n      this.form.controls.pagina.setValue(event.page);\r\n\r\n      this.onCloseDetailPanel();\r\n      this.setRouterParams(this.getFormFilterValues());\r\n\r\n      this.scrollToFilter.nativeElement.scrollIntoView({\r\n        behavior: 'instant',\r\n      });\r\n    }\r\n  }\r\n\r\n  styleStatusBorder(pedido: IComercialCicloVendasPedidosProducaoTelas): string {\r\n    let borderClass: string;\r\n\r\n    if (pedido.codSituacao == 1) {\r\n      borderClass = 'border-success';\r\n    } else if (pedido.codSituacao == 2) {\r\n      borderClass = 'border-primary';\r\n    } else if (pedido.codSituacao == 3) {\r\n      borderClass = 'border-warning';\r\n    } else if (pedido.codSituacao == 4) {\r\n      borderClass = 'border-danger';\r\n    }\r\n\r\n    return borderClass;\r\n  }\r\n\r\n  viewRegister(index: number, pedido: IComercialCicloVendasPedidosProducaoTelas): void {\r\n    this.loaderNavbar = true;\r\n\r\n    console.log('pedido')\r\n    console.log(pedido)\r\n\r\n    this.detailPanelService.show();\r\n    this.detailPanelTitle = `#${\r\n      pedido.nrPedido\r\n    } / ${pedido.razaoSocial.toUpperCase()}`;\r\n    this.showDetailPanel = true;\r\n\r\n    this.setActiveRow(index);\r\n    this.setactivePedido(pedido);\r\n    // this.resetRegister();\r\n\r\n    this.pedidosProducaoTelasService\r\n      .getDetailPanel(\r\n        pedido.nrPedido\r\n      )\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n          this.contatosLoaded = true;\r\n          this.itensLoaded = true;\r\n          this.itensEmpty = false;\r\n\r\n          this.scrollToDetails.nativeElement.scrollIntoView({\r\n            behavior: 'instant',\r\n          });\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: any) => {\r\n          if (response.success === true) {\r\n            this.detailPanelService.loadedFinished(false);\r\n            console.log(response);\r\n            console.log(response.data);\r\n            console.log(response.data.carrinho);\r\n            this.detalhes = response.data;\r\n            this.loaderNavbar = false;\r\n            this.itensLoaded = true;\r\n          } else {\r\n            this.contatosEmpty = true;\r\n            this.itensEmpty = true;\r\n            this.itensLoaded = false;\r\n\r\n            this.detailPanelService.loadedFinished(true);\r\n            this.pnotifyService.error();\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.detailPanelService.loadedFinished(true);\r\n\r\n          if (error.error.hasOwnProperty('mensagem')) {\r\n            this.pnotifyService.error(error.error.mensagem);\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        }\r\n      });\r\n\r\n      this.pedidosProducaoTelasService\r\n      .getDetalhesPedidos(\r\n        pedido.nrPedido\r\n      )\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar = false;\r\n          this.contatosLoaded = true;\r\n          this.itensLoaded = true;\r\n          this.itensEmpty = false;\r\n\r\n          this.scrollToDetails.nativeElement.scrollIntoView({\r\n            behavior: 'instant',\r\n          });\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: any) => {\r\n          if (response.success === true) {\r\n            this.detailPanelService.loadedFinished(false);\r\n            console.log(response.data);\r\n            this.detalhesCarrinho = response.data.carrinho;\r\n            this.loaderNavbar = false;\r\n            this.itensLoaded = true;\r\n          } else {\r\n            this.contatosEmpty = true;\r\n            this.itensEmpty = true;\r\n            this.itensLoaded = false;\r\n\r\n            this.detailPanelService.loadedFinished(true);\r\n            this.pnotifyService.error();\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.detailPanelService.loadedFinished(true);\r\n\r\n          if (error.error.hasOwnProperty('mensagem')) {\r\n            this.pnotifyService.error(error.error.mensagem);\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n\r\n  viewContato(contato: any): void {\r\n    this.pedidoSelected = contato;\r\n  }\r\n\r\n  onCloseDetailPanel(): void {\r\n    this.resetactivePedido();\r\n    this.resetActiveRow();\r\n    // this.resetRegister();\r\n  }\r\n\r\n  setactivePedido(pedido: IComercialCicloVendasPedidosProducaoTelas): void {\r\n    this.activePedido = pedido;\r\n  }\r\n\r\n  resetactivePedido(): void {\r\n    this.activePedido = null;\r\n  }\r\n\r\n  setActiveRow(index: number): void {\r\n    this.activeRow = index;\r\n  }\r\n\r\n  resetActiveRow(): void {\r\n    this.activeRow = null;\r\n  }\r\n\r\n  onSubtitleActivationChange(event: any): void {\r\n    console.log(event);\r\n  }\r\n\r\n  showLoaderNavbar(event: boolean) {\r\n    this.loaderNavbar = event;\r\n  }\r\n\r\n\r\n  // onChangeClienteCotacao(data: [any, IComercialCicloVendasPedidosProducaoTelas]): void {\r\n  //   const selectedCliente = data[0];\r\n  //   const updatedCotacao: IComercialCicloVendasPedidosProducaoTelas = data[1];\r\n\r\n  //   this.dados.map((pedido: IComercialCicloVendasPedidosProducaoTelas) => {\r\n  //     if (updatedCotacao.nrProposta === pedido.nrProposta) {\r\n  //       pedido.codCliente = selectedCliente.codCliente;\r\n  //       pedido.razaoSocial = selectedCliente.razaoSocial;\r\n  //     }\r\n  //   });\r\n\r\n  //   this.detailPanelTitle = `#${\r\n  //     updatedCotacao.nrProposta\r\n  //   } / ${selectedCliente.razaoSocial.toUpperCase()}`;\r\n  // }\r\n\r\n\r\n  onPropostaDuplicada(data: [number, number, IComercialCicloVendasPedidosProducaoTelas]): void {\r\n    const nrProposta = data[0];\r\n    const codVendedor = data[1];\r\n    const pedido = data[2];\r\n\r\n    this.form.controls.nrProposta.setValue(nrProposta);\r\n    this.form.controls.codEmpresa.setValue(pedido.codEmpresa);\r\n    this.form.controls.codVendedor.setValue(codVendedor);\r\n    this.onFilter();\r\n  }\r\n\r\n\r\n  onPropostaDesdobrada(data: [number, IComercialCicloVendasPedidosProducaoTelas, []]): void {\r\n    const nrProposta = data[0];\r\n    const pedido = data[1];\r\n    const materiais = data[2];\r\n\r\n    this.form.controls.nrProposta.setValue(nrProposta);\r\n    this.form.controls.codEmpresa.setValue(pedido.codEmpresa);\r\n    this.onFilter();\r\n\r\n    /* if (materiais.length > 0) {\r\n      this.itensLoaded = false;\r\n\r\n      const filteredMateriais = this.detalhes.itens['materiais'].filter(\r\n        (_material: any) =>\r\n          !materiais.some(\r\n            (material: any) => material.codigo === _material.codigo\r\n          )\r\n      );\r\n\r\n      let total = {\r\n        quantidade: 0,\r\n        valor: 0,\r\n      };\r\n\r\n      filteredMateriais.map((material: any) => {\r\n        total.quantidade += material.quantidade;\r\n        total.valor += material.valorTotal;\r\n      });\r\n\r\n      this.detalhes.itens = {\r\n        materiais: filteredMateriais,\r\n        total: total,\r\n      };\r\n\r\n      setTimeout(() => {\r\n        this.itensLoaded = true;\r\n      }, 1000);\r\n    } */\r\n  }\r\n\r\n\r\n  onChangeEmpresaCotacao(data: [number, number, number]): void {\r\n    const selectedEmpresa = data[0];\r\n    const selectedDeposito = data[1];\r\n    const nrProposta = data[2];\r\n\r\n    this.form.controls.nrProposta.setValue(nrProposta);\r\n    this.form.controls.codEmpresa.setValue(selectedEmpresa);\r\n    this.form.controls.codDeposito.setValue(selectedDeposito);\r\n    this.onFilter();\r\n  }\r\n\r\n  // onImprimir(): void {\r\n  //   this.loaderNavbar = true;\r\n\r\n  //   this.pedidosProducaoTelasService\r\n  //     .getImprimirCotacao(this.activePedido.nrProposta)\r\n  //     .pipe(\r\n  //       finalize(() => {\r\n  //         this.loaderNavbar = false;\r\n  //       })\r\n  //     )\r\n  //     .subscribe(\r\n  //       (response: JsonResponse) => {\r\n  //         if (response.hasOwnProperty('success') && response.success === true) {\r\n  //           this.pnotifyService.success();\r\n  //         } else {\r\n  //           this.pnotifyService.error();\r\n  //         }\r\n  //       },\r\n  //       (error: any) => {\r\n  //         if (error.error.hasOwnProperty('mensagem')) {\r\n  //           this.pnotifyService.error(error.error.mensagem);\r\n  //         } else {\r\n  //           this.pnotifyService.error();\r\n  //         }\r\n  //       }\r\n  //     );\r\n  // }\r\n\r\n\r\n  onAdd(): void {\r\n    console.log()\r\n    this.router.navigate(['../novo'], {\r\n      relativeTo: this.activatedRoute,\r\n    });\r\n  }\r\n\r\n  onEdit(item: any): void {\r\n    this.router.navigate(['../editar', item.nrPedido], {\r\n\r\n      relativeTo: this.activatedRoute,\r\n\r\n    });\r\n  }\r\n\r\n   // formProducao\r\n  setFormProducao(item?): void {\r\n    this.formProducao = this.formBuilder.group({\r\n      nrPedido: [item.nrPedido],\r\n      observacao: [item.descComentarioProducao]\r\n    });\r\n\r\n    this.comentario = false;\r\n\r\n    if (item.descComentarioProducao != '') {\r\n      this.comentario = true;\r\n    }\r\n  }\r\n\r\n  onChangeProducao(){\r\n    console.log(this.formProducao.getRawValue());\r\n    this.pedidosProducaoTelas\r\n    .postProducao(this.formProducao.getRawValue())\r\n    .pipe(\r\n      finalize(() => {\r\n        this.loaderNavbar = false;\r\n      })\r\n    )\r\n    .subscribe({\r\n      next: (response: JsonResponse) => {\r\n        console.log(response)\r\n        if (response.hasOwnProperty('success') && response.success === true) {\r\n          this.producao = response.data;\r\n          this.pnotifyService.success();\r\n          this.onFilter();\r\n        } else {\r\n          this.pnotifyService.error();\r\n        }\r\n      },\r\n      error: (error: any) => {\r\n        if (error.error.hasOwnProperty('mensagem')) {\r\n          this.pnotifyService.error(error.error.mensagem);\r\n        } else {\r\n          this.pnotifyService.error();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n    // formExpedicao\r\n  setFormExpedicao(item?): void {\r\n    this.formExpedicao = this.formBuilder.group({\r\n      nrPedido: [item.nrPedido],\r\n      codLocalizacao: [item.codLocalizacaoExpedicao]\r\n    });\r\n\r\n    this.localizacao = false;\r\n    if (item.codLocalizacaoExpedicao != null) {\r\n     this.localizacaoDisable();\r\n     this.localizacao = true;\r\n    }\r\n\r\n  }\r\n\r\n  localizacaoDisable() {\r\n    this.formExpedicao.get('codLocalizacao').disable();\r\n  }\r\n\r\n  onChangeExpedicao(){\r\n    console.log(this.formExpedicao.getRawValue());\r\n    this.pedidosProducaoTelas\r\n    .postExpedicao(this.formExpedicao.getRawValue())\r\n    .pipe(\r\n      finalize(() => {\r\n        this.loaderNavbar = false;\r\n      })\r\n    )\r\n    .subscribe({\r\n      next: (response: JsonResponse) => {\r\n        if (response.hasOwnProperty('success') && response.success === true) {\r\n          this.pnotifyService.success();\r\n          this.onFilter();\r\n        } else {\r\n          this.pnotifyService.error();\r\n        }\r\n      },\r\n      error: (error: any) => {\r\n        if (error.error.hasOwnProperty('mensagem')) {\r\n          this.pnotifyService.error(error.error.mensagem);\r\n        } else {\r\n          this.pnotifyService.error();\r\n        }\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  // modal\r\n  openModalProducao(producao: TemplateRef<any>) {\r\n  this.modalRef = this.bsModalService.show(producao);\r\n  }\r\n\r\n  openModalExpedicao(expedicao: TemplateRef<any>) {\r\n  this.modalRef = this.bsModalService.show(expedicao);\r\n  }\r\n\r\n  closeModal(modalRef: TemplateRef<any>) {\r\n    this.modalRef.hide();\r\n  }\r\n\r\n  onFieldError(field: string): string {\r\n    if (this.onFieldInvalid(field) != '') {\r\n      return 'is-invalid';\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any): string {\r\n    field = this.form.get(field);\r\n\r\n    if (field.errors != null) {\r\n      if (field.errors.hasOwnProperty('required') && field.touched) {\r\n        return 'required';\r\n      }\r\n\r\n      if (field.errors.hasOwnProperty('maxDate') && field.touched) {\r\n        return 'maxDate';\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onFieldRequired(\r\n    abstractControl: AbstractControl,\r\n    abstractControlField?: string\r\n  ): string {\r\n    if (abstractControl.validator) {\r\n      const validator = abstractControl.validator({} as AbstractControl);\r\n      if (validator && validator.required) {\r\n        return 'is-required';\r\n      }\r\n    }\r\n\r\n    if (abstractControlField) {\r\n      for (const controlName in abstractControl['controls']) {\r\n        if (abstractControl['controls'][controlName]) {\r\n          if (\r\n            this.onFieldRequired(abstractControl['controls'][controlName]) &&\r\n            controlName == abstractControlField\r\n          ) {\r\n            return 'is-required';\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2Zvcm11bGFyaW8vbW9kYWwvaGlzdG9yaWNvLWV4Y2x1c2FvL2hpc3Rvcmljby1leGNsdXNhby5jb21wb25lbnQuc2NzcyJ9 */\";","import { ComercialCicloVendasPedidosProducaoTelasService } from './../../../../pedidos-producao-telas.service';\r\nimport { ICarrinhoModel } from './../../../../../cotacoes/formulario/models/carrinho';\r\nimport { Injectable, EventEmitter } from '@angular/core';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n\r\n// ngx-bootstrap\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\n\r\n// Components\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoComponent } from './calculo.component';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoService {\r\n  loaderNavbar: EventEmitter<boolean> = new EventEmitter();\r\n\r\n  constructor(\r\n    private modalService: BsModalService,\r\n    private pnotifyService: PNotifyService,\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  showModal(index: number, material: ICarrinhoModel, codCliente: number): void {\r\n    this.loaderNavbar.emit(false);\r\n\r\n    const modalConfig = {\r\n        animated: false,\r\n        class: 'modal-lg',\r\n        ignoreBackdropClick: true,\r\n        keyboard: false,\r\n      };\r\n\r\n    const initialState = {\r\n      index: index,\r\n      material: material,\r\n      codCliente: codCliente,\r\n    };\r\n\r\n    this.modalService.show(\r\n      ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoComponent,\r\n      Object.assign({}, modalConfig, {\r\n        initialState,\r\n      })\r\n      )\r\n  }\r\n\r\n}\r\n","export default \"<div class=\\\"modal-content\\\" *ngIf=\\\"dataCotacao\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"mtc-title mb-0 my-auto\\\">COTAÇÃO #{{ dataCotacao.codCotacao }} / REALIZADA COM SUCESSO</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"onClose()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body py-5\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <div class=\\\"mtc-title\\\">Resumo do pedido</div>\\r\\n        <custom-table [config]=\\\"tableConfig\\\">\\r\\n          <ng-template #thead let-thead>\\r\\n            <tr>\\r\\n              <th scope=\\\"col\\\" width=\\\"10%\\\" class=\\\"text-center\\\">Código</th>\\r\\n              <th scope=\\\"col\\\" width=\\\"34%\\\">Descrição</th>\\r\\n              <th scope=\\\"col\\\" width=\\\"12%\\\" class=\\\"text-center\\\">Ton</th>\\r\\n              <th scope=\\\"col\\\" width=\\\"12%\\\" class=\\\"text-center\\\">Unit.</th>\\r\\n              <th scope=\\\"col\\\" width=\\\"12%\\\" class=\\\"text-center\\\">R$</th>\\r\\n              <th scope=\\\"col\\\" width=\\\"20%\\\">Depósito</th>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n          <ng-template #tbody let-tbody>\\r\\n            <tr *ngFor=\\\"let material of dataCotacao.carrinho; let i = index\\\">\\r\\n              <td width=\\\"10%\\\" class=\\\"text-center\\\">{{ material.codMaterial }}</td>\\r\\n              <td width=\\\"34%\\\" class=\\\"text-truncate\\\">{{ material.nomeMaterial | uppercase }}</td>\\r\\n              <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ material.quantidade | number:'1.3-3' }}</td>\\r\\n              <td width=\\\"12%\\\" class=\\\"text-center\\\">\\r\\n                <span class=\\\"mr-2\\\">{{ material.valorUnit | currency:'BRL':symbol:'1.2-2' }}</span>\\r\\n                <i\\r\\n                  *ngIf=\\\"material.variacaoPreco !== 0\\\"\\r\\n                  [ngClass]=\\\"classVariacaoPreco(material.variacaoPreco)\\\"\\r\\n                  [tooltip]=\\\"formatVariacaoPreco(material.variacaoPreco)\\\">\\r\\n                </i>\\r\\n              </td>\\r\\n              <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ material.valorTotal | currency:'BRL':symbol:'1.2-2' }}</td>\\r\\n              <td width=\\\"20%\\\" class=\\\"text-truncate\\\">{{ material.nomeDeposito | uppercase }}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td width=\\\"10%\\\"></td>\\r\\n              <td width=\\\"34%\\\" class=\\\"text-right\\\">TOTAL</td>\\r\\n              <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ calcularTotais('quantidade') | number:'1.3-3' }} TON</td>\\r\\n              <td width=\\\"12%\\\" class=\\\"text-center\\\"></td>\\r\\n              <td width=\\\"12%\\\" class=\\\"text-center\\\">{{ calcularTotais('valor') | currency:'BRL':'symbol':'1.2-2' }}</td>\\r\\n              <td width=\\\"20%\\\"></td>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n        </custom-table>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row py-5\\\">\\r\\n      <div class=\\\"col-8 d-flex\\\">\\r\\n        <div class=\\\"my-auto\\\">\\r\\n          <span class=\\\"mtc-title mb-0 mr-2\\\">Cotação realizada para:</span>\\r\\n          <span>{{ dataCotacao.razaoSocial | uppercase }}</span>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"col-3\\\" *ngIf=\\\"user.idVendedor !== null\\\">\\r\\n        <div class=\\\"border rounded bg-light text-center py-3 px-2\\\">\\r\\n          <div class=\\\"mb-2\\\">Comissão aproximada</div>\\r\\n          <h6 class=\\\"mb-0\\\">\\r\\n            <span *ngIf=\\\"!comissaoLoaded\\\" class=\\\"spinner-border spinner-border-sm text-dark\\\"></span>\\r\\n            <span\\r\\n              counto\\r\\n              [step]=\\\"30\\\"\\r\\n              [countTo]=\\\"comissao\\\"\\r\\n              [countFrom]=\\\"0\\\"\\r\\n              [duration]=\\\"3\\\"\\r\\n              (countoChange)=\\\"countoComissao = $event\\\"\\r\\n              [hidden]=\\\"comissao == 0 || !comissaoLoaded\\\">\\r\\n              {{ countoComissao | currency:'BRL':'symbol':'1.2-2' }}\\r\\n            </span>\\r\\n          </h6>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" *ngIf=\\\"user.idVendedor !== null\\\">\\r\\n      <div class=\\\"col\\\" *ngIf=\\\"!metasEmpty\\\">\\r\\n        <div class=\\\"mtc-title mb-0\\\">Seu progresso após o faturamento dessa cotação:</div>\\r\\n        <div class=\\\"row justify-content-center\\\">\\r\\n          <div class=\\\"col\\\">\\r\\n            <comercial-templates-mapa-metas\\r\\n              [idVendedor]=\\\"user.idVendedor\\\"\\r\\n              [idEscritorio]=\\\"user.idEscritorio\\\"\\r\\n              [showHeader]=\\\"false\\\"\\r\\n              loaderStyle=\\\"tiny\\\"\\r\\n              (onData)=\\\"onData($event)\\\">\\r\\n            </comercial-templates-mapa-metas>\\r\\n            <div id=\\\"progress-bar-mapa-metas\\\" class=\\\"row\\\" *ngIf=\\\"metasLoaded\\\">\\r\\n              <div class=\\\"col-lg-4\\\">\\r\\n                <comercial-ciclo-vendas-cotacoes-formulario-template-progress-bar\\r\\n                  [metaAtual]=\\\"metasProgresso.toneladas.valor\\\"\\r\\n                  [somaCotacao]=\\\"metasProgresso.toneladas.progresso\\\">\\r\\n                </comercial-ciclo-vendas-cotacoes-formulario-template-progress-bar>\\r\\n              </div>\\r\\n              <div class=\\\"col-lg-4\\\">\\r\\n                <comercial-ciclo-vendas-cotacoes-formulario-template-progress-bar\\r\\n                  [metaAtual]=\\\"metasProgresso.clientes.valor\\\"\\r\\n                  [somaCotacao]=\\\"metasProgresso.clientes.progresso\\\">\\r\\n                </comercial-ciclo-vendas-cotacoes-formulario-template-progress-bar>\\r\\n              </div>\\r\\n              <div class=\\\"col-lg-4\\\">\\r\\n                <comercial-ciclo-vendas-cotacoes-formulario-template-progress-bar\\r\\n                  [metaAtual]=\\\"metasProgresso.extras.valor\\\"\\r\\n                  [somaCotacao]=\\\"metasProgresso.extras.progresso\\\">\\r\\n                </comercial-ciclo-vendas-cotacoes-formulario-template-progress-bar>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"col\\\" *ngIf=\\\"metasEmpty\\\">\\r\\n        <span class=\\\"mtc-title mb-0 mr-2\\\">ATENÇÃO:</span>\\r\\n        <span>Não foi possível localizar seu mapa de metas deste mês.</span>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";","import { ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesComponent } from './modal/detalhes/cliente.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalSelecionarComponent } from './modal/selecionar/selecionar.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalSelecionarService } from './modal/selecionar/selecionar.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesService } from './modal/detalhes/cliente.service';\r\nimport { ComercialCicloVendasCotacoesFormularioModule } from './../../cotacoes/formulario/formulario.module';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoService } from './modal/finalizacao/finalizacao.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoService } from './modal/historico-exclusao/historico-exclusao.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoService } from './modal/material/calculo/calculo.service';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPerdidaComponent } from './modal/finalizacao/perdida/perdida.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPadraoComponent } from './modal/finalizacao/padrao/padrao.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoComponent } from './modal/historico-exclusao/historico-exclusao.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoComponent } from './modal/material/calculo/calculo.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioCarrinhoComponent } from './carrinho/carrinho.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioMateriaisListaComponent } from './materiais/lista/lista.component';\r\nimport { ComercialCicloVendasPedidosProducaoTelasFormularioComponent } from './formulario.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\n\r\n// ngx-bootstrap\r\nimport { PopoverModule } from 'ngx-bootstrap/popover';\r\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\r\nimport { ModalModule, BsModalRef } from 'ngx-bootstrap/modal';\r\nimport { CarouselModule } from 'ngx-bootstrap/carousel';\r\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\r\nimport { TabsModule } from 'ngx-bootstrap/tabs';\r\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\r\n\r\n// ng-select\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\n// ng2-currency-mask\r\nimport { CurrencyMaskModule } from 'ng2-currency-mask';\r\n\r\n// ng-brazil\r\nimport { TextMaskModule } from 'angular2-text-mask';\r\nimport { NgBrazil } from 'ng-brazil';\r\n\r\n// angular2-counto\r\nimport { CountoModule } from 'angular2-counto';\r\n\r\n// Modules\r\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\r\nimport { TemplatesModule } from 'src/app/shared/templates/templates.module';\r\nimport { ComercialTemplatesModule } from '../../../templates/templates.module';\r\n\r\n// Components\r\n\r\n// Services\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioMateriaisListaComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioCarrinhoComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPadraoComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoPerdidaComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalSelecionarComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    RouterModule,\r\n    PopoverModule.forRoot(),\r\n    BsDropdownModule.forRoot(),\r\n    ModalModule.forRoot(),\r\n    CarouselModule.forRoot(),\r\n    TooltipModule.forRoot(),\r\n    TabsModule.forRoot(),\r\n    BsDatepickerModule.forRoot(),\r\n    NgSelectModule,\r\n    CurrencyMaskModule,\r\n    TextMaskModule,\r\n    //NgBrazil,\r\n    CountoModule,\r\n    ReactiveFormsModule,\r\n    SharedModule,\r\n    TemplatesModule,\r\n    ComercialTemplatesModule,\r\n    ComercialCicloVendasCotacoesFormularioModule,\r\n  ],\r\n  providers: [\r\n    BsModalRef,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoService,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoService,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalFinalizacaoService,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesService,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalSelecionarService,\r\n  ],\r\n  entryComponents: [\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalMaterialCalculoComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalSelecionarComponent,\r\n    ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesComponent,\r\n  ],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29tZXJjaWFsL2NpY2xvLXZlbmRhcy9wZWRpZG9zLXByb2R1Y2FvLXRlbGFzL2Zvcm11bGFyaW8vZm9ybXVsYXJpby5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n// ngx-bootstrap\r\nimport { BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\n@Component({\r\n  selector: 'comercial-cliclo-vendas-pedidos-producao-telas-formulario-modal-detalhes',\r\n  templateUrl: './cliente.component.html',\r\n  styleUrls: ['./cliente.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalDetalhesComponent\r\n  implements OnInit {\r\n  @Input('cliente') cliente: any;\r\n\r\n  constructor(private bsModalRef: BsModalRef) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  onClose(): void {\r\n    this.bsModalRef.hide();\r\n  }\r\n}\r\n","import { ComercialCicloVendasCotacoesFormularioModalMaterialEstoqueService } from './../../../../cotacoes/formulario/modal/material/estoque/estoque.service';\r\nimport { ComercialCicloVendasCotacoesFormularioService } from './../../../../cotacoes/formulario/formulario.service';\r\nimport { ComercialCicloVendasCotacoesService } from './../../../../cotacoes/cotacoes.service';\r\nimport { IMateriaisModel } from './../../../../cotacoes/formulario/models/materiais';\r\nimport { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  Validators,\r\n  AbstractControl,\r\n} from '@angular/forms';\r\nimport { Subscription } from 'rxjs';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n// Services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { ComercialService } from 'src/app/modules/comercial/comercial.service';\r\n\r\n// Interfaces\r\nimport { Subtitles } from 'src/app/shared/modules/subtitles/subtitles';\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\nimport { JsonResponse } from 'src/app/models/json-response';\r\n\r\n@Component({\r\n  selector: 'comercial-ciclo-vendas-pedidos-producao-telas-formulario-materiais-lista',\r\n  templateUrl: './lista.component.html',\r\n  styleUrls: ['./lista.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioMateriaisListaComponent\r\n  implements OnInit {\r\n  @Input('codEmpresa') codEmpresa: number;\r\n  @Input('codDeposito') codDeposito: number;\r\n  @Input('codCliente') codCliente: number;\r\n  @Input('codEndereco') codEndereco: number;\r\n  @Input('codFormaPagamento') codFormaPagamento: number;\r\n\r\n  @Output('loaderNavbar') loaderNavbar: EventEmitter<\r\n    boolean\r\n  > = new EventEmitter();\r\n  @Output('loaderFullScreen') loaderFullScreen: EventEmitter<\r\n    boolean\r\n  > = new EventEmitter();\r\n  @Output('scrollToCarrinho') scrollToCarrinho: EventEmitter<\r\n    boolean\r\n  > = new EventEmitter();\r\n  @Output('scrollToFormOnTop') scrollToFormOnTop: EventEmitter<\r\n    boolean\r\n  > = new EventEmitter();\r\n\r\n  showApp = false;\r\n\r\n  subtitles: Array<Subtitles> = [\r\n    {\r\n      id: 1,\r\n      text: 'Disponível em estoque',\r\n      color: 'green',\r\n    },\r\n    {\r\n      id: 2,\r\n      text: 'Indisponível em estoque',\r\n      color: 'red',\r\n    },\r\n  ];\r\n\r\n  tableConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: true,\r\n    fixedHeader: false,\r\n    bodyHeight: 230,\r\n    select: false,\r\n  };\r\n\r\n  activatedRouteSubscription: Subscription;\r\n\r\n  searching = false;\r\n  searchParams: any = {};\r\n\r\n  form: FormGroup;\r\n  orderBy = 'nrPedido';\r\n  orderType = 'desc';\r\n\r\n  linhas: Array<any> = [];\r\n  classes: Array<any> = [];\r\n  filteredClasses: Array<any> = [];\r\n  materiais: Array<any> = [];\r\n  materiaisLoader: boolean;\r\n\r\n  autoScroll = true;\r\n\r\n  firstSearch = false;\r\n\r\n  dados: Array<IMateriaisModel> = [];\r\n  dadosLoaded = false;\r\n  dadosEmpty = false;\r\n\r\n  toggleAll = false;\r\n  activeRow: number;\r\n\r\n  clickCounter = 0;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private location: Location,\r\n    private formBuilder: FormBuilder,\r\n    private pnotifyService: PNotifyService,\r\n    private cotacoesService: ComercialCicloVendasCotacoesService,\r\n    private formularioService: ComercialCicloVendasCotacoesFormularioService,\r\n    private comercialService: ComercialService,\r\n    private estoqueService: ComercialCicloVendasCotacoesFormularioModalMaterialEstoqueService\r\n  ) {\r\n    this.pnotifyService.getPNotify();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getFilterValues();\r\n  }\r\n\r\n  getFilterValues(): void {\r\n    this.loaderFullScreen.emit(true);\r\n\r\n    this.cotacoesService\r\n      .getCotacaoFilterValues()\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderFullScreen.emit(false);\r\n          this.setFormFilter();\r\n          this.showApp = true;\r\n        })\r\n      )\r\n      .subscribe((response: any) => {\r\n        if (response[0].responseCode === 200) {\r\n          this.linhas = response[0].result;\r\n          this.linhas =  this.linhas.filter(\r\n            (value: any) => value.descricao == 'CERCAS'\r\n          );\r\n        } else {\r\n          this.pnotifyService.error();\r\n          this.location.back();\r\n        }\r\n\r\n        if (response[1].responseCode === 200) {\r\n          this.classes = response[1].result;\r\n        } else {\r\n          this.pnotifyService.error();\r\n          this.location.back();\r\n        }\r\n      });\r\n  }\r\n\r\n  onChangeLinha(codLinha: number, reset: boolean) {\r\n    if (reset) {\r\n      this.form.controls.codClasse.reset();\r\n      this.form.controls.codClasse.setValue(0);\r\n\r\n      this.form.controls.codMaterial.reset();\r\n      this.form.controls.codMaterial.disable();\r\n      this.form.controls.codMaterial.setValue(null);\r\n      this.form.controls.codMaterial.updateValueAndValidity();\r\n    }\r\n\r\n    this.form.controls.codClasse.enable();\r\n    this.form.controls.codClasse.setValidators([Validators.required]);\r\n    this.form.controls.codClasse.updateValueAndValidity();\r\n\r\n    this.filteredClasses = this.classes.filter(\r\n      (value: any) => value.idLinha == codLinha\r\n    );\r\n\r\n    this.filteredClasses.unshift({\r\n      idClasse: 0,\r\n      nomeClasse: 'EXIBIR TODOS',\r\n    });\r\n  }\r\n\r\n  onChangeClasse(codClasse: number, reset: boolean, src: string) {\r\n    if (reset) {\r\n      this.form.controls.codMaterial.reset();\r\n\r\n      if (this.form.value.codClasse === 0) {\r\n        this.form.controls.codMaterial.reset();\r\n        this.form.controls.codMaterial.disable();\r\n        this.form.controls.codMaterial.setValue(null);\r\n        this.form.controls.codMaterial.updateValueAndValidity();\r\n      } else {\r\n        this.getMateriais(codClasse, src);\r\n      }\r\n    } else {\r\n      if (this.form.value.codClasse !== 0) {\r\n        this.getMateriais(codClasse, src);\r\n      }\r\n    }\r\n  }\r\n\r\n  getMateriais(codClasse: number, src: string): void {\r\n    if (typeof codClasse !== 'undefined' && codClasse !== null) {\r\n      if (src === 'application') {\r\n        this.loaderNavbar.emit(true);\r\n      }\r\n      this.materiaisLoader = true;\r\n      this.materiais = [];\r\n\r\n      const params = {\r\n        codClasse: codClasse,\r\n        // tipoMaterial: 'Distribuidora',\r\n        comercializa: 0,\r\n      };\r\n\r\n      this.comercialService\r\n        .getMateriais(params)\r\n        .pipe(\r\n          finalize(() => {\r\n            if (src === 'application') {\r\n              this.loaderNavbar.emit(false);\r\n            }\r\n            this.materiaisLoader = false;\r\n          })\r\n        )\r\n        .subscribe({\r\n          next: (response: JsonResponse) => {\r\n            if (\r\n              response.hasOwnProperty('success') &&\r\n              response.success === true\r\n            ) {\r\n              this.materiais = response.data;\r\n\r\n              this.materiais.unshift({\r\n                codigoMaterial: 0,\r\n                codigoDescricaoMaterial: 'EXIBIR TODOS',\r\n              });\r\n\r\n              this.form.controls.codMaterial.enable();\r\n              this.form.controls.codMaterial.setValue(0);\r\n              this.form.controls.codMaterial.updateValueAndValidity();\r\n            } else if (\r\n              response.hasOwnProperty('success') &&\r\n              response.success === false &&\r\n              response.hasOwnProperty('mensagem')\r\n            ) {\r\n              this.pnotifyService.error(response.mensagem);\r\n            } else {\r\n              this.pnotifyService.error();\r\n            }\r\n          },\r\n          error: (error: any) => {\r\n            if (error['error'].hasOwnProperty('mensagem')) {\r\n              this.pnotifyService.error(error.error.mensagem);\r\n            } else {\r\n              this.pnotifyService.error();\r\n            }\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  setFormFilter(): void {\r\n    const formValue: any = this.checkRouterParams();\r\n\r\n    this.form = this.formBuilder.group({\r\n      codLinha: [formValue.codLinha, [Validators.required]],\r\n      codClasse: [\r\n        {\r\n          value: formValue.codClasse,\r\n          disabled: formValue.codLinha === null ? true : false,\r\n        },\r\n      ],\r\n      codMaterial: [\r\n        {\r\n          value: formValue.codMaterial,\r\n          disabled: formValue.codMaterial === null ? true : false,\r\n        },\r\n      ],\r\n      comEstoque: [formValue.comEstoque, [Validators.required]],\r\n      registros: [formValue.registros],\r\n    });\r\n\r\n    this.checkValuesLinhaClasse();\r\n  }\r\n\r\n  checkRouterParams(): Object {\r\n    let formValue = {\r\n      codLinha: this.linhas[0]['id'],\r\n      codClasse: 0,\r\n      codMaterial: null,\r\n      comEstoque: 1,\r\n      registros: 100,\r\n    };\r\n\r\n    this.activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\r\n      (queryParams: any) => {\r\n        if (Object.keys(queryParams).length > 0) {\r\n          if (queryParams.q) {\r\n            let params = atob(queryParams.q);\r\n            params = JSON.parse(params);\r\n            this.search(params);\r\n\r\n            Object.keys(formValue).forEach((formKey) => {\r\n              Object.keys(params).forEach((paramKey) => {\r\n                if (\r\n                  formKey == paramKey &&\r\n                  formValue[formKey] != params[paramKey]\r\n                ) {\r\n                  if (!isNaN(Number(params[paramKey]))) {\r\n                    formValue[formKey] = Number(params[paramKey]);\r\n                  } else {\r\n                    formValue[formKey] = params[paramKey];\r\n                  }\r\n                }\r\n              });\r\n            });\r\n          }\r\n        }\r\n      }\r\n    );\r\n    this.activatedRouteSubscription.unsubscribe();\r\n\r\n    return formValue;\r\n  }\r\n\r\n  checkValuesLinhaClasse(): void {\r\n    if (this.form.value.codLinha !== '' && this.form.value.codLinha !== null) {\r\n      this.onChangeLinha(this.form.value.codLinha, false);\r\n    }\r\n\r\n    if (\r\n      this.form.value.codClasse !== '' &&\r\n      this.form.value.codClasse !== null\r\n    ) {\r\n      this.onChangeClasse(this.form.value.codClasse, false, 'verify');\r\n    }\r\n  }\r\n\r\n  onFieldError(field: string): string {\r\n    if (this.onFieldInvalid(field)) {\r\n      return 'is-invalid';\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any): boolean {\r\n    field = this.form.get(field);\r\n\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onFieldRequired(\r\n    abstractControl: AbstractControl,\r\n    abstractControlField?: string\r\n  ): string {\r\n    if (abstractControl.validator) {\r\n      const validator = abstractControl.validator({} as AbstractControl);\r\n      if (validator && validator.required) {\r\n        return 'is-required';\r\n      }\r\n    }\r\n\r\n    if (abstractControlField) {\r\n      for (const controlName in abstractControl['controls']) {\r\n        if (abstractControl['controls'][controlName]) {\r\n          if (\r\n            this.onFieldRequired(abstractControl['controls'][controlName]) &&\r\n            controlName == abstractControlField\r\n          ) {\r\n            return 'is-required';\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  setOrderBy(column: string) {\r\n    if (this.orderBy === column) {\r\n      if (this.orderType == 'desc') {\r\n        this.orderType = 'asc';\r\n      } else if (this.orderType == 'asc') {\r\n        this.orderType = 'desc';\r\n      }\r\n    } else {\r\n      this.orderBy = column;\r\n      this.orderType = 'asc';\r\n    }\r\n    this.onFilter();\r\n  }\r\n\r\n  onFilter(): void {\r\n    if (this.codEmpresa !== null && this.codDeposito !== null) {\r\n      if (this.searching === false && this.form.valid) {\r\n        this.setRouterParams(this.getFormFilterValues());\r\n      }\r\n    } else {\r\n      this.scrollToFormOnTop.emit(true);\r\n    }\r\n  }\r\n\r\n  setRouterParams(params: any): void {\r\n    this.router.navigate([], {\r\n      relativeTo: this.activatedRoute,\r\n      queryParams: {\r\n        f: btoa(\r\n          JSON.stringify({\r\n            codEmpresa: this.codEmpresa,\r\n            codDeposito: this.codDeposito,\r\n            codCliente: this.codCliente,\r\n          })\r\n        ),\r\n        q: btoa(JSON.stringify(params)),\r\n      },\r\n      queryParamsHandling: 'merge',\r\n    });\r\n    this.search(params);\r\n  }\r\n\r\n  getFormFilterValues(): Object {\r\n    let params: any = {};\r\n\r\n    if (this.form.value.codLinha) {\r\n      params.codLinha = this.form.value.codLinha;\r\n    }\r\n\r\n    if (this.form.value.codClasse && this.form.value.codClasse !== 0) {\r\n      params.codClasse = this.form.value.codClasse;\r\n    }\r\n\r\n    if (this.form.value.codMaterial && this.form.value.codMaterial !== 0) {\r\n      params.codMaterial = this.form.value.codMaterial;\r\n    }\r\n\r\n    if (this.codEmpresa) {\r\n      params.codEmpresa = this.codEmpresa;\r\n    }\r\n\r\n    //if (this.codDeposito) {\r\n      params.codDeposito = 18;\r\n    //}\r\n\r\n    if (this.codCliente) {\r\n      params.codCliente = this.codCliente;\r\n    }\r\n\r\n    if (this.form.value.comEstoque) {\r\n      params.comEstoque = this.form.value.comEstoque;\r\n    }\r\n\r\n    if (this.form.value.registros) {\r\n      params.registros = this.form.value.registros;\r\n    }\r\n\r\n    if(this.codEndereco){\r\n      params.codEndereco = this.codEndereco;\r\n    }\r\n\r\n    if(this.codFormaPagamento){\r\n      params.codFormaPagamento = this.codFormaPagamento;\r\n    }\r\n\r\n    params.orderBy = this.orderBy;\r\n    params.orderType = this.orderType;\r\n\r\n    return params;\r\n  }\r\n\r\n  search(params: any): void {\r\n    this.loaderNavbar.emit(true);\r\n    this.searching = true;\r\n    this.searchParams = params;\r\n    this.dados = [];\r\n    this.dadosLoaded = false;\r\n    this.dadosEmpty = false;\r\n    const _params = {...params,\r\n      situacao: 'A'\r\n    }\r\n    this.cotacoesService\r\n      .getMateriais(_params)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loaderNavbar.emit(false);\r\n          this.searching = false;\r\n          this.firstSearch = true;\r\n          this.dadosLoaded = true;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: (response: JsonResponse) => {\r\n          if (response.hasOwnProperty('success') && response.success === true) {\r\n            this.dados = response.data.map(function (el: any) {\r\n              var o = Object.assign({}, el);\r\n              o.checked = 0;\r\n              return o;\r\n            });\r\n\r\n            if (this.dados.length > 10) {\r\n              this.tableConfig.fixedHeader = true;\r\n            } else {\r\n              this.tableConfig.fixedHeader = false;\r\n            }\r\n          } else {\r\n            this.dadosEmpty = true;\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          if (error['error'].hasOwnProperty('mensagem')) {\r\n            this.pnotifyService.error(error.error.mensagem);\r\n          } else {\r\n            this.pnotifyService.error();\r\n          }\r\n          this.dadosEmpty = true;\r\n        }\r\n      });\r\n  }\r\n\r\n  classStatusBorder(disponibilidade: number): string {\r\n    let borderClass: string;\r\n\r\n    if (disponibilidade == 1) {\r\n      borderClass = 'border-success';\r\n    } else if (disponibilidade == 2) {\r\n      borderClass = 'border-danger';\r\n    } else {\r\n      borderClass = 'border-secondary';\r\n    }\r\n\r\n    return borderClass;\r\n  }\r\n\r\n  columSize(key: string): string {\r\n    let size: number;\r\n\r\n    switch (key) {\r\n      case 'disponibilidade':\r\n        size = 5;\r\n        break;\r\n      case 'codMaterial':\r\n        size = 10;\r\n        break;\r\n      case 'nomeMaterial':\r\n        size = 30;\r\n        break;\r\n      case 'nomeLinha':\r\n        size = 12;\r\n        break;\r\n      case 'nomeDeposito':\r\n        size = 13;\r\n        break;\r\n      case 'estoqueDisponivel':\r\n        size = 10;\r\n        break;\r\n      case 'estoqueAtual':\r\n        size = 10;\r\n        break;\r\n      case 'buttons':\r\n        size = 10;\r\n        break;\r\n    }\r\n\r\n    return `${size}%`;\r\n  }\r\n\r\n  onToggleAll() {\r\n    this.toggleAll = !this.toggleAll;\r\n\r\n    for (let index = 0; index < this.dados.length; index++) {\r\n      if (this.dados[index].codSituacao == \"A\") {\r\n        this.dados[index].checked = this.toggleAll === true ? 1 : 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  onClickMaterial(index: number, material: IMateriaisModel) {\r\n    this.clickCounter++;\r\n\r\n    setTimeout(() => {\r\n      if (this.clickCounter === 1) {\r\n        this.onCheckMaterial(index, material);\r\n      } else if (this.clickCounter === 2) {\r\n        this.onDoubleClickMaterial(index);\r\n      }\r\n\r\n      this.clickCounter = 0;\r\n    }, 250);\r\n  }\r\n\r\n  onDoubleClickMaterial(index: number): void {\r\n    if (this.dados[index].codSituacao == \"A\") {\r\n      let materiais = [];\r\n      materiais.push(this.dados[index]);\r\n      this.formularioService.materiaisSubject.next(materiais);\r\n      this.scrollToCarrinho.emit(this.autoScroll);\r\n      this.dados[index].checked = 0;\r\n    } else {\r\n      this.pnotifyService.notice('Material inativo, favor entrar em contato com o Marketing');\r\n    }\r\n  }\r\n\r\n  onCheckMaterial(index: number, material: IMateriaisModel): void {\r\n    if(this.dados[index].codSituacao == \"A\") {\r\n      this.dados[index].checked = material.checked == 0 ? 1 : 0;\r\n    }else {\r\n      this.pnotifyService.notice('Material inativo, favor entrar em contato com o Marketing');\r\n    }\r\n\r\n  }\r\n\r\n  onAddMaterial(): void {\r\n    let materiais = [];\r\n\r\n\r\n\r\n    for (let index = 0; index < this.dados.length; index++) {\r\n      if (this.dados[index].checked == 1) {\r\n        materiais.push(this.dados[index]);\r\n\r\n        this.dados[index].checked = 0;\r\n      }\r\n    }\r\n\r\n    if (materiais.length > 0) {\r\n      this.formularioService.materiaisSubject.next(materiais);\r\n      this.toggleAll = this.toggleAll === true ? false : this.toggleAll;\r\n      this.scrollToCarrinho.emit(this.autoScroll);\r\n    } else {\r\n      this.pnotifyService.notice('Selecione ao menos um material.');\r\n    }\r\n  }\r\n\r\n  onActiveRow(index: number): void {\r\n    this.activeRow = index;\r\n  }\r\n\r\n  onChangeDeposito(event: any): void {\r\n    /* this.dados[event.index].codDeposito = event.deposito.codDeposito;\r\n    this.dados[event.index].nomeDeposito = event.deposito.nomeDeposito;\r\n    this.dados[event.index].quantidade = event.deposito.quantidade; */\r\n    // Validar o que vai fazer aqui.\r\n    /* this.form.controls.codDeposito.setValue(event.deposito.codDeposito);\r\n    this.onFilter(); */\r\n  }\r\n\r\n  onEstoqueDetalhes(material: IMateriaisModel): void {\r\n    if (material.disponibilidade === 1) {\r\n      this.estoqueService.showModal({\r\n        pesquisa: {\r\n          deposito: material.codDeposito,\r\n          // @ts-ignore: Ignorar error TS2339\r\n          codMaterial: material.id_material,\r\n          estoqueDisponivel: this.form.value.comEstoque,\r\n        },\r\n        material: material,\r\n      });\r\n    } else {\r\n      this.pnotifyService.notice('Material sem estoque');\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n// ngx-bootstrap\r\nimport { BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\n// Interfaces\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\n\r\n@Component({\r\n  selector:\r\n    'comercial-ciclo-vendas-pedidos-producao-telas-formulario-modal-historico-exclusao',\r\n  templateUrl: './historico-exclusao.component.html',\r\n  styleUrls: ['./historico-exclusao.component.scss'],\r\n})\r\nexport class ComercialCicloVendasPedidosProducaoTelasFormularioModalHistoricoExclusaoComponent\r\n  implements OnInit {\r\n  @Input('exclusoes') exclusoes: Array<any>;\r\n\r\n  tableConfig: Partial<CustomTableConfig>;\r\n\r\n  activeRow: number = null;\r\n\r\n  selectedItem: any;\r\n\r\n  constructor(private bsModalRef: BsModalRef) {}\r\n\r\n  ngOnInit(): void {\r\n    this.checkTableConfig();\r\n    this.onShowDescricao(0, this.exclusoes[0]);\r\n  }\r\n\r\n  onClose(): void {\r\n    this.bsModalRef.hide();\r\n  }\r\n\r\n  checkTableConfig(): void {\r\n    if (this.exclusoes.length > 10) {\r\n      this.tableConfig.fixedHeader = true;\r\n      this.tableConfig.bodyHeight = 200;\r\n    }\r\n  }\r\n\r\n  onShowDescricao(index: number, item: any): void {\r\n    if (this.activeRow !== index) {\r\n      this.activeRow = index;\r\n      this.selectedItem = item;\r\n    }\r\n  }\r\n}\r\n"]}