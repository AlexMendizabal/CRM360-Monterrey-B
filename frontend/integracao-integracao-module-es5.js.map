{"version":3,"sources":["webpack:///src/app/modules/logistica/integracao/integracao.module.ts","webpack:///src/app/modules/logistica/integracao/tms/notas-fiscais/notas-fiscais.component.ts","webpack:///src/app/modules/logistica/integracao/integracao-routing.module.ts","webpack:///src/app/modules/logistica/integracao/tms/services/notas-fiscais.service.ts","webpack:///src/app/modules/logistica/integracao/tms/notas-fiscais/notas-fiscais.component.html","webpack:///src/app/modules/logistica/integracao/tms/notas-fiscais/notas-fiscais.component.scss"],"names":["LogisticaIntegracaoModule","declarations","imports","forRoot","LogisticaIntegracaoTMSNotasFiscaisComponent","formBuilder","pnotify","dateService","localeService","route","activatedRoute","modalService","atividadesService","routerService","tmsService","appTitle","loading","loaderNavbar","showAdvancedFilter","isDisabled","totalItems","itemsPerPage","currentPage","qtItensIntegrados","qtItensComErro","qtItensNaoIntegrados","items","tableConfig","subtitleBorder","orderBy","orderType","form","group","ID_LOGI_SENI_INTE_TID_NOTA_FISC","NM_ARQU","LOCA_ARQU","NR_NOTA_FISC","NR_CHAV_ACES","IN_IMPO","DT_INIC","Date","DT_FINA","PAGI","TT_REGI_PAGI","ORDE_BY","ORDE_TYPE","TIME","getTime","use","bsConfig","Object","assign","containerClass","adaptivePosition","showWeekNumbers","config","backdrop","animated","setBreadCrumb","registraAcesso","onActivatedRoute","$activatedRouteSubscription","unsubscribe","registrarAcesso","subscribe","queryParams","response","keys","length","patchValue","getBase64UrlParams","getNotasFiscais","getParams","breadCrumbTree","descricao","get","setValue","onFilter","navigate","relativeTo","setBase64UrlParams","queryParamsHandling","event","page","_params","_obj","value","prop","convertToUrlDate","reset","field","onFieldInvalid","status","touched","required","formControl","controls","validator","validationResult","params","getNotasFiscaisTID","pipe","body","getDadosIntegracao","notice","error","item","column","onSearch","selector","template","routes","path","component","LogisticaIntegracaoRoutingModule","forChild","exports","LogisticaIntegracoesTMSService","http","API","observe","providedIn"],"mappings":"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","file":"integracao-integracao-module-es5.js","sourcesContent":["//angular\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n//components\r\nimport { LogisticaIntegracaoTMSNotasFiscaisComponent } from './tms/notas-fiscais/notas-fiscais.component';\r\n\r\n//modules\r\nimport { PipesModule } from 'src/app/shared/pipes/pipes.module';\r\nimport { LogisticaIntegracaoRoutingModule } from './integracao-routing.module';\r\nimport { NotFoundModule } from 'src/app/core/not-found/not-found.module';\r\n\r\n//ng-select\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\n//ngx\r\nimport { ModalModule, BsDatepickerModule, TimepickerModule, TabsModule, TooltipModule, PaginationModule } from 'ngx-bootstrap';\r\nimport { TemplatesModule } from 'src/app/shared/templates/templates.module';\r\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [LogisticaIntegracaoTMSNotasFiscaisComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgSelectModule,\r\n    PaginationModule.forRoot(),\r\n    TooltipModule.forRoot(),\r\n    TabsModule.forRoot(),\r\n    TimepickerModule.forRoot(),\r\n    BsDatepickerModule.forRoot(),\r\n    ModalModule.forRoot(),\r\n    PipesModule,\r\n    LogisticaIntegracaoRoutingModule,\r\n    NotFoundModule,\r\n    SharedModule,\r\n    TemplatesModule\r\n  ]\r\n})\r\nexport class LogisticaIntegracaoModule { }\r\n","// angular\r\nimport { Component, OnInit, ViewChild, ElementRef, TemplateRef, OnDestroy } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators, FormControl } from '@angular/forms';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n\r\n// services\r\nimport { PNotifyService } from 'src/app/shared/services/core/pnotify.service';\r\nimport { AtividadesService } from 'src/app/shared/services/requests/atividades.service';\r\nimport { DateService } from 'src/app/shared/services/core/date.service';\r\nimport { RouterService } from 'src/app/shared/services/core/router.service';\r\n\r\n// rxjs\r\nimport { finalize, delay } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n\r\n// ngx\r\nimport { BsLocaleService, BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\r\nimport { PageChangedEvent, BsModalService, BsModalRef } from 'ngx-bootstrap';\r\n\r\n// models\r\nimport { Breadcrumb } from 'src/app/shared/modules/breadcrumb/breadcrumb';\r\nimport { LogisticaIntegracoesTMSService } from '../services/notas-fiscais.service';\r\nimport { ILogisticaIntegracoesTMSTIDNotaFiscal } from '../models/logisticaIntegracoesTMSTIDNotaFiscal';\r\nimport { CustomTableConfig } from 'src/app/shared/templates/custom-table/models/config';\r\n\r\n@Component({\r\n  selector: 'logistica-integracoes-tms-tid-notas-fiscais',\r\n  templateUrl: './notas-fiscais.component.html',\r\n  styleUrls: ['./notas-fiscais.component.scss']\r\n})\r\nexport class LogisticaIntegracaoTMSNotasFiscaisComponent implements OnInit, OnDestroy {\r\n\r\n  appTitle = 'Monitor de Integrações';\r\n\r\n  form: FormGroup;\r\n\r\n  loading = true;\r\n  loaderNavbar = false;\r\n  showAdvancedFilter = true;\r\n\r\n  isDisabled = true;\r\n\r\n  breadCrumbTree: Array<Breadcrumb>;\r\n\r\n  totalItems = 0;\r\n  itemsPerPage = 100;\r\n  currentPage = 1;\r\n\r\n  $activatedRouteSubscription: Subscription;\r\n\r\n  qtItensIntegrados = 0;\r\n  qtItensComErro = 0;\r\n  qtItensNaoIntegrados = 0;\r\n\r\n  items: Array<any> = [];\r\n\r\n  bsConfig: Partial<BsDatepickerConfig>;\r\n  tableConfig: Partial<CustomTableConfig> = {\r\n    subtitleBorder: true\r\n  };\r\n\r\n  orderBy = 'NR_NOTA_FISC';\r\n  orderType = 'DESC';\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private pnotify: PNotifyService,\r\n    private dateService: DateService,\r\n    private localeService: BsLocaleService,\r\n    private route: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private modalService: BsModalService,\r\n    private atividadesService: AtividadesService,\r\n    private routerService: RouterService,\r\n    private tmsService: LogisticaIntegracoesTMSService\r\n  ) {\r\n\r\n    this.form = this.formBuilder.group({\r\n      ID_LOGI_SENI_INTE_TID_NOTA_FISC: [null],\r\n      NM_ARQU: [null],\r\n      LOCA_ARQU: [null],\r\n      NR_NOTA_FISC: [null],\r\n      NR_CHAV_ACES: [null],\r\n      IN_IMPO: [null],\r\n      DT_INIC: [new Date()],\r\n      DT_FINA: [new Date()],\r\n      PAGI: 1,\r\n      TT_REGI_PAGI: [100],\r\n      ORDE_BY: [this.orderBy],\r\n      ORDE_TYPE: [this.orderType],\r\n      TIME: [new Date().getTime()],\r\n    });\r\n\r\n    this.localeService.use('pt-br');\r\n    this.bsConfig = Object.assign(\r\n      {},\r\n      { containerClass: 'theme-dark-blue' },\r\n      { adaptivePosition: true },\r\n      { showWeekNumbers: false }\r\n    );\r\n\r\n    this.modalService.config = {\r\n      backdrop: 'static',\r\n      animated: false\r\n    };\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setBreadCrumb();\r\n    this.registraAcesso();\r\n    this.onActivatedRoute();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.$activatedRouteSubscription.unsubscribe();\r\n  }\r\n\r\n  registraAcesso() {\r\n    this.atividadesService.registrarAcesso().subscribe();\r\n  }\r\n\r\n  onActivatedRoute() {\r\n    this.$activatedRouteSubscription = this.activatedRoute.queryParams\r\n      .subscribe(\r\n        (response) => {\r\n\r\n          if (Object.keys(response).length > 0)\r\n            this.form.patchValue(this.routerService.getBase64UrlParams(response));\r\n\r\n          this.getNotasFiscais(this.getParams());\r\n        }\r\n      )\r\n  }\r\n\r\n  setBreadCrumb() {\r\n    this.breadCrumbTree = [\r\n      {\r\n        descricao: 'Home'\r\n      },\r\n      {\r\n        descricao: this.appTitle\r\n      }\r\n    ];\r\n  }\r\n\r\n  onSearch() {\r\n    this.form.get(\"PAGI\").setValue(1);\r\n    this.onFilter();\r\n  }\r\n\r\n  onFilter() {\r\n    this.form.get(\"TIME\").setValue((new Date()).getTime());\r\n\r\n    this.route.navigate([], {\r\n      relativeTo: this.activatedRoute,\r\n      queryParams: this.routerService.setBase64UrlParams(this.getParams()),\r\n      queryParamsHandling: 'merge'\r\n    });\r\n  }\r\n\r\n  /* Paginação */\r\n  onPageChanged(event: PageChangedEvent): void {\r\n    this.form.get(\"PAGI\").setValue(event.page);\r\n    this.onFilter();\r\n  }\r\n  /* Paginação */\r\n\r\n\r\n  getParams() {\r\n\r\n    let _params = {};\r\n    let _obj = this.form.value;\r\n\r\n    for (let prop in _obj) {\r\n      if (_obj[prop]) {\r\n        if (_obj[prop] instanceof Date)\r\n          _params[prop] = this.dateService.convertToUrlDate(_obj[prop])\r\n        else\r\n          _params[prop] = _obj[prop]\r\n      }\r\n    }\r\n\r\n    return _params;\r\n\r\n  }\r\n\r\n  onResetForm() {\r\n    this.form.reset();\r\n  }\r\n\r\n  // Validação de formulário\r\n  onFieldError(field: string) {\r\n    if (this.onFieldInvalid(field)) {\r\n      return 'is-invalid';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  onFieldInvalid(field: any) {\r\n    field = this.form.get(field);\r\n    return field.status == 'INVALID' && field.touched;\r\n  }\r\n\r\n  onFieldRequired(field: string) {\r\n    let required = false;\r\n    let formControl = new FormControl();\r\n\r\n    if (this.form.controls[field].validator) {\r\n      let validationResult = this.form.controls[field].validator(formControl);\r\n      required =\r\n        validationResult !== null && validationResult.required === true;\r\n    }\r\n\r\n    if (required) {\r\n      return 'is-required';\r\n    }\r\n  }\r\n  // Validação de formulário\r\n\r\n  getNotasFiscais(params?) {\r\n\r\n    if (!this.loading) this.loaderNavbar = true\r\n\r\n    this.tmsService\r\n      .getNotasFiscaisTID(params)\r\n      .pipe(\r\n        delay(1000),\r\n        finalize(() => {\r\n          this.loading = false;\r\n          this.loaderNavbar = false;\r\n        })\r\n\r\n      )\r\n      .subscribe(\r\n        response => {\r\n          if (response.status === 200) {\r\n            this.items = response.body['data']['registros'];\r\n            this.totalItems = response.body['data']['qtRegistros'];\r\n            this.getDadosIntegracao();\r\n          } else {\r\n            this.items = [];\r\n            this.pnotify.notice(\"Nenhum registro localizado.\");\r\n          }\r\n        },\r\n        error => {\r\n          this.pnotify.error()\r\n        }\r\n      )\r\n  }\r\n\r\n  getDadosIntegracao() {\r\n    this.qtItensIntegrados = this.items[0]['TT_REGI_INTE'];\r\n    this.qtItensNaoIntegrados = this.items[0]['TT_REGI_NAO_INTE'];\r\n  }\r\n\r\n  getBorder(item: ILogisticaIntegracoesTMSTIDNotaFiscal) {\r\n    if (item.IN_IMPO == '1')\r\n      return 'border-success';\r\n\r\n    return 'border-warning';\r\n  }\r\n\r\n  setOrderBy(column: string): void {\r\n\r\n    if (this.orderBy === column) {\r\n      if (this.orderType == 'DESC') {\r\n        this.orderType = 'ASC';\r\n      } else if (this.orderType == 'ASC') {\r\n        this.orderType = 'DESC';\r\n      }\r\n    } else {\r\n      this.orderBy = column;\r\n      this.orderType = 'ASC';\r\n    }\r\n\r\n    this.form.get(\"ORDE_BY\").setValue(this.orderBy);\r\n    this.form.get(\"ORDE_TYPE\").setValue(this.orderType);\r\n\r\n    this.onSearch();\r\n  }\r\n\r\n  setItemsPerPage() {\r\n    this.itemsPerPage = this.form.get(\"TT_REGI_PAGI\").value;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { NotFoundComponent } from 'src/app/core/not-found/not-found.component';\r\nimport { LogisticaIntegracaoTMSNotasFiscaisComponent } from './tms/notas-fiscais/notas-fiscais.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'tms/tid/notas-fiscais',\r\n    component: LogisticaIntegracaoTMSNotasFiscaisComponent\r\n  },\r\n  {\r\n    path: '**',\r\n    component: NotFoundComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LogisticaIntegracaoRoutingModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LogisticaIntegracoesTMSService {\r\n\r\n  private API = environment.API;\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  getNotasFiscaisTID(params?) {\r\n    return this.http.get(`${this.API}/logistica/integracoes/senior/tms/tid/notas-fiscais`, {\r\n      params: params,\r\n      observe: \"response\"\r\n    })\r\n  }\r\n}\r\n","export default \"<loader-spinner-full-screen [hidden]=\\\"!loading\\\"></loader-spinner-full-screen>\\r\\n<loader-spinner-navbar [hidden]=\\\"!loaderNavbar\\\"></loader-spinner-navbar>\\r\\n<app-header [appTitle]=\\\"appTitle\\\">\\r\\n    <button\\r\\n    type=\\\"button\\\"\\r\\n    (click) = \\\"onResetForm()\\\"\\r\\n    >\\r\\n    Limpar\\r\\n  </button>\\r\\n  <button\\r\\n    [disabled]=\\\"form.status == 'INVALID'\\\"\\r\\n    type=\\\"button\\\"\\r\\n    (click) = \\\"onSearch()\\\"\\r\\n    >\\r\\n    Filtrar\\r\\n  </button>\\r\\n</app-header>\\r\\n<app-body [breadCrumbTree]=\\\"breadCrumbTree\\\">\\r\\n  <advanced-filter>\\r\\n    <form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col\\\">\\r\\n          <label for=\\\"DT_INIC\\\">Data Inicial</label>\\r\\n          <div class=\\\"input-group\\\">\\r\\n            <div class=\\\"input-group-prepend\\\">\\r\\n              <span class=\\\"input-group-text\\\"><i class=\\\"far fa-calendar-alt\\\"></i></span>\\r\\n            </div>\\r\\n            <input\\r\\n              class=\\\"form-control\\\"\\r\\n              id=\\\"DT_INIC\\\"\\r\\n              type=\\\"text\\\"\\r\\n              bsDatepicker\\r\\n              placeholder=\\\"SELECIONE...\\\"\\r\\n              [bsConfig]=\\\"bsConfig\\\"\\r\\n              formControlName=\\\"DT_INIC\\\">\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col\\\">\\r\\n          <label for=\\\"DT_FINA\\\">Data Final</label>\\r\\n          <div class=\\\"input-group\\\">\\r\\n            <div class=\\\"input-group-prepend\\\">\\r\\n              <span class=\\\"input-group-text\\\"><i class=\\\"far fa-calendar-alt\\\"></i></span>\\r\\n            </div>\\r\\n            <input\\r\\n              class=\\\"form-control\\\"\\r\\n              id=\\\"DT_FINA\\\"\\r\\n              type=\\\"text\\\"\\r\\n              bsDatepicker\\r\\n              placeholder=\\\"SELECIONE...\\\"\\r\\n              [bsConfig]=\\\"bsConfig\\\"\\r\\n              formControlName=\\\"DT_FINA\\\">\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col\\\">\\r\\n          <label for=\\\"NR_NOTA_FISC\\\">Nota Fiscal</label>\\r\\n          <div class=\\\"input-group\\\">\\r\\n            <div class=\\\"input-group-prepend\\\">\\r\\n              <span class=\\\"input-group-text\\\"><i class=\\\"far fa-file-alt\\\"></i></span>\\r\\n            </div>\\r\\n            <input\\r\\n              class=\\\"form-control\\\"\\r\\n              id=\\\"NR_NOTA_FISC\\\"\\r\\n              type=\\\"text\\\"\\r\\n              formControlName=\\\"NR_NOTA_FISC\\\"\\r\\n              placeholder=\\\"Digite...\\\"\\r\\n              (keyup.enter)=\\\"onSearch()\\\"\\r\\n              >\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col\\\">\\r\\n          <label for=\\\"NR_CHAV_ACES\\\">Chave de Acesso</label>\\r\\n          <input\\r\\n              class=\\\"form-control\\\"\\r\\n              id=\\\"NR_CHAV_ACES\\\"\\r\\n              type=\\\"text\\\"\\r\\n              formControlName=\\\"NR_CHAV_ACES\\\"\\r\\n              placeholder=\\\"Digite...\\\"\\r\\n              (keyup.enter)=\\\"onSearch()\\\"\\r\\n              >\\r\\n        </div>\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label for=\\\"IN_IMPO\\\">STATUS</label>\\r\\n          <select \\r\\n            class=\\\"form-control custom-select\\\"\\r\\n            formControlName=\\\"IN_IMPO\\\"\\r\\n            >\\r\\n            <option value=\\\"\\\">TODOS</option>\\r\\n            <option value=\\\"1\\\">IMPORTADOS</option>\\r\\n            <option value=\\\"0\\\">NÃO IMPORTADOS</option>\\r\\n          </select>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-1\\\">\\r\\n          <label for=\\\"TT_REGI_PAGI\\\">REGISTROS</label>\\r\\n          <select \\r\\n            class=\\\"form-control custom-select\\\"\\r\\n            formControlName=\\\"TT_REGI_PAGI\\\"\\r\\n            (onchange)=\\\"setItemsPerPage()\\\"\\r\\n            >\\r\\n            <option value=\\\"10\\\">10</option>\\r\\n            <option value=\\\"25\\\">25</option>\\r\\n            <option value=\\\"50\\\">50</option>\\r\\n            <option value=\\\"100\\\">100</option>\\r\\n            <option value=\\\"250\\\">250</option>\\r\\n            <option value=\\\"500\\\">500</option>\\r\\n          </select>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </advanced-filter>\\r\\n  <div [hidden]=\\\"loading || items.length == 0\\\">\\r\\n    <table class=\\\"table table-sm table-hover border-left border-right border-bottom text-center table-fixed\\\" style=\\\"width: 40%\\\">\\r\\n      <tbody>\\r\\n        <tr>\\r\\n          <td><i class=\\\"fas fa-circle text-success\\\"></i></td>\\r\\n          <td>Integrado</td>\\r\\n          <td>{{ qtItensIntegrados }}</td>\\r\\n          <td>{{ qtItensIntegrados / totalItems | percent : '1.0-0'}}</td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td><i class=\\\"fas fa-circle text-warning\\\"></i></td>\\r\\n          <td>Não integrado</td>\\r\\n          <td>{{ qtItensNaoIntegrados }}</td>\\r\\n          <td>{{ qtItensNaoIntegrados / totalItems | percent : '1.0-0'}}</td>\\r\\n        </tr>\\r\\n      </tbody>\\r\\n    </table>\\r\\n    <div class=\\\"d-flex\\\">\\r\\n      <div class=\\\"col p-0\\\">\\r\\n        <custom-table [config]=\\\"tableConfig\\\">\\r\\n          <ng-template #thead let-thead>\\r\\n            <tr>\\r\\n              <th scope=\\\"col\\\" class=\\\"text-center\\\">\\r\\n                <thead-sorter\\r\\n                  value=\\\"Nota Fiscal\\\"\\r\\n                  [active]=\\\"orderBy == 'NR_NOTA_FISC'\\\"\\r\\n                  [sort]=\\\"orderType\\\"\\r\\n                  (click)=\\\"setOrderBy('NR_NOTA_FISC')\\\">\\r\\n                </thead-sorter>\\r\\n              </th>\\r\\n              <th scope=\\\"col\\\">\\r\\n                <thead-sorter\\r\\n                  value=\\\"Chave de acesso\\\"\\r\\n                  [active]=\\\"orderBy == 'NR_CHAV_ACES'\\\"\\r\\n                  [sort]=\\\"orderType\\\"\\r\\n                  (click)=\\\"setOrderBy('NR_CHAV_ACES')\\\">\\r\\n                </thead-sorter>\\r\\n              </th>\\r\\n              <th scope=\\\"col\\\">\\r\\n                <thead-sorter\\r\\n                  value=\\\"Empresa\\\"\\r\\n                  [active]=\\\"orderBy == 'NM_EMPR'\\\"\\r\\n                  [sort]=\\\"orderType\\\"\\r\\n                  (click)=\\\"setOrderBy('NM_EMPR')\\\">\\r\\n                </thead-sorter>\\r\\n              </th>\\r\\n              <th scope=\\\"col\\\" class=\\\"text-center\\\">\\r\\n                <thead-sorter\\r\\n                  value=\\\"Importação para o TMS\\\"\\r\\n                  [active]=\\\"orderBy == 'DT_IMPO'\\\"\\r\\n                  [sort]=\\\"orderType\\\"\\r\\n                  (click)=\\\"setOrderBy('DT_IMPO')\\\">\\r\\n                </thead-sorter>\\r\\n              </th>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n          <ng-template #tbody let-tbody>\\r\\n            <tr *ngFor=\\\"let item of items ; let indice = index\\\" >\\r\\n              <td [ngClass]=\\\"getBorder(item)\\\" class=\\\"align-middle text-center\\\">{{ item?.NR_NOTA_FISC }}</td>\\r\\n              <td>{{ item.NR_CHAV_ACES }}</td>\\r\\n              <td>{{ item.NM_EMPR }}</td>\\r\\n              <td class=\\\"text-center\\\">\\r\\n                <span *ngIf=\\\"!item.DT_IMPO\\\">-</span>\\r\\n                <span *ngIf=\\\"item.DT_IMPO\\\">{{ item.DT_IMPO  | date : 'dd/MM/yyyy HH:mm:ss'  }}</span>\\r\\n              </td>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n        </custom-table>\\r\\n        Exibindo {{ itemsPerPage*(currentPage - 1) + 1 }} a {{ currentPage*(itemsPerPage) > totalItems ? totalItems : currentPage*(itemsPerPage) }} de {{ totalItems }}\\r\\n        <pagination\\r\\n          [maxSize]=\\\"10\\\"\\r\\n          [totalItems]=\\\"totalItems\\\"\\r\\n          (pageChanged)=\\\"onPageChanged($event)\\\"\\r\\n          [(itemsPerPage)]=\\\"itemsPerPage\\\"\\r\\n          [boundaryLinks]=\\\"true\\\"\\r\\n          [(ngModel)]=\\\"currentPage\\\"\\r\\n          previousText=\\\"&lsaquo;\\\"\\r\\n          nextText=\\\"&rsaquo;\\\"\\r\\n          firstText=\\\"&laquo;\\\"\\r\\n          lastText=\\\"&raquo;\\\">\\r\\n        </pagination>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div [hidden]=\\\"loading || items.length > 0\\\" class=\\\"d-flex justify-content-center align-items-center\\\" style=\\\"width: 100%; height: 300px\\\">\\r\\n    <empty-result message=\\\"Nenhuma informação encontrada\\\"></empty-result>\\r\\n  </div>\\r\\n</app-body>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvbG9naXN0aWNhL2ludGVncmFjYW8vdG1zL25vdGFzLWZpc2NhaXMvbm90YXMtZmlzY2Fpcy5jb21wb25lbnQuc2NzcyJ9 */\";"]}